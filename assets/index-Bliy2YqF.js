var mX=Object.defineProperty;var fM=t=>{throw TypeError(t)};var gX=(t,e,r)=>e in t?mX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var qi=(t,e,r)=>gX(t,typeof e!="symbol"?e+"":e,r),VN=(t,e,r)=>e.has(t)||fM("Cannot "+r);var Ge=(t,e,r)=>(VN(t,e,"read from private field"),r?r.call(t):e.get(t)),Ur=(t,e,r)=>e.has(t)?fM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),lr=(t,e,r,n)=>(VN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ls=(t,e,r)=>(VN(t,e,"access private method"),r);var Bw=(t,e,r,n)=>({set _(i){lr(t,e,i,r)},get _(){return Ge(t,e,n)}});function yX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zN={exports:{}},dx={},UN={exports:{}},pr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM;function vX(){if(pM)return pr;pM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(ue){return ue===null||typeof ue!="object"?null:(ue=y&&ue[y]||ue["@@iterator"],typeof ue=="function"?ue:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function k(ue,ge,ke){this.props=ue,this.context=ge,this.refs=A,this.updater=ke||N}k.prototype.isReactComponent={},k.prototype.setState=function(ue,ge){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,ge,"setState")},k.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function D(){}D.prototype=k.prototype;function M(ue,ge,ke){this.props=ue,this.context=ge,this.refs=A,this.updater=ke||N}var $=M.prototype=new D;$.constructor=M,C($,k.prototype),$.isPureReactComponent=!0;var L=Array.isArray,U=Object.prototype.hasOwnProperty,K={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function V(ue,ge,ke){var ze,et={},Ke=null,_e=null;if(ge!=null)for(ze in ge.ref!==void 0&&(_e=ge.ref),ge.key!==void 0&&(Ke=""+ge.key),ge)U.call(ge,ze)&&!q.hasOwnProperty(ze)&&(et[ze]=ge[ze]);var Ce=arguments.length-2;if(Ce===1)et.children=ke;else if(1<Ce){for(var Me=Array(Ce),Be=0;Be<Ce;Be++)Me[Be]=arguments[Be+2];et.children=Me}if(ue&&ue.defaultProps)for(ze in Ce=ue.defaultProps,Ce)et[ze]===void 0&&(et[ze]=Ce[ze]);return{$$typeof:t,type:ue,key:Ke,ref:_e,props:et,_owner:K.current}}function Q(ue,ge){return{$$typeof:t,type:ue.type,key:ge,ref:ue.ref,props:ue.props,_owner:ue._owner}}function J(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===t}function ee(ue){var ge={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(ke){return ge[ke]})}var X=/\/+/g;function Y(ue,ge){return typeof ue=="object"&&ue!==null&&ue.key!=null?ee(""+ue.key):ge.toString(36)}function se(ue,ge,ke,ze,et){var Ke=typeof ue;(Ke==="undefined"||Ke==="boolean")&&(ue=null);var _e=!1;if(ue===null)_e=!0;else switch(Ke){case"string":case"number":_e=!0;break;case"object":switch(ue.$$typeof){case t:case e:_e=!0}}if(_e)return _e=ue,et=et(_e),ue=ze===""?"."+Y(_e,0):ze,L(et)?(ke="",ue!=null&&(ke=ue.replace(X,"$&/")+"/"),se(et,ge,ke,"",function(Be){return Be})):et!=null&&(J(et)&&(et=Q(et,ke+(!et.key||_e&&_e.key===et.key?"":(""+et.key).replace(X,"$&/")+"/")+ue)),ge.push(et)),1;if(_e=0,ze=ze===""?".":ze+":",L(ue))for(var Ce=0;Ce<ue.length;Ce++){Ke=ue[Ce];var Me=ze+Y(Ke,Ce);_e+=se(Ke,ge,ke,Me,et)}else if(Me=x(ue),typeof Me=="function")for(ue=Me.call(ue),Ce=0;!(Ke=ue.next()).done;)Ke=Ke.value,Me=ze+Y(Ke,Ce++),_e+=se(Ke,ge,ke,Me,et);else if(Ke==="object")throw ge=String(ue),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return _e}function pe(ue,ge,ke){if(ue==null)return ue;var ze=[],et=0;return se(ue,ze,"","",function(Ke){return ge.call(ke,Ke,et++)}),ze}function ce(ue){if(ue._status===-1){var ge=ue._result;ge=ge(),ge.then(function(ke){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=ke)},function(ke){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=ke)}),ue._status===-1&&(ue._status=0,ue._result=ge)}if(ue._status===1)return ue._result.default;throw ue._result}var me={current:null},he={transition:null},Se={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:he,ReactCurrentOwner:K};function be(){throw Error("act(...) is not supported in production builds of React.")}return pr.Children={map:pe,forEach:function(ue,ge,ke){pe(ue,function(){ge.apply(this,arguments)},ke)},count:function(ue){var ge=0;return pe(ue,function(){ge++}),ge},toArray:function(ue){return pe(ue,function(ge){return ge})||[]},only:function(ue){if(!J(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},pr.Component=k,pr.Fragment=r,pr.Profiler=i,pr.PureComponent=M,pr.StrictMode=n,pr.Suspense=d,pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,pr.act=be,pr.cloneElement=function(ue,ge,ke){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var ze=C({},ue.props),et=ue.key,Ke=ue.ref,_e=ue._owner;if(ge!=null){if(ge.ref!==void 0&&(Ke=ge.ref,_e=K.current),ge.key!==void 0&&(et=""+ge.key),ue.type&&ue.type.defaultProps)var Ce=ue.type.defaultProps;for(Me in ge)U.call(ge,Me)&&!q.hasOwnProperty(Me)&&(ze[Me]=ge[Me]===void 0&&Ce!==void 0?Ce[Me]:ge[Me])}var Me=arguments.length-2;if(Me===1)ze.children=ke;else if(1<Me){Ce=Array(Me);for(var Be=0;Be<Me;Be++)Ce[Be]=arguments[Be+2];ze.children=Ce}return{$$typeof:t,type:ue.type,key:et,ref:Ke,props:ze,_owner:_e}},pr.createContext=function(ue){return ue={$$typeof:o,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:s,_context:ue},ue.Consumer=ue},pr.createElement=V,pr.createFactory=function(ue){var ge=V.bind(null,ue);return ge.type=ue,ge},pr.createRef=function(){return{current:null}},pr.forwardRef=function(ue){return{$$typeof:c,render:ue}},pr.isValidElement=J,pr.lazy=function(ue){return{$$typeof:g,_payload:{_status:-1,_result:ue},_init:ce}},pr.memo=function(ue,ge){return{$$typeof:h,type:ue,compare:ge===void 0?null:ge}},pr.startTransition=function(ue){var ge=he.transition;he.transition={};try{ue()}finally{he.transition=ge}},pr.unstable_act=be,pr.useCallback=function(ue,ge){return me.current.useCallback(ue,ge)},pr.useContext=function(ue){return me.current.useContext(ue)},pr.useDebugValue=function(){},pr.useDeferredValue=function(ue){return me.current.useDeferredValue(ue)},pr.useEffect=function(ue,ge){return me.current.useEffect(ue,ge)},pr.useId=function(){return me.current.useId()},pr.useImperativeHandle=function(ue,ge,ke){return me.current.useImperativeHandle(ue,ge,ke)},pr.useInsertionEffect=function(ue,ge){return me.current.useInsertionEffect(ue,ge)},pr.useLayoutEffect=function(ue,ge){return me.current.useLayoutEffect(ue,ge)},pr.useMemo=function(ue,ge){return me.current.useMemo(ue,ge)},pr.useReducer=function(ue,ge,ke){return me.current.useReducer(ue,ge,ke)},pr.useRef=function(ue){return me.current.useRef(ue)},pr.useState=function(ue){return me.current.useState(ue)},pr.useSyncExternalStore=function(ue,ge,ke){return me.current.useSyncExternalStore(ue,ge,ke)},pr.useTransition=function(){return me.current.useTransition()},pr.version="18.3.1",pr}var mM;function nI(){return mM||(mM=1,UN.exports=vX()),UN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function xX(){if(gM)return dx;gM=1;var t=nI(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,h){var g,y={},x=null,N=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(N=d.ref);for(g in d)n.call(d,g)&&!s.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:x,ref:N,props:y,_owner:i.current}}return dx.Fragment=r,dx.jsx=o,dx.jsxs=o,dx}var yM;function bX(){return yM||(yM=1,zN.exports=xX()),zN.exports}var a=bX(),zw={},qN={exports:{}},Js={},HN={exports:{}},WN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM;function wX(){return vM||(vM=1,function(t){function e(he,Se){var be=he.length;he.push(Se);e:for(;0<be;){var ue=be-1>>>1,ge=he[ue];if(0<i(ge,Se))he[ue]=Se,he[be]=ge,be=ue;else break e}}function r(he){return he.length===0?null:he[0]}function n(he){if(he.length===0)return null;var Se=he[0],be=he.pop();if(be!==Se){he[0]=be;e:for(var ue=0,ge=he.length,ke=ge>>>1;ue<ke;){var ze=2*(ue+1)-1,et=he[ze],Ke=ze+1,_e=he[Ke];if(0>i(et,be))Ke<ge&&0>i(_e,et)?(he[ue]=_e,he[Ke]=be,ue=Ke):(he[ue]=et,he[ze]=be,ue=ze);else if(Ke<ge&&0>i(_e,be))he[ue]=_e,he[Ke]=be,ue=Ke;else break e}}return Se}function i(he,Se){var be=he.sortIndex-Se.sortIndex;return be!==0?be:he.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],g=1,y=null,x=3,N=!1,C=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(he){for(var Se=r(h);Se!==null;){if(Se.callback===null)n(h);else if(Se.startTime<=he)n(h),Se.sortIndex=Se.expirationTime,e(d,Se);else break;Se=r(h)}}function L(he){if(A=!1,$(he),!C)if(r(d)!==null)C=!0,ce(U);else{var Se=r(h);Se!==null&&me(L,Se.startTime-he)}}function U(he,Se){C=!1,A&&(A=!1,D(V),V=-1),N=!0;var be=x;try{for($(Se),y=r(d);y!==null&&(!(y.expirationTime>Se)||he&&!ee());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,x=y.priorityLevel;var ge=ue(y.expirationTime<=Se);Se=t.unstable_now(),typeof ge=="function"?y.callback=ge:y===r(d)&&n(d),$(Se)}else n(d);y=r(d)}if(y!==null)var ke=!0;else{var ze=r(h);ze!==null&&me(L,ze.startTime-Se),ke=!1}return ke}finally{y=null,x=be,N=!1}}var K=!1,q=null,V=-1,Q=5,J=-1;function ee(){return!(t.unstable_now()-J<Q)}function X(){if(q!==null){var he=t.unstable_now();J=he;var Se=!0;try{Se=q(!0,he)}finally{Se?Y():(K=!1,q=null)}}else K=!1}var Y;if(typeof M=="function")Y=function(){M(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,pe=se.port2;se.port1.onmessage=X,Y=function(){pe.postMessage(null)}}else Y=function(){k(X,0)};function ce(he){q=he,K||(K=!0,Y())}function me(he,Se){V=k(function(){he(t.unstable_now())},Se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){C||N||(C=!0,ce(U))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(he){switch(x){case 1:case 2:case 3:var Se=3;break;default:Se=x}var be=x;x=Se;try{return he()}finally{x=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,Se){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var be=x;x=he;try{return Se()}finally{x=be}},t.unstable_scheduleCallback=function(he,Se,be){var ue=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ue+be:ue):be=ue,he){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=be+ge,he={id:g++,callback:Se,priorityLevel:he,startTime:be,expirationTime:ge,sortIndex:-1},be>ue?(he.sortIndex=be,e(h,he),r(d)===null&&he===r(h)&&(A?(D(V),V=-1):A=!0,me(L,be-ue))):(he.sortIndex=ge,e(d,he),C||N||(C=!0,ce(U))),he},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(he){var Se=x;return function(){var be=x;x=Se;try{return he.apply(this,arguments)}finally{x=be}}}}(WN)),WN}var xM;function SX(){return xM||(xM=1,HN.exports=wX()),HN.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM;function _X(){if(bM)return Js;bM=1;var t=nI(),e=SX();function r(u){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+u,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,p){o(u,p),o(u+"Capture",p)}function o(u,p){for(i[u]=p,u=0;u<p.length;u++)n.add(p[u])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(u){return d.call(y,u)?!0:d.call(g,u)?!1:h.test(u)?y[u]=!0:(g[u]=!0,!1)}function N(u,p,w,T){if(w!==null&&w.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return T?!1:w!==null?!w.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function C(u,p,w,T){if(p===null||typeof p>"u"||N(u,p,w,T))return!0;if(T)return!1;if(w!==null)switch(w.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function A(u,p,w,T,B,W,ae){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=T,this.attributeNamespace=B,this.mustUseProperty=w,this.propertyName=u,this.type=p,this.sanitizeURL=W,this.removeEmptyString=ae}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){k[u]=new A(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var p=u[0];k[p]=new A(p,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){k[u]=new A(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){k[u]=new A(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){k[u]=new A(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){k[u]=new A(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){k[u]=new A(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){k[u]=new A(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){k[u]=new A(u,5,!1,u.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function M(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var p=u.replace(D,M);k[p]=new A(p,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var p=u.replace(D,M);k[p]=new A(p,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var p=u.replace(D,M);k[p]=new A(p,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){k[u]=new A(u,1,!1,u.toLowerCase(),null,!1,!1)}),k.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){k[u]=new A(u,1,!1,u.toLowerCase(),null,!0,!0)});function $(u,p,w,T){var B=k.hasOwnProperty(p)?k[p]:null;(B!==null?B.type!==0:T||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(C(p,w,B,T)&&(w=null),T||B===null?x(p)&&(w===null?u.removeAttribute(p):u.setAttribute(p,""+w)):B.mustUseProperty?u[B.propertyName]=w===null?B.type===3?!1:"":w:(p=B.attributeName,T=B.attributeNamespace,w===null?u.removeAttribute(p):(B=B.type,w=B===3||B===4&&w===!0?"":""+w,T?u.setAttributeNS(T,p,w):u.setAttribute(p,w))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),K=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ee=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),he=Symbol.iterator;function Se(u){return u===null||typeof u!="object"?null:(u=he&&u[he]||u["@@iterator"],typeof u=="function"?u:null)}var be=Object.assign,ue;function ge(u){if(ue===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);ue=p&&p[1]||""}return`
`+ue+u}var ke=!1;function ze(u,p){if(!u||ke)return"";ke=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Fe){var T=Fe}Reflect.construct(u,[],p)}else{try{p.call()}catch(Fe){T=Fe}u.call(p.prototype)}else{try{throw Error()}catch(Fe){T=Fe}u()}}catch(Fe){if(Fe&&T&&typeof Fe.stack=="string"){for(var B=Fe.stack.split(`
`),W=T.stack.split(`
`),ae=B.length-1,ye=W.length-1;1<=ae&&0<=ye&&B[ae]!==W[ye];)ye--;for(;1<=ae&&0<=ye;ae--,ye--)if(B[ae]!==W[ye]){if(ae!==1||ye!==1)do if(ae--,ye--,0>ye||B[ae]!==W[ye]){var je=`
`+B[ae].replace(" at new "," at ");return u.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",u.displayName)),je}while(1<=ae&&0<=ye);break}}}finally{ke=!1,Error.prepareStackTrace=w}return(u=u?u.displayName||u.name:"")?ge(u):""}function et(u){switch(u.tag){case 5:return ge(u.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return u=ze(u.type,!1),u;case 11:return u=ze(u.type.render,!1),u;case 1:return u=ze(u.type,!0),u;default:return""}}function Ke(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case q:return"Fragment";case K:return"Portal";case Q:return"Profiler";case V:return"StrictMode";case Y:return"Suspense";case se:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case ee:return(u.displayName||"Context")+".Consumer";case J:return(u._context.displayName||"Context")+".Provider";case X:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case pe:return p=u.displayName||null,p!==null?p:Ke(u.type)||"Memo";case ce:p=u._payload,u=u._init;try{return Ke(u(p))}catch{}}return null}function _e(u){var p=u.type;switch(u.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=p.render,u=u.displayName||u.name||"",p.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ke(p);case 8:return p===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Ce(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Me(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Be(u){var p=Me(u)?"checked":"value",w=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),T=""+u[p];if(!u.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var B=w.get,W=w.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return B.call(this)},set:function(ae){T=""+ae,W.call(this,ae)}}),Object.defineProperty(u,p,{enumerable:w.enumerable}),{getValue:function(){return T},setValue:function(ae){T=""+ae},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function Ue(u){u._valueTracker||(u._valueTracker=Be(u))}function Oe(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var w=p.getValue(),T="";return u&&(T=Me(u)?u.checked?"true":"false":u.value),u=T,u!==w?(p.setValue(u),!0):!1}function Le(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function vt(u,p){var w=p.checked;return be({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??u._wrapperState.initialChecked})}function Ft(u,p){var w=p.defaultValue==null?"":p.defaultValue,T=p.checked!=null?p.checked:p.defaultChecked;w=Ce(p.value!=null?p.value:w),u._wrapperState={initialChecked:T,initialValue:w,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Dt(u,p){p=p.checked,p!=null&&$(u,"checked",p,!1)}function gr(u,p){Dt(u,p);var w=Ce(p.value),T=p.type;if(w!=null)T==="number"?(w===0&&u.value===""||u.value!=w)&&(u.value=""+w):u.value!==""+w&&(u.value=""+w);else if(T==="submit"||T==="reset"){u.removeAttribute("value");return}p.hasOwnProperty("value")?at(u,p.type,w):p.hasOwnProperty("defaultValue")&&at(u,p.type,Ce(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(u.defaultChecked=!!p.defaultChecked)}function Zr(u,p,w){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var T=p.type;if(!(T!=="submit"&&T!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+u._wrapperState.initialValue,w||p===u.value||(u.value=p),u.defaultValue=p}w=u.name,w!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,w!==""&&(u.name=w)}function at(u,p,w){(p!=="number"||Le(u.ownerDocument)!==u)&&(w==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+w&&(u.defaultValue=""+w))}var Pt=Array.isArray;function Wt(u,p,w,T){if(u=u.options,p){p={};for(var B=0;B<w.length;B++)p["$"+w[B]]=!0;for(w=0;w<u.length;w++)B=p.hasOwnProperty("$"+u[w].value),u[w].selected!==B&&(u[w].selected=B),B&&T&&(u[w].defaultSelected=!0)}else{for(w=""+Ce(w),p=null,B=0;B<u.length;B++){if(u[B].value===w){u[B].selected=!0,T&&(u[B].defaultSelected=!0);return}p!==null||u[B].disabled||(p=u[B])}p!==null&&(p.selected=!0)}}function Ir(u,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return be({},p,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Fr(u,p){var w=p.value;if(w==null){if(w=p.children,p=p.defaultValue,w!=null){if(p!=null)throw Error(r(92));if(Pt(w)){if(1<w.length)throw Error(r(93));w=w[0]}p=w}p==null&&(p=""),w=p}u._wrapperState={initialValue:Ce(w)}}function fn(u,p){var w=Ce(p.value),T=Ce(p.defaultValue);w!=null&&(w=""+w,w!==u.value&&(u.value=w),p.defaultValue==null&&u.defaultValue!==w&&(u.defaultValue=w)),T!=null&&(u.defaultValue=""+T)}function Xi(u){var p=u.textContent;p===u._wrapperState.initialValue&&p!==""&&p!==null&&(u.value=p)}function Yt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(u,p){return u==null||u==="http://www.w3.org/1999/xhtml"?Yt(p):u==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Ls,Fs=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,w,T,B){MSApp.execUnsafeLocalFunction(function(){return u(p,w,T,B)})}:u}(function(u,p){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=p;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Ls.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;p.firstChild;)u.appendChild(p.firstChild)}});function ua(u,p){if(p){var w=u.firstChild;if(w&&w===u.lastChild&&w.nodeType===3){w.nodeValue=p;return}}u.textContent=p}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ga=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(u){Ga.forEach(function(p){p=p+u.charAt(0).toUpperCase()+u.substring(1),Wa[p]=Wa[u]})});function $r(u,p,w){return p==null||typeof p=="boolean"||p===""?"":w||typeof p!="number"||p===0||Wa.hasOwnProperty(u)&&Wa[u]?(""+p).trim():p+"px"}function xo(u,p){u=u.style;for(var w in p)if(p.hasOwnProperty(w)){var T=w.indexOf("--")===0,B=$r(w,p[w],T);w==="float"&&(w="cssFloat"),T?u.setProperty(w,B):u[w]=B}}var bo=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qi(u,p){if(p){if(bo[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Ec(u,p){if(u.indexOf("-")===-1)return typeof p.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=null;function vr(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Gt=null,pn=null,Jr=null;function da(u){if(u=wd(u)){if(typeof Gt!="function")throw Error(r(280));var p=u.stateNode;p&&(p=Ss(p),Gt(u.stateNode,u.type,p))}}function $s(u){pn?Jr?Jr.push(u):Jr=[u]:pn=u}function qn(){if(pn){var u=pn,p=Jr;if(Jr=pn=null,da(u),p)for(u=0;u<p.length;u++)da(p[u])}}function wl(u,p){return u(p)}function td(){}var ha=!1;function Br(u,p,w){if(ha)return u(p,w);ha=!0;try{return wl(u,p,w)}finally{ha=!1,(pn!==null||Jr!==null)&&(td(),qn())}}function wn(u,p){var w=u.stateNode;if(w===null)return null;var T=Ss(w);if(T===null)return null;w=T[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(w&&typeof w!="function")throw Error(r(231,p,typeof w));return w}var rd=!1;if(c)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){rd=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{rd=!1}function Tc(u,p,w,T,B,W,ae,ye,je){var Fe=Array.prototype.slice.call(arguments,3);try{p.apply(w,Fe)}catch(Je){this.onError(Je)}}var An=!1,nd=null,fa=!1,sf=null,ov={onError:function(u){An=!0,nd=u}};function Sl(u,p,w,T,B,W,ae,ye,je){An=!1,nd=null,Tc.apply(ov,arguments)}function af(u,p,w,T,B,W,ae,ye,je){if(Sl.apply(this,arguments),An){if(An){var Fe=nd;An=!1,nd=null}else throw Error(r(198));fa||(fa=!0,sf=Fe)}}function pa(u){var p=u,w=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(w=p.return),u=p.return;while(u)}return p.tag===3?w:null}function Cc(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function vs(u){if(pa(u)!==u)throw Error(r(188))}function of(u){var p=u.alternate;if(!p){if(p=pa(u),p===null)throw Error(r(188));return p!==u?null:u}for(var w=u,T=p;;){var B=w.return;if(B===null)break;var W=B.alternate;if(W===null){if(T=B.return,T!==null){w=T;continue}break}if(B.child===W.child){for(W=B.child;W;){if(W===w)return vs(B),u;if(W===T)return vs(B),p;W=W.sibling}throw Error(r(188))}if(w.return!==T.return)w=B,T=W;else{for(var ae=!1,ye=B.child;ye;){if(ye===w){ae=!0,w=B,T=W;break}if(ye===T){ae=!0,T=B,w=W;break}ye=ye.sibling}if(!ae){for(ye=W.child;ye;){if(ye===w){ae=!0,w=W,T=B;break}if(ye===T){ae=!0,T=W,w=B;break}ye=ye.sibling}if(!ae)throw Error(r(189))}}if(w.alternate!==T)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?u:p}function kn(u){return u=of(u),u!==null?Pc(u):null}function Pc(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var p=Pc(u);if(p!==null)return p;u=u.sibling}return null}var id=e.unstable_scheduleCallback,lf=e.unstable_cancelCallback,Yp=e.unstable_shouldYield,lv=e.unstable_requestPaint,Wr=e.unstable_now,Xp=e.unstable_getCurrentPriorityLevel,_l=e.unstable_ImmediatePriority,wo=e.unstable_UserBlockingPriority,Bs=e.unstable_NormalPriority,Ic=e.unstable_LowPriority,Oc=e.unstable_IdlePriority,Rc=null,cr=null;function cf(u){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Rc,u,void 0,(u.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:Zp,uf=Math.log,Qp=Math.LN2;function Zp(u){return u>>>=0,u===0?32:31-(uf(u)/Qp|0)|0}var sd=64,Mc=4194304;function jl(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Dc(u,p){var w=u.pendingLanes;if(w===0)return 0;var T=0,B=u.suspendedLanes,W=u.pingedLanes,ae=w&268435455;if(ae!==0){var ye=ae&~B;ye!==0?T=jl(ye):(W&=ae,W!==0&&(T=jl(W)))}else ae=w&~B,ae!==0?T=jl(ae):W!==0&&(T=jl(W));if(T===0)return 0;if(p!==0&&p!==T&&(p&B)===0&&(B=T&-T,W=p&-p,B>=W||B===16&&(W&4194240)!==0))return p;if((T&4)!==0&&(T|=w&16),p=u.entangledLanes,p!==0)for(u=u.entanglements,p&=T;0<p;)w=31-wi(p),B=1<<w,T|=u[w],p&=~B;return T}function cv(u,p){switch(u){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(u,p){for(var w=u.suspendedLanes,T=u.pingedLanes,B=u.expirationTimes,W=u.pendingLanes;0<W;){var ae=31-wi(W),ye=1<<ae,je=B[ae];je===-1?((ye&w)===0||(ye&T)!==0)&&(B[ae]=cv(ye,p)):je<=p&&(u.expiredLanes|=ye),W&=~ye}}function Si(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Nl(){var u=sd;return sd<<=1,(sd&4194240)===0&&(sd=64),u}function _o(u){for(var p=[],w=0;31>w;w++)p.push(u);return p}function ma(u,p,w){u.pendingLanes|=p,p!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,p=31-wi(p),u[p]=w}function Vr(u,p){var w=u.pendingLanes&~p;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=p,u.mutableReadLanes&=p,u.entangledLanes&=p,p=u.entanglements;var T=u.eventTimes;for(u=u.expirationTimes;0<w;){var B=31-wi(w),W=1<<B;p[B]=0,T[B]=-1,u[B]=-1,w&=~W}}function Hn(u,p){var w=u.entangledLanes|=p;for(u=u.entanglements;w;){var T=31-wi(w),B=1<<T;B&p|u[T]&p&&(u[T]|=p),w&=~B}}var rr=0;function Al(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Jp,ad,od,Lc,em,df=!1,ga=[],ei=null,_i=null,ya=null,va=new Map,Vs=new Map,Ka=[],uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(u,p){switch(u){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":va.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(p.pointerId)}}function Zi(u,p,w,T,B,W){return u===null||u.nativeEvent!==W?(u={blockedOn:p,domEventName:w,eventSystemFlags:T,nativeEvent:W,targetContainers:[B]},p!==null&&(p=wd(p),p!==null&&ad(p)),u):(u.eventSystemFlags|=T,p=u.targetContainers,B!==null&&p.indexOf(B)===-1&&p.push(B),u)}function cd(u,p,w,T,B){switch(p){case"focusin":return ei=Zi(ei,u,p,w,T,B),!0;case"dragenter":return _i=Zi(_i,u,p,w,T,B),!0;case"mouseover":return ya=Zi(ya,u,p,w,T,B),!0;case"pointerover":var W=B.pointerId;return va.set(W,Zi(va.get(W)||null,u,p,w,T,B)),!0;case"gotpointercapture":return W=B.pointerId,Vs.set(W,Zi(Vs.get(W)||null,u,p,w,T,B)),!0}return!1}function hf(u){var p=Qc(u.target);if(p!==null){var w=pa(p);if(w!==null){if(p=w.tag,p===13){if(p=Cc(w),p!==null){u.blockedOn=p,em(u.priority,function(){od(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){u.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}u.blockedOn=null}function ti(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var w=xa(u.domEventName,u.eventSystemFlags,p[0],u.nativeEvent);if(w===null){w=u.nativeEvent;var T=new w.constructor(w.type,w);jt=T,w.target.dispatchEvent(T),jt=null}else return p=wd(w),p!==null&&ad(p),u.blockedOn=w,!1;p.shift()}return!0}function Fc(u,p,w){ti(u)&&w.delete(p)}function kl(){df=!1,ei!==null&&ti(ei)&&(ei=null),_i!==null&&ti(_i)&&(_i=null),ya!==null&&ti(ya)&&(ya=null),va.forEach(Fc),Vs.forEach(Fc)}function xs(u,p){u.blockedOn===p&&(u.blockedOn=null,df||(df=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kl)))}function bs(u){function p(B){return xs(B,u)}if(0<ga.length){xs(ga[0],u);for(var w=1;w<ga.length;w++){var T=ga[w];T.blockedOn===u&&(T.blockedOn=null)}}for(ei!==null&&xs(ei,u),_i!==null&&xs(_i,u),ya!==null&&xs(ya,u),va.forEach(p),Vs.forEach(p),w=0;w<Ka.length;w++)T=Ka[w],T.blockedOn===u&&(T.blockedOn=null);for(;0<Ka.length&&(w=Ka[0],w.blockedOn===null);)hf(w),w.blockedOn===null&&Ka.shift()}var Ya=L.ReactCurrentBatchConfig,jo=!0;function an(u,p,w,T){var B=rr,W=Ya.transition;Ya.transition=null;try{rr=1,ud(u,p,w,T)}finally{rr=B,Ya.transition=W}}function dv(u,p,w,T){var B=rr,W=Ya.transition;Ya.transition=null;try{rr=4,ud(u,p,w,T)}finally{rr=B,Ya.transition=W}}function ud(u,p,w,T){if(jo){var B=xa(u,p,w,T);if(B===null)dm(u,p,T,No,w),ld(u,T);else if(cd(B,u,p,w,T))T.stopPropagation();else if(ld(u,T),p&4&&-1<uv.indexOf(u)){for(;B!==null;){var W=wd(B);if(W!==null&&Jp(W),W=xa(u,p,w,T),W===null&&dm(u,p,T,No,w),W===B)break;B=W}B!==null&&T.stopPropagation()}else dm(u,p,T,null,w)}}var No=null;function xa(u,p,w,T){if(No=null,u=vr(T),u=Qc(u),u!==null)if(p=pa(u),p===null)u=null;else if(w=p.tag,w===13){if(u=Cc(p),u!==null)return u;u=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null);return No=u,null}function ws(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case _l:return 1;case wo:return 4;case Bs:case Ic:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var ji=null,dd=null,Ji=null;function ff(){if(Ji)return Ji;var u,p=dd,w=p.length,T,B="value"in ji?ji.value:ji.textContent,W=B.length;for(u=0;u<w&&p[u]===B[u];u++);var ae=w-u;for(T=1;T<=ae&&p[w-T]===B[W-T];T++);return Ji=B.slice(u,1<T?1-T:void 0)}function $c(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function zr(){return!0}function es(){return!1}function ri(u){function p(w,T,B,W,ae){this._reactName=w,this._targetInst=B,this.type=T,this.nativeEvent=W,this.target=ae,this.currentTarget=null;for(var ye in u)u.hasOwnProperty(ye)&&(w=u[ye],this[ye]=w?w(W):W[ye]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?zr:es,this.isPropagationStopped=es,this}return be(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),p}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bc=ri(ba),ts=be({},ba,{view:0,detail:0}),hv=ri(ts),Ao,Xa,rs,El=be({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==rs&&(rs&&u.type==="mousemove"?(Ao=u.screenX-rs.screenX,Xa=u.screenY-rs.screenY):Xa=Ao=0,rs=u),Ao)},movementY:function(u){return"movementY"in u?u.movementY:Xa}}),hd=ri(El),ko=be({},El,{dataTransfer:0}),pf=ri(ko),Vc=be({},ts,{relatedTarget:0}),Tl=ri(Vc),mf=be({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=ri(mf),tm=be({},ba,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),gf=ri(tm),fd=be({},ba,{data:0}),yf=ri(fd),pd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nm(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=rm[u])?!!p[u]:!1}function zs(){return nm}var j=be({},ts,{key:function(u){if(u.key){var p=pd[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=$c(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Fi[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(u){return u.type==="keypress"?$c(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?$c(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),H=ri(j),te=be({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fe=ri(te),Ee=be({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),$e=ri(Ee),st=be({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Or=ri(st),Wn=be({},El,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),xr=ri(Wn),Mn=[9,13,27,32],Sn=c&&"CompositionEvent"in window,$i=null;c&&"documentMode"in document&&($i=document.documentMode);var Ni=c&&"TextEvent"in window&&!$i,zc=c&&(!Sn||$i&&8<$i&&11>=$i),Uc=" ",vf=!1;function Cl(u,p){switch(u){case"keyup":return Mn.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T0(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Us=!1;function hN(u,p){switch(u){case"compositionend":return T0(p);case"keypress":return p.which!==32?null:(vf=!0,Uc);case"textInput":return u=p.data,u===Uc&&vf?null:u;default:return null}}function md(u,p){if(Us)return u==="compositionend"||!Sn&&Cl(u,p)?(u=ff(),Ji=dd=ji=null,Us=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return zc&&p.locale!=="ko"?null:p.data;default:return null}}var xf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C0(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!xf[u.type]:p==="textarea"}function im(u,p,w,T){$s(T),p=kf(p,"onChange"),0<p.length&&(w=new Bc("onChange","change",null,w,T),u.push({event:w,listeners:p}))}var qc=null,bf=null;function fN(u){Rr(u,0)}function sm(u){var p=Zc(u);if(Oe(p))return u}function am(u,p){if(u==="change")return p}var P0=!1;if(c){var fv;if(c){var pv="oninput"in document;if(!pv){var Eo=document.createElement("div");Eo.setAttribute("oninput","return;"),pv=typeof Eo.oninput=="function"}fv=pv}else fv=!1;P0=fv&&(!document.documentMode||9<document.documentMode)}function I0(){qc&&(qc.detachEvent("onpropertychange",mv),bf=qc=null)}function mv(u){if(u.propertyName==="value"&&sm(bf)){var p=[];im(p,bf,u,vr(u)),Br(fN,p)}}function pN(u,p,w){u==="focusin"?(I0(),qc=p,bf=w,qc.attachEvent("onpropertychange",mv)):u==="focusout"&&I0()}function mN(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return sm(bf)}function om(u,p){if(u==="click")return sm(p)}function gN(u,p){if(u==="input"||u==="change")return sm(p)}function yN(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var qs=typeof Object.is=="function"?Object.is:yN;function wf(u,p){if(qs(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var w=Object.keys(u),T=Object.keys(p);if(w.length!==T.length)return!1;for(T=0;T<w.length;T++){var B=w[T];if(!d.call(p,B)||!qs(u[B],p[B]))return!1}return!0}function Hc(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Pl(u,p){var w=Hc(u);u=0;for(var T;w;){if(w.nodeType===3){if(T=u+w.textContent.length,u<=p&&T>=p)return{node:w,offset:p-u};u=T}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Hc(w)}}function O0(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?O0(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function R0(){for(var u=window,p=Le();p instanceof u.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)u=p.contentWindow;else break;p=Le(u.document)}return p}function gv(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}function vN(u){var p=R0(),w=u.focusedElem,T=u.selectionRange;if(p!==w&&w&&w.ownerDocument&&O0(w.ownerDocument.documentElement,w)){if(T!==null&&gv(w)){if(p=T.start,u=T.end,u===void 0&&(u=p),"selectionStart"in w)w.selectionStart=p,w.selectionEnd=Math.min(u,w.value.length);else if(u=(p=w.ownerDocument||document)&&p.defaultView||window,u.getSelection){u=u.getSelection();var B=w.textContent.length,W=Math.min(T.start,B);T=T.end===void 0?W:Math.min(T.end,B),!u.extend&&W>T&&(B=T,T=W,W=B),B=Pl(w,W);var ae=Pl(w,T);B&&ae&&(u.rangeCount!==1||u.anchorNode!==B.node||u.anchorOffset!==B.offset||u.focusNode!==ae.node||u.focusOffset!==ae.offset)&&(p=p.createRange(),p.setStart(B.node,B.offset),u.removeAllRanges(),W>T?(u.addRange(p),u.extend(ae.node,ae.offset)):(p.setEnd(ae.node,ae.offset),u.addRange(p)))}}for(p=[],u=w;u=u.parentNode;)u.nodeType===1&&p.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<p.length;w++)u=p[w],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var xN=c&&"documentMode"in document&&11>=document.documentMode,To=null,Sf=null,_f=null,gd=!1;function lm(u,p,w){var T=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;gd||To==null||To!==Le(T)||(T=To,"selectionStart"in T&&gv(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),_f&&wf(_f,T)||(_f=T,T=kf(Sf,"onSelect"),0<T.length&&(p=new Bc("onSelect","select",null,p,w),u.push({event:p,listeners:T}),p.target=To)))}function cm(u,p){var w={};return w[u.toLowerCase()]=p.toLowerCase(),w["Webkit"+u]="webkit"+p,w["Moz"+u]="moz"+p,w}var Wc={animationend:cm("Animation","AnimationEnd"),animationiteration:cm("Animation","AnimationIteration"),animationstart:cm("Animation","AnimationStart"),transitionend:cm("Transition","TransitionEnd")},Gc={},M0={};c&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete Wc.animationend.animation,delete Wc.animationiteration.animation,delete Wc.animationstart.animation),"TransitionEvent"in window||delete Wc.transitionend.transition);function Kc(u){if(Gc[u])return Gc[u];if(!Wc[u])return u;var p=Wc[u],w;for(w in p)if(p.hasOwnProperty(w)&&w in M0)return Gc[u]=p[w];return u}var D0=Kc("animationend"),L0=Kc("animationiteration"),Sa=Kc("animationstart"),Yc=Kc("transitionend"),F0=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(u,p){F0.set(u,p),s(p,[u])}for(var jf=0;jf<yv.length;jf++){var vv=yv[jf],bN=vv.toLowerCase(),$0=vv[0].toUpperCase()+vv.slice(1);Il(bN,"on"+$0)}Il(D0,"onAnimationEnd"),Il(L0,"onAnimationIteration"),Il(Sa,"onAnimationStart"),Il("dblclick","onDoubleClick"),Il("focusin","onFocus"),Il("focusout","onBlur"),Il(Yc,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nf));function ns(u,p,w){var T=u.type||"unknown-event";u.currentTarget=w,af(T,p,void 0,u),u.currentTarget=null}function Rr(u,p){p=(p&4)!==0;for(var w=0;w<u.length;w++){var T=u[w],B=T.event;T=T.listeners;e:{var W=void 0;if(p)for(var ae=T.length-1;0<=ae;ae--){var ye=T[ae],je=ye.instance,Fe=ye.currentTarget;if(ye=ye.listener,je!==W&&B.isPropagationStopped())break e;ns(B,ye,Fe),W=je}else for(ae=0;ae<T.length;ae++){if(ye=T[ae],je=ye.instance,Fe=ye.currentTarget,ye=ye.listener,je!==W&&B.isPropagationStopped())break e;ns(B,ye,Fe),W=je}}}if(fa)throw u=sf,fa=!1,sf=null,u}function en(u,p){var w=p[Nv];w===void 0&&(w=p[Nv]=new Set);var T=u+"__bubble";w.has(T)||(tn(p,u,2,!1),w.add(T))}function um(u,p,w){var T=0;p&&(T|=4),tn(w,u,T,p)}var yd="_reactListening"+Math.random().toString(36).slice(2);function Ol(u){if(!u[yd]){u[yd]=!0,n.forEach(function(w){w!=="selectionchange"&&(xv.has(w)||um(w,!1,u),um(w,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[yd]||(p[yd]=!0,um("selectionchange",!1,p))}}function tn(u,p,w,T){switch(ws(p)){case 1:var B=an;break;case 4:B=dv;break;default:B=ud}w=B.bind(null,p,w,u),B=void 0,!rd||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(B=!0),T?B!==void 0?u.addEventListener(p,w,{capture:!0,passive:B}):u.addEventListener(p,w,!0):B!==void 0?u.addEventListener(p,w,{passive:B}):u.addEventListener(p,w,!1)}function dm(u,p,w,T,B){var W=T;if((p&1)===0&&(p&2)===0&&T!==null)e:for(;;){if(T===null)return;var ae=T.tag;if(ae===3||ae===4){var ye=T.stateNode.containerInfo;if(ye===B||ye.nodeType===8&&ye.parentNode===B)break;if(ae===4)for(ae=T.return;ae!==null;){var je=ae.tag;if((je===3||je===4)&&(je=ae.stateNode.containerInfo,je===B||je.nodeType===8&&je.parentNode===B))return;ae=ae.return}for(;ye!==null;){if(ae=Qc(ye),ae===null)return;if(je=ae.tag,je===5||je===6){T=W=ae;continue e}ye=ye.parentNode}}T=T.return}Br(function(){var Fe=W,Je=vr(w),rt=[];e:{var Xe=F0.get(u);if(Xe!==void 0){var ct=Bc,mt=u;switch(u){case"keypress":if($c(w)===0)break e;case"keydown":case"keyup":ct=H;break;case"focusin":mt="focus",ct=Tl;break;case"focusout":mt="blur",ct=Tl;break;case"beforeblur":case"afterblur":ct=Tl;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=$e;break;case D0:case L0:case Sa:ct=wa;break;case Yc:ct=Or;break;case"scroll":ct=hv;break;case"wheel":ct=xr;break;case"copy":case"cut":case"paste":ct=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=fe}var xt=(p&4)!==0,jn=!xt&&u==="scroll",Re=xt?Xe!==null?Xe+"Capture":null:Xe;xt=[];for(var Ae=Fe,De;Ae!==null;){De=Ae;var nt=De.stateNode;if(De.tag===5&&nt!==null&&(De=nt,Re!==null&&(nt=wn(Ae,Re),nt!=null&&xt.push(Af(Ae,nt,De)))),jn)break;Ae=Ae.return}0<xt.length&&(Xe=new ct(Xe,mt,null,w,Je),rt.push({event:Xe,listeners:xt}))}}if((p&7)===0){e:{if(Xe=u==="mouseover"||u==="pointerover",ct=u==="mouseout"||u==="pointerout",Xe&&w!==jt&&(mt=w.relatedTarget||w.fromElement)&&(Qc(mt)||mt[Co]))break e;if((ct||Xe)&&(Xe=Je.window===Je?Je:(Xe=Je.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,ct?(mt=w.relatedTarget||w.toElement,ct=Fe,mt=mt?Qc(mt):null,mt!==null&&(jn=pa(mt),mt!==jn||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(ct=null,mt=Fe),ct!==mt)){if(xt=hd,nt="onMouseLeave",Re="onMouseEnter",Ae="mouse",(u==="pointerout"||u==="pointerover")&&(xt=fe,nt="onPointerLeave",Re="onPointerEnter",Ae="pointer"),jn=ct==null?Xe:Zc(ct),De=mt==null?Xe:Zc(mt),Xe=new xt(nt,Ae+"leave",ct,w,Je),Xe.target=jn,Xe.relatedTarget=De,nt=null,Qc(Je)===Fe&&(xt=new xt(Re,Ae+"enter",mt,w,Je),xt.target=De,xt.relatedTarget=jn,nt=xt),jn=nt,ct&&mt)t:{for(xt=ct,Re=mt,Ae=0,De=xt;De;De=wt(De))Ae++;for(De=0,nt=Re;nt;nt=wt(nt))De++;for(;0<Ae-De;)xt=wt(xt),Ae--;for(;0<De-Ae;)Re=wt(Re),De--;for(;Ae--;){if(xt===Re||Re!==null&&xt===Re.alternate)break t;xt=wt(xt),Re=wt(Re)}xt=null}else xt=null;ct!==null&&bv(rt,Xe,ct,xt,!1),mt!==null&&jn!==null&&bv(rt,jn,mt,xt,!0)}}e:{if(Xe=Fe?Zc(Fe):window,ct=Xe.nodeName&&Xe.nodeName.toLowerCase(),ct==="select"||ct==="input"&&Xe.type==="file")var St=am;else if(C0(Xe))if(P0)St=gN;else{St=mN;var kt=pN}else(ct=Xe.nodeName)&&ct.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(St=om);if(St&&(St=St(u,Fe))){im(rt,St,w,Je);break e}kt&&kt(u,Xe,Fe),u==="focusout"&&(kt=Xe._wrapperState)&&kt.controlled&&Xe.type==="number"&&at(Xe,"number",Xe.value)}switch(kt=Fe?Zc(Fe):window,u){case"focusin":(C0(kt)||kt.contentEditable==="true")&&(To=kt,Sf=Fe,_f=null);break;case"focusout":_f=Sf=To=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,lm(rt,w,Je);break;case"selectionchange":if(xN)break;case"keydown":case"keyup":lm(rt,w,Je)}var Et;if(Sn)e:{switch(u){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Us?Cl(u,w)&&($t="onCompositionEnd"):u==="keydown"&&w.keyCode===229&&($t="onCompositionStart");$t&&(zc&&w.locale!=="ko"&&(Us||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Us&&(Et=ff()):(ji=Je,dd="value"in ji?ji.value:ji.textContent,Us=!0)),kt=kf(Fe,$t),0<kt.length&&($t=new yf($t,u,null,w,Je),rt.push({event:$t,listeners:kt}),Et?$t.data=Et:(Et=T0(w),Et!==null&&($t.data=Et)))),(Et=Ni?hN(u,w):md(u,w))&&(Fe=kf(Fe,"onBeforeInput"),0<Fe.length&&(Je=new yf("onBeforeInput","beforeinput",null,w,Je),rt.push({event:Je,listeners:Fe}),Je.data=Et))}Rr(rt,p)})}function Af(u,p,w){return{instance:u,listener:p,currentTarget:w}}function kf(u,p){for(var w=p+"Capture",T=[];u!==null;){var B=u,W=B.stateNode;B.tag===5&&W!==null&&(B=W,W=wn(u,w),W!=null&&T.unshift(Af(u,W,B)),W=wn(u,p),W!=null&&T.push(Af(u,W,B))),u=u.return}return T}function wt(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function bv(u,p,w,T,B){for(var W=p._reactName,ae=[];w!==null&&w!==T;){var ye=w,je=ye.alternate,Fe=ye.stateNode;if(je!==null&&je===T)break;ye.tag===5&&Fe!==null&&(ye=Fe,B?(je=wn(w,W),je!=null&&ae.unshift(Af(w,je,ye))):B||(je=wn(w,W),je!=null&&ae.push(Af(w,je,ye)))),w=w.return}ae.length!==0&&u.push({event:p,listeners:ae})}var hm=/\r\n?/g,wN=/\u0000|\uFFFD/g;function Ef(u){return(typeof u=="string"?u:""+u).replace(hm,`
`).replace(wN,"")}function qt(u,p,w){if(p=Ef(p),Ef(u)!==p&&w)throw Error(r(425))}function Xc(){}var wv=null,Sv=null;function _v(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var fm=typeof setTimeout=="function"?setTimeout:void 0,vd=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,SN=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(u){return B0.resolve(null).then(u).catch(_N)}:fm;function _N(u){setTimeout(function(){throw u})}function xd(u,p){var w=p,T=0;do{var B=w.nextSibling;if(u.removeChild(w),B&&B.nodeType===8)if(w=B.data,w==="/$"){if(T===0){u.removeChild(B),bs(p);return}T--}else w!=="$"&&w!=="$?"&&w!=="$!"||T++;w=B}while(w);bs(p)}function Rl(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return u}function jv(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var w=u.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return u;p--}else w==="/$"&&p++}u=u.previousSibling}return null}var bd=Math.random().toString(36).slice(2),Qa="__reactFiber$"+bd,Tf="__reactProps$"+bd,Co="__reactContainer$"+bd,Nv="__reactEvents$"+bd,V0="__reactListeners$"+bd,jN="__reactHandles$"+bd;function Qc(u){var p=u[Qa];if(p)return p;for(var w=u.parentNode;w;){if(p=w[Co]||w[Qa]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(u=jv(u);u!==null;){if(w=u[Qa])return w;u=jv(u)}return p}u=w,w=u.parentNode}return null}function wd(u){return u=u[Qa]||u[Co],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Zc(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function Ss(u){return u[Tf]||null}var Av=[],Sd=-1;function Ml(u){return{current:u}}function Kr(u){0>Sd||(u.current=Av[Sd],Av[Sd]=null,Sd--)}function Yr(u,p){Sd++,Av[Sd]=u.current,u.current=p}var Dl={},Gn=Ml(Dl),is=Ml(!1),Ll=Dl;function _d(u,p){var w=u.type.contextTypes;if(!w)return Dl;var T=u.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===p)return T.__reactInternalMemoizedMaskedChildContext;var B={},W;for(W in w)B[W]=p[W];return T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=p,u.__reactInternalMemoizedMaskedChildContext=B),B}function ss(u){return u=u.childContextTypes,u!=null}function Cf(){Kr(is),Kr(Gn)}function z0(u,p,w){if(Gn.current!==Dl)throw Error(r(168));Yr(Gn,p),Yr(is,w)}function U0(u,p,w){var T=u.stateNode;if(p=p.childContextTypes,typeof T.getChildContext!="function")return w;T=T.getChildContext();for(var B in T)if(!(B in p))throw Error(r(108,_e(u)||"Unknown",B));return be({},w,T)}function pm(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Dl,Ll=Gn.current,Yr(Gn,u),Yr(is,is.current),!0}function Jc(u,p,w){var T=u.stateNode;if(!T)throw Error(r(169));w?(u=U0(u,p,Ll),T.__reactInternalMemoizedMergedChildContext=u,Kr(is),Kr(Gn),Yr(Gn,u)):Kr(is),Yr(is,w)}var Za=null,mm=!1,kv=!1;function Ev(u){Za===null?Za=[u]:Za.push(u)}function q0(u){mm=!0,Ev(u)}function Fl(){if(!kv&&Za!==null){kv=!0;var u=0,p=rr;try{var w=Za;for(rr=1;u<w.length;u++){var T=w[u];do T=T(!0);while(T!==null)}Za=null,mm=!1}catch(B){throw Za!==null&&(Za=Za.slice(u+1)),id(_l,Fl),B}finally{rr=p,kv=!1}}return null}var jd=[],Nd=0,Ad=null,gm=0,hi=[],Hs=0,Po=null,Io=1,_a="";function $l(u,p){jd[Nd++]=gm,jd[Nd++]=Ad,Ad=u,gm=p}function H0(u,p,w){hi[Hs++]=Io,hi[Hs++]=_a,hi[Hs++]=Po,Po=u;var T=Io;u=_a;var B=32-wi(T)-1;T&=~(1<<B),w+=1;var W=32-wi(p)+B;if(30<W){var ae=B-B%5;W=(T&(1<<ae)-1).toString(32),T>>=ae,B-=ae,Io=1<<32-wi(p)+B|w<<B|T,_a=W+u}else Io=1<<W|w<<B|T,_a=u}function Tv(u){u.return!==null&&($l(u,1),H0(u,1,0))}function Cv(u){for(;u===Ad;)Ad=jd[--Nd],jd[Nd]=null,gm=jd[--Nd],jd[Nd]=null;for(;u===Po;)Po=hi[--Hs],hi[Hs]=null,_a=hi[--Hs],hi[Hs]=null,Io=hi[--Hs],hi[Hs]=null}var _s=null,js=null,on=!1,as=null;function ym(u,p){var w=Zs(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=u,p=u.deletions,p===null?(u.deletions=[w],u.flags|=16):p.push(w)}function W0(u,p){switch(u.tag){case 5:var w=u.type;return p=p.nodeType!==1||w.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(u.stateNode=p,_s=u,js=Rl(p.firstChild),!0):!1;case 6:return p=u.pendingProps===""||p.nodeType!==3?null:p,p!==null?(u.stateNode=p,_s=u,js=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(w=Po!==null?{id:Io,overflow:_a}:null,u.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=Zs(18,null,null,0),w.stateNode=p,w.return=u,u.child=w,_s=u,js=null,!0):!1;default:return!1}}function Pv(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Iv(u){if(on){var p=js;if(p){var w=p;if(!W0(u,p)){if(Pv(u))throw Error(r(418));p=Rl(w.nextSibling);var T=_s;p&&W0(u,p)?ym(T,w):(u.flags=u.flags&-4097|2,on=!1,_s=u)}}else{if(Pv(u))throw Error(r(418));u.flags=u.flags&-4097|2,on=!1,_s=u}}}function Oo(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;_s=u}function eu(u){if(u!==_s)return!1;if(!on)return Oo(u),on=!0,!1;var p;if((p=u.tag!==3)&&!(p=u.tag!==5)&&(p=u.type,p=p!=="head"&&p!=="body"&&!_v(u.type,u.memoizedProps)),p&&(p=js)){if(Pv(u))throw Ov(),Error(r(418));for(;p;)ym(u,p),p=Rl(p.nextSibling)}if(Oo(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8){var w=u.data;if(w==="/$"){if(p===0){js=Rl(u.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++}u=u.nextSibling}js=null}}else js=_s?Rl(u.stateNode.nextSibling):null;return!0}function Ov(){for(var u=js;u;)u=Rl(u.nextSibling)}function Ns(){js=_s=null,on=!1}function Rv(u){as===null?as=[u]:as.push(u)}var G0=L.ReactCurrentBatchConfig;function Pf(u,p,w){if(u=w.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var T=w.stateNode}if(!T)throw Error(r(147,u));var B=T,W=""+u;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===W?p.ref:(p=function(ae){var ye=B.refs;ae===null?delete ye[W]:ye[W]=ae},p._stringRef=W,p)}if(typeof u!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,u))}return u}function Bl(u,p){throw u=Object.prototype.toString.call(p),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u))}function Ro(u){var p=u._init;return p(u._payload)}function K0(u){function p(Re,Ae){if(u){var De=Re.deletions;De===null?(Re.deletions=[Ae],Re.flags|=16):De.push(Ae)}}function w(Re,Ae){if(!u)return null;for(;Ae!==null;)p(Re,Ae),Ae=Ae.sibling;return null}function T(Re,Ae){for(Re=new Map;Ae!==null;)Ae.key!==null?Re.set(Ae.key,Ae):Re.set(Ae.index,Ae),Ae=Ae.sibling;return Re}function B(Re,Ae){return Re=tc(Re,Ae),Re.index=0,Re.sibling=null,Re}function W(Re,Ae,De){return Re.index=De,u?(De=Re.alternate,De!==null?(De=De.index,De<Ae?(Re.flags|=2,Ae):De):(Re.flags|=2,Ae)):(Re.flags|=1048576,Ae)}function ae(Re){return u&&Re.alternate===null&&(Re.flags|=2),Re}function ye(Re,Ae,De,nt){return Ae===null||Ae.tag!==6?(Ae=Qm(De,Re.mode,nt),Ae.return=Re,Ae):(Ae=B(Ae,De),Ae.return=Re,Ae)}function je(Re,Ae,De,nt){var St=De.type;return St===q?Je(Re,Ae,De.props.children,nt,De.key):Ae!==null&&(Ae.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===ce&&Ro(St)===Ae.type)?(nt=B(Ae,De.props),nt.ref=Pf(Re,Ae,De),nt.return=Re,nt):(nt=Xd(De.type,De.key,De.props,null,Re.mode,nt),nt.ref=Pf(Re,Ae,De),nt.return=Re,nt)}function Fe(Re,Ae,De,nt){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==De.containerInfo||Ae.stateNode.implementation!==De.implementation?(Ae=ax(De,Re.mode,nt),Ae.return=Re,Ae):(Ae=B(Ae,De.children||[]),Ae.return=Re,Ae)}function Je(Re,Ae,De,nt,St){return Ae===null||Ae.tag!==7?(Ae=no(De,Re.mode,nt,St),Ae.return=Re,Ae):(Ae=B(Ae,De),Ae.return=Re,Ae)}function rt(Re,Ae,De){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=Qm(""+Ae,Re.mode,De),Ae.return=Re,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case U:return De=Xd(Ae.type,Ae.key,Ae.props,null,Re.mode,De),De.ref=Pf(Re,null,Ae),De.return=Re,De;case K:return Ae=ax(Ae,Re.mode,De),Ae.return=Re,Ae;case ce:var nt=Ae._init;return rt(Re,nt(Ae._payload),De)}if(Pt(Ae)||Se(Ae))return Ae=no(Ae,Re.mode,De,null),Ae.return=Re,Ae;Bl(Re,Ae)}return null}function Xe(Re,Ae,De,nt){var St=Ae!==null?Ae.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return St!==null?null:ye(Re,Ae,""+De,nt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case U:return De.key===St?je(Re,Ae,De,nt):null;case K:return De.key===St?Fe(Re,Ae,De,nt):null;case ce:return St=De._init,Xe(Re,Ae,St(De._payload),nt)}if(Pt(De)||Se(De))return St!==null?null:Je(Re,Ae,De,nt,null);Bl(Re,De)}return null}function ct(Re,Ae,De,nt,St){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return Re=Re.get(De)||null,ye(Ae,Re,""+nt,St);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case U:return Re=Re.get(nt.key===null?De:nt.key)||null,je(Ae,Re,nt,St);case K:return Re=Re.get(nt.key===null?De:nt.key)||null,Fe(Ae,Re,nt,St);case ce:var kt=nt._init;return ct(Re,Ae,De,kt(nt._payload),St)}if(Pt(nt)||Se(nt))return Re=Re.get(De)||null,Je(Ae,Re,nt,St,null);Bl(Ae,nt)}return null}function mt(Re,Ae,De,nt){for(var St=null,kt=null,Et=Ae,$t=Ae=0,ai=null;Et!==null&&$t<De.length;$t++){Et.index>$t?(ai=Et,Et=null):ai=Et.sibling;var wr=Xe(Re,Et,De[$t],nt);if(wr===null){Et===null&&(Et=ai);break}u&&Et&&wr.alternate===null&&p(Re,Et),Ae=W(wr,Ae,$t),kt===null?St=wr:kt.sibling=wr,kt=wr,Et=ai}if($t===De.length)return w(Re,Et),on&&$l(Re,$t),St;if(Et===null){for(;$t<De.length;$t++)Et=rt(Re,De[$t],nt),Et!==null&&(Ae=W(Et,Ae,$t),kt===null?St=Et:kt.sibling=Et,kt=Et);return on&&$l(Re,$t),St}for(Et=T(Re,Et);$t<De.length;$t++)ai=ct(Et,Re,$t,De[$t],nt),ai!==null&&(u&&ai.alternate!==null&&Et.delete(ai.key===null?$t:ai.key),Ae=W(ai,Ae,$t),kt===null?St=ai:kt.sibling=ai,kt=ai);return u&&Et.forEach(function(rc){return p(Re,rc)}),on&&$l(Re,$t),St}function xt(Re,Ae,De,nt){var St=Se(De);if(typeof St!="function")throw Error(r(150));if(De=St.call(De),De==null)throw Error(r(151));for(var kt=St=null,Et=Ae,$t=Ae=0,ai=null,wr=De.next();Et!==null&&!wr.done;$t++,wr=De.next()){Et.index>$t?(ai=Et,Et=null):ai=Et.sibling;var rc=Xe(Re,Et,wr.value,nt);if(rc===null){Et===null&&(Et=ai);break}u&&Et&&rc.alternate===null&&p(Re,Et),Ae=W(rc,Ae,$t),kt===null?St=rc:kt.sibling=rc,kt=rc,Et=ai}if(wr.done)return w(Re,Et),on&&$l(Re,$t),St;if(Et===null){for(;!wr.done;$t++,wr=De.next())wr=rt(Re,wr.value,nt),wr!==null&&(Ae=W(wr,Ae,$t),kt===null?St=wr:kt.sibling=wr,kt=wr);return on&&$l(Re,$t),St}for(Et=T(Re,Et);!wr.done;$t++,wr=De.next())wr=ct(Et,Re,$t,wr.value,nt),wr!==null&&(u&&wr.alternate!==null&&Et.delete(wr.key===null?$t:wr.key),Ae=W(wr,Ae,$t),kt===null?St=wr:kt.sibling=wr,kt=wr);return u&&Et.forEach(function(BN){return p(Re,BN)}),on&&$l(Re,$t),St}function jn(Re,Ae,De,nt){if(typeof De=="object"&&De!==null&&De.type===q&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case U:e:{for(var St=De.key,kt=Ae;kt!==null;){if(kt.key===St){if(St=De.type,St===q){if(kt.tag===7){w(Re,kt.sibling),Ae=B(kt,De.props.children),Ae.return=Re,Re=Ae;break e}}else if(kt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===ce&&Ro(St)===kt.type){w(Re,kt.sibling),Ae=B(kt,De.props),Ae.ref=Pf(Re,kt,De),Ae.return=Re,Re=Ae;break e}w(Re,kt);break}else p(Re,kt);kt=kt.sibling}De.type===q?(Ae=no(De.props.children,Re.mode,nt,De.key),Ae.return=Re,Re=Ae):(nt=Xd(De.type,De.key,De.props,null,Re.mode,nt),nt.ref=Pf(Re,Ae,De),nt.return=Re,Re=nt)}return ae(Re);case K:e:{for(kt=De.key;Ae!==null;){if(Ae.key===kt)if(Ae.tag===4&&Ae.stateNode.containerInfo===De.containerInfo&&Ae.stateNode.implementation===De.implementation){w(Re,Ae.sibling),Ae=B(Ae,De.children||[]),Ae.return=Re,Re=Ae;break e}else{w(Re,Ae);break}else p(Re,Ae);Ae=Ae.sibling}Ae=ax(De,Re.mode,nt),Ae.return=Re,Re=Ae}return ae(Re);case ce:return kt=De._init,jn(Re,Ae,kt(De._payload),nt)}if(Pt(De))return mt(Re,Ae,De,nt);if(Se(De))return xt(Re,Ae,De,nt);Bl(Re,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,Ae!==null&&Ae.tag===6?(w(Re,Ae.sibling),Ae=B(Ae,De),Ae.return=Re,Re=Ae):(w(Re,Ae),Ae=Qm(De,Re.mode,nt),Ae.return=Re,Re=Ae),ae(Re)):w(Re,Ae)}return jn}var Vl=K0(!0),Y0=K0(!1),vm=Ml(null),Bi=null,kd=null,If=null;function Of(){If=kd=Bi=null}function xm(u){var p=vm.current;Kr(vm),u._currentValue=p}function Ja(u,p,w){for(;u!==null;){var T=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),u===w)break;u=u.return}}function Mo(u,p){Bi=u,If=kd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&p)!==0&&(Cn=!0),u.firstContext=null)}function Vi(u){var p=u._currentValue;if(If!==u)if(u={context:u,memoizedValue:p,next:null},kd===null){if(Bi===null)throw Error(r(308));kd=u,Bi.dependencies={lanes:0,firstContext:u}}else kd=kd.next=u;return p}var tu=null;function Mv(u){tu===null?tu=[u]:tu.push(u)}function ja(u,p,w,T){var B=p.interleaved;return B===null?(w.next=w,Mv(p)):(w.next=B.next,B.next=w),p.interleaved=w,Do(u,T)}function Do(u,p){u.lanes|=p;var w=u.alternate;for(w!==null&&(w.lanes|=p),w=u,u=u.return;u!==null;)u.childLanes|=p,w=u.alternate,w!==null&&(w.childLanes|=p),w=u,u=u.return;return w.tag===3?w.stateNode:null}var Lo=!1;function En(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Fo(u,p){return{eventTime:u,lane:p,tag:0,payload:null,callback:null,next:null}}function $o(u,p,w){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(br&2)!==0){var B=T.pending;return B===null?p.next=p:(p.next=B.next,B.next=p),T.pending=p,Do(u,w)}return B=T.interleaved,B===null?(p.next=p,Mv(T)):(p.next=B.next,B.next=p),T.interleaved=p,Do(u,w)}function Ed(u,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var T=p.lanes;T&=u.pendingLanes,w|=T,p.lanes=w,Hn(u,w)}}function Td(u,p){var w=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,w===T)){var B=null,W=null;if(w=w.firstBaseUpdate,w!==null){do{var ae={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};W===null?B=W=ae:W=W.next=ae,w=w.next}while(w!==null);W===null?B=W=p:W=W.next=p}else B=W=p;w={baseState:T.baseState,firstBaseUpdate:B,lastBaseUpdate:W,shared:T.shared,effects:T.effects},u.updateQueue=w;return}u=w.lastBaseUpdate,u===null?w.firstBaseUpdate=p:u.next=p,w.lastBaseUpdate=p}function zl(u,p,w,T){var B=u.updateQueue;Lo=!1;var W=B.firstBaseUpdate,ae=B.lastBaseUpdate,ye=B.shared.pending;if(ye!==null){B.shared.pending=null;var je=ye,Fe=je.next;je.next=null,ae===null?W=Fe:ae.next=Fe,ae=je;var Je=u.alternate;Je!==null&&(Je=Je.updateQueue,ye=Je.lastBaseUpdate,ye!==ae&&(ye===null?Je.firstBaseUpdate=Fe:ye.next=Fe,Je.lastBaseUpdate=je))}if(W!==null){var rt=B.baseState;ae=0,Je=Fe=je=null,ye=W;do{var Xe=ye.lane,ct=ye.eventTime;if((T&Xe)===Xe){Je!==null&&(Je=Je.next={eventTime:ct,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var mt=u,xt=ye;switch(Xe=p,ct=w,xt.tag){case 1:if(mt=xt.payload,typeof mt=="function"){rt=mt.call(ct,rt,Xe);break e}rt=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=xt.payload,Xe=typeof mt=="function"?mt.call(ct,rt,Xe):mt,Xe==null)break e;rt=be({},rt,Xe);break e;case 2:Lo=!0}}ye.callback!==null&&ye.lane!==0&&(u.flags|=64,Xe=B.effects,Xe===null?B.effects=[ye]:Xe.push(ye))}else ct={eventTime:ct,lane:Xe,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Je===null?(Fe=Je=ct,je=rt):Je=Je.next=ct,ae|=Xe;if(ye=ye.next,ye===null){if(ye=B.shared.pending,ye===null)break;Xe=ye,ye=Xe.next,Xe.next=null,B.lastBaseUpdate=Xe,B.shared.pending=null}}while(!0);if(Je===null&&(je=rt),B.baseState=je,B.firstBaseUpdate=Fe,B.lastBaseUpdate=Je,p=B.shared.interleaved,p!==null){B=p;do ae|=B.lane,B=B.next;while(B!==p)}else W===null&&(B.shared.lanes=0);qo|=ae,u.lanes=ae,u.memoizedState=rt}}function Rf(u,p,w){if(u=p.effects,p.effects=null,u!==null)for(p=0;p<u.length;p++){var T=u[p],B=T.callback;if(B!==null){if(T.callback=null,T=w,typeof B!="function")throw Error(r(191,B));B.call(T)}}}var Mf={},eo=Ml(Mf),Cd=Ml(Mf),Pd=Ml(Mf);function Ul(u){if(u===Mf)throw Error(r(174));return u}function Lv(u,p){switch(Yr(Pd,p),Yr(Cd,u),Yr(eo,Mf),u=p.nodeType,u){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:yr(null,"");break;default:u=u===8?p.parentNode:p,p=u.namespaceURI||null,u=u.tagName,p=yr(p,u)}Kr(eo),Yr(eo,p)}function Id(){Kr(eo),Kr(Cd),Kr(Pd)}function X0(u){Ul(Pd.current);var p=Ul(eo.current),w=yr(p,u.type);p!==w&&(Yr(Cd,u),Yr(eo,w))}function rn(u){Cd.current===u&&(Kr(eo),Kr(Cd))}var ln=Ml(0);function bm(u){for(var p=u;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Od=[];function Fv(){for(var u=0;u<Od.length;u++)Od[u]._workInProgressVersionPrimary=null;Od.length=0}var wm=L.ReactCurrentDispatcher,$v=L.ReactCurrentBatchConfig,Ws=0,mn=null,Tn=null,Kn=null,Df=!1,Rd=!1,Lf=0,Dn=0;function Ai(){throw Error(r(321))}function Bv(u,p){if(p===null)return!1;for(var w=0;w<p.length&&w<u.length;w++)if(!qs(u[w],p[w]))return!1;return!0}function Sm(u,p,w,T,B,W){if(Ws=W,mn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,wm.current=u===null||u.memoizedState===null?AN:kN,u=w(T,B),Rd){W=0;do{if(Rd=!1,Lf=0,25<=W)throw Error(r(301));W+=1,Kn=Tn=null,p.updateQueue=null,wm.current=Hv,u=w(T,B)}while(Rd)}if(wm.current=Em,p=Tn!==null&&Tn.next!==null,Ws=0,Kn=Tn=mn=null,Df=!1,p)throw Error(r(300));return u}function Md(){var u=Lf!==0;return Lf=0,u}function zi(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?mn.memoizedState=Kn=u:Kn=Kn.next=u,Kn}function Gs(){if(Tn===null){var u=mn.alternate;u=u!==null?u.memoizedState:null}else u=Tn.next;var p=Kn===null?mn.memoizedState:Kn.next;if(p!==null)Kn=p,Tn=u;else{if(u===null)throw Error(r(310));Tn=u,u={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Kn===null?mn.memoizedState=Kn=u:Kn=Kn.next=u}return Kn}function Gr(u,p){return typeof p=="function"?p(u):p}function Vv(u){var p=Gs(),w=p.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=u;var T=Tn,B=T.baseQueue,W=w.pending;if(W!==null){if(B!==null){var ae=B.next;B.next=W.next,W.next=ae}T.baseQueue=B=W,w.pending=null}if(B!==null){W=B.next,T=T.baseState;var ye=ae=null,je=null,Fe=W;do{var Je=Fe.lane;if((Ws&Je)===Je)je!==null&&(je=je.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),T=Fe.hasEagerState?Fe.eagerState:u(T,Fe.action);else{var rt={lane:Je,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};je===null?(ye=je=rt,ae=T):je=je.next=rt,mn.lanes|=Je,qo|=Je}Fe=Fe.next}while(Fe!==null&&Fe!==W);je===null?ae=T:je.next=ye,qs(T,p.memoizedState)||(Cn=!0),p.memoizedState=T,p.baseState=ae,p.baseQueue=je,w.lastRenderedState=T}if(u=w.interleaved,u!==null){B=u;do W=B.lane,mn.lanes|=W,qo|=W,B=B.next;while(B!==u)}else B===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function _m(u){var p=Gs(),w=p.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=u;var T=w.dispatch,B=w.pending,W=p.memoizedState;if(B!==null){w.pending=null;var ae=B=B.next;do W=u(W,ae.action),ae=ae.next;while(ae!==B);qs(W,p.memoizedState)||(Cn=!0),p.memoizedState=W,p.baseQueue===null&&(p.baseState=W),w.lastRenderedState=W}return[W,T]}function zv(){}function Uv(u,p){var w=mn,T=Gs(),B=p(),W=!qs(T.memoizedState,B);if(W&&(T.memoizedState=B,Cn=!0),T=T.queue,Am(Dd.bind(null,w,T,u),[u]),T.getSnapshot!==p||W||Kn!==null&&Kn.memoizedState.tag&1){if(w.flags|=2048,Ld(9,Q0.bind(null,w,T,B,p),void 0,null),si===null)throw Error(r(349));(Ws&30)!==0||Ln(w,p,B)}return B}function Ln(u,p,w){u.flags|=16384,u={getSnapshot:p,value:w},p=mn.updateQueue,p===null?(p={lastEffect:null,stores:null},mn.updateQueue=p,p.stores=[u]):(w=p.stores,w===null?p.stores=[u]:w.push(u))}function Q0(u,p,w,T){p.value=w,p.getSnapshot=T,jm(p)&&nn(u)}function Dd(u,p,w){return w(function(){jm(p)&&nn(u)})}function jm(u){var p=u.getSnapshot;u=u.value;try{var w=p();return!qs(u,w)}catch{return!0}}function nn(u){var p=Do(u,1);p!==null&&os(p,u,1,-1)}function Z0(u){var p=zi();return typeof u=="function"&&(u=u()),p.memoizedState=p.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:u},p.queue=u,u=u.dispatch=aw.bind(null,mn,u),[p.memoizedState,u]}function Ld(u,p,w,T){return u={tag:u,create:p,destroy:w,deps:T,next:null},p=mn.updateQueue,p===null?(p={lastEffect:null,stores:null},mn.updateQueue=p,p.lastEffect=u.next=u):(w=p.lastEffect,w===null?p.lastEffect=u.next=u:(T=w.next,w.next=u,u.next=T,p.lastEffect=u)),u}function Ks(){return Gs().memoizedState}function ki(u,p,w,T){var B=zi();mn.flags|=u,B.memoizedState=Ld(1|p,w,void 0,T===void 0?null:T)}function Nm(u,p,w,T){var B=Gs();T=T===void 0?null:T;var W=void 0;if(Tn!==null){var ae=Tn.memoizedState;if(W=ae.destroy,T!==null&&Bv(T,ae.deps)){B.memoizedState=Ld(p,w,W,T);return}}mn.flags|=u,B.memoizedState=Ld(1|p,w,W,T)}function J0(u,p){return ki(8390656,8,u,p)}function Am(u,p){return Nm(2048,8,u,p)}function ew(u,p){return Nm(4,2,u,p)}function qv(u,p){return Nm(4,4,u,p)}function tw(u,p){if(typeof p=="function")return u=u(),p(u),function(){p(null)};if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function rw(u,p,w){return w=w!=null?w.concat([u]):null,Nm(4,4,tw.bind(null,p,u),w)}function Fd(){}function nw(u,p){var w=Gs();p=p===void 0?null:p;var T=w.memoizedState;return T!==null&&p!==null&&Bv(p,T[1])?T[0]:(w.memoizedState=[u,p],u)}function iw(u,p){var w=Gs();p=p===void 0?null:p;var T=w.memoizedState;return T!==null&&p!==null&&Bv(p,T[1])?T[0]:(u=u(),w.memoizedState=[u,p],u)}function km(u,p,w){return(Ws&21)===0?(u.baseState&&(u.baseState=!1,Cn=!0),u.memoizedState=w):(qs(w,p)||(w=Nl(),mn.lanes|=w,qo|=w,u.baseState=!0),p)}function NN(u,p){var w=rr;rr=w!==0&&4>w?w:4,u(!0);var T=$v.transition;$v.transition={};try{u(!1),p()}finally{rr=w,$v.transition=T}}function sw(){return Gs().memoizedState}function Bo(u,p,w){var T=Ho(u);if(w={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null},ql(u))As(p,w);else if(w=ja(u,p,w,T),w!==null){var B=Pi();os(w,u,T,B),ow(w,p,T)}}function aw(u,p,w){var T=Ho(u),B={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null};if(ql(u))As(p,B);else{var W=u.alternate;if(u.lanes===0&&(W===null||W.lanes===0)&&(W=p.lastRenderedReducer,W!==null))try{var ae=p.lastRenderedState,ye=W(ae,w);if(B.hasEagerState=!0,B.eagerState=ye,qs(ye,ae)){var je=p.interleaved;je===null?(B.next=B,Mv(p)):(B.next=je.next,je.next=B),p.interleaved=B;return}}catch{}finally{}w=ja(u,p,B,T),w!==null&&(B=Pi(),os(w,u,T,B),ow(w,p,T))}}function ql(u){var p=u.alternate;return u===mn||p!==null&&p===mn}function As(u,p){Rd=Df=!0;var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}function ow(u,p,w){if((w&4194240)!==0){var T=p.lanes;T&=u.pendingLanes,w|=T,p.lanes=w,Hn(u,w)}}var Em={readContext:Vi,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},AN={readContext:Vi,useCallback:function(u,p){return zi().memoizedState=[u,p===void 0?null:p],u},useContext:Vi,useEffect:J0,useImperativeHandle:function(u,p,w){return w=w!=null?w.concat([u]):null,ki(4194308,4,tw.bind(null,p,u),w)},useLayoutEffect:function(u,p){return ki(4194308,4,u,p)},useInsertionEffect:function(u,p){return ki(4,2,u,p)},useMemo:function(u,p){var w=zi();return p=p===void 0?null:p,u=u(),w.memoizedState=[u,p],u},useReducer:function(u,p,w){var T=zi();return p=w!==void 0?w(p):p,T.memoizedState=T.baseState=p,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:p},T.queue=u,u=u.dispatch=Bo.bind(null,mn,u),[T.memoizedState,u]},useRef:function(u){var p=zi();return u={current:u},p.memoizedState=u},useState:Z0,useDebugValue:Fd,useDeferredValue:function(u){return zi().memoizedState=u},useTransition:function(){var u=Z0(!1),p=u[0];return u=NN.bind(null,u[1]),zi().memoizedState=u,[p,u]},useMutableSource:function(){},useSyncExternalStore:function(u,p,w){var T=mn,B=zi();if(on){if(w===void 0)throw Error(r(407));w=w()}else{if(w=p(),si===null)throw Error(r(349));(Ws&30)!==0||Ln(T,p,w)}B.memoizedState=w;var W={value:w,getSnapshot:p};return B.queue=W,J0(Dd.bind(null,T,W,u),[u]),T.flags|=2048,Ld(9,Q0.bind(null,T,W,w,p),void 0,null),w},useId:function(){var u=zi(),p=si.identifierPrefix;if(on){var w=_a,T=Io;w=(T&~(1<<32-wi(T)-1)).toString(32)+w,p=":"+p+"R"+w,w=Lf++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=Dn++,p=":"+p+"r"+w.toString(32)+":";return u.memoizedState=p},unstable_isNewReconciler:!1},kN={readContext:Vi,useCallback:nw,useContext:Vi,useEffect:Am,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:qv,useMemo:iw,useReducer:Vv,useRef:Ks,useState:function(){return Vv(Gr)},useDebugValue:Fd,useDeferredValue:function(u){var p=Gs();return km(p,Tn.memoizedState,u)},useTransition:function(){var u=Vv(Gr)[0],p=Gs().memoizedState;return[u,p]},useMutableSource:zv,useSyncExternalStore:Uv,useId:sw,unstable_isNewReconciler:!1},Hv={readContext:Vi,useCallback:nw,useContext:Vi,useEffect:Am,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:qv,useMemo:iw,useReducer:_m,useRef:Ks,useState:function(){return _m(Gr)},useDebugValue:Fd,useDeferredValue:function(u){var p=Gs();return Tn===null?p.memoizedState=u:km(p,Tn.memoizedState,u)},useTransition:function(){var u=_m(Gr)[0],p=Gs().memoizedState;return[u,p]},useMutableSource:zv,useSyncExternalStore:Uv,useId:sw,unstable_isNewReconciler:!1};function Ys(u,p){if(u&&u.defaultProps){p=be({},p),u=u.defaultProps;for(var w in u)p[w]===void 0&&(p[w]=u[w]);return p}return p}function Ff(u,p,w,T){p=u.memoizedState,w=w(T,p),w=w==null?p:be({},p,w),u.memoizedState=w,u.lanes===0&&(u.updateQueue.baseState=w)}var Tm={isMounted:function(u){return(u=u._reactInternals)?pa(u)===u:!1},enqueueSetState:function(u,p,w){u=u._reactInternals;var T=Pi(),B=Ho(u),W=Fo(T,B);W.payload=p,w!=null&&(W.callback=w),p=$o(u,W,B),p!==null&&(os(p,u,B,T),Ed(p,u,B))},enqueueReplaceState:function(u,p,w){u=u._reactInternals;var T=Pi(),B=Ho(u),W=Fo(T,B);W.tag=1,W.payload=p,w!=null&&(W.callback=w),p=$o(u,W,B),p!==null&&(os(p,u,B,T),Ed(p,u,B))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var w=Pi(),T=Ho(u),B=Fo(w,T);B.tag=2,p!=null&&(B.callback=p),p=$o(u,B,T),p!==null&&(os(p,u,T,w),Ed(p,u,T))}};function Cm(u,p,w,T,B,W,ae){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,W,ae):p.prototype&&p.prototype.isPureReactComponent?!wf(w,T)||!wf(B,W):!0}function Pm(u,p,w){var T=!1,B=Dl,W=p.contextType;return typeof W=="object"&&W!==null?W=Vi(W):(B=ss(p)?Ll:Gn.current,T=p.contextTypes,W=(T=T!=null)?_d(u,B):Dl),p=new p(w,W),u.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Tm,u.stateNode=p,p._reactInternals=u,T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=B,u.__reactInternalMemoizedMaskedChildContext=W),p}function lw(u,p,w,T){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,T),p.state!==u&&Tm.enqueueReplaceState(p,p.state,null)}function Im(u,p,w,T){var B=u.stateNode;B.props=w,B.state=u.memoizedState,B.refs={},En(u);var W=p.contextType;typeof W=="object"&&W!==null?B.context=Vi(W):(W=ss(p)?Ll:Gn.current,B.context=_d(u,W)),B.state=u.memoizedState,W=p.getDerivedStateFromProps,typeof W=="function"&&(Ff(u,p,W,w),B.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(p=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),p!==B.state&&Tm.enqueueReplaceState(B,B.state,null),zl(u,w,B,T),B.state=u.memoizedState),typeof B.componentDidMount=="function"&&(u.flags|=4194308)}function Xs(u,p){try{var w="",T=p;do w+=et(T),T=T.return;while(T);var B=w}catch(W){B=`
Error generating stack: `+W.message+`
`+W.stack}return{value:u,source:p,stack:B,digest:null}}function ru(u,p,w){return{value:u,source:null,stack:w??null,digest:p??null}}function Om(u,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var EN=typeof WeakMap=="function"?WeakMap:Map;function Wv(u,p,w){w=Fo(-1,w),w.tag=3,w.payload={element:null};var T=p.value;return w.callback=function(){Hm||(Hm=!0,tx=T),Om(u,p)},w}function Rm(u,p,w){w=Fo(-1,w),w.tag=3;var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var B=p.value;w.payload=function(){return T(B)},w.callback=function(){Om(u,p)}}var W=u.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(w.callback=function(){Om(u,p),typeof T!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var ae=p.stack;this.componentDidCatch(p.value,{componentStack:ae!==null?ae:""})}),w}function Mm(u,p,w){var T=u.pingCache;if(T===null){T=u.pingCache=new EN;var B=new Set;T.set(p,B)}else B=T.get(p),B===void 0&&(B=new Set,T.set(p,B));B.has(w)||(B.add(w),u=RN.bind(null,u,p,w),p.then(u,u))}function Gv(u){do{var p;if((p=u.tag===13)&&(p=u.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return u;u=u.return}while(u!==null);return null}function Dm(u,p,w,T,B){return(u.mode&1)===0?(u===p?u.flags|=65536:(u.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Fo(-1,1),p.tag=2,$o(w,p,1))),w.lanes|=1),u):(u.flags|=65536,u.lanes=B,u)}var Na=L.ReactCurrentOwner,Cn=!1;function Ei(u,p,w,T){p.child=u===null?Y0(p,null,w,T):Vl(p,u.child,w,T)}function cw(u,p,w,T,B){w=w.render;var W=p.ref;return Mo(p,B),T=Sm(u,p,w,T,W,B),w=Md(),u!==null&&!Cn?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~B,zo(u,p,B)):(on&&w&&Tv(p),p.flags|=1,Ei(u,p,T,B),p.child)}function uw(u,p,w,T,B){if(u===null){var W=w.type;return typeof W=="function"&&!Yd(W)&&W.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=W,Lm(u,p,W,T,B)):(u=Xd(w.type,null,T,p,p.mode,B),u.ref=p.ref,u.return=p,p.child=u)}if(W=u.child,(u.lanes&B)===0){var ae=W.memoizedProps;if(w=w.compare,w=w!==null?w:wf,w(ae,T)&&u.ref===p.ref)return zo(u,p,B)}return p.flags|=1,u=tc(W,T),u.ref=p.ref,u.return=p,p.child=u}function Lm(u,p,w,T,B){if(u!==null){var W=u.memoizedProps;if(wf(W,T)&&u.ref===p.ref)if(Cn=!1,p.pendingProps=T=W,(u.lanes&B)!==0)(u.flags&131072)!==0&&(Cn=!0);else return p.lanes=u.lanes,zo(u,p,B)}return ur(u,p,w,T,B)}function Vo(u,p,w){var T=p.pendingProps,B=T.children,W=u!==null?u.memoizedState:null;if(T.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yr(zd,Es),Es|=w;else{if((w&1073741824)===0)return u=W!==null?W.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:u,cachePool:null,transitions:null},p.updateQueue=null,Yr(zd,Es),Es|=u,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=W!==null?W.baseLanes:w,Yr(zd,Es),Es|=T}else W!==null?(T=W.baseLanes|w,p.memoizedState=null):T=w,Yr(zd,Es),Es|=T;return Ei(u,p,B,w),p.child}function Fm(u,p){var w=p.ref;(u===null&&w!==null||u!==null&&u.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function ur(u,p,w,T,B){var W=ss(w)?Ll:Gn.current;return W=_d(p,W),Mo(p,B),w=Sm(u,p,w,T,W,B),T=Md(),u!==null&&!Cn?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~B,zo(u,p,B)):(on&&T&&Tv(p),p.flags|=1,Ei(u,p,w,B),p.child)}function dw(u,p,w,T,B){if(ss(w)){var W=!0;pm(p)}else W=!1;if(Mo(p,B),p.stateNode===null)Bm(u,p),Pm(p,w,T),Im(p,w,T,B),T=!0;else if(u===null){var ae=p.stateNode,ye=p.memoizedProps;ae.props=ye;var je=ae.context,Fe=w.contextType;typeof Fe=="object"&&Fe!==null?Fe=Vi(Fe):(Fe=ss(w)?Ll:Gn.current,Fe=_d(p,Fe));var Je=w.getDerivedStateFromProps,rt=typeof Je=="function"||typeof ae.getSnapshotBeforeUpdate=="function";rt||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ye!==T||je!==Fe)&&lw(p,ae,T,Fe),Lo=!1;var Xe=p.memoizedState;ae.state=Xe,zl(p,T,ae,B),je=p.memoizedState,ye!==T||Xe!==je||is.current||Lo?(typeof Je=="function"&&(Ff(p,w,Je,T),je=p.memoizedState),(ye=Lo||Cm(p,w,ye,T,Xe,je,Fe))?(rt||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=je),ae.props=T,ae.state=je,ae.context=Fe,T=ye):(typeof ae.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{ae=p.stateNode,Dv(u,p),ye=p.memoizedProps,Fe=p.type===p.elementType?ye:Ys(p.type,ye),ae.props=Fe,rt=p.pendingProps,Xe=ae.context,je=w.contextType,typeof je=="object"&&je!==null?je=Vi(je):(je=ss(w)?Ll:Gn.current,je=_d(p,je));var ct=w.getDerivedStateFromProps;(Je=typeof ct=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ye!==rt||Xe!==je)&&lw(p,ae,T,je),Lo=!1,Xe=p.memoizedState,ae.state=Xe,zl(p,T,ae,B);var mt=p.memoizedState;ye!==rt||Xe!==mt||is.current||Lo?(typeof ct=="function"&&(Ff(p,w,ct,T),mt=p.memoizedState),(Fe=Lo||Cm(p,w,Fe,T,Xe,mt,je)||!1)?(Je||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(T,mt,je),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(T,mt,je)),typeof ae.componentDidUpdate=="function"&&(p.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ae.componentDidUpdate!="function"||ye===u.memoizedProps&&Xe===u.memoizedState||(p.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&Xe===u.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=mt),ae.props=T,ae.state=mt,ae.context=je,T=Fe):(typeof ae.componentDidUpdate!="function"||ye===u.memoizedProps&&Xe===u.memoizedState||(p.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&Xe===u.memoizedState||(p.flags|=1024),T=!1)}return $f(u,p,w,T,W,B)}function $f(u,p,w,T,B,W){Fm(u,p);var ae=(p.flags&128)!==0;if(!T&&!ae)return B&&Jc(p,w,!1),zo(u,p,W);T=p.stateNode,Na.current=p;var ye=ae&&typeof w.getDerivedStateFromError!="function"?null:T.render();return p.flags|=1,u!==null&&ae?(p.child=Vl(p,u.child,null,W),p.child=Vl(p,null,ye,W)):Ei(u,p,ye,W),p.memoizedState=T.state,B&&Jc(p,w,!0),p.child}function hw(u){var p=u.stateNode;p.pendingContext?z0(u,p.pendingContext,p.pendingContext!==p.context):p.context&&z0(u,p.context,!1),Lv(u,p.containerInfo)}function nu(u,p,w,T,B){return Ns(),Rv(B),p.flags|=256,Ei(u,p,w,T),p.child}var Kv={dehydrated:null,treeContext:null,retryLane:0};function $d(u){return{baseLanes:u,cachePool:null,transitions:null}}function Aa(u,p,w){var T=p.pendingProps,B=ln.current,W=!1,ae=(p.flags&128)!==0,ye;if((ye=ae)||(ye=u!==null&&u.memoizedState===null?!1:(B&2)!==0),ye?(W=!0,p.flags&=-129):(u===null||u.memoizedState!==null)&&(B|=1),Yr(ln,B&1),u===null)return Iv(p),u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((p.mode&1)===0?p.lanes=1:u.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ae=T.children,u=T.fallback,W?(T=p.mode,W=p.child,ae={mode:"hidden",children:ae},(T&1)===0&&W!==null?(W.childLanes=0,W.pendingProps=ae):W=Xm(ae,T,0,null),u=no(u,T,w,null),W.return=p,u.return=p,W.sibling=u,p.child=W,p.child.memoizedState=$d(w),p.memoizedState=Kv,u):Bf(p,ae));if(B=u.memoizedState,B!==null&&(ye=B.dehydrated,ye!==null))return TN(u,p,ae,T,ye,B,w);if(W){W=T.fallback,ae=p.mode,B=u.child,ye=B.sibling;var je={mode:"hidden",children:T.children};return(ae&1)===0&&p.child!==B?(T=p.child,T.childLanes=0,T.pendingProps=je,p.deletions=null):(T=tc(B,je),T.subtreeFlags=B.subtreeFlags&14680064),ye!==null?W=tc(ye,W):(W=no(W,ae,w,null),W.flags|=2),W.return=p,T.return=p,T.sibling=W,p.child=T,T=W,W=p.child,ae=u.child.memoizedState,ae=ae===null?$d(w):{baseLanes:ae.baseLanes|w,cachePool:null,transitions:ae.transitions},W.memoizedState=ae,W.childLanes=u.childLanes&~w,p.memoizedState=Kv,T}return W=u.child,u=W.sibling,T=tc(W,{mode:"visible",children:T.children}),(p.mode&1)===0&&(T.lanes=w),T.return=p,T.sibling=null,u!==null&&(w=p.deletions,w===null?(p.deletions=[u],p.flags|=16):w.push(u)),p.child=T,p.memoizedState=null,T}function Bf(u,p){return p=Xm({mode:"visible",children:p},u.mode,0,null),p.return=u,u.child=p}function Fn(u,p,w,T){return T!==null&&Rv(T),Vl(p,u.child,null,w),u=Bf(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function TN(u,p,w,T,B,W,ae){if(w)return p.flags&256?(p.flags&=-257,T=ru(Error(r(422))),Fn(u,p,ae,T)):p.memoizedState!==null?(p.child=u.child,p.flags|=128,null):(W=T.fallback,B=p.mode,T=Xm({mode:"visible",children:T.children},B,0,null),W=no(W,B,ae,null),W.flags|=2,T.return=p,W.return=p,T.sibling=W,p.child=T,(p.mode&1)!==0&&Vl(p,u.child,null,ae),p.child.memoizedState=$d(ae),p.memoizedState=Kv,W);if((p.mode&1)===0)return Fn(u,p,ae,null);if(B.data==="$!"){if(T=B.nextSibling&&B.nextSibling.dataset,T)var ye=T.dgst;return T=ye,W=Error(r(419)),T=ru(W,T,void 0),Fn(u,p,ae,T)}if(ye=(ae&u.childLanes)!==0,Cn||ye){if(T=si,T!==null){switch(ae&-ae){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(T.suspendedLanes|ae))!==0?0:B,B!==0&&B!==W.retryLane&&(W.retryLane=B,Do(u,B),os(T,u,B,-1))}return lu(),T=ru(Error(r(421))),Fn(u,p,ae,T)}return B.data==="$?"?(p.flags|=128,p.child=u.child,p=ix.bind(null,u),B._reactRetry=p,null):(u=W.treeContext,js=Rl(B.nextSibling),_s=p,on=!0,as=null,u!==null&&(hi[Hs++]=Io,hi[Hs++]=_a,hi[Hs++]=Po,Io=u.id,_a=u.overflow,Po=p),p=Bf(p,T.children),p.flags|=4096,p)}function Yv(u,p,w){u.lanes|=p;var T=u.alternate;T!==null&&(T.lanes|=p),Ja(u.return,p,w)}function $m(u,p,w,T,B){var W=u.memoizedState;W===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:w,tailMode:B}:(W.isBackwards=p,W.rendering=null,W.renderingStartTime=0,W.last=T,W.tail=w,W.tailMode=B)}function Vf(u,p,w){var T=p.pendingProps,B=T.revealOrder,W=T.tail;if(Ei(u,p,T.children,w),T=ln.current,(T&2)!==0)T=T&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Yv(u,w,p);else if(u.tag===19)Yv(u,w,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}if(Yr(ln,T),(p.mode&1)===0)p.memoizedState=null;else switch(B){case"forwards":for(w=p.child,B=null;w!==null;)u=w.alternate,u!==null&&bm(u)===null&&(B=w),w=w.sibling;w=B,w===null?(B=p.child,p.child=null):(B=w.sibling,w.sibling=null),$m(p,!1,B,w,W);break;case"backwards":for(w=null,B=p.child,p.child=null;B!==null;){if(u=B.alternate,u!==null&&bm(u)===null){p.child=B;break}u=B.sibling,B.sibling=w,w=B,B=u}$m(p,!0,w,null,W);break;case"together":$m(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Bm(u,p){(p.mode&1)===0&&u!==null&&(u.alternate=null,p.alternate=null,p.flags|=2)}function zo(u,p,w){if(u!==null&&(p.dependencies=u.dependencies),qo|=p.lanes,(w&p.childLanes)===0)return null;if(u!==null&&p.child!==u.child)throw Error(r(153));if(p.child!==null){for(u=p.child,w=tc(u,u.pendingProps),p.child=w,w.return=p;u.sibling!==null;)u=u.sibling,w=w.sibling=tc(u,u.pendingProps),w.return=p;w.sibling=null}return p.child}function Hl(u,p,w){switch(p.tag){case 3:hw(p),Ns();break;case 5:X0(p);break;case 1:ss(p.type)&&pm(p);break;case 4:Lv(p,p.stateNode.containerInfo);break;case 10:var T=p.type._context,B=p.memoizedProps.value;Yr(vm,T._currentValue),T._currentValue=B;break;case 13:if(T=p.memoizedState,T!==null)return T.dehydrated!==null?(Yr(ln,ln.current&1),p.flags|=128,null):(w&p.child.childLanes)!==0?Aa(u,p,w):(Yr(ln,ln.current&1),u=zo(u,p,w),u!==null?u.sibling:null);Yr(ln,ln.current&1);break;case 19:if(T=(w&p.childLanes)!==0,(u.flags&128)!==0){if(T)return Vf(u,p,w);p.flags|=128}if(B=p.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Yr(ln,ln.current),T)break;return null;case 22:case 23:return p.lanes=0,Vo(u,p,w)}return zo(u,p,w)}var fw,Xv,Uo,zf;fw=function(u,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)u.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Xv=function(){},Uo=function(u,p,w,T){var B=u.memoizedProps;if(B!==T){u=p.stateNode,Ul(eo.current);var W=null;switch(w){case"input":B=vt(u,B),T=vt(u,T),W=[];break;case"select":B=be({},B,{value:void 0}),T=be({},T,{value:void 0}),W=[];break;case"textarea":B=Ir(u,B),T=Ir(u,T),W=[];break;default:typeof B.onClick!="function"&&typeof T.onClick=="function"&&(u.onclick=Xc)}Qi(w,T);var ae;w=null;for(Fe in B)if(!T.hasOwnProperty(Fe)&&B.hasOwnProperty(Fe)&&B[Fe]!=null)if(Fe==="style"){var ye=B[Fe];for(ae in ye)ye.hasOwnProperty(ae)&&(w||(w={}),w[ae]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(i.hasOwnProperty(Fe)?W||(W=[]):(W=W||[]).push(Fe,null));for(Fe in T){var je=T[Fe];if(ye=B!=null?B[Fe]:void 0,T.hasOwnProperty(Fe)&&je!==ye&&(je!=null||ye!=null))if(Fe==="style")if(ye){for(ae in ye)!ye.hasOwnProperty(ae)||je&&je.hasOwnProperty(ae)||(w||(w={}),w[ae]="");for(ae in je)je.hasOwnProperty(ae)&&ye[ae]!==je[ae]&&(w||(w={}),w[ae]=je[ae])}else w||(W||(W=[]),W.push(Fe,w)),w=je;else Fe==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,ye=ye?ye.__html:void 0,je!=null&&ye!==je&&(W=W||[]).push(Fe,je)):Fe==="children"?typeof je!="string"&&typeof je!="number"||(W=W||[]).push(Fe,""+je):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Fe)?(je!=null&&Fe==="onScroll"&&en("scroll",u),W||ye===je||(W=[])):(W=W||[]).push(Fe,je))}w&&(W=W||[]).push("style",w);var Fe=W;(p.updateQueue=Fe)&&(p.flags|=4)}},zf=function(u,p,w,T){w!==T&&(p.flags|=4)};function iu(u,p){if(!on)switch(u.tailMode){case"hidden":p=u.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?u.tail=null:w.sibling=null;break;case"collapsed":w=u.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function ni(u){var p=u.alternate!==null&&u.alternate.child===u.child,w=0,T=0;if(p)for(var B=u.child;B!==null;)w|=B.lanes|B.childLanes,T|=B.subtreeFlags&14680064,T|=B.flags&14680064,B.return=u,B=B.sibling;else for(B=u.child;B!==null;)w|=B.lanes|B.childLanes,T|=B.subtreeFlags,T|=B.flags,B.return=u,B=B.sibling;return u.subtreeFlags|=T,u.childLanes=w,p}function CN(u,p,w){var T=p.pendingProps;switch(Cv(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(p),null;case 1:return ss(p.type)&&Cf(),ni(p),null;case 3:return T=p.stateNode,Id(),Kr(is),Kr(Gn),Fv(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(u===null||u.child===null)&&(eu(p)?p.flags|=4:u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,as!==null&&(Wd(as),as=null))),Xv(u,p),ni(p),null;case 5:rn(p);var B=Ul(Pd.current);if(w=p.type,u!==null&&p.stateNode!=null)Uo(u,p,w,T,B),u.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!T){if(p.stateNode===null)throw Error(r(166));return ni(p),null}if(u=Ul(eo.current),eu(p)){T=p.stateNode,w=p.type;var W=p.memoizedProps;switch(T[Qa]=p,T[Tf]=W,u=(p.mode&1)!==0,w){case"dialog":en("cancel",T),en("close",T);break;case"iframe":case"object":case"embed":en("load",T);break;case"video":case"audio":for(B=0;B<Nf.length;B++)en(Nf[B],T);break;case"source":en("error",T);break;case"img":case"image":case"link":en("error",T),en("load",T);break;case"details":en("toggle",T);break;case"input":Ft(T,W),en("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!W.multiple},en("invalid",T);break;case"textarea":Fr(T,W),en("invalid",T)}Qi(w,W),B=null;for(var ae in W)if(W.hasOwnProperty(ae)){var ye=W[ae];ae==="children"?typeof ye=="string"?T.textContent!==ye&&(W.suppressHydrationWarning!==!0&&qt(T.textContent,ye,u),B=["children",ye]):typeof ye=="number"&&T.textContent!==""+ye&&(W.suppressHydrationWarning!==!0&&qt(T.textContent,ye,u),B=["children",""+ye]):i.hasOwnProperty(ae)&&ye!=null&&ae==="onScroll"&&en("scroll",T)}switch(w){case"input":Ue(T),Zr(T,W,!0);break;case"textarea":Ue(T),Xi(T);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(T.onclick=Xc)}T=B,p.updateQueue=T,T!==null&&(p.flags|=4)}else{ae=B.nodeType===9?B:B.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Yt(w)),u==="http://www.w3.org/1999/xhtml"?w==="script"?(u=ae.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof T.is=="string"?u=ae.createElement(w,{is:T.is}):(u=ae.createElement(w),w==="select"&&(ae=u,T.multiple?ae.multiple=!0:T.size&&(ae.size=T.size))):u=ae.createElementNS(u,w),u[Qa]=p,u[Tf]=T,fw(u,p,!1,!1),p.stateNode=u;e:{switch(ae=Ec(w,T),w){case"dialog":en("cancel",u),en("close",u),B=T;break;case"iframe":case"object":case"embed":en("load",u),B=T;break;case"video":case"audio":for(B=0;B<Nf.length;B++)en(Nf[B],u);B=T;break;case"source":en("error",u),B=T;break;case"img":case"image":case"link":en("error",u),en("load",u),B=T;break;case"details":en("toggle",u),B=T;break;case"input":Ft(u,T),B=vt(u,T),en("invalid",u);break;case"option":B=T;break;case"select":u._wrapperState={wasMultiple:!!T.multiple},B=be({},T,{value:void 0}),en("invalid",u);break;case"textarea":Fr(u,T),B=Ir(u,T),en("invalid",u);break;default:B=T}Qi(w,B),ye=B;for(W in ye)if(ye.hasOwnProperty(W)){var je=ye[W];W==="style"?xo(u,je):W==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Fs(u,je)):W==="children"?typeof je=="string"?(w!=="textarea"||je!=="")&&ua(u,je):typeof je=="number"&&ua(u,""+je):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?je!=null&&W==="onScroll"&&en("scroll",u):je!=null&&$(u,W,je,ae))}switch(w){case"input":Ue(u),Zr(u,T,!1);break;case"textarea":Ue(u),Xi(u);break;case"option":T.value!=null&&u.setAttribute("value",""+Ce(T.value));break;case"select":u.multiple=!!T.multiple,W=T.value,W!=null?Wt(u,!!T.multiple,W,!1):T.defaultValue!=null&&Wt(u,!!T.multiple,T.defaultValue,!0);break;default:typeof B.onClick=="function"&&(u.onclick=Xc)}switch(w){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ni(p),null;case 6:if(u&&p.stateNode!=null)zf(u,p,u.memoizedProps,T);else{if(typeof T!="string"&&p.stateNode===null)throw Error(r(166));if(w=Ul(Pd.current),Ul(eo.current),eu(p)){if(T=p.stateNode,w=p.memoizedProps,T[Qa]=p,(W=T.nodeValue!==w)&&(u=_s,u!==null))switch(u.tag){case 3:qt(T.nodeValue,w,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&qt(T.nodeValue,w,(u.mode&1)!==0)}W&&(p.flags|=4)}else T=(w.nodeType===9?w:w.ownerDocument).createTextNode(T),T[Qa]=p,p.stateNode=T}return ni(p),null;case 13:if(Kr(ln),T=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(on&&js!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Ov(),Ns(),p.flags|=98560,W=!1;else if(W=eu(p),T!==null&&T.dehydrated!==null){if(u===null){if(!W)throw Error(r(318));if(W=p.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(r(317));W[Qa]=p}else Ns(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ni(p),W=!1}else as!==null&&(Wd(as),as=null),W=!0;if(!W)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=w,p):(T=T!==null,T!==(u!==null&&u.memoizedState!==null)&&T&&(p.child.flags|=8192,(p.mode&1)!==0&&(u===null||(ln.current&1)!==0?Xn===0&&(Xn=3):lu())),p.updateQueue!==null&&(p.flags|=4),ni(p),null);case 4:return Id(),Xv(u,p),u===null&&Ol(p.stateNode.containerInfo),ni(p),null;case 10:return xm(p.type._context),ni(p),null;case 17:return ss(p.type)&&Cf(),ni(p),null;case 19:if(Kr(ln),W=p.memoizedState,W===null)return ni(p),null;if(T=(p.flags&128)!==0,ae=W.rendering,ae===null)if(T)iu(W,!1);else{if(Xn!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(ae=bm(u),ae!==null){for(p.flags|=128,iu(W,!1),T=ae.updateQueue,T!==null&&(p.updateQueue=T,p.flags|=4),p.subtreeFlags=0,T=w,w=p.child;w!==null;)W=w,u=T,W.flags&=14680066,ae=W.alternate,ae===null?(W.childLanes=0,W.lanes=u,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=ae.childLanes,W.lanes=ae.lanes,W.child=ae.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=ae.memoizedProps,W.memoizedState=ae.memoizedState,W.updateQueue=ae.updateQueue,W.type=ae.type,u=ae.dependencies,W.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),w=w.sibling;return Yr(ln,ln.current&1|2),p.child}u=u.sibling}W.tail!==null&&Wr()>Ud&&(p.flags|=128,T=!0,iu(W,!1),p.lanes=4194304)}else{if(!T)if(u=bm(ae),u!==null){if(p.flags|=128,T=!0,w=u.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),iu(W,!0),W.tail===null&&W.tailMode==="hidden"&&!ae.alternate&&!on)return ni(p),null}else 2*Wr()-W.renderingStartTime>Ud&&w!==1073741824&&(p.flags|=128,T=!0,iu(W,!1),p.lanes=4194304);W.isBackwards?(ae.sibling=p.child,p.child=ae):(w=W.last,w!==null?w.sibling=ae:p.child=ae,W.last=ae)}return W.tail!==null?(p=W.tail,W.rendering=p,W.tail=p.sibling,W.renderingStartTime=Wr(),p.sibling=null,w=ln.current,Yr(ln,T?w&1|2:w&1),p):(ni(p),null);case 22:case 23:return Gf(),T=p.memoizedState!==null,u!==null&&u.memoizedState!==null!==T&&(p.flags|=8192),T&&(p.mode&1)!==0?(Es&1073741824)!==0&&(ni(p),p.subtreeFlags&6&&(p.flags|=8192)):ni(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function pw(u,p){switch(Cv(p),p.tag){case 1:return ss(p.type)&&Cf(),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return Id(),Kr(is),Kr(Gn),Fv(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 5:return rn(p),null;case 13:if(Kr(ln),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Ns()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return Kr(ln),null;case 4:return Id(),null;case 10:return xm(p.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var Uf=!1,Ti=!1,mw=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Bd(u,p){var w=u.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(T){_n(u,p,T)}else w.current=null}function Qv(u,p,w){try{w()}catch(T){_n(u,p,T)}}var gw=!1;function yw(u,p){if(wv=jo,u=R0(),gv(u)){if("selectionStart"in u)var w={start:u.selectionStart,end:u.selectionEnd};else e:{w=(w=u.ownerDocument)&&w.defaultView||window;var T=w.getSelection&&w.getSelection();if(T&&T.rangeCount!==0){w=T.anchorNode;var B=T.anchorOffset,W=T.focusNode;T=T.focusOffset;try{w.nodeType,W.nodeType}catch{w=null;break e}var ae=0,ye=-1,je=-1,Fe=0,Je=0,rt=u,Xe=null;t:for(;;){for(var ct;rt!==w||B!==0&&rt.nodeType!==3||(ye=ae+B),rt!==W||T!==0&&rt.nodeType!==3||(je=ae+T),rt.nodeType===3&&(ae+=rt.nodeValue.length),(ct=rt.firstChild)!==null;)Xe=rt,rt=ct;for(;;){if(rt===u)break t;if(Xe===w&&++Fe===B&&(ye=ae),Xe===W&&++Je===T&&(je=ae),(ct=rt.nextSibling)!==null)break;rt=Xe,Xe=rt.parentNode}rt=ct}w=ye===-1||je===-1?null:{start:ye,end:je}}else w=null}w=w||{start:0,end:0}}else w=null;for(Sv={focusedElem:u,selectionRange:w},jo=!1,dt=p;dt!==null;)if(p=dt,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,dt=u;else for(;dt!==null;){p=dt;try{var mt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var xt=mt.memoizedProps,jn=mt.memoizedState,Re=p.stateNode,Ae=Re.getSnapshotBeforeUpdate(p.elementType===p.type?xt:Ys(p.type,xt),jn);Re.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var De=p.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(nt){_n(p,p.return,nt)}if(u=p.sibling,u!==null){u.return=p.return,dt=u;break}dt=p.return}return mt=gw,gw=!1,mt}function su(u,p,w){var T=p.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var B=T=T.next;do{if((B.tag&u)===u){var W=B.destroy;B.destroy=void 0,W!==void 0&&Qv(p,w,W)}B=B.next}while(B!==T)}}function Vd(u,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&u)===u){var T=w.create;w.destroy=T()}w=w.next}while(w!==p)}}function au(u){var p=u.ref;if(p!==null){var w=u.stateNode;switch(u.tag){case 5:u=w;break;default:u=w}typeof p=="function"?p(u):p.current=u}}function Zv(u){var p=u.alternate;p!==null&&(u.alternate=null,Zv(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&(delete p[Qa],delete p[Tf],delete p[Nv],delete p[V0],delete p[jN])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function vw(u){return u.tag===5||u.tag===3||u.tag===4}function xw(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||vw(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Vm(u,p,w){var T=u.tag;if(T===5||T===6)u=u.stateNode,p?w.nodeType===8?w.parentNode.insertBefore(u,p):w.insertBefore(u,p):(w.nodeType===8?(p=w.parentNode,p.insertBefore(u,w)):(p=w,p.appendChild(u)),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=Xc));else if(T!==4&&(u=u.child,u!==null))for(Vm(u,p,w),u=u.sibling;u!==null;)Vm(u,p,w),u=u.sibling}function ou(u,p,w){var T=u.tag;if(T===5||T===6)u=u.stateNode,p?w.insertBefore(u,p):w.appendChild(u);else if(T!==4&&(u=u.child,u!==null))for(ou(u,p,w),u=u.sibling;u!==null;)ou(u,p,w),u=u.sibling}var ii=null,ka=!1;function Wl(u,p,w){for(w=w.child;w!==null;)zm(u,p,w),w=w.sibling}function zm(u,p,w){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Rc,w)}catch{}switch(w.tag){case 5:Ti||Bd(w,p);case 6:var T=ii,B=ka;ii=null,Wl(u,p,w),ii=T,ka=B,ii!==null&&(ka?(u=ii,w=w.stateNode,u.nodeType===8?u.parentNode.removeChild(w):u.removeChild(w)):ii.removeChild(w.stateNode));break;case 18:ii!==null&&(ka?(u=ii,w=w.stateNode,u.nodeType===8?xd(u.parentNode,w):u.nodeType===1&&xd(u,w),bs(u)):xd(ii,w.stateNode));break;case 4:T=ii,B=ka,ii=w.stateNode.containerInfo,ka=!0,Wl(u,p,w),ii=T,ka=B;break;case 0:case 11:case 14:case 15:if(!Ti&&(T=w.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){B=T=T.next;do{var W=B,ae=W.destroy;W=W.tag,ae!==void 0&&((W&2)!==0||(W&4)!==0)&&Qv(w,p,ae),B=B.next}while(B!==T)}Wl(u,p,w);break;case 1:if(!Ti&&(Bd(w,p),T=w.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=w.memoizedProps,T.state=w.memoizedState,T.componentWillUnmount()}catch(ye){_n(w,p,ye)}Wl(u,p,w);break;case 21:Wl(u,p,w);break;case 22:w.mode&1?(Ti=(T=Ti)||w.memoizedState!==null,Wl(u,p,w),Ti=T):Wl(u,p,w);break;default:Wl(u,p,w)}}function Gl(u){var p=u.updateQueue;if(p!==null){u.updateQueue=null;var w=u.stateNode;w===null&&(w=u.stateNode=new mw),p.forEach(function(T){var B=MN.bind(null,u,T);w.has(T)||(w.add(T),T.then(B,B))})}}function ks(u,p){var w=p.deletions;if(w!==null)for(var T=0;T<w.length;T++){var B=w[T];try{var W=u,ae=p,ye=ae;e:for(;ye!==null;){switch(ye.tag){case 5:ii=ye.stateNode,ka=!1;break e;case 3:ii=ye.stateNode.containerInfo,ka=!0;break e;case 4:ii=ye.stateNode.containerInfo,ka=!0;break e}ye=ye.return}if(ii===null)throw Error(r(160));zm(W,ae,B),ii=null,ka=!1;var je=B.alternate;je!==null&&(je.return=null),B.return=null}catch(Fe){_n(B,p,Fe)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)bw(p,u),p=p.sibling}function bw(u,p){var w=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ks(p,u),to(u),T&4){try{su(3,u,u.return),Vd(3,u)}catch(xt){_n(u,u.return,xt)}try{su(5,u,u.return)}catch(xt){_n(u,u.return,xt)}}break;case 1:ks(p,u),to(u),T&512&&w!==null&&Bd(w,w.return);break;case 5:if(ks(p,u),to(u),T&512&&w!==null&&Bd(w,w.return),u.flags&32){var B=u.stateNode;try{ua(B,"")}catch(xt){_n(u,u.return,xt)}}if(T&4&&(B=u.stateNode,B!=null)){var W=u.memoizedProps,ae=w!==null?w.memoizedProps:W,ye=u.type,je=u.updateQueue;if(u.updateQueue=null,je!==null)try{ye==="input"&&W.type==="radio"&&W.name!=null&&Dt(B,W),Ec(ye,ae);var Fe=Ec(ye,W);for(ae=0;ae<je.length;ae+=2){var Je=je[ae],rt=je[ae+1];Je==="style"?xo(B,rt):Je==="dangerouslySetInnerHTML"?Fs(B,rt):Je==="children"?ua(B,rt):$(B,Je,rt,Fe)}switch(ye){case"input":gr(B,W);break;case"textarea":fn(B,W);break;case"select":var Xe=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!W.multiple;var ct=W.value;ct!=null?Wt(B,!!W.multiple,ct,!1):Xe!==!!W.multiple&&(W.defaultValue!=null?Wt(B,!!W.multiple,W.defaultValue,!0):Wt(B,!!W.multiple,W.multiple?[]:"",!1))}B[Tf]=W}catch(xt){_n(u,u.return,xt)}}break;case 6:if(ks(p,u),to(u),T&4){if(u.stateNode===null)throw Error(r(162));B=u.stateNode,W=u.memoizedProps;try{B.nodeValue=W}catch(xt){_n(u,u.return,xt)}}break;case 3:if(ks(p,u),to(u),T&4&&w!==null&&w.memoizedState.isDehydrated)try{bs(p.containerInfo)}catch(xt){_n(u,u.return,xt)}break;case 4:ks(p,u),to(u);break;case 13:ks(p,u),to(u),B=u.child,B.flags&8192&&(W=B.memoizedState!==null,B.stateNode.isHidden=W,!W||B.alternate!==null&&B.alternate.memoizedState!==null||(qm=Wr())),T&4&&Gl(u);break;case 22:if(Je=w!==null&&w.memoizedState!==null,u.mode&1?(Ti=(Fe=Ti)||Je,ks(p,u),Ti=Fe):ks(p,u),to(u),T&8192){if(Fe=u.memoizedState!==null,(u.stateNode.isHidden=Fe)&&!Je&&(u.mode&1)!==0)for(dt=u,Je=u.child;Je!==null;){for(rt=dt=Je;dt!==null;){switch(Xe=dt,ct=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:su(4,Xe,Xe.return);break;case 1:Bd(Xe,Xe.return);var mt=Xe.stateNode;if(typeof mt.componentWillUnmount=="function"){T=Xe,w=Xe.return;try{p=T,mt.props=p.memoizedProps,mt.state=p.memoizedState,mt.componentWillUnmount()}catch(xt){_n(T,w,xt)}}break;case 5:Bd(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){_w(rt);continue}}ct!==null?(ct.return=Xe,dt=ct):_w(rt)}Je=Je.sibling}e:for(Je=null,rt=u;;){if(rt.tag===5){if(Je===null){Je=rt;try{B=rt.stateNode,Fe?(W=B.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(ye=rt.stateNode,je=rt.memoizedProps.style,ae=je!=null&&je.hasOwnProperty("display")?je.display:null,ye.style.display=$r("display",ae))}catch(xt){_n(u,u.return,xt)}}}else if(rt.tag===6){if(Je===null)try{rt.stateNode.nodeValue=Fe?"":rt.memoizedProps}catch(xt){_n(u,u.return,xt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===u)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===u)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===u)break e;Je===rt&&(Je=null),rt=rt.return}Je===rt&&(Je=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:ks(p,u),to(u),T&4&&Gl(u);break;case 21:break;default:ks(p,u),to(u)}}function to(u){var p=u.flags;if(p&2){try{e:{for(var w=u.return;w!==null;){if(vw(w)){var T=w;break e}w=w.return}throw Error(r(160))}switch(T.tag){case 5:var B=T.stateNode;T.flags&32&&(ua(B,""),T.flags&=-33);var W=xw(u);ou(u,W,B);break;case 3:case 4:var ae=T.stateNode.containerInfo,ye=xw(u);Vm(u,ye,ae);break;default:throw Error(r(161))}}catch(je){_n(u,u.return,je)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function PN(u,p,w){dt=u,ww(u)}function ww(u,p,w){for(var T=(u.mode&1)!==0;dt!==null;){var B=dt,W=B.child;if(B.tag===22&&T){var ae=B.memoizedState!==null||Uf;if(!ae){var ye=B.alternate,je=ye!==null&&ye.memoizedState!==null||Ti;ye=Uf;var Fe=Ti;if(Uf=ae,(Ti=je)&&!Fe)for(dt=B;dt!==null;)ae=dt,je=ae.child,ae.tag===22&&ae.memoizedState!==null?jw(B):je!==null?(je.return=ae,dt=je):jw(B);for(;W!==null;)dt=W,ww(W),W=W.sibling;dt=B,Uf=ye,Ti=Fe}Sw(u)}else(B.subtreeFlags&8772)!==0&&W!==null?(W.return=B,dt=W):Sw(u)}}function Sw(u){for(;dt!==null;){var p=dt;if((p.flags&8772)!==0){var w=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Ti||Vd(5,p);break;case 1:var T=p.stateNode;if(p.flags&4&&!Ti)if(w===null)T.componentDidMount();else{var B=p.elementType===p.type?w.memoizedProps:Ys(p.type,w.memoizedProps);T.componentDidUpdate(B,w.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var W=p.updateQueue;W!==null&&Rf(p,W,T);break;case 3:var ae=p.updateQueue;if(ae!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=p.child.stateNode;break;case 1:w=p.child.stateNode}Rf(p,ae,w)}break;case 5:var ye=p.stateNode;if(w===null&&p.flags&4){w=ye;var je=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&w.focus();break;case"img":je.src&&(w.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Fe=p.alternate;if(Fe!==null){var Je=Fe.memoizedState;if(Je!==null){var rt=Je.dehydrated;rt!==null&&bs(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ti||p.flags&512&&au(p)}catch(Xe){_n(p,p.return,Xe)}}if(p===u){dt=null;break}if(w=p.sibling,w!==null){w.return=p.return,dt=w;break}dt=p.return}}function _w(u){for(;dt!==null;){var p=dt;if(p===u){dt=null;break}var w=p.sibling;if(w!==null){w.return=p.return,dt=w;break}dt=p.return}}function jw(u){for(;dt!==null;){var p=dt;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{Vd(4,p)}catch(je){_n(p,w,je)}break;case 1:var T=p.stateNode;if(typeof T.componentDidMount=="function"){var B=p.return;try{T.componentDidMount()}catch(je){_n(p,B,je)}}var W=p.return;try{au(p)}catch(je){_n(p,W,je)}break;case 5:var ae=p.return;try{au(p)}catch(je){_n(p,ae,je)}}}catch(je){_n(p,p.return,je)}if(p===u){dt=null;break}var ye=p.sibling;if(ye!==null){ye.return=p.return,dt=ye;break}dt=p.return}}var IN=Math.ceil,Um=L.ReactCurrentDispatcher,Jv=L.ReactCurrentOwner,Qs=L.ReactCurrentBatchConfig,br=0,si=null,Pn=null,Yn=0,Es=0,zd=Ml(0),Xn=0,Kl=null,qo=0,qf=0,ex=0,Yl=null,Ci=null,qm=0,Ud=1/0,Ea=null,Hm=!1,tx=null,ro=null,Wm=!1,Xl=null,Gm=0,Ql=0,qd=null,Hf=-1,Wf=0;function Pi(){return(br&6)!==0?Wr():Hf!==-1?Hf:Hf=Wr()}function Ho(u){return(u.mode&1)===0?1:(br&2)!==0&&Yn!==0?Yn&-Yn:G0.transition!==null?(Wf===0&&(Wf=Nl()),Wf):(u=rr,u!==0||(u=window.event,u=u===void 0?16:ws(u.type)),u)}function os(u,p,w,T){if(50<Ql)throw Ql=0,qd=null,Error(r(185));ma(u,w,T),((br&2)===0||u!==si)&&(u===si&&((br&2)===0&&(qf|=w),Xn===4&&Zl(u,Yn)),Ii(u,T),w===1&&br===0&&(p.mode&1)===0&&(Ud=Wr()+500,mm&&Fl()))}function Ii(u,p){var w=u.callbackNode;So(u,p);var T=Dc(u,u===si?Yn:0);if(T===0)w!==null&&lf(w),u.callbackNode=null,u.callbackPriority=0;else if(p=T&-T,u.callbackPriority!==p){if(w!=null&&lf(w),p===1)u.tag===0?q0(Nw.bind(null,u)):Ev(Nw.bind(null,u)),SN(function(){(br&6)===0&&Fl()}),w=null;else{switch(Al(T)){case 1:w=_l;break;case 4:w=wo;break;case 16:w=Bs;break;case 536870912:w=Oc;break;default:w=Bs}w=Tw(w,Hd.bind(null,u))}u.callbackPriority=p,u.callbackNode=w}}function Hd(u,p){if(Hf=-1,Wf=0,(br&6)!==0)throw Error(r(327));var w=u.callbackNode;if(Kd()&&u.callbackNode!==w)return null;var T=Dc(u,u===si?Yn:0);if(T===0)return null;if((T&30)!==0||(T&u.expiredLanes)!==0||p)p=Ym(u,T);else{p=T;var B=br;br|=2;var W=Gd();(si!==u||Yn!==p)&&(Ea=null,Ud=Wr()+500,ec(u,p));do try{ON();break}catch(ye){Go(u,ye)}while(!0);Of(),Um.current=W,br=B,Pn!==null?p=0:(si=null,Yn=0,p=Xn)}if(p!==0){if(p===2&&(B=Si(u),B!==0&&(T=B,p=rx(u,B))),p===1)throw w=Kl,ec(u,0),Zl(u,T),Ii(u,Wr()),w;if(p===6)Zl(u,T);else{if(B=u.current.alternate,(T&30)===0&&!Km(B)&&(p=Ym(u,T),p===2&&(W=Si(u),W!==0&&(T=W,p=rx(u,W))),p===1))throw w=Kl,ec(u,0),Zl(u,T),Ii(u,Wr()),w;switch(u.finishedWork=B,u.finishedLanes=T,p){case 0:case 1:throw Error(r(345));case 2:cu(u,Ci,Ea);break;case 3:if(Zl(u,T),(T&130023424)===T&&(p=qm+500-Wr(),10<p)){if(Dc(u,0)!==0)break;if(B=u.suspendedLanes,(B&T)!==T){Pi(),u.pingedLanes|=u.suspendedLanes&B;break}u.timeoutHandle=fm(cu.bind(null,u,Ci,Ea),p);break}cu(u,Ci,Ea);break;case 4:if(Zl(u,T),(T&4194240)===T)break;for(p=u.eventTimes,B=-1;0<T;){var ae=31-wi(T);W=1<<ae,ae=p[ae],ae>B&&(B=ae),T&=~W}if(T=B,T=Wr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*IN(T/1960))-T,10<T){u.timeoutHandle=fm(cu.bind(null,u,Ci,Ea),T);break}cu(u,Ci,Ea);break;case 5:cu(u,Ci,Ea);break;default:throw Error(r(329))}}}return Ii(u,Wr()),u.callbackNode===w?Hd.bind(null,u):null}function rx(u,p){var w=Yl;return u.current.memoizedState.isDehydrated&&(ec(u,p).flags|=256),u=Ym(u,p),u!==2&&(p=Ci,Ci=w,p!==null&&Wd(p)),u}function Wd(u){Ci===null?Ci=u:Ci.push.apply(Ci,u)}function Km(u){for(var p=u;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var T=0;T<w.length;T++){var B=w[T],W=B.getSnapshot;B=B.value;try{if(!qs(W(),B))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Zl(u,p){for(p&=~ex,p&=~qf,u.suspendedLanes|=p,u.pingedLanes&=~p,u=u.expirationTimes;0<p;){var w=31-wi(p),T=1<<w;u[w]=-1,p&=~T}}function Nw(u){if((br&6)!==0)throw Error(r(327));Kd();var p=Dc(u,0);if((p&1)===0)return Ii(u,Wr()),null;var w=Ym(u,p);if(u.tag!==0&&w===2){var T=Si(u);T!==0&&(p=T,w=rx(u,T))}if(w===1)throw w=Kl,ec(u,0),Zl(u,p),Ii(u,Wr()),w;if(w===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=p,cu(u,Ci,Ea),Ii(u,Wr()),null}function Wo(u,p){var w=br;br|=1;try{return u(p)}finally{br=w,br===0&&(Ud=Wr()+500,mm&&Fl())}}function Jl(u){Xl!==null&&Xl.tag===0&&(br&6)===0&&Kd();var p=br;br|=1;var w=Qs.transition,T=rr;try{if(Qs.transition=null,rr=1,u)return u()}finally{rr=T,Qs.transition=w,br=p,(br&6)===0&&Fl()}}function Gf(){Es=zd.current,Kr(zd)}function ec(u,p){u.finishedWork=null,u.finishedLanes=0;var w=u.timeoutHandle;if(w!==-1&&(u.timeoutHandle=-1,vd(w)),Pn!==null)for(w=Pn.return;w!==null;){var T=w;switch(Cv(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Cf();break;case 3:Id(),Kr(is),Kr(Gn),Fv();break;case 5:rn(T);break;case 4:Id();break;case 13:Kr(ln);break;case 19:Kr(ln);break;case 10:xm(T.type._context);break;case 22:case 23:Gf()}w=w.return}if(si=u,Pn=u=tc(u.current,null),Yn=Es=p,Xn=0,Kl=null,ex=qf=qo=0,Ci=Yl=null,tu!==null){for(p=0;p<tu.length;p++)if(w=tu[p],T=w.interleaved,T!==null){w.interleaved=null;var B=T.next,W=w.pending;if(W!==null){var ae=W.next;W.next=B,T.next=ae}w.pending=T}tu=null}return u}function Go(u,p){do{var w=Pn;try{if(Of(),wm.current=Em,Df){for(var T=mn.memoizedState;T!==null;){var B=T.queue;B!==null&&(B.pending=null),T=T.next}Df=!1}if(Ws=0,Kn=Tn=mn=null,Rd=!1,Lf=0,Jv.current=null,w===null||w.return===null){Xn=1,Kl=p,Pn=null;break}e:{var W=u,ae=w.return,ye=w,je=p;if(p=Yn,ye.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Fe=je,Je=ye,rt=Je.tag;if((Je.mode&1)===0&&(rt===0||rt===11||rt===15)){var Xe=Je.alternate;Xe?(Je.updateQueue=Xe.updateQueue,Je.memoizedState=Xe.memoizedState,Je.lanes=Xe.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var ct=Gv(ae);if(ct!==null){ct.flags&=-257,Dm(ct,ae,ye,W,p),ct.mode&1&&Mm(W,Fe,p),p=ct,je=Fe;var mt=p.updateQueue;if(mt===null){var xt=new Set;xt.add(je),p.updateQueue=xt}else mt.add(je);break e}else{if((p&1)===0){Mm(W,Fe,p),lu();break e}je=Error(r(426))}}else if(on&&ye.mode&1){var jn=Gv(ae);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),Dm(jn,ae,ye,W,p),Rv(Xs(je,ye));break e}}W=je=Xs(je,ye),Xn!==4&&(Xn=2),Yl===null?Yl=[W]:Yl.push(W),W=ae;do{switch(W.tag){case 3:W.flags|=65536,p&=-p,W.lanes|=p;var Re=Wv(W,je,p);Td(W,Re);break e;case 1:ye=je;var Ae=W.type,De=W.stateNode;if((W.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(ro===null||!ro.has(De)))){W.flags|=65536,p&=-p,W.lanes|=p;var nt=Rm(W,ye,p);Td(W,nt);break e}}W=W.return}while(W!==null)}Yf(w)}catch(St){p=St,Pn===w&&w!==null&&(Pn=w=w.return);continue}break}while(!0)}function Gd(){var u=Um.current;return Um.current=Em,u===null?Em:u}function lu(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),si===null||(qo&268435455)===0&&(qf&268435455)===0||Zl(si,Yn)}function Ym(u,p){var w=br;br|=2;var T=Gd();(si!==u||Yn!==p)&&(Ea=null,ec(u,p));do try{Kf();break}catch(B){Go(u,B)}while(!0);if(Of(),br=w,Um.current=T,Pn!==null)throw Error(r(261));return si=null,Yn=0,Xn}function Kf(){for(;Pn!==null;)nx(Pn)}function ON(){for(;Pn!==null&&!Yp();)nx(Pn)}function nx(u){var p=sx(u.alternate,u,Es);u.memoizedProps=u.pendingProps,p===null?Yf(u):Pn=p,Jv.current=null}function Yf(u){var p=u;do{var w=p.alternate;if(u=p.return,(p.flags&32768)===0){if(w=CN(w,p,Es),w!==null){Pn=w;return}}else{if(w=pw(w,p),w!==null){w.flags&=32767,Pn=w;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Xn=6,Pn=null;return}}if(p=p.sibling,p!==null){Pn=p;return}Pn=p=u}while(p!==null);Xn===0&&(Xn=5)}function cu(u,p,w){var T=rr,B=Qs.transition;try{Qs.transition=null,rr=1,Aw(u,p,w,T)}finally{Qs.transition=B,rr=T}return null}function Aw(u,p,w,T){do Kd();while(Xl!==null);if((br&6)!==0)throw Error(r(327));w=u.finishedWork;var B=u.finishedLanes;if(w===null)return null;if(u.finishedWork=null,u.finishedLanes=0,w===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var W=w.lanes|w.childLanes;if(Vr(u,W),u===si&&(Pn=si=null,Yn=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||Wm||(Wm=!0,Tw(Bs,function(){return Kd(),null})),W=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||W){W=Qs.transition,Qs.transition=null;var ae=rr;rr=1;var ye=br;br|=4,Jv.current=null,yw(u,w),bw(w,u),vN(Sv),jo=!!wv,Sv=wv=null,u.current=w,PN(w),lv(),br=ye,rr=ae,Qs.transition=W}else u.current=w;if(Wm&&(Wm=!1,Xl=u,Gm=B),W=u.pendingLanes,W===0&&(ro=null),cf(w.stateNode),Ii(u,Wr()),p!==null)for(T=u.onRecoverableError,w=0;w<p.length;w++)B=p[w],T(B.value,{componentStack:B.stack,digest:B.digest});if(Hm)throw Hm=!1,u=tx,tx=null,u;return(Gm&1)!==0&&u.tag!==0&&Kd(),W=u.pendingLanes,(W&1)!==0?u===qd?Ql++:(Ql=0,qd=u):Ql=0,Fl(),null}function Kd(){if(Xl!==null){var u=Al(Gm),p=Qs.transition,w=rr;try{if(Qs.transition=null,rr=16>u?16:u,Xl===null)var T=!1;else{if(u=Xl,Xl=null,Gm=0,(br&6)!==0)throw Error(r(331));var B=br;for(br|=4,dt=u.current;dt!==null;){var W=dt,ae=W.child;if((dt.flags&16)!==0){var ye=W.deletions;if(ye!==null){for(var je=0;je<ye.length;je++){var Fe=ye[je];for(dt=Fe;dt!==null;){var Je=dt;switch(Je.tag){case 0:case 11:case 15:su(8,Je,W)}var rt=Je.child;if(rt!==null)rt.return=Je,dt=rt;else for(;dt!==null;){Je=dt;var Xe=Je.sibling,ct=Je.return;if(Zv(Je),Je===Fe){dt=null;break}if(Xe!==null){Xe.return=ct,dt=Xe;break}dt=ct}}}var mt=W.alternate;if(mt!==null){var xt=mt.child;if(xt!==null){mt.child=null;do{var jn=xt.sibling;xt.sibling=null,xt=jn}while(xt!==null)}}dt=W}}if((W.subtreeFlags&2064)!==0&&ae!==null)ae.return=W,dt=ae;else e:for(;dt!==null;){if(W=dt,(W.flags&2048)!==0)switch(W.tag){case 0:case 11:case 15:su(9,W,W.return)}var Re=W.sibling;if(Re!==null){Re.return=W.return,dt=Re;break e}dt=W.return}}var Ae=u.current;for(dt=Ae;dt!==null;){ae=dt;var De=ae.child;if((ae.subtreeFlags&2064)!==0&&De!==null)De.return=ae,dt=De;else e:for(ae=Ae;dt!==null;){if(ye=dt,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:Vd(9,ye)}}catch(St){_n(ye,ye.return,St)}if(ye===ae){dt=null;break e}var nt=ye.sibling;if(nt!==null){nt.return=ye.return,dt=nt;break e}dt=ye.return}}if(br=B,Fl(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Rc,u)}catch{}T=!0}return T}finally{rr=w,Qs.transition=p}}return!1}function kw(u,p,w){p=Xs(w,p),p=Wv(u,p,1),u=$o(u,p,1),p=Pi(),u!==null&&(ma(u,1,p),Ii(u,p))}function _n(u,p,w){if(u.tag===3)kw(u,u,w);else for(;p!==null;){if(p.tag===3){kw(p,u,w);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(ro===null||!ro.has(T))){u=Xs(w,u),u=Rm(p,u,1),p=$o(p,u,1),u=Pi(),p!==null&&(ma(p,1,u),Ii(p,u));break}}p=p.return}}function RN(u,p,w){var T=u.pingCache;T!==null&&T.delete(p),p=Pi(),u.pingedLanes|=u.suspendedLanes&w,si===u&&(Yn&w)===w&&(Xn===4||Xn===3&&(Yn&130023424)===Yn&&500>Wr()-qm?ec(u,0):ex|=w),Ii(u,p)}function Ew(u,p){p===0&&((u.mode&1)===0?p=1:(p=Mc,Mc<<=1,(Mc&130023424)===0&&(Mc=4194304)));var w=Pi();u=Do(u,p),u!==null&&(ma(u,p,w),Ii(u,w))}function ix(u){var p=u.memoizedState,w=0;p!==null&&(w=p.retryLane),Ew(u,w)}function MN(u,p){var w=0;switch(u.tag){case 13:var T=u.stateNode,B=u.memoizedState;B!==null&&(w=B.retryLane);break;case 19:T=u.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(p),Ew(u,w)}var sx;sx=function(u,p,w){if(u!==null)if(u.memoizedProps!==p.pendingProps||is.current)Cn=!0;else{if((u.lanes&w)===0&&(p.flags&128)===0)return Cn=!1,Hl(u,p,w);Cn=(u.flags&131072)!==0}else Cn=!1,on&&(p.flags&1048576)!==0&&H0(p,gm,p.index);switch(p.lanes=0,p.tag){case 2:var T=p.type;Bm(u,p),u=p.pendingProps;var B=_d(p,Gn.current);Mo(p,w),B=Sm(null,p,T,u,B,w);var W=Md();return p.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,ss(T)?(W=!0,pm(p)):W=!1,p.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,En(p),B.updater=Tm,p.stateNode=B,B._reactInternals=p,Im(p,T,u,w),p=$f(null,p,T,!0,W,w)):(p.tag=0,on&&W&&Tv(p),Ei(null,p,B,w),p=p.child),p;case 16:T=p.elementType;e:{switch(Bm(u,p),u=p.pendingProps,B=T._init,T=B(T._payload),p.type=T,B=p.tag=Cw(T),u=Ys(T,u),B){case 0:p=ur(null,p,T,u,w);break e;case 1:p=dw(null,p,T,u,w);break e;case 11:p=cw(null,p,T,u,w);break e;case 14:p=uw(null,p,T,Ys(T.type,u),w);break e}throw Error(r(306,T,""))}return p;case 0:return T=p.type,B=p.pendingProps,B=p.elementType===T?B:Ys(T,B),ur(u,p,T,B,w);case 1:return T=p.type,B=p.pendingProps,B=p.elementType===T?B:Ys(T,B),dw(u,p,T,B,w);case 3:e:{if(hw(p),u===null)throw Error(r(387));T=p.pendingProps,W=p.memoizedState,B=W.element,Dv(u,p),zl(p,T,null,w);var ae=p.memoizedState;if(T=ae.element,W.isDehydrated)if(W={element:T,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},p.updateQueue.baseState=W,p.memoizedState=W,p.flags&256){B=Xs(Error(r(423)),p),p=nu(u,p,T,w,B);break e}else if(T!==B){B=Xs(Error(r(424)),p),p=nu(u,p,T,w,B);break e}else for(js=Rl(p.stateNode.containerInfo.firstChild),_s=p,on=!0,as=null,w=Y0(p,null,T,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Ns(),T===B){p=zo(u,p,w);break e}Ei(u,p,T,w)}p=p.child}return p;case 5:return X0(p),u===null&&Iv(p),T=p.type,B=p.pendingProps,W=u!==null?u.memoizedProps:null,ae=B.children,_v(T,B)?ae=null:W!==null&&_v(T,W)&&(p.flags|=32),Fm(u,p),Ei(u,p,ae,w),p.child;case 6:return u===null&&Iv(p),null;case 13:return Aa(u,p,w);case 4:return Lv(p,p.stateNode.containerInfo),T=p.pendingProps,u===null?p.child=Vl(p,null,T,w):Ei(u,p,T,w),p.child;case 11:return T=p.type,B=p.pendingProps,B=p.elementType===T?B:Ys(T,B),cw(u,p,T,B,w);case 7:return Ei(u,p,p.pendingProps,w),p.child;case 8:return Ei(u,p,p.pendingProps.children,w),p.child;case 12:return Ei(u,p,p.pendingProps.children,w),p.child;case 10:e:{if(T=p.type._context,B=p.pendingProps,W=p.memoizedProps,ae=B.value,Yr(vm,T._currentValue),T._currentValue=ae,W!==null)if(qs(W.value,ae)){if(W.children===B.children&&!is.current){p=zo(u,p,w);break e}}else for(W=p.child,W!==null&&(W.return=p);W!==null;){var ye=W.dependencies;if(ye!==null){ae=W.child;for(var je=ye.firstContext;je!==null;){if(je.context===T){if(W.tag===1){je=Fo(-1,w&-w),je.tag=2;var Fe=W.updateQueue;if(Fe!==null){Fe=Fe.shared;var Je=Fe.pending;Je===null?je.next=je:(je.next=Je.next,Je.next=je),Fe.pending=je}}W.lanes|=w,je=W.alternate,je!==null&&(je.lanes|=w),Ja(W.return,w,p),ye.lanes|=w;break}je=je.next}}else if(W.tag===10)ae=W.type===p.type?null:W.child;else if(W.tag===18){if(ae=W.return,ae===null)throw Error(r(341));ae.lanes|=w,ye=ae.alternate,ye!==null&&(ye.lanes|=w),Ja(ae,w,p),ae=W.sibling}else ae=W.child;if(ae!==null)ae.return=W;else for(ae=W;ae!==null;){if(ae===p){ae=null;break}if(W=ae.sibling,W!==null){W.return=ae.return,ae=W;break}ae=ae.return}W=ae}Ei(u,p,B.children,w),p=p.child}return p;case 9:return B=p.type,T=p.pendingProps.children,Mo(p,w),B=Vi(B),T=T(B),p.flags|=1,Ei(u,p,T,w),p.child;case 14:return T=p.type,B=Ys(T,p.pendingProps),B=Ys(T.type,B),uw(u,p,T,B,w);case 15:return Lm(u,p,p.type,p.pendingProps,w);case 17:return T=p.type,B=p.pendingProps,B=p.elementType===T?B:Ys(T,B),Bm(u,p),p.tag=1,ss(T)?(u=!0,pm(p)):u=!1,Mo(p,w),Pm(p,T,B),Im(p,T,B,w),$f(null,p,T,!0,u,w);case 19:return Vf(u,p,w);case 22:return Vo(u,p,w)}throw Error(r(156,p.tag))};function Tw(u,p){return id(u,p)}function DN(u,p,w,T){this.tag=u,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(u,p,w,T){return new DN(u,p,w,T)}function Yd(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Cw(u){if(typeof u=="function")return Yd(u)?1:0;if(u!=null){if(u=u.$$typeof,u===X)return 11;if(u===pe)return 14}return 2}function tc(u,p){var w=u.alternate;return w===null?(w=Zs(u.tag,p,u.key,u.mode),w.elementType=u.elementType,w.type=u.type,w.stateNode=u.stateNode,w.alternate=u,u.alternate=w):(w.pendingProps=p,w.type=u.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=u.flags&14680064,w.childLanes=u.childLanes,w.lanes=u.lanes,w.child=u.child,w.memoizedProps=u.memoizedProps,w.memoizedState=u.memoizedState,w.updateQueue=u.updateQueue,p=u.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=u.sibling,w.index=u.index,w.ref=u.ref,w}function Xd(u,p,w,T,B,W){var ae=2;if(T=u,typeof u=="function")Yd(u)&&(ae=1);else if(typeof u=="string")ae=5;else e:switch(u){case q:return no(w.children,B,W,p);case V:ae=8,B|=8;break;case Q:return u=Zs(12,w,p,B|2),u.elementType=Q,u.lanes=W,u;case Y:return u=Zs(13,w,p,B),u.elementType=Y,u.lanes=W,u;case se:return u=Zs(19,w,p,B),u.elementType=se,u.lanes=W,u;case me:return Xm(w,B,W,p);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case J:ae=10;break e;case ee:ae=9;break e;case X:ae=11;break e;case pe:ae=14;break e;case ce:ae=16,T=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return p=Zs(ae,w,p,B),p.elementType=u,p.type=T,p.lanes=W,p}function no(u,p,w,T){return u=Zs(7,u,T,p),u.lanes=w,u}function Xm(u,p,w,T){return u=Zs(22,u,T,p),u.elementType=me,u.lanes=w,u.stateNode={isHidden:!1},u}function Qm(u,p,w){return u=Zs(6,u,null,p),u.lanes=w,u}function ax(u,p,w){return p=Zs(4,u.children!==null?u.children:[],u.key,p),p.lanes=w,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}function Pw(u,p,w,T,B){this.tag=p,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=T,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function ox(u,p,w,T,B,W,ae,ye,je){return u=new Pw(u,p,w,ye,je),p===1?(p=1,W===!0&&(p|=8)):p=0,W=Zs(3,null,null,p),u.current=W,W.stateNode=u,W.memoizedState={element:T,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},En(W),u}function LN(u,p,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:T==null?null:""+T,children:u,containerInfo:p,implementation:w}}function Iw(u){if(!u)return Dl;u=u._reactInternals;e:{if(pa(u)!==u||u.tag!==1)throw Error(r(170));var p=u;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(ss(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(u.tag===1){var w=u.type;if(ss(w))return U0(u,w,p)}return p}function Ow(u,p,w,T,B,W,ae,ye,je){return u=ox(w,T,!0,u,B,W,ae,ye,je),u.context=Iw(null),w=u.current,T=Pi(),B=Ho(w),W=Fo(T,B),W.callback=p??null,$o(w,W,B),u.current.lanes=B,ma(u,B,T),Ii(u,T),u}function Zm(u,p,w,T){var B=p.current,W=Pi(),ae=Ho(B);return w=Iw(w),p.context===null?p.context=w:p.pendingContext=w,p=Fo(W,ae),p.payload={element:u},T=T===void 0?null:T,T!==null&&(p.callback=T),u=$o(B,p,ae),u!==null&&(os(u,B,ae,W),Ed(u,B,ae)),ae}function Xf(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function Rw(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var w=u.retryLane;u.retryLane=w!==0&&w<p?w:p}}function Jm(u,p){Rw(u,p),(u=u.alternate)&&Rw(u,p)}function FN(){return null}var Mw=typeof reportError=="function"?reportError:function(u){console.error(u)};function eg(u){this._internalRoot=u}Qd.prototype.render=eg.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(r(409));Zm(u,p,null,null)},Qd.prototype.unmount=eg.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;Jl(function(){Zm(null,u,null,null)}),p[Co]=null}};function Qd(u){this._internalRoot=u}Qd.prototype.unstable_scheduleHydration=function(u){if(u){var p=Lc();u={blockedOn:null,target:u,priority:p};for(var w=0;w<Ka.length&&p!==0&&p<Ka[w].priority;w++);Ka.splice(w,0,u),w===0&&hf(u)}};function lx(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Zd(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function Dw(){}function $N(u,p,w,T,B){if(B){if(typeof T=="function"){var W=T;T=function(){var Fe=Xf(ae);W.call(Fe)}}var ae=Ow(p,T,u,0,null,!1,!1,"",Dw);return u._reactRootContainer=ae,u[Co]=ae.current,Ol(u.nodeType===8?u.parentNode:u),Jl(),ae}for(;B=u.lastChild;)u.removeChild(B);if(typeof T=="function"){var ye=T;T=function(){var Fe=Xf(je);ye.call(Fe)}}var je=ox(u,0,!1,null,null,!1,!1,"",Dw);return u._reactRootContainer=je,u[Co]=je.current,Ol(u.nodeType===8?u.parentNode:u),Jl(function(){Zm(p,je,w,T)}),je}function tg(u,p,w,T,B){var W=w._reactRootContainer;if(W){var ae=W;if(typeof B=="function"){var ye=B;B=function(){var je=Xf(ae);ye.call(je)}}Zm(p,ae,u,B)}else ae=$N(w,p,u,B,T);return Xf(ae)}Jp=function(u){switch(u.tag){case 3:var p=u.stateNode;if(p.current.memoizedState.isDehydrated){var w=jl(p.pendingLanes);w!==0&&(Hn(p,w|1),Ii(p,Wr()),(br&6)===0&&(Ud=Wr()+500,Fl()))}break;case 13:Jl(function(){var T=Do(u,1);if(T!==null){var B=Pi();os(T,u,1,B)}}),Jm(u,1)}},ad=function(u){if(u.tag===13){var p=Do(u,134217728);if(p!==null){var w=Pi();os(p,u,134217728,w)}Jm(u,134217728)}},od=function(u){if(u.tag===13){var p=Ho(u),w=Do(u,p);if(w!==null){var T=Pi();os(w,u,p,T)}Jm(u,p)}},Lc=function(){return rr},em=function(u,p){var w=rr;try{return rr=u,p()}finally{rr=w}},Gt=function(u,p,w){switch(p){case"input":if(gr(u,w),p=w.name,w.type==="radio"&&p!=null){for(w=u;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<w.length;p++){var T=w[p];if(T!==u&&T.form===u.form){var B=Ss(T);if(!B)throw Error(r(90));Oe(T),gr(T,B)}}}break;case"textarea":fn(u,w);break;case"select":p=w.value,p!=null&&Wt(u,!!w.multiple,p,!1)}},wl=Wo,td=Jl;var Lw={usingClientEntryPoint:!1,Events:[wd,Zc,Ss,$s,qn,Wo]},Qf={findFiberByHostInstance:Qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fw={bundleType:Qf.bundleType,version:Qf.version,rendererPackageName:Qf.rendererPackageName,rendererConfig:Qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=kn(u),u===null?null:u.stateNode},findFiberByHostInstance:Qf.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{Rc=Zf.inject(Fw),cr=Zf}catch{}}return Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lw,Js.createPortal=function(u,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lx(p))throw Error(r(200));return LN(u,p,null,w)},Js.createRoot=function(u,p){if(!lx(u))throw Error(r(299));var w=!1,T="",B=Mw;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(B=p.onRecoverableError)),p=ox(u,1,!1,null,null,w,!1,T,B),u[Co]=p.current,Ol(u.nodeType===8?u.parentNode:u),new eg(p)},Js.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=kn(p),u=u===null?null:u.stateNode,u},Js.flushSync=function(u){return Jl(u)},Js.hydrate=function(u,p,w){if(!Zd(p))throw Error(r(200));return tg(null,u,p,!0,w)},Js.hydrateRoot=function(u,p,w){if(!lx(u))throw Error(r(405));var T=w!=null&&w.hydratedSources||null,B=!1,W="",ae=Mw;if(w!=null&&(w.unstable_strictMode===!0&&(B=!0),w.identifierPrefix!==void 0&&(W=w.identifierPrefix),w.onRecoverableError!==void 0&&(ae=w.onRecoverableError)),p=Ow(p,null,u,1,w??null,B,!1,W,ae),u[Co]=p.current,Ol(u),T)for(u=0;u<T.length;u++)w=T[u],B=w._getVersion,B=B(w._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[w,B]:p.mutableSourceEagerHydrationData.push(w,B);return new Qd(p)},Js.render=function(u,p,w){if(!Zd(p))throw Error(r(200));return tg(null,u,p,!1,w)},Js.unmountComponentAtNode=function(u){if(!Zd(u))throw Error(r(40));return u._reactRootContainer?(Jl(function(){tg(null,null,u,!1,function(){u._reactRootContainer=null,u[Co]=null})}),!0):!1},Js.unstable_batchedUpdates=Wo,Js.unstable_renderSubtreeIntoContainer=function(u,p,w,T){if(!Zd(w))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return tg(u,p,w,!1,T)},Js.version="18.3.1-next-f1338f8080-20240426",Js}var wM;function yV(){if(wM)return qN.exports;wM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qN.exports=_X(),qN.exports}var SM;function jX(){if(SM)return zw;SM=1;var t=yV();return zw.createRoot=t.createRoot,zw.hydrateRoot=t.hydrateRoot,zw}var NX=jX(),P=nI();const de=Lr(P),vV=yX({__proto__:null,default:de},[P]),AX=1,kX=1e6;let GN=0;function EX(){return GN=(GN+1)%Number.MAX_SAFE_INTEGER,GN.toString()}const KN=new Map,_M=t=>{if(KN.has(t))return;const e=setTimeout(()=>{KN.delete(t),Mx({type:"REMOVE_TOAST",toastId:t})},kX);KN.set(t,e)},TX=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AX)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?_M(r):t.toasts.forEach(n=>{_M(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},x1=[];let b1={toasts:[]};function Mx(t){b1=TX(b1,t),x1.forEach(e=>{e(b1)})}function CX({...t}){const e=EX(),r=i=>Mx({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Mx({type:"DISMISS_TOAST",toastId:e});return Mx({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function hn(){const[t,e]=P.useState(b1);return P.useEffect(()=>(x1.push(e),()=>{const r=x1.indexOf(e);r>-1&&x1.splice(r,1)}),[t]),{...t,toast:CX,dismiss:r=>Mx({type:"DISMISS_TOAST",toastId:r})}}var Cy=yV();const xV=Lr(Cy);function bt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function PX(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function bV(...t){return e=>t.forEach(r=>PX(r,e))}function mr(...t){return P.useCallback(bV(...t),t)}function IX(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o),d=r.length;r=[...r,o];function h(y){const{scope:x,children:N,...C}=y,A=(x==null?void 0:x[t][d])||c,k=P.useMemo(()=>C,Object.values(C));return a.jsx(A.Provider,{value:k,children:N})}function g(y,x){const N=(x==null?void 0:x[t][d])||c,C=P.useContext(N);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${y}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,g]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=(c==null?void 0:c[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,OX(i,...e)]}function OX(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const y=d(s)[`__scope${h}`];return{...c,...y}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Np=P.forwardRef((t,e)=>{const{children:r,...n}=t,i=P.Children.toArray(r),s=i.find(RX);if(s){const o=s.props.children,c=i.map(d=>d===s?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:d);return a.jsx(EC,{...n,ref:e,children:P.isValidElement(o)?P.cloneElement(o,void 0,c):null})}return a.jsx(EC,{...n,ref:e,children:r})});Np.displayName="Slot";var EC=P.forwardRef((t,e)=>{const{children:r,...n}=t;if(P.isValidElement(r)){const i=DX(r);return P.cloneElement(r,{...MX(n,r.props),ref:e?bV(e,i):i})}return P.Children.count(r)>1?P.Children.only(null):null});EC.displayName="SlotClone";var wV=({children:t})=>a.jsx(a.Fragment,{children:t});function RX(t){return P.isValidElement(t)&&t.type===wV}function MX(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{s(...c),i(...c)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function DX(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Jb(t){const e=t+"CollectionProvider",[r,n]=IX(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=N=>{const{scope:C,children:A}=N,k=de.useRef(null),D=de.useRef(new Map).current;return a.jsx(i,{scope:C,itemMap:D,collectionRef:k,children:A})};o.displayName=e;const c=t+"CollectionSlot",d=de.forwardRef((N,C)=>{const{scope:A,children:k}=N,D=s(c,A),M=mr(C,D.collectionRef);return a.jsx(Np,{ref:M,children:k})});d.displayName=c;const h=t+"CollectionItemSlot",g="data-radix-collection-item",y=de.forwardRef((N,C)=>{const{scope:A,children:k,...D}=N,M=de.useRef(null),$=mr(C,M),L=s(h,A);return de.useEffect(()=>(L.itemMap.set(M,{ref:M,...D}),()=>void L.itemMap.delete(M))),a.jsx(Np,{[g]:"",ref:$,children:k})});y.displayName=h;function x(N){const C=s(t+"CollectionConsumer",N);return de.useCallback(()=>{const k=C.collectionRef.current;if(!k)return[];const D=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((L,U)=>D.indexOf(L.ref.current)-D.indexOf(U.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},x,n]}function LX(t,e){const r=P.createContext(e),n=s=>{const{children:o,...c}=s,d=P.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:d,children:o})};n.displayName=t+"Provider";function i(s){const o=P.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Ha(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o),d=r.length;r=[...r,o];const h=y=>{var D;const{scope:x,children:N,...C}=y,A=((D=x==null?void 0:x[t])==null?void 0:D[d])||c,k=P.useMemo(()=>C,Object.values(C));return a.jsx(A.Provider,{value:k,children:N})};h.displayName=s+"Provider";function g(y,x){var A;const N=((A=x==null?void 0:x[t])==null?void 0:A[d])||c,C=P.useContext(N);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${y}\` must be used within \`${s}\``)}return[h,g]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=(c==null?void 0:c[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,FX(i,...e)]}function FX(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const y=d(s)[`__scope${h}`];return{...c,...y}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var $X=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_t=$X.reduce((t,e)=>{const r=P.forwardRef((n,i)=>{const{asChild:s,...o}=n,c=s?Np:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SV(t,e){t&&Cy.flushSync(()=>t.dispatchEvent(e))}function Ds(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function BX(t,e=globalThis==null?void 0:globalThis.document){const r=Ds(t);P.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var VX="DismissableLayer",TC="dismissableLayer.update",zX="dismissableLayer.pointerDownOutside",UX="dismissableLayer.focusOutside",jM,_V=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),e0=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...d}=t,h=P.useContext(_V),[g,y]=P.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,N]=P.useState({}),C=mr(e,q=>y(q)),A=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=A.indexOf(k),M=g?A.indexOf(g):-1,$=h.layersWithOutsidePointerEventsDisabled.size>0,L=M>=D,U=HX(q=>{const V=q.target,Q=[...h.branches].some(J=>J.contains(V));!L||Q||(i==null||i(q),o==null||o(q),q.defaultPrevented||c==null||c())},x),K=WX(q=>{const V=q.target;[...h.branches].some(J=>J.contains(V))||(s==null||s(q),o==null||o(q),q.defaultPrevented||c==null||c())},x);return BX(q=>{M===h.layers.size-1&&(n==null||n(q),!q.defaultPrevented&&c&&(q.preventDefault(),c()))},x),P.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jM=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),NM(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=jM)}},[g,x,r,h]),P.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),NM())},[g,h]),P.useEffect(()=>{const q=()=>N({});return document.addEventListener(TC,q),()=>document.removeEventListener(TC,q)},[]),a.jsx(_t.div,{...d,ref:C,style:{pointerEvents:$?L?"auto":"none":void 0,...t.style},onFocusCapture:bt(t.onFocusCapture,K.onFocusCapture),onBlurCapture:bt(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:bt(t.onPointerDownCapture,U.onPointerDownCapture)})});e0.displayName=VX;var qX="DismissableLayerBranch",jV=P.forwardRef((t,e)=>{const r=P.useContext(_V),n=P.useRef(null),i=mr(e,n);return P.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(_t.div,{...t,ref:i})});jV.displayName=qX;function HX(t,e=globalThis==null?void 0:globalThis.document){const r=Ds(t),n=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let d=function(){NV(zX,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function WX(t,e=globalThis==null?void 0:globalThis.document){const r=Ds(t),n=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!n.current&&NV(UX,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NM(){const t=new CustomEvent(TC);document.dispatchEvent(t)}function NV(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SV(i,s):i.dispatchEvent(s)}var GX=e0,KX=jV,vi=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},YX="Portal",S_=P.forwardRef((t,e)=>{var c;const{container:r,...n}=t,[i,s]=P.useState(!1);vi(()=>s(!0),[]);const o=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?xV.createPortal(a.jsx(_t.div,{...n,ref:e}),o):null});S_.displayName=YX;function XX(t,e){return P.useReducer((r,n)=>e[r][n]??r,t)}var _c=t=>{const{present:e,children:r}=t,n=QX(e),i=typeof r=="function"?r({present:n.isPresent}):P.Children.only(r),s=mr(n.ref,ZX(i));return typeof r=="function"||n.isPresent?P.cloneElement(i,{ref:s}):null};_c.displayName="Presence";function QX(t){const[e,r]=P.useState(),n=P.useRef({}),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[c,d]=XX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const h=Uw(n.current);s.current=c==="mounted"?h:"none"},[c]),vi(()=>{const h=n.current,g=i.current;if(g!==t){const x=s.current,N=Uw(h);t?d("MOUNT"):N==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(g&&x!==N?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),vi(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,y=N=>{const A=Uw(n.current).includes(N.animationName);if(N.target===e&&A&&(d("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=N=>{N.target===e&&(s.current=Uw(n.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(h=>{h&&(n.current=getComputedStyle(h)),r(h)},[])}}function Uw(t){return(t==null?void 0:t.animationName)||"none"}function ZX(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function aa({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=JX({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,c=Ds(r),d=P.useCallback(h=>{if(s){const y=typeof h=="function"?h(t):h;y!==t&&c(y)}else i(h)},[s,t,i,c]);return[o,d]}function JX({defaultProp:t,onChange:e}){const r=P.useState(t),[n]=r,i=P.useRef(n),s=Ds(e);return P.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var eQ="VisuallyHidden",t0=P.forwardRef((t,e)=>a.jsx(_t.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));t0.displayName=eQ;var tQ=t0,iI="ToastProvider",[sI,rQ,nQ]=Jb("Toast"),[AV,xPe]=Ha("Toast",[nQ]),[iQ,__]=AV(iI),kV=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[c,d]=P.useState(null),[h,g]=P.useState(0),y=P.useRef(!1),x=P.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${iI}\`. Expected non-empty \`string\`.`),a.jsx(sI.Provider,{scope:e,children:a.jsx(iQ,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:P.useCallback(()=>g(N=>N+1),[]),onToastRemove:P.useCallback(()=>g(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:x,children:o})})};kV.displayName=iI;var EV="ToastViewport",sQ=["F8"],CC="toast.viewportPause",PC="toast.viewportResume",TV=P.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=sQ,label:i="Notifications ({hotkey})",...s}=t,o=__(EV,r),c=rQ(r),d=P.useRef(null),h=P.useRef(null),g=P.useRef(null),y=P.useRef(null),x=mr(e,y,o.onViewportChange),N=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=o.toastCount>0;P.useEffect(()=>{const k=D=>{var $;n.length!==0&&n.every(L=>D[L]||D.code===L)&&(($=y.current)==null||$.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n]),P.useEffect(()=>{const k=d.current,D=y.current;if(C&&k&&D){const M=()=>{if(!o.isClosePausedRef.current){const K=new CustomEvent(CC);D.dispatchEvent(K),o.isClosePausedRef.current=!0}},$=()=>{if(o.isClosePausedRef.current){const K=new CustomEvent(PC);D.dispatchEvent(K),o.isClosePausedRef.current=!1}},L=K=>{!k.contains(K.relatedTarget)&&$()},U=()=>{k.contains(document.activeElement)||$()};return k.addEventListener("focusin",M),k.addEventListener("focusout",L),k.addEventListener("pointermove",M),k.addEventListener("pointerleave",U),window.addEventListener("blur",M),window.addEventListener("focus",$),()=>{k.removeEventListener("focusin",M),k.removeEventListener("focusout",L),k.removeEventListener("pointermove",M),k.removeEventListener("pointerleave",U),window.removeEventListener("blur",M),window.removeEventListener("focus",$)}}},[C,o.isClosePausedRef]);const A=P.useCallback(({tabbingDirection:k})=>{const M=c().map($=>{const L=$.ref.current,U=[L,...vQ(L)];return k==="forwards"?U:U.reverse()});return(k==="forwards"?M.reverse():M).flat()},[c]);return P.useEffect(()=>{const k=y.current;if(k){const D=M=>{var U,K,q;const $=M.altKey||M.ctrlKey||M.metaKey;if(M.key==="Tab"&&!$){const V=document.activeElement,Q=M.shiftKey;if(M.target===k&&Q){(U=h.current)==null||U.focus();return}const X=A({tabbingDirection:Q?"backwards":"forwards"}),Y=X.findIndex(se=>se===V);YN(X.slice(Y+1))?M.preventDefault():Q?(K=h.current)==null||K.focus():(q=g.current)==null||q.focus()}};return k.addEventListener("keydown",D),()=>k.removeEventListener("keydown",D)}},[c,A]),a.jsxs(KX,{ref:d,role:"region","aria-label":i.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&a.jsx(IC,{ref:h,onFocusFromOutsideViewport:()=>{const k=A({tabbingDirection:"forwards"});YN(k)}}),a.jsx(sI.Slot,{scope:r,children:a.jsx(_t.ol,{tabIndex:-1,...s,ref:x})}),C&&a.jsx(IC,{ref:g,onFocusFromOutsideViewport:()=>{const k=A({tabbingDirection:"backwards"});YN(k)}})]})});TV.displayName=EV;var CV="ToastFocusProxy",IC=P.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=__(CV,r);return a.jsx(t0,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var h;const c=o.relatedTarget;!((h=s.viewport)!=null&&h.contains(c))&&n()}})});IC.displayName=CV;var j_="Toast",aQ="toast.swipeStart",oQ="toast.swipeMove",lQ="toast.swipeCancel",cQ="toast.swipeEnd",PV=P.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[c=!0,d]=aa({prop:n,defaultProp:i,onChange:s});return a.jsx(_c,{present:r||c,children:a.jsx(hQ,{open:c,...o,ref:e,onClose:()=>d(!1),onPause:Ds(t.onPause),onResume:Ds(t.onResume),onSwipeStart:bt(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:bt(t.onSwipeMove,h=>{const{x:g,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:bt(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:bt(t.onSwipeEnd,h=>{const{x:g,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),d(!1)})})})});PV.displayName=j_;var[uQ,dQ]=AV(j_,{onClose(){}}),hQ=P.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:x,onSwipeEnd:N,...C}=t,A=__(j_,r),[k,D]=P.useState(null),M=mr(e,se=>D(se)),$=P.useRef(null),L=P.useRef(null),U=i||A.duration,K=P.useRef(0),q=P.useRef(U),V=P.useRef(0),{onToastAdd:Q,onToastRemove:J}=A,ee=Ds(()=>{var pe;(k==null?void 0:k.contains(document.activeElement))&&((pe=A.viewport)==null||pe.focus()),o()}),X=P.useCallback(se=>{!se||se===1/0||(window.clearTimeout(V.current),K.current=new Date().getTime(),V.current=window.setTimeout(ee,se))},[ee]);P.useEffect(()=>{const se=A.viewport;if(se){const pe=()=>{X(q.current),h==null||h()},ce=()=>{const me=new Date().getTime()-K.current;q.current=q.current-me,window.clearTimeout(V.current),d==null||d()};return se.addEventListener(CC,ce),se.addEventListener(PC,pe),()=>{se.removeEventListener(CC,ce),se.removeEventListener(PC,pe)}}},[A.viewport,U,d,h,X]),P.useEffect(()=>{s&&!A.isClosePausedRef.current&&X(U)},[s,U,A.isClosePausedRef,X]),P.useEffect(()=>(Q(),()=>J()),[Q,J]);const Y=P.useMemo(()=>k?FV(k):null,[k]);return A.viewport?a.jsxs(a.Fragment,{children:[Y&&a.jsx(fQ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),a.jsx(uQ,{scope:r,onClose:ee,children:Cy.createPortal(a.jsx(sI.ItemSlot,{scope:r,children:a.jsx(GX,{asChild:!0,onEscapeKeyDown:bt(c,()=>{A.isFocusedToastEscapeKeyDownRef.current||ee(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(_t.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":A.swipeDirection,...C,ref:M,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:bt(t.onKeyDown,se=>{se.key==="Escape"&&(c==null||c(se.nativeEvent),se.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:bt(t.onPointerDown,se=>{se.button===0&&($.current={x:se.clientX,y:se.clientY})}),onPointerMove:bt(t.onPointerMove,se=>{if(!$.current)return;const pe=se.clientX-$.current.x,ce=se.clientY-$.current.y,me=!!L.current,he=["left","right"].includes(A.swipeDirection),Se=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,be=he?Se(0,pe):0,ue=he?0:Se(0,ce),ge=se.pointerType==="touch"?10:2,ke={x:be,y:ue},ze={originalEvent:se,delta:ke};me?(L.current=ke,qw(oQ,y,ze,{discrete:!1})):AM(ke,A.swipeDirection,ge)?(L.current=ke,qw(aQ,g,ze,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(pe)>ge||Math.abs(ce)>ge)&&($.current=null)}),onPointerUp:bt(t.onPointerUp,se=>{const pe=L.current,ce=se.target;if(ce.hasPointerCapture(se.pointerId)&&ce.releasePointerCapture(se.pointerId),L.current=null,$.current=null,pe){const me=se.currentTarget,he={originalEvent:se,delta:pe};AM(pe,A.swipeDirection,A.swipeThreshold)?qw(cQ,N,he,{discrete:!0}):qw(lQ,x,he,{discrete:!0}),me.addEventListener("click",Se=>Se.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),fQ=t=>{const{__scopeToast:e,children:r,...n}=t,i=__(j_,e),[s,o]=P.useState(!1),[c,d]=P.useState(!1);return gQ(()=>o(!0)),P.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:a.jsx(S_,{asChild:!0,children:a.jsx(t0,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},pQ="ToastTitle",IV=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(_t.div,{...n,ref:e})});IV.displayName=pQ;var mQ="ToastDescription",OV=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(_t.div,{...n,ref:e})});OV.displayName=mQ;var RV="ToastAction",MV=P.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(LV,{altText:r,asChild:!0,children:a.jsx(aI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${RV}\`. Expected non-empty \`string\`.`),null)});MV.displayName=RV;var DV="ToastClose",aI=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=dQ(DV,r);return a.jsx(LV,{asChild:!0,children:a.jsx(_t.button,{type:"button",...n,ref:e,onClick:bt(t.onClick,i.onClose)})})});aI.displayName=DV;var LV=P.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return a.jsx(_t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function FV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),yQ(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...FV(n))}}),e}function qw(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SV(i,s):i.dispatchEvent(s)}var AM=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function gQ(t=()=>{}){const e=Ds(t);vi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function yQ(t){return t.nodeType===t.ELEMENT_NODE}function vQ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function YN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var xQ=kV,$V=TV,BV=PV,VV=IV,zV=OV,UV=MV,qV=aI;function HV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=HV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=HV(t))&&(n&&(n+=" "),n+=e);return n}const kM=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,EM=tr,N_=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return EM(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(h=>{const g=r==null?void 0:r[h],y=s==null?void 0:s[h];if(g===null)return null;const x=kM(g)||kM(y);return i[h][x]}),c=r&&Object.entries(r).reduce((h,g)=>{let[y,x]=g;return x===void 0||(h[y]=x),h},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,g)=>{let{class:y,className:x,...N}=g;return Object.entries(N).every(C=>{let[A,k]=C;return Array.isArray(k)?k.includes({...s,...c}[A]):{...s,...c}[A]===k})?[...h,y,x]:h},[]);return EM(t,o,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WV=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...c},d)=>P.createElement("svg",{ref:d,...wQ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:WV("lucide",i),...c},[...o.map(([h,g])=>P.createElement(h,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const r=P.forwardRef(({className:n,...i},s)=>P.createElement(SQ,{ref:s,iconNode:e,className:WV(`lucide-${bQ(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=Qe("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=Qe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Qe("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=Qe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Qe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=Qe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Qe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=Qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=Qe("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=Qe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Qe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=Qe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Qe("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=Qe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=Qe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Qe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=Qe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=Qe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=Qe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Qe("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=Qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Qe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Qe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=Qe("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=Qe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=Qe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=Qe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=Qe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=Qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=Qe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=Qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=Qe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Qe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Qe("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Qe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=Qe("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=Qe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=Qe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Qe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=Qe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=Qe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Qe("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=Qe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=Qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Qe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=Qe("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),uI="-",tZ=t=>{const e=nZ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const c=o.split(uI);return c[0]===""&&c.length!==1&&c.shift(),hz(c,e)||rZ(o)},getConflictingClassGroupIds:(o,c)=>{const d=r[o]||[];return c&&n[o]?[...d,...n[o]]:d}}},hz=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?hz(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(uI);return(o=e.validators.find(({validator:c})=>c(s)))==null?void 0:o.classGroupId},RM=/^\[(.+)\]$/,rZ=t=>{if(RM.test(t)){const e=RM.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},nZ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return sZ(Object.entries(t.classGroups),r).forEach(([s,o])=>{LC(o,n,s,e)}),n},LC=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:MM(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(iZ(i)){LC(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{LC(o,MM(e,s),r,n)})})},MM=(t,e)=>{let r=t;return e.split(uI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},iZ=t=>t.isThemeGetter,sZ=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[e+o,c])):s);return[r,i]}):t,aZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},fz="!",oZ=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=c=>{const d=[];let h=0,g=0,y;for(let k=0;k<c.length;k++){let D=c[k];if(h===0){if(D===i&&(n||c.slice(k,k+s)===e)){d.push(c.slice(g,k)),g=k+s;continue}if(D==="/"){y=k;continue}}D==="["?h++:D==="]"&&h--}const x=d.length===0?c:c.substring(g),N=x.startsWith(fz),C=N?x.substring(1):x,A=y&&y>g?y-g:void 0;return{modifiers:d,hasImportantModifier:N,baseClassName:C,maybePostfixModifierPosition:A}};return r?c=>r({className:c,parseClassName:o}):o},lZ=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},cZ=t=>({cache:aZ(t.cacheSize),parseClassName:oZ(t),...tZ(t)}),uZ=/\s+/,dZ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(uZ);let c="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{modifiers:g,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:N}=r(h);let C=!!N,A=n(C?x.substring(0,N):x);if(!A){if(!C){c=h+(c.length>0?" "+c:c);continue}if(A=n(x),!A){c=h+(c.length>0?" "+c:c);continue}C=!1}const k=lZ(g).join(":"),D=y?k+fz:k,M=D+A;if(s.includes(M))continue;s.push(M);const $=i(A,C);for(let L=0;L<$.length;++L){const U=$[L];s.push(D+U)}c=h+(c.length>0?" "+c:c)}return c};function hZ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=pz(e))&&(n&&(n+=" "),n+=r);return n}const pz=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=pz(t[n]))&&(r&&(r+=" "),r+=e);return r};function fZ(t,...e){let r,n,i,s=o;function o(d){const h=e.reduce((g,y)=>y(g),t());return r=cZ(h),n=r.cache.get,i=r.cache.set,s=c,c(d)}function c(d){const h=n(d);if(h)return h;const g=dZ(d,r);return i(d,g),g}return function(){return s(hZ.apply(null,arguments))}}const gn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},mz=/^\[(?:([a-z-]+):)?(.+)\]$/i,pZ=/^\d+\/\d+$/,mZ=new Set(["px","full","screen"]),gZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,du=t=>_g(t)||mZ.has(t)||pZ.test(t),eh=t=>Py(t,"length",EZ),_g=t=>!!t&&!Number.isNaN(Number(t)),ZN=t=>Py(t,"number",_g),hx=t=>!!t&&Number.isInteger(Number(t)),wZ=t=>t.endsWith("%")&&_g(t.slice(0,-1)),ir=t=>mz.test(t),th=t=>gZ.test(t),SZ=new Set(["length","size","percentage"]),_Z=t=>Py(t,SZ,gz),jZ=t=>Py(t,"position",gz),NZ=new Set(["image","url"]),AZ=t=>Py(t,NZ,CZ),kZ=t=>Py(t,"",TZ),fx=()=>!0,Py=(t,e,r)=>{const n=mz.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},EZ=t=>yZ.test(t)&&!vZ.test(t),gz=()=>!1,TZ=t=>xZ.test(t),CZ=t=>bZ.test(t),PZ=()=>{const t=gn("colors"),e=gn("spacing"),r=gn("blur"),n=gn("brightness"),i=gn("borderColor"),s=gn("borderRadius"),o=gn("borderSpacing"),c=gn("borderWidth"),d=gn("contrast"),h=gn("grayscale"),g=gn("hueRotate"),y=gn("invert"),x=gn("gap"),N=gn("gradientColorStops"),C=gn("gradientColorStopPositions"),A=gn("inset"),k=gn("margin"),D=gn("opacity"),M=gn("padding"),$=gn("saturate"),L=gn("scale"),U=gn("sepia"),K=gn("skew"),q=gn("space"),V=gn("translate"),Q=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",ir,e],X=()=>[ir,e],Y=()=>["",du,eh],se=()=>["auto",_g,ir],pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["start","end","center","between","around","evenly","stretch"],Se=()=>["","0",ir],be=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[_g,ir];return{cacheSize:500,separator:":",theme:{colors:[fx],spacing:[du,eh],blur:["none","",th,ir],brightness:ue(),borderColor:[t],borderRadius:["none","","full",th,ir],borderSpacing:X(),borderWidth:Y(),contrast:ue(),grayscale:Se(),hueRotate:ue(),invert:Se(),gap:X(),gradientColorStops:[t],gradientColorStopPositions:[wZ,eh],inset:ee(),margin:ee(),opacity:ue(),padding:X(),saturate:ue(),scale:ue(),sepia:Se(),skew:ue(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[th]}],"break-after":[{"break-after":be()}],"break-before":[{"break-before":be()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pe(),ir]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hx,ir]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:Se()}],shrink:[{shrink:Se()}],order:[{order:["first","last","none",hx,ir]}],"grid-cols":[{"grid-cols":[fx]}],"col-start-end":[{col:["auto",{span:["full",hx,ir]},ir]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[fx]}],"row-start-end":[{row:["auto",{span:[hx,ir]},ir]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...he()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...he(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...he(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,e]}],"min-w":[{"min-w":[ir,e,"min","max","fit"]}],"max-w":[{"max-w":[ir,e,"none","full","min","max","fit","prose",{screen:[th]},th]}],h:[{h:[ir,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,e,"auto","min","max","fit"]}],"font-size":[{text:["base",th,eh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ZN]}],"font-family":[{font:[fx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",_g,ZN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",du,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",du,eh]}],"underline-offset":[{"underline-offset":["auto",du,ir]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pe(),jZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_Z]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[du,ir]}],"outline-w":[{outline:[du,eh]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[du,eh]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",th,kZ]}],"shadow-color":[{shadow:[fx]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",th,ir]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[$]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[hx,ir]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[K]}],"skew-y":[{"skew-y":[K]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[du,eh,ZN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IZ=fZ(PZ);function Ot(...t){return IZ(tr(t))}const OZ=xQ,yz=P.forwardRef(({className:t,...e},r)=>a.jsx($V,{ref:r,className:Ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));yz.displayName=$V.displayName;const RZ=N_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vz=P.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(BV,{ref:n,className:Ot(RZ({variant:e}),t),...r}));vz.displayName=BV.displayName;const MZ=P.forwardRef(({className:t,...e},r)=>a.jsx(UV,{ref:r,className:Ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));MZ.displayName=UV.displayName;const xz=P.forwardRef(({className:t,...e},r)=>a.jsx(qV,{ref:r,className:Ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(qa,{className:"h-4 w-4"})}));xz.displayName=qV.displayName;const bz=P.forwardRef(({className:t,...e},r)=>a.jsx(VV,{ref:r,className:Ot("text-sm font-semibold",t),...e}));bz.displayName=VV.displayName;const wz=P.forwardRef(({className:t,...e},r)=>a.jsx(zV,{ref:r,className:Ot("text-sm opacity-90",t),...e}));wz.displayName=zV.displayName;function DZ(){const{toasts:t}=hn();return a.jsxs(OZ,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return a.jsxs(vz,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(bz,{children:r}),n&&a.jsx(wz,{children:n})]}),i,a.jsx(xz,{})]},e)}),a.jsx(yz,{})]})}var DM=["light","dark"],LZ="(prefers-color-scheme: dark)",FZ=P.createContext(void 0),$Z={setTheme:t=>{},themes:[]},BZ=()=>{var t;return(t=P.useContext(FZ))!=null?t:$Z};P.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:o,attrs:c,nonce:d})=>{let h=s==="system",g=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(C=>`'${C}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,y=i?DM.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(C,A=!1,k=!0)=>{let D=o?o[C]:C,M=A?C+"|| ''":`'${D}'`,$="";return i&&k&&!A&&DM.includes(C)&&($+=`d.style.colorScheme = '${C}';`),r==="class"?A||D?$+=`c.add(${M})`:$+="null":D&&($+=`d[s](n,${M})`),$},N=t?`!function(){${g}${x(t)}}()`:n?`!function(){try{${g}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${LZ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${x(o?"x[e]":"e",!0)}}${h?"":"else{"+x(s,!1,!1)+"}"}${y}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${x(o?"x[e]":"e",!0)}}else{${x(s,!1,!1)};}${y}}catch(t){}}();`;return P.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:N}})});var VZ=t=>{switch(t){case"success":return qZ;case"info":return WZ;case"warning":return HZ;case"error":return GZ;default:return null}},zZ=Array(12).fill(0),UZ=({visible:t})=>de.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},de.createElement("div",{className:"sonner-spinner"},zZ.map((e,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),qZ=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HZ=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WZ=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GZ=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KZ=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},FC=1,YZ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:FC++,s=this.toasts.find(c=>c.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:o,title:r}):c):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0;return n.then(async s=>{if(QZ(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,c=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:r,type:"error",message:o,description:c})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,c=typeof e.description=="function"?await e.description(s):e.description;this.create({id:r,type:"success",message:o,description:c})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,c=typeof e.description=="function"?await e.description(s):e.description;this.create({id:r,type:"error",message:o,description:c})}}).finally(()=>{var s;i&&(this.dismiss(r),r=void 0),(s=e.finally)==null||s.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||FC++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},Pa=new YZ,XZ=(t,e)=>{let r=(e==null?void 0:e.id)||FC++;return Pa.addToast({title:t,...e,id:r}),r},QZ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ZZ=XZ,JZ=()=>Pa.toasts;Object.assign(ZZ,{success:Pa.success,info:Pa.info,warning:Pa.warning,error:Pa.error,custom:Pa.custom,message:Pa.message,promise:Pa.promise,dismiss:Pa.dismiss,loading:Pa.loading},{getHistory:JZ});function eJ(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}eJ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ww(t){return t.label!==void 0}var tJ=3,rJ="32px",nJ=4e3,iJ=356,sJ=14,aJ=20,oJ=200;function lJ(...t){return t.filter(Boolean).join(" ")}var cJ=t=>{var e,r,n,i,s,o,c,d,h,g;let{invert:y,toast:x,unstyled:N,interacting:C,setHeights:A,visibleToasts:k,heights:D,index:M,toasts:$,expanded:L,removeToast:U,defaultRichColors:K,closeButton:q,style:V,cancelButtonStyle:Q,actionButtonStyle:J,className:ee="",descriptionClassName:X="",duration:Y,position:se,gap:pe,loadingIcon:ce,expandByDefault:me,classNames:he,icons:Se,closeButtonAriaLabel:be="Close toast",pauseWhenPageIsHidden:ue,cn:ge}=t,[ke,ze]=de.useState(!1),[et,Ke]=de.useState(!1),[_e,Ce]=de.useState(!1),[Me,Be]=de.useState(!1),[Ue,Oe]=de.useState(0),[Le,vt]=de.useState(0),Ft=de.useRef(null),Dt=de.useRef(null),gr=M===0,Zr=M+1<=k,at=x.type,Pt=x.dismissible!==!1,Wt=x.className||"",Ir=x.descriptionClassName||"",Fr=de.useMemo(()=>D.findIndex(jt=>jt.toastId===x.id)||0,[D,x.id]),fn=de.useMemo(()=>{var jt;return(jt=x.closeButton)!=null?jt:q},[x.closeButton,q]),Xi=de.useMemo(()=>x.duration||Y||nJ,[x.duration,Y]),Yt=de.useRef(0),yr=de.useRef(0),Ls=de.useRef(0),Fs=de.useRef(null),[ua,Wa]=se.split("-"),Ga=de.useMemo(()=>D.reduce((jt,vr,Gt)=>Gt>=Fr?jt:jt+vr.height,0),[D,Fr]),$r=KZ(),xo=x.invert||y,bo=at==="loading";yr.current=de.useMemo(()=>Fr*pe+Ga,[Fr,Ga]),de.useEffect(()=>{ze(!0)},[]),de.useLayoutEffect(()=>{if(!ke)return;let jt=Dt.current,vr=jt.style.height;jt.style.height="auto";let Gt=jt.getBoundingClientRect().height;jt.style.height=vr,vt(Gt),A(pn=>pn.find(Jr=>Jr.toastId===x.id)?pn.map(Jr=>Jr.toastId===x.id?{...Jr,height:Gt}:Jr):[{toastId:x.id,height:Gt,position:x.position},...pn])},[ke,x.title,x.description,A,x.id]);let Qi=de.useCallback(()=>{Ke(!0),Oe(yr.current),A(jt=>jt.filter(vr=>vr.toastId!==x.id)),setTimeout(()=>{U(x)},oJ)},[x,U,A,yr]);de.useEffect(()=>{if(x.promise&&at==="loading"||x.duration===1/0||x.type==="loading")return;let jt,vr=Xi;return L||C||ue&&$r?(()=>{if(Ls.current<Yt.current){let Gt=new Date().getTime()-Yt.current;vr=vr-Gt}Ls.current=new Date().getTime()})():vr!==1/0&&(Yt.current=new Date().getTime(),jt=setTimeout(()=>{var Gt;(Gt=x.onAutoClose)==null||Gt.call(x,x),Qi()},vr)),()=>clearTimeout(jt)},[L,C,me,x,Xi,Qi,x.promise,at,ue,$r]),de.useEffect(()=>{let jt=Dt.current;if(jt){let vr=jt.getBoundingClientRect().height;return vt(vr),A(Gt=>[{toastId:x.id,height:vr,position:x.position},...Gt]),()=>A(Gt=>Gt.filter(pn=>pn.toastId!==x.id))}},[A,x.id]),de.useEffect(()=>{x.delete&&Qi()},[Qi,x.delete]);function Ec(){return Se!=null&&Se.loading?de.createElement("div",{className:"sonner-loader","data-visible":at==="loading"},Se.loading):ce?de.createElement("div",{className:"sonner-loader","data-visible":at==="loading"},ce):de.createElement(UZ,{visible:at==="loading"})}return de.createElement("li",{"aria-live":x.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Dt,className:ge(ee,Wt,he==null?void 0:he.toast,(e=x==null?void 0:x.classNames)==null?void 0:e.toast,he==null?void 0:he.default,he==null?void 0:he[at],(r=x==null?void 0:x.classNames)==null?void 0:r[at]),"data-sonner-toast":"","data-rich-colors":(n=x.richColors)!=null?n:K,"data-styled":!(x.jsx||x.unstyled||N),"data-mounted":ke,"data-promise":!!x.promise,"data-removed":et,"data-visible":Zr,"data-y-position":ua,"data-x-position":Wa,"data-index":M,"data-front":gr,"data-swiping":_e,"data-dismissible":Pt,"data-type":at,"data-invert":xo,"data-swipe-out":Me,"data-expanded":!!(L||me&&ke),style:{"--index":M,"--toasts-before":M,"--z-index":$.length-M,"--offset":`${et?Ue:yr.current}px`,"--initial-height":me?"auto":`${Le}px`,...V,...x.style},onPointerDown:jt=>{bo||!Pt||(Ft.current=new Date,Oe(yr.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(Ce(!0),Fs.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,vr,Gt,pn;if(Me||!Pt)return;Fs.current=null;let Jr=Number(((jt=Dt.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),da=new Date().getTime()-((vr=Ft.current)==null?void 0:vr.getTime()),$s=Math.abs(Jr)/da;if(Math.abs(Jr)>=aJ||$s>.11){Oe(yr.current),(Gt=x.onDismiss)==null||Gt.call(x,x),Qi(),Be(!0);return}(pn=Dt.current)==null||pn.style.setProperty("--swipe-amount","0px"),Ce(!1)},onPointerMove:jt=>{var vr;if(!Fs.current||!Pt)return;let Gt=jt.clientY-Fs.current.y,pn=jt.clientX-Fs.current.x,Jr=(ua==="top"?Math.min:Math.max)(0,Gt),da=jt.pointerType==="touch"?10:2;Math.abs(Jr)>da?(vr=Dt.current)==null||vr.style.setProperty("--swipe-amount",`${Gt}px`):Math.abs(pn)>da&&(Fs.current=null)}},fn&&!x.jsx?de.createElement("button",{"aria-label":be,"data-disabled":bo,"data-close-button":!0,onClick:bo||!Pt?()=>{}:()=>{var jt;Qi(),(jt=x.onDismiss)==null||jt.call(x,x)},className:ge(he==null?void 0:he.closeButton,(i=x==null?void 0:x.classNames)==null?void 0:i.closeButton)},de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,x.jsx||de.isValidElement(x.title)?x.jsx||x.title:de.createElement(de.Fragment,null,at||x.icon||x.promise?de.createElement("div",{"data-icon":"",className:ge(he==null?void 0:he.icon,(s=x==null?void 0:x.classNames)==null?void 0:s.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Ec():null,x.type!=="loading"?x.icon||(Se==null?void 0:Se[at])||VZ(at):null):null,de.createElement("div",{"data-content":"",className:ge(he==null?void 0:he.content,(o=x==null?void 0:x.classNames)==null?void 0:o.content)},de.createElement("div",{"data-title":"",className:ge(he==null?void 0:he.title,(c=x==null?void 0:x.classNames)==null?void 0:c.title)},x.title),x.description?de.createElement("div",{"data-description":"",className:ge(X,Ir,he==null?void 0:he.description,(d=x==null?void 0:x.classNames)==null?void 0:d.description)},x.description):null),de.isValidElement(x.cancel)?x.cancel:x.cancel&&Ww(x.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||Q,onClick:jt=>{var vr,Gt;Ww(x.cancel)&&Pt&&((Gt=(vr=x.cancel).onClick)==null||Gt.call(vr,jt),Qi())},className:ge(he==null?void 0:he.cancelButton,(h=x==null?void 0:x.classNames)==null?void 0:h.cancelButton)},x.cancel.label):null,de.isValidElement(x.action)?x.action:x.action&&Ww(x.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||J,onClick:jt=>{var vr,Gt;Ww(x.action)&&(jt.defaultPrevented||((Gt=(vr=x.action).onClick)==null||Gt.call(vr,jt),Qi()))},className:ge(he==null?void 0:he.actionButton,(g=x==null?void 0:x.classNames)==null?void 0:g.actionButton)},x.action.label):null))};function LM(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var uJ=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:c,theme:d="light",richColors:h,duration:g,style:y,visibleToasts:x=tJ,toastOptions:N,dir:C=LM(),gap:A=sJ,loadingIcon:k,icons:D,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:$,cn:L=lJ}=t,[U,K]=de.useState([]),q=de.useMemo(()=>Array.from(new Set([r].concat(U.filter(ue=>ue.position).map(ue=>ue.position)))),[U,r]),[V,Q]=de.useState([]),[J,ee]=de.useState(!1),[X,Y]=de.useState(!1),[se,pe]=de.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=de.useRef(null),me=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),he=de.useRef(null),Se=de.useRef(!1),be=de.useCallback(ue=>{var ge;(ge=U.find(ke=>ke.id===ue.id))!=null&&ge.delete||Pa.dismiss(ue.id),K(ke=>ke.filter(({id:ze})=>ze!==ue.id))},[U]);return de.useEffect(()=>Pa.subscribe(ue=>{if(ue.dismiss){K(ge=>ge.map(ke=>ke.id===ue.id?{...ke,delete:!0}:ke));return}setTimeout(()=>{xV.flushSync(()=>{K(ge=>{let ke=ge.findIndex(ze=>ze.id===ue.id);return ke!==-1?[...ge.slice(0,ke),{...ge[ke],...ue},...ge.slice(ke+1)]:[ue,...ge]})})})}),[]),de.useEffect(()=>{if(d!=="system"){pe(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ue})=>{pe(ue?"dark":"light")})},[d]),de.useEffect(()=>{U.length<=1&&ee(!1)},[U]),de.useEffect(()=>{let ue=ge=>{var ke,ze;n.every(et=>ge[et]||ge.code===et)&&(ee(!0),(ke=ce.current)==null||ke.focus()),ge.code==="Escape"&&(document.activeElement===ce.current||(ze=ce.current)!=null&&ze.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[n]),de.useEffect(()=>{if(ce.current)return()=>{he.current&&(he.current.focus({preventScroll:!0}),he.current=null,Se.current=!1)}},[ce.current]),U.length?de.createElement("section",{"aria-label":`${M} ${me}`,tabIndex:-1},q.map((ue,ge)=>{var ke;let[ze,et]=ue.split("-");return de.createElement("ol",{key:ue,dir:C==="auto"?LM():C,tabIndex:-1,ref:ce,className:o,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":ze,"data-x-position":et,style:{"--front-toast-height":`${((ke=V[0])==null?void 0:ke.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||rJ,"--width":`${iJ}px`,"--gap":`${A}px`,...y},onBlur:Ke=>{Se.current&&!Ke.currentTarget.contains(Ke.relatedTarget)&&(Se.current=!1,he.current&&(he.current.focus({preventScroll:!0}),he.current=null))},onFocus:Ke=>{Ke.target instanceof HTMLElement&&Ke.target.dataset.dismissible==="false"||Se.current||(Se.current=!0,he.current=Ke.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{X||ee(!1)},onPointerDown:Ke=>{Ke.target instanceof HTMLElement&&Ke.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},U.filter(Ke=>!Ke.position&&ge===0||Ke.position===ue).map((Ke,_e)=>{var Ce,Me;return de.createElement(cJ,{key:Ke.id,icons:D,index:_e,toast:Ke,defaultRichColors:h,duration:(Ce=N==null?void 0:N.duration)!=null?Ce:g,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:e,visibleToasts:x,closeButton:(Me=N==null?void 0:N.closeButton)!=null?Me:s,interacting:X,position:ue,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:be,toasts:U.filter(Be=>Be.position==Ke.position),heights:V.filter(Be=>Be.position==Ke.position),setHeights:Q,expandByDefault:i,gap:A,loadingIcon:k,expanded:J,pauseWhenPageIsHidden:$,cn:L})}))})):null};const dJ=({...t})=>{const{theme:e="system"}=BZ();return a.jsx(uJ,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var hJ=vV.useId||(()=>{}),fJ=0;function ll(t){const[e,r]=P.useState(hJ());return vi(()=>{r(n=>n??String(fJ++))},[t]),e?`radix-${e}`:""}const pJ=["top","right","bottom","left"],Oh=Math.min,Oa=Math.max,z1=Math.round,Gw=Math.floor,Rh=t=>({x:t,y:t}),mJ={left:"right",right:"left",bottom:"top",top:"bottom"},gJ={start:"end",end:"start"};function $C(t,e,r){return Oa(t,Oh(e,r))}function Ru(t,e){return typeof t=="function"?t(e):t}function Mu(t){return t.split("-")[0]}function Iy(t){return t.split("-")[1]}function dI(t){return t==="x"?"y":"x"}function hI(t){return t==="y"?"height":"width"}function Mh(t){return["top","bottom"].includes(Mu(t))?"y":"x"}function fI(t){return dI(Mh(t))}function yJ(t,e,r){r===void 0&&(r=!1);const n=Iy(t),i=fI(t),s=hI(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=U1(o)),[o,U1(o)]}function vJ(t){const e=U1(t);return[BC(t),e,BC(e)]}function BC(t){return t.replace(/start|end/g,e=>gJ[e])}function xJ(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function bJ(t,e,r,n){const i=Iy(t);let s=xJ(Mu(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(BC)))),s}function U1(t){return t.replace(/left|right|bottom|top/g,e=>mJ[e])}function wJ(t){return{top:0,right:0,bottom:0,left:0,...t}}function Sz(t){return typeof t!="number"?wJ(t):{top:t,right:t,bottom:t,left:t}}function q1(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function FM(t,e,r){let{reference:n,floating:i}=t;const s=Mh(e),o=fI(e),c=hI(o),d=Mu(e),h=s==="y",g=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,x=n[c]/2-i[c]/2;let N;switch(d){case"top":N={x:g,y:n.y-i.height};break;case"bottom":N={x:g,y:n.y+n.height};break;case"right":N={x:n.x+n.width,y};break;case"left":N={x:n.x-i.width,y};break;default:N={x:n.x,y:n.y}}switch(Iy(e)){case"start":N[o]-=x*(r&&h?-1:1);break;case"end":N[o]+=x*(r&&h?-1:1);break}return N}const SJ=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,c=s.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y}=FM(h,n,d),x=n,N={},C=0;for(let A=0;A<c.length;A++){const{name:k,fn:D}=c[A],{x:M,y:$,data:L,reset:U}=await D({x:g,y,initialPlacement:n,placement:x,strategy:i,middlewareData:N,rects:h,platform:o,elements:{reference:t,floating:e}});g=M??g,y=$??y,N={...N,[k]:{...N[k],...L}},U&&C<=50&&(C++,typeof U=="object"&&(U.placement&&(x=U.placement),U.rects&&(h=U.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):U.rects),{x:g,y}=FM(h,x,d)),A=-1)}return{x:g,y,placement:x,strategy:i,middlewareData:N}};async function Zx(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:N=0}=Ru(e,t),C=Sz(N),k=c[x?y==="floating"?"reference":"floating":y],D=q1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(k)))==null||r?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:d})),M=y==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,$=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),L=await(s.isElement==null?void 0:s.isElement($))?await(s.getScale==null?void 0:s.getScale($))||{x:1,y:1}:{x:1,y:1},U=q1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:M,offsetParent:$,strategy:d}):M);return{top:(D.top-U.top+C.top)/L.y,bottom:(U.bottom-D.bottom+C.bottom)/L.y,left:(D.left-U.left+C.left)/L.x,right:(U.right-D.right+C.right)/L.x}}const _J=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:g=0}=Ru(t,e)||{};if(h==null)return{};const y=Sz(g),x={x:r,y:n},N=fI(i),C=hI(N),A=await o.getDimensions(h),k=N==="y",D=k?"top":"left",M=k?"bottom":"right",$=k?"clientHeight":"clientWidth",L=s.reference[C]+s.reference[N]-x[N]-s.floating[C],U=x[N]-s.reference[N],K=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let q=K?K[$]:0;(!q||!await(o.isElement==null?void 0:o.isElement(K)))&&(q=c.floating[$]||s.floating[C]);const V=L/2-U/2,Q=q/2-A[C]/2-1,J=Oh(y[D],Q),ee=Oh(y[M],Q),X=J,Y=q-A[C]-ee,se=q/2-A[C]/2+V,pe=$C(X,se,Y),ce=!d.arrow&&Iy(i)!=null&&se!==pe&&s.reference[C]/2-(se<X?J:ee)-A[C]/2<0,me=ce?se<X?se-X:se-Y:0;return{[N]:x[N]+me,data:{[N]:pe,centerOffset:se-pe-me,...ce&&{alignmentOffset:me}},reset:ce}}}),jJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...k}=Ru(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const D=Mu(i),M=Mh(c),$=Mu(c)===c,L=await(d.isRTL==null?void 0:d.isRTL(h.floating)),U=x||($||!A?[U1(c)]:vJ(c)),K=C!=="none";!x&&K&&U.push(...bJ(c,A,C,L));const q=[c,...U],V=await Zx(e,k),Q=[];let J=((n=s.flip)==null?void 0:n.overflows)||[];if(g&&Q.push(V[D]),y){const se=yJ(i,o,L);Q.push(V[se[0]],V[se[1]])}if(J=[...J,{placement:i,overflows:Q}],!Q.every(se=>se<=0)){var ee,X;const se=(((ee=s.flip)==null?void 0:ee.index)||0)+1,pe=q[se];if(pe)return{data:{index:se,overflows:J},reset:{placement:pe}};let ce=(X=J.filter(me=>me.overflows[0]<=0).sort((me,he)=>me.overflows[1]-he.overflows[1])[0])==null?void 0:X.placement;if(!ce)switch(N){case"bestFit":{var Y;const me=(Y=J.filter(he=>{if(K){const Se=Mh(he.placement);return Se===M||Se==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(Se=>Se>0).reduce((Se,be)=>Se+be,0)]).sort((he,Se)=>he[1]-Se[1])[0])==null?void 0:Y[0];me&&(ce=me);break}case"initialPlacement":ce=c;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};function $M(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function BM(t){return pJ.some(e=>t[e]>=0)}const NJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Ru(t,e);switch(n){case"referenceHidden":{const s=await Zx(e,{...i,elementContext:"reference"}),o=$M(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:BM(o)}}}case"escaped":{const s=await Zx(e,{...i,altBoundary:!0}),o=$M(s,r.floating);return{data:{escapedOffsets:o,escaped:BM(o)}}}default:return{}}}}};async function AJ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Mu(r),c=Iy(r),d=Mh(r)==="y",h=["left","top"].includes(o)?-1:1,g=s&&d?-1:1,y=Ru(e,t);let{mainAxis:x,crossAxis:N,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof C=="number"&&(N=c==="end"?C*-1:C),d?{x:N*g,y:x*h}:{x:x*h,y:N*g}}const kJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:c}=e,d=await AJ(e,t);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:o}}}}},EJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:k=>{let{x:D,y:M}=k;return{x:D,y:M}}},...d}=Ru(t,e),h={x:r,y:n},g=await Zx(e,d),y=Mh(Mu(i)),x=dI(y);let N=h[x],C=h[y];if(s){const k=x==="y"?"top":"left",D=x==="y"?"bottom":"right",M=N+g[k],$=N-g[D];N=$C(M,N,$)}if(o){const k=y==="y"?"top":"left",D=y==="y"?"bottom":"right",M=C+g[k],$=C-g[D];C=$C(M,C,$)}const A=c.fn({...e,[x]:N,[y]:C});return{...A,data:{x:A.x-r,y:A.y-n,enabled:{[x]:s,[y]:o}}}}}},TJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Ru(t,e),g={x:r,y:n},y=Mh(i),x=dI(y);let N=g[x],C=g[y];const A=Ru(c,e),k=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(d){const $=x==="y"?"height":"width",L=s.reference[x]-s.floating[$]+k.mainAxis,U=s.reference[x]+s.reference[$]-k.mainAxis;N<L?N=L:N>U&&(N=U)}if(h){var D,M;const $=x==="y"?"width":"height",L=["top","left"].includes(Mu(i)),U=s.reference[y]-s.floating[$]+(L&&((D=o.offset)==null?void 0:D[y])||0)+(L?0:k.crossAxis),K=s.reference[y]+s.reference[$]+(L?0:((M=o.offset)==null?void 0:M[y])||0)-(L?k.crossAxis:0);C<U?C=U:C>K&&(C=K)}return{[x]:N,[y]:C}}}},CJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:c}=e,{apply:d=()=>{},...h}=Ru(t,e),g=await Zx(e,h),y=Mu(i),x=Iy(i),N=Mh(i)==="y",{width:C,height:A}=s.floating;let k,D;y==="top"||y==="bottom"?(k=y,D=x===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(D=y,k=x==="end"?"top":"bottom");const M=A-g.top-g.bottom,$=C-g.left-g.right,L=Oh(A-g[k],M),U=Oh(C-g[D],$),K=!e.middlewareData.shift;let q=L,V=U;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(V=$),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(q=M),K&&!x){const J=Oa(g.left,0),ee=Oa(g.right,0),X=Oa(g.top,0),Y=Oa(g.bottom,0);N?V=C-2*(J!==0||ee!==0?J+ee:Oa(g.left,g.right)):q=A-2*(X!==0||Y!==0?X+Y:Oa(g.top,g.bottom))}await d({...e,availableWidth:V,availableHeight:q});const Q=await o.getDimensions(c.floating);return C!==Q.width||A!==Q.height?{reset:{rects:!0}}:{}}}};function E_(){return typeof window<"u"}function Oy(t){return _z(t)?(t.nodeName||"").toLowerCase():"#document"}function $a(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jc(t){var e;return(e=(_z(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _z(t){return E_()?t instanceof Node||t instanceof $a(t).Node:!1}function hl(t){return E_()?t instanceof Element||t instanceof $a(t).Element:!1}function gc(t){return E_()?t instanceof HTMLElement||t instanceof $a(t).HTMLElement:!1}function VM(t){return!E_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $a(t).ShadowRoot}function n0(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=fl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function PJ(t){return["table","td","th"].includes(Oy(t))}function T_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function pI(t){const e=mI(),r=hl(t)?fl(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function IJ(t){let e=Dh(t);for(;gc(e)&&!Hg(e);){if(pI(e))return e;if(T_(e))return null;e=Dh(e)}return null}function mI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hg(t){return["html","body","#document"].includes(Oy(t))}function fl(t){return $a(t).getComputedStyle(t)}function C_(t){return hl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Dh(t){if(Oy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VM(t)&&t.host||jc(t);return VM(e)?e.host:e}function jz(t){const e=Dh(t);return Hg(e)?t.ownerDocument?t.ownerDocument.body:t.body:gc(e)&&n0(e)?e:jz(e)}function Jx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=jz(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=$a(i);if(s){const c=VC(o);return e.concat(o,o.visualViewport||[],n0(i)?i:[],c&&r?Jx(c):[])}return e.concat(i,Jx(i,[],r))}function VC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Nz(t){const e=fl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=gc(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,c=z1(r)!==s||z1(n)!==o;return c&&(r=s,n=o),{width:r,height:n,$:c}}function gI(t){return hl(t)?t:t.contextElement}function jg(t){const e=gI(t);if(!gc(e))return Rh(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=Nz(e);let o=(s?z1(r.width):r.width)/n,c=(s?z1(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const OJ=Rh(0);function Az(t){const e=$a(t);return!mI()||!e.visualViewport?OJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RJ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==$a(t)?!1:e}function kp(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=gI(t);let o=Rh(1);e&&(n?hl(n)&&(o=jg(n)):o=jg(t));const c=RJ(s,r,n)?Az(s):Rh(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,g=i.width/o.x,y=i.height/o.y;if(s){const x=$a(s),N=n&&hl(n)?$a(n):n;let C=x,A=VC(C);for(;A&&n&&N!==C;){const k=jg(A),D=A.getBoundingClientRect(),M=fl(A),$=D.left+(A.clientLeft+parseFloat(M.paddingLeft))*k.x,L=D.top+(A.clientTop+parseFloat(M.paddingTop))*k.y;d*=k.x,h*=k.y,g*=k.x,y*=k.y,d+=$,h+=L,C=$a(A),A=VC(C)}}return q1({width:g,height:y,x:d,y:h})}function MJ(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=jc(n),c=e?T_(e.floating):!1;if(n===o||c&&s)return r;let d={scrollLeft:0,scrollTop:0},h=Rh(1);const g=Rh(0),y=gc(n);if((y||!y&&!s)&&((Oy(n)!=="body"||n0(o))&&(d=C_(n)),gc(n))){const x=kp(n);h=jg(n),g.x=x.x+n.clientLeft,g.y=x.y+n.clientTop}return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+g.x,y:r.y*h.y-d.scrollTop*h.y+g.y}}function DJ(t){return Array.from(t.getClientRects())}function zC(t,e){const r=C_(t).scrollLeft;return e?e.left+r:kp(jc(t)).left+r}function LJ(t){const e=jc(t),r=C_(t),n=t.ownerDocument.body,i=Oa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Oa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+zC(t);const c=-r.scrollTop;return fl(n).direction==="rtl"&&(o+=Oa(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:c}}function FJ(t,e){const r=$a(t),n=jc(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,d=0;if(i){s=i.width,o=i.height;const h=mI();(!h||h&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:s,height:o,x:c,y:d}}function $J(t,e){const r=kp(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=gc(t)?jg(t):Rh(1),o=t.clientWidth*s.x,c=t.clientHeight*s.y,d=i*s.x,h=n*s.y;return{width:o,height:c,x:d,y:h}}function zM(t,e,r){let n;if(e==="viewport")n=FJ(t,r);else if(e==="document")n=LJ(jc(t));else if(hl(e))n=$J(e,r);else{const i=Az(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return q1(n)}function kz(t,e){const r=Dh(t);return r===e||!hl(r)||Hg(r)?!1:fl(r).position==="fixed"||kz(r,e)}function BJ(t,e){const r=e.get(t);if(r)return r;let n=Jx(t,[],!1).filter(c=>hl(c)&&Oy(c)!=="body"),i=null;const s=fl(t).position==="fixed";let o=s?Dh(t):t;for(;hl(o)&&!Hg(o);){const c=fl(o),d=pI(o);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||n0(o)&&!d&&kz(t,o))?n=n.filter(g=>g!==o):i=c,o=Dh(o)}return e.set(t,n),n}function VJ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?T_(e)?[]:BJ(e,this._c):[].concat(r),n],c=o[0],d=o.reduce((h,g)=>{const y=zM(e,g,i);return h.top=Oa(y.top,h.top),h.right=Oh(y.right,h.right),h.bottom=Oh(y.bottom,h.bottom),h.left=Oa(y.left,h.left),h},zM(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function zJ(t){const{width:e,height:r}=Nz(t);return{width:e,height:r}}function UJ(t,e,r){const n=gc(e),i=jc(e),s=r==="fixed",o=kp(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const d=Rh(0);if(n||!n&&!s)if((Oy(e)!=="body"||n0(i))&&(c=C_(e)),n){const N=kp(e,!0,s,e);d.x=N.x+e.clientLeft,d.y=N.y+e.clientTop}else i&&(d.x=zC(i));let h=0,g=0;if(i&&!n&&!s){const N=i.getBoundingClientRect();g=N.top+c.scrollTop,h=N.left+c.scrollLeft-zC(i,N)}const y=o.left+c.scrollLeft-d.x-h,x=o.top+c.scrollTop-d.y-g;return{x:y,y:x,width:o.width,height:o.height}}function JN(t){return fl(t).position==="static"}function UM(t,e){if(!gc(t)||fl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return jc(t)===r&&(r=r.ownerDocument.body),r}function Ez(t,e){const r=$a(t);if(T_(t))return r;if(!gc(t)){let i=Dh(t);for(;i&&!Hg(i);){if(hl(i)&&!JN(i))return i;i=Dh(i)}return r}let n=UM(t,e);for(;n&&PJ(n)&&JN(n);)n=UM(n,e);return n&&Hg(n)&&JN(n)&&!pI(n)?r:n||IJ(t)||r}const qJ=async function(t){const e=this.getOffsetParent||Ez,r=this.getDimensions,n=await r(t.floating);return{reference:UJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function HJ(t){return fl(t).direction==="rtl"}const WJ={convertOffsetParentRelativeRectToViewportRelativeRect:MJ,getDocumentElement:jc,getClippingRect:VJ,getOffsetParent:Ez,getElementRects:qJ,getClientRects:DJ,getDimensions:zJ,getScale:jg,isElement:hl,isRTL:HJ};function GJ(t,e){let r=null,n;const i=jc(t);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const{left:h,top:g,width:y,height:x}=t.getBoundingClientRect();if(c||e(),!y||!x)return;const N=Gw(g),C=Gw(i.clientWidth-(h+y)),A=Gw(i.clientHeight-(g+x)),k=Gw(h),M={rootMargin:-N+"px "+-C+"px "+-A+"px "+-k+"px",threshold:Oa(0,Oh(1,d))||1};let $=!0;function L(U){const K=U[0].intersectionRatio;if(K!==d){if(!$)return o();K?o(!1,K):n=setTimeout(()=>{o(!1,1e-7)},1e3)}$=!1}try{r=new IntersectionObserver(L,{...M,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,M)}r.observe(t)}return o(!0),s}function KJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=gI(t),g=i||s?[...h?Jx(h):[],...Jx(e)]:[];g.forEach(D=>{i&&D.addEventListener("scroll",r,{passive:!0}),s&&D.addEventListener("resize",r)});const y=h&&c?GJ(h,r):null;let x=-1,N=null;o&&(N=new ResizeObserver(D=>{let[M]=D;M&&M.target===h&&N&&(N.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var $;($=N)==null||$.observe(e)})),r()}),h&&!d&&N.observe(h),N.observe(e));let C,A=d?kp(t):null;d&&k();function k(){const D=kp(t);A&&(D.x!==A.x||D.y!==A.y||D.width!==A.width||D.height!==A.height)&&r(),A=D,C=requestAnimationFrame(k)}return r(),()=>{var D;g.forEach(M=>{i&&M.removeEventListener("scroll",r),s&&M.removeEventListener("resize",r)}),y==null||y(),(D=N)==null||D.disconnect(),N=null,d&&cancelAnimationFrame(C)}}const YJ=kJ,XJ=EJ,QJ=jJ,ZJ=CJ,JJ=NJ,qM=_J,eee=TJ,tee=(t,e,r)=>{const n=new Map,i={platform:WJ,...r},s={...i.platform,_c:n};return SJ(t,e,{...i,platform:s})};var S1=typeof document<"u"?P.useLayoutEffect:P.useEffect;function H1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!H1(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!H1(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Tz(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HM(t,e){const r=Tz(t);return Math.round(e*r)/r}function eA(t){const e=P.useRef(t);return S1(()=>{e.current=t}),e}function ree(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[g,y]=P.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,N]=P.useState(n);H1(x,n)||N(n);const[C,A]=P.useState(null),[k,D]=P.useState(null),M=P.useCallback(he=>{he!==K.current&&(K.current=he,A(he))},[]),$=P.useCallback(he=>{he!==q.current&&(q.current=he,D(he))},[]),L=s||C,U=o||k,K=P.useRef(null),q=P.useRef(null),V=P.useRef(g),Q=d!=null,J=eA(d),ee=eA(i),X=eA(h),Y=P.useCallback(()=>{if(!K.current||!q.current)return;const he={placement:e,strategy:r,middleware:x};ee.current&&(he.platform=ee.current),tee(K.current,q.current,he).then(Se=>{const be={...Se,isPositioned:X.current!==!1};se.current&&!H1(V.current,be)&&(V.current=be,Cy.flushSync(()=>{y(be)}))})},[x,e,r,ee,X]);S1(()=>{h===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,y(he=>({...he,isPositioned:!1})))},[h]);const se=P.useRef(!1);S1(()=>(se.current=!0,()=>{se.current=!1}),[]),S1(()=>{if(L&&(K.current=L),U&&(q.current=U),L&&U){if(J.current)return J.current(L,U,Y);Y()}},[L,U,Y,J,Q]);const pe=P.useMemo(()=>({reference:K,floating:q,setReference:M,setFloating:$}),[M,$]),ce=P.useMemo(()=>({reference:L,floating:U}),[L,U]),me=P.useMemo(()=>{const he={position:r,left:0,top:0};if(!ce.floating)return he;const Se=HM(ce.floating,g.x),be=HM(ce.floating,g.y);return c?{...he,transform:"translate("+Se+"px, "+be+"px)",...Tz(ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Se,top:be}},[r,c,ce.floating,g.x,g.y]);return P.useMemo(()=>({...g,update:Y,refs:pe,elements:ce,floatingStyles:me}),[g,Y,pe,ce,me])}const nee=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?qM({element:n.current,padding:i}).fn(r):{}:n?qM({element:n,padding:i}).fn(r):{}}}},iee=(t,e)=>({...YJ(t),options:[t,e]}),see=(t,e)=>({...XJ(t),options:[t,e]}),aee=(t,e)=>({...eee(t),options:[t,e]}),oee=(t,e)=>({...QJ(t),options:[t,e]}),lee=(t,e)=>({...ZJ(t),options:[t,e]}),cee=(t,e)=>({...JJ(t),options:[t,e]}),uee=(t,e)=>({...nee(t),options:[t,e]});var dee="Arrow",Cz=P.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(_t.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Cz.displayName=dee;var hee=Cz;function fee(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o),d=r.length;r=[...r,o];function h(y){const{scope:x,children:N,...C}=y,A=(x==null?void 0:x[t][d])||c,k=P.useMemo(()=>C,Object.values(C));return a.jsx(A.Provider,{value:k,children:N})}function g(y,x){const N=(x==null?void 0:x[t][d])||c,C=P.useContext(N);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${y}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,g]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=(c==null?void 0:c[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,pee(i,...e)]}function pee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const y=d(s)[`__scope${h}`];return{...c,...y}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function i0(t){const[e,r]=P.useState(void 0);return vi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const d=s.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var yI="Popper",[Pz,P_]=fee(yI),[mee,Iz]=Pz(yI),Oz=t=>{const{__scopePopper:e,children:r}=t,[n,i]=P.useState(null);return a.jsx(mee,{scope:e,anchor:n,onAnchorChange:i,children:r})};Oz.displayName=yI;var Rz="PopperAnchor",Mz=P.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=Iz(Rz,r),o=P.useRef(null),c=mr(e,o);return P.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(_t.div,{...i,ref:c})});Mz.displayName=Rz;var vI="PopperContent",[gee,yee]=Pz(vI),Dz=P.forwardRef((t,e)=>{var _e,Ce,Me,Be,Ue,Oe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:N="optimized",onPlaced:C,...A}=t,k=Iz(vI,r),[D,M]=P.useState(null),$=mr(e,Le=>M(Le)),[L,U]=P.useState(null),K=i0(L),q=(K==null?void 0:K.width)??0,V=(K==null?void 0:K.height)??0,Q=n+(s!=="center"?"-"+s:""),J=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ee=Array.isArray(h)?h:[h],X=ee.length>0,Y={padding:J,boundary:ee.filter(xee),altBoundary:X},{refs:se,floatingStyles:pe,placement:ce,isPositioned:me,middlewareData:he}=ree({strategy:"fixed",placement:Q,whileElementsMounted:(...Le)=>KJ(...Le,{animationFrame:N==="always"}),elements:{reference:k.anchor},middleware:[iee({mainAxis:i+V,alignmentAxis:o}),d&&see({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?aee():void 0,...Y}),d&&oee({...Y}),lee({...Y,apply:({elements:Le,rects:vt,availableWidth:Ft,availableHeight:Dt})=>{const{width:gr,height:Zr}=vt.reference,at=Le.floating.style;at.setProperty("--radix-popper-available-width",`${Ft}px`),at.setProperty("--radix-popper-available-height",`${Dt}px`),at.setProperty("--radix-popper-anchor-width",`${gr}px`),at.setProperty("--radix-popper-anchor-height",`${Zr}px`)}}),L&&uee({element:L,padding:c}),bee({arrowWidth:q,arrowHeight:V}),x&&cee({strategy:"referenceHidden",...Y})]}),[Se,be]=$z(ce),ue=Ds(C);vi(()=>{me&&(ue==null||ue())},[me,ue]);const ge=(_e=he.arrow)==null?void 0:_e.x,ke=(Ce=he.arrow)==null?void 0:Ce.y,ze=((Me=he.arrow)==null?void 0:Me.centerOffset)!==0,[et,Ke]=P.useState();return vi(()=>{D&&Ke(window.getComputedStyle(D).zIndex)},[D]),a.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:me?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(Be=he.transformOrigin)==null?void 0:Be.x,(Ue=he.transformOrigin)==null?void 0:Ue.y].join(" "),...((Oe=he.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(gee,{scope:r,placedSide:Se,onArrowChange:U,arrowX:ge,arrowY:ke,shouldHideArrow:ze,children:a.jsx(_t.div,{"data-side":Se,"data-align":be,...A,ref:$,style:{...A.style,animation:me?void 0:"none"}})})})});Dz.displayName=vI;var Lz="PopperArrow",vee={top:"bottom",right:"left",bottom:"top",left:"right"},Fz=P.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=yee(Lz,n),o=vee[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(hee,{...i,ref:r,style:{...i.style,display:"block"}})})});Fz.displayName=Lz;function xee(t){return t!==null}var bee=t=>({name:"transformOrigin",options:t,fn(e){var k,D,M;const{placement:r,rects:n,middlewareData:i}=e,o=((k=i.arrow)==null?void 0:k.centerOffset)!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,g]=$z(r),y={start:"0%",center:"50%",end:"100%"}[g],x=(((D=i.arrow)==null?void 0:D.x)??0)+c/2,N=(((M=i.arrow)==null?void 0:M.y)??0)+d/2;let C="",A="";return h==="bottom"?(C=o?y:`${x}px`,A=`${-d}px`):h==="top"?(C=o?y:`${x}px`,A=`${n.floating.height+d}px`):h==="right"?(C=`${-d}px`,A=o?y:`${N}px`):h==="left"&&(C=`${n.floating.width+d}px`,A=o?y:`${N}px`),{data:{x:C,y:A}}}});function $z(t){const[e,r="center"]=t.split("-");return[e,r]}var Bz=Oz,Vz=Mz,zz=Dz,Uz=Fz,[I_,bPe]=Ha("Tooltip",[P_]),O_=P_(),qz="TooltipProvider",wee=700,UC="tooltip.open",[See,xI]=I_(qz),Hz=t=>{const{__scopeTooltip:e,delayDuration:r=wee,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,[o,c]=P.useState(!0),d=P.useRef(!1),h=P.useRef(0);return P.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),a.jsx(See,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:P.useCallback(()=>{window.clearTimeout(h.current),c(!1)},[]),onClose:P.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:P.useCallback(g=>{d.current=g},[]),disableHoverableContent:i,children:s})};Hz.displayName=qz;var R_="Tooltip",[_ee,M_]=I_(R_),Wz=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:c}=t,d=xI(R_,t.__scopeTooltip),h=O_(e),[g,y]=P.useState(null),x=ll(),N=P.useRef(0),C=o??d.disableHoverableContent,A=c??d.delayDuration,k=P.useRef(!1),[D=!1,M]=aa({prop:n,defaultProp:i,onChange:q=>{q?(d.onOpen(),document.dispatchEvent(new CustomEvent(UC))):d.onClose(),s==null||s(q)}}),$=P.useMemo(()=>D?k.current?"delayed-open":"instant-open":"closed",[D]),L=P.useCallback(()=>{window.clearTimeout(N.current),N.current=0,k.current=!1,M(!0)},[M]),U=P.useCallback(()=>{window.clearTimeout(N.current),N.current=0,M(!1)},[M]),K=P.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>{k.current=!0,M(!0),N.current=0},A)},[A,M]);return P.useEffect(()=>()=>{N.current&&(window.clearTimeout(N.current),N.current=0)},[]),a.jsx(Bz,{...h,children:a.jsx(_ee,{scope:e,contentId:x,open:D,stateAttribute:$,trigger:g,onTriggerChange:y,onTriggerEnter:P.useCallback(()=>{d.isOpenDelayed?K():L()},[d.isOpenDelayed,K,L]),onTriggerLeave:P.useCallback(()=>{C?U():(window.clearTimeout(N.current),N.current=0)},[U,C]),onOpen:L,onClose:U,disableHoverableContent:C,children:r})})};Wz.displayName=R_;var qC="TooltipTrigger",Gz=P.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=M_(qC,r),s=xI(qC,r),o=O_(r),c=P.useRef(null),d=mr(e,c,i.onTriggerChange),h=P.useRef(!1),g=P.useRef(!1),y=P.useCallback(()=>h.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),a.jsx(Vz,{asChild:!0,...o,children:a.jsx(_t.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:bt(t.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:bt(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:bt(t.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:bt(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:bt(t.onBlur,i.onClose),onClick:bt(t.onClick,i.onClose)})})});Gz.displayName=qC;var jee="TooltipPortal",[wPe,Nee]=I_(jee,{forceMount:void 0}),Wg="TooltipContent",Kz=P.forwardRef((t,e)=>{const r=Nee(Wg,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=M_(Wg,t.__scopeTooltip);return a.jsx(_c,{present:n||o.open,children:o.disableHoverableContent?a.jsx(Yz,{side:i,...s,ref:e}):a.jsx(Aee,{side:i,...s,ref:e})})}),Aee=P.forwardRef((t,e)=>{const r=M_(Wg,t.__scopeTooltip),n=xI(Wg,t.__scopeTooltip),i=P.useRef(null),s=mr(e,i),[o,c]=P.useState(null),{trigger:d,onClose:h}=r,g=i.current,{onPointerInTransitChange:y}=n,x=P.useCallback(()=>{c(null),y(!1)},[y]),N=P.useCallback((C,A)=>{const k=C.currentTarget,D={x:C.clientX,y:C.clientY},M=Cee(D,k.getBoundingClientRect()),$=Pee(D,M),L=Iee(A.getBoundingClientRect()),U=Ree([...$,...L]);c(U),y(!0)},[y]);return P.useEffect(()=>()=>x(),[x]),P.useEffect(()=>{if(d&&g){const C=k=>N(k,g),A=k=>N(k,d);return d.addEventListener("pointerleave",C),g.addEventListener("pointerleave",A),()=>{d.removeEventListener("pointerleave",C),g.removeEventListener("pointerleave",A)}}},[d,g,N,x]),P.useEffect(()=>{if(o){const C=A=>{const k=A.target,D={x:A.clientX,y:A.clientY},M=(d==null?void 0:d.contains(k))||(g==null?void 0:g.contains(k)),$=!Oee(D,o);M?x():$&&(x(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,g,o,h,x]),a.jsx(Yz,{...t,ref:s})}),[kee,Eee]=I_(R_,{isInside:!1}),Yz=P.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...c}=t,d=M_(Wg,r),h=O_(r),{onClose:g}=d;return P.useEffect(()=>(document.addEventListener(UC,g),()=>document.removeEventListener(UC,g)),[g]),P.useEffect(()=>{if(d.trigger){const y=x=>{const N=x.target;N!=null&&N.contains(d.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[d.trigger,g]),a.jsx(e0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:a.jsxs(zz,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(wV,{children:n}),a.jsx(kee,{scope:r,isInside:!0,children:a.jsx(tQ,{id:d.contentId,role:"tooltip",children:i||n})})]})})});Kz.displayName=Wg;var Xz="TooltipArrow",Tee=P.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=O_(r);return Eee(Xz,r).isInside?null:a.jsx(Uz,{...i,...n,ref:e})});Tee.displayName=Xz;function Cee(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Pee(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Iee(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Oee(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const c=e[s].x,d=e[s].y,h=e[o].x,g=e[o].y;d>n!=g>n&&r<(h-c)*(n-d)/(g-d)+c&&(i=!i)}return i}function Ree(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Mee(e)}function Mee(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Dee=Hz,Lee=Wz,Fee=Gz,Qz=Kz;const bI=Dee,Zz=Lee,Jz=Fee,wI=P.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Qz,{ref:n,sideOffset:e,className:Ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));wI.displayName=Qz.displayName;const $ee=N_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ie=P.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?Np:"button";return a.jsx(o,{className:Ot($ee({variant:e,size:r,className:t})),ref:s,...i})});Ie.displayName="Button";const ht=P.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ot("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ht.displayName="Card";const Qt=P.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ot("flex flex-col space-y-1.5 p-6",t),...e}));Qt.displayName="CardHeader";const Zt=P.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:Ot("text-2xl font-semibold leading-none tracking-tight",t),...e}));Zt.displayName="CardTitle";const eb=P.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:Ot("text-sm text-muted-foreground",t),...e}));eb.displayName="CardDescription";const Mt=P.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ot("p-6 pt-0",t),...e}));Mt.displayName="CardContent";const Lh=P.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ot("flex items-center p-6 pt-0",t),...e}));Lh.displayName="CardFooter";class Bee extends P.Component{constructor(){super(...arguments);qi(this,"state",{hasError:!1,error:null,errorInfo:null});qi(this,"handleReload",()=>{window.location.reload()});qi(this,"handleGoHome",()=>{window.location.href="/SafeBite-V1/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(ht,{className:"w-full max-w-md border-safebite-teal/50 bg-safebite-card-bg",children:[a.jsx(Qt,{children:a.jsx(Zt,{className:"text-safebite-text text-xl",children:"Something went wrong"})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"We're sorry, but an error occurred while loading the application."}),this.state.error&&a.jsx("div",{className:"bg-safebite-card-bg-alt p-3 rounded-md overflow-auto max-h-40",children:a.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error.toString()})})]})}),a.jsxs(Lh,{className:"flex justify-between",children:[a.jsx(Ie,{variant:"outline",onClick:this.handleGoHome,children:"Go to Home"}),a.jsx(Ie,{onClick:this.handleReload,children:"Reload Page"})]})]})}):this.props.children}}var D_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L_=typeof window>"u"||"Deno"in globalThis;function Jo(){}function Vee(t,e){return typeof t=="function"?t(e):t}function zee(t){return typeof t=="number"&&t>=0&&t!==1/0}function Uee(t,e){return Math.max(t+(e||0)-Date.now(),0)}function WM(t,e){return typeof t=="function"?t(e):t}function qee(t,e){return typeof t=="function"?t(e):t}function GM(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:c}=t;if(o){if(n){if(e.queryHash!==SI(o,e.options))return!1}else if(!rb(e.queryKey,o))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||s&&!s(e))}function KM(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(tb(e.options.mutationKey)!==tb(s))return!1}else if(!rb(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function SI(t,e){return((e==null?void 0:e.queryKeyHashFn)||tb)(t)}function tb(t){return JSON.stringify(t,(e,r)=>HC(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function rb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!rb(t[r],e[r])):!1}function eU(t,e){if(t===e)return t;const r=YM(t)&&YM(e);if(r||HC(t)&&HC(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,c=r?[]:{};let d=0;for(let h=0;h<o;h++){const g=r?h:s[h];(!r&&n.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,d++):(c[g]=eU(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&d++)}return i===o&&d===i?t:c}return e}function YM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function HC(t){if(!XM(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!XM(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XM(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hee(t){return new Promise(e=>{setTimeout(e,t)})}function Wee(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?eU(t,e):e}function Gee(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Kee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var _I=Symbol();function tU(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_I?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gp,fh,Mg,cV,Yee=(cV=class extends D_{constructor(){super();Ur(this,gp);Ur(this,fh);Ur(this,Mg);lr(this,Mg,e=>{if(!L_&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ge(this,fh)||this.setEventListener(Ge(this,Mg))}onUnsubscribe(){var e;this.hasListeners()||((e=Ge(this,fh))==null||e.call(this),lr(this,fh,void 0))}setEventListener(e){var r;lr(this,Mg,e),(r=Ge(this,fh))==null||r.call(this),lr(this,fh,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Ge(this,gp)!==e&&(lr(this,gp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Ge(this,gp)=="boolean"?Ge(this,gp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gp=new WeakMap,fh=new WeakMap,Mg=new WeakMap,cV),rU=new Yee,Dg,ph,Lg,uV,Xee=(uV=class extends D_{constructor(){super();Ur(this,Dg,!0);Ur(this,ph);Ur(this,Lg);lr(this,Lg,e=>{if(!L_&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ge(this,ph)||this.setEventListener(Ge(this,Lg))}onUnsubscribe(){var e;this.hasListeners()||((e=Ge(this,ph))==null||e.call(this),lr(this,ph,void 0))}setEventListener(e){var r;lr(this,Lg,e),(r=Ge(this,ph))==null||r.call(this),lr(this,ph,e(this.setOnline.bind(this)))}setOnline(e){Ge(this,Dg)!==e&&(lr(this,Dg,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Ge(this,Dg)}},Dg=new WeakMap,ph=new WeakMap,Lg=new WeakMap,uV),W1=new Xee;function Qee(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Zee(t){return Math.min(1e3*2**t,3e4)}function nU(t){return(t??"online")==="online"?W1.isOnline():!0}var iU=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tA(t){return t instanceof iU}function sU(t){let e=!1,r=0,n=!1,i;const s=Qee(),o=A=>{var k;n||(x(new iU(A)),(k=t.abort)==null||k.call(t))},c=()=>{e=!0},d=()=>{e=!1},h=()=>rU.isFocused()&&(t.networkMode==="always"||W1.isOnline())&&t.canRun(),g=()=>nU(t.networkMode)&&t.canRun(),y=A=>{var k;n||(n=!0,(k=t.onSuccess)==null||k.call(t,A),i==null||i(),s.resolve(A))},x=A=>{var k;n||(n=!0,(k=t.onError)==null||k.call(t,A),i==null||i(),s.reject(A))},N=()=>new Promise(A=>{var k;i=D=>{(n||h())&&A(D)},(k=t.onPause)==null||k.call(t)}).then(()=>{var A;i=void 0,n||(A=t.onContinue)==null||A.call(t)}),C=()=>{if(n)return;let A;const k=r===0?t.initialPromise:void 0;try{A=k??t.fn()}catch(D){A=Promise.reject(D)}Promise.resolve(A).then(y).catch(D=>{var K;if(n)return;const M=t.retry??(L_?0:3),$=t.retryDelay??Zee,L=typeof $=="function"?$(r,D):$,U=M===!0||typeof M=="number"&&r<M||typeof M=="function"&&M(r,D);if(e||!U){x(D);return}r++,(K=t.onFail)==null||K.call(t,r,D),Hee(L).then(()=>h()?void 0:N()).then(()=>{e?x(D):C()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:c,continueRetry:d,canStart:g,start:()=>(g()?C():N().then(C),s)}}function Jee(){let t=[],e=0,r=c=>{c()},n=c=>{c()},i=c=>setTimeout(c,0);const s=c=>{e?t.push(c):i(()=>{r(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{s(()=>{c(...d)})},schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var Is=Jee(),yp,dV,aU=(dV=class{constructor(){Ur(this,yp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zee(this.gcTime)&&lr(this,yp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(L_?1/0:5*60*1e3))}clearGcTimeout(){Ge(this,yp)&&(clearTimeout(Ge(this,yp)),lr(this,yp,void 0))}},yp=new WeakMap,dV),Fg,$g,lo,us,Qb,vp,el,pu,hV,ete=(hV=class extends aU{constructor(r){super();Ur(this,el);Ur(this,Fg);Ur(this,$g);Ur(this,lo);Ur(this,us);Ur(this,Qb);Ur(this,vp);lr(this,vp,!1),lr(this,Qb,r.defaultOptions),this.setOptions(r.options),this.observers=[],lr(this,lo,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,lr(this,Fg,rte(this.options)),this.state=r.state??Ge(this,Fg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=Ge(this,us))==null?void 0:r.promise}setOptions(r){this.options={...Ge(this,Qb),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ge(this,lo).remove(this)}setData(r,n){const i=Wee(this.state.data,r,this.options);return ls(this,el,pu).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){ls(this,el,pu).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,s;const n=(i=Ge(this,us))==null?void 0:i.promise;return(s=Ge(this,us))==null||s.cancel(r),n?n.then(Jo).catch(Jo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ge(this,Fg))}isActive(){return this.observers.some(r=>qee(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_I||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!Uee(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=Ge(this,us))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=Ge(this,us))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Ge(this,lo).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(Ge(this,us)&&(Ge(this,vp)?Ge(this,us).cancel({revert:!0}):Ge(this,us).cancelRetry()),this.scheduleGc()),Ge(this,lo).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ls(this,el,pu).call(this,{type:"invalidate"})}fetch(r,n){var h,g,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ge(this,us))return Ge(this,us).continueRetry(),Ge(this,us).promise}if(r&&this.setOptions(r),!this.options.queryFn){const x=this.observers.find(N=>N.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(lr(this,vp,!0),i.signal)})},o=()=>{const x=tU(this.options,n),N={queryKey:this.queryKey,meta:this.meta};return s(N),lr(this,vp,!1),this.options.persister?this.options.persister(x,N,this):x(N)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(c),(h=this.options.behavior)==null||h.onFetch(c,this),lr(this,$g,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&ls(this,el,pu).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const d=x=>{var N,C,A,k;tA(x)&&x.silent||ls(this,el,pu).call(this,{type:"error",error:x}),tA(x)||((C=(N=Ge(this,lo).config).onError)==null||C.call(N,x,this),(k=(A=Ge(this,lo).config).onSettled)==null||k.call(A,this.state.data,x,this)),this.scheduleGc()};return lr(this,us,sU({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:x=>{var N,C,A,k;if(x===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(D){d(D);return}(C=(N=Ge(this,lo).config).onSuccess)==null||C.call(N,x,this),(k=(A=Ge(this,lo).config).onSettled)==null||k.call(A,x,this.state.error,this),this.scheduleGc()},onError:d,onFail:(x,N)=>{ls(this,el,pu).call(this,{type:"failed",failureCount:x,error:N})},onPause:()=>{ls(this,el,pu).call(this,{type:"pause"})},onContinue:()=>{ls(this,el,pu).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Ge(this,us).start()}},Fg=new WeakMap,$g=new WeakMap,lo=new WeakMap,us=new WeakMap,Qb=new WeakMap,vp=new WeakMap,el=new WeakSet,pu=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...tte(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return tA(s)&&s.revert&&Ge(this,$g)?{...Ge(this,$g),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Is.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Ge(this,lo).notify({query:this,type:"updated",action:r})})},hV);function tte(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nU(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function rte(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sc,fV,nte=(fV=class extends D_{constructor(e={}){super();Ur(this,sc);this.config=e,lr(this,sc,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??SI(i,r);let o=this.get(s);return o||(o=new ete({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Ge(this,sc).has(e.queryHash)||(Ge(this,sc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Ge(this,sc).get(e.queryHash);r&&(e.destroy(),r===e&&Ge(this,sc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Is.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ge(this,sc).get(e)}getAll(){return[...Ge(this,sc).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>GM(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>GM(e,n)):r}notify(e){Is.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Is.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Is.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sc=new WeakMap,fV),ac,Ps,xp,oc,ih,pV,ite=(pV=class extends aU{constructor(r){super();Ur(this,oc);Ur(this,ac);Ur(this,Ps);Ur(this,xp);this.mutationId=r.mutationId,lr(this,Ps,r.mutationCache),lr(this,ac,[]),this.state=r.state||ste(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Ge(this,ac).includes(r)||(Ge(this,ac).push(r),this.clearGcTimeout(),Ge(this,Ps).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){lr(this,ac,Ge(this,ac).filter(n=>n!==r)),this.scheduleGc(),Ge(this,Ps).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Ge(this,ac).length||(this.state.status==="pending"?this.scheduleGc():Ge(this,Ps).remove(this))}continue(){var r;return((r=Ge(this,xp))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,c,d,h,g,y,x,N,C,A,k,D,M,$,L,U,K,q,V;lr(this,xp,sU({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(Q,J)=>{ls(this,oc,ih).call(this,{type:"failed",failureCount:Q,error:J})},onPause:()=>{ls(this,oc,ih).call(this,{type:"pause"})},onContinue:()=>{ls(this,oc,ih).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ge(this,Ps).canRun(this)}));const n=this.state.status==="pending",i=!Ge(this,xp).canStart();try{if(!n){ls(this,oc,ih).call(this,{type:"pending",variables:r,isPaused:i}),await((o=(s=Ge(this,Ps).config).onMutate)==null?void 0:o.call(s,r,this));const J=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,r));J!==this.state.context&&ls(this,oc,ih).call(this,{type:"pending",context:J,variables:r,isPaused:i})}const Q=await Ge(this,xp).start();return await((g=(h=Ge(this,Ps).config).onSuccess)==null?void 0:g.call(h,Q,r,this.state.context,this)),await((x=(y=this.options).onSuccess)==null?void 0:x.call(y,Q,r,this.state.context)),await((C=(N=Ge(this,Ps).config).onSettled)==null?void 0:C.call(N,Q,null,this.state.variables,this.state.context,this)),await((k=(A=this.options).onSettled)==null?void 0:k.call(A,Q,null,r,this.state.context)),ls(this,oc,ih).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((M=(D=Ge(this,Ps).config).onError)==null?void 0:M.call(D,Q,r,this.state.context,this)),await((L=($=this.options).onError)==null?void 0:L.call($,Q,r,this.state.context)),await((K=(U=Ge(this,Ps).config).onSettled)==null?void 0:K.call(U,void 0,Q,this.state.variables,this.state.context,this)),await((V=(q=this.options).onSettled)==null?void 0:V.call(q,void 0,Q,r,this.state.context)),Q}finally{ls(this,oc,ih).call(this,{type:"error",error:Q})}}finally{Ge(this,Ps).runNext(this)}}},ac=new WeakMap,Ps=new WeakMap,xp=new WeakMap,oc=new WeakSet,ih=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Is.batch(()=>{Ge(this,ac).forEach(i=>{i.onMutationUpdate(r)}),Ge(this,Ps).notify({mutation:this,type:"updated",action:r})})},pV);function ste(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ca,Zb,mV,ate=(mV=class extends D_{constructor(e={}){super();Ur(this,Ca);Ur(this,Zb);this.config=e,lr(this,Ca,new Map),lr(this,Zb,Date.now())}build(e,r,n){const i=new ite({mutationCache:this,mutationId:++Bw(this,Zb)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=Kw(e),n=Ge(this,Ca).get(r)??[];n.push(e),Ge(this,Ca).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Kw(e);if(Ge(this,Ca).has(r)){const i=(n=Ge(this,Ca).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?Ge(this,Ca).delete(r):Ge(this,Ca).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=Ge(this,Ca).get(Kw(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=Ge(this,Ca).get(Kw(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Is.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ge(this,Ca).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>KM(r,n))}findAll(e={}){return this.getAll().filter(r=>KM(e,r))}notify(e){Is.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Is.batch(()=>Promise.all(e.map(r=>r.continue().catch(Jo))))}},Ca=new WeakMap,Zb=new WeakMap,mV);function Kw(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function QM(t){return{onFetch:(e,r)=>{var g,y,x,N,C;const n=e.options,i=(x=(y=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:y.fetchMore)==null?void 0:x.direction,s=((N=e.state.data)==null?void 0:N.pages)||[],o=((C=e.state.data)==null?void 0:C.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let A=!1;const k=$=>{Object.defineProperty($,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},D=tU(e.options,e.fetchOptions),M=async($,L,U)=>{if(A)return Promise.reject();if(L==null&&$.pages.length)return Promise.resolve($);const K={queryKey:e.queryKey,pageParam:L,direction:U?"backward":"forward",meta:e.options.meta};k(K);const q=await D(K),{maxPages:V}=e.options,Q=U?Kee:Gee;return{pages:Q($.pages,q,V),pageParams:Q($.pageParams,L,V)}};if(i&&s.length){const $=i==="backward",L=$?ote:ZM,U={pages:s,pageParams:o},K=L(n,U);c=await M(U,K,$)}else{const $=t??s.length;do{const L=d===0?o[0]??n.initialPageParam:ZM(n,c);if(d>0&&L==null)break;c=await M(c,L),d++}while(d<$)}return c};e.options.persister?e.fetchFn=()=>{var A,k;return(k=(A=e.options).persister)==null?void 0:k.call(A,h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function ZM(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ote(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Bn,mh,gh,Bg,Vg,yh,zg,Ug,gV,lte=(gV=class{constructor(t={}){Ur(this,Bn);Ur(this,mh);Ur(this,gh);Ur(this,Bg);Ur(this,Vg);Ur(this,yh);Ur(this,zg);Ur(this,Ug);lr(this,Bn,t.queryCache||new nte),lr(this,mh,t.mutationCache||new ate),lr(this,gh,t.defaultOptions||{}),lr(this,Bg,new Map),lr(this,Vg,new Map),lr(this,yh,0)}mount(){Bw(this,yh)._++,Ge(this,yh)===1&&(lr(this,zg,rU.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ge(this,Bn).onFocus())})),lr(this,Ug,W1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ge(this,Bn).onOnline())})))}unmount(){var t,e;Bw(this,yh)._--,Ge(this,yh)===0&&((t=Ge(this,zg))==null||t.call(this),lr(this,zg,void 0),(e=Ge(this,Ug))==null||e.call(this),lr(this,Ug,void 0))}isFetching(t){return Ge(this,Bn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ge(this,mh).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ge(this,Bn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=Ge(this,Bn).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(WM(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return Ge(this,Bn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=Ge(this,Bn).get(n.queryHash),s=i==null?void 0:i.state.data,o=Vee(e,s);if(o!==void 0)return Ge(this,Bn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Is.batch(()=>Ge(this,Bn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ge(this,Bn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Ge(this,Bn);Is.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Ge(this,Bn),n={type:"active",...t};return Is.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Is.batch(()=>Ge(this,Bn).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Jo).catch(Jo)}invalidateQueries(t={},e={}){return Is.batch(()=>{if(Ge(this,Bn).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Is.batch(()=>Ge(this,Bn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Jo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Jo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Ge(this,Bn).build(this,e);return r.isStaleByTime(WM(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jo).catch(Jo)}fetchInfiniteQuery(t){return t.behavior=QM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jo).catch(Jo)}ensureInfiniteQueryData(t){return t.behavior=QM(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return W1.isOnline()?Ge(this,mh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ge(this,Bn)}getMutationCache(){return Ge(this,mh)}getDefaultOptions(){return Ge(this,gh)}setDefaultOptions(t){lr(this,gh,t)}setQueryDefaults(t,e){Ge(this,Bg).set(tb(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ge(this,Bg).values()];let r={};return e.forEach(n=>{rb(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){Ge(this,Vg).set(tb(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ge(this,Vg).values()];let r={};return e.forEach(n=>{rb(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ge(this,gh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=SI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_I&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ge(this,gh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ge(this,Bn).clear(),Ge(this,mh).clear()}},Bn=new WeakMap,mh=new WeakMap,gh=new WeakMap,Bg=new WeakMap,Vg=new WeakMap,yh=new WeakMap,zg=new WeakMap,Ug=new WeakMap,gV),cte=P.createContext(void 0),ute=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(cte.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nb.apply(this,arguments)}var bh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bh||(bh={}));const JM="popstate";function dte(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:c}=n.location;return WC("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:G1(i)}return fte(e,r,null,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oU(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hte(){return Math.random().toString(36).substr(2,8)}function eD(t,e){return{usr:t.state,key:t.key,idx:e}}function WC(t,e,r,n){return r===void 0&&(r=null),nb({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ry(e):e,{state:r,key:e&&e.key||n||hte()})}function G1(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ry(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fte(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,c=bh.Pop,d=null,h=g();h==null&&(h=0,o.replaceState(nb({},o.state,{idx:h}),""));function g(){return(o.state||{idx:null}).idx}function y(){c=bh.Pop;let k=g(),D=k==null?null:k-h;h=k,d&&d({action:c,location:A.location,delta:D})}function x(k,D){c=bh.Push;let M=WC(A.location,k,D);h=g()+1;let $=eD(M,h),L=A.createHref(M);try{o.pushState($,"",L)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(L)}s&&d&&d({action:c,location:A.location,delta:1})}function N(k,D){c=bh.Replace;let M=WC(A.location,k,D);h=g();let $=eD(M,h),L=A.createHref(M);o.replaceState($,"",L),s&&d&&d({action:c,location:A.location,delta:0})}function C(k){let D=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof k=="string"?k:G1(k);return M=M.replace(/ $/,"%20"),In(D,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,D)}let A={get action(){return c},get location(){return t(i,o)},listen(k){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(JM,y),d=k,()=>{i.removeEventListener(JM,y),d=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let D=C(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:N,go(k){return o.go(k)}};return A}var tD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tD||(tD={}));function pte(t,e,r){return r===void 0&&(r="/"),mte(t,e,r)}function mte(t,e,r,n){let i=typeof e=="string"?Ry(e):e,s=Gg(i.pathname||"/",r);if(s==null)return null;let o=lU(t);gte(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=kte(s);c=Nte(o[d],h)}return c}function lU(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};d.relativePath.startsWith("/")&&(In(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Nh([n,d.relativePath]),g=r.concat(d);s.children&&s.children.length>0&&(In(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),lU(s.children,e,g,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:_te(h,s.index),routesMeta:g})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let d of cU(s.path))i(s,o,d)}),e}function cU(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=cU(n.join("/")),c=[];return c.push(...o.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function gte(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:jte(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yte=/^:[\w-]+$/,vte=3,xte=2,bte=1,wte=10,Ste=-2,rD=t=>t==="*";function _te(t,e){let r=t.split("/"),n=r.length;return r.some(rD)&&(n+=Ste),e&&(n+=xte),r.filter(i=>!rD(i)).reduce((i,s)=>i+(yte.test(s)?vte:s===""?bte:wte),n)}function jte(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Nte(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,g=s==="/"?e:e.slice(s.length)||"/",y=GC({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),x=d.route;if(!y)return null;Object.assign(i,y.params),o.push({params:i,pathname:Nh([s,y.pathname]),pathnameBase:Pte(Nh([s,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(s=Nh([s,y.pathnameBase]))}return o}function GC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Ate(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,g,y)=>{let{paramName:x,isOptional:N}=g;if(x==="*"){let A=c[y]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const C=c[y];return N&&!C?h[x]=void 0:h[x]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function Ate(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),oU(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function kte(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oU(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ete(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ry(t):t;return{pathname:r?r.startsWith("/")?r:Tte(r,e):e,search:Ite(n),hash:Ote(i)}}function Tte(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rA(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cte(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function jI(t,e){let r=Cte(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function NI(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ry(t):(i=nb({},t),In(!i.pathname||!i.pathname.includes("?"),rA("?","pathname","search",i)),In(!i.pathname||!i.pathname.includes("#"),rA("#","pathname","hash",i)),In(!i.search||!i.search.includes("#"),rA("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=r;else{let y=e.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}c=y>=0?e[y]:"/"}let d=Ete(i,c),h=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}const Nh=t=>t.join("/").replace(/\/\/+/g,"/"),Pte=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ite=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ote=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Rte(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uU=["post","put","patch","delete"];new Set(uU);const Mte=["get",...uU];new Set(Mte);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ib.apply(this,arguments)}const F_=P.createContext(null),dU=P.createContext(null),Wu=P.createContext(null),$_=P.createContext(null),Wh=P.createContext({outlet:null,matches:[],isDataRoute:!1}),hU=P.createContext(null);function Dte(t,e){let{relative:r}=e===void 0?{}:e;My()||In(!1);let{basename:n,navigator:i}=P.useContext(Wu),{hash:s,pathname:o,search:c}=B_(t,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:Nh([n,o])),i.createHref({pathname:d,search:c,hash:s})}function My(){return P.useContext($_)!=null}function Gu(){return My()||In(!1),P.useContext($_).location}function fU(t){P.useContext(Wu).static||P.useLayoutEffect(t)}function Jn(){let{isDataRoute:t}=P.useContext(Wh);return t?Yte():Lte()}function Lte(){My()||In(!1);let t=P.useContext(F_),{basename:e,future:r,navigator:n}=P.useContext(Wu),{matches:i}=P.useContext(Wh),{pathname:s}=Gu(),o=JSON.stringify(jI(i,r.v7_relativeSplatPath)),c=P.useRef(!1);return fU(()=>{c.current=!0}),P.useCallback(function(h,g){if(g===void 0&&(g={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=NI(h,JSON.parse(o),s,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Nh([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,o,s,t])}function B_(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(Wu),{matches:i}=P.useContext(Wh),{pathname:s}=Gu(),o=JSON.stringify(jI(i,n.v7_relativeSplatPath));return P.useMemo(()=>NI(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function Fte(t,e){return $te(t,e)}function $te(t,e,r,n){My()||In(!1);let{navigator:i}=P.useContext(Wu),{matches:s}=P.useContext(Wh),o=s[s.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let h=Gu(),g;if(e){var y;let k=typeof e=="string"?Ry(e):e;d==="/"||(y=k.pathname)!=null&&y.startsWith(d)||In(!1),g=k}else g=h;let x=g.pathname||"/",N=x;if(d!=="/"){let k=d.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=pte(t,{pathname:N}),A=qte(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Nh([d,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Nh([d,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,r,n);return e&&A?P.createElement($_.Provider,{value:{location:ib({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:bh.Pop}},A):A}function Bte(){let t=Kte(),e=Rte(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,null)}const Vte=P.createElement(Bte,null);class zte extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(Wh.Provider,{value:this.props.routeContext},P.createElement(hU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ute(t){let{routeContext:e,match:r,children:n}=t,i=P.useContext(F_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(Wh.Provider,{value:e},n)}function qte(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(i=r)==null?void 0:i.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);g>=0||In(!1),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:x,errors:N}=r,C=y.route.loader&&x[y.route.id]===void 0&&(!N||N[y.route.id]===void 0);if(y.route.lazy||C){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((g,y,x)=>{let N,C=!1,A=null,k=null;r&&(N=c&&y.route.id?c[y.route.id]:void 0,A=y.route.errorElement||Vte,d&&(h<0&&x===0?(Xte("route-fallback"),C=!0,k=null):h===x&&(C=!0,k=y.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,x+1)),M=()=>{let $;return N?$=A:C?$=k:y.route.Component?$=P.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,P.createElement(Ute,{match:y,routeContext:{outlet:g,matches:D,isDataRoute:r!=null},children:$})};return r&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?P.createElement(zte,{location:r.location,revalidation:r.revalidation,component:A,error:N,children:M(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):M()},null)}var pU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pU||{}),mU=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mU||{});function Hte(t){let e=P.useContext(F_);return e||In(!1),e}function Wte(t){let e=P.useContext(dU);return e||In(!1),e}function Gte(t){let e=P.useContext(Wh);return e||In(!1),e}function gU(t){let e=Gte(),r=e.matches[e.matches.length-1];return r.route.id||In(!1),r.route.id}function Kte(){var t;let e=P.useContext(hU),r=Wte(),n=gU();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Yte(){let{router:t}=Hte(pU.UseNavigateStable),e=gU(mU.UseNavigateStable),r=P.useRef(!1);return fU(()=>{r.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ib({fromRouteId:e},s)))},[t,e])}const nD={};function Xte(t,e,r){nD[t]||(nD[t]=!0)}function KC(t){let{to:e,replace:r,state:n,relative:i}=t;My()||In(!1);let{future:s,static:o}=P.useContext(Wu),{matches:c}=P.useContext(Wh),{pathname:d}=Gu(),h=Jn(),g=NI(e,jI(c,s.v7_relativeSplatPath),d,i==="path"),y=JSON.stringify(g);return P.useEffect(()=>h(JSON.parse(y),{replace:r,state:n,relative:i}),[h,y,i,r,n]),null}function yn(t){In(!1)}function Qte(t){let{basename:e="/",children:r=null,location:n,navigationType:i=bh.Pop,navigator:s,static:o=!1,future:c}=t;My()&&In(!1);let d=e.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:d,navigator:s,static:o,future:ib({v7_relativeSplatPath:!1},c)}),[d,c,s,o]);typeof n=="string"&&(n=Ry(n));let{pathname:g="/",search:y="",hash:x="",state:N=null,key:C="default"}=n,A=P.useMemo(()=>{let k=Gg(g,d);return k==null?null:{location:{pathname:k,search:y,hash:x,state:N,key:C},navigationType:i}},[d,g,y,x,N,C,i]);return A==null?null:P.createElement(Wu.Provider,{value:h},P.createElement($_.Provider,{children:r,value:A}))}function Zte(t){let{children:e,location:r}=t;return Fte(YC(e),r)}new Promise(()=>{});function YC(t,e){e===void 0&&(e=[]);let r=[];return P.Children.forEach(t,(n,i)=>{if(!P.isValidElement(n))return;let s=[...e,i];if(n.type===P.Fragment){r.push.apply(r,YC(n.props.children,s));return}n.type!==yn&&In(!1),!n.props.index||!n.props.children||In(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=YC(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K1.apply(this,arguments)}function yU(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Jte(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ere(t,e){return t.button===0&&(!e||e==="_self")&&!Jte(t)}const tre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rre=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],nre="6";try{window.__reactRouterVersion=nre}catch{}const ire=P.createContext({isTransitioning:!1}),sre="startTransition",iD=vV[sre];function are(t){let{basename:e,children:r,future:n,window:i}=t,s=P.useRef();s.current==null&&(s.current=dte({window:i,v5Compat:!0}));let o=s.current,[c,d]=P.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},g=P.useCallback(y=>{h&&iD?iD(()=>d(y)):d(y)},[d,h]);return P.useLayoutEffect(()=>o.listen(g),[o,g]),P.createElement(Qte,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const ore=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nr=P.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:c,target:d,to:h,preventScrollReset:g,viewTransition:y}=e,x=yU(e,tre),{basename:N}=P.useContext(Wu),C,A=!1;if(typeof h=="string"&&lre.test(h)&&(C=h,ore))try{let $=new URL(window.location.href),L=h.startsWith("//")?new URL($.protocol+h):new URL(h),U=Gg(L.pathname,N);L.origin===$.origin&&U!=null?h=U+L.search+L.hash:A=!0}catch{}let k=Dte(h,{relative:i}),D=dre(h,{replace:o,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:y});function M($){n&&n($),$.defaultPrevented||D($)}return P.createElement("a",K1({},x,{href:C||k,onClick:A||s?n:M,ref:r,target:d}))}),cre=P.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:h,children:g}=e,y=yU(e,rre),x=B_(d,{relative:y.relative}),N=Gu(),C=P.useContext(dU),{navigator:A,basename:k}=P.useContext(Wu),D=C!=null&&hre(x)&&h===!0,M=A.encodeLocation?A.encodeLocation(x).pathname:x.pathname,$=N.pathname,L=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||($=$.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&k&&(L=Gg(L,k)||L);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let K=$===M||!o&&$.startsWith(M)&&$.charAt(U)==="/",q=L!=null&&(L===M||!o&&L.startsWith(M)&&L.charAt(M.length)==="/"),V={isActive:K,isPending:q,isTransitioning:D},Q=K?n:void 0,J;typeof s=="function"?J=s(V):J=[s,K?"active":null,q?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ee=typeof c=="function"?c(V):c;return P.createElement(Nr,K1({},y,{"aria-current":Q,className:J,ref:r,style:ee,to:d,viewTransition:h}),typeof g=="function"?g(V):g)});var XC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(XC||(XC={}));var sD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sD||(sD={}));function ure(t){let e=P.useContext(F_);return e||In(!1),e}function dre(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:c}=e===void 0?{}:e,d=Jn(),h=Gu(),g=B_(t,{relative:o});return P.useCallback(y=>{if(ere(y,r)){y.preventDefault();let x=n!==void 0?n:G1(h)===G1(g);d(t,{replace:x,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[h,d,g,n,i,r,t,s,o,c])}function hre(t,e){e===void 0&&(e={});let r=P.useContext(ire);r==null&&In(!1);let{basename:n}=ure(XC.useViewTransitionState),i=B_(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Gg(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Gg(r.nextLocation.pathname,n)||r.nextLocation.pathname;return GC(i.pathname,o)!=null||GC(i.pathname,s)!=null}const fre=()=>{};var aD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},pre=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],c=t[r++],d=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,g=s>>2,y=(s&3)<<4|c>>4;let x=(c&15)<<2|h>>6,N=h&63;d||(N=64,o||(x=64)),n.push(r[g],r[y],r[x],r[N])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const y=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||y==null)throw new mre;const x=s<<2|c>>4;if(n.push(x),h!==64){const N=c<<4&240|h>>2;if(n.push(N),y!==64){const C=h<<6&192|y;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gre=function(t){const e=vU(t);return xU.encodeByteArray(e,!0)},Y1=function(t){return gre(t).replace(/\./g,"")},bU=function(t){try{return xU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=()=>yre().__FIREBASE_DEFAULTS__,xre=()=>{if(typeof process>"u"||typeof aD>"u")return;const t=aD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bU(t[1]);return e&&JSON.parse(e)},V_=()=>{try{return fre()||vre()||xre()||bre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wU=t=>{var e,r;return(r=(e=V_())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},wre=t=>{const e=wU(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},SU=()=>{var t;return(t=V_())===null||t===void 0?void 0:t.config},_U=t=>{var e;return(e=V_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Y1(JSON.stringify(r)),Y1(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gs())}function Nre(){var t;const e=(t=V_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Are(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ere(){const t=gs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tre(){return!Nre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NU(){try{return typeof indexedDB=="object"}catch{return!1}}function AU(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function Cre(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre="FirebaseError";class gl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Pre,Object.setPrototypeOf(this,gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vp.prototype.create)}}class Vp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ire(s,n):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new gl(i,c,n)}}function Ire(t,e){return t.replace(Ore,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Ore=/\{\$([^}]+)}/g;function Rre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Du(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(oD(s)&&oD(o)){if(!Du(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function oD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Nx(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ax(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Mre(t,e){const r=new Dre(t,e);return r.subscribe.bind(r)}class Dre{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Lre(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=nA),i.error===void 0&&(i.error=nA),i.complete===void 0&&(i.complete=nA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lre(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function nA(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fre=1e3,$re=2,Bre=4*60*60*1e3,Vre=.5;function lD(t,e=Fre,r=$re){const n=e*Math.pow(r,t),i=Math.round(Vre*n*(Math.random()-.5)*2);return Math.min(Bre,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class pl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Sre;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qre(e))try{this.getOrInitializeService({instanceIdentifier:np})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=np){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=np){return this.instances.has(e)}getOptions(e=np){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ure(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=np){return this.component?this.component.multipleInstances?e:np:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ure(t){return t===np?void 0:t}function qre(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new zre(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Sr||(Sr={}));const Wre={debug:Sr.DEBUG,verbose:Sr.VERBOSE,info:Sr.INFO,warn:Sr.WARN,error:Sr.ERROR,silent:Sr.SILENT},Gre=Sr.INFO,Kre={[Sr.DEBUG]:"log",[Sr.VERBOSE]:"log",[Sr.INFO]:"info",[Sr.WARN]:"warn",[Sr.ERROR]:"error"},Yre=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Kre[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z_{constructor(e){this.name=e,this._logLevel=Gre,this._logHandler=Yre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wre[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sr.DEBUG,...e),this._logHandler(this,Sr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sr.VERBOSE,...e),this._logHandler(this,Sr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sr.INFO,...e),this._logHandler(this,Sr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sr.WARN,...e),this._logHandler(this,Sr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sr.ERROR,...e),this._logHandler(this,Sr.ERROR,...e)}}const Xre=(t,e)=>e.some(r=>t instanceof r);let cD,uD;function Qre(){return cD||(cD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zre(){return uD||(uD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kU=new WeakMap,QC=new WeakMap,EU=new WeakMap,iA=new WeakMap,AI=new WeakMap;function Jre(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Ah(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&kU.set(r,t)}).catch(()=>{}),AI.set(e,t),e}function ene(t){if(QC.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});QC.set(t,e)}let ZC={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return QC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EU.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ah(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tne(t){ZC=t(ZC)}function rne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(sA(this),e,...r);return EU.set(n,e.sort?e.sort():[e]),Ah(n)}:Zre().includes(t)?function(...e){return t.apply(sA(this),e),Ah(kU.get(this))}:function(...e){return Ah(t.apply(sA(this),e))}}function nne(t){return typeof t=="function"?rne(t):(t instanceof IDBTransaction&&ene(t),Xre(t,Qre())?new Proxy(t,ZC):t)}function Ah(t){if(t instanceof IDBRequest)return Jre(t);if(iA.has(t))return iA.get(t);const e=nne(t);return e!==t&&(iA.set(t,e),AI.set(e,t)),e}const sA=t=>AI.get(t);function TU(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=Ah(o);return n&&o.addEventListener("upgradeneeded",d=>{n(Ah(o.result),d.oldVersion,d.newVersion,Ah(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const ine=["get","getKey","getAll","getAllKeys","count"],sne=["put","add","delete","clear"],aA=new Map;function dD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aA.get(e))return aA.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=sne.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ine.includes(r)))return;const s=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),i&&d.done]))[0]};return aA.set(e,s),s}tne(t=>({...t,get:(e,r,n)=>dD(e,r)||t.get(e,r,n),has:(e,r)=>!!dD(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(one(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function one(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const JC="@firebase/app",hD="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new z_("@firebase/app"),lne="@firebase/app-compat",cne="@firebase/analytics-compat",une="@firebase/analytics",dne="@firebase/app-check-compat",hne="@firebase/app-check",fne="@firebase/auth",pne="@firebase/auth-compat",mne="@firebase/database",gne="@firebase/data-connect",yne="@firebase/database-compat",vne="@firebase/functions",xne="@firebase/functions-compat",bne="@firebase/installations",wne="@firebase/installations-compat",Sne="@firebase/messaging",_ne="@firebase/messaging-compat",jne="@firebase/performance",Nne="@firebase/performance-compat",Ane="@firebase/remote-config",kne="@firebase/remote-config-compat",Ene="@firebase/storage",Tne="@firebase/storage-compat",Cne="@firebase/firestore",Pne="@firebase/vertexai",Ine="@firebase/firestore-compat",One="firebase",Rne="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="[DEFAULT]",Mne={[JC]:"fire-core",[lne]:"fire-core-compat",[une]:"fire-analytics",[cne]:"fire-analytics-compat",[hne]:"fire-app-check",[dne]:"fire-app-check-compat",[fne]:"fire-auth",[pne]:"fire-auth-compat",[mne]:"fire-rtdb",[gne]:"fire-data-connect",[yne]:"fire-rtdb-compat",[vne]:"fire-fn",[xne]:"fire-fn-compat",[bne]:"fire-iid",[wne]:"fire-iid-compat",[Sne]:"fire-fcm",[_ne]:"fire-fcm-compat",[jne]:"fire-perf",[Nne]:"fire-perf-compat",[Ane]:"fire-rc",[kne]:"fire-rc-compat",[Ene]:"fire-gcs",[Tne]:"fire-gcs-compat",[Cne]:"fire-fst",[Ine]:"fire-fst-compat",[Pne]:"fire-vertex","fire-js":"fire-js",[One]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Map,Dne=new Map,tP=new Map;function fD(t,e){try{t.container.addComponent(e)}catch(r){Lu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function yc(t){const e=t.name;if(tP.has(e))return Lu.debug(`There were multiple attempts to register component ${e}.`),!1;tP.set(e,t);for(const r of X1.values())fD(r,t);for(const r of Dne.values())fD(r,t);return!0}function zp(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ma(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kh=new Vp("app","Firebase",Lne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=Rne;function CU(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:eP,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw kh.create("bad-app-name",{appName:String(i)});if(r||(r=SU()),!r)throw kh.create("no-options");const s=X1.get(i);if(s){if(Du(r,s.options)&&Du(n,s.config))return s;throw kh.create("duplicate-app",{appName:i})}const o=new Hre(i);for(const d of tP.values())o.addComponent(d);const c=new Fne(r,n,o);return X1.set(i,c),c}function kI(t=eP){const e=X1.get(t);if(!e&&t===eP&&SU())return CU();if(!e)throw kh.create("no-app",{appName:t});return e}function po(t,e,r){var n;let i=(n=Mne[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lu.warn(c.join(" "));return}yc(new pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="firebase-heartbeat-database",Bne=1,sb="firebase-heartbeat-store";let oA=null;function PU(){return oA||(oA=TU($ne,Bne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sb)}catch(r){console.warn(r)}}}}).catch(t=>{throw kh.create("idb-open",{originalErrorMessage:t.message})})),oA}async function Vne(t){try{const r=(await PU()).transaction(sb),n=await r.objectStore(sb).get(IU(t));return await r.done,n}catch(e){if(e instanceof gl)Lu.warn(e.message);else{const r=kh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lu.warn(r.message)}}}async function pD(t,e){try{const n=(await PU()).transaction(sb,"readwrite");await n.objectStore(sb).put(e,IU(t)),await n.done}catch(r){if(r instanceof gl)Lu.warn(r.message);else{const n=kh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Lu.warn(n.message)}}}function IU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=1024,Une=30;class qne{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Wne(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Une){const o=Gne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Lu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=mD(),{heartbeatsToSend:n,unsentEntries:i}=Hne(this._heartbeatsCache.heartbeats),s=Y1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Lu.warn(r),""}}}function mD(){return new Date().toISOString().substring(0,10)}function Hne(t,e=zne){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gD(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),gD(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Wne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NU()?AU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Vne(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return pD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return pD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gD(t){return Y1(JSON.stringify({version:2,heartbeats:t})).length}function Gne(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(t){yc(new pl("platform-logger",e=>new ane(e),"PRIVATE")),yc(new pl("heartbeat",e=>new qne(e),"PRIVATE")),po(JC,hD,t),po(JC,hD,"esm2017"),po("fire-js","")}Kne("");var lc=function(){return lc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lc.apply(this,arguments)};function a0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Yne(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function OU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xne=OU,RU=new Vp("auth","Firebase",OU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new z_("@firebase/auth");function Qne(t,...e){Q1.logLevel<=Sr.WARN&&Q1.warn(`Auth (${Dy}): ${t}`,...e)}function _1(t,...e){Q1.logLevel<=Sr.ERROR&&Q1.error(`Auth (${Dy}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,...e){throw TI(t,...e)}function cl(t,...e){return TI(t,...e)}function EI(t,e,r){const n=Object.assign(Object.assign({},Xne()),{[e]:r});return new Vp("auth","Firebase",n).create(e,{appName:t.name})}function Au(t){return EI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zne(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&go(t,"argument-error"),EI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function TI(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return RU.create(t,...e)}function Bt(t,e,...r){if(!t)throw TI(e,...r)}function yu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _1(e),new Error(e)}function Fu(t,e){t||yu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Jne(){return yD()==="http:"||yD()==="https:"}function yD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jne()||jU()||"connection"in navigator)?navigator.onLine:!0}function tie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Fu(r>e,"Short delay should be less than long delay!"),this.isMobile=jre()||kre()}get(){return eie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e){Fu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie=new o0(3e4,6e4);function Gh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ku(t,e,r,n,i={}){return DU(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=s0(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},s);return Are()||(h.referrerPolicy="no-referrer"),MU.fetch()(LU(t,t.config.apiHost,r,c),h)})}async function DU(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},rie),e);try{const i=new sie(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yw(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yw(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Yw(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Yw(t,"user-disabled",o);const g=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw EI(t,g,h);go(t,g)}}catch(i){if(i instanceof gl)throw i;go(t,"network-request-failed",{message:String(i)})}}async function l0(t,e,r,n,i={}){const s=await Ku(t,e,r,n,i);return"mfaPendingCredential"in s&&go(t,"multi-factor-auth-required",{_serverResponse:s}),s}function LU(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?CI(t.config,i):`${t.config.apiScheme}://${i}`}function iie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(cl(this.auth,"network-request-failed")),nie.get())})}}function Yw(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=cl(t,e,n);return i.customData._tokenResponse=r,i}function vD(t){return t!==void 0&&t.enterprise!==void 0}class aie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return iie(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oie(t,e){return Ku(t,"GET","/v2/recaptchaConfig",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lie(t,e){return Ku(t,"POST","/v1/accounts:delete",e)}async function FU(t,e){return Ku(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cie(t,e=!1){const r=Un(t),n=await r.getIdToken(e),i=PI(n);Bt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Lx(lA(i.auth_time)),issuedAtTime:Lx(lA(i.iat)),expirationTime:Lx(lA(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lA(t){return Number(t)*1e3}function PI(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _1("JWT malformed, contained fewer than 3 sections"),null;try{const i=bU(r);return i?JSON.parse(i):(_1("Failed to decode base64 JWT payload"),null)}catch(i){return _1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xD(t){const e=PI(t);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof gl&&uie(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function uie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lx(this.lastLoginAt),this.creationTime=Lx(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Kg(t,FU(r,{idToken:n}));Bt(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$U(s.providerUserInfo):[],c=fie(t.providerData,o),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),g=d?h:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new nP(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function hie(t){const e=Un(t);await Z1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fie(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function $U(t){return t.map(e=>{var{providerId:r}=e,n=a0(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pie(t,e){const r=await DU(t,{},async()=>{const n=s0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=LU(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",MU.fetch()(o,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function mie(t,e){return Ku(t,"POST","/v2/accounts:revokeToken",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const r=xD(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await pie(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new Ng;return n&&(Bt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Bt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Bt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ng,this.toJSON())}_performRefresh(){return yu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e){Bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vu{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=a0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new die(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Kg(this,this.stsTokenManager.getToken(this.auth,e));return Bt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return cie(this,e)}reload(){return hie(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new vu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Z1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ma(this.auth.app))return Promise.reject(Au(this.auth));const e=await this.getIdToken();return await Kg(this,lie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,o,c,d,h,g;const y=(n=r.displayName)!==null&&n!==void 0?n:void 0,x=(i=r.email)!==null&&i!==void 0?i:void 0,N=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=r.photoURL)!==null&&o!==void 0?o:void 0,A=(c=r.tenantId)!==null&&c!==void 0?c:void 0,k=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,D=(h=r.createdAt)!==null&&h!==void 0?h:void 0,M=(g=r.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:$,emailVerified:L,isAnonymous:U,providerData:K,stsTokenManager:q}=r;Bt($&&q,e,"internal-error");const V=Ng.fromJSON(this.name,q);Bt(typeof $=="string",e,"internal-error"),rh(y,e.name),rh(x,e.name),Bt(typeof L=="boolean",e,"internal-error"),Bt(typeof U=="boolean",e,"internal-error"),rh(N,e.name),rh(C,e.name),rh(A,e.name),rh(k,e.name),rh(D,e.name),rh(M,e.name);const Q=new vu({uid:$,auth:e,email:x,emailVerified:L,displayName:y,isAnonymous:U,photoURL:C,phoneNumber:N,tenantId:A,stsTokenManager:V,createdAt:D,lastLoginAt:M});return K&&Array.isArray(K)&&(Q.providerData=K.map(J=>Object.assign({},J))),k&&(Q._redirectEventId=k),Q}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ng;i.updateFromServerResponse(r);const s=new vu({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Z1(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Bt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$U(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Ng;c.updateFromIdToken(n);const d=new vu({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Map;function xu(t){Fu(t instanceof Function,"Expected a class definition");let e=bD.get(t);return e?(Fu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}BU.type="NONE";const wD=BU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e,r){return`firebase:${t}:${e}:${r}`}class Ag{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=j1(this.userKey,i.apiKey,s),this.fullPersistenceKey=j1("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ag(xu(wD),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||xu(wD);const o=j1(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const g=await h._get(o);if(g){const y=vu._fromJSON(e,g);h!==s&&(c=y),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Ag(s,e,n):(s=d[0],c&&await s._set(o,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ag(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WU(e))return"Blackberry";if(GU(e))return"Webos";if(zU(e))return"Safari";if((e.includes("chrome/")||UU(e))&&!e.includes("edge/"))return"Chrome";if(HU(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function VU(t=gs()){return/firefox\//i.test(t)}function zU(t=gs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UU(t=gs()){return/crios\//i.test(t)}function qU(t=gs()){return/iemobile/i.test(t)}function HU(t=gs()){return/android/i.test(t)}function WU(t=gs()){return/blackberry/i.test(t)}function GU(t=gs()){return/webos/i.test(t)}function II(t=gs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gie(t=gs()){var e;return II(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yie(){return Ere()&&document.documentMode===10}function KU(t=gs()){return II(t)||HU(t)||GU(t)||WU(t)||/windows phone/i.test(t)||qU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e=[]){let r;switch(t){case"Browser":r=SD(gs());break;case"Worker":r=`${SD(gs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Dy}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,c)=>{try{const d=e(s);o(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xie(t,e={}){return Ku(t,"GET","/v2/passwordPolicy",Gh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie=6;class wie{constructor(e){var r,n,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:bie,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _D(this),this.idTokenSubscription=new _D(this),this.beforeStateQueue=new vie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=xu(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ag.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await FU(this,{idToken:e}),n=await vu._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ma(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Z1(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ma(this.app))return Promise.reject(Au(this));const r=e?Un(e):null;return r&&Bt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ma(this.app)?Promise.reject(Au(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ma(this.app)?Promise.reject(Au(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xie(this),r=new wie(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await mie(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&xu(e)||this._popupRedirectResolver;Bt(r,this,"argument-error"),this.redirectPersistenceManager=await Ag.create(this,[xu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Ma(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Qne(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Kh(t){return Un(t)}class _D{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mre(r=>this.observer=r)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _ie(t){U_=t}function XU(t){return U_.loadJS(t)}function jie(){return U_.recaptchaEnterpriseScript}function Nie(){return U_.gapiScript}function Aie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kie{constructor(){this.enterprise=new Eie}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Eie{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Tie="recaptcha-enterprise",QU="NO_RECAPTCHA";class Cie{constructor(e){this.type=Tie,this.auth=Kh(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{oie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new aie(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(s,o,c){const d=window.grecaptcha;vD(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(QU)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kie().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!r&&vD(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=jie();d.length!==0&&(d+=c),XU(d).then(()=>{i(c,s,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function jD(t,e,r,n=!1,i=!1){const s=new Cie(t);let o;if(i)o=QU;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const c=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function iP(t,e,r,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jD(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jD(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(t,e){const r=zp(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Du(s,e??{}))return i;go(i,"already-initialized")}return r.initialize({options:e})}function Iie(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(xu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Oie(t,e,r){const n=Kh(t);Bt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=ZU(e),{host:o,port:c}=Rie(e),d=c===null?"":`:${c}`,h={url:`${s}//${o}${d}/`},g=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Bt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Bt(Du(h,n.config.emulator)&&Du(g,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=g,n.settings.appVerificationDisabledForTesting=!0,Mie()}function ZU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Rie(t){const e=ZU(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:ND(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:ND(o)}}}function ND(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mie(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return yu("not implemented")}_getIdTokenResponse(e){return yu("not implemented")}_linkToIdToken(e,r){return yu("not implemented")}_getReauthenticationResolver(e){return yu("not implemented")}}async function Die(t,e){return Ku(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lie(t,e){return l0(t,"POST","/v1/accounts:signInWithPassword",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie(t,e){return l0(t,"POST","/v1/accounts:signInWithEmailLink",Gh(t,e))}async function $ie(t,e){return l0(t,"POST","/v1/accounts:signInWithEmailLink",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends OI{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ab(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ab(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iP(e,r,"signInWithPassword",Lie);case"emailLink":return Fie(e,{email:this._email,oobCode:this._password});default:go(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iP(e,n,"signUpPassword",Die);case"emailLink":return $ie(e,{idToken:r,email:this._email,oobCode:this._password});default:go(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(t,e){return l0(t,"POST","/v1/accounts:signInWithIdp",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bie="http://localhost";class Ep extends OI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ep(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):go("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=a0(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Ep(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return kg(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,kg(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,kg(e,r)}buildRequest(){const e={requestUri:Bie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=s0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zie(t){const e=Nx(Ax(t)).link,r=e?Nx(Ax(e)).deep_link_id:null,n=Nx(Ax(t)).deep_link_id;return(n?Nx(Ax(n)).link:null)||n||r||e||t}class RI{constructor(e){var r,n,i,s,o,c;const d=Nx(Ax(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,g=(n=d.oobCode)!==null&&n!==void 0?n:null,y=Vie((i=d.mode)!==null&&i!==void 0?i:null);Bt(h&&g&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=g,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=zie(e);try{return new RI(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.providerId=Ly.PROVIDER_ID}static credential(e,r){return ab._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=RI.parseLink(r);return Bt(n,"argument-error"),ab._fromEmailAndCode(e,n.code,n.tenantId)}}Ly.PROVIDER_ID="password";Ly.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ly.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends MI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends c0{constructor(){super("facebook.com")}static credential(e){return Ep._fromParams({providerId:ch.PROVIDER_ID,signInMethod:ch.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ch.credentialFromTaggedObject(e)}static credentialFromError(e){return ch.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ch.credential(e.oauthAccessToken)}catch{return null}}}ch.FACEBOOK_SIGN_IN_METHOD="facebook.com";ch.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends c0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ep._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return nl.credential(r,n)}catch{return null}}}nl.GOOGLE_SIGN_IN_METHOD="google.com";nl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends c0{constructor(){super("github.com")}static credential(e){return Ep._fromParams({providerId:uh.PROVIDER_ID,signInMethod:uh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uh.credentialFromTaggedObject(e)}static credentialFromError(e){return uh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uh.credential(e.oauthAccessToken)}catch{return null}}}uh.GITHUB_SIGN_IN_METHOD="github.com";uh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends c0{constructor(){super("twitter.com")}static credential(e,r){return Ep._fromParams({providerId:dh.PROVIDER_ID,signInMethod:dh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return dh.credentialFromTaggedObject(e)}static credentialFromError(e){return dh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return dh.credential(r,n)}catch{return null}}}dh.TWITTER_SIGN_IN_METHOD="twitter.com";dh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uie(t,e){return l0(t,"POST","/v1/accounts:signUp",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await vu._fromIdTokenResponse(e,n,i),o=AD(n);return new Tp({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=AD(n);return new Tp({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function AD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends gl{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,J1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new J1(e,r,n,i)}}function JU(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?J1._fromErrorAndOperation(t,s,e,n):s})}async function qie(t,e,r=!1){const n=await Kg(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Tp._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hie(t,e,r=!1){const{auth:n}=t;if(Ma(n.app))return Promise.reject(Au(n));const i="reauthenticate";try{const s=await Kg(t,JU(n,i,e,t),r);Bt(s.idToken,n,"internal-error");const o=PI(s.idToken);Bt(o,n,"internal-error");const{sub:c}=o;return Bt(t.uid===c,n,"user-mismatch"),Tp._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&go(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(t,e,r=!1){if(Ma(t.app))return Promise.reject(Au(t));const n="signIn",i=await JU(t,n,e),s=await Tp._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function Wie(t,e){return e9(Kh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t){const e=Kh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gie(t,e,r){if(Ma(t.app))return Promise.reject(Au(t));const n=Kh(t),o=await iP(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uie).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&t9(t),d}),c=await Tp._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function Kie(t,e,r){return Ma(t.app)?Promise.reject(Au(t)):Wie(Un(t),Ly.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&t9(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yie(t,e){return Ku(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Un(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Kg(n,Yie(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const c=n.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=n.displayName,c.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function Xie(t,e,r,n){return Un(t).onIdTokenChanged(e,r,n)}function Qie(t,e,r){return Un(t).beforeAuthStateChanged(e,r)}function Zie(t,e,r,n){return Un(t).onAuthStateChanged(e,r,n)}function Jie(t){return Un(t).signOut()}const eS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(eS,"1"),this.storage.removeItem(eS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese=1e3,tse=10;class n9 extends r9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);yie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tse):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},ese)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}n9.type="LOCAL";const rse=n9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9 extends r9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}i9.type="SESSION";const s9=i9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new q_(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(o).map(async h=>h(r.origin,s)),d=await nse(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}q_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,d)=>{const h=DI("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(x.data.response);break;default:clearTimeout(g),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(){return window}function sse(t){dc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(){return typeof dc().WorkerGlobalScope<"u"&&typeof dc().importScripts=="function"}async function ase(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ose(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lse(){return a9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="firebaseLocalStorageDb",cse=1,tS="firebaseLocalStorage",l9="fbase_key";class u0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function H_(t,e){return t.transaction([tS],e?"readwrite":"readonly").objectStore(tS)}function use(){const t=indexedDB.deleteDatabase(o9);return new u0(t).toPromise()}function sP(){const t=indexedDB.open(o9,cse);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(tS,{keyPath:l9})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(tS)?e(n):(n.close(),await use(),e(await sP()))})})}async function ED(t,e,r){const n=H_(t,!0).put({[l9]:e,value:r});return new u0(n).toPromise()}async function dse(t,e){const r=H_(t,!1).get(e),n=await new u0(r).toPromise();return n===void 0?null:n.value}function TD(t,e){const r=H_(t,!0).delete(e);return new u0(r).toPromise()}const hse=800,fse=3;class c9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sP(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>fse)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=q_._getInstance(lse()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await ase(),!this.activeServiceWorker)return;this.sender=new ise(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ose()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sP();return await ED(e,eS,"1"),await TD(e,eS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>ED(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>dse(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>TD(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=H_(i,!1).getAll();return new u0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c9.type="LOCAL";const pse=c9;new o0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){return e?xu(e):(Bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI extends OI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kg(e,this._buildIdpRequest())}_linkToIdToken(e,r){return kg(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return kg(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function mse(t){return e9(t.auth,new LI(t),t.bypassAuthState)}function gse(t){const{auth:e,user:r}=t;return Bt(r,e,"internal-error"),Hie(r,new LI(t),t.bypassAuthState)}async function yse(t){const{auth:e,user:r}=t;return Bt(r,e,"internal-error"),qie(r,new LI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mse;case"linkViaPopup":case"linkViaRedirect":return yse;case"reauthViaPopup":case"reauthViaRedirect":return gse;default:go(this.auth,"internal-error")}}resolve(e){Fu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse=new o0(2e3,1e4);async function FI(t,e,r){if(Ma(t.app))return Promise.reject(cl(t,"operation-not-supported-in-this-environment"));const n=Kh(t);Zne(t,e,MI);const i=u9(n,r);return new lp(n,"signInViaPopup",e,i).executeNotNull()}class lp extends d9{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,lp.currentPopupAction&&lp.currentPopupAction.cancel(),lp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bt(e,this.auth,"internal-error"),e}async onExecution(){Fu(this.filter.length===1,"Popup operations only handle one event");const e=DI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(cl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vse.get())};e()}}lp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xse="pendingRedirect",N1=new Map;class bse extends d9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=N1.get(this.auth._key());if(!e){try{const n=await wse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}N1.set(this.auth._key(),e)}return this.bypassAuthState||N1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wse(t,e){const r=jse(e),n=_se(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Sse(t,e){N1.set(t._key(),e)}function _se(t){return xu(t._redirectPersistence)}function jse(t){return j1(xse,t.config.apiKey,t.name)}async function Nse(t,e,r=!1){if(Ma(t.app))return Promise.reject(Au(t));const n=Kh(t),i=u9(n,e),o=await new bse(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ase=10*60*1e3;class kse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ese(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!h9(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(cl(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ase&&this.cachedEventUids.clear(),this.cachedEventUids.has(CD(e))}saveEventToCache(e){this.cachedEventUids.add(CD(e)),this.lastProcessedEventTime=Date.now()}}function CD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ese(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tse(t,e={}){return Ku(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pse=/^https?/;async function Ise(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tse(t);for(const r of e)try{if(Ose(r))return}catch{}go(t,"unauthorized-domain")}function Ose(t){const e=rP(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Pse.test(r))return!1;if(Cse.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rse=new o0(3e4,6e4);function PD(){const t=dc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Mse(t){return new Promise((e,r)=>{var n,i,s;function o(){PD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PD(),r(cl(t,"network-request-failed"))},timeout:Rse.get()})}if(!((i=(n=dc().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dc().gapi)===null||s===void 0)&&s.load)o();else{const c=Aie("iframefcb");return dc()[c]=()=>{gapi.load?o():r(cl(t,"network-request-failed"))},XU(`${Nie()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw A1=null,e})}let A1=null;function Dse(t){return A1=A1||Mse(t),A1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lse=new o0(5e3,15e3),Fse="__/auth/iframe",$se="emulator/auth/iframe",Bse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zse(t){const e=t.config;Bt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?CI(e,$se):`https://${t.config.authDomain}/${Fse}`,n={apiKey:e.apiKey,appName:t.name,v:Dy},i=Vse.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${s0(n).slice(1)}`}async function Use(t){const e=await Dse(t),r=dc().gapi;return Bt(r,t,"internal-error"),e.open({where:document.body,url:zse(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bse,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=cl(t,"network-request-failed"),c=dc().setTimeout(()=>{s(o)},Lse.get());function d(){dc().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hse=500,Wse=600,Gse="_blank",Kse="http://localhost";class ID{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yse(t,e,r,n=Hse,i=Wse){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},qse),{width:n.toString(),height:i.toString(),top:s,left:o}),h=gs().toLowerCase();r&&(c=UU(h)?Gse:r),VU(h)&&(e=e||Kse,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[N,C])=>`${x}${N}=${C},`,"");if(gie(h)&&c!=="_self")return Xse(e||"",c),new ID(null);const y=window.open(e||"",c,g);Bt(y,t,"popup-blocked");try{y.focus()}catch{}return new ID(y)}function Xse(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse="__/auth/handler",Zse="emulator/auth/handler",Jse=encodeURIComponent("fac");async function OD(t,e,r,n,i,s){Bt(t.config.authDomain,t,"auth-domain-config-required"),Bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Dy,eventId:i};if(e instanceof MI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rre(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))o[g]=y}if(e instanceof c0){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await t._getAppCheckToken(),h=d?`#${Jse}=${encodeURIComponent(d)}`:"";return`${eae(t)}?${s0(c).slice(1)}${h}`}function eae({config:t}){return t.emulator?CI(t,Zse):`https://${t.authDomain}/${Qse}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="webStorageSupport";class tae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s9,this._completeRedirectFn=Nse,this._overrideRedirectResult=Sse}async _openPopup(e,r,n,i){var s;Fu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await OD(e,r,n,rP(),i);return Yse(e,o,DI())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await OD(e,r,n,rP(),i);return sse(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Fu(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Use(e),n=new kse(e);return r.register("authEvent",i=>(Bt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(cA,{type:cA},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cA];o!==void 0&&r(!!o),go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Ise(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return KU()||zU()||II()}}const rae=tae;var RD="@firebase/auth",MD="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sae(t){yc(new pl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Bt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YU(t)},h=new Sie(n,i,s,d);return Iie(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),yc(new pl("auth-internal",e=>{const r=Kh(e.getProvider("auth").getImmediate());return(n=>new nae(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),po(RD,MD,iae(t)),po(RD,MD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae=5*60,oae=_U("authIdTokenMaxAge")||aae;let DD=null;const lae=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>oae)return;const i=r==null?void 0:r.token;DD!==i&&(DD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Cr(t=kI()){const e=zp(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Pie(t,{popupRedirectResolver:rae,persistence:[pse,rse,s9]}),n=_U("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=lae(s.toString());Qie(r,o,()=>o(r.currentUser)),Xie(r,c=>o(c))}}const i=wU("auth");return i&&Oie(r,`http://${i}`),r}function cae(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_ie({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=cl("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",cae().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sae("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function uae(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(g){try{h(n.next(g))}catch(y){o(y)}}function d(g){try{h(n.throw(g))}catch(y){o(y)}}function h(g){g.done?s(g.value):i(g.value).then(c,d)}h((n=n.apply(t,[])).next())})}function dae(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mg=function(){return mg=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mg.apply(this,arguments)},f9=function(t){return{loading:t==null,value:t}},hae=function(){return function(t,e){switch(e.type){case"error":return mg(mg({},t),{error:e.error,loading:!1,value:void 0});case"reset":return f9(e.defaultValue);case"value":return mg(mg({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},fae=function(t){var e=t?t():void 0,r=P.useReducer(hae(),f9(e)),n=r[0],i=r[1],s=P.useCallback(function(){var d=t?t():void 0;i({type:"reset",defaultValue:d})},[t]),o=P.useCallback(function(d){i({type:"error",error:d})},[]),c=P.useCallback(function(d){i({type:"value",value:d})},[]);return P.useMemo(function(){return{error:n.error,loading:n.loading,reset:s,setError:o,setValue:c,value:n.value}},[n.error,n.loading,s,o,c,n.value])},pae=function(t,e){var r=fae(function(){return t.currentUser}),n=r.error,i=r.loading,s=r.setError,o=r.setValue,c=r.value;return P.useEffect(function(){var d=Zie(t,function(h){return uae(void 0,void 0,void 0,function(){var g;return dae(this,function(y){switch(y.label){case 0:return[3,4];case 1:return y.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return y.sent(),[3,4];case 3:return g=y.sent(),s(g),[3,4];case 4:return o(h),[2]}})})},s);return function(){d()}},[t]),[c,i,n]},mae="firebase",gae="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(mae,gae,"app");const p9="@firebase/installations",$I="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=1e4,g9=`w:${$I}`,y9="FIS_v2",yae="https://firebaseinstallations.googleapis.com/v1",vae=60*60*1e3,xae="installations",bae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wae={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cp=new Vp(xae,bae,wae);function v9(t){return t instanceof gl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9({projectId:t}){return`${yae}/projects/${t}/installations`}function b9(t){return{token:t.token,requestStatus:2,expiresIn:_ae(t.expiresIn),creationTime:Date.now()}}async function w9(t,e){const n=(await e.json()).error;return Cp.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function S9({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sae(t,{refreshToken:e}){const r=S9(t);return r.append("Authorization",jae(e)),r}async function _9(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _ae(t){return Number(t.replace("s","000"))}function jae(t){return`${y9} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nae({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=x9(t),i=S9(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:r,authVersion:y9,appId:t.appId,sdkVersion:g9},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await _9(()=>fetch(n,c));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:b9(h.authToken)}}else throw await w9("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae=/^[cdef][\w-]{21}$/,aP="";function Eae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Tae(t);return kae.test(r)?r:aP}catch{return aP}}function Tae(t){return Aae(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new Map;function A9(t,e){const r=W_(t);k9(r,e),Cae(r,e)}function k9(t,e){const r=N9.get(t);if(r)for(const n of r)n(e)}function Cae(t,e){const r=Pae();r&&r.postMessage({key:t,fid:e}),Iae()}let cp=null;function Pae(){return!cp&&"BroadcastChannel"in self&&(cp=new BroadcastChannel("[Firebase] FID Change"),cp.onmessage=t=>{k9(t.data.key,t.data.fid)}),cp}function Iae(){N9.size===0&&cp&&(cp.close(),cp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oae="firebase-installations-database",Rae=1,Pp="firebase-installations-store";let uA=null;function BI(){return uA||(uA=TU(Oae,Rae,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pp)}}})),uA}async function rS(t,e){const r=W_(t),i=(await BI()).transaction(Pp,"readwrite"),s=i.objectStore(Pp),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&A9(t,e.fid),e}async function E9(t){const e=W_(t),n=(await BI()).transaction(Pp,"readwrite");await n.objectStore(Pp).delete(e),await n.done}async function G_(t,e){const r=W_(t),i=(await BI()).transaction(Pp,"readwrite"),s=i.objectStore(Pp),o=await s.get(r),c=e(o);return c===void 0?await s.delete(r):await s.put(c,r),await i.done,c&&(!o||o.fid!==c.fid)&&A9(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t){let e;const r=await G_(t.appConfig,n=>{const i=Mae(n),s=Dae(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===aP?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Mae(t){const e=t||{fid:Eae(),registrationStatus:0};return T9(e)}function Dae(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Cp.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Lae(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Fae(t)}:{installationEntry:e}}async function Lae(t,e){try{const r=await Nae(t,e);return rS(t.appConfig,r)}catch(r){throw v9(r)&&r.customData.serverCode===409?await E9(t.appConfig):await rS(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Fae(t){let e=await LD(t.appConfig);for(;e.registrationStatus===1;)await j9(100),e=await LD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await VI(t);return n||r}return e}function LD(t){return G_(t,e=>{if(!e)throw Cp.create("installation-not-found");return T9(e)})}function T9(t){return $ae(t)?{fid:t.fid,registrationStatus:0}:t}function $ae(t){return t.registrationStatus===1&&t.registrationTime+m9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bae({appConfig:t,heartbeatServiceProvider:e},r){const n=Vae(t,r),i=Sae(t,r),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:g9,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await _9(()=>fetch(n,c));if(d.ok){const h=await d.json();return b9(h)}else throw await w9("Generate Auth Token",d)}function Vae(t,{fid:e}){return`${x9(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e=!1){let r;const n=await G_(t.appConfig,s=>{if(!C9(s))throw Cp.create("not-registered");const o=s.authToken;if(!e&&qae(o))return s;if(o.requestStatus===1)return r=zae(t,e),s;{if(!navigator.onLine)throw Cp.create("app-offline");const c=Wae(s);return r=Uae(t,c),c}});return r?await r:n.authToken}async function zae(t,e){let r=await FD(t.appConfig);for(;r.authToken.requestStatus===1;)await j9(100),r=await FD(t.appConfig);const n=r.authToken;return n.requestStatus===0?zI(t,e):n}function FD(t){return G_(t,e=>{if(!C9(e))throw Cp.create("not-registered");const r=e.authToken;return Gae(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Uae(t,e){try{const r=await Bae(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await rS(t.appConfig,n),r}catch(r){if(v9(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await E9(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await rS(t.appConfig,n)}throw r}}function C9(t){return t!==void 0&&t.registrationStatus===2}function qae(t){return t.requestStatus===2&&!Hae(t)}function Hae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vae}function Wae(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Gae(t){return t.requestStatus===1&&t.requestTime+m9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kae(t){const e=t,{installationEntry:r,registrationPromise:n}=await VI(e);return n?n.catch(console.error):zI(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yae(t,e=!1){const r=t;return await Xae(r),(await zI(r,e)).token}async function Xae(t){const{registrationPromise:e}=await VI(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qae(t){if(!t||!t.options)throw dA("App Configuration");if(!t.name)throw dA("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw dA(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function dA(t){return Cp.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="installations",Zae="installations-internal",Jae=t=>{const e=t.getProvider("app").getImmediate(),r=Qae(e),n=zp(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},eoe=t=>{const e=t.getProvider("app").getImmediate(),r=zp(e,P9).getImmediate();return{getId:()=>Kae(r),getToken:i=>Yae(r,i)}};function toe(){yc(new pl(P9,Jae,"PUBLIC")),yc(new pl(Zae,eoe,"PRIVATE"))}toe();po(p9,$I);po(p9,$I,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="analytics",roe="firebase_id",noe="origin",ioe=60*1e3,soe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",UI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new z_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ba=new Vp("analytics","Analytics",aoe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t){if(!t.startsWith(UI)){const e=Ba.create("invalid-gtag-resource",{gtagURL:t});return sa.warn(e.message),""}return t}function I9(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function loe(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function coe(t,e){const r=loe("firebase-js-sdk-policy",{createScriptURL:ooe}),n=document.createElement("script"),i=`${UI}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function uoe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function doe(t,e,r,n,i,s){const o=n[i];try{if(o)await e[o];else{const d=(await I9(r)).find(h=>h.measurementId===i);d&&await e[d.appId]}}catch(c){sa.error(c)}t("config",i,s)}async function hoe(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const c=await I9(r);for(const d of o){const h=c.find(y=>y.measurementId===d),g=h&&e[h.appId];if(g)s.push(g);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){sa.error(s)}}function foe(t,e,r,n){async function i(s,...o){try{if(s==="event"){const[c,d]=o;await hoe(t,e,r,c,d)}else if(s==="config"){const[c,d]=o;await doe(t,e,r,n,c,d)}else if(s==="consent"){const[c,d]=o;t("consent",c,d)}else if(s==="get"){const[c,d,h]=o;t("get",c,d,h)}else if(s==="set"){const[c]=o;t("set",c)}else t(s,...o)}catch(c){sa.error(c)}}return i}function poe(t,e,r,n,i){let s=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=foe(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function moe(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(UI)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe=30,yoe=1e3;class voe{constructor(e={},r=yoe){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const O9=new voe;function xoe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function boe(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:xoe(n)},s=soe.replace("{app-id}",r),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let c="";try{const d=await o.json();!((e=d.error)===null||e===void 0)&&e.message&&(c=d.error.message)}catch{}throw Ba.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function woe(t,e=O9,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw Ba.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw Ba.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new joe;return setTimeout(async()=>{c.abort()},ioe),R9({appId:n,apiKey:i,measurementId:s},o,c,e)}async function R9(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=O9){var s;const{appId:o,measurementId:c}=t;try{await Soe(n,e)}catch(d){if(c)return sa.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw d}try{const d=await boe(t);return i.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!_oe(h)){if(i.deleteThrottleMetadata(o),c)return sa.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:c};throw d}const g=Number((s=h==null?void 0:h.customData)===null||s===void 0?void 0:s.httpStatus)===503?lD(r,i.intervalMillis,goe):lD(r,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:r+1};return i.setThrottleMetadata(o,y),sa.debug(`Calling attemptFetch again in ${g} millis`),R9(t,y,n,i)}}function Soe(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(Ba.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _oe(t){if(!(t instanceof gl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class joe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Noe(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,o=Object.assign(Object.assign({},n),{send_to:s});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aoe(){if(NU())try{await AU()}catch(t){return sa.warn(Ba.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return sa.warn(Ba.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function koe(t,e,r,n,i,s,o){var c;const d=woe(t);d.then(N=>{r[N.measurementId]=N.appId,t.options.measurementId&&N.measurementId!==t.options.measurementId&&sa.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>sa.error(N)),e.push(d);const h=Aoe().then(N=>{if(N)return n.getId()}),[g,y]=await Promise.all([d,h]);moe(s)||coe(s,g.measurementId),i("js",new Date);const x=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return x[noe]="firebase",x.update=!0,y!=null&&(x[roe]=y),i("config",g.measurementId,x),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe{constructor(e){this.app=e}_delete(){return delete Fx[this.app.options.appId],Promise.resolve()}}let Fx={},$D=[];const BD={};let hA="dataLayer",Toe="gtag",VD,M9,zD=!1;function Coe(){const t=[];if(jU()&&t.push("This is a browser extension environment."),Cre()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Ba.create("invalid-analytics-context",{errorInfo:e});sa.warn(r.message)}}function Poe(t,e,r){Coe();const n=t.options.appId;if(!n)throw Ba.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)sa.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ba.create("no-api-key");if(Fx[n]!=null)throw Ba.create("already-exists",{id:n});if(!zD){uoe(hA);const{wrappedGtag:s,gtagCore:o}=poe(Fx,$D,BD,hA,Toe);M9=s,VD=o,zD=!0}return Fx[n]=koe(t,$D,BD,e,VD,hA,r),new Eoe(t)}function Ioe(t=kI()){t=Un(t);const e=zp(t,nS);return e.isInitialized()?e.getImmediate():Ooe(t)}function Ooe(t,e={}){const r=zp(t,nS);if(r.isInitialized()){const i=r.getImmediate();if(Du(e,r.getOptions()))return i;throw Ba.create("already-initialized")}return r.initialize({options:e})}function Roe(t,e,r,n){t=Un(t),Noe(M9,Fx[t.app.options.appId],e,r,n).catch(i=>sa.error(i))}const UD="@firebase/analytics",qD="0.10.12";function Moe(){yc(new pl(nS,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Poe(n,i,r)},"PUBLIC")),yc(new pl("analytics-internal",t,"PRIVATE")),po(UD,qD),po(UD,qD,"esm2017");function t(e){try{const r=e.getProvider(nS).getImmediate();return{logEvent:(n,i,s)=>Roe(r,n,i,s)}}catch(r){throw Ba.create("interop-component-reg-failed",{reason:r})}}}Moe();const Doe={apiKey:"AIzaSyBuaEOWCEYeV2AknrXhqzuTdIp0rApYPw0",authDomain:"safebite-a5a03.firebaseapp.com",projectId:"safebite-a5a03",storageBucket:"safebite-a5a03.firebasestorage.app",messagingSenderId:"203093821661",appId:"1:203093821661:web:127b2d80f7e08e6c23b334",measurementId:"G-P4KG3JTM4N"},At=CU(Doe);Ioe(At);const Loe=Cr(At),iS=({size:t="md",className:e=""})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-24 h-24",xl:"w-32 h-32"};return a.jsxs("div",{className:`relative ${r[t]} ${e} aspect-square`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/30 blur-md animate-pulse"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-safebite-teal/20 to-transparent animate-spin-slow"})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-very-slow",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"48",stroke:"rgba(20, 184, 166, 0.3)",strokeWidth:"0.5",strokeDasharray:"8 4"}),a.jsx("path",{d:"M50 2 L50 10 M2 50 L10 50 M50 90 L50 98 M90 50 L98 50",stroke:"rgba(20, 184, 166, 0.6)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"10",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"10",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"50",cy:"90",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"90",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"})]})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-slow-reverse",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"rgba(20, 184, 166, 0.2)",strokeWidth:"0.5",strokeDasharray:"6 2"}),a.jsx("path",{d:"M50 15 L50 20 M15 50 L20 50 M50 80 L50 85 M80 50 L85 50",stroke:"rgba(20, 184, 166, 0.4)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"20",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"20",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"50",cy:"80",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"80",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"})]})}),a.jsx("div",{className:"absolute inset-2 rounded-full overflow-hidden border-2 border-safebite-teal/50 z-10 shadow-[0_0_10px_rgba(20,184,166,0.5)]",children:a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:"/SafeBite-V1/ProfilePic-AdityaShenvi.jpg",alt:"Aditya Shenvi",className:"w-[150%] h-[150%] object-cover",style:{objectPosition:"center 25%"}})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-safebite-teal/10 to-transparent"})]})}),a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"})]})},D9=({developerName:t="Aditya Shenvi",version:e="v2.3",isOpen:r,onClose:n})=>{const[i,s]=P.useState(!1),[o,c]=P.useState(!1),d=r!==void 0?r:i;P.useEffect(()=>{if(!localStorage.getItem("safebite_popup_shown")){const A=setTimeout(()=>{s(!0),localStorage.setItem("safebite_popup_shown","true")},2e3);return()=>clearTimeout(A)}},[]);const h=()=>{n?n():s(!1)},g=()=>{c(!o)};if(!d)return null;const y=["Enhanced AI chatbot with context-aware guidance","Added weekly health check-in with 8 questions","Improved dashboard with weekly check-in data visualization","Added food delivery integration with Zomato and Swiggy","Enhanced recipe search with 3x4 grid and popup details","Improved UI with sci-fi visuals and better readability","Added user activity tracking for ML personalization","Fixed Healthbox component errors and improved UI","Added guest mode for testing without authentication","Production-ready with improved error handling"],x=["Added Product Recommendations page with MongoDB integration","Implemented user activity tracking for ML personalization","Added fitness wearable data import functionality","Improved Firebase security and error handling","Enhanced dashboard with real-time data visualization","Added login prompts for guest users"],N=[{name:"SafeBite Backend API",url:"https://safebite-backend.onrender.com"},{name:"MongoDB Atlas",url:"https://www.mongodb.com/atlas/database"},{name:"Edamam Food Database API",url:"https://www.edamam.com/"},{name:"CalorieNinjas API",url:"https://calorieninjas.com/"},{name:"FatSecret Platform API",url:"https://platform.fatsecret.com/"},{name:"Open Food Facts",url:"https://world.openfoodfacts.org/"},{name:"Unsplash Images",url:"https://unsplash.com/"},{name:"Firebase",url:"https://firebase.google.com/"}];return a.jsx(a.Fragment,{children:o?a.jsx("div",{className:"fixed bottom-4 right-4 bg-safebite-teal text-safebite-dark-blue p-2 rounded-full cursor-pointer z-50 shadow-lg hover:bg-safebite-teal/90 transition-all",onClick:g,children:a.jsx(Ou,{size:24})}):a.jsxs("div",{className:"fixed bottom-4 right-4 w-80 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg shadow-xl z-50 sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-safebite-card-bg-alt border-b border-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(iS,{size:"sm",className:"mr-2"}),a.jsx("h3",{className:"text-safebite-text font-medium",children:"Developer Info"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:g,className:"text-safebite-text-secondary hover:text-safebite-teal p-1 rounded",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),a.jsx("button",{onClick:h,className:"text-safebite-text-secondary hover:text-red-500 p-1 rounded",children:a.jsx(qa,{size:16})})]})]}),a.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-safebite-teal/20 text-safebite-teal px-2 py-1 rounded text-xs mr-2",children:e}),a.jsx("div",{className:"bg-green-500/20 text-green-500 px-2 py-1 rounded text-xs",children:"Production Ready"})]}),a.jsxs("p",{className:"text-safebite-text mb-3 font-medium",children:["Special Project by ",a.jsx("span",{className:"text-safebite-teal",children:t})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(Mi,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"What's New in ",e]}),a.jsx("div",{className:"bg-safebite-teal/10 p-2 rounded-md border border-safebite-teal/20 mb-2",children:a.jsx("p",{className:"text-xs text-safebite-teal font-medium mb-1",children:"Production Release"})}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:y.map((C,A)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),a.jsx("span",{children:C})]},A))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(Mi,{className:"h-4 w-4 mr-1 text-safebite-text-secondary"}),"Previous Updates (v2.2)"]}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:x.map((C,A)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-text-secondary mr-1",children:"•"}),a.jsx("span",{children:C})]},A))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(Ou,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Data & API Credits"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:"SafeBite uses data from the following sources for educational purposes:"}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:N.map((C,A)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),a.jsxs("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-safebite-teal",children:[C.name,a.jsx(uo,{className:"h-3 w-3 ml-1"})]})]},A))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ie,{variant:"outline",size:"sm",className:"text-xs",onClick:h,children:"Dismiss"})})]})]})})},qI=({hideAuthButtons:t})=>{const[e,r]=P.useState(!1),n=Jn(),i=Gu(),s=Cr(At),[o,c]=P.useState(!1),d=i.pathname.includes("/food-delivery");P.useEffect(()=>{const y=s.onAuthStateChanged(x=>{c(!!x)});return()=>y()},[s]);const h=()=>{r(!e)},g=t||d&&o;return a.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-safebite-dark-blue/90 backdrop-blur-md border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(Nr,{to:"/",className:"flex items-center",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:"SafeBite"})})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(Nr,{to:"/",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Home"}),a.jsx(Nr,{to:"/features",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Features"}),a.jsx(Nr,{to:"/food-delivery",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Food Delivery"}),a.jsx(Nr,{to:"/about",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"About"}),!g&&a.jsxs(a.Fragment,{children:[a.jsxs(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>n("/auth/login"),children:[a.jsx(Qx,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>n("/auth/signup"),children:[a.jsx(Ap,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:h,className:"text-safebite-text hover:text-safebite-teal focus:outline-none",children:e?a.jsx(qa,{size:24}):a.jsx(sz,{size:24})})})]})}),e&&a.jsx("div",{className:"md:hidden bg-safebite-card-bg border-b border-safebite-card-bg-alt transition-all duration-300 ease-in-out transform origin-top",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[a.jsx(Nr,{to:"/",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>r(!1),children:"Home"}),a.jsx(Nr,{to:"/features",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>r(!1),children:"Features"}),a.jsx(Nr,{to:"/about",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>r(!1),children:"About"}),a.jsx(Nr,{to:"/food-delivery",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>r(!1),children:"Food Delivery"}),!g&&a.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[a.jsxs(Ie,{variant:"outline",className:"sci-fi-button w-full justify-center",onClick:()=>{n("/auth/login"),r(!1)},children:[a.jsx(Qx,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full justify-center",onClick:()=>{n("/auth/signup"),r(!1)},children:[a.jsx(Ap,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})})]})};var Foe="Separator",HD="horizontal",$oe=["horizontal","vertical"],L9=P.forwardRef((t,e)=>{const{decorative:r,orientation:n=HD,...i}=t,s=Boe(n)?n:HD,c=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(_t.div,{"data-orientation":s,...c,...i,ref:e})});L9.displayName=Foe;function Boe(t){return $oe.includes(t)}var F9=L9;const HI=P.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>a.jsx(F9,{ref:i,decorative:r,orientation:e,className:Ot("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));HI.displayName=F9.displayName;const K_=()=>a.jsx("footer",{className:"bg-safebite-dark-blue border-t border-safebite-card-bg-alt py-10",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-2",children:a.jsx(ol,{size:16,className:"text-white"})}),a.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite v2.5"})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Smart food safety and nutrition platform helping you make informed decisions about the food you consume."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(rz,{size:20})}),a.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(DC,{size:20})}),a.jsx("a",{href:"mailto:contact@safebite.example.com",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(qg,{size:20})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Nr,{to:"/about",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/team",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Our Team"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/careers",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Careers"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/contact",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsxs(Nr,{to:"/help",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(vh,{size:14,className:"mr-2"}),a.jsx("span",{children:"Help Center"})]})}),a.jsx("li",{children:a.jsxs(Nr,{to:"/community",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(w1,{size:14,className:"mr-2"}),a.jsx("span",{children:"Community"})]})}),a.jsx("li",{children:a.jsxs(Nr,{to:"/healthbox",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(Nu,{size:14,className:"mr-2"}),a.jsx("span",{children:"Health Tools"})]})}),a.jsx("li",{children:a.jsxs(Nr,{to:"/recipes",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(ez,{size:14,className:"mr-2"}),a.jsx("span",{children:"Recipes"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Nr,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Cookie Policy"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/data",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Data Protection"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/admin/login",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Admin Login"})})]})]})]}),a.jsx(HI,{className:"my-8 bg-safebite-card-bg-alt"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"text-safebite-text-secondary text-sm",children:[a.jsxs("p",{children:["© ",new Date().getFullYear()," SafeBite v2.5. All rights reserved."]}),a.jsxs("p",{className:"mt-1 flex items-center",children:["Made with ",a.jsx(oa,{size:12,className:"mx-1 text-red-500"})," by",a.jsxs("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center ml-1",children:["Aditya Shenvi",a.jsx(uo,{size:10,className:"ml-1"})]})]})]}),a.jsx("div",{className:"mt-4 md:mt-0",children:a.jsxs("ul",{className:"flex space-x-6",children:[a.jsx("li",{children:a.jsx(Nr,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Privacy"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Terms"})}),a.jsx("li",{children:a.jsx(Nr,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Cookies"})})]})})]})]})}),hu=({title:t,description:e,icon:r,className:n})=>a.jsxs("div",{className:Ot("sci-fi-card group",n),children:[a.jsx("div",{className:"mb-4 inline-block p-3 rounded-full bg-safebite-card-bg-alt text-safebite-teal group-hover:text-safebite-dark-blue group-hover:bg-safebite-teal transition-colors duration-300",children:r}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:t}),a.jsx("p",{className:"text-safebite-text-secondary",children:e})]}),fA=({quote:t,author:e,role:r,avatar:n,className:i})=>a.jsxs("div",{className:Ot("sci-fi-card flex flex-col",i),children:[a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-safebite-text-secondary italic",children:['"',t,'"']})}),a.jsxs("div",{className:"flex items-center",children:[n?a.jsx("img",{src:n,alt:e,className:"w-12 h-12 rounded-full mr-4 border-2 border-safebite-teal"}):a.jsx("div",{className:"w-12 h-12 rounded-full mr-4 bg-safebite-card-bg-alt flex items-center justify-center border-2 border-safebite-teal",children:a.jsx("span",{className:"text-safebite-teal text-lg font-bold",children:e.charAt(0)})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-semibold",children:e}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:r})]})]})]}),Voe=()=>a.jsxs("div",{className:"relative w-full h-full min-h-[400px]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-safebite-teal/30 to-transparent rounded-xl blur-xl"}),a.jsxs("div",{className:"absolute inset-0 rounded-xl border-2 border-safebite-teal/50 bg-safebite-dark-blue/80 backdrop-blur-md overflow-hidden shadow-[0_0_30px_rgba(20,184,166,0.3)]",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[a.jsx("path",{d:"M10 0 L10 10 L0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M40 0 L40 40 L0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M25 0 L25 25 L0 25",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("circle",{cx:"10",cy:"10",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"25",cy:"25",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"currentColor"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"absolute inset-4 flex flex-col rounded-lg border border-safebite-card-bg-alt bg-safebite-card-bg overflow-hidden",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-3 border-b border-safebite-card-bg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal",children:a.jsx(Nu,{size:16})}),a.jsx("span",{className:"ml-2 font-semibold text-safebite-text",children:"SafeBite Dashboard"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xi,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("div",{className:"w-full h-10 pl-10 pr-4 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text-secondary flex items-center",children:"Search for food products..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(oa,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Health Score"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["87",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/100"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"87%"}})})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Fa,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Daily Goals"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["3",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/5"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"60%"}})})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 mb-4 flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:a.jsx(Nu,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-safebite-text",children:"Organic Quinoa Bowl"}),a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:"420 calories • High protein • Gluten-free"})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal flex items-center justify-center text-safebite-dark-blue font-bold",children:"9.2"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 flex items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:"AI"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-safebite-text mb-1",children:"AI Assistant"}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Based on your recent meals, I recommend increasing your fiber intake. Consider adding more...",a.jsx("span",{className:"inline-block w-1.5 h-3 bg-safebite-teal ml-1 animate-pulse"})]})]})]})]})]}),a.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"})]}),a.jsx("div",{className:"absolute -top-3 -right-3 bg-safebite-teal text-safebite-dark-blue text-xs font-bold px-2 py-1 rounded-full shadow-lg z-10",children:"v2.5"}),a.jsx("div",{className:"absolute -left-4 top-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float",children:a.jsx(Nu,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -right-4 top-2/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay",children:a.jsx(oa,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -left-4 bottom-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay-2",children:a.jsx(Fa,{size:20,className:"text-safebite-teal"})})]}),zoe=()=>{const t=P.useRef(null),e=P.useRef([]),r=P.useRef(null);return P.useEffect(()=>{const n=t.current;if(!n)return;const i=n.getContext("2d");if(!i)return;const s=()=>{n.width=window.innerWidth,n.height=window.innerHeight,o()},o=()=>{e.current=[];const d=Math.min(Math.floor(window.innerWidth/10),100);for(let h=0;h<d;h++)e.current.push({x:Math.random()*n.width,y:Math.random()*n.height,size:Math.random()*1.5+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,color:`rgba(20, 184, 166, ${Math.random()*.5+.1})`})},c=()=>{i.clearRect(0,0,n.width,n.height),e.current.forEach((d,h)=>{d.x+=d.speedX,d.y+=d.speedY,d.x<0&&(d.x=n.width),d.x>n.width&&(d.x=0),d.y<0&&(d.y=n.height),d.y>n.height&&(d.y=0),i.beginPath(),i.arc(d.x,d.y,d.size,0,Math.PI*2),i.fillStyle=d.color,i.fill(),e.current.forEach((g,y)=>{if(h===y)return;const x=d.x-g.x,N=d.y-g.y,C=Math.sqrt(x*x+N*N);C<100&&(i.beginPath(),i.strokeStyle=`rgba(20, 184, 166, ${.1*(1-C/100)})`,i.lineWidth=.5,i.moveTo(d.x,d.y),i.lineTo(g.x,g.y),i.stroke())})}),r.current=requestAnimationFrame(c)};return window.addEventListener("resize",s),s(),c(),()=>{window.removeEventListener("resize",s),r.current&&cancelAnimationFrame(r.current)}},[]),a.jsx("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",style:{opacity:.3}})},Uoe=()=>{const[t,e]=P.useState(!1),r=Jn(),n=()=>{e(!t)},i=s=>{r(s),e(!1)};return a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&a.jsxs("div",{className:"flex flex-col-reverse gap-3 mb-3 items-center",children:[a.jsxs("button",{onClick:()=>i("/search"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Search",children:[a.jsx(xi,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Search"})]}),a.jsxs("button",{onClick:()=>i("/auth/login"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Login",children:[a.jsx(Ap,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Login"})]}),a.jsxs("button",{onClick:()=>i("/healthbox"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Health Tools",children:[a.jsx(oa,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Health Tools"})]}),a.jsxs("button",{onClick:()=>i("/products"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Products",children:[a.jsx(Nu,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Products"})]}),a.jsxs("button",{onClick:()=>i("/help"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Help",children:[a.jsx(vh,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Help"})]})]}),a.jsx("button",{onClick:n,className:`w-14 h-14 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center shadow-lg hover:bg-safebite-teal/90 transition-all ${t?"rotate-180":""}`,"aria-label":t?"Close menu":"Open menu",children:a.jsx(ZV,{size:24})})]})},qoe=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState(""),[i,s]=P.useState(!1),[o,c]=P.useState([]),d=[{name:"Organic Quinoa",healthScore:9.5,tags:["Organic","Gluten-Free","High Protein"]},{name:"Greek Yogurt",healthScore:8.7,tags:["Probiotic","High Protein","Calcium Rich"]},{name:"Processed Cheese Slices",healthScore:4.2,tags:["Processed","High Sodium"],warning:"Contains artificial colors and preservatives"},{name:"Chocolate Cereal",healthScore:3.8,tags:["High Sugar","Processed"],warning:"High in added sugars"},{name:"Avocado",healthScore:9.8,tags:["Healthy Fats","Nutrient Dense","Fiber Rich"]}],h=()=>{e(!t),t||(n(""),c([]))},g=()=>{r.trim()&&(s(!0),setTimeout(()=>{const x=d.filter(N=>N.name.toLowerCase().includes(r.toLowerCase()));c(x),s(!1)},800))},y=x=>{x.key==="Enter"&&g()};return P.useEffect(()=>{r===""&&c([])},[r]),t?a.jsxs("div",{className:"sci-fi-card p-4 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Quick Food Search"}),a.jsx(Ie,{variant:"ghost",size:"icon",onClick:h,className:"h-8 w-8 rounded-full",children:a.jsx(qa,{size:16})})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xi,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),onKeyPress:y,placeholder:"Search for a food item...",className:"w-full pl-10 pr-4 py-2 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text focus:border-safebite-teal focus:ring-1 focus:ring-safebite-teal outline-none transition-colors"}),a.jsx(Ie,{onClick:g,className:"absolute inset-y-0 right-0 px-3 bg-safebite-teal text-safebite-dark-blue rounded-r-md",children:"Search"})]}),i?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-safebite-teal border-t-transparent rounded-full"})}):o.length>0?a.jsx("div",{className:"space-y-3",children:o.map((x,N)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt hover:border-safebite-teal/50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:x.name}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:x.tags.map((C,A)=>a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.includes("High Sugar")||C.includes("Processed")?"bg-red-500/20 text-red-500":"bg-safebite-teal/20 text-safebite-teal"}`,children:C},A))})]}),a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${x.healthScore>=7?"bg-green-500/20 text-green-500":x.healthScore>=5?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:x.healthScore.toFixed(1)})]}),x.warning&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-red-500",children:[a.jsx(Ki,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:x.warning})]}),!x.warning&&x.healthScore>=7&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-green-500",children:[a.jsx(Nu,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Excellent nutritional profile"})]})]},N))}):r&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsxs("p",{children:['No results found for "',r,'"']}),a.jsx("p",{className:"text-xs mt-1",children:'Try searching for "quinoa", "yogurt", "avocado", or "cereal"'})]}),!r&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsx("p",{children:'Try searching for foods like "quinoa", "yogurt", "avocado", or "cereal"'}),a.jsx("p",{className:"text-xs mt-1",children:"This is a demo of the SafeBite food search functionality"})]})]}):a.jsxs(Ie,{onClick:h,variant:"outline",className:"sci-fi-button flex items-center",children:[a.jsx(xi,{className:"mr-2 h-4 w-4"}),"Try Quick Search"]})},Hoe=()=>{const t=Jn(),[e,r]=P.useState(!1),[n]=pae(Loe);return a.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[a.jsx(zoe,{}),a.jsx(qI,{}),a.jsx(D9,{isOpen:e,onClose:()=>r(!1)}),n&&a.jsx(Uoe,{}),a.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-32 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 md:pr-8 mb-10 md:mb-0",children:[a.jsx("div",{className:"inline-block bg-safebite-teal text-safebite-dark-blue px-4 py-2 rounded-full text-sm font-medium mb-4 shadow-md",children:"Version 2.5 - Production Ready"}),a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[a.jsx("span",{className:"gradient-text animate-gradient-text",children:"Safe Food Choices"}),a.jsx("br",{}),a.jsx("span",{className:"text-safebite-text",children:"for a Healthier You"})]}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8",children:"Know exactly what's in your food. Track nutrition, receive personalized recommendations, and make informed choices for your health journey."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-4 rounded-md shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:["Get Started Free",a.jsx(al,{className:"ml-2 h-5 w-5"})]}),a.jsxs(Ie,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-4 rounded-md hover:scale-105 transition-transform duration-200",children:[a.jsx(Qx,{className:"mr-2 h-5 w-5"}),"Guest Login"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(qoe,{})})]}),a.jsx("div",{className:"md:w-1/2 relative",children:a.jsx(Voe,{})})]})}),a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsxs("div",{className:"sci-fi-card",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Powered by AI & Machine Learning"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"Intelligent Food Safety"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with nutritional science to help you make the best food choices."}),a.jsxs("div",{className:"flex items-center justify-center mt-4",children:[a.jsx(iS,{size:"sm",className:"mr-2"}),a.jsxs("p",{className:"text-safebite-teal text-sm",children:["A Special Engineering Project by ",a.jsx("span",{className:"font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"p-6 border border-safebite-teal/30 rounded-lg bg-safebite-card-bg mb-8 sci-fi-card shadow-neon-teal",children:[a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx(Mi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Featured Capabilities"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(hu,{title:"Food Safety Analysis",description:"Instantly analyze food products for additives, allergens, and harmful ingredients to make safe choices.",icon:a.jsx(Nu,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(hu,{title:"AI-Powered Recommendations",description:"Receive personalized food suggestions based on your health profile, preferences, and goals.",icon:a.jsx(F1,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(hu,{title:"Nutritional Tracking",description:"Monitor your daily intake of calories, macros, vitamins, and minerals with detailed insights.",icon:a.jsx(oa,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(hu,{title:"Simple Food Search",description:"Search or scan barcodes to instantly access comprehensive food information and safety ratings.",icon:a.jsx(xi,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(hu,{title:"Health Goal Setting",description:"Set personalized health goals and track your progress with interactive charts and reports.",icon:a.jsx(kQ,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(hu,{title:"Community Support",description:"Connect with like-minded individuals, share experiences, and get motivation from our community.",icon:a.jsx(sl,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(hu,{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations.",icon:a.jsx(pi,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(hu,{title:"Personalized Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals.",icon:a.jsx(Fa,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(hu,{title:"Food Tracker",description:"Add foods to your daily tracker to monitor your nutrition intake and stay on target with your goals.",icon:a.jsx(Fa,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsx("div",{className:"mt-12 text-center",children:a.jsxs(Ie,{onClick:()=>t("/features"),variant:"outline",className:"sci-fi-button hover:shadow-neon-teal transition-all duration-300",children:["View All Features",a.jsx(al,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg relative sci-fi-card",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Simple 3-Step Process"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"How SafeBite Works"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Getting started is easy. Three simple steps to transform your food choices."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"1"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(sl,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Create Your Profile"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign up and complete a short questionnaire about your health, dietary needs, and personal goals."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"2"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(xi,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Search & Analyze"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food items or scan barcodes to instantly get detailed nutrition and safety information."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"3"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(Fa,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Track & Improve"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your nutrition, view progress charts, and receive personalized recommendations to improve your health."})]})]})]})]}),a.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10 sci-fi-card",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"User Experiences"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"What Our Users Say"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Join thousands of satisfied users who have transformed their health with SafeBite."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(fA,{quote:"SafeBite completely changed how I shop for groceries. I've discovered so many healthier alternatives to my favorite foods!",author:"Sarah M.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(fA,{quote:"As someone with multiple food allergies, this app has been a lifesaver. I can quickly check if a product is safe for me to eat.",author:"James K.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(fA,{quote:"The personalized recommendations are spot on! I've lost 15 pounds just by making smarter food choices with SafeBite.",author:"Monica R.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"})]})]}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg border-y border-safebite-teal/20 relative sci-fi-card",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit-pattern",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"20",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("path",{d:"M50 0 L50 20 M0 50 L20 50 M50 80 L50 100 M80 50 L100 50",stroke:"currentColor",strokeWidth:"0.5"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit-pattern)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto text-center relative z-10",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Get Started Today"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 gradient-text animate-gradient-text",children:"Ready to Transform Your Food Choices?"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8 max-w-2xl mx-auto",children:"Join SafeBite today and start your journey to better health through informed food choices. It's free to get started!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6 shadow-neon-teal",children:["Sign Up Now",a.jsx(al,{className:"ml-2 h-5 w-5"})]}),a.jsxs(Ie,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-6",children:[a.jsx(Qx,{className:"mr-2 h-5 w-5"}),"Try as Guest"]})]})]})]}),a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsx("div",{className:"bg-safebite-dark-blue p-6 rounded-lg border border-safebite-teal/30 sci-fi-card shadow-neon-teal",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-4",children:[a.jsx(iS,{size:"md",className:"mr-0 md:mr-3 mb-4 md:mb-0 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text text-center md:text-left",children:"Developer's Note"}),a.jsx("p",{className:"text-safebite-teal text-sm text-center md:text-left",children:"Aditya Shenvi | IFHE Hyderabad"})]}),a.jsx("div",{className:"mt-2 sm:mt-0 bg-green-500/20 text-green-500 px-3 py-1 rounded-full text-xs font-medium self-center md:self-auto",children:"Production Ready v2.5"})]}),a.jsx("p",{className:"text-safebite-text-secondary my-4 text-sm md:text-base",children:"SafeBite was developed as a special engineering project to demonstrate how technology can help people make better food choices. The application combines modern web technologies with nutritional science to create an intuitive platform for food analysis and health tracking. This release includes fixes to the AI chatbot, improved icon positioning, and overall stability improvements."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 my-6",children:[a.jsxs("div",{className:"lg:col-span-1 bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-3 text-center",children:"Tech Stack"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"MongoDB"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Flask"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Food APIs"})]})]}),a.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"New Features"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Enhanced AI chatbot"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Weekly health check-in"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Improved dashboard"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Food delivery integration"})]})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"Technical Improvements"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"MongoDB integration"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"User activity tracking"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Firebase security"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Enhanced UI/UX"})]})]})]})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm md:text-base",children:"Thank you for your support and feedback! I'm committed to improving SafeBite further."}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsxs(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>r(!0),children:[a.jsx(Ou,{className:"mr-2 h-4 w-4"}),"View Full Changelog"]})})]})]})})}),a.jsx(K_,{})]})},WD={name:"",featureUsage:{},createdAt:Date.now(),lastActive:Date.now()},Woe=()=>{const t=localStorage.getItem("guestUserData");if(t)try{return JSON.parse(t)}catch(e){return console.error("Error parsing guest user data:",e),{...WD}}return{...WD}},Goe=t=>{try{const e=$9(),r={...t,name:e,lastActive:Date.now()};localStorage.setItem("guestUserData",JSON.stringify(r))}catch(e){console.error("Error saving guest user data:",e)}},Koe=t=>{try{sessionStorage.setItem("guestUserName",t),localStorage.setItem("guestUserName",t),console.log("Guest name saved to storage:",t)}catch(e){console.error("Error saving guest name to storage:",e)}},$9=()=>{try{const t=sessionStorage.getItem("guestUserName");if(t)return t;const e=localStorage.getItem("guestUserName");return e?(sessionStorage.setItem("guestUserName",e),e):""}catch(t){return console.error("Error retrieving guest name from storage:",t),""}},B9=t=>{Koe(t);const e=Woe();Goe({...e})},d0=()=>{const t=$9();return console.log("getGuestName() returning:",t),t};class Yoe{constructor(){qi(this,"auth",Cr(At))}async signInAsGuest(e){try{const r=localStorage.getItem("userType")==="guest",n=new Date,i=new Date(n.getTime()+60*60*1e3);if(r&&!e){console.log("Already in guest mode, extending session"),this.extendGuestSession();return}const s=r&&localStorage.getItem("guestId")||"guest_"+Math.random().toString(36).substring(2,15);localStorage.setItem("userType","guest"),sessionStorage.setItem("safebite-guest-mode","true"),localStorage.setItem("guestId",s),localStorage.setItem("guestSessionExpires",i.toISOString());const o=d0(),c=e||o||"Guest User";(e||!o)&&(B9(c),localStorage.setItem("guestUserName",c),sessionStorage.setItem("guestUserName",c),console.log("Guest name set in auth service:",c,{localStorage:localStorage.getItem("guestUserName"),sessionStorage:sessionStorage.getItem("guestUserName")}));const d={displayName:c,createdAt:new Date,lastLoginAt:new Date,sessionExpiresAt:i,preferences:{theme:"dark",notifications:!1},healthData:{healthScore:75,weeklyProgress:[65,68,70,72,75],nutritionGoals:{calories:2e3,protein:100,carbs:250,fat:65}}};sessionStorage.setItem("guestUserData",JSON.stringify(d)),localStorage.setItem("guestNameSet","true"),this.startSessionTimer(),console.log("Guest login successful",s,"with name",c,"expires at",i);return}catch(r){throw console.error("Error setting up guest mode:",r),r}}isGuestUser(){return localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"?this.isSessionValid():!1}isSessionValid(){const e=localStorage.getItem("guestSessionExpires");if(!e)return!1;try{const r=new Date(e);return new Date<r}catch(r){return console.error("Error checking session validity:",r),!1}}extendGuestSession(){const e=new Date,r=new Date(e.getTime()+60*60*1e3);localStorage.setItem("guestSessionExpires",r.toISOString());const n=this.getGuestUserData();n&&(n.sessionExpiresAt=r,sessionStorage.setItem("guestUserData",JSON.stringify(n))),console.log("Guest session extended to",r),this.startSessionTimer()}startSessionTimer(){window.guestSessionTimer&&clearInterval(window.guestSessionTimer),window.guestSessionTimer=setInterval(()=>{if(!this.isSessionValid()){console.log("Guest session expired, redirecting to login"),this.exitGuestMode();const e=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${e}/auth/login`}},3e4)}getGuestUserData(){const e=sessionStorage.getItem("guestUserData");return e?JSON.parse(e):null}updateGuestUserData(e){const n={...this.getGuestUserData()||{displayName:"Guest User",createdAt:new Date,lastLoginAt:new Date,preferences:{},healthData:{}},...e,lastLoginAt:new Date};sessionStorage.setItem("guestUserData",JSON.stringify(n))}exitGuestMode(){localStorage.removeItem("userType"),localStorage.removeItem("guestId"),localStorage.removeItem("guestSessionExpires"),localStorage.removeItem("guestUserName"),localStorage.removeItem("guestNameSet"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),sessionStorage.removeItem("guestUserName"),window.guestSessionTimer&&(clearInterval(window.guestSessionTimer),window.guestSessionTimer=null),console.log("Exited guest mode")}async convertGuestToPermanent(e,r){throw console.log("Converting guest to permanent account is not implemented yet"),new Error("Not implemented")}}const Ra=new Yoe,la=()=>{const[t,e]=P.useState(!1),r=Cr(At);return P.useEffect(()=>{const s=()=>{if(r.currentUser)e(!1),(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true")&&(Ra.exitGuestMode(),console.log("User is logged in, clearing guest mode flags"));else{const d=Ra.isGuestUser();if(e(d),d&&Ra.isSessionValid()){const h=localStorage.getItem("guestSessionExpires");if(h){const g=new Date(h),y=new Date;g.getTime()-y.getTime()<12e4&&(Ra.extendGuestSession(),console.log("Guest session automatically extended"))}}sessionStorage.getItem("safebite-guest-mode")==="true"&&console.log("Using emergency guest mode due to permission denied")}};s();const o=setInterval(s,2e3);return()=>clearInterval(o)},[r]),{isGuest:t,exitGuestMode:()=>{Ra.exitGuestMode(),e(!1)},enterEmergencyGuestMode:()=>{r.currentUser||(Ra.signInAsGuest("Emergency Guest"),e(!0))}}};var pA="focusScope.autoFocusOnMount",mA="focusScope.autoFocusOnUnmount",GD={bubbles:!1,cancelable:!0},Xoe="FocusScope",WI=P.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[c,d]=P.useState(null),h=Ds(i),g=Ds(s),y=P.useRef(null),x=mr(e,A=>d(A)),N=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(n){let A=function($){if(N.paused||!c)return;const L=$.target;c.contains(L)?y.current=L:sh(y.current,{select:!0})},k=function($){if(N.paused||!c)return;const L=$.relatedTarget;L!==null&&(c.contains(L)||sh(y.current,{select:!0}))},D=function($){if(document.activeElement===document.body)for(const U of $)U.removedNodes.length>0&&sh(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",k);const M=new MutationObserver(D);return c&&M.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",k),M.disconnect()}}},[n,c,N.paused]),P.useEffect(()=>{if(c){YD.add(N);const A=document.activeElement;if(!c.contains(A)){const D=new CustomEvent(pA,GD);c.addEventListener(pA,h),c.dispatchEvent(D),D.defaultPrevented||(Qoe(rle(V9(c)),{select:!0}),document.activeElement===A&&sh(c))}return()=>{c.removeEventListener(pA,h),setTimeout(()=>{const D=new CustomEvent(mA,GD);c.addEventListener(mA,g),c.dispatchEvent(D),D.defaultPrevented||sh(A??document.body,{select:!0}),c.removeEventListener(mA,g),YD.remove(N)},0)}}},[c,h,g,N]);const C=P.useCallback(A=>{if(!r&&!n||N.paused)return;const k=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,D=document.activeElement;if(k&&D){const M=A.currentTarget,[$,L]=Zoe(M);$&&L?!A.shiftKey&&D===L?(A.preventDefault(),r&&sh($,{select:!0})):A.shiftKey&&D===$&&(A.preventDefault(),r&&sh(L,{select:!0})):D===M&&A.preventDefault()}},[r,n,N.paused]);return a.jsx(_t.div,{tabIndex:-1,...o,ref:x,onKeyDown:C})});WI.displayName=Xoe;function Qoe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(sh(n,{select:e}),document.activeElement!==r)return}function Zoe(t){const e=V9(t),r=KD(e,t),n=KD(e.reverse(),t);return[r,n]}function V9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function KD(t,e){for(const r of t)if(!Joe(r,{upTo:e}))return r}function Joe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ele(t){return t instanceof HTMLInputElement&&"select"in t}function sh(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&ele(t)&&e&&t.select()}}var YD=tle();function tle(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=XD(t,e),t.unshift(e)},remove(e){var r;t=XD(t,e),(r=t[0])==null||r.resume()}}}function XD(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function rle(t){return t.filter(e=>e.tagName!=="A")}var gA=0;function z9(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??QD()),document.body.insertAdjacentElement("beforeend",t[1]??QD()),gA++,()=>{gA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gA--}},[])}function QD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var k1="right-scroll-bar-position",E1="width-before-scroll-bar",nle="with-scroll-bars-hidden",ile="--removed-body-scroll-bar-size";function yA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sle(t,e){var r=P.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var ale=typeof window<"u"?P.useLayoutEffect:P.useEffect,ZD=new WeakMap;function ole(t,e){var r=sle(null,function(n){return t.forEach(function(i){return yA(i,n)})});return ale(function(){var n=ZD.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(c){s.has(c)||yA(c,null)}),s.forEach(function(c){i.has(c)||yA(c,o)})}ZD.set(r,t)},[t]),r}function lle(t){return t}function cle(t,e){e===void 0&&(e=lle);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(s),o=r}var d=function(){var g=o;o=[],g.forEach(s)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(g){o.push(g),h()},filter:function(g){return o=o.filter(g),r}}}};return i}function ule(t){t===void 0&&(t={});var e=cle(null);return e.options=lc({async:!0,ssr:!1},t),e}var U9=function(t){var e=t.sideCar,r=a0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,lc({},r))};U9.isSideCarExport=!0;function dle(t,e){return t.useMedium(e),U9}var q9=ule(),vA=function(){},Y_=P.forwardRef(function(t,e){var r=P.useRef(null),n=P.useState({onScrollCapture:vA,onWheelCapture:vA,onTouchMoveCapture:vA}),i=n[0],s=n[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,g=t.enabled,y=t.shards,x=t.sideCar,N=t.noIsolation,C=t.inert,A=t.allowPinchZoom,k=t.as,D=k===void 0?"div":k,M=t.gapMode,$=a0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=x,U=ole([r,e]),K=lc(lc({},$),i);return P.createElement(P.Fragment,null,g&&P.createElement(L,{sideCar:q9,removeScrollBar:h,shards:y,noIsolation:N,inert:C,setCallbacks:s,allowPinchZoom:!!A,lockRef:r,gapMode:M}),o?P.cloneElement(P.Children.only(c),lc(lc({},K),{ref:U})):P.createElement(D,lc({},K,{className:d,ref:U}),c))});Y_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Y_.classNames={fullWidth:E1,zeroRight:k1};var hle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fle(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hle();return e&&t.setAttribute("nonce",e),t}function ple(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mle(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gle=function(){var t=0,e=null;return{add:function(r){t==0&&(e=fle())&&(ple(e,r),mle(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yle=function(){var t=gle();return function(e,r){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},H9=function(){var t=yle(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},vle={left:0,top:0,right:0,gap:0},xA=function(t){return parseInt(t||"",10)||0},xle=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xA(r),xA(n),xA(i)]},ble=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vle;var e=xle(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},wle=H9(),Eg="data-scroll-locked",Sle=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(nle,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Eg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(k1,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(E1,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(k1," .").concat(k1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(E1," .").concat(E1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Eg,`] {
    `).concat(ile,": ").concat(c,`px;
  }
`)},JD=function(){var t=parseInt(document.body.getAttribute(Eg)||"0",10);return isFinite(t)?t:0},_le=function(){P.useEffect(function(){return document.body.setAttribute(Eg,(JD()+1).toString()),function(){var t=JD()-1;t<=0?document.body.removeAttribute(Eg):document.body.setAttribute(Eg,t.toString())}},[])},jle=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;_le();var s=P.useMemo(function(){return ble(i)},[i]);return P.createElement(wle,{styles:Sle(s,!e,i,r?"":"!important")})},oP=!1;if(typeof window<"u")try{var Xw=Object.defineProperty({},"passive",{get:function(){return oP=!0,!0}});window.addEventListener("test",Xw,Xw),window.removeEventListener("test",Xw,Xw)}catch{oP=!1}var ng=oP?{passive:!1}:!1,Nle=function(t){return t.tagName==="TEXTAREA"},W9=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Nle(t)&&r[e]==="visible")},Ale=function(t){return W9(t,"overflowY")},kle=function(t){return W9(t,"overflowX")},eL=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=G9(t,n);if(i){var s=K9(t,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Ele=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Tle=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},G9=function(t,e){return t==="v"?Ale(e):kle(e)},K9=function(t,e){return t==="v"?Ele(e):Tle(e)},Cle=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ple=function(t,e,r,n,i){var s=Cle(t,window.getComputedStyle(e).direction),o=s*n,c=r.target,d=e.contains(c),h=!1,g=o>0,y=0,x=0;do{var N=K9(t,c),C=N[0],A=N[1],k=N[2],D=A-k-s*C;(C||D)&&G9(t,c)&&(y+=D,x+=C),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(h=!0),h},Qw=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tL=function(t){return[t.deltaX,t.deltaY]},rL=function(t){return t&&"current"in t?t.current:t},Ile=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ole=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Rle=0,ig=[];function Mle(t){var e=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),i=P.useState(Rle++)[0],s=P.useState(H9)[0],o=P.useRef(t);P.useEffect(function(){o.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var A=Yne([t.lockRef.current],(t.shards||[]).map(rL),!0).filter(Boolean);return A.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=P.useCallback(function(A,k){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!o.current.allowPinchZoom;var D=Qw(A),M=r.current,$="deltaX"in A?A.deltaX:M[0]-D[0],L="deltaY"in A?A.deltaY:M[1]-D[1],U,K=A.target,q=Math.abs($)>Math.abs(L)?"h":"v";if("touches"in A&&q==="h"&&K.type==="range")return!1;var V=eL(q,K);if(!V)return!0;if(V?U=q:(U=q==="v"?"h":"v",V=eL(q,K)),!V)return!1;if(!n.current&&"changedTouches"in A&&($||L)&&(n.current=U),!U)return!0;var Q=n.current||U;return Ple(Q,k,A,Q==="h"?$:L)},[]),d=P.useCallback(function(A){var k=A;if(!(!ig.length||ig[ig.length-1]!==s)){var D="deltaY"in k?tL(k):Qw(k),M=e.current.filter(function(U){return U.name===k.type&&(U.target===k.target||k.target===U.shadowParent)&&Ile(U.delta,D)})[0];if(M&&M.should){k.cancelable&&k.preventDefault();return}if(!M){var $=(o.current.shards||[]).map(rL).filter(Boolean).filter(function(U){return U.contains(k.target)}),L=$.length>0?c(k,$[0]):!o.current.noIsolation;L&&k.cancelable&&k.preventDefault()}}},[]),h=P.useCallback(function(A,k,D,M){var $={name:A,delta:k,target:D,should:M,shadowParent:Dle(D)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(L){return L!==$})},1)},[]),g=P.useCallback(function(A){r.current=Qw(A),n.current=void 0},[]),y=P.useCallback(function(A){h(A.type,tL(A),A.target,c(A,t.lockRef.current))},[]),x=P.useCallback(function(A){h(A.type,Qw(A),A.target,c(A,t.lockRef.current))},[]);P.useEffect(function(){return ig.push(s),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",d,ng),document.addEventListener("touchmove",d,ng),document.addEventListener("touchstart",g,ng),function(){ig=ig.filter(function(A){return A!==s}),document.removeEventListener("wheel",d,ng),document.removeEventListener("touchmove",d,ng),document.removeEventListener("touchstart",g,ng)}},[]);var N=t.removeScrollBar,C=t.inert;return P.createElement(P.Fragment,null,C?P.createElement(s,{styles:Ole(i)}):null,N?P.createElement(jle,{gapMode:t.gapMode}):null)}function Dle(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Lle=dle(q9,Mle);var GI=P.forwardRef(function(t,e){return P.createElement(Y_,lc({},t,{ref:e,sideCar:Lle}))});GI.classNames=Y_.classNames;var Fle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sg=new WeakMap,Zw=new WeakMap,Jw={},bA=0,Y9=function(t){return t&&(t.host||Y9(t.parentNode))},$le=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Y9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Ble=function(t,e,r,n){var i=$le(e,Array.isArray(t)?t:[t]);Jw[r]||(Jw[r]=new WeakMap);var s=Jw[r],o=[],c=new Set,d=new Set(i),h=function(y){!y||c.has(y)||(c.add(y),h(y.parentNode))};i.forEach(h);var g=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(x){if(c.has(x))g(x);else try{var N=x.getAttribute(n),C=N!==null&&N!=="false",A=(sg.get(x)||0)+1,k=(s.get(x)||0)+1;sg.set(x,A),s.set(x,k),o.push(x),A===1&&C&&Zw.set(x,!0),k===1&&x.setAttribute(r,"true"),C||x.setAttribute(n,"true")}catch(D){console.error("aria-hidden: cannot operate on ",x,D)}})};return g(e),c.clear(),bA++,function(){o.forEach(function(y){var x=sg.get(y)-1,N=s.get(y)-1;sg.set(y,x),s.set(y,N),x||(Zw.has(y)||y.removeAttribute(n),Zw.delete(y)),N||y.removeAttribute(r)}),bA--,bA||(sg=new WeakMap,sg=new WeakMap,Zw=new WeakMap,Jw={})}},X9=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Fle(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Ble(n,i,r,"aria-hidden")):function(){return null}},KI="Dialog",[Q9,jPe]=Ha(KI),[Vle,yl]=Q9(KI),Z9=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,c=P.useRef(null),d=P.useRef(null),[h=!1,g]=aa({prop:n,defaultProp:i,onChange:s});return a.jsx(Vle,{scope:e,triggerRef:c,contentRef:d,contentId:ll(),titleId:ll(),descriptionId:ll(),open:h,onOpenChange:g,onOpenToggle:P.useCallback(()=>g(y=>!y),[g]),modal:o,children:r})};Z9.displayName=KI;var J9="DialogTrigger",zle=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yl(J9,r),s=mr(e,i.triggerRef);return a.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QI(i.open),...n,ref:s,onClick:bt(t.onClick,i.onOpenToggle)})});zle.displayName=J9;var YI="DialogPortal",[Ule,e8]=Q9(YI,{forceMount:void 0}),t8=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=yl(YI,e);return a.jsx(Ule,{scope:e,forceMount:r,children:P.Children.map(n,o=>a.jsx(_c,{present:r||s.open,children:a.jsx(S_,{asChild:!0,container:i,children:o})}))})};t8.displayName=YI;var sS="DialogOverlay",r8=P.forwardRef((t,e)=>{const r=e8(sS,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=yl(sS,t.__scopeDialog);return s.modal?a.jsx(_c,{present:n||s.open,children:a.jsx(qle,{...i,ref:e})}):null});r8.displayName=sS;var qle=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yl(sS,r);return a.jsx(GI,{as:Np,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(_t.div,{"data-state":QI(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ip="DialogContent",n8=P.forwardRef((t,e)=>{const r=e8(Ip,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=yl(Ip,t.__scopeDialog);return a.jsx(_c,{present:n||s.open,children:s.modal?a.jsx(Hle,{...i,ref:e}):a.jsx(Wle,{...i,ref:e})})});n8.displayName=Ip;var Hle=P.forwardRef((t,e)=>{const r=yl(Ip,t.__scopeDialog),n=P.useRef(null),i=mr(e,r.contentRef,n);return P.useEffect(()=>{const s=n.current;if(s)return X9(s)},[]),a.jsx(i8,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:bt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:bt(t.onFocusOutside,s=>s.preventDefault())})}),Wle=P.forwardRef((t,e)=>{const r=yl(Ip,t.__scopeDialog),n=P.useRef(!1),i=P.useRef(!1);return a.jsx(i8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((h=r.triggerRef.current)==null?void 0:h.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),i8=P.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,c=yl(Ip,r),d=P.useRef(null),h=mr(e,d);return z9(),a.jsxs(a.Fragment,{children:[a.jsx(WI,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(e0,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":QI(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Gle,{titleId:c.titleId}),a.jsx(Yle,{contentRef:d,descriptionId:c.descriptionId})]})]})}),XI="DialogTitle",s8=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yl(XI,r);return a.jsx(_t.h2,{id:i.titleId,...n,ref:e})});s8.displayName=XI;var a8="DialogDescription",o8=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yl(a8,r);return a.jsx(_t.p,{id:i.descriptionId,...n,ref:e})});o8.displayName=a8;var l8="DialogClose",c8=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yl(l8,r);return a.jsx(_t.button,{type:"button",...n,ref:e,onClick:bt(t.onClick,()=>i.onOpenChange(!1))})});c8.displayName=l8;function QI(t){return t?"open":"closed"}var u8="DialogTitleWarning",[NPe,d8]=LX(u8,{contentName:Ip,titleName:XI,docsSlug:"dialog"}),Gle=({titleId:t})=>{const e=d8(u8),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Kle="DialogDescriptionWarning",Yle=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d8(Kle).contentName}}.`;return P.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Xle=Z9,Qle=t8,h8=r8,f8=n8,p8=s8,m8=o8,g8=c8;const h0=Xle,Zle=Qle,Jle=g8,y8=P.forwardRef(({className:t,...e},r)=>a.jsx(h8,{ref:r,className:Ot("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));y8.displayName=h8.displayName;const Fy=P.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Zle,{children:[a.jsx(y8,{}),a.jsxs(f8,{ref:n,className:Ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(g8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(qa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fy.displayName=f8.displayName;const $y=({className:t,...e})=>a.jsx("div",{className:Ot("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$y.displayName="DialogHeader";const v8=({className:t,...e})=>a.jsx("div",{className:Ot("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});v8.displayName="DialogFooter";const By=P.forwardRef(({className:t,...e},r)=>a.jsx(p8,{ref:r,className:Ot("text-lg font-semibold leading-none tracking-tight",t),...e}));By.displayName=p8.displayName;const Vy=P.forwardRef(({className:t,...e},r)=>a.jsx(m8,{ref:r,className:Ot("text-sm text-muted-foreground",t),...e}));Vy.displayName=m8.displayName;const x8=({isOpen:t,onClose:e,userProfile:r})=>a.jsx(h0,{open:t,onOpenChange:e,children:a.jsxs(Fy,{className:"sci-fi-card max-w-md",children:[a.jsxs($y,{children:[a.jsxs(By,{className:"flex items-center",children:[a.jsx(Hh,{className:"mr-2 h-5 w-5"}),"Your Profile"]}),a.jsx(Vy,{children:"Manage your account settings and preferences."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-b pb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Account Information"}),a.jsxs("p",{children:["Name: ",(r==null?void 0:r.displayName)||(r==null?void 0:r.name)||"N/A"]}),a.jsxs("p",{children:["Email: ",(r==null?void 0:r.email)||"N/A"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(Ie,{variant:"outline",className:"sci-fi-button",children:[a.jsx(lI,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsxs(Ie,{variant:"destructive",className:"sci-fi-button",children:[a.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]})]})}),vl=({userProfile:t})=>{var A;const[e,r]=P.useState(!1),[n,i]=P.useState(!1),s=Jn(),{toast:o}=hn(),c=Cr(At),d=c.currentUser,{isGuest:h,exitGuestMode:g}=la(),y=d0()||"Guest",x=()=>{r(!e)},N=async()=>{try{if(h){g(),o({title:"Exited guest mode",description:"Thank you for trying SafeBite!"}),s("/");return}await Jie(c),o({title:"Logged out successfully",description:"Thank you for using SafeBite!"}),s("/")}catch(k){o({title:"Logout failed",description:k.message,variant:"destructive"}),console.error("Logout error:",k)}},C=[{path:"/dashboard",name:"Dashboard",icon:a.jsx(nz,{size:20}),guestAccess:!0},{path:"/nutrition",name:"Nutrition",icon:a.jsx(Ih,{size:20,className:"text-safebite-teal"}),guestAccess:!1},{path:"/recipes",name:"Recipes",icon:a.jsx(r0,{size:20}),guestAccess:!1},{path:"/grocery-products",name:"Grocery Products",icon:a.jsx(cI,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"}),guestAccess:!1},{path:"/food-delivery",name:"Food Delivery",icon:a.jsx(uz,{size:20,className:"text-orange-400"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-orange-500/20 text-orange-400 px-1.5 py-0.5 rounded-full",children:"Coming Soon"}),guestAccess:!1},{path:"/community",name:"Community",icon:a.jsx(sl,{size:20}),guestAccess:!1},{path:"/healthbox",name:"HealthBox",icon:a.jsx(wp,{size:20,className:"text-safebite-teal"}),guestAccess:!1},{path:"/health-check",name:"Health Check",icon:a.jsx(oa,{size:20}),guestAccess:!1},{path:"/reports",name:"Reports",icon:a.jsx(OC,{size:20}),guestAccess:!1},{path:"/settings",name:"Settings",icon:a.jsx(lI,{size:20}),guestAccess:!1},{path:"/help",name:"Help",icon:a.jsx(vh,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"}),guestAccess:!0}];return a.jsxs(a.Fragment,{children:[a.jsx(Ie,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-safebite-card-bg border-safebite-card-bg-alt hover:bg-safebite-teal/10 hover:border-safebite-teal/50 transition-all duration-300 shadow-md",onClick:x,children:e?a.jsx(qa,{size:20,className:"text-safebite-teal"}):a.jsx(sz,{size:20,className:"text-safebite-teal"})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-safebite-dark-blue border-r border-safebite-card-bg-alt transform transition-transform duration-300 ease-in-out shadow-xl ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-3",children:a.jsx(ol,{size:20,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Smart Food Safety"})]})]})}),a.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-2 px-4",children:C.map(k=>(!h||k.guestAccess)&&a.jsx("li",{children:a.jsxs(cre,{to:k.path,className:({isActive:D})=>`flex items-center py-2 px-4 rounded-md transition-all duration-300 ${D?"bg-gradient-to-r from-safebite-teal to-safebite-teal/80 text-safebite-dark-blue font-medium shadow-sm shadow-safebite-teal/20":"text-safebite-text hover:bg-safebite-card-bg-alt hover:border-safebite-teal/20 hover:pl-5"}`,children:[a.jsx("span",{className:"mr-3",children:k.icon}),k.name,k.badge&&k.badge]})},k.path))})}),a.jsxs("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:[a.jsxs(Ie,{variant:"ghost",className:"flex items-center space-x-3 mb-4 w-full hover:bg-safebite-card-bg-alt rounded-md p-2",onClick:()=>i(!0),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal/30 to-safebite-purple/30 flex items-center justify-center text-safebite-teal border border-safebite-teal/50",children:h?"G":((A=d==null?void 0:d.email)==null?void 0:A.charAt(0).toUpperCase())||"A"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 rounded-full bg-safebite-card-bg border border-safebite-card-bg-alt flex items-center justify-center",children:h?a.jsx(Fa,{size:12,className:"text-yellow-500"}):a.jsx(TM,{size:12,className:"text-safebite-teal"})})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-safebite-text font-medium",children:h?y:(d==null?void 0:d.displayName)||(d==null?void 0:d.email)||"User"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary flex items-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Fa,{size:12,className:"text-yellow-500 mr-1"})," Guest Mode"]}):a.jsxs(a.Fragment,{children:[a.jsx(TM,{size:12,className:"text-safebite-teal mr-1"})," Premium Member"]})})]}),a.jsx(Hh,{size:16,className:"ml-auto text-safebite-teal"})]}),a.jsxs(Ie,{variant:"outline",className:"w-full sci-fi-button flex items-center justify-center hover:border-safebite-teal/50 transition-all duration-300",onClick:N,children:[a.jsx(UQ,{size:18,className:"mr-2"}),h?"Exit Guest Mode":"Sign Out"]})]})]})}),a.jsx(x8,{isOpen:n,onClose:()=>i(!1),userProfile:t})]})};var nL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eh,b8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(q,V){function Q(){}Q.prototype=V.prototype,q.D=V.prototype,q.prototype=new Q,q.prototype.constructor=q,q.C=function(J,ee,X){for(var Y=Array(arguments.length-2),se=2;se<arguments.length;se++)Y[se-2]=arguments[se];return V.prototype[ee].apply(J,Y)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(q,V,Q){Q||(Q=0);var J=Array(16);if(typeof V=="string")for(var ee=0;16>ee;++ee)J[ee]=V.charCodeAt(Q++)|V.charCodeAt(Q++)<<8|V.charCodeAt(Q++)<<16|V.charCodeAt(Q++)<<24;else for(ee=0;16>ee;++ee)J[ee]=V[Q++]|V[Q++]<<8|V[Q++]<<16|V[Q++]<<24;V=q.g[0],Q=q.g[1],ee=q.g[2];var X=q.g[3],Y=V+(X^Q&(ee^X))+J[0]+3614090360&4294967295;V=Q+(Y<<7&4294967295|Y>>>25),Y=X+(ee^V&(Q^ee))+J[1]+3905402710&4294967295,X=V+(Y<<12&4294967295|Y>>>20),Y=ee+(Q^X&(V^Q))+J[2]+606105819&4294967295,ee=X+(Y<<17&4294967295|Y>>>15),Y=Q+(V^ee&(X^V))+J[3]+3250441966&4294967295,Q=ee+(Y<<22&4294967295|Y>>>10),Y=V+(X^Q&(ee^X))+J[4]+4118548399&4294967295,V=Q+(Y<<7&4294967295|Y>>>25),Y=X+(ee^V&(Q^ee))+J[5]+1200080426&4294967295,X=V+(Y<<12&4294967295|Y>>>20),Y=ee+(Q^X&(V^Q))+J[6]+2821735955&4294967295,ee=X+(Y<<17&4294967295|Y>>>15),Y=Q+(V^ee&(X^V))+J[7]+4249261313&4294967295,Q=ee+(Y<<22&4294967295|Y>>>10),Y=V+(X^Q&(ee^X))+J[8]+1770035416&4294967295,V=Q+(Y<<7&4294967295|Y>>>25),Y=X+(ee^V&(Q^ee))+J[9]+2336552879&4294967295,X=V+(Y<<12&4294967295|Y>>>20),Y=ee+(Q^X&(V^Q))+J[10]+4294925233&4294967295,ee=X+(Y<<17&4294967295|Y>>>15),Y=Q+(V^ee&(X^V))+J[11]+2304563134&4294967295,Q=ee+(Y<<22&4294967295|Y>>>10),Y=V+(X^Q&(ee^X))+J[12]+1804603682&4294967295,V=Q+(Y<<7&4294967295|Y>>>25),Y=X+(ee^V&(Q^ee))+J[13]+4254626195&4294967295,X=V+(Y<<12&4294967295|Y>>>20),Y=ee+(Q^X&(V^Q))+J[14]+2792965006&4294967295,ee=X+(Y<<17&4294967295|Y>>>15),Y=Q+(V^ee&(X^V))+J[15]+1236535329&4294967295,Q=ee+(Y<<22&4294967295|Y>>>10),Y=V+(ee^X&(Q^ee))+J[1]+4129170786&4294967295,V=Q+(Y<<5&4294967295|Y>>>27),Y=X+(Q^ee&(V^Q))+J[6]+3225465664&4294967295,X=V+(Y<<9&4294967295|Y>>>23),Y=ee+(V^Q&(X^V))+J[11]+643717713&4294967295,ee=X+(Y<<14&4294967295|Y>>>18),Y=Q+(X^V&(ee^X))+J[0]+3921069994&4294967295,Q=ee+(Y<<20&4294967295|Y>>>12),Y=V+(ee^X&(Q^ee))+J[5]+3593408605&4294967295,V=Q+(Y<<5&4294967295|Y>>>27),Y=X+(Q^ee&(V^Q))+J[10]+38016083&4294967295,X=V+(Y<<9&4294967295|Y>>>23),Y=ee+(V^Q&(X^V))+J[15]+3634488961&4294967295,ee=X+(Y<<14&4294967295|Y>>>18),Y=Q+(X^V&(ee^X))+J[4]+3889429448&4294967295,Q=ee+(Y<<20&4294967295|Y>>>12),Y=V+(ee^X&(Q^ee))+J[9]+568446438&4294967295,V=Q+(Y<<5&4294967295|Y>>>27),Y=X+(Q^ee&(V^Q))+J[14]+3275163606&4294967295,X=V+(Y<<9&4294967295|Y>>>23),Y=ee+(V^Q&(X^V))+J[3]+4107603335&4294967295,ee=X+(Y<<14&4294967295|Y>>>18),Y=Q+(X^V&(ee^X))+J[8]+1163531501&4294967295,Q=ee+(Y<<20&4294967295|Y>>>12),Y=V+(ee^X&(Q^ee))+J[13]+2850285829&4294967295,V=Q+(Y<<5&4294967295|Y>>>27),Y=X+(Q^ee&(V^Q))+J[2]+4243563512&4294967295,X=V+(Y<<9&4294967295|Y>>>23),Y=ee+(V^Q&(X^V))+J[7]+1735328473&4294967295,ee=X+(Y<<14&4294967295|Y>>>18),Y=Q+(X^V&(ee^X))+J[12]+2368359562&4294967295,Q=ee+(Y<<20&4294967295|Y>>>12),Y=V+(Q^ee^X)+J[5]+4294588738&4294967295,V=Q+(Y<<4&4294967295|Y>>>28),Y=X+(V^Q^ee)+J[8]+2272392833&4294967295,X=V+(Y<<11&4294967295|Y>>>21),Y=ee+(X^V^Q)+J[11]+1839030562&4294967295,ee=X+(Y<<16&4294967295|Y>>>16),Y=Q+(ee^X^V)+J[14]+4259657740&4294967295,Q=ee+(Y<<23&4294967295|Y>>>9),Y=V+(Q^ee^X)+J[1]+2763975236&4294967295,V=Q+(Y<<4&4294967295|Y>>>28),Y=X+(V^Q^ee)+J[4]+1272893353&4294967295,X=V+(Y<<11&4294967295|Y>>>21),Y=ee+(X^V^Q)+J[7]+4139469664&4294967295,ee=X+(Y<<16&4294967295|Y>>>16),Y=Q+(ee^X^V)+J[10]+3200236656&4294967295,Q=ee+(Y<<23&4294967295|Y>>>9),Y=V+(Q^ee^X)+J[13]+681279174&4294967295,V=Q+(Y<<4&4294967295|Y>>>28),Y=X+(V^Q^ee)+J[0]+3936430074&4294967295,X=V+(Y<<11&4294967295|Y>>>21),Y=ee+(X^V^Q)+J[3]+3572445317&4294967295,ee=X+(Y<<16&4294967295|Y>>>16),Y=Q+(ee^X^V)+J[6]+76029189&4294967295,Q=ee+(Y<<23&4294967295|Y>>>9),Y=V+(Q^ee^X)+J[9]+3654602809&4294967295,V=Q+(Y<<4&4294967295|Y>>>28),Y=X+(V^Q^ee)+J[12]+3873151461&4294967295,X=V+(Y<<11&4294967295|Y>>>21),Y=ee+(X^V^Q)+J[15]+530742520&4294967295,ee=X+(Y<<16&4294967295|Y>>>16),Y=Q+(ee^X^V)+J[2]+3299628645&4294967295,Q=ee+(Y<<23&4294967295|Y>>>9),Y=V+(ee^(Q|~X))+J[0]+4096336452&4294967295,V=Q+(Y<<6&4294967295|Y>>>26),Y=X+(Q^(V|~ee))+J[7]+1126891415&4294967295,X=V+(Y<<10&4294967295|Y>>>22),Y=ee+(V^(X|~Q))+J[14]+2878612391&4294967295,ee=X+(Y<<15&4294967295|Y>>>17),Y=Q+(X^(ee|~V))+J[5]+4237533241&4294967295,Q=ee+(Y<<21&4294967295|Y>>>11),Y=V+(ee^(Q|~X))+J[12]+1700485571&4294967295,V=Q+(Y<<6&4294967295|Y>>>26),Y=X+(Q^(V|~ee))+J[3]+2399980690&4294967295,X=V+(Y<<10&4294967295|Y>>>22),Y=ee+(V^(X|~Q))+J[10]+4293915773&4294967295,ee=X+(Y<<15&4294967295|Y>>>17),Y=Q+(X^(ee|~V))+J[1]+2240044497&4294967295,Q=ee+(Y<<21&4294967295|Y>>>11),Y=V+(ee^(Q|~X))+J[8]+1873313359&4294967295,V=Q+(Y<<6&4294967295|Y>>>26),Y=X+(Q^(V|~ee))+J[15]+4264355552&4294967295,X=V+(Y<<10&4294967295|Y>>>22),Y=ee+(V^(X|~Q))+J[6]+2734768916&4294967295,ee=X+(Y<<15&4294967295|Y>>>17),Y=Q+(X^(ee|~V))+J[13]+1309151649&4294967295,Q=ee+(Y<<21&4294967295|Y>>>11),Y=V+(ee^(Q|~X))+J[4]+4149444226&4294967295,V=Q+(Y<<6&4294967295|Y>>>26),Y=X+(Q^(V|~ee))+J[11]+3174756917&4294967295,X=V+(Y<<10&4294967295|Y>>>22),Y=ee+(V^(X|~Q))+J[2]+718787259&4294967295,ee=X+(Y<<15&4294967295|Y>>>17),Y=Q+(X^(ee|~V))+J[9]+3951481745&4294967295,q.g[0]=q.g[0]+V&4294967295,q.g[1]=q.g[1]+(ee+(Y<<21&4294967295|Y>>>11))&4294967295,q.g[2]=q.g[2]+ee&4294967295,q.g[3]=q.g[3]+X&4294967295}n.prototype.u=function(q,V){V===void 0&&(V=q.length);for(var Q=V-this.blockSize,J=this.B,ee=this.h,X=0;X<V;){if(ee==0)for(;X<=Q;)i(this,q,X),X+=this.blockSize;if(typeof q=="string"){for(;X<V;)if(J[ee++]=q.charCodeAt(X++),ee==this.blockSize){i(this,J),ee=0;break}}else for(;X<V;)if(J[ee++]=q[X++],ee==this.blockSize){i(this,J),ee=0;break}}this.h=ee,this.o+=V},n.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var V=1;V<q.length-8;++V)q[V]=0;var Q=8*this.o;for(V=q.length-8;V<q.length;++V)q[V]=Q&255,Q/=256;for(this.u(q),q=Array(16),V=Q=0;4>V;++V)for(var J=0;32>J;J+=8)q[Q++]=this.g[V]>>>J&255;return q};function s(q,V){var Q=c;return Object.prototype.hasOwnProperty.call(Q,q)?Q[q]:Q[q]=V(q)}function o(q,V){this.h=V;for(var Q=[],J=!0,ee=q.length-1;0<=ee;ee--){var X=q[ee]|0;J&&X==V||(Q[ee]=X,J=!1)}this.g=Q}var c={};function d(q){return-128<=q&&128>q?s(q,function(V){return new o([V|0],0>V?-1:0)}):new o([q|0],0>q?-1:0)}function h(q){if(isNaN(q)||!isFinite(q))return y;if(0>q)return k(h(-q));for(var V=[],Q=1,J=0;q>=Q;J++)V[J]=q/Q|0,Q*=4294967296;return new o(V,0)}function g(q,V){if(q.length==0)throw Error("number format error: empty string");if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(q.charAt(0)=="-")return k(g(q.substring(1),V));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var Q=h(Math.pow(V,8)),J=y,ee=0;ee<q.length;ee+=8){var X=Math.min(8,q.length-ee),Y=parseInt(q.substring(ee,ee+X),V);8>X?(X=h(Math.pow(V,X)),J=J.j(X).add(h(Y))):(J=J.j(Q),J=J.add(h(Y)))}return J}var y=d(0),x=d(1),N=d(16777216);t=o.prototype,t.m=function(){if(A(this))return-k(this).m();for(var q=0,V=1,Q=0;Q<this.g.length;Q++){var J=this.i(Q);q+=(0<=J?J:4294967296+J)*V,V*=4294967296}return q},t.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(C(this))return"0";if(A(this))return"-"+k(this).toString(q);for(var V=h(Math.pow(q,6)),Q=this,J="";;){var ee=L(Q,V).g;Q=D(Q,ee.j(V));var X=((0<Q.g.length?Q.g[0]:Q.h)>>>0).toString(q);if(Q=ee,C(Q))return X+J;for(;6>X.length;)X="0"+X;J=X+J}},t.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function C(q){if(q.h!=0)return!1;for(var V=0;V<q.g.length;V++)if(q.g[V]!=0)return!1;return!0}function A(q){return q.h==-1}t.l=function(q){return q=D(this,q),A(q)?-1:C(q)?0:1};function k(q){for(var V=q.g.length,Q=[],J=0;J<V;J++)Q[J]=~q.g[J];return new o(Q,~q.h).add(x)}t.abs=function(){return A(this)?k(this):this},t.add=function(q){for(var V=Math.max(this.g.length,q.g.length),Q=[],J=0,ee=0;ee<=V;ee++){var X=J+(this.i(ee)&65535)+(q.i(ee)&65535),Y=(X>>>16)+(this.i(ee)>>>16)+(q.i(ee)>>>16);J=Y>>>16,X&=65535,Y&=65535,Q[ee]=Y<<16|X}return new o(Q,Q[Q.length-1]&-2147483648?-1:0)};function D(q,V){return q.add(k(V))}t.j=function(q){if(C(this)||C(q))return y;if(A(this))return A(q)?k(this).j(k(q)):k(k(this).j(q));if(A(q))return k(this.j(k(q)));if(0>this.l(N)&&0>q.l(N))return h(this.m()*q.m());for(var V=this.g.length+q.g.length,Q=[],J=0;J<2*V;J++)Q[J]=0;for(J=0;J<this.g.length;J++)for(var ee=0;ee<q.g.length;ee++){var X=this.i(J)>>>16,Y=this.i(J)&65535,se=q.i(ee)>>>16,pe=q.i(ee)&65535;Q[2*J+2*ee]+=Y*pe,M(Q,2*J+2*ee),Q[2*J+2*ee+1]+=X*pe,M(Q,2*J+2*ee+1),Q[2*J+2*ee+1]+=Y*se,M(Q,2*J+2*ee+1),Q[2*J+2*ee+2]+=X*se,M(Q,2*J+2*ee+2)}for(J=0;J<V;J++)Q[J]=Q[2*J+1]<<16|Q[2*J];for(J=V;J<2*V;J++)Q[J]=0;return new o(Q,0)};function M(q,V){for(;(q[V]&65535)!=q[V];)q[V+1]+=q[V]>>>16,q[V]&=65535,V++}function $(q,V){this.g=q,this.h=V}function L(q,V){if(C(V))throw Error("division by zero");if(C(q))return new $(y,y);if(A(q))return V=L(k(q),V),new $(k(V.g),k(V.h));if(A(V))return V=L(q,k(V)),new $(k(V.g),V.h);if(30<q.g.length){if(A(q)||A(V))throw Error("slowDivide_ only works with positive integers.");for(var Q=x,J=V;0>=J.l(q);)Q=U(Q),J=U(J);var ee=K(Q,1),X=K(J,1);for(J=K(J,2),Q=K(Q,2);!C(J);){var Y=X.add(J);0>=Y.l(q)&&(ee=ee.add(Q),X=Y),J=K(J,1),Q=K(Q,1)}return V=D(q,ee.j(V)),new $(ee,V)}for(ee=y;0<=q.l(V);){for(Q=Math.max(1,Math.floor(q.m()/V.m())),J=Math.ceil(Math.log(Q)/Math.LN2),J=48>=J?1:Math.pow(2,J-48),X=h(Q),Y=X.j(V);A(Y)||0<Y.l(q);)Q-=J,X=h(Q),Y=X.j(V);C(X)&&(X=x),ee=ee.add(X),q=D(q,Y)}return new $(ee,q)}t.A=function(q){return L(this,q).h},t.and=function(q){for(var V=Math.max(this.g.length,q.g.length),Q=[],J=0;J<V;J++)Q[J]=this.i(J)&q.i(J);return new o(Q,this.h&q.h)},t.or=function(q){for(var V=Math.max(this.g.length,q.g.length),Q=[],J=0;J<V;J++)Q[J]=this.i(J)|q.i(J);return new o(Q,this.h|q.h)},t.xor=function(q){for(var V=Math.max(this.g.length,q.g.length),Q=[],J=0;J<V;J++)Q[J]=this.i(J)^q.i(J);return new o(Q,this.h^q.h)};function U(q){for(var V=q.g.length+1,Q=[],J=0;J<V;J++)Q[J]=q.i(J)<<1|q.i(J-1)>>>31;return new o(Q,q.h)}function K(q,V){var Q=V>>5;V%=32;for(var J=q.g.length-Q,ee=[],X=0;X<J;X++)ee[X]=0<V?q.i(X+Q)>>>V|q.i(X+Q+1)<<32-V:q.i(X+Q);return new o(ee,q.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,b8=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=g,Eh=o}).apply(typeof nL<"u"?nL:typeof self<"u"?self:typeof window<"u"?window:{});var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w8,kx,S8,T1,lP,_8,j8,N8;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(j,H,te){return j==Array.prototype||j==Object.prototype||(j[H]=te.value),j};function r(j){j=[typeof globalThis=="object"&&globalThis,j,typeof window=="object"&&window,typeof self=="object"&&self,typeof e1=="object"&&e1];for(var H=0;H<j.length;++H){var te=j[H];if(te&&te.Math==Math)return te}throw Error("Cannot find global object")}var n=r(this);function i(j,H){if(H)e:{var te=n;j=j.split(".");for(var fe=0;fe<j.length-1;fe++){var Ee=j[fe];if(!(Ee in te))break e;te=te[Ee]}j=j[j.length-1],fe=te[j],H=H(fe),H!=fe&&H!=null&&e(te,j,{configurable:!0,writable:!0,value:H})}}function s(j,H){j instanceof String&&(j+="");var te=0,fe=!1,Ee={next:function(){if(!fe&&te<j.length){var $e=te++;return{value:H($e,j[$e]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}i("Array.prototype.values",function(j){return j||function(){return s(this,function(H,te){return te})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(j){var H=typeof j;return H=H!="object"?H:j?Array.isArray(j)?"array":H:"null",H=="array"||H=="object"&&typeof j.length=="number"}function h(j){var H=typeof j;return H=="object"&&j!=null||H=="function"}function g(j,H,te){return j.call.apply(j.bind,arguments)}function y(j,H,te){if(!j)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,fe),j.apply(H,Ee)}}return function(){return j.apply(H,arguments)}}function x(j,H,te){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,x.apply(null,arguments)}function N(j,H){var te=Array.prototype.slice.call(arguments,1);return function(){var fe=te.slice();return fe.push.apply(fe,arguments),j.apply(this,fe)}}function C(j,H){function te(){}te.prototype=H.prototype,j.aa=H.prototype,j.prototype=new te,j.prototype.constructor=j,j.Qb=function(fe,Ee,$e){for(var st=Array(arguments.length-2),Or=2;Or<arguments.length;Or++)st[Or-2]=arguments[Or];return H.prototype[Ee].apply(fe,st)}}function A(j){const H=j.length;if(0<H){const te=Array(H);for(let fe=0;fe<H;fe++)te[fe]=j[fe];return te}return[]}function k(j,H){for(let te=1;te<arguments.length;te++){const fe=arguments[te];if(d(fe)){const Ee=j.length||0,$e=fe.length||0;j.length=Ee+$e;for(let st=0;st<$e;st++)j[Ee+st]=fe[st]}else j.push(fe)}}class D{constructor(H,te){this.i=H,this.j=te,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function M(j){return/^[\s\xa0]*$/.test(j)}function $(){var j=c.navigator;return j&&(j=j.userAgent)?j:""}function L(j){return L[" "](j),j}L[" "]=function(){};var U=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function K(j,H,te){for(const fe in j)H.call(te,j[fe],fe,j)}function q(j,H){for(const te in j)H.call(void 0,j[te],te,j)}function V(j){const H={};for(const te in j)H[te]=j[te];return H}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(j,H){let te,fe;for(let Ee=1;Ee<arguments.length;Ee++){fe=arguments[Ee];for(te in fe)j[te]=fe[te];for(let $e=0;$e<Q.length;$e++)te=Q[$e],Object.prototype.hasOwnProperty.call(fe,te)&&(j[te]=fe[te])}}function ee(j){var H=1;j=j.split(":");const te=[];for(;0<H&&j.length;)te.push(j.shift()),H--;return j.length&&te.push(j.join(":")),te}function X(j){c.setTimeout(()=>{throw j},0)}function Y(){var j=Se;let H=null;return j.g&&(H=j.g,j.g=j.g.next,j.g||(j.h=null),H.next=null),H}class se{constructor(){this.h=this.g=null}add(H,te){const fe=pe.get();fe.set(H,te),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var pe=new D(()=>new ce,j=>j.reset());class ce{constructor(){this.next=this.g=this.h=null}set(H,te){this.h=H,this.g=te,this.next=null}reset(){this.next=this.g=this.h=null}}let me,he=!1,Se=new se,be=()=>{const j=c.Promise.resolve(void 0);me=()=>{j.then(ue)}};var ue=()=>{for(var j;j=Y();){try{j.h.call(j.g)}catch(te){X(te)}var H=pe;H.j(j),100>H.h&&(H.h++,j.next=H.g,H.g=j)}he=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(j,H){this.type=j,this.g=this.target=H,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var j=!1,H=Object.defineProperty({},"passive",{get:function(){j=!0}});try{const te=()=>{};c.addEventListener("test",te,H),c.removeEventListener("test",te,H)}catch{}return j}();function et(j,H){if(ke.call(this,j?j.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,j){var te=this.type=j.type,fe=j.changedTouches&&j.changedTouches.length?j.changedTouches[0]:null;if(this.target=j.target||j.srcElement,this.g=H,H=j.relatedTarget){if(U){e:{try{L(H.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(H=null)}}else te=="mouseover"?H=j.fromElement:te=="mouseout"&&(H=j.toElement);this.relatedTarget=H,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0),this.button=j.button,this.key=j.key||"",this.ctrlKey=j.ctrlKey,this.altKey=j.altKey,this.shiftKey=j.shiftKey,this.metaKey=j.metaKey,this.pointerId=j.pointerId||0,this.pointerType=typeof j.pointerType=="string"?j.pointerType:Ke[j.pointerType]||"",this.state=j.state,this.i=j,j.defaultPrevented&&et.aa.h.call(this)}}C(et,ke);var Ke={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var j=this.i;j.preventDefault?j.preventDefault():j.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Me(j,H,te,fe,Ee){this.listener=j,this.proxy=null,this.src=H,this.type=te,this.capture=!!fe,this.ha=Ee,this.key=++Ce,this.da=this.fa=!1}function Be(j){j.da=!0,j.listener=null,j.proxy=null,j.src=null,j.ha=null}function Ue(j){this.src=j,this.g={},this.h=0}Ue.prototype.add=function(j,H,te,fe,Ee){var $e=j.toString();j=this.g[$e],j||(j=this.g[$e]=[],this.h++);var st=Le(j,H,fe,Ee);return-1<st?(H=j[st],te||(H.fa=!1)):(H=new Me(H,this.src,$e,!!fe,Ee),H.fa=te,j.push(H)),H};function Oe(j,H){var te=H.type;if(te in j.g){var fe=j.g[te],Ee=Array.prototype.indexOf.call(fe,H,void 0),$e;($e=0<=Ee)&&Array.prototype.splice.call(fe,Ee,1),$e&&(Be(H),j.g[te].length==0&&(delete j.g[te],j.h--))}}function Le(j,H,te,fe){for(var Ee=0;Ee<j.length;++Ee){var $e=j[Ee];if(!$e.da&&$e.listener==H&&$e.capture==!!te&&$e.ha==fe)return Ee}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),Ft={};function Dt(j,H,te,fe,Ee){if(Array.isArray(H)){for(var $e=0;$e<H.length;$e++)Dt(j,H[$e],te,fe,Ee);return null}return te=Xi(te),j&&j[_e]?j.K(H,te,h(fe)?!!fe.capture:!1,Ee):gr(j,H,te,!1,fe,Ee)}function gr(j,H,te,fe,Ee,$e){if(!H)throw Error("Invalid event type");var st=h(Ee)?!!Ee.capture:!!Ee,Or=Fr(j);if(Or||(j[vt]=Or=new Ue(j)),te=Or.add(H,te,fe,st,$e),te.proxy)return te;if(fe=Zr(),te.proxy=fe,fe.src=j,fe.listener=te,j.addEventListener)ze||(Ee=st),Ee===void 0&&(Ee=!1),j.addEventListener(H.toString(),fe,Ee);else if(j.attachEvent)j.attachEvent(Wt(H.toString()),fe);else if(j.addListener&&j.removeListener)j.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return te}function Zr(){function j(te){return H.call(j.src,j.listener,te)}const H=Ir;return j}function at(j,H,te,fe,Ee){if(Array.isArray(H))for(var $e=0;$e<H.length;$e++)at(j,H[$e],te,fe,Ee);else fe=h(fe)?!!fe.capture:!!fe,te=Xi(te),j&&j[_e]?(j=j.i,H=String(H).toString(),H in j.g&&($e=j.g[H],te=Le($e,te,fe,Ee),-1<te&&(Be($e[te]),Array.prototype.splice.call($e,te,1),$e.length==0&&(delete j.g[H],j.h--)))):j&&(j=Fr(j))&&(H=j.g[H.toString()],j=-1,H&&(j=Le(H,te,fe,Ee)),(te=-1<j?H[j]:null)&&Pt(te))}function Pt(j){if(typeof j!="number"&&j&&!j.da){var H=j.src;if(H&&H[_e])Oe(H.i,j);else{var te=j.type,fe=j.proxy;H.removeEventListener?H.removeEventListener(te,fe,j.capture):H.detachEvent?H.detachEvent(Wt(te),fe):H.addListener&&H.removeListener&&H.removeListener(fe),(te=Fr(H))?(Oe(te,j),te.h==0&&(te.src=null,H[vt]=null)):Be(j)}}}function Wt(j){return j in Ft?Ft[j]:Ft[j]="on"+j}function Ir(j,H){if(j.da)j=!0;else{H=new et(H,this);var te=j.listener,fe=j.ha||j.src;j.fa&&Pt(j),j=te.call(fe,H)}return j}function Fr(j){return j=j[vt],j instanceof Ue?j:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xi(j){return typeof j=="function"?j:(j[fn]||(j[fn]=function(H){return j.handleEvent(H)}),j[fn])}function Yt(){ge.call(this),this.i=new Ue(this),this.M=this,this.F=null}C(Yt,ge),Yt.prototype[_e]=!0,Yt.prototype.removeEventListener=function(j,H,te,fe){at(this,j,H,te,fe)};function yr(j,H){var te,fe=j.F;if(fe)for(te=[];fe;fe=fe.F)te.push(fe);if(j=j.M,fe=H.type||H,typeof H=="string")H=new ke(H,j);else if(H instanceof ke)H.target=H.target||j;else{var Ee=H;H=new ke(fe,j),J(H,Ee)}if(Ee=!0,te)for(var $e=te.length-1;0<=$e;$e--){var st=H.g=te[$e];Ee=Ls(st,fe,!0,H)&&Ee}if(st=H.g=j,Ee=Ls(st,fe,!0,H)&&Ee,Ee=Ls(st,fe,!1,H)&&Ee,te)for($e=0;$e<te.length;$e++)st=H.g=te[$e],Ee=Ls(st,fe,!1,H)&&Ee}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var j=this.i,H;for(H in j.g){for(var te=j.g[H],fe=0;fe<te.length;fe++)Be(te[fe]);delete j.g[H],j.h--}}this.F=null},Yt.prototype.K=function(j,H,te,fe){return this.i.add(String(j),H,!1,te,fe)},Yt.prototype.L=function(j,H,te,fe){return this.i.add(String(j),H,!0,te,fe)};function Ls(j,H,te,fe){if(H=j.i.g[String(H)],!H)return!0;H=H.concat();for(var Ee=!0,$e=0;$e<H.length;++$e){var st=H[$e];if(st&&!st.da&&st.capture==te){var Or=st.listener,Wn=st.ha||st.src;st.fa&&Oe(j.i,st),Ee=Or.call(Wn,fe)!==!1&&Ee}}return Ee&&!fe.defaultPrevented}function Fs(j,H,te){if(typeof j=="function")te&&(j=x(j,te));else if(j&&typeof j.handleEvent=="function")j=x(j.handleEvent,j);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:c.setTimeout(j,H||0)}function ua(j){j.g=Fs(()=>{j.g=null,j.i&&(j.i=!1,ua(j))},j.l);const H=j.h;j.h=null,j.m.apply(null,H)}class Wa extends ge{constructor(H,te){super(),this.m=H,this.l=te,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:ua(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ga(j){ge.call(this),this.h=j,this.g={}}C(Ga,ge);var $r=[];function xo(j){K(j.g,function(H,te){this.g.hasOwnProperty(te)&&Pt(H)},j),j.g={}}Ga.prototype.N=function(){Ga.aa.N.call(this),xo(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bo=c.JSON.stringify,Qi=c.JSON.parse,Ec=class{stringify(j){return c.JSON.stringify(j,void 0)}parse(j){return c.JSON.parse(j,void 0)}};function jt(){}jt.prototype.h=null;function vr(j){return j.h||(j.h=j.i())}function Gt(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jr(){ke.call(this,"d")}C(Jr,ke);function da(){ke.call(this,"c")}C(da,ke);var $s={},qn=null;function wl(){return qn=qn||new Yt}$s.La="serverreachability";function td(j){ke.call(this,$s.La,j)}C(td,ke);function ha(j){const H=wl();yr(H,new td(H))}$s.STAT_EVENT="statevent";function Br(j,H){ke.call(this,$s.STAT_EVENT,j),this.stat=H}C(Br,ke);function wn(j){const H=wl();yr(H,new Br(H,j))}$s.Ma="timingevent";function rd(j,H){ke.call(this,$s.Ma,j),this.size=H}C(rd,ke);function ys(j,H){if(typeof j!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){j()},H)}function Tc(){this.g=!0}Tc.prototype.xa=function(){this.g=!1};function An(j,H,te,fe,Ee,$e){j.info(function(){if(j.g)if($e)for(var st="",Or=$e.split("&"),Wn=0;Wn<Or.length;Wn++){var xr=Or[Wn].split("=");if(1<xr.length){var Mn=xr[0];xr=xr[1];var Sn=Mn.split("_");st=2<=Sn.length&&Sn[1]=="type"?st+(Mn+"="+xr+"&"):st+(Mn+"=redacted&")}}else st=null;else st=$e;return"XMLHTTP REQ ("+fe+") [attempt "+Ee+"]: "+H+`
`+te+`
`+st})}function nd(j,H,te,fe,Ee,$e,st){j.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Ee+"]: "+H+`
`+te+`
`+$e+" "+st})}function fa(j,H,te,fe){j.info(function(){return"XMLHTTP TEXT ("+H+"): "+ov(j,te)+(fe?" "+fe:"")})}function sf(j,H){j.info(function(){return"TIMEOUT: "+H})}Tc.prototype.info=function(){};function ov(j,H){if(!j.g)return H;if(!H)return null;try{var te=JSON.parse(H);if(te){for(j=0;j<te.length;j++)if(Array.isArray(te[j])){var fe=te[j];if(!(2>fe.length)){var Ee=fe[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var $e=Ee[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(var st=1;st<Ee.length;st++)Ee[st]=""}}}}return bo(te)}catch{return H}}var Sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},af={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pa;function Cc(){}C(Cc,jt),Cc.prototype.g=function(){return new XMLHttpRequest},Cc.prototype.i=function(){return{}},pa=new Cc;function vs(j,H,te,fe){this.j=j,this.i=H,this.l=te,this.R=fe||1,this.U=new Ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new of}function of(){this.i=null,this.g="",this.h=!1}var kn={},Pc={};function id(j,H,te){j.L=1,j.v=Hn(Si(H)),j.m=te,j.P=!0,lf(j,null)}function lf(j,H){j.F=Date.now(),Wr(j),j.A=Si(j.v);var te=j.A,fe=j.R;Array.isArray(fe)||(fe=[String(fe)]),va(te.i,"t",fe),j.C=0,te=j.j.J,j.h=new of,j.g=fd(j.j,te?H:null,!j.m),0<j.O&&(j.M=new Wa(x(j.Y,j,j.g),j.O)),H=j.U,te=j.g,fe=j.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&($r[0]=Ee.toString()),Ee=$r);for(var $e=0;$e<Ee.length;$e++){var st=Dt(te,Ee[$e],fe||H.handleEvent,!1,H.h||H);if(!st)break;H.g[st.key]=st}H=j.H?V(j.H):{},j.m?(j.u||(j.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",j.g.ea(j.A,j.u,j.m,H)):(j.u="GET",j.g.ea(j.A,j.u,null,H)),ha(),An(j.i,j.u,j.A,j.l,j.R,j.m)}vs.prototype.ca=function(j){j=j.target;const H=this.M;H&&Ji(j)==3?H.j():this.Y(j)},vs.prototype.Y=function(j){try{if(j==this.g)e:{const Sn=Ji(this.g);var H=this.g.Ba();const $i=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||ff(this.g)))){this.J||Sn!=4||H==7||(H==8||0>=$i?ha(3):ha(2)),_l(this);var te=this.g.Z();this.X=te;t:if(Yp(this)){var fe=ff(this.g);j="";var Ee=fe.length,$e=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),wo(this);var st="";break t}this.h.i=new c.TextDecoder}for(H=0;H<Ee;H++)this.h.h=!0,j+=this.h.i.decode(fe[H],{stream:!($e&&H==Ee-1)});fe.length=0,this.h.g+=j,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=te==200,nd(this.i,this.u,this.A,this.l,this.R,Sn,te),this.o){if(this.T&&!this.K){t:{if(this.g){var Or,Wn=this.g;if((Or=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Or)){var xr=Or;break t}}xr=null}if(te=xr)fa(this.i,this.l,te,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ic(this,te);else{this.o=!1,this.s=3,wn(12),Bs(this),wo(this);break e}}if(this.P){te=!0;let Ni;for(;!this.J&&this.C<st.length;)if(Ni=lv(this,st),Ni==Pc){Sn==4&&(this.s=4,wn(14),te=!1),fa(this.i,this.l,null,"[Incomplete Response]");break}else if(Ni==kn){this.s=4,wn(15),fa(this.i,this.l,st,"[Invalid Chunk]"),te=!1;break}else fa(this.i,this.l,Ni,null),Ic(this,Ni);if(Yp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||st.length!=0||this.h.h||(this.s=1,wn(16),te=!1),this.o=this.o&&te,!te)fa(this.i,this.l,st,"[Invalid Chunked Response]"),Bs(this),wo(this);else if(0<st.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),ko(Mn),Mn.M=!0,wn(11))}}else fa(this.i,this.l,st,null),Ic(this,st);Sn==4&&Bs(this),this.o&&!this.J&&(Sn==4?Tl(this.j,this):(this.o=!1,Wr(this)))}else $c(this.g),te==400&&0<st.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Bs(this),wo(this)}}}catch{}finally{}};function Yp(j){return j.g?j.u=="GET"&&j.L!=2&&j.j.Ca:!1}function lv(j,H){var te=j.C,fe=H.indexOf(`
`,te);return fe==-1?Pc:(te=Number(H.substring(te,fe)),isNaN(te)?kn:(fe+=1,fe+te>H.length?Pc:(H=H.slice(fe,fe+te),j.C=fe+te,H)))}vs.prototype.cancel=function(){this.J=!0,Bs(this)};function Wr(j){j.S=Date.now()+j.I,Xp(j,j.I)}function Xp(j,H){if(j.B!=null)throw Error("WatchDog timer not null");j.B=ys(x(j.ba,j),H)}function _l(j){j.B&&(c.clearTimeout(j.B),j.B=null)}vs.prototype.ba=function(){this.B=null;const j=Date.now();0<=j-this.S?(sf(this.i,this.A),this.L!=2&&(ha(),wn(17)),Bs(this),this.s=2,wo(this)):Xp(this,this.S-j)};function wo(j){j.j.G==0||j.J||Tl(j.j,j)}function Bs(j){_l(j);var H=j.M;H&&typeof H.ma=="function"&&H.ma(),j.M=null,xo(j.U),j.g&&(H=j.g,j.g=null,H.abort(),H.ma())}function Ic(j,H){try{var te=j.j;if(te.G!=0&&(te.g==j||wi(te.h,j))){if(!j.K&&wi(te.h,j)&&te.G==3){try{var fe=te.Da.g.parse(H)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Ee=fe;if(Ee[0]==0){e:if(!te.u){if(te.g)if(te.g.F+3e3<j.F)Vc(te),ba(te);else break e;hd(te),wn(18)}}else te.za=Ee[1],0<te.za-te.T&&37500>Ee[2]&&te.F&&te.v==0&&!te.C&&(te.C=ys(x(te.Za,te),6e3));if(1>=cf(te.h)&&te.ca){try{te.ca()}catch{}te.ca=void 0}}else wa(te,11)}else if((j.K||te.g==j)&&Vc(te),!M(H))for(Ee=te.Da.g.parse(H),H=0;H<Ee.length;H++){let xr=Ee[H];if(te.T=xr[0],xr=xr[1],te.G==2)if(xr[0]=="c"){te.K=xr[1],te.ia=xr[2];const Mn=xr[3];Mn!=null&&(te.la=Mn,te.j.info("VER="+te.la));const Sn=xr[4];Sn!=null&&(te.Aa=Sn,te.j.info("SVER="+te.Aa));const $i=xr[5];$i!=null&&typeof $i=="number"&&0<$i&&(fe=1.5*$i,te.L=fe,te.j.info("backChannelRequestTimeoutMs_="+fe)),fe=te;const Ni=j.g;if(Ni){const zc=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zc){var $e=fe.h;$e.g||zc.indexOf("spdy")==-1&&zc.indexOf("quic")==-1&&zc.indexOf("h2")==-1||($e.j=$e.l,$e.g=new Set,$e.h&&(uf($e,$e.h),$e.h=null))}if(fe.D){const Uc=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Uc&&(fe.ya=Uc,Vr(fe.I,fe.D,Uc))}}te.G=3,te.l&&te.l.ua(),te.ba&&(te.R=Date.now()-j.F,te.j.info("Handshake RTT: "+te.R+"ms")),fe=te;var st=j;if(fe.qa=gf(fe,fe.J?fe.ia:null,fe.W),st.K){Qp(fe.h,st);var Or=st,Wn=fe.L;Wn&&(Or.I=Wn),Or.B&&(_l(Or),Wr(Or)),fe.g=st}else El(fe);0<te.i.length&&ts(te)}else xr[0]!="stop"&&xr[0]!="close"||wa(te,7);else te.G==3&&(xr[0]=="stop"||xr[0]=="close"?xr[0]=="stop"?wa(te,7):ri(te):xr[0]!="noop"&&te.l&&te.l.ta(xr),te.v=0)}}ha(4)}catch{}}var Oc=class{constructor(j,H){this.g=j,this.map=H}};function Rc(j){this.l=j||10,c.PerformanceNavigationTiming?(j=c.performance.getEntriesByType("navigation"),j=0<j.length&&(j[0].nextHopProtocol=="hq"||j[0].nextHopProtocol=="h2")):j=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=j?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(j){return j.h?!0:j.g?j.g.size>=j.j:!1}function cf(j){return j.h?1:j.g?j.g.size:0}function wi(j,H){return j.h?j.h==H:j.g?j.g.has(H):!1}function uf(j,H){j.g?j.g.add(H):j.h=H}function Qp(j,H){j.h&&j.h==H?j.h=null:j.g&&j.g.has(H)&&j.g.delete(H)}Rc.prototype.cancel=function(){if(this.i=Zp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const j of this.g.values())j.cancel();this.g.clear()}};function Zp(j){if(j.h!=null)return j.i.concat(j.h.D);if(j.g!=null&&j.g.size!==0){let H=j.i;for(const te of j.g.values())H=H.concat(te.D);return H}return A(j.i)}function sd(j){if(j.V&&typeof j.V=="function")return j.V();if(typeof Map<"u"&&j instanceof Map||typeof Set<"u"&&j instanceof Set)return Array.from(j.values());if(typeof j=="string")return j.split("");if(d(j)){for(var H=[],te=j.length,fe=0;fe<te;fe++)H.push(j[fe]);return H}H=[],te=0;for(fe in j)H[te++]=j[fe];return H}function Mc(j){if(j.na&&typeof j.na=="function")return j.na();if(!j.V||typeof j.V!="function"){if(typeof Map<"u"&&j instanceof Map)return Array.from(j.keys());if(!(typeof Set<"u"&&j instanceof Set)){if(d(j)||typeof j=="string"){var H=[];j=j.length;for(var te=0;te<j;te++)H.push(te);return H}H=[],te=0;for(const fe in j)H[te++]=fe;return H}}}function jl(j,H){if(j.forEach&&typeof j.forEach=="function")j.forEach(H,void 0);else if(d(j)||typeof j=="string")Array.prototype.forEach.call(j,H,void 0);else for(var te=Mc(j),fe=sd(j),Ee=fe.length,$e=0;$e<Ee;$e++)H.call(void 0,fe[$e],te&&te[$e],j)}var Dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cv(j,H){if(j){j=j.split("&");for(var te=0;te<j.length;te++){var fe=j[te].indexOf("="),Ee=null;if(0<=fe){var $e=j[te].substring(0,fe);Ee=j[te].substring(fe+1)}else $e=j[te];H($e,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function So(j){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,j instanceof So){this.h=j.h,Nl(this,j.j),this.o=j.o,this.g=j.g,_o(this,j.s),this.l=j.l;var H=j.i,te=new ga;te.i=H.i,H.g&&(te.g=new Map(H.g),te.h=H.h),ma(this,te),this.m=j.m}else j&&(H=String(j).match(Dc))?(this.h=!1,Nl(this,H[1]||"",!0),this.o=rr(H[2]||""),this.g=rr(H[3]||"",!0),_o(this,H[4]),this.l=rr(H[5]||"",!0),ma(this,H[6]||"",!0),this.m=rr(H[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}So.prototype.toString=function(){var j=[],H=this.j;H&&j.push(Al(H,ad,!0),":");var te=this.g;return(te||H=="file")&&(j.push("//"),(H=this.o)&&j.push(Al(H,ad,!0),"@"),j.push(encodeURIComponent(String(te)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),te=this.s,te!=null&&j.push(":",String(te))),(te=this.l)&&(this.g&&te.charAt(0)!="/"&&j.push("/"),j.push(Al(te,te.charAt(0)=="/"?Lc:od,!0))),(te=this.i.toString())&&j.push("?",te),(te=this.m)&&j.push("#",Al(te,df)),j.join("")};function Si(j){return new So(j)}function Nl(j,H,te){j.j=te?rr(H,!0):H,j.j&&(j.j=j.j.replace(/:$/,""))}function _o(j,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);j.s=H}else j.s=null}function ma(j,H,te){H instanceof ga?(j.i=H,Ka(j.i,j.h)):(te||(H=Al(H,em)),j.i=new ga(H,j.h))}function Vr(j,H,te){j.i.set(H,te)}function Hn(j){return Vr(j,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),j}function rr(j,H){return j?H?decodeURI(j.replace(/%25/g,"%2525")):decodeURIComponent(j):""}function Al(j,H,te){return typeof j=="string"?(j=encodeURI(j).replace(H,Jp),te&&(j=j.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j):null}function Jp(j){return j=j.charCodeAt(0),"%"+(j>>4&15).toString(16)+(j&15).toString(16)}var ad=/[#\/\?@]/g,od=/[#\?:]/g,Lc=/[#\?]/g,em=/[#\?@]/g,df=/#/g;function ga(j,H){this.h=this.g=null,this.i=j||null,this.j=!!H}function ei(j){j.g||(j.g=new Map,j.h=0,j.i&&cv(j.i,function(H,te){j.add(decodeURIComponent(H.replace(/\+/g," ")),te)}))}t=ga.prototype,t.add=function(j,H){ei(this),this.i=null,j=Vs(this,j);var te=this.g.get(j);return te||this.g.set(j,te=[]),te.push(H),this.h+=1,this};function _i(j,H){ei(j),H=Vs(j,H),j.g.has(H)&&(j.i=null,j.h-=j.g.get(H).length,j.g.delete(H))}function ya(j,H){return ei(j),H=Vs(j,H),j.g.has(H)}t.forEach=function(j,H){ei(this),this.g.forEach(function(te,fe){te.forEach(function(Ee){j.call(H,Ee,fe,this)},this)},this)},t.na=function(){ei(this);const j=Array.from(this.g.values()),H=Array.from(this.g.keys()),te=[];for(let fe=0;fe<H.length;fe++){const Ee=j[fe];for(let $e=0;$e<Ee.length;$e++)te.push(H[fe])}return te},t.V=function(j){ei(this);let H=[];if(typeof j=="string")ya(this,j)&&(H=H.concat(this.g.get(Vs(this,j))));else{j=Array.from(this.g.values());for(let te=0;te<j.length;te++)H=H.concat(j[te])}return H},t.set=function(j,H){return ei(this),this.i=null,j=Vs(this,j),ya(this,j)&&(this.h-=this.g.get(j).length),this.g.set(j,[H]),this.h+=1,this},t.get=function(j,H){return j?(j=this.V(j),0<j.length?String(j[0]):H):H};function va(j,H,te){_i(j,H),0<te.length&&(j.i=null,j.g.set(Vs(j,H),A(te)),j.h+=te.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const j=[],H=Array.from(this.g.keys());for(var te=0;te<H.length;te++){var fe=H[te];const $e=encodeURIComponent(String(fe)),st=this.V(fe);for(fe=0;fe<st.length;fe++){var Ee=$e;st[fe]!==""&&(Ee+="="+encodeURIComponent(String(st[fe]))),j.push(Ee)}}return this.i=j.join("&")};function Vs(j,H){return H=String(H),j.j&&(H=H.toLowerCase()),H}function Ka(j,H){H&&!j.j&&(ei(j),j.i=null,j.g.forEach(function(te,fe){var Ee=fe.toLowerCase();fe!=Ee&&(_i(this,fe),va(this,Ee,te))},j)),j.j=H}function uv(j,H){const te=new Tc;if(c.Image){const fe=new Image;fe.onload=N(Zi,te,"TestLoadImage: loaded",!0,H,fe),fe.onerror=N(Zi,te,"TestLoadImage: error",!1,H,fe),fe.onabort=N(Zi,te,"TestLoadImage: abort",!1,H,fe),fe.ontimeout=N(Zi,te,"TestLoadImage: timeout",!1,H,fe),c.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=j}else H(!1)}function ld(j,H){const te=new Tc,fe=new AbortController,Ee=setTimeout(()=>{fe.abort(),Zi(te,"TestPingServer: timeout",!1,H)},1e4);fetch(j,{signal:fe.signal}).then($e=>{clearTimeout(Ee),$e.ok?Zi(te,"TestPingServer: ok",!0,H):Zi(te,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(Ee),Zi(te,"TestPingServer: error",!1,H)})}function Zi(j,H,te,fe,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),fe(te)}catch{}}function cd(){this.g=new Ec}function hf(j,H,te){const fe=te||"";try{jl(j,function(Ee,$e){let st=Ee;h(Ee)&&(st=bo(Ee)),H.push(fe+$e+"="+encodeURIComponent(st))})}catch(Ee){throw H.push(fe+"type="+encodeURIComponent("_badmap")),Ee}}function ti(j){this.l=j.Ub||null,this.j=j.eb||!1}C(ti,jt),ti.prototype.g=function(){return new Fc(this.l,this.j)},ti.prototype.i=function(j){return function(){return j}}({});function Fc(j,H){Yt.call(this),this.D=j,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fc,Yt),t=Fc.prototype,t.open=function(j,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=j,this.A=H,this.readyState=1,bs(this)},t.send=function(j){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};j&&(H.body=j),(this.D||c).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},t.Sa=function(j){if(this.g&&(this.l=j,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=j.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")j.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in j){if(this.j=j.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else j.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(j){j.j.read().then(j.Pa.bind(j)).catch(j.ga.bind(j))}t.Pa=function(j){if(this.g){if(this.o&&j.value)this.response.push(j.value);else if(!this.o){var H=j.value?j.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!j.done}))&&(this.response=this.responseText+=H)}j.done?xs(this):bs(this),this.readyState==3&&kl(this)}},t.Ra=function(j){this.g&&(this.response=this.responseText=j,xs(this))},t.Qa=function(j){this.g&&(this.response=j,xs(this))},t.ga=function(){this.g&&xs(this)};function xs(j){j.readyState=4,j.l=null,j.j=null,j.v=null,bs(j)}t.setRequestHeader=function(j,H){this.u.append(j,H)},t.getResponseHeader=function(j){return this.h&&this.h.get(j.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const j=[],H=this.h.entries();for(var te=H.next();!te.done;)te=te.value,j.push(te[0]+": "+te[1]),te=H.next();return j.join(`\r
`)};function bs(j){j.onreadystatechange&&j.onreadystatechange.call(j)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(j){this.m=j?"include":"same-origin"}});function Ya(j){let H="";return K(j,function(te,fe){H+=fe,H+=":",H+=te,H+=`\r
`}),H}function jo(j,H,te){e:{for(fe in te){var fe=!1;break e}fe=!0}fe||(te=Ya(te),typeof j=="string"?te!=null&&encodeURIComponent(String(te)):Vr(j,H,te))}function an(j){Yt.call(this),this.headers=new Map,this.o=j||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(an,Yt);var dv=/^https?$/i,ud=["POST","PUT"];t=an.prototype,t.Ha=function(j){this.J=j},t.ea=function(j,H,te,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+j);H=H?H.toUpperCase():"GET",this.D=j,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pa.g(),this.v=this.o?vr(this.o):vr(pa),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(H,String(j),!0),this.B=!1}catch($e){No(this,$e);return}if(j=te||"",te=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Ee in fe)te.set(Ee,fe[Ee]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const $e of fe.keys())te.set($e,fe.get($e));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(te.keys()).find($e=>$e.toLowerCase()=="content-type"),Ee=c.FormData&&j instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ud,H,void 0))||fe||Ee||te.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$e,st]of te)this.g.setRequestHeader($e,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dd(this),this.u=!0,this.g.send(j),this.u=!1}catch($e){No(this,$e)}};function No(j,H){j.h=!1,j.g&&(j.j=!0,j.g.abort(),j.j=!1),j.l=H,j.m=5,xa(j),ji(j)}function xa(j){j.A||(j.A=!0,yr(j,"complete"),yr(j,"error"))}t.abort=function(j){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=j||7,yr(this,"complete"),yr(this,"abort"),ji(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),an.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ws(this):this.bb())},t.bb=function(){ws(this)};function ws(j){if(j.h&&typeof o<"u"&&(!j.v[1]||Ji(j)!=4||j.Z()!=2)){if(j.u&&Ji(j)==4)Fs(j.Ea,0,j);else if(yr(j,"readystatechange"),Ji(j)==4){j.h=!1;try{const st=j.Z();e:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var te;if(!(te=H)){var fe;if(fe=st===0){var Ee=String(j.D).match(Dc)[1]||null;!Ee&&c.self&&c.self.location&&(Ee=c.self.location.protocol.slice(0,-1)),fe=!dv.test(Ee?Ee.toLowerCase():"")}te=fe}if(te)yr(j,"complete"),yr(j,"success");else{j.m=6;try{var $e=2<Ji(j)?j.g.statusText:""}catch{$e=""}j.l=$e+" ["+j.Z()+"]",xa(j)}}finally{ji(j)}}}}function ji(j,H){if(j.g){dd(j);const te=j.g,fe=j.v[0]?()=>{}:null;j.g=null,j.v=null,H||yr(j,"ready");try{te.onreadystatechange=fe}catch{}}}function dd(j){j.I&&(c.clearTimeout(j.I),j.I=null)}t.isActive=function(){return!!this.g};function Ji(j){return j.g?j.g.readyState:0}t.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(j){if(this.g){var H=this.g.responseText;return j&&H.indexOf(j)==0&&(H=H.substring(j.length)),Qi(H)}};function ff(j){try{if(!j.g)return null;if("response"in j.g)return j.g.response;switch(j.H){case"":case"text":return j.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in j.g)return j.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(j){const H={};j=(j.g&&2<=Ji(j)&&j.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<j.length;fe++){if(M(j[fe]))continue;var te=ee(j[fe]);const Ee=te[0];if(te=te[1],typeof te!="string")continue;te=te.trim();const $e=H[Ee]||[];H[Ee]=$e,$e.push(te)}q(H,function(fe){return fe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(j,H,te){return te&&te.internalChannelParams&&te.internalChannelParams[j]||H}function es(j){this.Aa=0,this.i=[],this.j=new Tc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,j),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,j),this.cb=zr("retryDelaySeedMs",1e4,j),this.Wa=zr("forwardChannelMaxRetries",2,j),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,j),this.pa=j&&j.xmlHttpFactory||void 0,this.Xa=j&&j.Tb||void 0,this.Ca=j&&j.useFetchStreams||!1,this.L=void 0,this.J=j&&j.supportsCrossDomainXhr||!1,this.K="",this.h=new Rc(j&&j.concurrentRequestLimit),this.Da=new cd,this.P=j&&j.fastHandshake||!1,this.O=j&&j.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=j&&j.Rb||!1,j&&j.xa&&this.j.xa(),j&&j.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&j&&j.detectBufferingProxy||!1,this.ja=void 0,j&&j.longPollingTimeout&&0<j.longPollingTimeout&&(this.ja=j.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=es.prototype,t.la=8,t.G=1,t.connect=function(j,H,te,fe){wn(0),this.W=j,this.H=H||{},te&&fe!==void 0&&(this.H.OSID=te,this.H.OAID=fe),this.F=this.X,this.I=gf(this,null,this.W),ts(this)};function ri(j){if(Bc(j),j.G==3){var H=j.U++,te=Si(j.I);if(Vr(te,"SID",j.K),Vr(te,"RID",H),Vr(te,"TYPE","terminate"),Xa(j,te),H=new vs(j,j.j,H),H.L=2,H.v=Hn(Si(te)),te=!1,c.navigator&&c.navigator.sendBeacon)try{te=c.navigator.sendBeacon(H.v.toString(),"")}catch{}!te&&c.Image&&(new Image().src=H.v,te=!0),te||(H.g=fd(H.j,null),H.g.ea(H.v)),H.F=Date.now(),Wr(H)}tm(j)}function ba(j){j.g&&(ko(j),j.g.cancel(),j.g=null)}function Bc(j){ba(j),j.u&&(c.clearTimeout(j.u),j.u=null),Vc(j),j.h.cancel(),j.s&&(typeof j.s=="number"&&c.clearTimeout(j.s),j.s=null)}function ts(j){if(!cr(j.h)&&!j.s){j.s=!0;var H=j.Ga;me||be(),he||(me(),he=!0),Se.add(H,j),j.B=0}}function hv(j,H){return cf(j.h)>=j.h.j-(j.s?1:0)?!1:j.s?(j.i=H.D.concat(j.i),!0):j.G==1||j.G==2||j.B>=(j.Va?0:j.Wa)?!1:(j.s=ys(x(j.Ga,j,H),mf(j,j.B)),j.B++,!0)}t.Ga=function(j){if(this.s)if(this.s=null,this.G==1){if(!j){this.U=Math.floor(1e5*Math.random()),j=this.U++;const Ee=new vs(this,this.j,j);let $e=this.o;if(this.S&&($e?($e=V($e),J($e,this.S)):$e=this.S),this.m!==null||this.O||(Ee.H=$e,$e=null),this.P)e:{for(var H=0,te=0;te<this.i.length;te++){t:{var fe=this.i[te];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(H+=fe,4096<H){H=te;break e}if(H===4096||te===this.i.length-1){H=te+1;break e}}H=1e3}else H=1e3;H=rs(this,Ee,H),te=Si(this.I),Vr(te,"RID",j),Vr(te,"CVER",22),this.D&&Vr(te,"X-HTTP-Session-Id",this.D),Xa(this,te),$e&&(this.O?H="headers="+encodeURIComponent(String(Ya($e)))+"&"+H:this.m&&jo(te,this.m,$e)),uf(this.h,Ee),this.Ua&&Vr(te,"TYPE","init"),this.P?(Vr(te,"$req",H),Vr(te,"SID","null"),Ee.T=!0,id(Ee,te,null)):id(Ee,te,H),this.G=2}}else this.G==3&&(j?Ao(this,j):this.i.length==0||cr(this.h)||Ao(this))};function Ao(j,H){var te;H?te=H.l:te=j.U++;const fe=Si(j.I);Vr(fe,"SID",j.K),Vr(fe,"RID",te),Vr(fe,"AID",j.T),Xa(j,fe),j.m&&j.o&&jo(fe,j.m,j.o),te=new vs(j,j.j,te,j.B+1),j.m===null&&(te.H=j.o),H&&(j.i=H.D.concat(j.i)),H=rs(j,te,1e3),te.I=Math.round(.5*j.wa)+Math.round(.5*j.wa*Math.random()),uf(j.h,te),id(te,fe,H)}function Xa(j,H){j.H&&K(j.H,function(te,fe){Vr(H,fe,te)}),j.l&&jl({},function(te,fe){Vr(H,fe,te)})}function rs(j,H,te){te=Math.min(j.i.length,te);var fe=j.l?x(j.l.Na,j.l,j):null;e:{var Ee=j.i;let $e=-1;for(;;){const st=["count="+te];$e==-1?0<te?($e=Ee[0].g,st.push("ofs="+$e)):$e=0:st.push("ofs="+$e);let Or=!0;for(let Wn=0;Wn<te;Wn++){let xr=Ee[Wn].g;const Mn=Ee[Wn].map;if(xr-=$e,0>xr)$e=Math.max(0,Ee[Wn].g-100),Or=!1;else try{hf(Mn,st,"req"+xr+"_")}catch{fe&&fe(Mn)}}if(Or){fe=st.join("&");break e}}}return j=j.i.splice(0,te),H.D=j,fe}function El(j){if(!j.g&&!j.u){j.Y=1;var H=j.Fa;me||be(),he||(me(),he=!0),Se.add(H,j),j.v=0}}function hd(j){return j.g||j.u||3<=j.v?!1:(j.Y++,j.u=ys(x(j.Fa,j),mf(j,j.v)),j.v++,!0)}t.Fa=function(){if(this.u=null,pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var j=2*this.R;this.j.info("BP detection timer enabled: "+j),this.A=ys(x(this.ab,this),j)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),ba(this),pf(this))};function ko(j){j.A!=null&&(c.clearTimeout(j.A),j.A=null)}function pf(j){j.g=new vs(j,j.j,"rpc",j.Y),j.m===null&&(j.g.H=j.o),j.g.O=0;var H=Si(j.qa);Vr(H,"RID","rpc"),Vr(H,"SID",j.K),Vr(H,"AID",j.T),Vr(H,"CI",j.F?"0":"1"),!j.F&&j.ja&&Vr(H,"TO",j.ja),Vr(H,"TYPE","xmlhttp"),Xa(j,H),j.m&&j.o&&jo(H,j.m,j.o),j.L&&(j.g.I=j.L);var te=j.g;j=j.ia,te.L=1,te.v=Hn(Si(H)),te.m=null,te.P=!0,lf(te,j)}t.Za=function(){this.C!=null&&(this.C=null,ba(this),hd(this),wn(19))};function Vc(j){j.C!=null&&(c.clearTimeout(j.C),j.C=null)}function Tl(j,H){var te=null;if(j.g==H){Vc(j),ko(j),j.g=null;var fe=2}else if(wi(j.h,H))te=H.D,Qp(j.h,H),fe=1;else return;if(j.G!=0){if(H.o)if(fe==1){te=H.m?H.m.length:0,H=Date.now()-H.F;var Ee=j.B;fe=wl(),yr(fe,new rd(fe,te)),ts(j)}else El(j);else if(Ee=H.s,Ee==3||Ee==0&&0<H.X||!(fe==1&&hv(j,H)||fe==2&&hd(j)))switch(te&&0<te.length&&(H=j.h,H.i=H.i.concat(te)),Ee){case 1:wa(j,5);break;case 4:wa(j,10);break;case 3:wa(j,6);break;default:wa(j,2)}}}function mf(j,H){let te=j.Ta+Math.floor(Math.random()*j.cb);return j.isActive()||(te*=2),te*H}function wa(j,H){if(j.j.info("Error code "+H),H==2){var te=x(j.fb,j),fe=j.Xa;const Ee=!fe;fe=new So(fe||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Nl(fe,"https"),Hn(fe),Ee?uv(fe.toString(),te):ld(fe.toString(),te)}else wn(2);j.G=0,j.l&&j.l.sa(H),tm(j),Bc(j)}t.fb=function(j){j?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function tm(j){if(j.G=0,j.ka=[],j.l){const H=Zp(j.h);(H.length!=0||j.i.length!=0)&&(k(j.ka,H),k(j.ka,j.i),j.h.i.length=0,A(j.i),j.i.length=0),j.l.ra()}}function gf(j,H,te){var fe=te instanceof So?Si(te):new So(te);if(fe.g!="")H&&(fe.g=H+"."+fe.g),_o(fe,fe.s);else{var Ee=c.location;fe=Ee.protocol,H=H?H+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var $e=new So(null);fe&&Nl($e,fe),H&&($e.g=H),Ee&&_o($e,Ee),te&&($e.l=te),fe=$e}return te=j.D,H=j.ya,te&&H&&Vr(fe,te,H),Vr(fe,"VER",j.la),Xa(j,fe),fe}function fd(j,H,te){if(H&&!j.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=j.Ca&&!j.pa?new an(new ti({eb:te})):new an(j.pa),H.Ha(j.J),H}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yf(){}t=yf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pd(){}pd.prototype.g=function(j,H){return new Fi(j,H)};function Fi(j,H){Yt.call(this),this.g=new es(H),this.l=j,this.h=H&&H.messageUrlParams||null,j=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(j?j["X-Client-Protocol"]="webchannel":j={"X-Client-Protocol":"webchannel"}),this.g.o=j,j=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(j?j["X-WebChannel-Content-Type"]=H.messageContentType:j={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(j?j["X-WebChannel-Client-Profile"]=H.va:j={"X-WebChannel-Client-Profile":H.va}),this.g.S=j,(j=H&&H.Sb)&&!M(j)&&(this.g.m=j),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!M(H)&&(this.g.D=H,j=this.h,j!==null&&H in j&&(j=this.h,H in j&&delete j[H])),this.j=new zs(this)}C(Fi,Yt),Fi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fi.prototype.close=function(){ri(this.g)},Fi.prototype.o=function(j){var H=this.g;if(typeof j=="string"){var te={};te.__data__=j,j=te}else this.u&&(te={},te.__data__=bo(j),j=te);H.i.push(new Oc(H.Ya++,j)),H.G==3&&ts(H)},Fi.prototype.N=function(){this.g.l=null,delete this.j,ri(this.g),delete this.g,Fi.aa.N.call(this)};function rm(j){Jr.call(this),j.__headers__&&(this.headers=j.__headers__,this.statusCode=j.__status__,delete j.__headers__,delete j.__status__);var H=j.__sm__;if(H){e:{for(const te in H){j=te;break e}j=void 0}(this.i=j)&&(j=this.i,H=H!==null&&j in H?H[j]:void 0),this.data=H}else this.data=j}C(rm,Jr);function nm(){da.call(this),this.status=1}C(nm,da);function zs(j){this.g=j}C(zs,yf),zs.prototype.ua=function(){yr(this.g,"a")},zs.prototype.ta=function(j){yr(this.g,new rm(j))},zs.prototype.sa=function(j){yr(this.g,new nm)},zs.prototype.ra=function(){yr(this.g,"b")},pd.prototype.createWebChannel=pd.prototype.g,Fi.prototype.send=Fi.prototype.o,Fi.prototype.open=Fi.prototype.m,Fi.prototype.close=Fi.prototype.close,N8=function(){return new pd},j8=function(){return wl()},_8=$s,lP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sl.NO_ERROR=0,Sl.TIMEOUT=8,Sl.HTTP_ERROR=6,T1=Sl,af.COMPLETE="complete",S8=af,Gt.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,kx=Gt,an.prototype.listenOnce=an.prototype.L,an.prototype.getLastError=an.prototype.Ka,an.prototype.getLastErrorCode=an.prototype.Ba,an.prototype.getStatus=an.prototype.Z,an.prototype.getResponseJson=an.prototype.Oa,an.prototype.getResponseText=an.prototype.oa,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Ha,w8=an}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});const iL="@firebase/firestore",sL="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hs.UNAUTHENTICATED=new hs(null),hs.GOOGLE_CREDENTIALS=new hs("google-credentials-uid"),hs.FIRST_PARTY=new hs("first-party-uid"),hs.MOCK_USER=new hs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new z_("@firebase/firestore");function dg(){return Op.logLevel}function ft(t,...e){if(Op.logLevel<=Sr.DEBUG){const r=e.map(ZI);Op.debug(`Firestore (${zy}): ${t}`,...r)}}function $u(t,...e){if(Op.logLevel<=Sr.ERROR){const r=e.map(ZI);Op.error(`Firestore (${zy}): ${t}`,...r)}}function Yg(t,...e){if(Op.logLevel<=Sr.WARN){const r=e.map(ZI);Op.warn(`Firestore (${zy}): ${t}`,...r)}}function ZI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t="Unexpected state"){const e=`FIRESTORE (${zy}) INTERNAL ASSERTION FAILED: `+t;throw $u(e),new Error(e)}function Hr(t,e){t||Ut()}function Xt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends gl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ece{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(hs.UNAUTHENTICATED))}shutdown(){}}class tce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class rce{constructor(e){this.t=e,this.currentUser=hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Hr(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let s=new ku;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ku,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ku)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Hr(typeof n.accessToken=="string"),new A8(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hr(e===null||typeof e=="string"),new hs(e)}}class nce{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=hs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ice{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new nce(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(hs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sce{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ma(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Hr(this.o===void 0);const n=s=>{s.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ft("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aL(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Hr(typeof r.token=="string"),this.R=r.token,new aL(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=ace(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function hr(t,e){return t<e?-1:t>e?1:0}function cP(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return hr(n,i);{const s=k8(),o=oce(s.encode(oL(t,r)),s.encode(oL(e,r)));return o!==0?o:hr(n,i)}}r+=n>65535?2:1}return hr(t.length,e.length)}function oL(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function oce(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return hr(t[r],e[r]);return hr(t.length,e.length)}function Xg(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=-62135596800,cL=1e6;class zn{static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*cL);return new zn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new pt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new pt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<lL)throw new pt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cL}_compareTo(e){return this.seconds===e.seconds?hr(this.nanoseconds,e.nanoseconds):hr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new zn(0,0))}static max(){return new Kt(new zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="__name__";class ic{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ut(),n===void 0?n=e.length-r:n>e.length-r&&Ut(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=ic.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return hr(e.length,r.length)}static compareSegments(e,r){const n=ic.isNumericId(e),i=ic.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ic.extractNumericId(e).compare(ic.extractNumericId(r)):cP(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eh.fromString(e.substring(4,e.length-2))}}class xn extends ic{construct(e,r,n){return new xn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new pt(He.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new xn(r)}static emptyPath(){return new xn([])}}const lce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gi extends ic{construct(e,r,n){return new Gi(e,r,n)}static isValidIdentifier(e){return lce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uL}static keyField(){return new Gi([uL])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new pt(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new pt(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new pt(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(n+=c,i++):(s(),i++)}if(s(),o)throw new pt(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gi(r)}static emptyPath(){return new Gi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(xn.fromString(e))}static fromName(e){return new Ct(xn.fromString(e).popFirst(5))}static empty(){return new Ct(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new xn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=-1;function cce(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Kt.fromTimestamp(n===1e9?new zn(r+1,0):new zn(r,n));return new Fh(i,Ct.empty(),e)}function uce(t){return new Fh(t.readTime,t.key,ob)}class Fh{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Fh(Kt.min(),Ct.empty(),ob)}static max(){return new Fh(Kt.max(),Ct.empty(),ob)}}function dce(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ct.comparator(t.documentKey,e.documentKey),r!==0?r:hr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t){if(t.code!==He.FAILED_PRECONDITION||t.message!==hce)throw t;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new We((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof We?r:We.resolve(r)}catch(r){return We.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):We.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):We.reject(r)}static resolve(e){return new We((r,n)=>{r(e)})}static reject(e){return new We((r,n)=>{n(e)})}static waitFor(e){return new We((r,n)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&r()},d=>n(d))}),o=!0,s===i&&r()})}static or(e){let r=We.resolve(!1);for(const n of e)r=r.next(i=>i?We.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new We((n,i)=>{const s=e.length,o=new Array(s);let c=0;for(let d=0;d<s;d++){const h=d;r(e[h]).next(g=>{o[h]=g,++c,c===s&&n(o)},g=>i(g))}})}static doWhile(e,r){return new We((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function pce(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qy(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}X_.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=-1;function Q_(t){return t==null}function aS(t){return t===0&&1/t==-1/0}function mce(t){return typeof t=="number"&&Number.isInteger(t)&&!aS(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="";function gce(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=dL(e)),e=yce(t.get(r),e);return dL(e)}function yce(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case T8:r+="";break;default:r+=s}}return r}function dL(t){return t+T8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Yh(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function C8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,r){this.comparator=e,this.root=r||Wi.EMPTY}insert(e,r){return new Rn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t1(this.root,e,this.comparator,!1)}getReverseIterator(){return new t1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t1(this.root,e,this.comparator,!0)}}class t1{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Wi.RED,this.left=i??Wi.EMPTY,this.right=s??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Wi(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Wi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const e=this.left.check();if(e!==this.right.check())throw Ut();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1;Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Wi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new fL(this.data.getIterator())}getIteratorFrom(e){return new fL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yi(this.comparator);return r.data=e,r}}class fL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.fields=e,e.sort(Gi.comparator)}static empty(){return new La([])}unionWith(e){let r=new yi(Gi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new La(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xg(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new P8("Invalid base64 string: "+s):s}}(e);return new Yi(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Yi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yi.EMPTY_BYTE_STRING=new Yi("");const vce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $h(t){if(Hr(!!t),typeof t=="string"){let e=0;const r=vce.exec(t);if(Hr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bh(t){return typeof t=="string"?Yi.fromBase64String(t):Yi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8="server_timestamp",O8="__type__",R8="__previous_value__",M8="__local_write_time__";function eO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[O8])===null||r===void 0?void 0:r.stringValue)===I8}function Z_(t){const e=t.mapValue.fields[R8];return eO(e)?Z_(e):e}function lb(t){const e=$h(t.mapValue.fields[M8].timestampValue);return new zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(e,r,n,i,s,o,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}const oS="(default)";class cb{constructor(e,r){this.projectId=e,this.database=r||oS}static empty(){return new cb("","")}get isDefaultDatabase(){return this.database===oS}isEqual(e){return e instanceof cb&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="__type__",bce="__max__",r1={mapValue:{}},L8="__vector__",lS="value";function Vh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eO(t)?4:Sce(t)?9007199254740991:wce(t)?10:11:Ut()}function vc(t,e){if(t===e)return!0;const r=Vh(t);if(r!==Vh(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lb(t).isEqual(lb(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$h(i.timestampValue),c=$h(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bh(i.bytesValue).isEqual(Bh(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Zn(i.geoPointValue.latitude)===Zn(s.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Zn(i.integerValue)===Zn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zn(i.doubleValue),c=Zn(s.doubleValue);return o===c?aS(o)===aS(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Xg(t.arrayValue.values||[],e.arrayValue.values||[],vc);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(hL(o)!==hL(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!vc(o[d],c[d])))return!1;return!0}(t,e);default:return Ut()}}function ub(t,e){return(t.values||[]).find(r=>vc(r,e))!==void 0}function Qg(t,e){if(t===e)return 0;const r=Vh(t),n=Vh(e);if(r!==n)return hr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return hr(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=Zn(s.integerValue||s.doubleValue),d=Zn(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return pL(t.timestampValue,e.timestampValue);case 4:return pL(lb(t),lb(e));case 5:return cP(t.stringValue,e.stringValue);case 6:return function(s,o){const c=Bh(s),d=Bh(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const g=hr(c[h],d[h]);if(g!==0)return g}return hr(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=hr(Zn(s.latitude),Zn(o.latitude));return c!==0?c:hr(Zn(s.longitude),Zn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mL(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,d,h,g;const y=s.fields||{},x=o.fields||{},N=(c=y[lS])===null||c===void 0?void 0:c.arrayValue,C=(d=x[lS])===null||d===void 0?void 0:d.arrayValue,A=hr(((h=N==null?void 0:N.values)===null||h===void 0?void 0:h.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:mL(N,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===r1.mapValue&&o===r1.mapValue)return 0;if(s===r1.mapValue)return 1;if(o===r1.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),h=o.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const x=cP(d[y],g[y]);if(x!==0)return x;const N=Qg(c[d[y]],h[g[y]]);if(N!==0)return N}return hr(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Ut()}}function pL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return hr(t,e);const r=$h(t),n=$h(e),i=hr(r.seconds,n.seconds);return i!==0?i:hr(r.nanos,n.nanos)}function mL(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Qg(r[i],n[i]);if(s)return s}return hr(r.length,n.length)}function Zg(t){return uP(t)}function uP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=$h(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Bh(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ct.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=uP(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${uP(r.fields[o])}`;return i+"}"}(t.mapValue):Ut()}function C1(t){switch(Vh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Z_(t);return e?16+C1(e):16;case 5:return 2*t.stringValue.length;case 6:return Bh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+C1(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Yh(n.fields,(s,o)=>{i+=s.length+C1(o)}),i}(t.mapValue);default:throw Ut()}}function gL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dP(t){return!!t&&"integerValue"in t}function tO(t){return!!t&&"arrayValue"in t}function yL(t){return!!t&&"nullValue"in t}function vL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function P1(t){return!!t&&"mapValue"in t}function wce(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[D8])===null||r===void 0?void 0:r.stringValue)===L8}function $x(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yh(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=$x(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=$x(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Sce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bce}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.value=e}static empty(){return new ra({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!P1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=$x(r)}setAll(e){let r=Gi.emptyPath(),n={},i=[];e.forEach((o,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=c.popLast()}o?n[c.lastSegment()]=$x(o):i.push(c.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());P1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return vc(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];P1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Yh(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new ra($x(this.value))}}function F8(t){const e=[];return Yh(t.fields,(r,n)=>{const i=new Gi([r]);if(P1(n)){const s=F8(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new La(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,r,n,i,s,o,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new fs(e,0,Kt.min(),Kt.min(),Kt.min(),ra.empty(),0)}static newFoundDocument(e,r,n,i){return new fs(e,1,r,Kt.min(),n,i,0)}static newNoDocument(e,r){return new fs(e,2,r,Kt.min(),Kt.min(),ra.empty(),0)}static newUnknownDocument(e,r){return new fs(e,3,r,Kt.min(),Kt.min(),ra.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,r){this.position=e,this.inclusive=r}}function xL(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=Ct.comparator(Ct.fromName(o.referenceValue),r.key):n=Qg(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function bL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!vc(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,r="asc"){this.field=e,this.dir=r}}function _ce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{}class ui extends $8{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Nce(e,r,n):r==="array-contains"?new Ece(e,n):r==="in"?new Tce(e,n):r==="not-in"?new Cce(e,n):r==="array-contains-any"?new Pce(e,n):new ui(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Ace(e,n):new kce(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Qg(r,this.value)):r!==null&&Vh(this.value)===Vh(r)&&this.matchesComparison(Qg(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ml extends $8{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new ml(e,r)}matches(e){return B8(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function B8(t){return t.op==="and"}function V8(t){return jce(t)&&B8(t)}function jce(t){for(const e of t.filters)if(e instanceof ml)return!1;return!0}function hP(t){if(t instanceof ui)return t.field.canonicalString()+t.op.toString()+Zg(t.value);if(V8(t))return t.filters.map(e=>hP(e)).join(",");{const e=t.filters.map(r=>hP(r)).join(",");return`${t.op}(${e})`}}function z8(t,e){return t instanceof ui?function(n,i){return i instanceof ui&&n.op===i.op&&n.field.isEqual(i.field)&&vc(n.value,i.value)}(t,e):t instanceof ml?function(n,i){return i instanceof ml&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,c)=>s&&z8(o,i.filters[c]),!0):!1}(t,e):void Ut()}function U8(t){return t instanceof ui?function(r){return`${r.field.canonicalString()} ${r.op} ${Zg(r.value)}`}(t):t instanceof ml?function(r){return r.op.toString()+" {"+r.getFilters().map(U8).join(" ,")+"}"}(t):"Filter"}class Nce extends ui{constructor(e,r,n){super(e,r,n),this.key=Ct.fromName(n.referenceValue)}matches(e){const r=Ct.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ace extends ui{constructor(e,r){super(e,"in",r),this.keys=q8("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class kce extends ui{constructor(e,r){super(e,"not-in",r),this.keys=q8("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function q8(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ct.fromName(n.referenceValue))}class Ece extends ui{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return tO(r)&&ub(r.arrayValue,this.value)}}class Tce extends ui{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ub(this.value.arrayValue,r)}}class Cce extends ui{constructor(e,r){super(e,"not-in",r)}matches(e){if(ub(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!ub(this.value.arrayValue,r)}}class Pce extends ui{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!tO(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ub(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(e,r=null,n=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.le=null}}function wL(t,e=null,r=[],n=[],i=null,s=null,o=null){return new Ice(t,e,r,n,i,s,o)}function rO(t){const e=Xt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>hP(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Q_(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Zg(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Zg(n)).join(",")),e.le=r}return e.le}function nO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!_ce(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!z8(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bL(t.startAt,e.startAt)&&bL(t.endAt,e.endAt)}function fP(t){return Ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,r=null,n=[],i=[],s=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Oce(t,e,r,n,i,s,o,c){return new Hy(t,e,r,n,i,s,o,c)}function J_(t){return new Hy(t)}function SL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H8(t){return t.collectionGroup!==null}function Bx(t){const e=Xt(t);if(e.he===null){e.he=[];const r=new Set;for(const s of e.explicitOrderBy)e.he.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new yi(Gi.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.he.push(new db(s,n))}),r.has(Gi.keyField().canonicalString())||e.he.push(new db(Gi.keyField(),n))}return e.he}function hc(t){const e=Xt(t);return e.Pe||(e.Pe=Rce(e,Bx(t))),e.Pe}function Rce(t,e){if(t.limitType==="F")return wL(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new db(i.field,s)});const r=t.endAt?new cS(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new cS(t.startAt.position,t.startAt.inclusive):null;return wL(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function pP(t,e){const r=t.filters.concat([e]);return new Hy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function uS(t,e,r){return new Hy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ej(t,e){return nO(hc(t),hc(e))&&t.limitType===e.limitType}function W8(t){return`${rO(hc(t))}|lt:${t.limitType}`}function hg(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>U8(i)).join(", ")}]`),Q_(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Zg(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Zg(i)).join(",")),`Target(${n})`}(hc(t))}; limitType=${t.limitType})`}function tj(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ct.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Bx(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,c,d){const h=xL(o,c,d);return o.inclusive?h<=0:h<0}(n.startAt,Bx(n),i)||n.endAt&&!function(o,c,d){const h=xL(o,c,d);return o.inclusive?h>=0:h>0}(n.endAt,Bx(n),i))}(t,e)}function Mce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G8(t){return(e,r)=>{let n=!1;for(const i of Bx(t)){const s=Dce(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Dce(t,e,r){const n=t.field.isKeyField()?Ct.comparator(e.key,r.key):function(s,o,c){const d=o.data.field(s),h=c.data.field(s);return d!==null&&h!==null?Qg(d,h):Ut()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yh(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return C8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lce=new Rn(Ct.comparator);function Bu(){return Lce}const K8=new Rn(Ct.comparator);function Ex(...t){let e=K8;for(const r of t)e=e.insert(r.key,r);return e}function Y8(t){let e=K8;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function up(){return Vx()}function X8(){return Vx()}function Vx(){return new Up(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fce=new Rn(Ct.comparator),$ce=new yi(Ct.comparator);function _r(...t){let e=$ce;for(const r of t)e=e.add(r);return e}const Bce=new yi(hr);function Vce(){return Bce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aS(e)?"-0":e}}function Q8(t){return{integerValue:""+t}}function zce(t,e){return mce(e)?Q8(e):iO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this._=void 0}}function Uce(t,e,r){return t instanceof hb?function(i,s){const o={fields:{[O8]:{stringValue:I8},[M8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&eO(s)&&(s=Z_(s)),s&&(o.fields[R8]=s),{mapValue:o}}(r,e):t instanceof Jg?J8(t,e):t instanceof fb?eq(t,e):function(i,s){const o=Z8(i,s),c=_L(o)+_L(i.Ie);return dP(o)&&dP(i.Ie)?Q8(c):iO(i.serializer,c)}(t,e)}function qce(t,e,r){return t instanceof Jg?J8(t,e):t instanceof fb?eq(t,e):r}function Z8(t,e){return t instanceof dS?function(n){return dP(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class hb extends rj{}class Jg extends rj{constructor(e){super(),this.elements=e}}function J8(t,e){const r=tq(e);for(const n of t.elements)r.some(i=>vc(i,n))||r.push(n);return{arrayValue:{values:r}}}class fb extends rj{constructor(e){super(),this.elements=e}}function eq(t,e){let r=tq(e);for(const n of t.elements)r=r.filter(i=>!vc(i,n));return{arrayValue:{values:r}}}class dS extends rj{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function _L(t){return Zn(t.integerValue||t.doubleValue)}function tq(t){return tO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,r){this.field=e,this.transform=r}}function Hce(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Jg&&i instanceof Jg||n instanceof fb&&i instanceof fb?Xg(n.elements,i.elements,vc):n instanceof dS&&i instanceof dS?vc(n.Ie,i.Ie):n instanceof hb&&i instanceof hb}(t.transform,e.transform)}class Wce{constructor(e,r){this.version=e,this.transformResults=r}}class ul{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ul}static exists(e){return new ul(void 0,e)}static updateTime(e){return new ul(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function I1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nj{}function nq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sq(t.key,ul.none()):new f0(t.key,t.data,ul.none());{const r=t.data,n=ra.empty();let i=new yi(Gi.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new Xh(t.key,n,new La(i.toArray()),ul.none())}}function Gce(t,e,r){t instanceof f0?function(i,s,o){const c=i.value.clone(),d=NL(i.fieldTransforms,s,o.transformResults);c.setAll(d),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):t instanceof Xh?function(i,s,o){if(!I1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=NL(i.fieldTransforms,s,o.transformResults),d=s.data;d.setAll(iq(i)),d.setAll(c),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function zx(t,e,r,n){return t instanceof f0?function(s,o,c,d){if(!I1(s.precondition,o))return c;const h=s.value.clone(),g=AL(s.fieldTransforms,d,o);return h.setAll(g),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof Xh?function(s,o,c,d){if(!I1(s.precondition,o))return c;const h=AL(s.fieldTransforms,d,o),g=o.data;return g.setAll(iq(s)),g.setAll(h),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,r,n):function(s,o,c){return I1(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,r)}function Kce(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=Z8(n.transform,i||null);s!=null&&(r===null&&(r=ra.empty()),r.set(n.field,s))}return r||null}function jL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Xg(n,i,(s,o)=>Hce(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class f0 extends nj{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xh extends nj{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iq(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function NL(t,e,r){const n=new Map;Hr(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);n.set(s.field,qce(o,c,r[i]))}return n}function AL(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,Uce(s,o,e))}return n}class sq extends nj{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yce extends nj{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gce(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=zx(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=zx(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=X8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=r.has(i.key)?null:c;const d=nq(o,c);d!==null&&n.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Kt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),_r())}isEqual(e){return this.batchId===e.batchId&&Xg(this.mutations,e.mutations,(r,n)=>jL(r,n))&&Xg(this.baseMutations,e.baseMutations,(r,n)=>jL(r,n))}}class sO{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Hr(e.mutations.length===n.length);let i=function(){return Fce}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new sO(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,jr;function Jce(t){switch(t){case He.OK:return Ut();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0;default:return Ut()}}function aq(t){if(t===void 0)return $u("GRPC error has no .code"),He.UNKNOWN;switch(t){case li.OK:return He.OK;case li.CANCELLED:return He.CANCELLED;case li.UNKNOWN:return He.UNKNOWN;case li.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case li.INTERNAL:return He.INTERNAL;case li.UNAVAILABLE:return He.UNAVAILABLE;case li.UNAUTHENTICATED:return He.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case li.NOT_FOUND:return He.NOT_FOUND;case li.ALREADY_EXISTS:return He.ALREADY_EXISTS;case li.PERMISSION_DENIED:return He.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case li.ABORTED:return He.ABORTED;case li.OUT_OF_RANGE:return He.OUT_OF_RANGE;case li.UNIMPLEMENTED:return He.UNIMPLEMENTED;case li.DATA_LOSS:return He.DATA_LOSS;default:return Ut()}}(jr=li||(li={}))[jr.OK=0]="OK",jr[jr.CANCELLED=1]="CANCELLED",jr[jr.UNKNOWN=2]="UNKNOWN",jr[jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jr[jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jr[jr.NOT_FOUND=5]="NOT_FOUND",jr[jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",jr[jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",jr[jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",jr[jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jr[jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jr[jr.ABORTED=10]="ABORTED",jr[jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",jr[jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",jr[jr.INTERNAL=13]="INTERNAL",jr[jr.UNAVAILABLE=14]="UNAVAILABLE",jr[jr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue=new Eh([4294967295,4294967295],0);function kL(t){const e=k8().encode(t),r=new b8;return r.update(e),new Uint8Array(r.digest())}function EL(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eh([r,n],0),new Eh([i,s],0)]}class aO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Tx(`Invalid padding: ${r}`);if(n<0)throw new Tx(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Tx(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Tx(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Eh.fromNumber(this.Ee)}Ae(e,r,n){let i=e.add(r.multiply(Eh.fromNumber(n)));return i.compare(eue)===1&&(i=new Eh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=kL(e),[n,i]=EL(r);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,i,s);if(!this.Re(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new aO(s,i,r);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;const r=kL(e),[n,i]=EL(r);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,i,s);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Tx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,p0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ij(Kt.min(),i,new Rn(hr),Bu(),_r())}}class p0{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new p0(n,r,_r(),_r(),_r())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r,n,i){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=i}}class oq{constructor(e,r){this.targetId=e,this.ge=r}}class lq{constructor(e,r,n=Yi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class TL{constructor(){this.pe=0,this.ye=CL(),this.we=Yi.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=_r(),r=_r(),n=_r();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ut()}}),new p0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=CL()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Hr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class tue{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bu(),this.$e=n1(),this.Ue=n1(),this.Ke=new Rn(hr)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:Ut()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((n,i)=>{this.Je(i)&&r(i)})}Ze(e){const r=e.targetId,n=e.ge.count,i=this.Xe(r);if(i){const s=i.target;if(fP(s))if(n===0){const o=new Ct(s.path);this.ze(r,o,fs.newNoDocument(o,Kt.min()))}else Hr(n===1);else{const o=this.et(r);if(o!==n){const c=this.tt(e),d=c?this.nt(c,e,o):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,c;try{o=Bh(n).toUint8Array()}catch(d){if(d instanceof P8)return Yg("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new aO(o,i,s)}catch(d){return Yg(d instanceof Tx?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(r,s,null),i++)}),i}ot(e){const r=new Map;this.qe.forEach((s,o)=>{const c=this.Xe(o);if(c){if(s.current&&fP(c.target)){const d=new Ct(c.target.path);this._t(d).has(o)||this.ut(o,d)||this.ze(o,d,fs.newNoDocument(d,e))}s.ve&&(r.set(o,s.Fe()),s.Me())}});let n=_r();this.Ue.forEach((s,o)=>{let c=!0;o.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new ij(e,r,this.Ke,this.Qe,n);return this.Qe=Bu(),this.$e=n1(),this.Ue=n1(),this.Ke=new Rn(hr),i}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new TL,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new yi(hr),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new yi(hr),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||ft("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new TL),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function n1(){return new Rn(Ct.comparator)}function CL(){return new Rn(Ct.comparator)}const rue={asc:"ASCENDING",desc:"DESCENDING"},nue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iue={and:"AND",or:"OR"};class sue{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function mP(t,e){return t.useProto3Json||Q_(e)?e:{value:e}}function hS(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aue(t,e){return hS(t,e.toTimestamp())}function fc(t){return Hr(!!t),Kt.fromTimestamp(function(r){const n=$h(r);return new zn(n.seconds,n.nanos)}(t))}function oO(t,e){return gP(t,e).canonicalString()}function gP(t,e){const r=function(i){return new xn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function uq(t){const e=xn.fromString(t);return Hr(mq(e)),e}function yP(t,e){return oO(t.databaseId,e.path)}function wA(t,e){const r=uq(e);if(r.get(1)!==t.databaseId.projectId)throw new pt(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new pt(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ct(hq(r))}function dq(t,e){return oO(t.databaseId,e)}function oue(t){const e=uq(t);return e.length===4?xn.emptyPath():hq(e)}function vP(t){return new xn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hq(t){return Hr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PL(t,e,r){return{name:yP(t,e),fields:r.value.mapValue.fields}}function lue(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ut()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,g){return h.useProto3Json?(Hr(g===void 0||typeof g=="string"),Yi.fromBase64String(g||"")):(Hr(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Yi.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const g=h.code===void 0?He.UNKNOWN:aq(h.code);return new pt(g,h.message||"")}(o);r=new lq(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=wA(t,n.document.name),s=fc(n.document.updateTime),o=n.document.createTime?fc(n.document.createTime):Kt.min(),c=new ra({mapValue:{fields:n.document.fields}}),d=fs.newFoundDocument(i,s,o,c),h=n.targetIds||[],g=n.removedTargetIds||[];r=new O1(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=wA(t,n.document),s=n.readTime?fc(n.readTime):Kt.min(),o=fs.newNoDocument(i,s),c=n.removedTargetIds||[];r=new O1([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=wA(t,n.document),s=n.removedTargetIds||[];r=new O1([],s,i,null)}else{if(!("filter"in e))return Ut();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new Zce(i,s),c=n.targetId;r=new oq(c,o)}}return r}function cue(t,e){let r;if(e instanceof f0)r={update:PL(t,e.key,e.value)};else if(e instanceof sq)r={delete:yP(t,e.key)};else if(e instanceof Xh)r={update:PL(t,e.key,e.data),updateMask:vue(e.fieldMask)};else{if(!(e instanceof Yce))return Ut();r={verify:yP(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const c=o.transform;if(c instanceof hb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof fb)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dS)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw Ut()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aue(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ut()}(t,e.precondition)),r}function uue(t,e){return t&&t.length>0?(Hr(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?fc(i.updateTime):fc(s);return o.isEqual(Kt.min())&&(o=fc(s)),new Wce(o,i.transformResults||[])}(r,e))):[]}function due(t,e){return{documents:[dq(t,e.path)]}}function hue(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=dq(t,i);const s=function(h){if(h.length!==0)return pq(ml.create(h,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(g=>function(x){return{field:fg(x.field),direction:mue(x.dir)}}(g))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=mP(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:r,parent:i}}function fue(t){let e=oue(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Hr(n===1);const g=r.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];r.where&&(s=function(y){const x=fq(y);return x instanceof ml&&V8(x)?x.getFilters():[x]}(r.where));let o=[];r.orderBy&&(o=function(y){return y.map(x=>function(C){return new db(pg(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(x))}(r.orderBy));let c=null;r.limit&&(c=function(y){let x;return x=typeof y=="object"?y.value:y,Q_(x)?null:x}(r.limit));let d=null;r.startAt&&(d=function(y){const x=!!y.before,N=y.values||[];return new cS(N,x)}(r.startAt));let h=null;return r.endAt&&(h=function(y){const x=!y.before,N=y.values||[];return new cS(N,x)}(r.endAt)),Oce(e,i,o,s,c,"F",d,h)}function pue(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function fq(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=pg(r.unaryFilter.field);return ui.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=pg(r.unaryFilter.field);return ui.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pg(r.unaryFilter.field);return ui.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pg(r.unaryFilter.field);return ui.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(t):t.fieldFilter!==void 0?function(r){return ui.create(pg(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ml.create(r.compositeFilter.filters.map(n=>fq(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ut()}}(r.compositeFilter.op))}(t):Ut()}function mue(t){return rue[t]}function gue(t){return nue[t]}function yue(t){return iue[t]}function fg(t){return{fieldPath:t.canonicalString()}}function pg(t){return Gi.fromServerFormat(t.fieldPath)}function pq(t){return t instanceof ui?function(r){if(r.op==="=="){if(vL(r.value))return{unaryFilter:{field:fg(r.field),op:"IS_NAN"}};if(yL(r.value))return{unaryFilter:{field:fg(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(vL(r.value))return{unaryFilter:{field:fg(r.field),op:"IS_NOT_NAN"}};if(yL(r.value))return{unaryFilter:{field:fg(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fg(r.field),op:gue(r.op),value:r.value}}}(t):t instanceof ml?function(r){const n=r.getFilters().map(i=>pq(i));return n.length===1?n[0]:{compositeFilter:{op:yue(r.op),filters:n}}}(t):Ut()}function vue(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function mq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,r,n,i,s=Kt.min(),o=Kt.min(),c=Yi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new wh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(e){this.Tt=e}}function bue(t){const e=fue({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wue{constructor(){this.Tn=new Sue}addToCollectionParentIndex(e,r){return this.Tn.add(r),We.resolve()}getCollectionParents(e,r){return We.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return We.resolve()}deleteFieldIndex(e,r){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,r){return We.resolve()}getDocumentsMatchingTarget(e,r){return We.resolve(null)}getIndexType(e,r){return We.resolve(0)}getFieldIndexes(e,r){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,r){return We.resolve(Fh.min())}getMinOffsetFromCollectionGroup(e,r){return We.resolve(Fh.min())}updateCollectionGroup(e,r,n){return We.resolve()}updateIndexEntries(e,r){return We.resolve()}}class Sue{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new yi(xn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new yi(xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gq=41943040;class ea{static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(gq,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ey(0)}static Kn(){return new ey(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="LruGarbageCollector",_ue=1048576;function RL([t,e],[r,n]){const i=hr(t,r);return i===0?hr(e,n):i}class jue{constructor(e){this.Hn=e,this.buffer=new yi(RL),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();RL(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Nue{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ft(OL,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){qy(r)?ft(OL,"Ignoring IndexedDB error during garbage collection: ",r):await Uy(r)}await this.er(3e5)})}}class Aue{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return We.resolve(X_.ae);const n=new jue(r);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(IL)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IL):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,i,s,o,c,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,r))).next(y=>(s=y,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(h=Date.now(),dg()<=Sr.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-g}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-g}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function kue(t,e){return new Aue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(){this.changes=new Up(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,fs.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?We.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&zx(n.mutation,i,La.empty(),zn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,_r()).next(()=>n))}getLocalViewOfDocuments(e,r,n=_r()){const i=up();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=Ex();return s.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=up();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,_r()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{r.set(o,c)})})}computeViews(e,r,n,i){let s=Bu();const o=Vx(),c=function(){return Vx()}();return r.forEach((d,h)=>{const g=n.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof Xh)?s=s.insert(h.key,h):g!==void 0?(o.set(h.key,g.mutation.getFieldMask()),zx(g.mutation,h,g.mutation.getFieldMask(),zn.now())):o.set(h.key,La.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,g)=>o.set(h,g)),r.forEach((h,g)=>{var y;return c.set(h,new Tue(g,(y=o.get(h))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,r){const n=Vx();let i=new Rn((o,c)=>o-c),s=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const c of o)c.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let g=n.get(d)||La.empty();g=c.applyToLocalView(h,g),n.set(d,g);const y=(i.get(c.batchId)||_r()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,y=X8();g.forEach(x=>{if(!s.has(x)){const N=nq(r.get(x),n.get(x));N!==null&&y.set(x,N),s=s.add(x)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,y))}return We.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):H8(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):We.resolve(up());let c=ob,d=s;return o.next(h=>We.forEach(h,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(g)?We.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{d=d.insert(g,x)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,_r())).next(g=>({batchId:c,changes:Y8(g)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ct(r)).next(n=>{let i=Ex();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Ex();return this.indexManager.getCollectionParents(e,s).next(c=>We.forEach(c,d=>{const h=function(y,x){return new Hy(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(r,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(g=>{g.forEach((y,x)=>{o=o.insert(y,x)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((d,h)=>{const g=h.getKey();o.get(g)===null&&(o=o.insert(g,fs.newInvalidDocument(g)))});let c=Ex();return o.forEach((d,h)=>{const g=s.get(d);g!==void 0&&zx(g.mutation,h,La.empty(),zn.now()),tj(r,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return We.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:fc(i.createTime)}}(r)),We.resolve()}getNamedQuery(e,r){return We.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:bue(i.bundledQuery),readTime:fc(i.readTime)}}(r)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(){this.overlays=new Rn(Ct.comparator),this.Rr=new Map}getOverlay(e,r){return We.resolve(this.overlays.get(r))}getOverlays(e,r){const n=up();return We.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.Et(e,r,s)}),We.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(n)),We.resolve()}getOverlaysForCollection(e,r,n){const i=up(),s=r.length+1,o=new Ct(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>n&&i.set(d.getKey(),d)}return We.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Rn((h,g)=>h-g);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let g=s.get(h.largestBatchId);g===null&&(g=up(),s=s.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=up(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=i)););return We.resolve(c)}Et(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Qce(r,n));let s=this.Rr.get(r);s===void 0&&(s=_r(),this.Rr.set(r,s)),this.Rr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(){this.sessionToken=Yi.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.Vr=new yi(Oi.mr),this.gr=new yi(Oi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new Oi(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.wr(new Oi(e,r))}Sr(e,r){e.forEach(n=>this.removeReference(n,r))}br(e){const r=new Ct(new xn([])),n=new Oi(r,e),i=new Oi(r,e+1),s=[];return this.gr.forEachInRange([n,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new Ct(new xn([])),n=new Oi(r,e),i=new Oi(r,e+1);let s=_r();return this.gr.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Oi(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Oi{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return Ct.comparator(e.key,r.key)||hr(e.Cr,r.Cr)}static pr(e,r){return hr(e.Cr,r.Cr)||Ct.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new yi(Oi.mr)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Xce(s,r,n,i);this.mutationQueue.push(o);for(const c of i)this.Mr=this.Mr.add(new Oi(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return We.resolve(o)}lookupMutationBatch(e,r){return We.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Nr(n),s=i<0?0:i;return We.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?JI:this.Fr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Oi(r,0),i=new Oi(r,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([n,i],o=>{const c=this.Or(o.Cr);s.push(c)}),We.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yi(hr);return r.forEach(i=>{const s=new Oi(i,0),o=new Oi(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],c=>{n=n.add(c.Cr)})}),We.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ct.isDocumentKey(s)||(s=s.child(""));const o=new Oi(new Ct(s),0);let c=new yi(hr);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Cr)),!0)},o),We.resolve(this.Br(c))}Br(e){const r=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Hr(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return We.forEach(r.mutations,i=>{const s=new Oi(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,r){const n=new Oi(r,0),i=this.Mr.firstAfterOrEqual(n);return We.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(e){this.kr=e,this.docs=function(){return new Rn(Ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return We.resolve(n?n.document.mutableCopy():fs.newInvalidDocument(r))}getEntries(e,r){let n=Bu();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():fs.newInvalidDocument(i))}),We.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Bu();const o=r.path,c=new Ct(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||dce(uce(g),n)<=0||(i.has(g.key)||tj(r,g))&&(s=s.insert(g.key,g.mutableCopy()))}return We.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Ut()}qr(e,r){return We.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Due(this)}getSize(e){return We.resolve(this.size)}}class Due extends Eue{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),We.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(e){this.persistence=e,this.Qr=new Up(r=>rO(r),nO),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new lO,this.targetCount=0,this.Kr=ey.Un()}forEachTarget(e,r){return this.Qr.forEach((n,i)=>r(i)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),We.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new ey(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,We.resolve()}updateTargetData(e,r){return this.zn(r),We.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),We.waitFor(s).next(()=>i)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return We.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),We.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),We.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),We.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return We.resolve(n)}containsKey(e,r){return We.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new X_(0),this.zr=!1,this.zr=!0,this.jr=new Oue,this.referenceDelegate=e(this),this.Hr=new Lue(this),this.indexManager=new wue,this.remoteDocumentCache=function(i){return new Mue(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new xue(r),this.Yr=new Pue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Iue,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new Rue(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){ft("MemoryPersistence","Starting transaction:",e);const i=new Fue(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,r){return We.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,r)))}}class Fue extends fce{constructor(e){super(),this.currentSequenceNumber=e}}class cO{constructor(e){this.persistence=e,this.ti=new lO,this.ni=null}static ri(e){return new cO(e)}get ii(){if(this.ni)return this.ni;throw Ut()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),We.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),We.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),We.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.ii,n=>{const i=Ct.fromPath(n);return this.si(e,i).next(s=>{s||r.removeEntry(i,Kt.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return We.or([()=>We.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class fS{constructor(e,r){this.persistence=e,this.oi=new Up(n=>gce(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=kue(this,r)}static ri(e,r){return new fS(e,r)}Zr(){}Xr(e){return We.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}rr(e,r){return We.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(s=>s?We.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,r).next(c=>{c||(n++,s.removeEntry(o,Kt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),We.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),We.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),We.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=C1(e.data.value)),r}ar(e,r,n){return We.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.oi.get(r);return We.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=i}static Yi(e,r){let n=_r(),i=_r();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bue{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Tre()?8:pce(gs())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.rs(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $ue;return this._s(e,r,o).next(c=>{if(s.result=c,this.Xi)return this.us(e,r,o,c.size)})}).next(()=>s.result)}us(e,r,n,i){return n.documentReadCount<this.es?(dg()<=Sr.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",hg(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),We.resolve()):(dg()<=Sr.DEBUG&&ft("QueryEngine","Query:",hg(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(dg()<=Sr.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",hg(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hc(r))):We.resolve())}rs(e,r){if(SL(r))return We.resolve(null);let n=hc(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=uS(r,null,"F"),n=hc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=_r(...s);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.cs(r,c);return this.ls(r,h,o,d.readTime)?this.rs(e,uS(r,null,"F")):this.hs(e,h,r,d)}))})))}ss(e,r,n,i){return SL(r)||i.isEqual(Kt.min())?We.resolve(null):this.ns.getDocuments(e,n).next(s=>{const o=this.cs(r,s);return this.ls(r,o,n,i)?We.resolve(null):(dg()<=Sr.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hg(r)),this.hs(e,o,r,cce(i,ob)).next(c=>c))})}cs(e,r){let n=new yi(G8(e));return r.forEach((i,s)=>{tj(e,s)&&(n=n.add(s))}),n}ls(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,r,n){return dg()<=Sr.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",hg(r)),this.ns.getDocumentsMatchingQuery(e,r,Fh.min(),n)}hs(e,r,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="LocalStore",Vue=3e8;class zue{constructor(e,r,n,i){this.persistence=e,this.Ps=r,this.serializer=i,this.Ts=new Rn(hr),this.Is=new Up(s=>rO(s),nO),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cue(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function Uue(t,e,r,n){return new zue(t,e,r,n)}async function vq(t,e){const r=Xt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.As(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],c=[];let d=_r();for(const h of i){o.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of s){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return r.localDocuments.getDocuments(n,d).next(h=>({Rs:h,removedBatchIds:o,addedBatchIds:c}))})})}function que(t,e){const r=Xt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,h,g){const y=h.batch,x=y.keys();let N=We.resolve();return x.forEach(C=>{N=N.next(()=>g.getEntry(d,C)).next(A=>{const k=h.docVersions.get(C);Hr(k!==null),A.version.compareTo(k)<0&&(y.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),g.addEntry(A)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=_r();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function xq(t){const e=Xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function Hue(t,e){const r=Xt(t),n=e.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const c=[];e.targetChanges.forEach((g,y)=>{const x=i.get(y);if(!x)return;c.push(r.Hr.removeMatchingKeys(s,g.removedDocuments,y).next(()=>r.Hr.addMatchingKeys(s,g.addedDocuments,y)));let N=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?N=N.withResumeToken(Yi.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):g.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(g.resumeToken,n)),i=i.insert(y,N),function(A,k,D){return A.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Vue?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(x,N,g)&&c.push(r.Hr.updateTargetData(s,N))});let d=Bu(),h=_r();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(Wue(s,o,e.documentUpdates).next(g=>{d=g.Vs,h=g.fs})),!n.isEqual(Kt.min())){const g=r.Hr.getLastRemoteSnapshotVersion(s).next(y=>r.Hr.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(g)}return We.waitFor(c).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(r.Ts=i,s))}function Wue(t,e,r){let n=_r(),i=_r();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=Bu();return r.forEach((c,d)=>{const h=s.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Kt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):ft(dO,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Vs:o,fs:i}})}function Gue(t,e){const r=Xt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=JI),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Kue(t,e){const r=Xt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Hr.getTargetData(n,e).next(s=>s?(i=s,We.resolve(i)):r.Hr.allocateTargetId(n).next(o=>(i=new wh(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n})}async function xP(t,e,r){const n=Xt(t),i=n.Ts.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qy(o))throw o;ft(dO,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function ML(t,e,r){const n=Xt(t);let i=Kt.min(),s=_r();return n.persistence.runTransaction("Execute query","readwrite",o=>function(d,h,g){const y=Xt(d),x=y.Is.get(g);return x!==void 0?We.resolve(y.Ts.get(x)):y.Hr.getTargetData(h,g)}(n,o,hc(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,c.targetId).next(d=>{s=d})}).next(()=>n.Ps.getDocumentsMatchingQuery(o,e,r?i:Kt.min(),r?s:_r())).next(c=>(Yue(n,Mce(e),c),{documents:c,gs:s})))}function Yue(t,e,r){let n=t.Es.get(e)||Kt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Es.set(e,n)}class DL{constructor(){this.activeTargetIds=Vce()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xue{constructor(){this.ho=new DL,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new DL,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="ConnectivityMonitor";class FL{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(LL,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ft(LL,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i1=null;function bP(){return i1===null?i1=function(){return 268435456+Math.round(2147483648*Math.random())}():i1++,"0x"+i1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="RestConnection",Zue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jue{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===oS?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,r,n,i,s){const o=bP(),c=this.bo(e,r.toUriEncodedString());ft(SA,`Sending RPC '${e}' ${o}:`,c,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,c,d,n).then(h=>(ft(SA,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Yg(SA,`RPC '${e}' ${o} failed with error: `,h,"url: ",c,"request:",n),h})}Co(e,r,n,i,s,o){return this.So(e,r,n,i,s)}Do(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zy}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}bo(e,r){const n=Zue[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ede{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="WebChannelConnection";class tde extends Jue{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,i){const s=bP();return new Promise((o,c)=>{const d=new w8;d.setWithCredentials(!0),d.listenOnce(S8.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case T1.NO_ERROR:const g=d.getResponseJson();ft(cs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case T1.TIMEOUT:ft(cs,`RPC '${e}' ${s} timed out`),c(new pt(He.DEADLINE_EXCEEDED,"Request time out"));break;case T1.HTTP_ERROR:const y=d.getStatus();if(ft(cs,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const N=x==null?void 0:x.error;if(N&&N.status&&N.message){const C=function(k){const D=k.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(D)>=0?D:He.UNKNOWN}(N.status);c(new pt(C,N.message))}else c(new pt(He.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new pt(He.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{ft(cs,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ft(cs,`RPC '${e}' ${s} sending request:`,i),d.send(r,"POST",h,n,15)})}Wo(e,r,n){const i=bP(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=N8(),c=j8(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const g=s.join("");ft(cs,`Creating RPC '${e}' stream ${i}: ${g}`,d);const y=o.createWebChannel(g,d);let x=!1,N=!1;const C=new ede({Fo:k=>{N?ft(cs,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(x||(ft(cs,`Opening RPC '${e}' stream ${i} transport.`),y.open(),x=!0),ft(cs,`RPC '${e}' stream ${i} sending:`,k),y.send(k))},Mo:()=>y.close()}),A=(k,D,M)=>{k.listen(D,$=>{try{M($)}catch(L){setTimeout(()=>{throw L},0)}})};return A(y,kx.EventType.OPEN,()=>{N||(ft(cs,`RPC '${e}' stream ${i} transport opened.`),C.Qo())}),A(y,kx.EventType.CLOSE,()=>{N||(N=!0,ft(cs,`RPC '${e}' stream ${i} transport closed`),C.Uo())}),A(y,kx.EventType.ERROR,k=>{N||(N=!0,Yg(cs,`RPC '${e}' stream ${i} transport errored:`,k),C.Uo(new pt(He.UNAVAILABLE,"The operation could not be completed")))}),A(y,kx.EventType.MESSAGE,k=>{var D;if(!N){const M=k.data[0];Hr(!!M);const $=M,L=($==null?void 0:$.error)||((D=$[0])===null||D===void 0?void 0:D.error);if(L){ft(cs,`RPC '${e}' stream ${i} received error:`,L);const U=L.status;let K=function(Q){const J=li[Q];if(J!==void 0)return aq(J)}(U),q=L.message;K===void 0&&(K=He.INTERNAL,q="Unknown error status: "+U+" with message "+L.message),N=!0,C.Uo(new pt(K,q)),y.close()}else ft(cs,`RPC '${e}' stream ${i} received:`,M),C.Ko(M)}}),A(c,_8.STAT_EVENT,k=>{k.stat===lP.PROXY?ft(cs,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===lP.NOPROXY&&ft(cs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function _A(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){return new sue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-n);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="PersistentStream";class wq{constructor(e,r,n,i,s,o,c,d){this.Ti=e,this.n_=n,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bq(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===He.RESOURCE_EXHAUSTED?($u(r.toString()),$u("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===r&&this.V_(n,i)},n=>{e(()=>{const i=new pt(He.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ft($L,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(ft($L,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rde extends wq{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=lue(this.serializer,e),n=function(s){if(!("targetChange"in s))return Kt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Kt.min():o.readTime?fc(o.readTime):Kt.min()}(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=vP(this.serializer),r.addTarget=function(s,o){let c;const d=o.target;if(c=fP(d)?{documents:due(s,d)}:{query:hue(s,d).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=cq(s,o.resumeToken);const h=mP(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(Kt.min())>0){c.readTime=hS(s,o.snapshotVersion.toTimestamp());const h=mP(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=pue(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=vP(this.serializer),r.removeTarget=e,this.I_(r)}}class nde extends wq{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Hr(!!e.streamToken),this.lastStreamToken=e.streamToken,Hr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Hr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=uue(e.writeResults,e.commitTime),n=fc(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=vP(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>cue(this.serializer,n))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide{}class sde extends ide{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new pt(He.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,gP(r,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pt(He.UNKNOWN,s.toString())})}Co(e,r,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,gP(r,n),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(He.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ade{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($u(r),this.N_=!1):ft("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="RemoteStore";class ode{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{n.enqueueAndForget(async()=>{qp(this)&&(ft(Rp,"Restarting streams for network reachability change."),await async function(d){const h=Xt(d);h.W_.add(4),await m0(h),h.j_.set("Unknown"),h.W_.delete(4),await aj(h)}(this))})}),this.j_=new ade(n,i)}}async function aj(t){if(qp(t))for(const e of t.G_)await e(!0)}async function m0(t){for(const e of t.G_)await e(!1)}function Sq(t,e){const r=Xt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),mO(r)?pO(r):Wy(r).c_()&&fO(r,e))}function hO(t,e){const r=Xt(t),n=Wy(r);r.K_.delete(e),n.c_()&&_q(r,e),r.K_.size===0&&(n.c_()?n.P_():qp(r)&&r.j_.set("Unknown"))}function fO(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wy(t).y_(e)}function _q(t,e){t.H_.Ne(e),Wy(t).w_(e)}function pO(t){t.H_=new tue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Wy(t).start(),t.j_.B_()}function mO(t){return qp(t)&&!Wy(t).u_()&&t.K_.size>0}function qp(t){return Xt(t).W_.size===0}function jq(t){t.H_=void 0}async function lde(t){t.j_.set("Online")}async function cde(t){t.K_.forEach((e,r)=>{fO(t,e)})}async function ude(t,e){jq(t),mO(t)?(t.j_.q_(e),pO(t)):t.j_.set("Unknown")}async function dde(t,e,r){if(t.j_.set("Online"),e instanceof lq&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const c of s.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.K_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(n){ft(Rp,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await pS(t,n)}else if(e instanceof O1?t.H_.We(e):e instanceof oq?t.H_.Ze(e):t.H_.je(e),!r.isEqual(Kt.min()))try{const n=await xq(t.localStore);r.compareTo(n)>=0&&await function(s,o){const c=s.H_.ot(o);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=s.K_.get(h);g&&s.K_.set(h,g.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,h)=>{const g=s.K_.get(d);if(!g)return;s.K_.set(d,g.withResumeToken(Yi.EMPTY_BYTE_STRING,g.snapshotVersion)),_q(s,d);const y=new wh(g.target,d,h,g.sequenceNumber);fO(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){ft(Rp,"Failed to raise snapshot:",n),await pS(t,n)}}async function pS(t,e,r){if(!qy(e))throw e;t.W_.add(1),await m0(t),t.j_.set("Offline"),r||(r=()=>xq(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ft(Rp,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await aj(t)})}function Nq(t,e){return e().catch(r=>pS(t,r,e))}async function oj(t){const e=Xt(t),r=zh(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:JI;for(;hde(e);)try{const i=await Gue(e.localStore,n);if(i===null){e.U_.length===0&&r.P_();break}n=i.batchId,fde(e,i)}catch(i){await pS(e,i)}Aq(e)&&kq(e)}function hde(t){return qp(t)&&t.U_.length<10}function fde(t,e){t.U_.push(e);const r=zh(t);r.c_()&&r.S_&&r.b_(e.mutations)}function Aq(t){return qp(t)&&!zh(t).u_()&&t.U_.length>0}function kq(t){zh(t).start()}async function pde(t){zh(t).C_()}async function mde(t){const e=zh(t);for(const r of t.U_)e.b_(r.mutations)}async function gde(t,e,r){const n=t.U_.shift(),i=sO.from(n,e,r);await Nq(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await oj(t)}async function yde(t,e){e&&zh(t).S_&&await async function(n,i){if(function(o){return Jce(o)&&o!==He.ABORTED}(i.code)){const s=n.U_.shift();zh(n).h_(),await Nq(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await oj(n)}}(t,e),Aq(t)&&kq(t)}async function BL(t,e){const r=Xt(t);r.asyncQueue.verifyOperationInProgress(),ft(Rp,"RemoteStore received new credentials");const n=qp(r);r.W_.add(3),await m0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await aj(r)}async function vde(t,e){const r=Xt(t);e?(r.W_.delete(2),await aj(r)):e||(r.W_.add(2),await m0(r),r.j_.set("Unknown"))}function Wy(t){return t.J_||(t.J_=function(r,n,i){const s=Xt(r);return s.M_(),new rde(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:lde.bind(null,t),No:cde.bind(null,t),Lo:ude.bind(null,t),p_:dde.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),mO(t)?pO(t):t.j_.set("Unknown")):(await t.J_.stop(),jq(t))})),t.J_}function zh(t){return t.Y_||(t.Y_=function(r,n,i){const s=Xt(r);return s.M_(),new nde(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:pde.bind(null,t),Lo:yde.bind(null,t),D_:mde.bind(null,t),v_:gde.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await oj(t)):(await t.Y_.stop(),t.U_.length>0&&(ft(Rp,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ku,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,c=new gO(e,r,o,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yO(t,e){if($u("AsyncQueue",`${e}: ${t}`),qy(t))return new pt(He.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{static emptySet(e){return new Tg(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ct.comparator(r.key,n.key):(r,n)=>Ct.comparator(r.key,n.key),this.keyedMap=Ex(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Tg)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Tg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.Z_=new Rn(Ct.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):Ut():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ty{constructor(e,r,n,i,s,o,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(c=>{o.push({type:0,doc:c})}),new ty(e,r,Tg.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ej(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bde{constructor(){this.queries=zL(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const i=Xt(r),s=i.queries;i.queries=zL(),s.forEach((o,c)=>{for(const d of c.ta)d.onError(n)})})(this,new pt(He.ABORTED,"Firestore shutting down"))}}function zL(){return new Up(t=>W8(t),ej)}async function vO(t,e){const r=Xt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.na()&&e.ra()&&(n=2):(s=new xde,n=e.ra()?0:1);try{switch(n){case 0:s.ea=await r.onListen(i,!0);break;case 1:s.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const c=yO(o,`Initialization of query '${hg(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,s),s.ta.push(e),e.sa(r.onlineState),s.ea&&e.oa(s.ea)&&bO(r)}async function xO(t,e){const r=Xt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function wde(t,e){const r=Xt(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const c of o.ta)c.oa(i)&&(n=!0);o.ea=i}}n&&bO(r)}function Sde(t,e,r){const n=Xt(t),i=n.queries.get(e);if(i)for(const s of i.ta)s.onError(r);n.queries.delete(e)}function bO(t){t.ia.forEach(e=>{e.next()})}var wP,UL;(UL=wP||(wP={}))._a="default",UL.Cache="cache";class wO{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ty(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=ty.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==wP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.key=e}}class Tq{constructor(e){this.key=e}}class _de{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_r(),this.mutatedKeys=_r(),this.ya=G8(e),this.wa=new Tg(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new VL,i=r?r.wa:this.wa;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const x=i.get(g),N=tj(this.query,y)?y:null,C=!!x&&this.mutatedKeys.has(x.key),A=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;x&&N?x.data.isEqual(N.data)?C!==A&&(n.track({type:3,doc:N}),k=!0):this.va(x,N)||(n.track({type:2,doc:N}),k=!0,(d&&this.ya(N,d)>0||h&&this.ya(N,h)<0)&&(c=!0)):!x&&N?(n.track({type:0,doc:N}),k=!0):x&&!N&&(n.track({type:1,doc:x}),k=!0,(d||h)&&(c=!0)),k&&(N?(o=o.add(N),s=A?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),n.track({type:1,doc:g})}return{wa:o,Da:n,ls:c,mutatedKeys:s}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((g,y)=>function(N,C){const A=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return A(N)-A(C)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(n),i=i!=null&&i;const c=r&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,o.length!==0||h?{snapshot:new ty(this.query,e.wa,s,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new VL,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=_r(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const r=[];return e.forEach(n=>{this.pa.has(n)||r.push(new Tq(n))}),this.pa.forEach(n=>{e.has(n)||r.push(new Eq(n))}),r}Oa(e){this.fa=e.gs,this.pa=_r();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return ty.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const SO="SyncEngine";class jde{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Nde{constructor(e){this.key=e,this.Ba=!1}}class Ade{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Up(c=>W8(c),ej),this.qa=new Map,this.Qa=new Set,this.$a=new Rn(Ct.comparator),this.Ua=new Map,this.Ka=new lO,this.Wa={},this.Ga=new Map,this.za=ey.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function kde(t,e,r=!0){const n=Mq(t);let i;const s=n.ka.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Cq(n,e,r,!0),i}async function Ede(t,e){const r=Mq(t);await Cq(r,e,!0,!1)}async function Cq(t,e,r,n){const i=await Kue(t.localStore,hc(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await Tde(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&Sq(t.remoteStore,i),c}async function Tde(t,e,r,n,i){t.Ha=(y,x,N)=>async function(A,k,D,M){let $=k.view.ba(D);$.ls&&($=await ML(A.localStore,k.query,!1).then(({documents:q})=>k.view.ba(q,$)));const L=M&&M.targetChanges.get(k.targetId),U=M&&M.targetMismatches.get(k.targetId)!=null,K=k.view.applyChanges($,A.isPrimaryClient,L,U);return HL(A,k.targetId,K.Ma),K.snapshot}(t,y,x,N);const s=await ML(t.localStore,e,!0),o=new _de(e,s.gs),c=o.ba(s.documents),d=p0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);HL(t,r,h.Ma);const g=new jde(e,r,o);return t.ka.set(e,g),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function Cde(t,e,r){const n=Xt(t),i=n.ka.get(e),s=n.qa.get(i.targetId);if(s.length>1)return n.qa.set(i.targetId,s.filter(o=>!ej(o,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await xP(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&hO(n.remoteStore,i.targetId),SP(n,i.targetId)}).catch(Uy)):(SP(n,i.targetId),await xP(n.localStore,i.targetId,!0))}async function Pde(t,e){const r=Xt(t),n=r.ka.get(e),i=r.qa.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),hO(r.remoteStore,n.targetId))}async function Ide(t,e,r){const n=$de(t);try{const i=await function(o,c){const d=Xt(o),h=zn.now(),g=c.reduce((N,C)=>N.add(C.key),_r());let y,x;return d.persistence.runTransaction("Locally write mutations","readwrite",N=>{let C=Bu(),A=_r();return d.ds.getEntries(N,g).next(k=>{C=k,C.forEach((D,M)=>{M.isValidDocument()||(A=A.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(N,C)).next(k=>{y=k;const D=[];for(const M of c){const $=Kce(M,y.get(M.key).overlayedDocument);$!=null&&D.push(new Xh(M.key,$,F8($.value.mapValue),ul.exists(!0)))}return d.mutationQueue.addMutationBatch(N,h,D,c)}).next(k=>{x=k;const D=k.applyToLocalDocumentSet(y,A);return d.documentOverlayCache.saveOverlays(N,k.batchId,D)})}).then(()=>({batchId:x.batchId,changes:Y8(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,c,d){let h=o.Wa[o.currentUser.toKey()];h||(h=new Rn(hr)),h=h.insert(c,d),o.Wa[o.currentUser.toKey()]=h}(n,i.batchId,r),await g0(n,i.changes),await oj(n.remoteStore)}catch(i){const s=yO(i,"Failed to persist write");r.reject(s)}}async function Pq(t,e){const r=Xt(t);try{const n=await Hue(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Ua.get(s);o&&(Hr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Hr(o.Ba):i.removedDocuments.size>0&&(Hr(o.Ba),o.Ba=!1))}),await g0(r,n,e)}catch(n){await Uy(n)}}function qL(t,e,r){const n=Xt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ka.forEach((s,o)=>{const c=o.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const d=Xt(o);d.onlineState=c;let h=!1;d.queries.forEach((g,y)=>{for(const x of y.ta)x.sa(c)&&(h=!0)}),h&&bO(d)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Ode(t,e,r){const n=Xt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ua.get(e),s=i&&i.key;if(s){let o=new Rn(Ct.comparator);o=o.insert(s,fs.newNoDocument(s,Kt.min()));const c=_r().add(s),d=new ij(Kt.min(),new Map,new Rn(hr),o,c);await Pq(n,d),n.$a=n.$a.remove(s),n.Ua.delete(e),_O(n)}else await xP(n.localStore,e,!1).then(()=>SP(n,e,r)).catch(Uy)}async function Rde(t,e){const r=Xt(t),n=e.batch.batchId;try{const i=await que(r.localStore,e);Oq(r,n,null),Iq(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await g0(r,i)}catch(i){await Uy(i)}}async function Mde(t,e,r){const n=Xt(t);try{const i=await function(o,c){const d=Xt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,c).next(y=>(Hr(y!==null),g=y.keys(),d.mutationQueue.removeMutationBatch(h,y))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(n.localStore,e);Oq(n,e,r),Iq(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await g0(n,i)}catch(i){await Uy(i)}}function Iq(t,e){(t.Ga.get(e)||[]).forEach(r=>{r.resolve()}),t.Ga.delete(e)}function Oq(t,e,r){const n=Xt(t);let i=n.Wa[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function SP(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(n=>{t.Ka.containsKey(n)||Rq(t,n)})}function Rq(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(hO(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),_O(t))}function HL(t,e,r){for(const n of r)n instanceof Eq?(t.Ka.addReference(n.key,e),Dde(t,n)):n instanceof Tq?(ft(SO,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||Rq(t,n.key)):Ut()}function Dde(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(ft(SO,"New document in limbo: "+r),t.Qa.add(n),_O(t))}function _O(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new Ct(xn.fromString(e)),n=t.za.next();t.Ua.set(n,new Nde(r)),t.$a=t.$a.insert(r,n),Sq(t.remoteStore,new wh(hc(J_(r.path)),n,"TargetPurposeLimboResolution",X_.ae))}}async function g0(t,e,r){const n=Xt(t),i=[],s=[],o=[];n.ka.isEmpty()||(n.ka.forEach((c,d)=>{o.push(n.Ha(d,e,r).then(h=>{var g;if((h||r)&&n.isPrimaryClient){const y=h?!h.fromCache:(g=r==null?void 0:r.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(h){i.push(h);const y=uO.Yi(d.targetId,h);s.push(y)}}))}),await Promise.all(o),n.La.p_(i),await async function(d,h){const g=Xt(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>We.forEach(h,x=>We.forEach(x.Hi,N=>g.persistence.referenceDelegate.addReference(y,x.targetId,N)).next(()=>We.forEach(x.Ji,N=>g.persistence.referenceDelegate.removeReference(y,x.targetId,N)))))}catch(y){if(!qy(y))throw y;ft(dO,"Failed to update sequence numbers: "+y)}for(const y of h){const x=y.targetId;if(!y.fromCache){const N=g.Ts.get(x),C=N.snapshotVersion,A=N.withLastLimboFreeSnapshotVersion(C);g.Ts=g.Ts.insert(x,A)}}}(n.localStore,s))}async function Lde(t,e){const r=Xt(t);if(!r.currentUser.isEqual(e)){ft(SO,"User change. New user:",e.toKey());const n=await vq(r.localStore,e);r.currentUser=e,function(s,o){s.Ga.forEach(c=>{c.forEach(d=>{d.reject(new pt(He.CANCELLED,o))})}),s.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await g0(r,n.Rs)}}function Fde(t,e){const r=Xt(t),n=r.Ua.get(e);if(n&&n.Ba)return _r().add(n.key);{let i=_r();const s=r.qa.get(e);if(!s)return i;for(const o of s){const c=r.ka.get(o);i=i.unionWith(c.view.Sa)}return i}}function Mq(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ode.bind(null,e),e.La.p_=wde.bind(null,e.eventManager),e.La.Ja=Sde.bind(null,e.eventManager),e}function $de(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mde.bind(null,e),e}class mS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sj(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return Uue(this.persistence,new Bue,e.initialUser,this.serializer)}Xa(e){return new yq(cO.ri,this.serializer)}Za(e){return new Xue}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mS.provider={build:()=>new mS};class Bde extends mS{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Hr(this.persistence.referenceDelegate instanceof fS);const n=this.persistence.referenceDelegate.garbageCollector;return new Nue(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ea.withCacheSize(this.cacheSizeBytes):ea.DEFAULT;return new yq(n=>fS.ri(n,r),this.serializer)}}class _P{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>qL(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lde.bind(null,this.syncEngine),await vde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bde}()}createDatastore(e){const r=sj(e.databaseInfo.databaseId),n=function(s){return new tde(s)}(e.databaseInfo);return function(s,o,c,d){return new sde(s,o,c,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,c){return new ode(n,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,r=>qL(this.syncEngine,r,0),function(){return FL.D()?new FL:new Que}())}createSyncEngine(e,r){return function(i,s,o,c,d,h,g){const y=new Ade(i,s,o,c,d,h);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Xt(i);ft(Rp,"RemoteStore shutting down."),s.W_.add(5),await m0(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}_P.provider={build:()=>new _P};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$u("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="FirestoreClient";class Vde{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=hs.UNAUTHENTICATED,this.clientId=E8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{ft(Uh,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ft(Uh,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ku;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=yO(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function jA(t,e){t.asyncQueue.verifyOperationInProgress(),ft(Uh,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await vq(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WL(t,e){t.asyncQueue.verifyOperationInProgress();const r=await zde(t);ft(Uh,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>BL(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>BL(e.remoteStore,i)),t._onlineComponents=e}async function zde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ft(Uh,"Using user provided OfflineComponentProvider");try{await jA(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===He.FAILED_PRECONDITION||i.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Yg("Error using user provided cache. Falling back to memory cache: "+r),await jA(t,new mS)}}else ft(Uh,"Using default OfflineComponentProvider"),await jA(t,new Bde(void 0));return t._offlineComponents}async function Dq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ft(Uh,"Using user provided OnlineComponentProvider"),await WL(t,t._uninitializedComponentsProvider._online)):(ft(Uh,"Using default OnlineComponentProvider"),await WL(t,new _P))),t._onlineComponents}function Ude(t){return Dq(t).then(e=>e.syncEngine)}async function gS(t){const e=await Dq(t),r=e.eventManager;return r.onListen=kde.bind(null,e.syncEngine),r.onUnlisten=Cde.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ede.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Pde.bind(null,e.syncEngine),r}function qde(t,e,r={}){const n=new ku;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,d,h){const g=new jO({next:x=>{g.su(),o.enqueueAndForget(()=>xO(s,y));const N=x.docs.has(c);!N&&x.fromCache?h.reject(new pt(He.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&d&&d.source==="server"?h.reject(new pt(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),y=new wO(J_(c.path),g,{includeMetadataChanges:!0,Ta:!0});return vO(s,y)}(await gS(t),t.asyncQueue,e,r,n)),n.promise}function Hde(t,e,r={}){const n=new ku;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,d,h){const g=new jO({next:x=>{g.su(),o.enqueueAndForget(()=>xO(s,y)),x.fromCache&&d.source==="server"?h.reject(new pt(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),y=new wO(c,g,{includeMetadataChanges:!0,Ta:!0});return vO(s,y)}(await gS(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e,r){if(!r)throw new pt(He.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wde(t,e,r,n){if(e===!0&&n===!0)throw new pt(He.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function KL(t){if(!Ct.isDocumentKey(t))throw new pt(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YL(t){if(Ct.isDocumentKey(t))throw new pt(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ut()}function Va(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pt(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lj(t);throw new pt(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="firestore.googleapis.com",XL=!0;class QL{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new pt(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$q,this.ssl=XL}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:XL;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_ue)throw new pt(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wde("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lq((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cj{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QL(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ece;switch(n.type){case"firstParty":return new ice(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new pt(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=GL.get(r);n&&(ft("ComponentProvider","Removing Datastore"),GL.delete(r),n.terminate())}(this),Promise.resolve()}}function Gde(t,e,r,n={}){var i;const s=(t=Va(t,cj))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;s.host!==$q&&s.host!==c&&Yg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:n});if(!Du(d,o)&&(t._setSettings(d),n.mockUserToken)){let h,g;if(typeof n.mockUserToken=="string")h=n.mockUserToken,g=hs.MOCK_USER;else{h=_re(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new pt(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hs(y)}t._authCredentials=new tce(new A8(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yu(this.firestore,e,this._query)}}class ms{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Th(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ms(this.firestore,e,this._key)}}class Th extends Yu{constructor(e,r,n){super(e,r,J_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ms(this.firestore,null,new Ct(e))}withConverter(e){return new Th(this.firestore,e,this._path)}}function Cg(t,e,...r){if(t=Un(t),Fq("collection","path",e),t instanceof cj){const n=xn.fromString(e,...r);return YL(n),new Th(t,null,n)}{if(!(t instanceof ms||t instanceof Th))throw new pt(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xn.fromString(e,...r));return YL(n),new Th(t.firestore,null,n)}}function ar(t,e,...r){if(t=Un(t),arguments.length===1&&(e=E8.newId()),Fq("doc","path",e),t instanceof cj){const n=xn.fromString(e,...r);return KL(n),new ms(t,null,new Ct(n))}{if(!(t instanceof ms||t instanceof Th))throw new pt(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xn.fromString(e,...r));return KL(n),new ms(t.firestore,t instanceof Th?t.converter:null,new Ct(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="AsyncQueue";class JL{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bq(this,"async_queue_retry"),this.Su=()=>{const n=_A();n&&ft(ZL,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=_A();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=_A();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new ku;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!qy(e))throw e;ft(ZL,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(n);throw $u("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const i=gO.createAndSchedule(this,e,r,n,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ut()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function e4(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class qh extends cj{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new JL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JL(e),this._firestoreClient=void 0,await e}}}function On(t,e){const r=typeof t=="object"?t:kI(),n=typeof t=="string"?t:oS,i=zp(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=wre("firestore");s&&Gde(i,...s)}return i}function uj(t){if(t._terminated)throw new pt(He.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Kde(t),t._firestoreClient}function Kde(t){var e,r,n;const i=t._freezeSettings(),s=function(c,d,h,g){return new xce(c,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Lq(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Vde(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ry(Yi.fromBase64String(e))}catch(r){throw new pt(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ry(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new pt(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new pt(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new pt(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hr(this._lat,e._lat)||hr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yde=/^__.*__$/;class Xde{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Xh(e,this.data,this.fieldMask,r,this.fieldTransforms):new f0(e,this.data,r,this.fieldTransforms)}}class Bq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Xh(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Vq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class hj{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yS(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Vq(this.Lu)&&Yde.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Qde{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||sj(e)}ju(e,r,n,i=!1){return new hj({Lu:e,methodName:r,zu:n,path:Gi.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fj(t){const e=t._freezeSettings(),r=sj(t._databaseId);return new Qde(t._databaseId,!!e.ignoreUndefinedProperties,r)}function zq(t,e,r,n,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,r,i);TO("Data must be an object, but it was:",o,n);const c=Uq(n,o);let d,h;if(s.merge)d=new La(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const y of s.mergeFields){const x=jP(e,y,r);if(!o.contains(x))throw new pt(He.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Hq(g,x)||g.push(x)}d=new La(g),h=o.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,h=o.fieldTransforms;return new Xde(new ra(c),d,h)}class pj extends y0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pj}}function Zde(t,e,r){return new hj({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kO extends y0{_toFieldTransform(e){return new rq(e.path,new hb)}isEqual(e){return e instanceof kO}}class EO extends y0{constructor(e,r){super(e),this.Hu=r}_toFieldTransform(e){const r=Zde(this,e,!0),n=this.Hu.map(s=>Gy(s,r)),i=new Jg(n);return new rq(e.path,i)}isEqual(e){return e instanceof EO&&Du(this.Hu,e.Hu)}}function Jde(t,e,r,n){const i=t.ju(1,e,r);TO("Data must be an object, but it was:",i,n);const s=[],o=ra.empty();Yh(n,(d,h)=>{const g=CO(e,d,r);h=Un(h);const y=i.Uu(g);if(h instanceof pj)s.push(g);else{const x=Gy(h,y);x!=null&&(s.push(g),o.set(g,x))}});const c=new La(s);return new Bq(o,c,i.fieldTransforms)}function ehe(t,e,r,n,i,s){const o=t.ju(1,e,r),c=[jP(e,n,r)],d=[i];if(s.length%2!=0)throw new pt(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)c.push(jP(e,s[x])),d.push(s[x+1]);const h=[],g=ra.empty();for(let x=c.length-1;x>=0;--x)if(!Hq(h,c[x])){const N=c[x];let C=d[x];C=Un(C);const A=o.Uu(N);if(C instanceof pj)h.push(N);else{const k=Gy(C,A);k!=null&&(h.push(N),g.set(N,k))}}const y=new La(h);return new Bq(g,y,o.fieldTransforms)}function the(t,e,r,n=!1){return Gy(r,t.ju(n?4:3,e))}function Gy(t,e){if(qq(t=Un(t)))return TO("Unsupported field value:",e,t),Uq(t,e);if(t instanceof y0)return function(n,i){if(!Vq(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const c of n){let d=Gy(c,i.Ku(o));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zce(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=zn.fromDate(n);return{timestampValue:hS(i.serializer,s)}}if(n instanceof zn){const s=new zn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:hS(i.serializer,s)}}if(n instanceof NO)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ry)return{bytesValue:cq(i.serializer,n._byteString)};if(n instanceof ms){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:oO(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof AO)return function(o,c){return{mapValue:{fields:{[D8]:{stringValue:L8},[lS]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw c.Wu("VectorValues must only contain numeric values.");return iO(c.serializer,h)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${lj(n)}`)}(t,e)}function Uq(t,e){const r={};return C8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yh(t,(n,i)=>{const s=Gy(i,e.qu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function qq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zn||t instanceof NO||t instanceof ry||t instanceof ms||t instanceof y0||t instanceof AO)}function TO(t,e,r){if(!qq(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=lj(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function jP(t,e,r){if((e=Un(e))instanceof dj)return e._internalPath;if(typeof e=="string")return CO(t,e);throw yS("Field path arguments must be of type string or ",t,!1,void 0,r)}const rhe=new RegExp("[~\\*/\\[\\]]");function CO(t,e,r){if(e.search(rhe)>=0)throw yS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new dj(...e.split("."))._internalPath}catch{throw yS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function yS(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${n}`),o&&(d+=` in document ${i}`),d+=")"),new pt(He.INVALID_ARGUMENT,c+t+d)}function Hq(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(PO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class nhe extends Wq{data(){return super.data()}}function PO(t,e){return typeof e=="string"?CO(t,e):e instanceof dj?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pt(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IO{}class OO extends IO{}function ihe(t,e,...r){let n=[];e instanceof IO&&n.push(e),n=n.concat(r),function(s){const o=s.filter(d=>d instanceof MO).length,c=s.filter(d=>d instanceof RO).length;if(o>1||o>0&&c>0)throw new pt(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class RO extends OO{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new RO(e,r,n)}_apply(e){const r=this._parse(e);return Kq(e._query,r),new Yu(e.firestore,e.converter,pP(e._query,r))}_parse(e){const r=fj(e.firestore);return function(s,o,c,d,h,g,y){let x;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new pt(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){r4(y,g);const C=[];for(const A of y)C.push(t4(d,s,A));x={arrayValue:{values:C}}}else x=t4(d,s,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||r4(y,g),x=the(c,o,y,g==="in"||g==="not-in");return ui.create(h,g,x)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class MO extends IO{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new MO(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ml.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const c=s.getFlattenedFilters();for(const d of c)Kq(o,d),o=pP(o,d)}(e._query,r),new Yu(e.firestore,e.converter,pP(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class DO extends OO{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new DO(e,r)}_apply(e){const r=function(i,s,o){if(i.startAt!==null)throw new pt(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pt(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new db(s,o)}(e._query,this._field,this._direction);return new Yu(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Hy(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function she(t,e="asc"){const r=e,n=PO("orderBy",t);return DO._create(n,r)}class LO extends OO{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new LO(e,r,n)}_apply(e){return new Yu(e.firestore,e.converter,uS(e._query,this._limit,this._limitType))}}function ahe(t){return LO._create("limit",t,"F")}function t4(t,e,r){if(typeof(r=Un(r))=="string"){if(r==="")throw new pt(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H8(e)&&r.indexOf("/")!==-1)throw new pt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xn.fromString(r));if(!Ct.isDocumentKey(n))throw new pt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return gL(t,new Ct(n))}if(r instanceof ms)return gL(t,r._key);throw new pt(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lj(r)}.`)}function r4(t,e){if(!Array.isArray(t)||t.length===0)throw new pt(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kq(t,e){const r=function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new pt(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pt(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ohe{convertValue(e,r="none"){switch(Vh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Bh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Yh(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[lS].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Zn(o.doubleValue));return new AO(s)}convertGeoPoint(e){return new NO(Zn(e.latitude),Zn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Z_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(lb(e));default:return null}}convertTimestamp(e){const r=$h(e);return new zn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xn.fromString(e);Hr(mq(n));const i=new cb(n.get(1),n.get(3)),s=new Ct(n.popFirst(5));return i.isEqual(r)||$u(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xq extends Wq{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new R1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(PO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class R1 extends Xq{data(e={}){return super.data(e)}}class Qq{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Cx(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new R1(this._firestore,this._userDataWriter,n.key,n,new Cx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new pt(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const d=new R1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Cx(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const d=new R1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Cx(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),g=o.indexOf(c.doc.key)),{type:lhe(c.type),doc:d,oldIndex:h,newIndex:g}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function lhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){t=Va(t,ms);const e=Va(t.firestore,qh);return qde(uj(e),t._key).then(r=>Zq(e,t,r))}class FO extends ohe{constructor(e){super(),this.firestore=e}convertBytes(e){return new ry(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ms(this.firestore,null,r)}}function che(t){t=Va(t,Yu);const e=Va(t.firestore,qh),r=uj(e),n=new FO(e);return Gq(t._query),Hde(r,t._query).then(i=>new Qq(e,n,t,i))}function za(t,e,r){t=Va(t,ms);const n=Va(t.firestore,qh),i=Yq(t.converter,e,r);return $O(n,[zq(fj(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ul.none())])}function ny(t,e,r,...n){t=Va(t,ms);const i=Va(t.firestore,qh),s=fj(i);let o;return o=typeof(e=Un(e))=="string"||e instanceof dj?ehe(s,"updateDoc",t._key,e,r,n):Jde(s,"updateDoc",t._key,e),$O(i,[o.toMutation(t._key,ul.exists(!0))])}function M1(t,e){const r=Va(t.firestore,qh),n=ar(t),i=Yq(t.converter,e);return $O(r,[zq(fj(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ul.exists(!1))]).then(()=>n)}function uhe(t,...e){var r,n,i;t=Un(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||e4(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(e4(e[o])){const y=e[o];e[o]=(r=y.next)===null||r===void 0?void 0:r.bind(y),e[o+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),e[o+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,h,g;if(t instanceof ms)h=Va(t.firestore,qh),g=J_(t._key.path),d={next:y=>{e[o]&&e[o](Zq(h,t,y))},error:e[o+1],complete:e[o+2]};else{const y=Va(t,Yu);h=Va(y.firestore,qh),g=y._query;const x=new FO(h);d={next:N=>{e[o]&&e[o](new Qq(h,x,y,N))},error:e[o+1],complete:e[o+2]},Gq(t._query)}return function(x,N,C,A){const k=new jO(A),D=new wO(N,k,C);return x.asyncQueue.enqueueAndForget(async()=>vO(await gS(x),D)),()=>{k.su(),x.asyncQueue.enqueueAndForget(async()=>xO(await gS(x),D))}}(uj(h),g,c,d)}function $O(t,e){return function(n,i){const s=new ku;return n.asyncQueue.enqueueAndForget(async()=>Ide(await Ude(n),i,s)),s.promise}(uj(t),e)}function Zq(t,e,r){const n=r.docs.get(e._key),i=new FO(t);return new Xq(t,i,e._key,n,new Cx(r.hasPendingWrites,r.fromCache),e.converter)}function gg(){return new kO("serverTimestamp")}function Jq(...t){return new EO("arrayUnion",t)}(function(e,r=!0){(function(i){zy=i})(Dy),yc(new pl("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new qh(new rce(n.getProvider("auth-internal")),new sce(o,n.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new pt(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cb(h.options.projectId,g)}(o,i),o);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),po(iL,sL,e),po(iL,sL,"esm2017")})();function dhe(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o),d=r.length;r=[...r,o];function h(y){const{scope:x,children:N,...C}=y,A=(x==null?void 0:x[t][d])||c,k=P.useMemo(()=>C,Object.values(C));return a.jsx(A.Provider,{value:k,children:N})}function g(y,x){const N=(x==null?void 0:x[t][d])||c,C=P.useContext(N);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${y}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,g]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=(c==null?void 0:c[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,hhe(i,...e)]}function hhe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const y=d(s)[`__scope${h}`];return{...c,...y}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var fhe=P.createContext(void 0);function Ky(t){const e=P.useContext(fhe);return t||e||"ltr"}var NA="rovingFocusGroup.onEntryFocus",phe={bubbles:!1,cancelable:!0},mj="RovingFocusGroup",[NP,eH,mhe]=Jb(mj),[ghe,gj]=dhe(mj,[mhe]),[yhe,vhe]=ghe(mj),tH=P.forwardRef((t,e)=>a.jsx(NP.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(NP.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(xhe,{...t,ref:e})})}));tH.displayName=mj;var xhe=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...y}=t,x=P.useRef(null),N=mr(e,x),C=Ky(s),[A=null,k]=aa({prop:o,defaultProp:c,onChange:d}),[D,M]=P.useState(!1),$=Ds(h),L=eH(r),U=P.useRef(!1),[K,q]=P.useState(0);return P.useEffect(()=>{const V=x.current;if(V)return V.addEventListener(NA,$),()=>V.removeEventListener(NA,$)},[$]),a.jsx(yhe,{scope:r,orientation:n,dir:C,loop:i,currentTabStopId:A,onItemFocus:P.useCallback(V=>k(V),[k]),onItemShiftTab:P.useCallback(()=>M(!0),[]),onFocusableItemAdd:P.useCallback(()=>q(V=>V+1),[]),onFocusableItemRemove:P.useCallback(()=>q(V=>V-1),[]),children:a.jsx(_t.div,{tabIndex:D||K===0?-1:0,"data-orientation":n,...y,ref:N,style:{outline:"none",...t.style},onMouseDown:bt(t.onMouseDown,()=>{U.current=!0}),onFocus:bt(t.onFocus,V=>{const Q=!U.current;if(V.target===V.currentTarget&&Q&&!D){const J=new CustomEvent(NA,phe);if(V.currentTarget.dispatchEvent(J),!J.defaultPrevented){const ee=L().filter(ce=>ce.focusable),X=ee.find(ce=>ce.active),Y=ee.find(ce=>ce.id===A),pe=[X,Y,...ee].filter(Boolean).map(ce=>ce.ref.current);iH(pe,g)}}U.current=!1}),onBlur:bt(t.onBlur,()=>M(!1))})})}),rH="RovingFocusGroupItem",nH=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=t,c=ll(),d=s||c,h=vhe(rH,r),g=h.currentTabStopId===d,y=eH(r),{onFocusableItemAdd:x,onFocusableItemRemove:N}=h;return P.useEffect(()=>{if(n)return x(),()=>N()},[n,x,N]),a.jsx(NP.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:a.jsx(_t.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:bt(t.onMouseDown,C=>{n?h.onItemFocus(d):C.preventDefault()}),onFocus:bt(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:bt(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){h.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const A=She(C,h.orientation,h.dir);if(A!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let D=y().filter(M=>M.focusable).map(M=>M.ref.current);if(A==="last")D.reverse();else if(A==="prev"||A==="next"){A==="prev"&&D.reverse();const M=D.indexOf(C.currentTarget);D=h.loop?_he(D,M+1):D.slice(M+1)}setTimeout(()=>iH(D))}})})})});nH.displayName=rH;var bhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function whe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function She(t,e,r){const n=whe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bhe[n]}function iH(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function _he(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var sH=tH,aH=nH,BO="Tabs",[jhe,kPe]=Ha(BO,[gj]),oH=gj(),[Nhe,VO]=jhe(BO),lH=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=t,g=Ky(c),[y,x]=aa({prop:n,onChange:i,defaultProp:s});return a.jsx(Nhe,{scope:r,baseId:ll(),value:y,onValueChange:x,orientation:o,dir:g,activationMode:d,children:a.jsx(_t.div,{dir:g,"data-orientation":o,...h,ref:e})})});lH.displayName=BO;var cH="TabsList",uH=P.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=VO(cH,r),o=oH(r);return a.jsx(sH,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(_t.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});uH.displayName=cH;var dH="TabsTrigger",hH=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=VO(dH,r),c=oH(r),d=mH(o.baseId,n),h=gH(o.baseId,n),g=n===o.value;return a.jsx(aH,{asChild:!0,...c,focusable:!i,active:g,children:a.jsx(_t.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:e,onMouseDown:bt(t.onMouseDown,y=>{!i&&y.button===0&&y.ctrlKey===!1?o.onValueChange(n):y.preventDefault()}),onKeyDown:bt(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&o.onValueChange(n)}),onFocus:bt(t.onFocus,()=>{const y=o.activationMode!=="manual";!g&&!i&&y&&o.onValueChange(n)})})})});hH.displayName=dH;var fH="TabsContent",pH=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,c=VO(fH,r),d=mH(c.baseId,n),h=gH(c.baseId,n),g=n===c.value,y=P.useRef(g);return P.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),a.jsx(_c,{present:i||g,children:({present:x})=>a.jsx(_t.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:x&&s})})});pH.displayName=fH;function mH(t,e){return`${t}-trigger-${e}`}function gH(t,e){return`${t}-content-${e}`}var Ahe=lH,yH=uH,vH=hH,xH=pH;const Nc=Ahe,xl=P.forwardRef(({className:t,...e},r)=>a.jsx(yH,{ref:r,className:Ot("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));xl.displayName=yH.displayName;const kr=P.forwardRef(({className:t,...e},r)=>a.jsx(vH,{ref:r,className:Ot("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));kr.displayName=vH.displayName;const Dr=P.forwardRef(({className:t,...e},r)=>a.jsx(xH,{ref:r,className:Ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Dr.displayName=xH.displayName;const khe=N_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gt({className:t,variant:e,...r}){return a.jsx("div",{className:Ot(khe({variant:e}),t),...r})}function v0(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zO="Switch",[Ehe,EPe]=Ha(zO),[The,Che]=Ehe(zO),bH=P.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:d="on",onCheckedChange:h,form:g,...y}=t,[x,N]=P.useState(null),C=mr(e,$=>N($)),A=P.useRef(!1),k=x?g||!!x.closest("form"):!0,[D=!1,M]=aa({prop:i,defaultProp:s,onChange:h});return a.jsxs(The,{scope:r,checked:D,disabled:c,children:[a.jsx(_t.button,{type:"button",role:"switch","aria-checked":D,"aria-required":o,"data-state":_H(D),"data-disabled":c?"":void 0,disabled:c,value:d,...y,ref:C,onClick:bt(t.onClick,$=>{M(L=>!L),k&&(A.current=$.isPropagationStopped(),A.current||$.stopPropagation())})}),k&&a.jsx(Phe,{control:x,bubbles:!A.current,name:n,value:d,checked:D,required:o,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});bH.displayName=zO;var wH="SwitchThumb",SH=P.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Che(wH,r);return a.jsx(_t.span,{"data-state":_H(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});SH.displayName=wH;var Phe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=P.useRef(null),o=v0(r),c=i0(e);return P.useEffect(()=>{const d=s.current,h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&y){const x=new Event("click",{bubbles:n});y.call(d,r),d.dispatchEvent(x)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _H(t){return t?"checked":"unchecked"}var jH=bH,Ihe=SH;const yj=P.forwardRef(({className:t,...e},r)=>a.jsx(jH,{className:Ot("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(Ihe,{className:Ot("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yj.displayName=jH.displayName;const Ohe=({onIntegrationToggle:t,integrations:e={}})=>{const[r,n]=P.useState(null),i=async c=>{n(c);try{await new Promise(d=>setTimeout(d,1500)),await t(c,!0),console.log(`Successfully connected to ${c}`)}catch(d){console.error(`Error connecting to ${c}:`,d)}finally{n(null)}},s=async c=>{try{await t(c,!1),console.log(`Disconnected from ${c}`)}catch(d){console.error(`Error disconnecting from ${c}:`,d)}},o=[{id:"google_fit",name:"Google Fit",icon:a.jsx(Pu,{className:"h-5 w-5 text-green-500"}),description:"Import steps, activity, and workout data from Google Fit",dataPoints:["Steps","Activity","Workouts","Heart Rate"],apiUrl:"https://developers.google.com/fit/rest/v1/get-started",free:!0},{id:"apple_health",name:"Apple Health",icon:a.jsx(oa,{className:"h-5 w-5 text-red-500"}),description:"Import health data from Apple Health",dataPoints:["Steps","Activity","Workouts","Heart Rate","Sleep"],apiUrl:"https://developer.apple.com/documentation/healthkit",free:!0},{id:"fitbit",name:"Fitbit",icon:a.jsx(OM,{className:"h-5 w-5 text-blue-500"}),description:"Import activity and sleep data from Fitbit",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://dev.fitbit.com/build/reference/web-api/",free:!0},{id:"samsung_health",name:"Samsung Health",icon:a.jsx(lz,{className:"h-5 w-5 text-blue-400"}),description:"Import health data from Samsung Health",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.samsung.com/health/android/overview.html",free:!0},{id:"strava",name:"Strava",icon:a.jsx(FQ,{className:"h-5 w-5 text-orange-500"}),description:"Import running and cycling data from Strava",dataPoints:["Runs","Rides","Workouts"],apiUrl:"https://developers.strava.com/",free:!0},{id:"garmin",name:"Garmin Connect",icon:a.jsx(OM,{className:"h-5 w-5 text-purple-500"}),description:"Import activity data from Garmin devices",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.garmin.com/gc-developer-program/overview/",free:!0},{id:"myfitnesspal",name:"MyFitnessPal",icon:a.jsx(RC,{className:"h-5 w-5 text-blue-600"}),description:"Import nutrition and exercise data from MyFitnessPal",dataPoints:["Nutrition","Calories","Exercise"],apiUrl:"https://www.myfitnesspal.com/api",free:!0},{id:"oura",name:"Oura Ring",icon:a.jsx(GQ,{className:"h-5 w-5 text-gray-400"}),description:"Import sleep and recovery data from Oura Ring",dataPoints:["Sleep","Readiness","Activity"],apiUrl:"https://cloud.ouraring.com/docs/",free:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Health Data Integrations"}),a.jsx(gt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal",children:"Beta Feature"})]}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect SafeBite with your favorite health apps and wearables to import your health data and get more personalized recommendations."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(c=>a.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[e[c.id]&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs(gt,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[a.jsx(k_,{className:"mr-1 h-3 w-3"}),"Connected"]})}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 p-2 bg-safebite-card-bg-alt rounded-md",children:c.icon}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:c.name}),c.free&&a.jsx(gt,{variant:"outline",className:"ml-2 text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:"Free API"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-2",children:c.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:c.dataPoints.map(d=>a.jsx(gt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:d},d))}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(yj,{checked:!!e[c.id],onCheckedChange:d=>{d?i(c.id):s(c.id)},disabled:r===c.id,className:"mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:e[c.id]?"Connected":"Disconnected"})]}),a.jsx(bI,{children:a.jsxs(Zz,{children:[a.jsx(Jz,{asChild:!0,children:a.jsx(Ie,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>window.open(c.apiUrl,"_blank"),children:"API Docs"})}),a.jsx(wI,{children:a.jsx("p",{children:"View API documentation"})})]})})]})]})]}),r===c.id&&a.jsx("div",{className:"absolute inset-0 bg-safebite-dark-blue/80 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fa,{className:"h-8 w-8 text-safebite-teal animate-pulse mx-auto mb-2"}),a.jsxs("p",{className:"text-safebite-text",children:["Connecting to ",c.name,"..."]})]})})]},c.id))}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-card-bg flex items-start",children:[a.jsx(Iu,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:"Note:"})," These integrations are currently in beta. To use them, you'll need to set up API keys for each service. The data will be integrated into your dashboard to provide more personalized nutrition recommendations based on your activity levels, sleep patterns, and more."]})})]})]})};class Rhe{constructor(){qi(this,"userId",null);qi(this,"db",null);qi(this,"auth",null);qi(this,"activityHistory",[]);qi(this,"userPreferences",{});qi(this,"initialized",!1);this.initialize()}async initialize(){try{if(this.initialized||(this.db=On(At),this.auth=Cr(At),this.initialized=!0,console.log("Firebase services initialized in mlService")),this.auth){const e=this.auth.currentUser;e&&(this.userId=e.uid,await this.loadUserData()),this.auth.onAuthStateChanged(async r=>{r?(this.userId=r.uid,await this.loadUserData()):(this.userId=null,this.activityHistory=[],this.userPreferences={})})}}catch(e){console.error("Error initializing mlService:",e)}}async loadUserData(){if(!(!this.userId||!this.db))try{const e=ar(this.db,"users",this.userId),r=await bn(e);if(r.exists()){const n=r.data();n.profile&&(this.userPreferences={dietaryPreference:n.profile.dietary_preferences,healthGoal:n.profile.health_goals,activityLevel:n.profile.activity_level,foodPreferences:n.profile.food_preferences||[],allergies:n.profile.allergies||[]}),n.activityHistory&&(this.activityHistory=n.activityHistory)}}catch(e){console.error("Error loading user data:",e)}}async trackActivity(e,r){if(!(!this.userId||!this.db))try{const n={timestamp:Date.now(),action:e,data:r};this.activityHistory.push(n);const i=ar(this.db,"users",this.userId);await ny(i,{activityHistory:Jq(n)}),console.log(`Tracked activity: ${e}`)}catch(n){console.error("Error tracking activity:",n)}}async trackFoodSearch(e,r){await this.trackActivity("food_search",{query:e,selectedItems:r.map(n=>({id:n.id,name:n.name,category:n.category||"unknown"}))})}async trackRecipeSearch(e,r){await this.trackActivity("recipe_search",{query:e,selectedRecipes:r.map(n=>({id:n.id,title:n.title,healthLabels:n.healthLabels||[]}))})}async trackHealthBoxInteraction(e,r){await this.trackActivity("health_box",{boxType:e,action:r})}async trackPreferenceChange(e,r){await this.trackActivity("preference_change",{preference:e,value:r})}getDefaultRecommendations(){return["Spinach","Chicken Breast","Brown Rice","Greek Yogurt","Almonds"]}getCategoryRecommendations(e){switch(e){case"protein":return["Chicken Breast","Tofu","Lentils","Salmon","Greek Yogurt"];case"carbs":return["Brown Rice","Quinoa","Sweet Potato","Oats","Whole Wheat Bread"];case"vegetables":return["Spinach","Broccoli","Kale","Bell Peppers","Carrots"];case"fruits":return["Blueberries","Apples","Bananas","Oranges","Strawberries"];case"dairy":return["Greek Yogurt","Cottage Cheese","Milk","Cheese","Kefir"];default:return this.getDefaultRecommendations()}}getHealthGoalRecommendations(e){const r=e.toLowerCase();return r.includes("weight loss")?["Leafy Greens","Lean Protein","Berries","Green Tea","Chia Seeds"]:r.includes("muscle")||r.includes("gain")?["Chicken Breast","Eggs","Salmon","Greek Yogurt","Quinoa"]:r.includes("health")?["Spinach","Blueberries","Salmon","Walnuts","Sweet Potatoes"]:this.getDefaultRecommendations()}async getFoodRecommendations(){if(!this.initialized||!this.userId||!this.db)return this.getDefaultRecommendations();try{const e=[];if(this.userPreferences.dietaryPreference){const r=this.userPreferences.dietaryPreference.toLowerCase();r.includes("vegetarian")?e.push("Tofu","Lentils","Chickpeas"):r.includes("vegan")?e.push("Tofu","Tempeh","Nutritional Yeast"):r.includes("keto")?e.push("Avocado","Eggs","Salmon"):e.push("Chicken Breast","Salmon","Eggs")}if(this.userPreferences.healthGoal){const r=this.getHealthGoalRecommendations(this.userPreferences.healthGoal);e.push(...r.slice(0,2))}if(this.userPreferences.foodPreferences&&this.userPreferences.foodPreferences.length>0){const r=Math.floor(Math.random()*this.userPreferences.foodPreferences.length),n=this.userPreferences.foodPreferences[r].toLowerCase();n.includes("indian")?e.push("Lentils","Chickpeas","Basmati Rice"):n.includes("italian")?e.push("Whole Wheat Pasta","Tomatoes","Olive Oil"):n.includes("chinese")?e.push("Bok Choy","Brown Rice","Shiitake Mushrooms"):n.includes("mexican")&&e.push("Black Beans","Avocado","Bell Peppers")}return[...new Set(e)].slice(0,5)}catch(e){return console.error("Error getting food recommendations:",e),this.getDefaultRecommendations()}}}const vj=new Rhe,n4=(t,e)=>vj.trackRecipeSearch(t,e),ho=(t,e)=>vj.trackHealthBoxInteraction(t,e),px=(t,e)=>vj.trackPreferenceChange(t,e),pb=async(t,e={})=>{try{await vj.trackActivity(t,e),console.log(`Tracked user interaction: ${t}`,e)}catch(r){console.error("Error tracking user interaction:",r)}};var Mhe="Label",NH=P.forwardRef((t,e)=>a.jsx(_t.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));NH.displayName=Mhe;var AH=NH;const Dhe=N_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lt=P.forwardRef(({className:t,...e},r)=>a.jsx(AH,{ref:r,className:Ot(Dhe(),t),...e}));Lt.displayName=AH.displayName;var UO="Radio",[Lhe,kH]=Ha(UO),[Fhe,$he]=Lhe(UO),EH=P.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:o,value:c="on",onCheck:d,form:h,...g}=t,[y,x]=P.useState(null),N=mr(e,k=>x(k)),C=P.useRef(!1),A=y?h||!!y.closest("form"):!0;return a.jsxs(Fhe,{scope:r,checked:i,disabled:o,children:[a.jsx(_t.button,{type:"button",role:"radio","aria-checked":i,"data-state":PH(i),"data-disabled":o?"":void 0,disabled:o,value:c,...g,ref:N,onClick:bt(t.onClick,k=>{i||d==null||d(),A&&(C.current=k.isPropagationStopped(),C.current||k.stopPropagation())})}),A&&a.jsx(Bhe,{control:y,bubbles:!C.current,name:n,value:c,checked:i,required:s,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});EH.displayName=UO;var TH="RadioIndicator",CH=P.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=$he(TH,r);return a.jsx(_c,{present:n||s.checked,children:a.jsx(_t.span,{"data-state":PH(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});CH.displayName=TH;var Bhe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=P.useRef(null),o=v0(r),c=i0(e);return P.useEffect(()=>{const d=s.current,h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&y){const x=new Event("click",{bubbles:n});y.call(d,r),d.dispatchEvent(x)}},[o,r,n]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function PH(t){return t?"checked":"unchecked"}var Vhe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qO="RadioGroup",[zhe,TPe]=Ha(qO,[gj,kH]),IH=gj(),OH=kH(),[Uhe,qhe]=zhe(qO),RH=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:o=!1,disabled:c=!1,orientation:d,dir:h,loop:g=!0,onValueChange:y,...x}=t,N=IH(r),C=Ky(h),[A,k]=aa({prop:s,defaultProp:i,onChange:y});return a.jsx(Uhe,{scope:r,name:n,required:o,disabled:c,value:A,onValueChange:k,children:a.jsx(sH,{asChild:!0,...N,orientation:d,dir:C,loop:g,children:a.jsx(_t.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:C,...x,ref:e})})})});RH.displayName=qO;var MH="RadioGroupItem",DH=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=qhe(MH,r),o=s.disabled||n,c=IH(r),d=OH(r),h=P.useRef(null),g=mr(e,h),y=s.value===i.value,x=P.useRef(!1);return P.useEffect(()=>{const N=A=>{Vhe.includes(A.key)&&(x.current=!0)},C=()=>x.current=!1;return document.addEventListener("keydown",N),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",N),document.removeEventListener("keyup",C)}},[]),a.jsx(aH,{asChild:!0,...c,focusable:!o,active:y,children:a.jsx(EH,{disabled:o,required:s.required,checked:y,...d,...i,name:s.name,ref:g,onCheck:()=>s.onValueChange(i.value),onKeyDown:bt(N=>{N.key==="Enter"&&N.preventDefault()}),onFocus:bt(i.onFocus,()=>{var N;x.current&&((N=h.current)==null||N.click())})})})});DH.displayName=MH;var Hhe="RadioGroupIndicator",LH=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=OH(r);return a.jsx(CH,{...i,...n,ref:e})});LH.displayName=Hhe;var FH=RH,$H=DH,Whe=LH;const HO=P.forwardRef(({className:t,...e},r)=>a.jsx(FH,{className:Ot("grid gap-2",t),...e,ref:r}));HO.displayName=FH.displayName;const ap=P.forwardRef(({className:t,...e},r)=>a.jsx($H,{ref:r,className:Ot("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Whe,{className:"flex items-center justify-center",children:a.jsx(IQ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ap.displayName=$H.displayName;function vS(t,[e,r]){return Math.min(r,Math.max(e,t))}var BH=["PageUp","PageDown"],VH=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zH={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Yy="Slider",[AP,Ghe,Khe]=Jb(Yy),[UH,CPe]=Ha(Yy,[Khe]),[Yhe,xj]=UH(Yy),qH=P.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:g,onValueChange:y=()=>{},onValueCommit:x=()=>{},inverted:N=!1,form:C,...A}=t,k=P.useRef(new Set),D=P.useRef(0),$=o==="horizontal"?Xhe:Qhe,[L=[],U]=aa({prop:g,defaultProp:h,onChange:ee=>{var Y;(Y=[...k.current][D.current])==null||Y.focus(),y(ee)}}),K=P.useRef(L);function q(ee){const X=rfe(L,ee);J(ee,X)}function V(ee){J(ee,D.current)}function Q(){const ee=K.current[D.current];L[D.current]!==ee&&x(L)}function J(ee,X,{commit:Y}={commit:!1}){const se=afe(s),pe=ofe(Math.round((ee-n)/s)*s+n,se),ce=vS(pe,[n,i]);U((me=[])=>{const he=efe(me,ce,X);if(sfe(he,d*s)){D.current=he.indexOf(ce);const Se=String(he)!==String(me);return Se&&Y&&x(he),Se?he:me}else return me})}return a.jsx(Yhe,{scope:t.__scopeSlider,name:r,disabled:c,min:n,max:i,valueIndexToChangeRef:D,thumbs:k.current,values:L,orientation:o,form:C,children:a.jsx(AP.Provider,{scope:t.__scopeSlider,children:a.jsx(AP.Slot,{scope:t.__scopeSlider,children:a.jsx($,{"aria-disabled":c,"data-disabled":c?"":void 0,...A,ref:e,onPointerDown:bt(A.onPointerDown,()=>{c||(K.current=L)}),min:n,max:i,inverted:N,onSlideStart:c?void 0:q,onSlideMove:c?void 0:V,onSlideEnd:c?void 0:Q,onHomeKeyDown:()=>!c&&J(n,0,{commit:!0}),onEndKeyDown:()=>!c&&J(i,L.length-1,{commit:!0}),onStepKeyDown:({event:ee,direction:X})=>{if(!c){const pe=BH.includes(ee.key)||ee.shiftKey&&VH.includes(ee.key)?10:1,ce=D.current,me=L[ce],he=s*pe*X;J(me+he,ce,{commit:!0})}}})})})})});qH.displayName=Yy;var[HH,WH]=UH(Yy,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xhe=P.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...g}=t,[y,x]=P.useState(null),N=mr(e,$=>x($)),C=P.useRef(),A=Ky(i),k=A==="ltr",D=k&&!s||!k&&s;function M($){const L=C.current||y.getBoundingClientRect(),U=[0,L.width],q=WO(U,D?[r,n]:[n,r]);return C.current=L,q($-L.left)}return a.jsx(HH,{scope:t.__scopeSlider,startEdge:D?"left":"right",endEdge:D?"right":"left",direction:D?1:-1,size:"width",children:a.jsx(GH,{dir:A,"data-orientation":"horizontal",...g,ref:N,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:$=>{const L=M($.clientX);o==null||o(L)},onSlideMove:$=>{const L=M($.clientX);c==null||c(L)},onSlideEnd:()=>{C.current=void 0,d==null||d()},onStepKeyDown:$=>{const U=zH[D?"from-left":"from-right"].includes($.key);h==null||h({event:$,direction:U?-1:1})}})})}),Qhe=P.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=t,g=P.useRef(null),y=mr(e,g),x=P.useRef(),N=!i;function C(A){const k=x.current||g.current.getBoundingClientRect(),D=[0,k.height],$=WO(D,N?[n,r]:[r,n]);return x.current=k,$(A-k.top)}return a.jsx(HH,{scope:t.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:a.jsx(GH,{"data-orientation":"vertical",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:A=>{const k=C(A.clientY);s==null||s(k)},onSlideMove:A=>{const k=C(A.clientY);o==null||o(k)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:A=>{const D=zH[N?"from-bottom":"from-top"].includes(A.key);d==null||d({event:A,direction:D?-1:1})}})})}),GH=P.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:d,...h}=t,g=xj(Yy,r);return a.jsx(_t.span,{...h,ref:e,onKeyDown:bt(t.onKeyDown,y=>{y.key==="Home"?(o(y),y.preventDefault()):y.key==="End"?(c(y),y.preventDefault()):BH.concat(VH).includes(y.key)&&(d(y),y.preventDefault())}),onPointerDown:bt(t.onPointerDown,y=>{const x=y.target;x.setPointerCapture(y.pointerId),y.preventDefault(),g.thumbs.has(x)?x.focus():n(y)}),onPointerMove:bt(t.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&i(y)}),onPointerUp:bt(t.onPointerUp,y=>{const x=y.target;x.hasPointerCapture(y.pointerId)&&(x.releasePointerCapture(y.pointerId),s(y))})})}),KH="SliderTrack",YH=P.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=xj(KH,r);return a.jsx(_t.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});YH.displayName=KH;var kP="SliderRange",XH=P.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=xj(kP,r),s=WH(kP,r),o=P.useRef(null),c=mr(e,o),d=i.values.length,h=i.values.map(x=>ZH(x,i.min,i.max)),g=d>1?Math.min(...h):0,y=100-Math.max(...h);return a.jsx(_t.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:c,style:{...t.style,[s.startEdge]:g+"%",[s.endEdge]:y+"%"}})});XH.displayName=kP;var EP="SliderThumb",QH=P.forwardRef((t,e)=>{const r=Ghe(t.__scopeSlider),[n,i]=P.useState(null),s=mr(e,c=>i(c)),o=P.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return a.jsx(Zhe,{...t,ref:s,index:o})}),Zhe=P.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=xj(EP,r),c=WH(EP,r),[d,h]=P.useState(null),g=mr(e,M=>h(M)),y=d?o.form||!!d.closest("form"):!0,x=i0(d),N=o.values[n],C=N===void 0?0:ZH(N,o.min,o.max),A=tfe(n,o.values.length),k=x==null?void 0:x[c.size],D=k?nfe(k,C,c.direction):0;return P.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${D}px)`},children:[a.jsx(AP.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(_t.span,{role:"slider","aria-label":t["aria-label"]||A,"aria-valuemin":o.min,"aria-valuenow":N,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:g,style:N===void 0?{display:"none"}:t.style,onFocus:bt(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),y&&a.jsx(Jhe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:N},n)]})});QH.displayName=EP;var Jhe=t=>{const{value:e,...r}=t,n=P.useRef(null),i=v0(e);return P.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&d){const h=new Event("input",{bubbles:!0});d.call(s,e),s.dispatchEvent(h)}},[i,e]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function efe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function ZH(t,e,r){const s=100/(r-e)*(t-e);return vS(s,[0,100])}function tfe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function rfe(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function nfe(t,e,r){const n=t/2,s=WO([0,50],[0,n]);return(n-s(e)*r)*r}function ife(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function sfe(t,e){if(e>0){const r=ife(t);return Math.min(...r)>=e}return!0}function WO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function afe(t){return(String(t).split(".")[1]||"").length}function ofe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var JH=qH,lfe=YH,cfe=XH,ufe=QH;const oh=P.forwardRef(({className:t,...e},r)=>a.jsxs(JH,{ref:r,className:Ot("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(lfe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(cfe,{className:"absolute h-full bg-primary"})}),a.jsx(ufe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));oh.displayName=JH.displayName;var GO="Checkbox",[dfe,PPe]=Ha(GO),[hfe,ffe]=dfe(GO),eW=P.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:d="on",onCheckedChange:h,form:g,...y}=t,[x,N]=P.useState(null),C=mr(e,L=>N(L)),A=P.useRef(!1),k=x?g||!!x.closest("form"):!0,[D=!1,M]=aa({prop:i,defaultProp:s,onChange:h}),$=P.useRef(D);return P.useEffect(()=>{const L=x==null?void 0:x.form;if(L){const U=()=>M($.current);return L.addEventListener("reset",U),()=>L.removeEventListener("reset",U)}},[x,M]),a.jsxs(hfe,{scope:r,state:D,disabled:c,children:[a.jsx(_t.button,{type:"button",role:"checkbox","aria-checked":Ch(D)?"mixed":D,"aria-required":o,"data-state":nW(D),"data-disabled":c?"":void 0,disabled:c,value:d,...y,ref:C,onKeyDown:bt(t.onKeyDown,L=>{L.key==="Enter"&&L.preventDefault()}),onClick:bt(t.onClick,L=>{M(U=>Ch(U)?!0:!U),k&&(A.current=L.isPropagationStopped(),A.current||L.stopPropagation())})}),k&&a.jsx(pfe,{control:x,bubbles:!A.current,name:n,value:d,checked:D,required:o,disabled:c,form:g,style:{transform:"translateX(-100%)"},defaultChecked:Ch(s)?!1:s})]})});eW.displayName=GO;var tW="CheckboxIndicator",rW=P.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=ffe(tW,r);return a.jsx(_c,{present:n||Ch(s.state)||s.state===!0,children:a.jsx(_t.span,{"data-state":nW(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});rW.displayName=tW;var pfe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,o=P.useRef(null),c=v0(r),d=i0(e);P.useEffect(()=>{const g=o.current,y=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(y,"checked").set;if(c!==r&&N){const C=new Event("click",{bubbles:n});g.indeterminate=Ch(r),N.call(g,Ch(r)?!1:r),g.dispatchEvent(C)}},[c,r,n]);const h=P.useRef(Ch(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...s,tabIndex:-1,ref:o,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ch(t){return t==="indeterminate"}function nW(t){return Ch(t)?"indeterminate":t?"checked":"unchecked"}var iW=eW,mfe=rW;const sW=P.forwardRef(({className:t,...e},r)=>a.jsx(iW,{ref:r,className:Ot("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(mfe,{className:Ot("flex items-center justify-center text-current"),children:a.jsx(k_,{className:"h-4 w-4"})})}));sW.displayName=iW.displayName;const aW=({onComplete:t})=>{const e=Jn(),{toast:r}=hn(),n=Cr(At),i=On(At),[s,o]=P.useState(!1),[c,d]=P.useState(!1),[h,g]=P.useState(1),y=8,[x,N]=P.useState({exercise_minutes:0,water_intake:0,sleep_hours:0,stress_level:3,home_cooked_meals:0,junk_food_consumption:0,fruit_vegetable_servings:0,health_symptoms:[]});P.useEffect(()=>{(async()=>{var M;try{const $=n.currentUser;if(!$){e("/auth/login");return}const L=ar(i,"users",$.uid),U=await bn(L);if(U.exists()){const K=U.data();if((M=K.weeklyCheckin)!=null&&M.lastSubmitted){const q=K.weeklyCheckin.lastSubmitted.toDate(),Q=Math.abs(new Date().getTime()-q.getTime());Math.ceil(Q/(1e3*60*60*24))<7&&d(!0)}}}catch($){console.error("Error checking weekly questions status:",$)}})()},[n,i,e]);const C=async()=>{o(!0);try{const D=n.currentUser;if(!D){e("/auth/login");return}const M=ar(i,"users",D.uid),$=new Date,L=Math.ceil(($.getDate()-1+new Date($.getFullYear(),$.getMonth(),1).getDay())/7),U=`${$.getFullYear()}-W${L}`;await za(M,{weeklyCheckin:{answers:x,lastSubmitted:gg(),weekIdentifier:U}},{merge:!0}),r({title:"Weekly Check-in Complete!",description:"Your responses have been saved. Check your dashboard for insights.",variant:"default"}),d(!0),t&&t()}catch(D){console.error("Error submitting weekly questions:",D),r({title:"Submission Error",description:"There was a problem saving your responses. Please try again.",variant:"destructive"})}finally{o(!1)}},A=()=>{h<y?g(h+1):C()},k=()=>{h>1&&g(h-1)};return c?a.jsxs(ht,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"text-2xl font-bold text-center flex items-center justify-center",children:[a.jsx(CM,{className:"mr-2 h-6 w-6 text-green-500"}),"Weekly Check-in Complete"]})}),a.jsxs(Mt,{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"You've already completed your weekly health check-in. Check back next week for new questions."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Visit your dashboard to see insights based on your responses."}),a.jsxs(Ie,{onClick:()=>e("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:["Go to Dashboard",a.jsx(al,{className:"ml-2 h-4 w-4"})]})]})]}):a.jsxs(ht,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsxs(Qt,{children:[a.jsx(Zt,{className:"text-2xl font-bold",children:"Weekly Health Check-in"}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"text-sm text-safebite-text-secondary",children:["Step ",h," of ",y]}),a.jsx("div",{className:"flex h-2 w-full max-w-xs bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-safebite-teal h-full transition-all duration-300",style:{width:`${h/y*100}%`}})})]})]}),a.jsxs(Mt,{children:[h===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"1"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many minutes of exercise did you get this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include any physical activity like walking, running, sports, or workouts."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(oh,{value:[x.exercise_minutes],min:0,max:300,step:5,onValueChange:D=>N({...x,exercise_minutes:D[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 min"}),a.jsx("span",{children:"150 min"}),a.jsx("span",{children:"300+ min"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:x.exercise_minutes}),a.jsx("span",{className:"text-safebite-text ml-1",children:"minutes"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:x.exercise_minutes<60?"Try to aim for at least 150 minutes per week for good health.":x.exercise_minutes<150?"Getting closer to the recommended 150 minutes per week!":"Great job! You're meeting or exceeding exercise recommendations."})]})]}),h===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many cups of water do you drink daily on average?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One cup is approximately 8 ounces or 240ml."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(oh,{value:[x.water_intake],min:0,max:12,step:1,onValueChange:D=>N({...x,water_intake:D[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 cups"}),a.jsx("span",{children:"6 cups"}),a.jsx("span",{children:"12+ cups"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:x.water_intake}),a.jsx("span",{className:"text-safebite-text ml-1",children:"cups"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:x.water_intake<4?"Try to increase your water intake for better hydration.":x.water_intake<8?"You're doing well, but try to reach 8 cups daily for optimal hydration.":"Excellent! You're well-hydrated."})]})]}),h===3&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"3"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many hours of sleep do you get on average each night?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your typical sleep pattern over the past week."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(oh,{value:[x.sleep_hours],min:0,max:12,step:.5,onValueChange:D=>N({...x,sleep_hours:D[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 hrs"}),a.jsx("span",{children:"6 hrs"}),a.jsx("span",{children:"12 hrs"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:x.sleep_hours}),a.jsx("span",{className:"text-safebite-text ml-1",children:"hours"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:x.sleep_hours<6?"Most adults need 7-9 hours of sleep for optimal health.":x.sleep_hours<7?"You're close to the recommended amount of sleep.":x.sleep_hours<=9?"Great! You're getting the recommended amount of sleep.":"You're getting more than the typical recommendation. If you feel well-rested, that's what matters!"})]})]}),h===4&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How would you rate your stress level this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your overall feelings of stress, anxiety, or tension."})]})]}),a.jsx("div",{className:"pl-11",children:a.jsxs(HO,{value:x.stress_level.toString(),onValueChange:D=>N({...x,stress_level:parseInt(D)}),className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(ap,{value:"1",id:"stress-1"}),a.jsx(Lt,{htmlFor:"stress-1",className:"flex-1 cursor-pointer",children:"Very Low - Feeling calm and relaxed"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(ap,{value:"2",id:"stress-2"}),a.jsx(Lt,{htmlFor:"stress-2",className:"flex-1 cursor-pointer",children:"Low - Occasional mild stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(ap,{value:"3",id:"stress-3"}),a.jsx(Lt,{htmlFor:"stress-3",className:"flex-1 cursor-pointer",children:"Moderate - Noticeable but manageable stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(ap,{value:"4",id:"stress-4"}),a.jsx(Lt,{htmlFor:"stress-4",className:"flex-1 cursor-pointer",children:"High - Frequent stress affecting daily life"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(ap,{value:"5",id:"stress-5"}),a.jsx(Lt,{htmlFor:"stress-5",className:"flex-1 cursor-pointer",children:"Very High - Constant stress, feeling overwhelmed"})]})]})})]}),h===5&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many home-cooked meals did you eat this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include meals prepared at home, not takeout or restaurant meals."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(oh,{value:[x.home_cooked_meals],min:0,max:21,step:1,onValueChange:D=>N({...x,home_cooked_meals:D[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 meals"}),a.jsx("span",{children:"10 meals"}),a.jsx("span",{children:"21 meals"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:x.home_cooked_meals}),a.jsx("span",{className:"text-safebite-text ml-1",children:"meals"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:x.home_cooked_meals<7?"Home-cooked meals are typically healthier. Try to increase when possible.":x.home_cooked_meals<14?"You're doing well with home cooking!":"Excellent! Most of your meals are home-cooked, which is great for nutrition."})]})]}),h===6&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many times did you eat fast food or junk food this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include fast food, processed snacks, sugary treats, etc."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(oh,{value:[x.junk_food_consumption],min:0,max:15,step:1,onValueChange:D=>N({...x,junk_food_consumption:D[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 times"}),a.jsx("span",{children:"7 times"}),a.jsx("span",{children:"15+ times"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:x.junk_food_consumption}),a.jsx("span",{className:"text-safebite-text ml-1",children:"times"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:x.junk_food_consumption<3?"Great job limiting junk food consumption!":x.junk_food_consumption<7?"Try to reduce junk food a bit more for better health.":"Consider reducing your junk food intake for better nutrition and health."})]})]}),h===7&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"7"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many servings of fruits and vegetables do you eat daily?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One serving is about 1 cup of raw vegetables or fruit, or 1/2 cup cooked."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(oh,{value:[x.fruit_vegetable_servings],min:0,max:10,step:1,onValueChange:D=>N({...x,fruit_vegetable_servings:D[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 servings"}),a.jsx("span",{children:"5 servings"}),a.jsx("span",{children:"10+ servings"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:x.fruit_vegetable_servings}),a.jsx("span",{className:"text-safebite-text ml-1",children:"servings"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:x.fruit_vegetable_servings<3?"Try to increase your fruit and vegetable intake to at least 5 servings daily.":x.fruit_vegetable_servings<5?"You're doing well, but aim for 5+ servings daily for optimal health.":"Excellent! You're meeting or exceeding the recommended fruit and vegetable intake."})]})]}),h===8&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"Have you experienced any of these symptoms this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Select all that apply. This helps us provide better health insights."})]})]}),a.jsxs("div",{className:"pl-11 space-y-3",children:[[{id:"fatigue",label:"Unusual fatigue or low energy"},{id:"headaches",label:"Frequent headaches"},{id:"digestive",label:"Digestive issues (bloating, constipation, etc.)"},{id:"joint_pain",label:"Joint pain or stiffness"},{id:"mood_swings",label:"Mood swings or irritability"},{id:"skin_issues",label:"Skin issues (rashes, acne, dryness)"},{id:"sleep_issues",label:"Difficulty sleeping"},{id:"allergies",label:"Allergy symptoms"},{id:"none",label:"None of the above"}].map(D=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sW,{id:D.id,checked:x.health_symptoms.includes(D.id),onCheckedChange:M=>{if(M)if(D.id==="none")N({...x,health_symptoms:["none"]});else{const $=x.health_symptoms.filter(L=>L!=="none");N({...x,health_symptoms:[...$,D.id]})}else N({...x,health_symptoms:x.health_symptoms.filter($=>$!==D.id)})}}),a.jsx(Lt,{htmlFor:D.id,className:"cursor-pointer",children:D.label})]},D.id)),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(vh,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"This information is used to provide personalized health insights and is kept private."})]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(Ie,{variant:"outline",onClick:k,disabled:h===1||s,className:"sci-fi-button",children:"Previous"}),a.jsx(Ie,{onClick:A,disabled:s,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ia,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):h===y?a.jsxs(a.Fragment,{children:["Submit",a.jsx(CM,{className:"ml-2 h-4 w-4"})]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(al,{className:"ml-2 h-4 w-4"})]})})]})]})]})},gfe=()=>{const[t,e]=P.useState(null),[r,n]=P.useState(""),[i,s]=P.useState(""),[o,c]=P.useState(""),[d,h]=P.useState([]),[g,y]=P.useState([]),[x,N]=P.useState(!1),[C,A]=P.useState(!1),[k,D]=P.useState({}),[M,$]=P.useState(!1),[L,U]=P.useState(!1),[K,q]=P.useState({useCalorieNinjas:!0,useFatSecret:!0,useEdamam:!0,saveSearchHistory:!0}),[V,Q]=P.useState("all"),J=Cr(At),ee=On(At),X=J.currentUser,{toast:Y}=hn(),{isGuest:se}=la();P.useEffect(()=>{(async()=>{if(X){const Ce=ar(ee,"users",X.uid);try{const Me=await bn(Ce);if(Me.exists()){const Be=Me.data(),Ue=Be.profile||{},Oe=Be.apiSettings||{};e(Ue),n(Ue.health_goals||""),s(Ue.dietary_preferences||""),c(Ue.activity_level||""),h(Ue.food_preferences||[]),y(Ue.allergies||[]),N(Ue.notificationsEnabled||!1),A(Ue.foodSafetyAlertsEnabled||!1),$(Ue.communityEnabled||!1),U(Ue.shareHealthData||!1),D(Be.healthIntegrations||{}),q({useCalorieNinjas:Oe.useCalorieNinjas!==void 0?Oe.useCalorieNinjas:!0,useFatSecret:Oe.useFatSecret!==void 0?Oe.useFatSecret:!0,useEdamam:Oe.useEdamam!==void 0?Oe.useEdamam:!0,saveSearchHistory:Oe.saveSearchHistory!==void 0?Oe.saveSearchHistory:!0}),Q(Oe.preferredApi||"all")}else console.log("No such document! Creating default profile structure."),e({})}catch(Me){console.error("Error fetching user profile:",Me)}}})()},[X,ee]);const pe=async _e=>{const Ce=_e.target.value;n(Ce),await et({health_goals:Ce}),px("health_goals",Ce)},ce=async _e=>{const Ce=_e.target.checked;N(Ce),await et({notificationsEnabled:Ce})},me=async _e=>{const Ce=_e.target.checked;A(Ce),await et({foodSafetyAlertsEnabled:Ce})},he=async _e=>{const Ce=_e.target.value;s(Ce),await et({dietary_preferences:Ce}),px("dietary_preferences",Ce)},Se=async _e=>{const Ce=_e.target.value;c(Ce),await et({activity_level:Ce}),px("activity_level",Ce)},be=async _e=>{let Ce;d.includes(_e)?Ce=d.filter(Me=>Me!==_e):Ce=[...d,_e],h(Ce),await et({food_preferences:Ce}),px("food_preferences",Ce)},ue=async _e=>{let Ce;g.includes(_e)?Ce=g.filter(Me=>Me!==_e):Ce=[...g,_e],y(Ce),await et({allergies:Ce}),px("allergies",Ce)},ge=async _e=>{const Ce=_e.target.checked;$(Ce),await et({communityEnabled:Ce})},ke=async _e=>{const Ce=_e.target.checked;U(Ce),await et({shareHealthData:Ce})},ze=async(_e,Ce)=>{if(se){Y({title:"Guest Mode",description:"Settings cannot be saved in guest mode.",variant:"destructive"});return}const Me={...K,[_e]:Ce};if(q(Me),X){const Be=ar(ee,"users",X.uid);try{await za(Be,{apiSettings:{...Me,preferredApi:V}},{merge:!0}),Y({title:"API Settings Updated",description:`${_e} setting has been updated.`})}catch(Ue){Y({title:"Error updating API settings",description:Ue.message,variant:"destructive"})}}},et=async _e=>{if(X){const Ce=ar(ee,"users",X.uid);try{await za(Ce,{profile:_e},{merge:!0}),Y({title:"Settings Updated",description:"Your settings have been updated."})}catch(Me){Y({title:"Error updating settings",description:Me.message,variant:"destructive"}),console.error("Error updating user profile:",Me)}}},Ke=async(_e,Ce)=>{if(X){const Me=ar(ee,"users",X.uid);try{const Be={...k,[_e]:Ce};D(Be),await za(Me,{healthIntegrations:Be},{merge:!0}),Y({title:Ce?"Integration Connected":"Integration Disconnected",description:`Successfully ${Ce?"connected to":"disconnected from"} the health service.`})}catch(Be){Y({title:"Error updating integration",description:Be.message,variant:"destructive"}),console.error("Error updating health integration:",Be)}}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(vl,{userProfile:t}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-4",children:"Settings"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Here you can manage your preferences and other settings."}),a.jsxs(Nc,{defaultValue:"preferences",className:"w-full",children:[a.jsxs(xl,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 mb-8",children:[a.jsxs(kr,{value:"preferences",className:"flex items-center",children:[a.jsx(QQ,{className:"mr-2 h-4 w-4"}),"Preferences"]}),a.jsxs(kr,{value:"notifications",className:"flex items-center",children:[a.jsx(A_,{className:"mr-2 h-4 w-4"}),"Notifications"]}),a.jsxs(kr,{value:"community",className:"flex items-center",children:[a.jsx(Ap,{className:"mr-2 h-4 w-4"}),"Community"]}),a.jsxs(kr,{value:"integrations",className:"flex items-center",children:[a.jsx(Pu,{className:"mr-2 h-4 w-4"}),"Health Data"]}),a.jsxs(kr,{value:"api",className:"flex items-center",children:[a.jsx($1,{className:"mr-2 h-4 w-4"}),"API Settings"]}),a.jsxs(kr,{value:"weekly-checkin",className:"flex items-center",children:[a.jsx(gu,{className:"mr-2 h-4 w-4"})," ","Weekly Check-in"]})]}),a.jsx(Dr,{value:"preferences",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Preferences"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Health Goal"}),a.jsxs("select",{className:"sci-fi-input w-full",value:r,onChange:pe,children:[a.jsx("option",{value:"",children:"Select a goal"}),a.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),a.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),a.jsx("option",{value:"General Health",children:"General Health"}),a.jsx("option",{value:"No Goal",children:"No Goal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Dietary Preference"}),a.jsxs("select",{className:"sci-fi-input w-full",value:i,onChange:he,children:[a.jsx("option",{value:"",children:"Select a preference"}),a.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),a.jsx("option",{value:"Vegan",children:"Vegan"}),a.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),a.jsx("option",{value:"Pescatarian",children:"Pescatarian"}),a.jsx("option",{value:"Keto",children:"Keto"}),a.jsx("option",{value:"Paleo",children:"Paleo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Activity Level"}),a.jsxs("select",{className:"sci-fi-input w-full",value:o,onChange:Se,children:[a.jsx("option",{value:"",children:"Select activity level"}),a.jsx("option",{value:"Sedentary",children:"Sedentary (little or no exercise)"}),a.jsx("option",{value:"Light",children:"Light (exercise 1-3 days/week)"}),a.jsx("option",{value:"Moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx("option",{value:"Active",children:"Active (exercise 6-7 days/week)"}),a.jsx("option",{value:"Very Active",children:"Very Active (intense exercise daily)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Food Preferences"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Indian","Chinese","Italian","Mexican","Thai","Japanese","Mediterranean","American"].map(_e=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`pref-${_e}`,checked:d.includes(_e),onChange:()=>be(_e),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`pref-${_e}`,className:"ml-2 text-safebite-text",children:_e})]},_e))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Allergies & Intolerances"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Gluten","Dairy","Nuts","Eggs","Soy","Shellfish","Fish","Wheat"].map(_e=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`allergy-${_e}`,checked:g.includes(_e),onChange:()=>ue(_e),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`allergy-${_e}`,className:"ml-2 text-safebite-text",children:_e})]},_e))})]})]})]})}),a.jsx(Dr,{value:"notifications",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Notifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"App Notifications"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Receive notifications about your health goals and progress"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:x,onChange:ce})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Food Safety Alerts"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Get alerts about food safety issues for products you've searched"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:C,onChange:me})]})]})]})}),a.jsx(Dr,{value:"community",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Community Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Enable Community Features"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Allow sharing and viewing community-contributed food products"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:M,onChange:ge})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Share Health Data"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Share anonymized health data to help improve recommendations"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:L,onChange:ke})]}),a.jsxs("div",{className:"p-4 sci-fi-card",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Community Contribution"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"You can contribute to the SafeBite community by sharing food products you've scanned or reviewed."}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"1"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Scan or search for a food product"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"2"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Add your review or additional information"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"3"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Share with the community"})]})]})]})]})]})}),a.jsx(Dr,{value:"integrations",className:"space-y-6",children:a.jsx(Ohe,{onIntegrationToggle:Ke,integrations:k})}),a.jsx(Dr,{value:"weekly-checkin",className:"space-y-6",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Weekly Check-in"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Answer a few questions to help us personalize your SafeBite experience."}),a.jsx(aW,{})]})}),a.jsx(Dr,{value:"api",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"API Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ht,{className:"sci-fi-card",children:[a.jsxs(Qt,{children:[a.jsxs(Zt,{className:"flex items-center",children:[a.jsx($1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Data Sources"]}),a.jsx(eb,{children:"Configure which nutrition data APIs to use for food searches"})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(gt,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"CalorieNinjas API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides detailed nutrition data for most food items"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:K.useCalorieNinjas,onChange:()=>ze("useCalorieNinjas",!K.useCalorieNinjas)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(gt,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"FatSecret API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides branded food products and restaurant meals"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:K.useFatSecret,onChange:()=>ze("useFatSecret",!K.useFatSecret)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(gt,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"Edamam API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides recipe nutrition data and food database"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:K.useEdamam,onChange:()=>ze("useEdamam",!K.useEdamam)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(gt,{className:"mr-2 bg-orange-500/20 text-orange-500 border-orange-500",children:"Coming Soon"}),"OpenFoodFacts API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Open source food products database with barcode scanning"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:!1,disabled:!0})]})]})]}),a.jsxs(ht,{className:"sci-fi-card",children:[a.jsxs(Qt,{children:[a.jsxs(Zt,{className:"flex items-center",children:[a.jsx(Fa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"API Performance"]}),a.jsx(eb,{children:"Monitor API status and performance"})]}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"CalorieNinjas API"}),a.jsx(gt,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"FatSecret API"}),a.jsx(gt,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"Edamam API"}),a.jsx(gt,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"MongoDB Connection"}),a.jsx(gt,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Connected"})]})]})})]})]})]})})]})]})})]})},bj="c2bd47af-11fb-45dd-9cac-c3aa89289d75",wj="https://api.calorieninjas.com/v1",oW=async t=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),1e4),n=await fetch(`${wj}/recipe?query=${encodeURIComponent(t)}`,{signal:e.signal,method:"GET",headers:{"X-Api-Key":bj,"Content-Type":"application/json"}});if(clearTimeout(r),!n.ok)throw new Error(`CalorieNinjas API returned status ${n.status}`);return await n.json()}catch(e){throw console.error("Error searching recipes:",e),e}},yfe=async t=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),1e4),n=await fetch(`${wj}/nutrition?query=${encodeURIComponent(t)}`,{signal:e.signal,method:"GET",headers:{"X-Api-Key":bj,"Content-Type":"application/json"}});if(clearTimeout(r),!n.ok)throw new Error(`CalorieNinjas API returned status ${n.status}`);return await n.json()}catch(e){throw console.error("Error getting nutrition from text:",e),e}},vfe=async t=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),15e3),n=new FormData;n.append("media",t);const i=await fetch(`${wj}/imagetextnutrition`,{signal:e.signal,method:"POST",headers:{"X-Api-Key":bj},body:n});if(clearTimeout(r),!i.ok)throw new Error(`CalorieNinjas API returned status ${i.status}`);return await i.json()}catch(e){throw console.error("Error getting nutrition from image:",e),e}},xfe={CALORIE_NINJAS_API_KEY:bj,CALORIE_NINJAS_API_URL:wj,searchRecipes:oW,getNutritionFromText:yfe,getNutritionFromImage:vfe},bfe=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(null),[i,s]=P.useState(!1),[o,c]=P.useState(""),[d,h]=P.useState(""),[g,y]=P.useState(""),x=Cr(At),N=On(At),{toast:C}=hn(),A=$=>{e($.target.value)},k=$=>{h($.target.value)},D=$=>{y($.target.value)},M=async $=>{$.preventDefault(),s(!0),c("");try{const L=await xfe.getNutritionFromText(t);n(L)}catch(L){c(L.message||"Failed to fetch nutrition data.")}finally{s(!1)}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue text-safebite-text p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Health Check"}),a.jsxs("form",{onSubmit:M,className:"flex items-center mb-4",children:[a.jsx("input",{type:"text",value:t,onChange:A,placeholder:"Enter a food to check",className:"sci-fi-input mr-2"}),a.jsx("button",{type:"submit",disabled:i,className:"sci-fi-button",children:i?"Loading...":"Get Nutrition"})]}),o&&a.jsx("p",{className:"text-red-500",children:o}),r&&a.jsxs("div",{className:"mt-8",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-2",children:["Nutrition Data for: ",t]}),a.jsx("pre",{className:"bg-safebite-card-bg p-4 rounded-md overflow-x-auto",children:JSON.stringify(r,null,2)})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Quick Questions"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-safebite-text-secondary mb-1",children:"How often do you eat processed foods?"}),a.jsxs("select",{className:"sci-fi-input w-full",value:d,onChange:k,children:[a.jsx("option",{value:"",children:"Select an option"}),a.jsx("option",{value:"Rarely",children:"Rarely"}),a.jsx("option",{value:"Sometimes",children:"Sometimes"}),a.jsx("option",{value:"Frequently",children:"Frequently"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-safebite-text-secondary mb-1",children:"How would you rate your overall diet quality?"}),a.jsxs("select",{className:"sci-fi-input w-full",value:g,onChange:D,children:[a.jsx("option",{value:"",children:"Select an option"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"})]})]}),a.jsx("button",{type:"button",onClick:async()=>{s(!0);try{const $=x.currentUser;if($){const L=ar(N,"users",$.uid);await za(L,{healthCheckData:{foodQuery:t,nutritionData:r,processedFoodFrequency:d,dietQuality:g}},{merge:!0}),C({title:"Health check data saved!",description:"Your health check data has been saved."})}}catch($){C({title:"Error saving health check data",description:$.message,variant:"destructive"})}finally{s(!1)}},className:"sci-fi-button",disabled:i,children:i?"Saving...":"Save Health Check Data"}),a.jsx("button",{type:"button",onClick:()=>{const $=new jsPDF;$.text("Health Check Report",10,10),$.text(`Food Query: ${t}`,10,20),$.text(`Processed Food Frequency: ${d}`,10,30),$.text(`Diet Quality: ${g}`,10,40),$.text(`Nutrition Data: ${JSON.stringify(r,null,2)}`,10,50),$.save("health_check_report.pdf")},className:"sci-fi-button",children:"Generate PDF Report"})]})]})},Jt=P.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:Ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Jt.displayName="Input";const bu=({size:t="md",text:e,className:r=""})=>{const n={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-16 w-16 border-4"};return a.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[a.jsx("div",{className:`animate-spin rounded-full border-t-transparent border-safebite-teal ${n[t]}`,"aria-label":"Loading"}),e&&a.jsx("p",{className:"mt-3 text-safebite-text-secondary",children:e})]})};class wfe{constructor(){qi(this,"auth",Cr(At));qi(this,"db",On(At));qi(this,"localActivities",[]);qi(this,"isGuest",!1);qi(this,"syncInterval",null);qi(this,"maxLocalActivities",10);this.isGuest=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true",this.setupSyncInterval(),this.auth.onAuthStateChanged(e=>{this.isGuest=!e&&(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"),this.setupSyncInterval()})}async trackActivity(e,r,n){const i=this.auth.currentUser,s=this.isGuest?d0():null,o={...n,userInfo:{isGuest:this.isGuest,name:this.isGuest?s:(i==null?void 0:i.displayName)||(i==null?void 0:i.email),timestamp:new Date().toISOString()}},c={type:e,action:r,details:o,timestamp:new Date};this.localActivities.push(c),this.saveActivityToCookies(c),this.isGuest?this.saveGuestActivity(c):this.localActivities.length>=this.maxLocalActivities&&await this.syncActivitiesWithFirebase(),console.log(`Activity tracked: ${e} - ${r} by ${this.isGuest?"Guest: "+s:"User: "+((i==null?void 0:i.displayName)||(i==null?void 0:i.email))}`)}saveActivityToCookies(e){try{const r=this.getActivitiesFromCookies();r.push({type:e.type,action:e.action,timestamp:e.timestamp.getTime()});const n=r.slice(-50);document.cookie=`safebite_activities=${JSON.stringify(n)};path=/;max-age=2592000`}catch(r){console.error("Error saving activity to cookies:",r)}}getActivitiesFromCookies(){try{const r=document.cookie.split(";").find(n=>n.trim().startsWith("safebite_activities="));if(r){const n=r.split("=")[1];return JSON.parse(decodeURIComponent(n))}return[]}catch(e){return console.error("Error getting activities from cookies:",e),[]}}async syncActivitiesWithFirebase(){try{const e=this.auth.currentUser;if(!e||this.isGuest||this.localActivities.length===0)return;const r=ar(this.db,"users",e.uid),n=ar(this.db,"user_activities",e.uid);(await bn(n)).exists()?await ny(n,{activities:Jq(...this.localActivities),lastUpdated:zn.now()}):await za(n,{activities:this.localActivities,lastUpdated:zn.now(),userId:e.uid}),await ny(r,{lastActivity:this.localActivities[this.localActivities.length-1],lastActiveAt:zn.now()},{merge:!0}),this.localActivities=[],console.log("Activities synced with Firebase")}catch(e){console.error("Error syncing activities with Firebase:",e)}}setupSyncInterval(){this.syncInterval&&(window.clearInterval(this.syncInterval),this.syncInterval=null),this.isGuest||(this.syncInterval=window.setInterval(()=>{this.localActivities.length>0&&this.syncActivitiesWithFirebase()},6e4))}saveGuestActivity(e){try{const r=localStorage.getItem("guestUserActivities");let n=[];r&&(n=JSON.parse(r)),n.push({type:e.type,action:e.action,details:e.details,timestamp:e.timestamp.toString()});const i=n.slice(-50);localStorage.setItem("guestUserActivities",JSON.stringify(i))}catch(r){console.error("Error saving guest activity to localStorage:",r)}}async getRecentActivities(e=10){try{const r=this.auth.currentUser;if(!r||this.isGuest){if(this.isGuest){const s=localStorage.getItem("guestUserActivities");if(s)return[...JSON.parse(s),...this.localActivities].slice(-e)}return this.localActivities.slice(-e)}const n=ar(this.db,"user_activities",r.uid),i=await bn(n);return i.exists()?i.data().activities.slice(-e):[]}catch(r){return console.error("Error getting recent activities:",r),[]}}async getUserActivity(e){try{if(!e)return[];const r=ar(this.db,"user_activities",e),n=await bn(r);return n.exists()?n.data().activities||[]:[]}catch(r){return console.error("Error getting user activities:",r),[]}}}const Sh=new wfe,Sfe=({open:t,onClose:e})=>{const[r,n]=P.useState(""),i=s=>{s.preventDefault();const o=r.trim()||"Guest User";B9(o),console.log("Guest name set in dialog via service:",o,{localStorage:localStorage.getItem("guestUserName"),sessionStorage:sessionStorage.getItem("guestUserName")}),Ra.extendGuestSession();try{Sh&&Sh.trackActivity("auth","guest-login",{guestName:o})}catch(c){console.error("Error tracking guest login activity:",c)}e(o)};return a.jsx(h0,{open:t,onOpenChange:s=>!s&&e(),children:a.jsxs(Fy,{className:"sm:max-w-md",children:[a.jsxs($y,{children:[a.jsxs(By,{className:"flex items-center",children:[a.jsx(Hh,{className:"mr-2 h-5 w-5"}),"Welcome to SafeBite"]}),a.jsx(Vy,{children:"Please enter your name to continue as a guest user. Your data will not be saved permanently."})]}),a.jsxs("form",{onSubmit:i,children:[a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Lt,{htmlFor:"name",className:"text-right",children:"Name"}),a.jsx(Jt,{id:"name",placeholder:"Your name",value:r,onChange:s=>n(s.target.value),className:"col-span-3",autoFocus:!0})]})}),a.jsx(v8,{children:a.jsx(Ie,{type:"submit",children:"Continue as Guest"})})]})]})})},_fe=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(""),[i,s]=P.useState(!1),[o,c]=P.useState(!1),[d,h]=P.useState(!1),[g,y]=P.useState(!1),x=Jn(),N=Gu(),{toast:C}=hn(),A=Cr(At);P.useEffect(()=>{new URLSearchParams(N.search).get("guest")==="true"&&h(!0)},[N]);const k=async U=>{U.preventDefault(),c(!0);try{await Kie(A,t,r),C({title:"Login successful",description:"Welcome back to SafeBite!"}),x("/dashboard")}catch(K){console.error("Login error:",K),C({title:"Login failed",description:K.message,variant:"destructive"})}finally{c(!1)}},D=async()=>{c(!0);const U=new nl;try{await FI(A,U),C({title:"Google login successful",description:"Welcome to SafeBite!"}),x("/dashboard")}catch(K){console.error("Google login error:",K),C({title:"Google login failed",description:K.message,variant:"destructive"})}finally{c(!1)}},M=async()=>{const U=d0();if(U){c(!0);try{await Ra.signInAsGuest(U),C({title:"Welcome back, "+U,description:"You're continuing your guest session."}),x("/dashboard")}catch(K){console.error("Guest login error:",K),C({title:"Guest login failed",description:K.message,variant:"destructive"})}finally{c(!1)}}else y(!0)},$=async U=>{if(y(!1),!!U){c(!0);try{await Ra.signInAsGuest(U),C({title:"Welcome, "+U,description:"You're now using SafeBite in guest mode. Your data won't be saved permanently."}),console.log("Guest login successful, navigating to dashboard",{guestName:U,guestMode:sessionStorage.getItem("safebite-guest-mode"),userType:localStorage.getItem("userType"),guestSessionExpires:localStorage.getItem("guestSessionExpires")}),x("/dashboard")}catch(K){console.error("Guest login error:",K),C({title:"Guest login failed",description:K.message,variant:"destructive"})}finally{c(!1)}}},L=()=>{h(!d)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:[a.jsxs(ht,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"SafeBite"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign in to access your health dashboard"})]}),a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(qg,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{id:"email",placeholder:"your.email@example.com",type:"email",className:"sci-fi-input pl-10",value:t,onChange:U=>e(U.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Lt,{htmlFor:"password",children:"Password"}),a.jsx(Nr,{to:"/auth/forgot-password",className:"text-xs text-safebite-teal hover:text-safebite-teal/80",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bp,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{id:"password",placeholder:"••••••••",type:i?"text":"password",className:"sci-fi-input pl-10",value:r,onChange:U=>n(U.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-2.5",children:i?a.jsx(DQ,{className:"h-5 w-5 text-safebite-text-secondary"}):a.jsx(LQ,{className:"h-5 w-5 text-safebite-text-secondary"})})]})]}),a.jsxs(Ie,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:o,children:[o?a.jsx(bu,{size:"sm",className:"mr-2"}):null,"Sign In"]})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-safebite-card-bg-alt"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-safebite-card-bg px-2 text-safebite-text-secondary",children:"Or continue with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Ie,{variant:"outline",className:"sci-fi-button",onClick:D,disabled:o,children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),a.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),a.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),a.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),"Google"]}),a.jsxs(Ie,{variant:"outline",className:"sci-fi-button",onClick:M,disabled:o,children:[a.jsx(Hh,{className:"mr-2 h-4 w-4"}),"Guest"]})]}),d&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ou,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Don't have an account? "}),a.jsxs("button",{onClick:L,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(Ou,{className:"h-3 w-3 mr-1"}),d?"Hide":"About"," guest mode"]})]}),a.jsx("div",{className:"flex justify-center space-x-4",children:a.jsx(Nr,{to:"/auth/signup",className:"text-safebite-teal hover:text-safebite-teal/80",children:"Sign up"})})]})]}),a.jsx(Sfe,{open:g,onClose:$})]})},jfe=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(""),[i,s]=P.useState(""),[o,c]=P.useState(""),[d,h]=P.useState(!1),[g,y]=P.useState(""),[x,N]=P.useState(!1),C=Jn(),{toast:A}=hn(),k=Cr(At),D=()=>{N(!x)},M=async U=>{if(U.preventDefault(),!t||!r||!i||!o){y("Please fill in all fields");return}if(i!==o){y("Passwords do not match");return}if(i.length<6){y("Password must be at least 6 characters long");return}h(!0),y("");try{const q=(await Gie(k,r,i)).user;await kD(q,{displayName:t}),A({title:"Account created",description:`Welcome, ${t}! Please answer a few questions to personalize your experience.`}),C("/questionnaire")}catch(K){console.error("Signup error:",K),y(K.message)}finally{h(!1)}},$=async()=>{h(!0),y("");const U=new nl;try{const q=(await FI(k,U)).user;if(!q.displayName){const V=prompt("Welcome to SafeBite! Please enter your name:");V&&await kD(q,{displayName:V})}A({title:"Account created",description:"Welcome to SafeBite! Let's get started with some questions."}),C("/questionnaire")}catch(K){console.error("Google signup error:",K),y(K.message)}finally{h(!1)}},L=async()=>{h(!0),y("");try{await Ra.signInAsGuest(),A({title:"Guest login successful",description:"You're now using SafeBite in guest mode. Your data won't be saved."}),C("/dashboard")}catch(U){console.error("Guest login error:",U),y(U.message)}finally{h(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Create Account"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Join SafeBite and start your health journey"})]}),a.jsxs("div",{className:"sci-fi-card",children:[g&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Iu,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:g})]}),a.jsx("form",{onSubmit:M,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{htmlFor:"name",className:"text-safebite-text",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ap,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{id:"name",type:"text",placeholder:"Enter your full name",value:t,onChange:U=>e(U.target.value),className:"sci-fi-input pl-10",disabled:d})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(qg,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:U=>n(U.target.value),className:"sci-fi-input pl-10",disabled:d})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{htmlFor:"password",className:"text-safebite-text",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(bp,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{id:"password",type:"password",placeholder:"Create a password",value:i,onChange:U=>s(U.target.value),className:"sci-fi-input pl-10",disabled:d})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{htmlFor:"confirm-password",className:"text-safebite-text",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(bp,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:o,onChange:U=>c(U.target.value),className:"sci-fi-input pl-10",disabled:d})]})]}),a.jsx(Ie,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:d,children:d?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating account..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(dz,{className:"mr-2 h-5 w-5"}),"Create Account"]})}),a.jsx(HI,{className:"my-6 bg-safebite-card-bg-alt"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Ie,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:$,disabled:d,children:[a.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),a.jsxs(Ie,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:L,disabled:d,children:[a.jsx(Hh,{className:"mr-2 h-5 w-5"}),"Guest"]})]}),x&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ou,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})})]})})]}),a.jsxs("div",{className:"text-center mt-6",children:[a.jsx("div",{className:"flex justify-center items-center mb-2",children:a.jsxs("button",{onClick:D,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(Ou,{className:"h-3 w-3 mr-1"}),x?"Hide":"About"," guest mode"]})}),a.jsxs("p",{className:"text-safebite-text-secondary",children:["Already have an account?"," ",a.jsx(Nr,{to:"/auth/login",className:"text-safebite-teal hover:underline",children:"Sign in"})]})]})]})})},Nfe=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(!1),[i,s]=P.useState(!1),[o,c]=P.useState(""),{toast:d}=hn(),h=async g=>{if(g.preventDefault(),!t){c("Please enter your email");return}n(!0),c("");try{setTimeout(()=>{console.log("Password reset email sent to:",t),s(!0),d({title:"Reset link sent",description:"If your email exists in our system, you'll receive a reset link shortly."})},1500)}catch(y){console.error("Password reset error:",y),c("Failed to send reset link. Please try again.")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Forgot Password"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We'll send you a link to reset your password"})]}),a.jsxs("div",{className:"sci-fi-card",children:[o&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Iu,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:o})]}),i?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 text-green-400 mb-4",children:a.jsx(qg,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text",children:"Check Your Email"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["We've sent a password reset link to ",a.jsx("span",{className:"text-safebite-teal",children:t}),". Follow the instructions in the email to reset your password."]}),a.jsx(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>s(!1),children:"Back to Reset"})]}):a.jsx("form",{onSubmit:h,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(qg,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:g=>e(g.target.value),className:"sci-fi-input pl-10",disabled:r})]})]}),a.jsx(Ie,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:r,children:r?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"Send Reset Link"})]})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs(Nr,{to:"/auth/login",className:"inline-flex items-center text-safebite-teal hover:underline",children:[a.jsx(GV,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})})};function Afe(t,e=[]){let r=[];function n(s,o){const c=P.createContext(o),d=r.length;r=[...r,o];function h(y){const{scope:x,children:N,...C}=y,A=(x==null?void 0:x[t][d])||c,k=P.useMemo(()=>C,Object.values(C));return a.jsx(A.Provider,{value:k,children:N})}function g(y,x){const N=(x==null?void 0:x[t][d])||c,C=P.useContext(N);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${y}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,g]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const d=(c==null?void 0:c[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[n,kfe(i,...e)]}function kfe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const y=d(s)[`__scope${h}`];return{...c,...y}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var KO="Progress",YO=100,[Efe,IPe]=Afe(KO),[Tfe,Cfe]=Efe(KO),lW=P.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Pfe,...o}=t;(i||i===0)&&!i4(i)&&console.error(Ife(`${i}`,"Progress"));const c=i4(i)?i:YO;n!==null&&!s4(n,c)&&console.error(Ofe(`${n}`,"Progress"));const d=s4(n,c)?n:null,h=xS(d)?s(d,c):void 0;return a.jsx(Tfe,{scope:r,value:d,max:c,children:a.jsx(_t.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":xS(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":dW(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});lW.displayName=KO;var cW="ProgressIndicator",uW=P.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Cfe(cW,r);return a.jsx(_t.div,{"data-state":dW(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});uW.displayName=cW;function Pfe(t,e){return`${Math.round(t/e*100)}%`}function dW(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xS(t){return typeof t=="number"}function i4(t){return xS(t)&&!isNaN(t)&&t>0}function s4(t,e){return xS(t)&&!isNaN(t)&&t<=e&&t>=0}function Ife(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${YO}\`.`}function Ofe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${YO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hW=lW,Rfe=uW;const mb=P.forwardRef(({className:t,value:e,...r},n)=>a.jsx(hW,{ref:n,className:Ot("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(Rfe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));mb.displayName=hW.displayName;const Mfe=({question:t,value:e,onChange:r,onNext:n,onBack:i,isFirst:s=!1,isLast:o=!1,isLoading:c=!1})=>{const[d,h]=P.useState(e),g=x=>{h(x),r(t.id,x)},y=()=>{var x;switch(t.type){case"radio":return a.jsx(HO,{value:d,onValueChange:g,children:a.jsx("div",{className:"space-y-3",children:(x=t.options)==null?void 0:x.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ap,{value:N,id:`${t.id}-${N}`,className:"border-safebite-text-secondary text-safebite-teal"}),a.jsx(Lt,{htmlFor:`${t.id}-${N}`,className:"text-safebite-text",children:N})]},N))})});case"text":return a.jsx(Jt,{type:"text",value:d||"",onChange:N=>g(N.target.value),className:"sci-fi-input mt-2"});case"slider":return a.jsxs("div",{className:"space-y-4 mt-6",children:[a.jsx(oh,{value:[d],min:t.min||0,max:t.max||100,step:t.step||1,onValueChange:N=>g(N[0]),className:"mt-2"}),a.jsxs("div",{className:"flex justify-between text-safebite-text-secondary text-sm",children:[a.jsx("span",{children:t.min}),a.jsxs("span",{className:"text-safebite-teal font-medium",children:["Current: ",d]}),a.jsx("span",{children:t.max})]})]});default:return null}};return a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:t.question}),y(),a.jsxs("div",{className:"flex justify-between mt-8",children:[s?a.jsx("div",{}):a.jsx(Ie,{type:"button",variant:"outline",onClick:i,className:"sci-fi-button",children:"Back"}),a.jsx(Ie,{type:"button",onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:c,children:c?o?"Submitting...":"Loading...":o?"Submit":"Next"})]})]})},Dfe=({achievement:t,size:e="md",showXP:r=!0,className:n=""})=>{const i={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},s={sm:24,md:32,lg:48},o=()=>{const c=s[e];switch(t.icon){case"trophy":return a.jsx(Sg,{size:c,className:"text-yellow-400"});case"award":return a.jsx(Xx,{size:c,className:"text-blue-400"});case"star":return a.jsx(Mi,{size:c,className:"text-purple-400"});case"medal":return a.jsx(HQ,{size:c,className:"text-green-400"});case"zap":return a.jsx(Fa,{size:c,className:"text-safebite-teal"});default:return a.jsx(Sg,{size:c,className:"text-yellow-400"})}};return a.jsxs("div",{className:`flex flex-col items-center ${n}`,children:[a.jsxs("div",{className:`${i[e]} relative flex items-center justify-center`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/20 blur-md"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal flex items-center justify-center bg-safebite-card-bg",children:o()}),r&&a.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-safebite-teal text-safebite-dark-blue text-xs font-bold rounded-full px-2 py-1 border border-safebite-dark-blue",children:["+",t.xp," XP"]})]}),a.jsx("h3",{className:"mt-2 text-safebite-text font-medium text-center",children:t.title}),t.completed?a.jsx(gt,{variant:"outline",className:"mt-1 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/50",children:"Completed"}):a.jsx(gt,{variant:"outline",className:"mt-1 bg-safebite-card-bg-alt text-safebite-text-secondary",children:"In Progress"})]})},Lfe=({onClose:t})=>{const[e,r]=P.useState(!1);P.useEffect(()=>{const s=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(s)},[]);const n=()=>{r(!1),setTimeout(t,300)},i={id:"questionnaire_complete",title:"Profile Complete",description:"Completed your health profile questionnaire",xp:10,icon:"trophy",completed:!0,date:new Date};return a.jsxs("div",{className:`fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:n}),a.jsxs("div",{className:"relative bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 max-w-md w-full transform transition-all duration-300 sci-fi-card",children:[a.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(qa,{size:20})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Achievement Unlocked!"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"You've earned your first achievement badge and XP points."})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(Dfe,{achievement:i,size:"lg",showXP:!0})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Continue using SafeBite to earn more achievements and XP points!"}),a.jsx(Ie,{onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Continue to Dashboard"})]})]})]})},nh=[{id:"age",type:"radio",question:"What is your age?",options:["18-25","26-35","36-45","46-55","55+"]},{id:"gender",type:"radio",question:"What is your gender?",options:["Male","Female","Other"]},{id:"height_weight",type:"text",question:"What is your height and weight? (e.g., 170cm, 70kg)"},{id:"activity_level",type:"radio",question:"What is your activity level?",options:["Sedentary","Lightly Active","Active","Very Active"]},{id:"health_conditions",type:"radio",question:"Do you have any known health conditions?",options:["Diabetes","Hypertension","Heart Issues","None"]},{id:"dietary_preferences",type:"radio",question:"Do you have any dietary preferences?",options:["Veg","Vegan","Non-Veg","Keto","Gluten-Free","Other"]},{id:"food_allergies",type:"text",question:"Do you have any food allergies? (Check common allergens or manually input)"},{id:"meals_per_day",type:"radio",question:"How many meals do you eat per day?",options:["2","3","4","5+"]},{id:"water_intake",type:"radio",question:"How much water do you drink daily?",options:["<1L","1-2L","2-3L","3L+"]},{id:"outside_food",type:"radio",question:"How often do you eat outside or order food?",options:["Rarely","Weekly","Daily"]},{id:"homemade_processed",type:"radio",question:"Do you prefer homemade or processed foods?",options:["Homemade","Processed","Mixed"]},{id:"packaged_food",type:"radio",question:"How often do you eat packaged food?",options:["Rarely","Weekly","Daily"]},{id:"food_priorities",type:"radio",question:"What do you prioritize while choosing food?",options:["Taste","Health","Price","Convenience"]},{id:"sugary_drinks",type:"radio",question:"Do you consume sugary drinks often?",options:["Yes","No","Occasionally"]},{id:"protein_source",type:"radio",question:"What’s your usual protein source?",options:["Veg","Dairy","Meat","Eggs","Mix"]},{id:"calorie_tracking",type:"radio",question:"Do you track your calorie intake?",options:["Yes","No","Sometimes"]},{id:"health_goals",type:"radio",question:"What are your health goals?",options:["Weight Loss","Muscle Gain","General Health","No Goal"]},{id:"exercise_frequency",type:"radio",question:"How often do you exercise?",options:["Never","Weekly","3-4 Times a Week","Daily"]},{id:"diet_recommendations",type:"radio",question:"Are you looking for diet & meal plan recommendations?",options:["Yes","No","Maybe Later"]},{id:"reminders",type:"radio",question:"Would you like reminders for healthy habits?",options:["Yes","No","Maybe Later"]},{id:"food_safety_alerts",type:"radio",question:"Would you like food safety alerts for the products you buy?",options:["Yes","No","Maybe Later"]},{id:"username",type:"text",question:"What name would you like us to call you?"}],Ffe=()=>{const t=Jn(),{toast:e}=hn(),[r,n]=P.useState(0),[i,s]=P.useState({}),[o,c]=P.useState(!1),[d,h]=P.useState(""),[g,y]=P.useState(!1),x=Cr(At),N=On(At);P.useEffect(()=>{const L={};nh.forEach(U=>{U.type==="radio"?L[U.id]=void 0:U.type==="text"?L[U.id]="":L[U.id]=null}),s(L)},[]);const C=(L,U)=>{s(K=>({...K,[L]:U})),h("")},A=L=>L?/^\d+(\.\d+)?cm, ?\d+(\.\d+)?kg$/.test(L.trim()):!1,k=async()=>{h("");const L=nh[r],U=i[L.id];if(["diet_recommendations","reminders","food_safety_alerts"].includes(L.id))U===void 0&&onChange(L.id,"Yes");else{if(U===void 0||U===""){h("Please answer this question before proceeding."),e({title:"Missing Answer",description:"Please answer the current question.",variant:"destructive"});return}if(L.id==="height_weight"&&!A(U)){h("Please enter height and weight in the correct format (e.g., 170cm, 70kg)"),e({title:"Invalid Format",description:"Please enter height and weight in the format '170cm, 70kg'.",variant:"destructive"});return}}if(c(!0),r===nh.length-1){const q=x.currentUser;if(q){const V=q.uid,Q=ar(N,"users",V);try{await za(Q,{profile:i,questionnaireCompleted:!0,lastWeeklyPrompt:null,achievements:{questionnaire:{completed:!0,date:new Date,xp:10}},xp:10},{merge:!0}),e({title:"Questionnaire completed!",description:"Your profile is set up. You earned 10 XP!"}),y(!0),c(!1)}catch(J){e({title:"Error saving profile",description:J.message,variant:"destructive"}),console.error("Error writing user profile to Firestore: ",J),h("Failed to save your profile. Please try again.")}finally{c(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),c(!1),t("/auth/login")}else n(q=>q+1),c(!1)},D=()=>{h(""),n(L=>Math.max(0,L-1))},M=(r+1)/nh.length*100,$=()=>{y(!1),t("/dashboard")};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:[g&&a.jsx(Lfe,{onClose:$}),a.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Let's Get to Know You"}),a.jsx("p",{className:"text-safebite-text-secondary",children:o?"Saving your profile...":"Help us personalize your SafeBite experience."})]}),o?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(bu,{size:"lg"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",r+1,"/",nh.length]}),a.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(M),"% Complete"]})]}),a.jsx(mb,{value:M,className:"h-2 bg-safebite-card-bg-alt"})]}),d&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Iu,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:d})]}),a.jsx(Mfe,{question:nh[r],value:i[nh[r].id],onChange:C,onNext:k,onBack:D,isFirst:r===0,isLast:r===nh.length-1,isLoading:o})]})]})})]})},$fe=()=>{const t=Jn();return a.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-safebite-purple bg-safebite-purple/10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ki,{className:"mr-3 h-5 w-5 text-safebite-purple"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"You're using SafeBite in guest mode"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Some features are limited. Create an account to access all features."})]})]}),a.jsx(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white",children:"Sign Up"})]})},Bfe=()=>{const t=Jn(),{toast:e}=hn(),[r,n]=P.useState(!0),[i,s]=P.useState("");return P.useEffect(()=>{const o=()=>{const d=d0(),h=localStorage.getItem("guestUserName");console.log("Guest name sources:",{sessionName:d,localName:h,localStorage:localStorage.getItem("guestUserName"),sessionStorage:sessionStorage.getItem("guestUserName")});const g=d||h||"";g?(s(g),console.log("Setting guest name to:",g)):console.log("No guest name found in any storage location")};o();const c=setInterval(o,2e3);return()=>clearInterval(c)},[]),P.useEffect(()=>{i!==void 0&&r&&(e(i?{title:`Welcome, ${i}!`,description:"You're exploring SafeBite in guest mode. Your data won't be saved when you leave.",variant:"default",duration:8e3}:{title:"Welcome to Guest Mode!",description:"Explore SafeBite's features freely. Create an account to save your progress and get personalized insights.",variant:"default",duration:8e3}),n(!1))},[e,r,i]),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden min-h-screen",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"guest-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5",className:"text-safebite-teal/50"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#guest-grid)"})]})}),a.jsx($fe,{}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsxs("div",{className:"mb-4 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-1",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple animate-gradient-text",children:["Welcome, ",i||"Guest","!"]})}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"You're exploring in Guest Mode. Sign up to unlock all features."})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:a.jsxs(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto transition-transform hover:scale-105",children:[a.jsx(Hh,{className:"mr-2 h-4 w-4"}),"Create Account"]})})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Discover Key Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(ht,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Qt,{className:"pb-3",children:a.jsxs(Zt,{className:"flex items-center text-lg",children:[a.jsx(xi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Instant Food Search"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Look up foods or scan barcodes for nutrition facts and safety insights."}),a.jsxs(Ie,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Try Search",a.jsx(al,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(ht,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Qt,{className:"pb-3",children:a.jsxs(Zt,{className:"flex items-center text-lg",children:[a.jsx(wp,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Calculators"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Use over 30 calculators for BMI, BMR, calories, and more."}),a.jsxs(Ie,{onClick:()=>t("/healthbox"),className:"w-full sci-fi-button-alt",children:["Explore Tools",a.jsx(al,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(ht,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(Qt,{className:"pb-3",children:a.jsxs(Zt,{className:"flex items-center text-lg",children:[a.jsx(F1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"AI Food Insights"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Leverage AI for deeper understanding of food ingredients and safety."}),a.jsxs(Ie,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Learn More",a.jsx(al,{className:"ml-2 h-4 w-4"})]})]})]})]})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Unlock Full Potential - Sign Up!"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(bp,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(Qt,{className:"pb-3",children:a.jsxs(Zt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(Pu,{className:"mr-2 h-5 w-5"}),"Personalized Tracking"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Log meals, track nutrition, monitor progress, and save history."}),a.jsx(Ie,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(bp,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(Qt,{className:"pb-3",children:a.jsxs(Zt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(Sg,{className:"mr-2 h-5 w-5"}),"Gamification & Goals"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Set health goals, earn badges, and track achievements."}),a.jsx(Ie,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(bp,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(Qt,{className:"pb-3",children:a.jsxs(Zt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(JV,{className:"mr-2 h-5 w-5"}),"Personalized AI"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Receive AI recommendations tailored to your health profile."}),a.jsx(Ie,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]})]})]}),a.jsx("div",{className:"relative z-10 mb-10",children:a.jsxs(ht,{className:"sci-fi-card shadow-neon-teal border-safebite-teal/50 bg-gradient-to-br from-safebite-card-bg to-safebite-card-bg-alt",children:[a.jsx(Qt,{children:a.jsx(Zt,{className:"text-center text-xl font-semibold gradient-text",children:"Why Create a Free Account?"})}),a.jsxs(Mt,{children:[a.jsxs("ul",{className:"space-y-3 mb-6",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(gu,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Save food search history & favorites"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(gu,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Get personalized AI health recommendations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(gu,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Track nutrition, activity & progress over time"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(gu,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Earn achievements & XP for healthy habits"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(gu,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Access premium features & future integrations"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 transition-transform hover:scale-105 shadow-md hover:shadow-lg",size:"lg",children:"Sign Up Free"})})]})]})}),a.jsxs("div",{className:"relative z-10 mb-10",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"What's Next?"}),a.jsxs(ht,{className:"sci-fi-card relative overflow-hidden border-orange-500/30 bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-lg bg-gradient-to-r from-orange-600 via-red-500 to-yellow-500 opacity-75 blur animate-pulse-slow"}),a.jsx("div",{className:"relative p-6 bg-safebite-card-bg-alt rounded-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center",children:[a.jsx("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:mr-6",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg",children:a.jsx(Fa,{className:"h-8 w-8 text-white"})})}),a.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[a.jsx("h3",{className:"text-xl font-semibold text-orange-400 mb-2",children:"Food Delivery Integration"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Get nutritional insights for meals from Zomato & Swiggy directly within SafeBite. Stay tuned!"}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start",children:[a.jsx(gt,{variant:"outline",className:"bg-orange-500/10 text-orange-400 border-orange-500/30",children:"Coming Soon"}),a.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Dataset preparation underway"})]})]})]})})]})]}),a.jsxs("div",{className:"text-center text-safebite-text-secondary text-sm mt-8",children:[a.jsx("p",{children:"SafeBite v2.5"}),a.jsxs("p",{className:"mt-2",children:["Guest mode provides limited functionality. ",a.jsx(Ie,{variant:"link",className:"p-0 h-auto text-safebite-teal",onClick:()=>t("/auth/signup"),children:"Sign up"})," for full access."]})]})]})},Vfe="https://safebite-backend.onrender.com/api",zfe=async(t,e)=>{try{const r=`${Vfe}/api/food-delivery?food=${encodeURIComponent(t)}&city=${encodeURIComponent(e)}`;console.log(`Fetching food delivery data from: ${r}`);const n=new AbortController,i=setTimeout(()=>n.abort(),8e3),s=await fetch(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:n.signal});if(clearTimeout(i),s.ok){const o=await s.json();return console.log("Food delivery API response:",o),o}throw console.warn(`API request failed with status: ${s.status}`),new Error(`API request failed with status: ${s.status}`)}catch(r){console.error("Error fetching food delivery data:",r),console.log("Using fallback mock data for food delivery");const n=t.toLowerCase(),i=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();let s="Various";n.includes("pizza")||n.includes("pasta")?s="Italian":n.includes("burger")?s="American":n.includes("biryani")||n.includes("paneer")||n.includes("curry")?s="Indian":n.includes("noodles")?s="Chinese":n.includes("sushi")?s="Japanese":n.includes("tacos")&&(s="Mexican");let o=[],c=[];return n.includes("pizza")?(o=["Margherita Pizza","Pepperoni Pizza","Cheese Pizza","Veggie Supreme"],c=[{name:"Margherita Pizza",price:"₹249",description:"Classic delight with 100% real mozzarella cheese",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.2,is_veg:!0},{name:"Pepperoni Pizza",price:"₹349",description:"Classic pepperoni pizza with extra cheese",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4.5,is_veg:!1},{name:"Cheese Pizza",price:"₹299",description:"Extra cheese pizza with mozzarella and cheddar",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4.3,is_veg:!0},{name:"Veggie Supreme",price:"₹399",description:"Loaded with garden fresh veggies and extra cheese",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.1,is_veg:!0}]):n.includes("burger")?(o=["Cheese Burger","Veggie Burger","Chicken Burger","Double Patty Burger"],c=[{name:"Cheese Burger",price:"₹199",description:"Classic cheese burger with fresh veggies",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4,is_veg:!1},{name:"Veggie Burger",price:"₹179",description:"Made with fresh vegetable patty and cheese",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:3.9,is_veg:!0},{name:"Chicken Burger",price:"₹229",description:"Juicy chicken patty with special sauce",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4.4,is_veg:!1},{name:"Double Patty Burger",price:"₹299",description:"Double the fun with two juicy patties",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.6,is_veg:!1}]):n.includes("biryani")?(o=["Chicken Biryani","Mutton Biryani","Veg Biryani","Hyderabadi Biryani"],c=[{name:"Chicken Biryani",price:"₹299",description:"Aromatic basmati rice cooked with tender chicken pieces",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.5,is_veg:!1},{name:"Mutton Biryani",price:"₹349",description:"Fragrant rice with tender mutton pieces",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4.7,is_veg:!1},{name:"Veg Biryani",price:"₹249",description:"Aromatic rice with mixed vegetables",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4,is_veg:!0},{name:"Hyderabadi Biryani",price:"₹329",description:"Authentic Hyderabadi style biryani with special spices",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.6,is_veg:!1}]):n.includes("paneer")?(o=["Paneer Butter Masala","Kadai Paneer","Paneer Tikka","Shahi Paneer"],c=[{name:"Paneer Butter Masala",price:"₹269",description:"Cottage cheese cooked in rich tomato and butter gravy",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.4,is_veg:!0},{name:"Kadai Paneer",price:"₹249",description:"Cottage cheese cooked with bell peppers in a spicy gravy",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4.3,is_veg:!0},{name:"Paneer Tikka",price:"₹229",description:"Marinated cottage cheese grilled to perfection",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4.5,is_veg:!0},{name:"Shahi Paneer",price:"₹279",description:"Cottage cheese in a rich and creamy gravy",image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.2,is_veg:!0}]):(o=[`${n.charAt(0).toUpperCase()+n.slice(1)} Special`,`Spicy ${n.charAt(0).toUpperCase()+n.slice(1)}`,`Classic ${n.charAt(0).toUpperCase()+n.slice(1)}`,`House ${n.charAt(0).toUpperCase()+n.slice(1)}`],c=[{name:`${n.charAt(0).toUpperCase()+n.slice(1)} Special`,price:"₹299",description:`Our chef's special ${n} preparation`,image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.3,is_veg:Math.random()>.5},{name:`Spicy ${n.charAt(0).toUpperCase()+n.slice(1)}`,price:"₹279",description:`Hot and spicy ${n} for spice lovers`,image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4.1,is_veg:Math.random()>.5},{name:`Classic ${n.charAt(0).toUpperCase()+n.slice(1)}`,price:"₹249",description:`Traditional ${n} prepared with authentic recipe`,image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/9f2f843523d0e8b9ecd9ee9ee32c1c46.jpg",rating:4,is_veg:Math.random()>.5},{name:`House ${n.charAt(0).toUpperCase()+n.slice(1)}`,price:"₹269",description:`Our signature ${n} dish`,image_url:"https://b.zmtcdn.com/data/pictures/chains/1/50691/2efa3a244c3c1e9b11499f167a7b1e2e.jpg",rating:4.2,is_veg:Math.random()>.5}]),[{restaurant:`${i} ${n.charAt(0).toUpperCase()+n.slice(1)} House`,redirect:`https://www.swiggy.com/search?query=${n.replace(" ","%20")}%20${e.toLowerCase().replace(" ","%20")}`,rating:4.2,delivery_time:"30-35 min",price_range:"₹₹",source:"Swiggy",cuisine:s,popular_dishes:o.slice(0,2),address:`Road No. 12, ${i} Central`,is_favorite:!1,dish_details:c.slice(0,2)},{restaurant:`Royal ${n.charAt(0).toUpperCase()+n.slice(1)}`,redirect:`https://www.zomato.com/search?q=${n.replace(" ","%20")}%20${e.toLowerCase().replace(" ","%20")}`,rating:4.3,delivery_time:"35-40 min",price_range:"₹₹₹",source:"Zomato",cuisine:s,popular_dishes:o.slice(1,3),address:`Banjara Hills, ${i}`,is_favorite:!1,dish_details:c.slice(1,3)},{restaurant:`The ${n.charAt(0).toUpperCase()+n.slice(1)} Factory`,redirect:`https://www.swiggy.com/search?query=${n.replace(" ","%20")}%20${e.toLowerCase().replace(" ","%20")}`,rating:4,delivery_time:"25-30 min",price_range:"₹₹₹",source:"Swiggy",cuisine:s,popular_dishes:o.slice(2,4),address:`Jubilee Hills, ${i}`,is_favorite:!1,dish_details:c.slice(2,4)},{restaurant:`${i} ${n.charAt(0).toUpperCase()+n.slice(1)} Corner`,redirect:`https://www.zomato.com/search?q=${n.replace(" ","%20")}%20${e.toLowerCase().replace(" ","%20")}`,rating:4.1,delivery_time:"30-35 min",price_range:"₹₹",source:"Zomato",cuisine:s,popular_dishes:o.slice(0,2),address:`Madhapur, ${i}`,is_favorite:!1,dish_details:c.slice(0,2)}]}},fW=async(t,e,r)=>{try{return console.log(`Toggling restaurant ${e} as ${r?"favorite":"not favorite"} for user ${t}`),!0}catch(n){return console.error("Error toggling favorite restaurant:",n),!1}},Ufe=Object.freeze(Object.defineProperty({__proto__:null,fetchNearbyRestaurants:zfe,toggleFavoriteRestaurant:fW},Symbol.toStringTag,{value:"Module"})),pW=({isOpen:t,onClose:e,currentPage:r="",userData:n=null,searchResults:i})=>{const s=Jn(),{toast:o}=hn(),c=Cr(At),d=On(At),{isGuest:h}=la(),[g,y]=P.useState(!1),[x,N]=P.useState(!1),[C,A]=P.useState("restaurants"),[k,D]=P.useState([]),[M,$]=P.useState([]),[L,U]=P.useState(""),[K,q]=P.useState(!1);P.useEffect(()=>{t&&c.currentUser&&!h&&(async()=>{try{const se=await bn(ar(d,"users",c.currentUser.uid));if(se.exists()){const pe=se.data();D(pe.favoriteRestaurants||[])}}catch(se){console.error("Error fetching favorites:",se)}})()},[t,c,d,h]),P.useEffect(()=>{if(i.length>0){const Y=i.map(se=>({...se,is_favorite:k.includes(se.restaurant)}));$(Y)}else $([])},[i,k]);const V=async Y=>{if(h){o({title:"Sign in required",description:"Please sign in to save favorites.",variant:"destructive"});return}try{const se=c.currentUser;if(!se)return;const pe=k.includes(Y),ce=pe?k.filter(me=>me!==Y):[...k,Y];D(ce),await ny(ar(d,"users",se.uid),{favoriteRestaurants:ce}),await fW(se.uid,Y,!pe),o({title:pe?"Removed from favorites":"Added to favorites",description:`${Y} has been ${pe?"removed from":"added to"} your favorites.`})}catch(se){console.error("Error toggling favorite:",se),o({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},Q=Y=>{U(Y),q(!0)};if(!t)return null;const ee=(()=>{switch(r){case"dashboard":return{title:"Food Delivery Integration",subtitle:n?`Personalized for ${n.displayName||"you"}`:"Coming Soon",description:"Get nutritional insights for your food delivery orders and make healthier choices based on your health profile."};case"nutrition":return{title:"Nutrition-Aware Food Delivery",subtitle:"Coming Soon",description:"Track nutrition from your food delivery orders and stay on top of your health goals."};case"recipes":return{title:"Order Instead of Cooking",subtitle:"Coming Soon",description:"Don't have time to cook? Order similar healthy options from your favorite restaurants."};default:return{title:"Food Delivery Integration",subtitle:"Coming Soon",description:"Get nutritional insights for your food delivery orders and make healthier choices."}}})(),X=async()=>{if(h){o({title:"Sign in required",description:"Please sign in to get notified when this feature is available.",variant:"destructive"});return}N(!0);try{const Y=c.currentUser;if(Y){const se=ar(d,"users",Y.uid),pe=await bn(se),ce=pe.exists()?pe.data():{};await za(se,{notifications:{...ce.notifications,foodDeliveryUpdates:!0}},{merge:!0}),y(!0),o({title:"Notification enabled",description:"You'll be notified when food delivery integration is available."})}}catch(Y){console.error("Error updating notification preferences:",Y),o({title:"Error",description:"Failed to enable notifications. Please try again.",variant:"destructive"})}finally{N(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(ht,{className:"w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(Qt,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(Ie,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(qa,{className:"h-5 w-5"})}),a.jsxs(Zt,{className:"text-2xl font-bold text-safebite-text flex items-center",children:[a.jsx(ZQ,{className:"mr-2 h-6 w-6 text-orange-500"}),ee.title,a.jsx(gt,{className:"ml-3 bg-orange-500 text-white",children:ee.subtitle})]})]}),a.jsxs(Mt,{className:"pt-6",children:[a.jsxs(Nc,{defaultValue:"restaurants",className:"mb-6",onValueChange:Y=>A(Y),children:[a.jsxs(xl,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsx(kr,{value:"restaurants",children:"Restaurants"}),a.jsx(kr,{value:"dishes",children:"Dishes"})]}),a.jsx(Dr,{value:"restaurants",children:M.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:M.map((Y,se)=>a.jsxs("div",{className:"bg-safebite-card-bg p-4 rounded-xl border border-safebite-teal/30 shadow-md hover:shadow-lg hover:border-safebite-teal/60 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text truncate",title:Y.restaurant,children:Y.restaurant||"Restaurant Name Unavailable"}),a.jsxs("div",{className:"flex items-center gap-2",children:[Y.source&&a.jsx(gt,{className:Y.source.toLowerCase()==="swiggy"?"bg-orange-500/20 text-orange-500 border-orange-500":"bg-red-500/20 text-red-500 border-red-500",children:Y.source}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"h-7 w-7 p-0",onClick:()=>V(Y.restaurant),children:a.jsx(oa,{className:`h-4 w-4 ${Y.is_favorite?"fill-red-500 text-red-500":"text-safebite-text-secondary"}`})})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[Y.rating&&a.jsxs(gt,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(Mi,{className:"h-3 w-3 mr-1 fill-yellow-500 text-yellow-500"}),Y.rating]}),Y.delivery_time&&a.jsxs(gt,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(pi,{className:"h-3 w-3 mr-1"}),Y.delivery_time]}),Y.price_range&&a.jsx(gt,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:Y.price_range}),Y.cuisine&&a.jsxs(gt,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(Ih,{className:"h-3 w-3 mr-1"}),Y.cuisine]})]}),Y.address&&a.jsxs("p",{className:"text-xs text-safebite-text-secondary mb-2 flex items-start",children:[a.jsx(iz,{className:"h-3 w-3 mr-1 mt-0.5 flex-shrink-0"}),Y.address]}),Y.popular_dishes&&Y.popular_dishes.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:"Popular dishes:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Y.popular_dishes.map((pe,ce)=>a.jsx(gt,{variant:"secondary",className:"text-xs bg-safebite-teal/10 text-safebite-teal",children:pe},ce))})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[Y.redirect&&a.jsx(Ie,{className:"flex-1 bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue text-sm h-8",onClick:()=>Q(Y.redirect),children:"View Menu"}),Y.redirect&&a.jsxs("a",{href:Y.redirect,className:"flex-1 inline-flex items-center justify-center bg-orange-500 hover:bg-orange-600 text-white text-sm h-8 rounded",target:"_blank",rel:"noopener noreferrer",children:["Order Now ",a.jsx(al,{className:"h-3.5 w-3.5 ml-1"})]})]})]},se))}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Ki,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4 opacity-70"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"No restaurants found for your search."}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Try a different food item or city?"})]})}),a.jsx(Dr,{value:"dishes",children:M.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:M.flatMap(Y=>(Y.dish_details||[]).map((se,pe)=>a.jsxs("div",{className:"bg-safebite-card-bg p-4 rounded-xl border border-safebite-teal/30 shadow-md hover:shadow-lg hover:border-safebite-teal/60 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text truncate",title:se.name,children:se.name}),se.is_veg!==void 0&&a.jsx(gt,{className:se.is_veg?"bg-green-500/20 text-green-500 border-green-500":"bg-red-500/20 text-red-500 border-red-500",children:se.is_veg?"Veg":"Non-Veg"})]}),se.image_url&&a.jsx("div",{className:"mb-3 rounded-md overflow-hidden h-32 bg-safebite-card-bg-alt",children:a.jsx("img",{src:se.image_url,alt:se.name,className:"w-full h-full object-cover"})}),se.description&&a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:se.description}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[se.price&&a.jsx(gt,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:se.price}),se.rating&&a.jsxs(gt,{variant:"outline",className:"bg-safebite-card-bg-alt text-safebite-text-secondary",children:[a.jsx(Mi,{className:"h-3 w-3 mr-1 fill-yellow-500 text-yellow-500"}),se.rating]})]}),a.jsxs("div",{className:"mt-3 text-xs text-safebite-text-secondary",children:["From: ",a.jsx("span",{className:"font-medium text-safebite-text",children:Y.restaurant}),Y.source&&a.jsx(gt,{className:"ml-2 text-xs",variant:"outline",children:Y.source})]}),Y.redirect&&a.jsxs("a",{href:Y.redirect,className:"text-sm mt-3 inline-block bg-orange-500 hover:bg-orange-600 px-3 py-1.5 rounded text-white font-medium transition-colors duration-200 w-full text-center",target:"_blank",rel:"noopener noreferrer",children:["Order Now ",a.jsx(al,{className:"inline-block h-3.5 w-3.5 ml-1"})]})]},`${Y.restaurant}-${pe}`)))}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Ki,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4 opacity-70"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"No dishes found for your search."}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Try a different food item or city?"})]})})]}),K&&a.jsxs("div",{className:"mb-6 border border-safebite-card-bg-alt rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between bg-safebite-card-bg p-2",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:"Restaurant Menu"}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>q(!1),children:a.jsx(qa,{className:"h-4 w-4"})})]}),a.jsx("iframe",{src:L,className:"w-full h-[400px] border-0",title:"Restaurant Menu"})]}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-4 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx(Ou,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Food Delivery Features"]}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Search for restaurants on Swiggy and Zomato in one place"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"View popular dishes and cuisine information"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Save your favorite restaurants for quick access"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Get nutritional information for restaurant meals (coming soon)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Personalized recommendations based on your health profile (coming soon)"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsx(Ie,{variant:"outline",className:"w-full sm:w-auto",onClick:e,children:"Close"}),a.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[a.jsxs(Ie,{className:"flex-1 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>s("/food-delivery"),children:["Learn More",a.jsx(al,{className:"ml-2 h-4 w-4"})]}),a.jsxs(Ie,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:X,disabled:g||x,children:[x?a.jsx(ia,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(A_,{className:"mr-2 h-4 w-4"}),g?"Notifications On":"Notify Me"]})]})]})]})]})})};var AA,a4;function ca(){if(a4)return AA;a4=1;var t=Array.isArray;return AA=t,AA}var kA,o4;function mW(){if(o4)return kA;o4=1;var t=typeof Vw=="object"&&Vw&&Vw.Object===Object&&Vw;return kA=t,kA}var EA,l4;function Ac(){if(l4)return EA;l4=1;var t=mW(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return EA=r,EA}var TA,c4;function x0(){if(c4)return TA;c4=1;var t=Ac(),e=t.Symbol;return TA=e,TA}var CA,u4;function qfe(){if(u4)return CA;u4=1;var t=x0(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var c=r.call(o,i),d=o[i];try{o[i]=void 0;var h=!0}catch{}var g=n.call(o);return h&&(c?o[i]=d:delete o[i]),g}return CA=s,CA}var PA,d4;function Hfe(){if(d4)return PA;d4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return PA=r,PA}var IA,h4;function Xu(){if(h4)return IA;h4=1;var t=x0(),e=qfe(),r=Hfe(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:n:s&&s in Object(c)?e(c):r(c)}return IA=o,IA}var OA,f4;function Qu(){if(f4)return OA;f4=1;function t(e){return e!=null&&typeof e=="object"}return OA=t,OA}var RA,p4;function Xy(){if(p4)return RA;p4=1;var t=Xu(),e=Qu(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return RA=n,RA}var MA,m4;function XO(){if(m4)return MA;m4=1;var t=ca(),e=Xy(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return MA=i,MA}var DA,g4;function Qh(){if(g4)return DA;g4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return DA=t,DA}var LA,y4;function QO(){if(y4)return LA;y4=1;var t=Xu(),e=Qh(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(c){if(!e(c))return!1;var d=t(c);return d==n||d==i||d==r||d==s}return LA=o,LA}var FA,v4;function Wfe(){if(v4)return FA;v4=1;var t=Ac(),e=t["__core-js_shared__"];return FA=e,FA}var $A,x4;function Gfe(){if(x4)return $A;x4=1;var t=Wfe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return $A=r,$A}var BA,b4;function gW(){if(b4)return BA;b4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return BA=r,BA}var VA,w4;function Kfe(){if(w4)return VA;w4=1;var t=QO(),e=Gfe(),r=Qh(),n=gW(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,h=c.hasOwnProperty,g=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(x){if(!r(x)||e(x))return!1;var N=t(x)?g:s;return N.test(n(x))}return VA=y,VA}var zA,S4;function Yfe(){if(S4)return zA;S4=1;function t(e,r){return e==null?void 0:e[r]}return zA=t,zA}var UA,_4;function Hp(){if(_4)return UA;_4=1;var t=Kfe(),e=Yfe();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return UA=r,UA}var qA,j4;function Sj(){if(j4)return qA;j4=1;var t=Hp(),e=t(Object,"create");return qA=e,qA}var HA,N4;function Xfe(){if(N4)return HA;N4=1;var t=Sj();function e(){this.__data__=t?t(null):{},this.size=0}return HA=e,HA}var WA,A4;function Qfe(){if(A4)return WA;A4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return WA=t,WA}var GA,k4;function Zfe(){if(k4)return GA;k4=1;var t=Sj(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var c=o[s];return c===e?void 0:c}return n.call(o,s)?o[s]:void 0}return GA=i,GA}var KA,E4;function Jfe(){if(E4)return KA;E4=1;var t=Sj(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return KA=n,KA}var YA,T4;function epe(){if(T4)return YA;T4=1;var t=Sj(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return YA=r,YA}var XA,C4;function tpe(){if(C4)return XA;C4=1;var t=Xfe(),e=Qfe(),r=Zfe(),n=Jfe(),i=epe();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,XA=s,XA}var QA,P4;function rpe(){if(P4)return QA;P4=1;function t(){this.__data__=[],this.size=0}return QA=t,QA}var ZA,I4;function ZO(){if(I4)return ZA;I4=1;function t(e,r){return e===r||e!==e&&r!==r}return ZA=t,ZA}var JA,O4;function _j(){if(O4)return JA;O4=1;var t=ZO();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return JA=e,JA}var ek,R4;function npe(){if(R4)return ek;R4=1;var t=_j(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():r.call(s,o,1),--this.size,!0}return ek=n,ek}var tk,M4;function ipe(){if(M4)return tk;M4=1;var t=_j();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return tk=e,tk}var rk,D4;function spe(){if(D4)return rk;D4=1;var t=_j();function e(r){return t(this.__data__,r)>-1}return rk=e,rk}var nk,L4;function ape(){if(L4)return nk;L4=1;var t=_j();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return nk=e,nk}var ik,F4;function jj(){if(F4)return ik;F4=1;var t=rpe(),e=npe(),r=ipe(),n=spe(),i=ape();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,ik=s,ik}var sk,$4;function JO(){if($4)return sk;$4=1;var t=Hp(),e=Ac(),r=t(e,"Map");return sk=r,sk}var ak,B4;function ope(){if(B4)return ak;B4=1;var t=tpe(),e=jj(),r=JO();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return ak=n,ak}var ok,V4;function lpe(){if(V4)return ok;V4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return ok=t,ok}var lk,z4;function Nj(){if(z4)return lk;z4=1;var t=lpe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return lk=e,lk}var ck,U4;function cpe(){if(U4)return ck;U4=1;var t=Nj();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ck=e,ck}var uk,q4;function upe(){if(q4)return uk;q4=1;var t=Nj();function e(r){return t(this,r).get(r)}return uk=e,uk}var dk,H4;function dpe(){if(H4)return dk;H4=1;var t=Nj();function e(r){return t(this,r).has(r)}return dk=e,dk}var hk,W4;function hpe(){if(W4)return hk;W4=1;var t=Nj();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return hk=e,hk}var fk,G4;function eR(){if(G4)return fk;G4=1;var t=ope(),e=cpe(),r=upe(),n=dpe(),i=hpe();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,fk=s,fk}var pk,K4;function yW(){if(K4)return pk;K4=1;var t=eR(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,c=i?i.apply(this,o):o[0],d=s.cache;if(d.has(c))return d.get(c);var h=n.apply(this,o);return s.cache=d.set(c,h)||d,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,pk=r,pk}var mk,Y4;function fpe(){if(Y4)return mk;Y4=1;var t=yW(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return mk=r,mk}var gk,X4;function ppe(){if(X4)return gk;X4=1;var t=fpe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,c,d,h){s.push(d?h.replace(r,"$1"):c||o)}),s});return gk=n,gk}var yk,Q4;function tR(){if(Q4)return yk;Q4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return yk=t,yk}var vk,Z4;function mpe(){if(Z4)return vk;Z4=1;var t=x0(),e=tR(),r=ca(),n=Xy(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return e(c,o)+"";if(n(c))return s?s.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return vk=o,vk}var xk,J4;function vW(){if(J4)return xk;J4=1;var t=mpe();function e(r){return r==null?"":t(r)}return xk=e,xk}var bk,e5;function xW(){if(e5)return bk;e5=1;var t=ca(),e=XO(),r=ppe(),n=vW();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return bk=i,bk}var wk,t5;function Aj(){if(t5)return wk;t5=1;var t=Xy();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return wk=e,wk}var Sk,r5;function rR(){if(r5)return Sk;r5=1;var t=xW(),e=Aj();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return Sk=r,Sk}var _k,n5;function bW(){if(n5)return _k;n5=1;var t=rR();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return _k=e,_k}var gpe=bW();const Ua=Lr(gpe);var jk,i5;function ype(){if(i5)return jk;i5=1;function t(e){return e==null}return jk=t,jk}var vpe=ype();const er=Lr(vpe);var Nk,s5;function xpe(){if(s5)return Nk;s5=1;var t=Xu(),e=ca(),r=Qu(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Nk=i,Nk}var bpe=xpe();const b0=Lr(bpe);var wpe=QO();const Ht=Lr(wpe);var Spe=Qh();const Qy=Lr(Spe);var Ak={exports:{}},qr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function _pe(){if(a5)return qr;a5=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),C;C=Symbol.for("react.module.reference");function A(k){if(typeof k=="object"&&k!==null){var D=k.$$typeof;switch(D){case t:switch(k=k.type,k){case r:case i:case n:case h:case g:return k;default:switch(k=k&&k.$$typeof,k){case c:case o:case d:case x:case y:case s:return k;default:return D}}case e:return D}}}return qr.ContextConsumer=o,qr.ContextProvider=s,qr.Element=t,qr.ForwardRef=d,qr.Fragment=r,qr.Lazy=x,qr.Memo=y,qr.Portal=e,qr.Profiler=i,qr.StrictMode=n,qr.Suspense=h,qr.SuspenseList=g,qr.isAsyncMode=function(){return!1},qr.isConcurrentMode=function(){return!1},qr.isContextConsumer=function(k){return A(k)===o},qr.isContextProvider=function(k){return A(k)===s},qr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},qr.isForwardRef=function(k){return A(k)===d},qr.isFragment=function(k){return A(k)===r},qr.isLazy=function(k){return A(k)===x},qr.isMemo=function(k){return A(k)===y},qr.isPortal=function(k){return A(k)===e},qr.isProfiler=function(k){return A(k)===i},qr.isStrictMode=function(k){return A(k)===n},qr.isSuspense=function(k){return A(k)===h},qr.isSuspenseList=function(k){return A(k)===g},qr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===i||k===n||k===h||k===g||k===N||typeof k=="object"&&k!==null&&(k.$$typeof===x||k.$$typeof===y||k.$$typeof===s||k.$$typeof===o||k.$$typeof===d||k.$$typeof===C||k.getModuleId!==void 0)},qr.typeOf=A,qr}var o5;function jpe(){return o5||(o5=1,Ak.exports=_pe()),Ak.exports}var wW=jpe(),kk,l5;function SW(){if(l5)return kk;l5=1;var t=Xu(),e=Qu(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return kk=n,kk}var Ek,c5;function Npe(){if(c5)return Ek;c5=1;var t=SW();function e(r){return t(r)&&r!=+r}return Ek=e,Ek}var Ape=Npe();const Zy=Lr(Ape);var kpe=SW();const Epe=Lr(kpe);var Os=function(e){return e===0?0:e>0?1:-1},dp=function(e){return b0(e)&&e.indexOf("%")===e.length-1},it=function(e){return Epe(e)&&!Zy(e)},gi=function(e){return it(e)||b0(e)},Tpe=0,Jy=function(e){var r=++Tpe;return"".concat(e||"").concat(r)},Rs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!it(e)&&!b0(e))return n;var s;if(dp(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Zy(s)&&(s=n),i&&s>r&&(s=r),s},hh=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Cpe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ta=function(e,r){return it(e)&&it(r)?function(n){return e+n*(r-e)}:function(){return r}};function bS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ua(n,e))===r})}function Pg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function TP(t){"@babel/helpers - typeof";return TP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TP(t)}var Ppe=["viewBox","children"],Ipe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],u5=["points","pathLength"],Tk={svg:Ppe,polygon:u5,polyline:u5},nR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wS=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!Qy(n))return null;var i={};return Object.keys(n).forEach(function(s){nR.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},Ope=function(e,r,n){return function(i){return e(r,n,i),null}},Mp=function(e,r,n){if(!Qy(e)||TP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];nR.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Ope(o,r,n))}),i},Rpe=["children"],Mpe=["children"];function d5(t,e){if(t==null)return{};var r=Dpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CP(t){"@babel/helpers - typeof";return CP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CP(t)}var h5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Eu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},f5=null,Ck=null,iR=function t(e){if(e===f5&&Array.isArray(Ck))return Ck;var r=[];return P.Children.forEach(e,function(n){er(n)||(wW.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ck=r,f5=e,r};function mo(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Eu(i)}):n=[Eu(e)],iR(t).forEach(function(i){var s=Ua(i,"type.displayName")||Ua(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Ia(t,e){var r=mo(t,e);return r&&r[0]}var p5=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!it(n)||n<=0||!it(i)||i<=0)},Lpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fpe=function(e){return e&&e.type&&b0(e.type)&&Lpe.indexOf(e.type)>=0},$pe=function(e){return e&&CP(e)==="object"&&"clipDot"in e},Bpe=function(e,r,n,i){var s,o=(s=Tk==null?void 0:Tk[i])!==null&&s!==void 0?s:[];return!Ht(e)&&(i&&o.includes(r)||Ipe.includes(r))||n&&nR.includes(r)},Tt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!Qy(i))return null;var s={};return Object.keys(i).forEach(function(o){var c;Bpe((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(s[o]=i[o])}),s},PP=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return m5(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!m5(s,o))return!1}return!0},m5=function(e,r){if(er(e)&&er(r))return!0;if(!er(e)&&!er(r)){var n=e.props||{},i=n.children,s=d5(n,Rpe),o=r.props||{},c=o.children,d=d5(o,Mpe);return i&&c?Pg(s,d)&&PP(i,c):!i&&!c?Pg(s,d):!1}return!1},g5=function(e,r){var n=[],i={};return iR(e).forEach(function(s,o){if(Fpe(s))n.push(s);else if(s){var c=Eu(s.type),d=r[c]||{},h=d.handler,g=d.once;if(h&&(!g||!i[c])){var y=h(s,c,o);n.push(y),i[c]=!0}}}),n},Vpe=function(e){var r=e&&e.type;return r&&h5[r]?h5[r]:null},zpe=function(e,r){return iR(r).indexOf(e)},Upe=["children","width","height","viewBox","className","style","title","desc"];function IP(){return IP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IP.apply(this,arguments)}function qpe(t,e){if(t==null)return{};var r=Hpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OP(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,c=t.title,d=t.desc,h=qpe(t,Upe),g=i||{width:r,height:n,x:0,y:0},y=tr("recharts-surface",s);return de.createElement("svg",IP({},Tt(h,!0,"svg"),{className:y,width:r,height:n,style:o,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),de.createElement("title",null,c),de.createElement("desc",null,d),e)}var Wpe=["children","className"];function RP(){return RP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RP.apply(this,arguments)}function Gpe(t,e){if(t==null)return{};var r=Kpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ar=de.forwardRef(function(t,e){var r=t.children,n=t.className,i=Gpe(t,Wpe),s=tr("recharts-layer",n);return de.createElement("g",RP({className:s},Tt(i,!0),{ref:e}),r)}),dl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Pk,y5;function Ype(){if(y5)return Pk;y5=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return Pk=t,Pk}var Ik,v5;function Xpe(){if(v5)return Ik;v5=1;var t=Ype();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return Ik=e,Ik}var Ok,x5;function _W(){if(x5)return Ok;x5=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+s+"]");function d(h){return c.test(h)}return Ok=d,Ok}var Rk,b5;function Qpe(){if(b5)return Rk;b5=1;function t(e){return e.split("")}return Rk=t,Rk}var Mk,w5;function Zpe(){if(w5)return Mk;w5=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+d+")",g="[^"+t+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",N="\\u200d",C=h+"?",A="["+s+"]?",k="(?:"+N+"(?:"+[g,y,x].join("|")+")"+A+C+")*",D=A+C+k,M="(?:"+[g+c+"?",c,y,x,o].join("|")+")",$=RegExp(d+"(?="+d+")|"+M+D,"g");function L(U){return U.match($)||[]}return Mk=L,Mk}var Dk,S5;function Jpe(){if(S5)return Dk;S5=1;var t=Qpe(),e=_W(),r=Zpe();function n(i){return e(i)?r(i):t(i)}return Dk=n,Dk}var Lk,_5;function eme(){if(_5)return Lk;_5=1;var t=Xpe(),e=_W(),r=Jpe(),n=vW();function i(s){return function(o){o=n(o);var c=e(o)?r(o):void 0,d=c?c[0]:o.charAt(0),h=c?t(c,1).join(""):o.slice(1);return d[s]()+h}}return Lk=i,Lk}var Fk,j5;function tme(){if(j5)return Fk;j5=1;var t=eme(),e=t("toUpperCase");return Fk=e,Fk}var rme=tme();const kj=Lr(rme);function un(t){return function(){return t}}const jW=Math.cos,SS=Math.sin,bl=Math.sqrt,_S=Math.PI,Ej=2*_S,MP=Math.PI,DP=2*MP,ip=1e-6,nme=DP-ip;function NW(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function ime(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NW;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class sme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NW:ime(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,d=n-e,h=i-r,g=o-e,y=c-r,x=g*g+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(x>ip)if(!(Math.abs(y*d-h*g)>ip)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let N=n-o,C=i-c,A=d*d+h*h,k=N*N+C*C,D=Math.sqrt(A),M=Math.sqrt(x),$=s*Math.tan((MP-Math.acos((A+x-k)/(2*D*M)))/2),L=$/M,U=$/D;Math.abs(L-1)>ip&&this._append`L${e+L*g},${r+L*y}`,this._append`A${s},${s},0,0,${+(y*N>g*C)},${this._x1=e+U*d},${this._y1=r+U*h}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),h=e+c,g=r+d,y=1^o,x=o?i-s:s-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>ip||Math.abs(this._y1-g)>ip)&&this._append`L${h},${g}`,n&&(x<0&&(x=x%DP+DP),x>nme?this._append`A${n},${n},0,1,${y},${e-c},${r-d}A${n},${n},0,1,${y},${this._x1=h},${this._y1=g}`:x>ip&&this._append`A${n},${n},0,${+(x>=MP)},${y},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function sR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new sme(e)}function aR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function AW(t){this._context=t}AW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Tj(t){return new AW(t)}function kW(t){return t[0]}function EW(t){return t[1]}function TW(t,e){var r=un(!0),n=null,i=Tj,s=null,o=sR(c);t=typeof t=="function"?t:t===void 0?kW:un(t),e=typeof e=="function"?e:e===void 0?EW:un(e);function c(d){var h,g=(d=aR(d)).length,y,x=!1,N;for(n==null&&(s=i(N=o())),h=0;h<=g;++h)!(h<g&&r(y=d[h],h,d))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(y,h,d),+e(y,h,d));if(N)return s=null,N+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:un(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:un(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:un(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),c):n},c}function s1(t,e,r){var n=null,i=un(!0),s=null,o=Tj,c=null,d=sR(h);t=typeof t=="function"?t:t===void 0?kW:un(+t),e=typeof e=="function"?e:un(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?EW:un(+r);function h(y){var x,N,C,A=(y=aR(y)).length,k,D=!1,M,$=new Array(A),L=new Array(A);for(s==null&&(c=o(M=d())),x=0;x<=A;++x){if(!(x<A&&i(k=y[x],x,y))===D)if(D=!D)N=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),C=x-1;C>=N;--C)c.point($[C],L[C]);c.lineEnd(),c.areaEnd()}D&&($[x]=+t(k,x,y),L[x]=+e(k,x,y),c.point(n?+n(k,x,y):$[x],r?+r(k,x,y):L[x]))}if(M)return c=null,M+""||null}function g(){return TW().defined(i).curve(o).context(s)}return h.x=function(y){return arguments.length?(t=typeof y=="function"?y:un(+y),n=null,h):t},h.x0=function(y){return arguments.length?(t=typeof y=="function"?y:un(+y),h):t},h.x1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:un(+y),h):n},h.y=function(y){return arguments.length?(e=typeof y=="function"?y:un(+y),r=null,h):e},h.y0=function(y){return arguments.length?(e=typeof y=="function"?y:un(+y),h):e},h.y1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:un(+y),h):r},h.lineX0=h.lineY0=function(){return g().x(t).y(e)},h.lineY1=function(){return g().x(t).y(r)},h.lineX1=function(){return g().x(n).y(e)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:un(!!y),h):i},h.curve=function(y){return arguments.length?(o=y,s!=null&&(c=o(s)),h):o},h.context=function(y){return arguments.length?(y==null?s=c=null:c=o(s=y),h):s},h}class CW{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function ame(t){return new CW(t,!0)}function ome(t){return new CW(t,!1)}const oR={draw(t,e){const r=bl(e/_S);t.moveTo(r,0),t.arc(0,0,r,0,Ej)}},lme={draw(t,e){const r=bl(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},PW=bl(1/3),cme=PW*2,ume={draw(t,e){const r=bl(e/cme),n=r*PW;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},dme={draw(t,e){const r=bl(e),n=-r/2;t.rect(n,n,r,r)}},hme=.8908130915292852,IW=SS(_S/10)/SS(7*_S/10),fme=SS(Ej/10)*IW,pme=-jW(Ej/10)*IW,mme={draw(t,e){const r=bl(e*hme),n=fme*r,i=pme*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=Ej*s/5,c=jW(o),d=SS(o);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*i,d*n+c*i)}t.closePath()}},$k=bl(3),gme={draw(t,e){const r=-bl(e/($k*3));t.moveTo(0,r*2),t.lineTo(-$k*r,-r),t.lineTo($k*r,-r),t.closePath()}},ao=-.5,oo=bl(3)/2,LP=1/bl(12),yme=(LP/2+1)*3,vme={draw(t,e){const r=bl(e/yme),n=r/2,i=r*LP,s=n,o=r*LP+r,c=-s,d=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(c,d),t.lineTo(ao*n-oo*i,oo*n+ao*i),t.lineTo(ao*s-oo*o,oo*s+ao*o),t.lineTo(ao*c-oo*d,oo*c+ao*d),t.lineTo(ao*n+oo*i,ao*i-oo*n),t.lineTo(ao*s+oo*o,ao*o-oo*s),t.lineTo(ao*c+oo*d,ao*d-oo*c),t.closePath()}};function xme(t,e){let r=null,n=sR(i);t=typeof t=="function"?t:un(t||oR),e=typeof e=="function"?e:un(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:un(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:un(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function jS(){}function NS(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function OW(t){this._context=t}OW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:NS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:NS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bme(t){return new OW(t)}function RW(t){this._context=t}RW.prototype={areaStart:jS,areaEnd:jS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:NS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wme(t){return new RW(t)}function MW(t){this._context=t}MW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:NS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sme(t){return new MW(t)}function DW(t){this._context=t}DW.prototype={areaStart:jS,areaEnd:jS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _me(t){return new DW(t)}function N5(t){return t<0?-1:1}function A5(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),c=(s*i+o*n)/(n+i);return(N5(s)+N5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function k5(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Bk(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,i+c*e,s-c,o-c*r,s,o)}function AS(t){this._context=t}AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bk(this,this._t0,k5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bk(this,k5(this,r=A5(this,t,e)),r);break;default:Bk(this,this._t0,r=A5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function LW(t){this._context=new FW(t)}(LW.prototype=Object.create(AS.prototype)).point=function(t,e){AS.prototype.point.call(this,e,t)};function FW(t){this._context=t}FW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function jme(t){return new AS(t)}function Nme(t){return new LW(t)}function $W(t){this._context=t}$W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=E5(t),i=E5(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function E5(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Ame(t){return new $W(t)}function Cj(t,e){this._context=t,this._t=e}Cj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function kme(t){return new Cj(t,.5)}function Eme(t){return new Cj(t,0)}function Tme(t){return new Cj(t,1)}function iy(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,c=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function FP(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Cme(t,e){return t[e]}function Pme(t){const e=[];return e.key=t,e}function Ime(){var t=un([]),e=FP,r=iy,n=Cme;function i(s){var o=Array.from(t.apply(this,arguments),Pme),c,d=o.length,h=-1,g;for(const y of s)for(c=0,++h;c<d;++c)(o[c][h]=[0,+n(y,o[c].key,h,s)]).data=y;for(c=0,g=aR(e(o));c<d;++c)o[g[c]].index=c;return r(o,g),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:un(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:un(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?FP:typeof s=="function"?s:un(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??iy,i):r},i}function Ome(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}iy(t,e)}}function Rme(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,c=0;o<i;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}iy(t,e)}}function Mme(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var c=0,d=0,h=0;c<o;++c){for(var g=t[e[c]],y=g[n][1]||0,x=g[n-1][1]||0,N=(y-x)/2,C=0;C<c;++C){var A=t[e[C]],k=A[n][1]||0,D=A[n-1][1]||0;N+=k-D}d+=y,h+=N*y}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,iy(t,e)}}function gb(t){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}var Dme=["type","size","sizeType"];function $P(){return $P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$P.apply(this,arguments)}function T5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(r),!0).forEach(function(n){Lme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lme(t,e,r){return e=Fme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fme(t){var e=$me(t,"string");return gb(e)=="symbol"?e:e+""}function $me(t,e){if(gb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bme(t,e){if(t==null)return{};var r=Vme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var BW={symbolCircle:oR,symbolCross:lme,symbolDiamond:ume,symbolSquare:dme,symbolStar:mme,symbolTriangle:gme,symbolWye:vme},zme=Math.PI/180,Ume=function(e){var r="symbol".concat(kj(e));return BW[r]||oR},qme=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zme;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Hme=function(e,r){BW["symbol".concat(kj(e))]=r},lR=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,d=Bme(e,Dme),h=C5(C5({},d),{},{type:n,size:s,sizeType:c}),g=function(){var k=Ume(n),D=xme().type(k).size(qme(s,c,n));return D()},y=h.className,x=h.cx,N=h.cy,C=Tt(h,!0);return x===+x&&N===+N&&s===+s?de.createElement("path",$P({},C,{className:tr("recharts-symbols",y),transform:"translate(".concat(x,", ").concat(N,")"),d:g()})):null};lR.registerSymbol=Hme;function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function BP(){return BP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BP.apply(this,arguments)}function P5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(r),!0).forEach(function(n){yb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zW(n.key),n)}}function Yme(t,e,r){return e&&Kme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xme(t,e,r){return e=kS(e),Qme(t,VW()?Reflect.construct(e,r||[],kS(t).constructor):e.apply(t,r))}function Qme(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zme(t)}function Zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!t})()}function kS(t){return kS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kS(t)}function Jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VP(t,e)}function VP(t,e){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VP(t,e)}function yb(t,e,r){return e=zW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zW(t){var e=ege(t,"string");return sy(e)=="symbol"?e:e+""}function ege(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yo=32,cR=function(t){function e(){return Gme(this,e),Xme(this,e,arguments)}return Jme(e,t),Yme(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Yo/2,o=Yo/6,c=Yo/3,d=n.inactive?i:n.color;if(n.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Yo,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Yo,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return de.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Yo/8,"h").concat(Yo,"v").concat(Yo*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(de.isValidElement(n.legendIcon)){var h=Wme({},n);return delete h.legendIcon,de.cloneElement(n.legendIcon,h)}return de.createElement(lR,{fill:d,cx:s,cy:s,size:Yo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,c=i.layout,d=i.formatter,h=i.inactiveColor,g={x:0,y:0,width:Yo,height:Yo},y={display:c==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(N,C){var A=N.formatter||d,k=tr(yb(yb({"recharts-legend-item":!0},"legend-item-".concat(C),!0),"inactive",N.inactive));if(N.type==="none")return null;var D=Ht(N.value)?null:N.value;dl(!Ht(N.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=N.inactive?h:N.color;return de.createElement("li",BP({className:k,style:y,key:"legend-item-".concat(C)},Mp(n.props,N,C)),de.createElement(OP,{width:o,height:o,viewBox:g,style:x},n.renderIcon(N)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},A?A(D,N,C):D))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(P.PureComponent);yb(cR,"displayName","Legend");yb(cR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Vk,I5;function tge(){if(I5)return Vk;I5=1;var t=jj();function e(){this.__data__=new t,this.size=0}return Vk=e,Vk}var zk,O5;function rge(){if(O5)return zk;O5=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return zk=t,zk}var Uk,R5;function nge(){if(R5)return Uk;R5=1;function t(e){return this.__data__.get(e)}return Uk=t,Uk}var qk,M5;function ige(){if(M5)return qk;M5=1;function t(e){return this.__data__.has(e)}return qk=t,qk}var Hk,D5;function sge(){if(D5)return Hk;D5=1;var t=jj(),e=JO(),r=eR(),n=200;function i(s,o){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([s,o]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(s,o),this.size=c.size,this}return Hk=i,Hk}var Wk,L5;function UW(){if(L5)return Wk;L5=1;var t=jj(),e=tge(),r=rge(),n=nge(),i=ige(),s=sge();function o(c){var d=this.__data__=new t(c);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,Wk=o,Wk}var Gk,F5;function age(){if(F5)return Gk;F5=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Gk=e,Gk}var Kk,$5;function oge(){if($5)return Kk;$5=1;function t(e){return this.__data__.has(e)}return Kk=t,Kk}var Yk,B5;function qW(){if(B5)return Yk;B5=1;var t=eR(),e=age(),r=oge();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Yk=n,Yk}var Xk,V5;function HW(){if(V5)return Xk;V5=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Xk=t,Xk}var Qk,z5;function WW(){if(z5)return Qk;z5=1;function t(e,r){return e.has(r)}return Qk=t,Qk}var Zk,U5;function GW(){if(U5)return Zk;U5=1;var t=qW(),e=HW(),r=WW(),n=1,i=2;function s(o,c,d,h,g,y){var x=d&n,N=o.length,C=c.length;if(N!=C&&!(x&&C>N))return!1;var A=y.get(o),k=y.get(c);if(A&&k)return A==c&&k==o;var D=-1,M=!0,$=d&i?new t:void 0;for(y.set(o,c),y.set(c,o);++D<N;){var L=o[D],U=c[D];if(h)var K=x?h(U,L,D,c,o,y):h(L,U,D,o,c,y);if(K!==void 0){if(K)continue;M=!1;break}if($){if(!e(c,function(q,V){if(!r($,V)&&(L===q||g(L,q,d,h,y)))return $.push(V)})){M=!1;break}}else if(!(L===U||g(L,U,d,h,y))){M=!1;break}}return y.delete(o),y.delete(c),M}return Zk=s,Zk}var Jk,q5;function lge(){if(q5)return Jk;q5=1;var t=Ac(),e=t.Uint8Array;return Jk=e,Jk}var eE,H5;function cge(){if(H5)return eE;H5=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return eE=t,eE}var tE,W5;function uR(){if(W5)return tE;W5=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return tE=t,tE}var rE,G5;function uge(){if(G5)return rE;G5=1;var t=x0(),e=lge(),r=ZO(),n=GW(),i=cge(),s=uR(),o=1,c=2,d="[object Boolean]",h="[object Date]",g="[object Error]",y="[object Map]",x="[object Number]",N="[object RegExp]",C="[object Set]",A="[object String]",k="[object Symbol]",D="[object ArrayBuffer]",M="[object DataView]",$=t?t.prototype:void 0,L=$?$.valueOf:void 0;function U(K,q,V,Q,J,ee,X){switch(V){case M:if(K.byteLength!=q.byteLength||K.byteOffset!=q.byteOffset)return!1;K=K.buffer,q=q.buffer;case D:return!(K.byteLength!=q.byteLength||!ee(new e(K),new e(q)));case d:case h:case x:return r(+K,+q);case g:return K.name==q.name&&K.message==q.message;case N:case A:return K==q+"";case y:var Y=i;case C:var se=Q&o;if(Y||(Y=s),K.size!=q.size&&!se)return!1;var pe=X.get(K);if(pe)return pe==q;Q|=c,X.set(K,q);var ce=n(Y(K),Y(q),Q,J,ee,X);return X.delete(K),ce;case k:if(L)return L.call(K)==L.call(q)}return!1}return rE=U,rE}var nE,K5;function KW(){if(K5)return nE;K5=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return nE=t,nE}var iE,Y5;function dge(){if(Y5)return iE;Y5=1;var t=KW(),e=ca();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return iE=r,iE}var sE,X5;function hge(){if(X5)return sE;X5=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var c=e[n];r(c,n,e)&&(o[s++]=c)}return o}return sE=t,sE}var aE,Q5;function fge(){if(Q5)return aE;Q5=1;function t(){return[]}return aE=t,aE}var oE,Z5;function pge(){if(Z5)return oE;Z5=1;var t=hge(),e=fge(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return n.call(o,c)}))}:e;return oE=s,oE}var lE,J5;function mge(){if(J5)return lE;J5=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return lE=t,lE}var cE,e3;function gge(){if(e3)return cE;e3=1;var t=Xu(),e=Qu(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return cE=n,cE}var uE,t3;function dR(){if(t3)return uE;t3=1;var t=gge(),e=Qu(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return uE=s,uE}var Px={exports:{}},dE,r3;function yge(){if(r3)return dE;r3=1;function t(){return!1}return dE=t,dE}Px.exports;var n3;function YW(){return n3||(n3=1,function(t,e){var r=Ac(),n=yge(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,c=o?r.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||n;t.exports=h}(Px,Px.exports)),Px.exports}var hE,i3;function hR(){if(i3)return hE;i3=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return hE=r,hE}var fE,s3;function fR(){if(s3)return fE;s3=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return fE=e,fE}var pE,a3;function vge(){if(a3)return pE;a3=1;var t=Xu(),e=fR(),r=Qu(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",g="[object Number]",y="[object Object]",x="[object RegExp]",N="[object Set]",C="[object String]",A="[object WeakMap]",k="[object ArrayBuffer]",D="[object DataView]",M="[object Float32Array]",$="[object Float64Array]",L="[object Int8Array]",U="[object Int16Array]",K="[object Int32Array]",q="[object Uint8Array]",V="[object Uint8ClampedArray]",Q="[object Uint16Array]",J="[object Uint32Array]",ee={};ee[M]=ee[$]=ee[L]=ee[U]=ee[K]=ee[q]=ee[V]=ee[Q]=ee[J]=!0,ee[n]=ee[i]=ee[k]=ee[s]=ee[D]=ee[o]=ee[c]=ee[d]=ee[h]=ee[g]=ee[y]=ee[x]=ee[N]=ee[C]=ee[A]=!1;function X(Y){return r(Y)&&e(Y.length)&&!!ee[t(Y)]}return pE=X,pE}var mE,o3;function XW(){if(o3)return mE;o3=1;function t(e){return function(r){return e(r)}}return mE=t,mE}var Ix={exports:{}};Ix.exports;var l3;function xge(){return l3||(l3=1,function(t,e){var r=mW(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();t.exports=c}(Ix,Ix.exports)),Ix.exports}var gE,c3;function QW(){if(c3)return gE;c3=1;var t=vge(),e=XW(),r=xge(),n=r&&r.isTypedArray,i=n?e(n):t;return gE=i,gE}var yE,u3;function bge(){if(u3)return yE;u3=1;var t=mge(),e=dR(),r=ca(),n=YW(),i=hR(),s=QW(),o=Object.prototype,c=o.hasOwnProperty;function d(h,g){var y=r(h),x=!y&&e(h),N=!y&&!x&&n(h),C=!y&&!x&&!N&&s(h),A=y||x||N||C,k=A?t(h.length,String):[],D=k.length;for(var M in h)(g||c.call(h,M))&&!(A&&(M=="length"||N&&(M=="offset"||M=="parent")||C&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||i(M,D)))&&k.push(M);return k}return yE=d,yE}var vE,d3;function wge(){if(d3)return vE;d3=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return vE=e,vE}var xE,h3;function ZW(){if(h3)return xE;h3=1;function t(e,r){return function(n){return e(r(n))}}return xE=t,xE}var bE,f3;function Sge(){if(f3)return bE;f3=1;var t=ZW(),e=t(Object.keys,Object);return bE=e,bE}var wE,p3;function _ge(){if(p3)return wE;p3=1;var t=wge(),e=Sge(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&o.push(c);return o}return wE=i,wE}var SE,m3;function w0(){if(m3)return SE;m3=1;var t=QO(),e=fR();function r(n){return n!=null&&e(n.length)&&!t(n)}return SE=r,SE}var _E,g3;function Pj(){if(g3)return _E;g3=1;var t=bge(),e=_ge(),r=w0();function n(i){return r(i)?t(i):e(i)}return _E=n,_E}var jE,y3;function jge(){if(y3)return jE;y3=1;var t=dge(),e=pge(),r=Pj();function n(i){return t(i,r,e)}return jE=n,jE}var NE,v3;function Nge(){if(v3)return NE;v3=1;var t=jge(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,c,d,h,g){var y=c&e,x=t(s),N=x.length,C=t(o),A=C.length;if(N!=A&&!y)return!1;for(var k=N;k--;){var D=x[k];if(!(y?D in o:n.call(o,D)))return!1}var M=g.get(s),$=g.get(o);if(M&&$)return M==o&&$==s;var L=!0;g.set(s,o),g.set(o,s);for(var U=y;++k<N;){D=x[k];var K=s[D],q=o[D];if(d)var V=y?d(q,K,D,o,s,g):d(K,q,D,s,o,g);if(!(V===void 0?K===q||h(K,q,c,d,g):V)){L=!1;break}U||(U=D=="constructor")}if(L&&!U){var Q=s.constructor,J=o.constructor;Q!=J&&"constructor"in s&&"constructor"in o&&!(typeof Q=="function"&&Q instanceof Q&&typeof J=="function"&&J instanceof J)&&(L=!1)}return g.delete(s),g.delete(o),L}return NE=i,NE}var AE,x3;function Age(){if(x3)return AE;x3=1;var t=Hp(),e=Ac(),r=t(e,"DataView");return AE=r,AE}var kE,b3;function kge(){if(b3)return kE;b3=1;var t=Hp(),e=Ac(),r=t(e,"Promise");return kE=r,kE}var EE,w3;function JW(){if(w3)return EE;w3=1;var t=Hp(),e=Ac(),r=t(e,"Set");return EE=r,EE}var TE,S3;function Ege(){if(S3)return TE;S3=1;var t=Hp(),e=Ac(),r=t(e,"WeakMap");return TE=r,TE}var CE,_3;function Tge(){if(_3)return CE;_3=1;var t=Age(),e=JO(),r=kge(),n=JW(),i=Ege(),s=Xu(),o=gW(),c="[object Map]",d="[object Object]",h="[object Promise]",g="[object Set]",y="[object WeakMap]",x="[object DataView]",N=o(t),C=o(e),A=o(r),k=o(n),D=o(i),M=s;return(t&&M(new t(new ArrayBuffer(1)))!=x||e&&M(new e)!=c||r&&M(r.resolve())!=h||n&&M(new n)!=g||i&&M(new i)!=y)&&(M=function($){var L=s($),U=L==d?$.constructor:void 0,K=U?o(U):"";if(K)switch(K){case N:return x;case C:return c;case A:return h;case k:return g;case D:return y}return L}),CE=M,CE}var PE,j3;function Cge(){if(j3)return PE;j3=1;var t=UW(),e=GW(),r=uge(),n=Nge(),i=Tge(),s=ca(),o=YW(),c=QW(),d=1,h="[object Arguments]",g="[object Array]",y="[object Object]",x=Object.prototype,N=x.hasOwnProperty;function C(A,k,D,M,$,L){var U=s(A),K=s(k),q=U?g:i(A),V=K?g:i(k);q=q==h?y:q,V=V==h?y:V;var Q=q==y,J=V==y,ee=q==V;if(ee&&o(A)){if(!o(k))return!1;U=!0,Q=!1}if(ee&&!Q)return L||(L=new t),U||c(A)?e(A,k,D,M,$,L):r(A,k,q,D,M,$,L);if(!(D&d)){var X=Q&&N.call(A,"__wrapped__"),Y=J&&N.call(k,"__wrapped__");if(X||Y){var se=X?A.value():A,pe=Y?k.value():k;return L||(L=new t),$(se,pe,D,M,L)}}return ee?(L||(L=new t),n(A,k,D,M,$,L)):!1}return PE=C,PE}var IE,N3;function pR(){if(N3)return IE;N3=1;var t=Cge(),e=Qu();function r(n,i,s,o,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,c)}return IE=r,IE}var OE,A3;function Pge(){if(A3)return OE;A3=1;var t=UW(),e=pR(),r=1,n=2;function i(s,o,c,d){var h=c.length,g=h,y=!d;if(s==null)return!g;for(s=Object(s);h--;){var x=c[h];if(y&&x[2]?x[1]!==s[x[0]]:!(x[0]in s))return!1}for(;++h<g;){x=c[h];var N=x[0],C=s[N],A=x[1];if(y&&x[2]){if(C===void 0&&!(N in s))return!1}else{var k=new t;if(d)var D=d(C,A,N,s,o,k);if(!(D===void 0?e(A,C,r|n,d,k):D))return!1}}return!0}return OE=i,OE}var RE,k3;function e7(){if(k3)return RE;k3=1;var t=Qh();function e(r){return r===r&&!t(r)}return RE=e,RE}var ME,E3;function Ige(){if(E3)return ME;E3=1;var t=e7(),e=Pj();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],c=n[o];i[s]=[o,c,t(c)]}return i}return ME=r,ME}var DE,T3;function t7(){if(T3)return DE;T3=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return DE=t,DE}var LE,C3;function Oge(){if(C3)return LE;C3=1;var t=Pge(),e=Ige(),r=t7();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return LE=n,LE}var FE,P3;function Rge(){if(P3)return FE;P3=1;function t(e,r){return e!=null&&r in Object(e)}return FE=t,FE}var $E,I3;function Mge(){if(I3)return $E;I3=1;var t=xW(),e=dR(),r=ca(),n=hR(),i=fR(),s=Aj();function o(c,d,h){d=t(d,c);for(var g=-1,y=d.length,x=!1;++g<y;){var N=s(d[g]);if(!(x=c!=null&&h(c,N)))break;c=c[N]}return x||++g!=y?x:(y=c==null?0:c.length,!!y&&i(y)&&n(N,y)&&(r(c)||e(c)))}return $E=o,$E}var BE,O3;function Dge(){if(O3)return BE;O3=1;var t=Rge(),e=Mge();function r(n,i){return n!=null&&e(n,i,t)}return BE=r,BE}var VE,R3;function Lge(){if(R3)return VE;R3=1;var t=pR(),e=bW(),r=Dge(),n=XO(),i=e7(),s=t7(),o=Aj(),c=1,d=2;function h(g,y){return n(g)&&i(y)?s(o(g),y):function(x){var N=e(x,g);return N===void 0&&N===y?r(x,g):t(y,N,c|d)}}return VE=h,VE}var zE,M3;function ev(){if(M3)return zE;M3=1;function t(e){return e}return zE=t,zE}var UE,D3;function Fge(){if(D3)return UE;D3=1;function t(e){return function(r){return r==null?void 0:r[e]}}return UE=t,UE}var qE,L3;function $ge(){if(L3)return qE;L3=1;var t=rR();function e(r){return function(n){return t(n,r)}}return qE=e,qE}var HE,F3;function Bge(){if(F3)return HE;F3=1;var t=Fge(),e=$ge(),r=XO(),n=Aj();function i(s){return r(s)?t(n(s)):e(s)}return HE=i,HE}var WE,$3;function kc(){if($3)return WE;$3=1;var t=Oge(),e=Lge(),r=ev(),n=ca(),i=Bge();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return WE=s,WE}var GE,B3;function r7(){if(B3)return GE;B3=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return GE=t,GE}var KE,V3;function Vge(){if(V3)return KE;V3=1;function t(e){return e!==e}return KE=t,KE}var YE,z3;function zge(){if(z3)return YE;z3=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return YE=t,YE}var XE,U3;function Uge(){if(U3)return XE;U3=1;var t=r7(),e=Vge(),r=zge();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return XE=n,XE}var QE,q3;function qge(){if(q3)return QE;q3=1;var t=Uge();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return QE=e,QE}var ZE,H3;function Hge(){if(H3)return ZE;H3=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return ZE=t,ZE}var JE,W3;function Wge(){if(W3)return JE;W3=1;function t(){}return JE=t,JE}var eT,G3;function Gge(){if(G3)return eT;G3=1;var t=JW(),e=Wge(),r=uR(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return eT=i,eT}var tT,K3;function Kge(){if(K3)return tT;K3=1;var t=qW(),e=qge(),r=Hge(),n=WW(),i=Gge(),s=uR(),o=200;function c(d,h,g){var y=-1,x=e,N=d.length,C=!0,A=[],k=A;if(g)C=!1,x=r;else if(N>=o){var D=h?null:i(d);if(D)return s(D);C=!1,x=n,k=new t}else k=h?[]:A;e:for(;++y<N;){var M=d[y],$=h?h(M):M;if(M=g||M!==0?M:0,C&&$===$){for(var L=k.length;L--;)if(k[L]===$)continue e;h&&k.push($),A.push(M)}else x(k,$,g)||(k!==A&&k.push($),A.push(M))}return A}return tT=c,tT}var rT,Y3;function Yge(){if(Y3)return rT;Y3=1;var t=kc(),e=Kge();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return rT=r,rT}var Xge=Yge();const X3=Lr(Xge);function n7(t,e,r){return e===!0?X3(t,r):Ht(e)?X3(t,e):t}function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}var Qge=["ref"];function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){Ij(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s7(n.key),n)}}function Jge(t,e,r){return e&&Z3(t.prototype,e),r&&Z3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eye(t,e,r){return e=ES(e),tye(t,i7()?Reflect.construct(e,r||[],ES(t).constructor):e.apply(t,r))}function tye(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rye(t)}function rye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i7=function(){return!!t})()}function ES(t){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ES(t)}function nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zP(t,e)}function zP(t,e){return zP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zP(t,e)}function Ij(t,e,r){return e=s7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s7(t){var e=iye(t,"string");return ay(e)=="symbol"?e:e+""}function iye(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sye(t,e){if(t==null)return{};var r=aye(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oye(t){return t.value}function lye(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var r=sye(e,Qge);return de.createElement(cR,r)}var J3=1,Sp=function(t){function e(){var r;Zge(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=eye(this,e,[].concat(i)),Ij(r,"lastBoundingBox",{width:-1,height:-1}),r}return nye(e,t),Jge(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>J3||Math.abs(i.height-this.lastBoundingBox.height)>J3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,c=i.verticalAlign,d=i.margin,h=i.chartWidth,g=i.chartHeight,y,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var N=this.getBBoxSnapshot();y={left:((h||0)-N.width)/2}}else y=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var C=this.getBBoxSnapshot();x={top:((g||0)-C.height)/2}}else x=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return fu(fu({},y),x)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,c=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,g=i.payload,y=fu(fu({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return de.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:function(N){n.wrapperNode=N}},lye(s,fu(fu({},this.props),{},{payload:n7(g,h,oye)})))}}],[{key:"getWithHeight",value:function(n,i){var s=fu(fu({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&it(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(P.PureComponent);Ij(Sp,"displayName","Legend");Ij(Sp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nT,eF;function cye(){if(eF)return nT;eF=1;var t=x0(),e=dR(),r=ca(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return nT=i,nT}var iT,tF;function a7(){if(tF)return iT;tF=1;var t=KW(),e=cye();function r(n,i,s,o,c){var d=-1,h=n.length;for(s||(s=e),c||(c=[]);++d<h;){var g=n[d];i>0&&s(g)?i>1?r(g,i-1,s,o,c):t(c,g):o||(c[c.length]=g)}return c}return iT=r,iT}var sT,rF;function uye(){if(rF)return sT;rF=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),c=i(r),d=c.length;d--;){var h=c[e?d:++s];if(n(o[h],h,o)===!1)break}return r}}return sT=t,sT}var aT,nF;function dye(){if(nF)return aT;nF=1;var t=uye(),e=t();return aT=e,aT}var oT,iF;function o7(){if(iF)return oT;iF=1;var t=dye(),e=Pj();function r(n,i){return n&&t(n,i,e)}return oT=r,oT}var lT,sF;function hye(){if(sF)return lT;sF=1;var t=w0();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,c=n?o:-1,d=Object(i);(n?c--:++c<o)&&s(d[c],c,d)!==!1;);return i}}return lT=e,lT}var cT,aF;function mR(){if(aF)return cT;aF=1;var t=o7(),e=hye(),r=e(t);return cT=r,cT}var uT,oF;function l7(){if(oF)return uT;oF=1;var t=mR(),e=w0();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(c,d,h){o[++s]=i(c,d,h)}),o}return uT=r,uT}var dT,lF;function fye(){if(lF)return dT;lF=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return dT=t,dT}var hT,cF;function pye(){if(cF)return hT;cF=1;var t=Xy();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,c=t(r),d=n!==void 0,h=n===null,g=n===n,y=t(n);if(!h&&!y&&!c&&r>n||c&&d&&g&&!h&&!y||s&&d&&g||!i&&g||!o)return 1;if(!s&&!c&&!y&&r<n||y&&i&&o&&!s&&!c||h&&i&&o||!d&&o||!g)return-1}return 0}return hT=e,hT}var fT,uF;function mye(){if(uF)return fT;uF=1;var t=pye();function e(r,n,i){for(var s=-1,o=r.criteria,c=n.criteria,d=o.length,h=i.length;++s<d;){var g=t(o[s],c[s]);if(g){if(s>=h)return g;var y=i[s];return g*(y=="desc"?-1:1)}}return r.index-n.index}return fT=e,fT}var pT,dF;function gye(){if(dF)return pT;dF=1;var t=tR(),e=rR(),r=kc(),n=l7(),i=fye(),s=XW(),o=mye(),c=ev(),d=ca();function h(g,y,x){y.length?y=t(y,function(A){return d(A)?function(k){return e(k,A.length===1?A[0]:A)}:A}):y=[c];var N=-1;y=t(y,s(r));var C=n(g,function(A,k,D){var M=t(y,function($){return $(A)});return{criteria:M,index:++N,value:A}});return i(C,function(A,k){return o(A,k,x)})}return pT=h,pT}var mT,hF;function yye(){if(hF)return mT;hF=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return mT=t,mT}var gT,fF;function vye(){if(fF)return gT;fF=1;var t=yye(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,c=-1,d=e(o.length-i,0),h=Array(d);++c<d;)h[c]=o[i+c];c=-1;for(var g=Array(i+1);++c<i;)g[c]=o[c];return g[i]=s(h),t(n,this,g)}}return gT=r,gT}var yT,pF;function xye(){if(pF)return yT;pF=1;function t(e){return function(){return e}}return yT=t,yT}var vT,mF;function c7(){if(mF)return vT;mF=1;var t=Hp(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return vT=e,vT}var xT,gF;function bye(){if(gF)return xT;gF=1;var t=xye(),e=c7(),r=ev(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return xT=n,xT}var bT,yF;function wye(){if(yF)return bT;yF=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var c=r(),d=e-(c-o);if(o=c,d>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return bT=n,bT}var wT,vF;function Sye(){if(vF)return wT;vF=1;var t=bye(),e=wye(),r=e(t);return wT=r,wT}var ST,xF;function _ye(){if(xF)return ST;xF=1;var t=ev(),e=vye(),r=Sye();function n(i,s){return r(e(i,s,t),i+"")}return ST=n,ST}var _T,bF;function Oj(){if(bF)return _T;bF=1;var t=ZO(),e=w0(),r=hR(),n=Qh();function i(s,o,c){if(!n(c))return!1;var d=typeof o;return(d=="number"?e(c)&&r(o,c.length):d=="string"&&o in c)?t(c[o],s):!1}return _T=i,_T}var jT,wF;function jye(){if(wF)return jT;wF=1;var t=a7(),e=gye(),r=_ye(),n=Oj(),i=r(function(s,o){if(s==null)return[];var c=o.length;return c>1&&n(s,o[0],o[1])?o=[]:c>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return jT=i,jT}var Nye=jye();const gR=Lr(Nye);function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function UP(){return UP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UP.apply(this,arguments)}function Aye(t,e){return Cye(t)||Tye(t,e)||Eye(t,e)||kye()}function kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eye(t,e){if(t){if(typeof t=="string")return SF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SF(t,e)}}function SF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Cye(t){if(Array.isArray(t))return t}function _F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(r),!0).forEach(function(n){Pye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pye(t,e,r){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iye(t){var e=Oye(t,"string");return vb(e)=="symbol"?e:e+""}function Oye(t,e){if(vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rye(t){return Array.isArray(t)&&gi(t[0])&&gi(t[1])?t.join(" ~ "):t}var Mye=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,d=e.labelStyle,h=d===void 0?{}:d,g=e.payload,y=e.formatter,x=e.itemSorter,N=e.wrapperClassName,C=e.labelClassName,A=e.label,k=e.labelFormatter,D=e.accessibilityLayer,M=D===void 0?!1:D,$=function(){if(g&&g.length){var X={padding:0,margin:0},Y=(x?gR(g,x):g).map(function(se,pe){if(se.type==="none")return null;var ce=NT({display:"block",paddingTop:4,paddingBottom:4,color:se.color||"#000"},c),me=se.formatter||y||Rye,he=se.value,Se=se.name,be=he,ue=Se;if(me&&be!=null&&ue!=null){var ge=me(he,Se,se,pe,g);if(Array.isArray(ge)){var ke=Aye(ge,2);be=ke[0],ue=ke[1]}else be=ge}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(pe),style:ce},gi(ue)?de.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,gi(ue)?de.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,de.createElement("span",{className:"recharts-tooltip-item-value"},be),de.createElement("span",{className:"recharts-tooltip-item-unit"},se.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:X},Y)}return null},L=NT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),U=NT({margin:0},h),K=!er(A),q=K?A:"",V=tr("recharts-default-tooltip",N),Q=tr("recharts-tooltip-label",C);K&&k&&g!==void 0&&g!==null&&(q=k(A,g));var J=M?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",UP({className:V,style:L},J),de.createElement("p",{className:Q,style:U},de.isValidElement(q)?q:"".concat(q)),$())};function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function a1(t,e,r){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dye(t){var e=Lye(t,"string");return xb(e)=="symbol"?e:e+""}function Lye(t,e){if(xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mx="recharts-tooltip-wrapper",Fye={visibility:"hidden"};function $ye(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return tr(mx,a1(a1(a1(a1({},"".concat(mx,"-right"),it(r)&&e&&it(e.x)&&r>=e.x),"".concat(mx,"-left"),it(r)&&e&&it(e.x)&&r<e.x),"".concat(mx,"-bottom"),it(n)&&e&&it(e.y)&&n>=e.y),"".concat(mx,"-top"),it(n)&&e&&it(e.y)&&n<e.y))}function jF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(s&&it(s[n]))return s[n];var g=r[n]-c-i,y=r[n]+i;if(e[n])return o[n]?g:y;if(o[n]){var x=g,N=d[n];return x<N?Math.max(y,d[n]):Math.max(g,d[n])}var C=y+c,A=d[n]+h;return C>A?Math.max(g,d[n]):Math.max(y,d[n])}function Bye(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Vye(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,h,g,y;return o.height>0&&o.width>0&&r?(g=jF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),y=jF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),h=Bye({translateX:g,translateY:y,useTranslate3d:c})):h=Fye,{cssProperties:h,cssClasses:$ye({translateX:g,translateY:y,coordinate:r})}}function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function NF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(r),!0).forEach(function(n){HP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d7(n.key),n)}}function qye(t,e,r){return e&&Uye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hye(t,e,r){return e=TS(e),Wye(t,u7()?Reflect.construct(e,r||[],TS(t).constructor):e.apply(t,r))}function Wye(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gye(t)}function Gye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u7=function(){return!!t})()}function TS(t){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TS(t)}function Kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qP(t,e)}function qP(t,e){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qP(t,e)}function HP(t,e,r){return e=d7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d7(t){var e=Yye(t,"string");return oy(e)=="symbol"?e:e+""}function Yye(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kF=1,Xye=function(t){function e(){var r;zye(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Hye(this,e,[].concat(i)),HP(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),HP(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,d,h,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(h=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&h!==void 0?h:0}})}}),r}return Kye(e,t),qye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>kF||Math.abs(n.height-this.state.lastBoundingBox.height)>kF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,h=i.children,g=i.coordinate,y=i.hasPayload,x=i.isAnimationActive,N=i.offset,C=i.position,A=i.reverseDirection,k=i.useTranslate3d,D=i.viewBox,M=i.wrapperStyle,$=Vye({allowEscapeViewBox:o,coordinate:g,offsetTopLeft:N,position:C,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:k,viewBox:D}),L=$.cssClasses,U=$.cssProperties,K=AF(AF({transition:x&&s?"transform ".concat(c,"ms ").concat(d):void 0},U),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&y?"visible":"hidden",position:"absolute",top:0,left:0},M);return de.createElement("div",{tabIndex:-1,className:L,style:K,ref:function(V){n.wrapperNode=V}},h)}}])}(P.PureComponent),Qye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wp={isSsr:Qye()};function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){yR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f7(n.key),n)}}function eve(t,e,r){return e&&Jye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tve(t,e,r){return e=CS(e),rve(t,h7()?Reflect.construct(e,r||[],CS(t).constructor):e.apply(t,r))}function rve(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nve(t)}function nve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h7=function(){return!!t})()}function CS(t){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},CS(t)}function ive(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WP(t,e)}function yR(t,e,r){return e=f7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7(t){var e=sve(t,"string");return ly(e)=="symbol"?e:e+""}function sve(t,e){if(ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ave(t){return t.dataKey}function ove(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(Mye,e)}var tl=function(t){function e(){return Zye(this,e),tve(this,e,arguments)}return ive(e,t),eve(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,h=i.content,g=i.coordinate,y=i.filterNull,x=i.isAnimationActive,N=i.offset,C=i.payload,A=i.payloadUniqBy,k=i.position,D=i.reverseDirection,M=i.useTranslate3d,$=i.viewBox,L=i.wrapperStyle,U=C??[];y&&U.length&&(U=n7(C.filter(function(q){return q.value!=null&&(q.hide!==!0||n.props.includeHidden)}),A,ave));var K=U.length>0;return de.createElement(Xye,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:x,active:s,coordinate:g,hasPayload:K,offset:N,position:k,reverseDirection:D,useTranslate3d:M,viewBox:$,wrapperStyle:L},ove(h,TF(TF({},this.props),{},{payload:U})))}}])}(P.PureComponent);yR(tl,"displayName","Tooltip");yR(tl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var AT,CF;function lve(){if(CF)return AT;CF=1;var t=Ac(),e=function(){return t.Date.now()};return AT=e,AT}var kT,PF;function cve(){if(PF)return kT;PF=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return kT=e,kT}var ET,IF;function uve(){if(IF)return ET;IF=1;var t=cve(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ET=r,ET}var TT,OF;function p7(){if(OF)return TT;OF=1;var t=uve(),e=Qh(),r=Xy(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var g=typeof h.valueOf=="function"?h.valueOf():h;h=e(g)?g+"":g}if(typeof h!="string")return h===0?h:+h;h=t(h);var y=s.test(h);return y||o.test(h)?c(h.slice(2),y?2:8):i.test(h)?n:+h}return TT=d,TT}var CT,RF;function dve(){if(RF)return CT;RF=1;var t=Qh(),e=lve(),r=p7(),n="Expected a function",i=Math.max,s=Math.min;function o(c,d,h){var g,y,x,N,C,A,k=0,D=!1,M=!1,$=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(D=!!h.leading,M="maxWait"in h,x=M?i(r(h.maxWait)||0,d):x,$="trailing"in h?!!h.trailing:$);function L(Y){var se=g,pe=y;return g=y=void 0,k=Y,N=c.apply(pe,se),N}function U(Y){return k=Y,C=setTimeout(V,d),D?L(Y):N}function K(Y){var se=Y-A,pe=Y-k,ce=d-se;return M?s(ce,x-pe):ce}function q(Y){var se=Y-A,pe=Y-k;return A===void 0||se>=d||se<0||M&&pe>=x}function V(){var Y=e();if(q(Y))return Q(Y);C=setTimeout(V,K(Y))}function Q(Y){return C=void 0,$&&g?L(Y):(g=y=void 0,N)}function J(){C!==void 0&&clearTimeout(C),k=0,g=A=y=C=void 0}function ee(){return C===void 0?N:Q(e())}function X(){var Y=e(),se=q(Y);if(g=arguments,y=this,A=Y,se){if(C===void 0)return U(A);if(M)return clearTimeout(C),C=setTimeout(V,d),L(A)}return C===void 0&&(C=setTimeout(V,d)),N}return X.cancel=J,X.flush=ee,X}return CT=o,CT}var PT,MF;function hve(){if(MF)return PT;MF=1;var t=dve(),e=Qh(),r="Expected a function";function n(i,s,o){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(c="leading"in o?!!o.leading:c,d="trailing"in o?!!o.trailing:d),t(i,s,{leading:c,maxWait:s,trailing:d})}return PT=n,PT}var fve=hve();const m7=Lr(fve);function bb(t){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}function DF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(r),!0).forEach(function(n){pve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pve(t,e,r){return e=mve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mve(t){var e=gve(t,"string");return bb(e)=="symbol"?e:e+""}function gve(t,e){if(bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yve(t,e){return wve(t)||bve(t,e)||xve(t,e)||vve()}function vve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(t,e){if(t){if(typeof t=="string")return LF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LF(t,e)}}function LF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function wve(t){if(Array.isArray(t))return t}var g7=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,c=t.height,d=c===void 0?"100%":c,h=t.minWidth,g=h===void 0?0:h,y=t.minHeight,x=t.maxHeight,N=t.children,C=t.debounce,A=C===void 0?0:C,k=t.id,D=t.className,M=t.onResize,$=t.style,L=$===void 0?{}:$,U=P.useRef(null),K=P.useRef();K.current=M,P.useImperativeHandle(e,function(){return Object.defineProperty(U.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),U.current},configurable:!0})});var q=P.useState({containerWidth:i.width,containerHeight:i.height}),V=yve(q,2),Q=V[0],J=V[1],ee=P.useCallback(function(Y,se){J(function(pe){var ce=Math.round(Y),me=Math.round(se);return pe.containerWidth===ce&&pe.containerHeight===me?pe:{containerWidth:ce,containerHeight:me}})},[]);P.useEffect(function(){var Y=function(Se){var be,ue=Se[0].contentRect,ge=ue.width,ke=ue.height;ee(ge,ke),(be=K.current)===null||be===void 0||be.call(K,ge,ke)};A>0&&(Y=m7(Y,A,{trailing:!0,leading:!1}));var se=new ResizeObserver(Y),pe=U.current.getBoundingClientRect(),ce=pe.width,me=pe.height;return ee(ce,me),se.observe(U.current),function(){se.disconnect()}},[ee,A]);var X=P.useMemo(function(){var Y=Q.containerWidth,se=Q.containerHeight;if(Y<0||se<0)return null;dl(dp(o)||dp(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),dl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var pe=dp(o)?Y:o,ce=dp(d)?se:d;r&&r>0&&(pe?ce=pe/r:ce&&(pe=ce*r),x&&ce>x&&(ce=x)),dl(pe>0||ce>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,pe,ce,o,d,g,y,r);var me=!Array.isArray(N)&&Eu(N.type).endsWith("Chart");return de.Children.map(N,function(he){return wW.isElement(he)?P.cloneElement(he,o1({width:pe,height:ce},me?{style:o1({height:"100%",width:"100%",maxHeight:ce,maxWidth:pe},he.props.style)}:{})):he})},[r,N,d,x,y,g,Q,o]);return de.createElement("div",{id:k?"".concat(k):void 0,className:tr("recharts-responsive-container",D),style:o1(o1({},L),{},{width:o,height:d,minWidth:g,minHeight:y,maxHeight:x}),ref:U},X)}),Rj=function(e){return null};Rj.displayName="Cell";function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){Sve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sve(t,e,r){return e=_ve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ve(t){var e=jve(t,"string");return wb(e)=="symbol"?e:e+""}function jve(t,e){if(wb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ag={widthCache:{},cacheCount:0},Nve=2e3,Ave={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$F="recharts_measurement_span";function kve(t){var e=GP({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ux=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wp.isSsr)return{width:0,height:0};var n=kve(r),i=JSON.stringify({text:e,copyStyle:n});if(ag.widthCache[i])return ag.widthCache[i];try{var s=document.getElementById($F);s||(s=document.createElement("span"),s.setAttribute("id",$F),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=GP(GP({},Ave),n);Object.assign(s.style,o),s.textContent="".concat(e);var c=s.getBoundingClientRect(),d={width:c.width,height:c.height};return ag.widthCache[i]=d,++ag.cacheCount>Nve&&(ag.cacheCount=0,ag.widthCache={}),d}catch{return{width:0,height:0}}},Eve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}function PS(t,e){return Ive(t)||Pve(t,e)||Cve(t,e)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cve(t,e){if(t){if(typeof t=="string")return BF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BF(t,e)}}function BF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Ive(t){if(Array.isArray(t))return t}function Ove(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mve(n.key),n)}}function Rve(t,e,r){return e&&VF(t.prototype,e),r&&VF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mve(t){var e=Dve(t,"string");return Sb(e)=="symbol"?e:e+""}function Dve(t,e){if(Sb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ve=Object.keys(y7),yg="NaN";function Bve(t,e){return t*y7[e]}var l1=function(){function t(e,r){Ove(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Lve.test(r)&&(this.num=NaN,this.unit=""),$ve.includes(r)&&(this.num=Bve(e,r),this.unit="px")}return Rve(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Fve.exec(r))!==null&&n!==void 0?n:[],s=PS(i,3),o=s[1],c=s[2];return new t(parseFloat(o),c??"")}}])}();function v7(t){if(t.includes(yg))return yg;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=zF.exec(e))!==null&&r!==void 0?r:[],i=PS(n,4),s=i[1],o=i[2],c=i[3],d=l1.parse(s??""),h=l1.parse(c??""),g=o==="*"?d.multiply(h):d.divide(h);if(g.isNaN())return yg;e=e.replace(zF,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var y,x=(y=UF.exec(e))!==null&&y!==void 0?y:[],N=PS(x,4),C=N[1],A=N[2],k=N[3],D=l1.parse(C??""),M=l1.parse(k??""),$=A==="+"?D.add(M):D.subtract(M);if($.isNaN())return yg;e=e.replace(UF,$.toString())}return e}var qF=/\(([^()]*)\)/;function Vve(t){for(var e=t;e.includes("(");){var r=qF.exec(e),n=PS(r,2),i=n[1];e=e.replace(qF,v7(i))}return e}function zve(t){var e=t.replace(/\s+/g,"");return e=Vve(e),e=v7(e),e}function Uve(t){try{return zve(t)}catch{return yg}}function IT(t){var e=Uve(t.slice(5,-1));return e===yg?"":e}var qve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hve=["dx","dy","angle","className","breakAll"];function KP(){return KP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KP.apply(this,arguments)}function HF(t,e){if(t==null)return{};var r=Wve(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WF(t,e){return Xve(t)||Yve(t,e)||Kve(t,e)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kve(t,e){if(t){if(typeof t=="string")return GF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GF(t,e)}}function GF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Xve(t){if(Array.isArray(t))return t}var x7=/[ \f\n\r\t\v\u2028\u2029]+/,b7=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];er(r)||(n?s=r.toString().split(""):s=r.toString().split(x7));var o=s.map(function(d){return{word:d,width:Ux(d,i).width}}),c=n?0:Ux(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Qve=function(e,r,n,i,s){var o=e.maxLines,c=e.children,d=e.style,h=e.breakAll,g=it(o),y=c,x=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return pe.reduce(function(ce,me){var he=me.word,Se=me.width,be=ce[ce.length-1];if(be&&(i==null||s||be.width+Se+n<Number(i)))be.words.push(he),be.width+=Se+n;else{var ue={words:[he],width:Se};ce.push(ue)}return ce},[])},N=x(r),C=function(pe){return pe.reduce(function(ce,me){return ce.width>me.width?ce:me})};if(!g)return N;for(var A="…",k=function(pe){var ce=y.slice(0,pe),me=b7({breakAll:h,style:d,children:ce+A}).wordsWithComputedWidth,he=x(me),Se=he.length>o||C(he).width>Number(i);return[Se,he]},D=0,M=y.length-1,$=0,L;D<=M&&$<=y.length-1;){var U=Math.floor((D+M)/2),K=U-1,q=k(K),V=WF(q,2),Q=V[0],J=V[1],ee=k(U),X=WF(ee,1),Y=X[0];if(!Q&&!Y&&(D=U+1),Q&&Y&&(M=U-1),!Q&&Y){L=J;break}$++}return L||N},KF=function(e){var r=er(e)?[]:e.toString().split(x7);return[{words:r}]},Zve=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,c=e.maxLines;if((r||n)&&!Wp.isSsr){var d,h,g=b7({breakAll:o,children:i,style:s});if(g){var y=g.wordsWithComputedWidth,x=g.spaceWidth;d=y,h=x}else return KF(i);return Qve({breakAll:o,children:i,maxLines:c,style:s},d,h,r,n)}return KF(i)},YF="#808080",Dp=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,d=e.capHeight,h=d===void 0?"0.71em":d,g=e.scaleToFit,y=g===void 0?!1:g,x=e.textAnchor,N=x===void 0?"start":x,C=e.verticalAnchor,A=C===void 0?"end":C,k=e.fill,D=k===void 0?YF:k,M=HF(e,qve),$=P.useMemo(function(){return Zve({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:y,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,y,M.style,M.width]),L=M.dx,U=M.dy,K=M.angle,q=M.className,V=M.breakAll,Q=HF(M,Hve);if(!gi(n)||!gi(s))return null;var J=n+(it(L)?L:0),ee=s+(it(U)?U:0),X;switch(A){case"start":X=IT("calc(".concat(h,")"));break;case"middle":X=IT("calc(".concat(($.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:X=IT("calc(".concat($.length-1," * -").concat(c,")"));break}var Y=[];if(y){var se=$[0].width,pe=M.width;Y.push("scale(".concat((it(pe)?pe/se:1)/se,")"))}return K&&Y.push("rotate(".concat(K,", ").concat(J,", ").concat(ee,")")),Y.length&&(Q.transform=Y.join(" ")),de.createElement("text",KP({},Tt(Q,!0),{x:J,y:ee,className:tr("recharts-text",q),textAnchor:N,fill:D.includes("url")?YF:D}),$.map(function(ce,me){var he=ce.words.join(V?"":" ");return de.createElement("tspan",{x:J,dy:me===0?X:c,key:"".concat(he,"-").concat(me)},he)}))};function Ph(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vR(t){let e,r,n;t.length!==2?(e=Ph,r=(c,d)=>Ph(t(c),d),n=(c,d)=>t(c)-d):(e=t===Ph||t===Jve?t:exe,r=t,n=t);function i(c,d,h=0,g=c.length){if(h<g){if(e(d,d)!==0)return g;do{const y=h+g>>>1;r(c[y],d)<0?h=y+1:g=y}while(h<g)}return h}function s(c,d,h=0,g=c.length){if(h<g){if(e(d,d)!==0)return g;do{const y=h+g>>>1;r(c[y],d)<=0?h=y+1:g=y}while(h<g)}return h}function o(c,d,h=0,g=c.length){const y=i(c,d,h,g-1);return y>h&&n(c[y-1],d)>-n(c[y],d)?y-1:y}return{left:i,center:o,right:s}}function exe(){return 0}function w7(t){return t===null?NaN:+t}function*txe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const rxe=vR(Ph),S0=rxe.right;vR(w7).center;class XF extends Map{constructor(e,r=sxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(QF(this,e))}has(e){return super.has(QF(this,e))}set(e,r){return super.set(nxe(this,e),r)}delete(e){return super.delete(ixe(this,e))}}function QF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function nxe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ixe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function sxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function axe(t=Ph){if(t===Ph)return S7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function S7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oxe=Math.sqrt(50),lxe=Math.sqrt(10),cxe=Math.sqrt(2);function IS(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=oxe?10:s>=lxe?5:s>=cxe?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/o,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*o,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=r&&r<2?IS(t,e,r*2):[c,d,h]}function YP(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?IS(e,t,r):IS(t,e,r);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(n)if(o<0)for(let h=0;h<c;++h)d[h]=(s-h)/-o;else for(let h=0;h<c;++h)d[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)d[h]=(i+h)/-o;else for(let h=0;h<c;++h)d[h]=(i+h)*o;return d}function XP(t,e,r){return e=+e,t=+t,r=+r,IS(t,e,r)[2]}function QP(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?XP(e,t,r):XP(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function ZF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function JF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _7(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?S7:axe(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,g=Math.log(d),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(d-y)/d)*(h-d/2<0?-1:1),N=Math.max(r,Math.floor(e-h*y/d+x)),C=Math.min(n,Math.floor(e+(d-h)*y/d+x));_7(t,e,N,C,i)}const s=t[e];let o=r,c=n;for(gx(t,r,e),i(t[n],s)>0&&gx(t,r,n);o<c;){for(gx(t,o,c),++o,--c;i(t[o],s)<0;)++o;for(;i(t[c],s)>0;)--c}i(t[r],s)===0?gx(t,r,c):(++c,gx(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function gx(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function uxe(t,e,r){if(t=Float64Array.from(txe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return JF(t);if(e>=1)return ZF(t);var n,i=(n-1)*e,s=Math.floor(i),o=ZF(_7(t,s).subarray(0,s+1)),c=JF(t.subarray(s+1));return o+(c-o)*(i-s)}}function dxe(t,e,r=w7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return o+(c-o)*(i-s)}}function hxe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function vo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ZP=Symbol("implicit");function xR(){var t=new XF,e=[],r=[],n=ZP;function i(s){let o=t.get(s);if(o===void 0){if(n!==ZP)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new XF;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return xR(e,r).unknown(n)},vo.apply(i,arguments),i}function _b(){var t=xR().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,c=!1,d=0,h=0,g=.5;delete t.unknown;function y(){var x=e().length,N=i<n,C=N?i:n,A=N?n:i;s=(A-C)/Math.max(1,x-d+h*2),c&&(s=Math.floor(s)),C+=(A-C-s*(x-d))*g,o=s*(1-d),c&&(C=Math.round(C),o=Math.round(o));var k=hxe(x).map(function(D){return C+s*D});return r(N?k.reverse():k)}return t.domain=function(x){return arguments.length?(e(x),y()):e()},t.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,y()):[n,i]},t.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,c=!0,y()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(x){return arguments.length?(c=!!x,y()):c},t.padding=function(x){return arguments.length?(d=Math.min(1,h=+x),y()):d},t.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),y()):d},t.paddingOuter=function(x){return arguments.length?(h=+x,y()):h},t.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),y()):g},t.copy=function(){return _b(e(),[n,i]).round(c).paddingInner(d).paddingOuter(h).align(g)},vo.apply(y(),arguments)}function j7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return j7(e())},t}function qx(){return j7(_b.apply(null,arguments).paddingInner(1))}function bR(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function N7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function _0(){}var jb=.7,OS=1/jb,Ig="\\s*([+-]?\\d+)\\s*",Nb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fxe=/^#([0-9a-f]{3,8})$/,pxe=new RegExp(`^rgb\\(${Ig},${Ig},${Ig}\\)$`),mxe=new RegExp(`^rgb\\(${pc},${pc},${pc}\\)$`),gxe=new RegExp(`^rgba\\(${Ig},${Ig},${Ig},${Nb}\\)$`),yxe=new RegExp(`^rgba\\(${pc},${pc},${pc},${Nb}\\)$`),vxe=new RegExp(`^hsl\\(${Nb},${pc},${pc}\\)$`),xxe=new RegExp(`^hsla\\(${Nb},${pc},${pc},${Nb}\\)$`),e$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bR(_0,Ab,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:t$,formatHex:t$,formatHex8:bxe,formatHsl:wxe,formatRgb:r$,toString:r$});function t$(){return this.rgb().formatHex()}function bxe(){return this.rgb().formatHex8()}function wxe(){return A7(this).formatHsl()}function r$(){return this.rgb().formatRgb()}function Ab(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=fxe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?n$(e):r===3?new na(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?c1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?c1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pxe.exec(t))?new na(e[1],e[2],e[3],1):(e=mxe.exec(t))?new na(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gxe.exec(t))?c1(e[1],e[2],e[3],e[4]):(e=yxe.exec(t))?c1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vxe.exec(t))?a$(e[1],e[2]/100,e[3]/100,1):(e=xxe.exec(t))?a$(e[1],e[2]/100,e[3]/100,e[4]):e$.hasOwnProperty(t)?n$(e$[t]):t==="transparent"?new na(NaN,NaN,NaN,0):null}function n$(t){return new na(t>>16&255,t>>8&255,t&255,1)}function c1(t,e,r,n){return n<=0&&(t=e=r=NaN),new na(t,e,r,n)}function Sxe(t){return t instanceof _0||(t=Ab(t)),t?(t=t.rgb(),new na(t.r,t.g,t.b,t.opacity)):new na}function JP(t,e,r,n){return arguments.length===1?Sxe(t):new na(t,e,r,n??1)}function na(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}bR(na,JP,N7(_0,{brighter(t){return t=t==null?OS:Math.pow(OS,t),new na(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jb:Math.pow(jb,t),new na(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new na(_p(this.r),_p(this.g),_p(this.b),RS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i$,formatHex:i$,formatHex8:_xe,formatRgb:s$,toString:s$}));function i$(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}`}function _xe(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}${hp((isNaN(this.opacity)?1:this.opacity)*255)}`}function s$(){const t=RS(this.opacity);return`${t===1?"rgb(":"rgba("}${_p(this.r)}, ${_p(this.g)}, ${_p(this.b)}${t===1?")":`, ${t})`}`}function RS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _p(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hp(t){return t=_p(t),(t<16?"0":"")+t.toString(16)}function a$(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new il(t,e,r,n)}function A7(t){if(t instanceof il)return new il(t.h,t.s,t.l,t.opacity);if(t instanceof _0||(t=Ab(t)),!t)return new il;if(t instanceof il)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,c=s-i,d=(s+i)/2;return c?(e===s?o=(r-n)/c+(r<n)*6:r===s?o=(n-e)/c+2:o=(e-r)/c+4,c/=d<.5?s+i:2-s-i,o*=60):c=d>0&&d<1?0:o,new il(o,c,d,t.opacity)}function jxe(t,e,r,n){return arguments.length===1?A7(t):new il(t,e,r,n??1)}function il(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}bR(il,jxe,N7(_0,{brighter(t){return t=t==null?OS:Math.pow(OS,t),new il(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jb:Math.pow(jb,t),new il(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new na(OT(t>=240?t-240:t+120,i,n),OT(t,i,n),OT(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new il(o$(this.h),u1(this.s),u1(this.l),RS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=RS(this.opacity);return`${t===1?"hsl(":"hsla("}${o$(this.h)}, ${u1(this.s)*100}%, ${u1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function o$(t){return t=(t||0)%360,t<0?t+360:t}function u1(t){return Math.max(0,Math.min(1,t||0))}function OT(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wR=t=>()=>t;function Nxe(t,e){return function(r){return t+r*e}}function Axe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function kxe(t){return(t=+t)==1?k7:function(e,r){return r-e?Axe(e,r,t):wR(isNaN(e)?r:e)}}function k7(t,e){var r=e-t;return r?Nxe(t,r):wR(isNaN(t)?e:t)}const l$=function t(e){var r=kxe(e);function n(i,s){var o=r((i=JP(i)).r,(s=JP(s)).r),c=r(i.g,s.g),d=r(i.b,s.b),h=k7(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=c(g),i.b=d(g),i.opacity=h(g),i+""}}return n.gamma=t,n}(1);function Exe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Txe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cxe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=tv(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(c){for(o=0;o<n;++o)s[o]=i[o](c);return s}}function Pxe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function MS(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ixe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=tv(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var e2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RT=new RegExp(e2.source,"g");function Oxe(t){return function(){return t}}function Rxe(t){return function(e){return t(e)+""}}function Mxe(t,e){var r=e2.lastIndex=RT.lastIndex=0,n,i,s,o=-1,c=[],d=[];for(t=t+"",e=e+"";(n=e2.exec(t))&&(i=RT.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),c[o]?c[o]+=s:c[++o]=s),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:MS(n,i)})),r=RT.lastIndex;return r<e.length&&(s=e.slice(r),c[o]?c[o]+=s:c[++o]=s),c.length<2?d[0]?Rxe(d[0].x):Oxe(e):(e=d.length,function(h){for(var g=0,y;g<e;++g)c[(y=d[g]).i]=y.x(h);return c.join("")})}function tv(t,e){var r=typeof e,n;return e==null||r==="boolean"?wR(e):(r==="number"?MS:r==="string"?(n=Ab(e))?(e=n,l$):Mxe:e instanceof Ab?l$:e instanceof Date?Pxe:Txe(e)?Exe:Array.isArray(e)?Cxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ixe:MS)(t,e)}function SR(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Dxe(t,e){e===void 0&&(e=t,t=tv);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[c](o-c)}}function Lxe(t){return function(){return t}}function DS(t){return+t}var c$=[0,1];function Ms(t){return t}function t2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Lxe(isNaN(e)?NaN:.5)}function Fxe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function $xe(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=t2(i,n),s=r(o,s)):(n=t2(n,i),s=r(s,o)),function(c){return s(n(c))}}function Bxe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=t2(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(c){var d=S0(t,c,1,n)-1;return s[d](i[d](c))}}function j0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mj(){var t=c$,e=c$,r=tv,n,i,s,o=Ms,c,d,h;function g(){var x=Math.min(t.length,e.length);return o!==Ms&&(o=Fxe(t[0],t[x-1])),c=x>2?Bxe:$xe,d=h=null,y}function y(x){return x==null||isNaN(x=+x)?s:(d||(d=c(t.map(n),e,r)))(n(o(x)))}return y.invert=function(x){return o(i((h||(h=c(e,t.map(n),MS)))(x)))},y.domain=function(x){return arguments.length?(t=Array.from(x,DS),g()):t.slice()},y.range=function(x){return arguments.length?(e=Array.from(x),g()):e.slice()},y.rangeRound=function(x){return e=Array.from(x),r=SR,g()},y.clamp=function(x){return arguments.length?(o=x?!0:Ms,g()):o!==Ms},y.interpolate=function(x){return arguments.length?(r=x,g()):r},y.unknown=function(x){return arguments.length?(s=x,y):s},function(x,N){return n=x,i=N,g()}}function _R(){return Mj()(Ms,Ms)}function Vxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function LS(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function cy(t){return t=LS(Math.abs(t)),t?t[1]:NaN}function zxe(t,e){return function(r,n){for(var i=r.length,s=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),s.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Uxe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var qxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kb(t){if(!(e=qxe.exec(t)))throw new Error("invalid format: "+t);var e;return new jR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kb.prototype=jR.prototype;function jR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hxe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var E7;function Wxe(t,e){var r=LS(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(E7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+LS(t,Math.max(0,e+s-1))[0]}function u$(t,e){var r=LS(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const d$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Vxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>u$(t*100,e),r:u$,s:Wxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function h$(t){return t}var f$=Array.prototype.map,p$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gxe(t){var e=t.grouping===void 0||t.thousands===void 0?h$:zxe(f$.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?h$:Uxe(f$.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(y){y=kb(y);var x=y.fill,N=y.align,C=y.sign,A=y.symbol,k=y.zero,D=y.width,M=y.comma,$=y.precision,L=y.trim,U=y.type;U==="n"?(M=!0,U="g"):d$[U]||($===void 0&&($=12),L=!0,U="g"),(k||x==="0"&&N==="=")&&(k=!0,x="0",N="=");var K=A==="$"?r:A==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",q=A==="$"?n:/[%p]/.test(U)?o:"",V=d$[U],Q=/[defgprs%]/.test(U);$=$===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function J(ee){var X=K,Y=q,se,pe,ce;if(U==="c")Y=V(ee)+Y,ee="";else{ee=+ee;var me=ee<0||1/ee<0;if(ee=isNaN(ee)?d:V(Math.abs(ee),$),L&&(ee=Hxe(ee)),me&&+ee==0&&C!=="+"&&(me=!1),X=(me?C==="("?C:c:C==="-"||C==="("?"":C)+X,Y=(U==="s"?p$[8+E7/3]:"")+Y+(me&&C==="("?")":""),Q){for(se=-1,pe=ee.length;++se<pe;)if(ce=ee.charCodeAt(se),48>ce||ce>57){Y=(ce===46?i+ee.slice(se+1):ee.slice(se))+Y,ee=ee.slice(0,se);break}}}M&&!k&&(ee=e(ee,1/0));var he=X.length+ee.length+Y.length,Se=he<D?new Array(D-he+1).join(x):"";switch(M&&k&&(ee=e(Se+ee,Se.length?D-Y.length:1/0),Se=""),N){case"<":ee=X+ee+Y+Se;break;case"=":ee=X+Se+ee+Y;break;case"^":ee=Se.slice(0,he=Se.length>>1)+X+ee+Y+Se.slice(he);break;default:ee=Se+X+ee+Y;break}return s(ee)}return J.toString=function(){return y+""},J}function g(y,x){var N=h((y=kb(y),y.type="f",y)),C=Math.max(-8,Math.min(8,Math.floor(cy(x)/3)))*3,A=Math.pow(10,-C),k=p$[8+C/3];return function(D){return N(A*D)+k}}return{format:h,formatPrefix:g}}var d1,NR,T7;Kxe({thousands:",",grouping:[3],currency:["$",""]});function Kxe(t){return d1=Gxe(t),NR=d1.format,T7=d1.formatPrefix,d1}function Yxe(t){return Math.max(0,-cy(Math.abs(t)))}function Xxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cy(e)/3)))*3-cy(Math.abs(t)))}function Qxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cy(e)-cy(t))+1}function C7(t,e,r,n){var i=QP(t,e,r),s;switch(n=kb(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Xxe(i,o))&&(n.precision=s),T7(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Qxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Yxe(i))&&(n.precision=s-(n.type==="%")*2);break}}return NR(n)}function Zh(t){var e=t.domain;return t.ticks=function(r){var n=e();return YP(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return C7(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],c=n[s],d,h,g=10;for(c<o&&(h=o,o=c,c=h,h=i,i=s,s=h);g-- >0;){if(h=XP(o,c,r),h===d)return n[i]=o,n[s]=c,e(n);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function FS(){var t=_R();return t.copy=function(){return j0(t,FS())},vo.apply(t,arguments),Zh(t)}function P7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,DS),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return P7(t).unknown(e)},t=arguments.length?Array.from(t,DS):[0,1],Zh(r)}function I7(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function m$(t){return Math.log(t)}function g$(t){return Math.exp(t)}function Zxe(t){return-Math.log(-t)}function Jxe(t){return-Math.exp(-t)}function ebe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tbe(t){return t===10?ebe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rbe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function y$(t){return(e,r)=>-t(-e,r)}function AR(t){const e=t(m$,g$),r=e.domain;let n=10,i,s;function o(){return i=rbe(n),s=tbe(n),r()[0]<0?(i=y$(i),s=y$(s),t(Zxe,Jxe)):t(m$,g$),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const d=r();let h=d[0],g=d[d.length-1];const y=g<h;y&&([h,g]=[g,h]);let x=i(h),N=i(g),C,A;const k=c==null?10:+c;let D=[];if(!(n%1)&&N-x<k){if(x=Math.floor(x),N=Math.ceil(N),h>0){for(;x<=N;++x)for(C=1;C<n;++C)if(A=x<0?C/s(-x):C*s(x),!(A<h)){if(A>g)break;D.push(A)}}else for(;x<=N;++x)for(C=n-1;C>=1;--C)if(A=x>0?C/s(-x):C*s(x),!(A<h)){if(A>g)break;D.push(A)}D.length*2<k&&(D=YP(h,g,k))}else D=YP(x,N,Math.min(N-x,k)).map(s);return y?D.reverse():D},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=kb(d)).precision==null&&(d.trim=!0),d=NR(d)),c===1/0)return d;const h=Math.max(1,n*c/e.ticks().length);return g=>{let y=g/s(Math.round(i(g)));return y*n<n-.5&&(y*=n),y<=h?d(g):""}},e.nice=()=>r(I7(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function O7(){const t=AR(Mj()).domain([1,10]);return t.copy=()=>j0(t,O7()).base(t.base()),vo.apply(t,arguments),t}function v$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function x$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kR(t){var e=1,r=t(v$(e),x$(e));return r.constant=function(n){return arguments.length?t(v$(e=+n),x$(e)):e},Zh(r)}function R7(){var t=kR(Mj());return t.copy=function(){return j0(t,R7()).constant(t.constant())},vo.apply(t,arguments)}function b$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ibe(t){return t<0?-t*t:t*t}function ER(t){var e=t(Ms,Ms),r=1;function n(){return r===1?t(Ms,Ms):r===.5?t(nbe,ibe):t(b$(r),b$(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Zh(e)}function TR(){var t=ER(Mj());return t.copy=function(){return j0(t,TR()).exponent(t.exponent())},vo.apply(t,arguments),t}function sbe(){return TR.apply(null,arguments).exponent(.5)}function w$(t){return Math.sign(t)*t*t}function abe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function M7(){var t=_R(),e=[0,1],r=!1,n;function i(s){var o=abe(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(w$(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,DS)).map(w$)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return M7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},vo.apply(i,arguments),Zh(i)}function D7(){var t=[],e=[],r=[],n;function i(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=dxe(t,o/c);return s}function s(o){return o==null||isNaN(o=+o)?n:e[S0(r,o)]}return s.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Ph),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return D7().domain(t).range(e).unknown(n)},vo.apply(s,arguments)}function L7(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(d){return d!=null&&d<=d?i[S0(n,d,0,r)]:s}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},o.unknown=function(d){return arguments.length&&(s=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return L7().domain([t,e]).range(i).unknown(s)},vo.apply(Zh(o),arguments)}function F7(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[S0(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return F7().domain(t).range(e).unknown(r)},vo.apply(i,arguments)}const MT=new Date,DT=new Date;function bi(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return d;let h;do d.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<o);return d},i.filter=s=>bi(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!s(o););else for(;--c>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(MT.setTime(+s),DT.setTime(+o),t(MT),t(DT),Math.floor(r(MT,DT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const $S=bi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$S.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):$S);$S.range;const wu=1e3,fo=wu*60,Su=fo*60,Vu=Su*24,CR=Vu*7,S$=Vu*30,LT=Vu*365,fp=bi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getUTCSeconds());fp.range;const PR=bi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wu)},(t,e)=>{t.setTime(+t+e*fo)},(t,e)=>(e-t)/fo,t=>t.getMinutes());PR.range;const IR=bi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fo)},(t,e)=>(e-t)/fo,t=>t.getUTCMinutes());IR.range;const OR=bi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wu-t.getMinutes()*fo)},(t,e)=>{t.setTime(+t+e*Su)},(t,e)=>(e-t)/Su,t=>t.getHours());OR.range;const RR=bi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Su)},(t,e)=>(e-t)/Su,t=>t.getUTCHours());RR.range;const N0=bi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fo)/Vu,t=>t.getDate()-1);N0.range;const Dj=bi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vu,t=>t.getUTCDate()-1);Dj.range;const $7=bi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vu,t=>Math.floor(t/Vu));$7.range;function Gp(t){return bi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*fo)/CR)}const Lj=Gp(0),BS=Gp(1),obe=Gp(2),lbe=Gp(3),uy=Gp(4),cbe=Gp(5),ube=Gp(6);Lj.range;BS.range;obe.range;lbe.range;uy.range;cbe.range;ube.range;function Kp(t){return bi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/CR)}const Fj=Kp(0),VS=Kp(1),dbe=Kp(2),hbe=Kp(3),dy=Kp(4),fbe=Kp(5),pbe=Kp(6);Fj.range;VS.range;dbe.range;hbe.range;dy.range;fbe.range;pbe.range;const MR=bi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MR.range;const DR=bi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DR.range;const zu=bi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});zu.range;const Uu=bi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Uu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Uu.range;function B7(t,e,r,n,i,s){const o=[[fp,1,wu],[fp,5,5*wu],[fp,15,15*wu],[fp,30,30*wu],[s,1,fo],[s,5,5*fo],[s,15,15*fo],[s,30,30*fo],[i,1,Su],[i,3,3*Su],[i,6,6*Su],[i,12,12*Su],[n,1,Vu],[n,2,2*Vu],[r,1,CR],[e,1,S$],[e,3,3*S$],[t,1,LT]];function c(h,g,y){const x=g<h;x&&([h,g]=[g,h]);const N=y&&typeof y.range=="function"?y:d(h,g,y),C=N?N.range(h,+g+1):[];return x?C.reverse():C}function d(h,g,y){const x=Math.abs(g-h)/y,N=vR(([,,k])=>k).right(o,x);if(N===o.length)return t.every(QP(h/LT,g/LT,y));if(N===0)return $S.every(Math.max(QP(h,g,y),1));const[C,A]=o[x/o[N-1][2]<o[N][2]/x?N-1:N];return C.every(A)}return[c,d]}const[mbe,gbe]=B7(Uu,DR,Fj,$7,RR,IR),[ybe,vbe]=B7(zu,MR,Lj,N0,OR,PR);function FT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $T(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yx(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function xbe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,h=vx(i),g=xx(i),y=vx(s),x=xx(s),N=vx(o),C=xx(o),A=vx(c),k=xx(c),D=vx(d),M=xx(d),$={a:me,A:he,b:Se,B:be,c:null,d:E$,e:E$,f:zbe,g:Zbe,G:e0e,H:$be,I:Bbe,j:Vbe,L:V7,m:Ube,M:qbe,p:ue,q:ge,Q:P$,s:I$,S:Hbe,u:Wbe,U:Gbe,V:Kbe,w:Ybe,W:Xbe,x:null,X:null,y:Qbe,Y:Jbe,Z:t0e,"%":C$},L={a:ke,A:ze,b:et,B:Ke,c:null,d:T$,e:T$,f:s0e,g:m0e,G:y0e,H:r0e,I:n0e,j:i0e,L:U7,m:a0e,M:o0e,p:_e,q:Ce,Q:P$,s:I$,S:l0e,u:c0e,U:u0e,V:d0e,w:h0e,W:f0e,x:null,X:null,y:p0e,Y:g0e,Z:v0e,"%":C$},U={a:J,A:ee,b:X,B:Y,c:se,d:A$,e:A$,f:Mbe,g:N$,G:j$,H:k$,I:k$,j:Pbe,L:Rbe,m:Cbe,M:Ibe,p:Q,q:Tbe,Q:Lbe,s:Fbe,S:Obe,u:jbe,U:Nbe,V:Abe,w:_be,W:kbe,x:pe,X:ce,y:N$,Y:j$,Z:Ebe,"%":Dbe};$.x=K(r,$),$.X=K(n,$),$.c=K(e,$),L.x=K(r,L),L.X=K(n,L),L.c=K(e,L);function K(Me,Be){return function(Ue){var Oe=[],Le=-1,vt=0,Ft=Me.length,Dt,gr,Zr;for(Ue instanceof Date||(Ue=new Date(+Ue));++Le<Ft;)Me.charCodeAt(Le)===37&&(Oe.push(Me.slice(vt,Le)),(gr=_$[Dt=Me.charAt(++Le)])!=null?Dt=Me.charAt(++Le):gr=Dt==="e"?" ":"0",(Zr=Be[Dt])&&(Dt=Zr(Ue,gr)),Oe.push(Dt),vt=Le+1);return Oe.push(Me.slice(vt,Le)),Oe.join("")}}function q(Me,Be){return function(Ue){var Oe=yx(1900,void 0,1),Le=V(Oe,Me,Ue+="",0),vt,Ft;if(Le!=Ue.length)return null;if("Q"in Oe)return new Date(Oe.Q);if("s"in Oe)return new Date(Oe.s*1e3+("L"in Oe?Oe.L:0));if(Be&&!("Z"in Oe)&&(Oe.Z=0),"p"in Oe&&(Oe.H=Oe.H%12+Oe.p*12),Oe.m===void 0&&(Oe.m="q"in Oe?Oe.q:0),"V"in Oe){if(Oe.V<1||Oe.V>53)return null;"w"in Oe||(Oe.w=1),"Z"in Oe?(vt=$T(yx(Oe.y,0,1)),Ft=vt.getUTCDay(),vt=Ft>4||Ft===0?VS.ceil(vt):VS(vt),vt=Dj.offset(vt,(Oe.V-1)*7),Oe.y=vt.getUTCFullYear(),Oe.m=vt.getUTCMonth(),Oe.d=vt.getUTCDate()+(Oe.w+6)%7):(vt=FT(yx(Oe.y,0,1)),Ft=vt.getDay(),vt=Ft>4||Ft===0?BS.ceil(vt):BS(vt),vt=N0.offset(vt,(Oe.V-1)*7),Oe.y=vt.getFullYear(),Oe.m=vt.getMonth(),Oe.d=vt.getDate()+(Oe.w+6)%7)}else("W"in Oe||"U"in Oe)&&("w"in Oe||(Oe.w="u"in Oe?Oe.u%7:"W"in Oe?1:0),Ft="Z"in Oe?$T(yx(Oe.y,0,1)).getUTCDay():FT(yx(Oe.y,0,1)).getDay(),Oe.m=0,Oe.d="W"in Oe?(Oe.w+6)%7+Oe.W*7-(Ft+5)%7:Oe.w+Oe.U*7-(Ft+6)%7);return"Z"in Oe?(Oe.H+=Oe.Z/100|0,Oe.M+=Oe.Z%100,$T(Oe)):FT(Oe)}}function V(Me,Be,Ue,Oe){for(var Le=0,vt=Be.length,Ft=Ue.length,Dt,gr;Le<vt;){if(Oe>=Ft)return-1;if(Dt=Be.charCodeAt(Le++),Dt===37){if(Dt=Be.charAt(Le++),gr=U[Dt in _$?Be.charAt(Le++):Dt],!gr||(Oe=gr(Me,Ue,Oe))<0)return-1}else if(Dt!=Ue.charCodeAt(Oe++))return-1}return Oe}function Q(Me,Be,Ue){var Oe=h.exec(Be.slice(Ue));return Oe?(Me.p=g.get(Oe[0].toLowerCase()),Ue+Oe[0].length):-1}function J(Me,Be,Ue){var Oe=N.exec(Be.slice(Ue));return Oe?(Me.w=C.get(Oe[0].toLowerCase()),Ue+Oe[0].length):-1}function ee(Me,Be,Ue){var Oe=y.exec(Be.slice(Ue));return Oe?(Me.w=x.get(Oe[0].toLowerCase()),Ue+Oe[0].length):-1}function X(Me,Be,Ue){var Oe=D.exec(Be.slice(Ue));return Oe?(Me.m=M.get(Oe[0].toLowerCase()),Ue+Oe[0].length):-1}function Y(Me,Be,Ue){var Oe=A.exec(Be.slice(Ue));return Oe?(Me.m=k.get(Oe[0].toLowerCase()),Ue+Oe[0].length):-1}function se(Me,Be,Ue){return V(Me,e,Be,Ue)}function pe(Me,Be,Ue){return V(Me,r,Be,Ue)}function ce(Me,Be,Ue){return V(Me,n,Be,Ue)}function me(Me){return o[Me.getDay()]}function he(Me){return s[Me.getDay()]}function Se(Me){return d[Me.getMonth()]}function be(Me){return c[Me.getMonth()]}function ue(Me){return i[+(Me.getHours()>=12)]}function ge(Me){return 1+~~(Me.getMonth()/3)}function ke(Me){return o[Me.getUTCDay()]}function ze(Me){return s[Me.getUTCDay()]}function et(Me){return d[Me.getUTCMonth()]}function Ke(Me){return c[Me.getUTCMonth()]}function _e(Me){return i[+(Me.getUTCHours()>=12)]}function Ce(Me){return 1+~~(Me.getUTCMonth()/3)}return{format:function(Me){var Be=K(Me+="",$);return Be.toString=function(){return Me},Be},parse:function(Me){var Be=q(Me+="",!1);return Be.toString=function(){return Me},Be},utcFormat:function(Me){var Be=K(Me+="",L);return Be.toString=function(){return Me},Be},utcParse:function(Me){var Be=q(Me+="",!0);return Be.toString=function(){return Me},Be}}}var _$={"-":"",_:" ",0:"0"},Li=/^\s*\d+/,bbe=/^%/,wbe=/[\\^$*+?|[\]().{}]/g;function Pr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Sbe(t){return t.replace(wbe,"\\$&")}function vx(t){return new RegExp("^(?:"+t.map(Sbe).join("|")+")","i")}function xx(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function _be(t,e,r){var n=Li.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function jbe(t,e,r){var n=Li.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Nbe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Abe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function kbe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function j$(t,e,r){var n=Li.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function N$(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ebe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tbe(t,e,r){var n=Li.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Cbe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function A$(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Pbe(t,e,r){var n=Li.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function k$(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Ibe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Obe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Rbe(t,e,r){var n=Li.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Mbe(t,e,r){var n=Li.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Dbe(t,e,r){var n=bbe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Lbe(t,e,r){var n=Li.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Fbe(t,e,r){var n=Li.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function E$(t,e){return Pr(t.getDate(),e,2)}function $be(t,e){return Pr(t.getHours(),e,2)}function Bbe(t,e){return Pr(t.getHours()%12||12,e,2)}function Vbe(t,e){return Pr(1+N0.count(zu(t),t),e,3)}function V7(t,e){return Pr(t.getMilliseconds(),e,3)}function zbe(t,e){return V7(t,e)+"000"}function Ube(t,e){return Pr(t.getMonth()+1,e,2)}function qbe(t,e){return Pr(t.getMinutes(),e,2)}function Hbe(t,e){return Pr(t.getSeconds(),e,2)}function Wbe(t){var e=t.getDay();return e===0?7:e}function Gbe(t,e){return Pr(Lj.count(zu(t)-1,t),e,2)}function z7(t){var e=t.getDay();return e>=4||e===0?uy(t):uy.ceil(t)}function Kbe(t,e){return t=z7(t),Pr(uy.count(zu(t),t)+(zu(t).getDay()===4),e,2)}function Ybe(t){return t.getDay()}function Xbe(t,e){return Pr(BS.count(zu(t)-1,t),e,2)}function Qbe(t,e){return Pr(t.getFullYear()%100,e,2)}function Zbe(t,e){return t=z7(t),Pr(t.getFullYear()%100,e,2)}function Jbe(t,e){return Pr(t.getFullYear()%1e4,e,4)}function e0e(t,e){var r=t.getDay();return t=r>=4||r===0?uy(t):uy.ceil(t),Pr(t.getFullYear()%1e4,e,4)}function t0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pr(e/60|0,"0",2)+Pr(e%60,"0",2)}function T$(t,e){return Pr(t.getUTCDate(),e,2)}function r0e(t,e){return Pr(t.getUTCHours(),e,2)}function n0e(t,e){return Pr(t.getUTCHours()%12||12,e,2)}function i0e(t,e){return Pr(1+Dj.count(Uu(t),t),e,3)}function U7(t,e){return Pr(t.getUTCMilliseconds(),e,3)}function s0e(t,e){return U7(t,e)+"000"}function a0e(t,e){return Pr(t.getUTCMonth()+1,e,2)}function o0e(t,e){return Pr(t.getUTCMinutes(),e,2)}function l0e(t,e){return Pr(t.getUTCSeconds(),e,2)}function c0e(t){var e=t.getUTCDay();return e===0?7:e}function u0e(t,e){return Pr(Fj.count(Uu(t)-1,t),e,2)}function q7(t){var e=t.getUTCDay();return e>=4||e===0?dy(t):dy.ceil(t)}function d0e(t,e){return t=q7(t),Pr(dy.count(Uu(t),t)+(Uu(t).getUTCDay()===4),e,2)}function h0e(t){return t.getUTCDay()}function f0e(t,e){return Pr(VS.count(Uu(t)-1,t),e,2)}function p0e(t,e){return Pr(t.getUTCFullYear()%100,e,2)}function m0e(t,e){return t=q7(t),Pr(t.getUTCFullYear()%100,e,2)}function g0e(t,e){return Pr(t.getUTCFullYear()%1e4,e,4)}function y0e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?dy(t):dy.ceil(t),Pr(t.getUTCFullYear()%1e4,e,4)}function v0e(){return"+0000"}function C$(){return"%"}function P$(t){return+t}function I$(t){return Math.floor(+t/1e3)}var og,H7,W7;x0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x0e(t){return og=xbe(t),H7=og.format,og.parse,W7=og.utcFormat,og.utcParse,og}function b0e(t){return new Date(t)}function w0e(t){return t instanceof Date?+t:+new Date(+t)}function LR(t,e,r,n,i,s,o,c,d,h){var g=_R(),y=g.invert,x=g.domain,N=h(".%L"),C=h(":%S"),A=h("%I:%M"),k=h("%I %p"),D=h("%a %d"),M=h("%b %d"),$=h("%B"),L=h("%Y");function U(K){return(d(K)<K?N:c(K)<K?C:o(K)<K?A:s(K)<K?k:n(K)<K?i(K)<K?D:M:r(K)<K?$:L)(K)}return g.invert=function(K){return new Date(y(K))},g.domain=function(K){return arguments.length?x(Array.from(K,w0e)):x().map(b0e)},g.ticks=function(K){var q=x();return t(q[0],q[q.length-1],K??10)},g.tickFormat=function(K,q){return q==null?U:h(q)},g.nice=function(K){var q=x();return(!K||typeof K.range!="function")&&(K=e(q[0],q[q.length-1],K??10)),K?x(I7(q,K)):g},g.copy=function(){return j0(g,LR(t,e,r,n,i,s,o,c,d,h))},g}function S0e(){return vo.apply(LR(ybe,vbe,zu,MR,Lj,N0,OR,PR,fp,H7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _0e(){return vo.apply(LR(mbe,gbe,Uu,DR,Fj,Dj,RR,IR,fp,W7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $j(){var t=0,e=1,r,n,i,s,o=Ms,c=!1,d;function h(y){return y==null||isNaN(y=+y)?d:o(i===0?.5:(y=(s(y)-r)*i,c?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e]=y,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(y){return arguments.length?(c=!!y,h):c},h.interpolator=function(y){return arguments.length?(o=y,h):o};function g(y){return function(x){var N,C;return arguments.length?([N,C]=x,o=y(N,C),h):[o(0),o(1)]}}return h.range=g(tv),h.rangeRound=g(SR),h.unknown=function(y){return arguments.length?(d=y,h):d},function(y){return s=y,r=y(t),n=y(e),i=r===n?0:1/(n-r),h}}function Jh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function G7(){var t=Zh($j()(Ms));return t.copy=function(){return Jh(t,G7())},Zu.apply(t,arguments)}function K7(){var t=AR($j()).domain([1,10]);return t.copy=function(){return Jh(t,K7()).base(t.base())},Zu.apply(t,arguments)}function Y7(){var t=kR($j());return t.copy=function(){return Jh(t,Y7()).constant(t.constant())},Zu.apply(t,arguments)}function FR(){var t=ER($j());return t.copy=function(){return Jh(t,FR()).exponent(t.exponent())},Zu.apply(t,arguments)}function j0e(){return FR.apply(null,arguments).exponent(.5)}function X7(){var t=[],e=Ms;function r(n){if(n!=null&&!isNaN(n=+n))return e((S0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ph),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>uxe(t,s/n))},r.copy=function(){return X7(e).domain(t)},Zu.apply(r,arguments)}function Bj(){var t=0,e=.5,r=1,n=1,i,s,o,c,d,h=Ms,g,y=!1,x;function N(A){return isNaN(A=+A)?x:(A=.5+((A=+g(A))-s)*(n*A<n*s?c:d),h(y?Math.max(0,Math.min(1,A)):A))}N.domain=function(A){return arguments.length?([t,e,r]=A,i=g(t=+t),s=g(e=+e),o=g(r=+r),c=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,N):[t,e,r]},N.clamp=function(A){return arguments.length?(y=!!A,N):y},N.interpolator=function(A){return arguments.length?(h=A,N):h};function C(A){return function(k){var D,M,$;return arguments.length?([D,M,$]=k,h=Dxe(A,[D,M,$]),N):[h(0),h(.5),h(1)]}}return N.range=C(tv),N.rangeRound=C(SR),N.unknown=function(A){return arguments.length?(x=A,N):x},function(A){return g=A,i=A(t),s=A(e),o=A(r),c=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,N}}function Q7(){var t=Zh(Bj()(Ms));return t.copy=function(){return Jh(t,Q7())},Zu.apply(t,arguments)}function Z7(){var t=AR(Bj()).domain([.1,1,10]);return t.copy=function(){return Jh(t,Z7()).base(t.base())},Zu.apply(t,arguments)}function J7(){var t=kR(Bj());return t.copy=function(){return Jh(t,J7()).constant(t.constant())},Zu.apply(t,arguments)}function $R(){var t=ER(Bj());return t.copy=function(){return Jh(t,$R()).exponent(t.exponent())},Zu.apply(t,arguments)}function N0e(){return $R.apply(null,arguments).exponent(.5)}const O$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_b,scaleDiverging:Q7,scaleDivergingLog:Z7,scaleDivergingPow:$R,scaleDivergingSqrt:N0e,scaleDivergingSymlog:J7,scaleIdentity:P7,scaleImplicit:ZP,scaleLinear:FS,scaleLog:O7,scaleOrdinal:xR,scalePoint:qx,scalePow:TR,scaleQuantile:D7,scaleQuantize:L7,scaleRadial:M7,scaleSequential:G7,scaleSequentialLog:K7,scaleSequentialPow:FR,scaleSequentialQuantile:X7,scaleSequentialSqrt:j0e,scaleSequentialSymlog:Y7,scaleSqrt:sbe,scaleSymlog:R7,scaleThreshold:F7,scaleTime:S0e,scaleUtc:_0e,tickFormat:C7},Symbol.toStringTag,{value:"Module"}));var BT,R$;function Vj(){if(R$)return BT;R$=1;var t=Xy();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var c=r[s],d=n(c);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,g=c}return g}return BT=e,BT}var VT,M$;function eG(){if(M$)return VT;M$=1;function t(e,r){return e>r}return VT=t,VT}var zT,D$;function A0e(){if(D$)return zT;D$=1;var t=Vj(),e=eG(),r=ev();function n(i){return i&&i.length?t(i,r,e):void 0}return zT=n,zT}var k0e=A0e();const _h=Lr(k0e);var UT,L$;function tG(){if(L$)return UT;L$=1;function t(e,r){return e<r}return UT=t,UT}var qT,F$;function E0e(){if(F$)return qT;F$=1;var t=Vj(),e=tG(),r=ev();function n(i){return i&&i.length?t(i,r,e):void 0}return qT=n,qT}var T0e=E0e();const zj=Lr(T0e);var HT,$$;function C0e(){if($$)return HT;$$=1;var t=tR(),e=kc(),r=l7(),n=ca();function i(s,o){var c=n(s)?t:r;return c(s,e(o,3))}return HT=i,HT}var WT,B$;function P0e(){if(B$)return WT;B$=1;var t=a7(),e=C0e();function r(n,i){return t(e(n,i),1)}return WT=r,WT}var I0e=P0e();const O0e=Lr(I0e);var GT,V$;function R0e(){if(V$)return GT;V$=1;var t=pR();function e(r,n){return t(r,n)}return GT=e,GT}var M0e=R0e();const hy=Lr(M0e);var rv=1e9,D0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VR,Nn=!0,yo="[DecimalError] ",jp=yo+"Invalid argument: ",BR=yo+"Exponent out of range: ",nv=Math.floor,sp=Math.pow,L0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,Ri=1e7,vn=7,rG=9007199254740991,zS=nv(rG/vn),yt={};yt.absoluteValue=yt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};yt.comparedTo=yt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*vn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};yt.dividedBy=yt.div=function(t){return Tu(this,new this.constructor(t))};yt.dividedToIntegerBy=yt.idiv=function(t){var e=this,r=e.constructor;return sn(Tu(e,new r(t),0,1),r.precision)};yt.equals=yt.eq=function(t){return!this.cmp(t)};yt.exponent=function(){return di(this)};yt.greaterThan=yt.gt=function(t){return this.cmp(t)>0};yt.greaterThanOrEqualTo=yt.gte=function(t){return this.cmp(t)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(t){return this.cmp(t)<0};yt.lessThanOrEqualTo=yt.lte=function(t){return this.cmp(t)<1};yt.logarithm=yt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Da))throw Error(yo+"NaN");if(r.s<1)throw Error(yo+(r.s?"NaN":"-Infinity"));return r.eq(Da)?new n(0):(Nn=!1,e=Tu(Eb(r,s),Eb(t,s),s),Nn=!0,sn(e,i))};yt.minus=yt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sG(e,t):nG(e,(t.s=-t.s,t))};yt.modulo=yt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(yo+"NaN");return r.s?(Nn=!1,e=Tu(r,t,0,1).times(t),Nn=!0,r.minus(e)):sn(new n(r),i)};yt.naturalExponential=yt.exp=function(){return iG(this)};yt.naturalLogarithm=yt.ln=function(){return Eb(this)};yt.negated=yt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};yt.plus=yt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nG(e,t):sG(e,(t.s=-t.s,t))};yt.precision=yt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jp+t);if(e=di(i)+1,n=i.d.length-1,r=n*vn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};yt.squareRoot=yt.sqrt=function(){var t,e,r,n,i,s,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(yo+"NaN")}for(t=di(c),Nn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=cc(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(s=n,n=s.plus(Tu(c,s,o+2)).times(.5),cc(s.d).slice(0,o)===(e=cc(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(sn(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;o+=4}return Nn=!0,sn(n,r)};yt.times=yt.mul=function(t){var e,r,n,i,s,o,c,d,h,g=this,y=g.constructor,x=g.d,N=(t=new y(t)).d;if(!g.s||!t.s)return new y(0);for(t.s*=g.s,r=g.e+t.e,d=x.length,h=N.length,d<h&&(s=x,x=N,N=s,o=d,d=h,h=o),s=[],o=d+h,n=o;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)c=s[i]+N[n]*x[i-n-1]+e,s[i--]=c%Ri|0,e=c/Ri|0;s[i]=(s[i]+e)%Ri|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Nn?sn(t,y.precision):t};yt.toDecimalPlaces=yt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xc(t,0,rv),e===void 0?e=n.rounding:xc(e,0,8),sn(r,t+di(r)+1,e))};yt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Lp(n,!0):(xc(t,0,rv),e===void 0?e=i.rounding:xc(e,0,8),n=sn(new i(n),t+1,e),r=Lp(n,!0,t+1)),r};yt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Lp(i):(xc(t,0,rv),e===void 0?e=s.rounding:xc(e,0,8),n=sn(new s(i),t+di(i)+1,e),r=Lp(n.abs(),!1,t+di(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};yt.toInteger=yt.toint=function(){var t=this,e=t.constructor;return sn(new e(t),di(t)+1,e.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(t){var e,r,n,i,s,o,c=this,d=c.constructor,h=12,g=+(t=new d(t));if(!t.s)return new d(Da);if(c=new d(c),!c.s){if(t.s<1)throw Error(yo+"Infinity");return c}if(c.eq(Da))return c;if(n=d.precision,t.eq(Da))return sn(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=c.s,o){if((r=g<0?-g:g)<=rG){for(i=new d(Da),e=Math.ceil(n/vn+4),Nn=!1;r%2&&(i=i.times(c),U$(i.d,e)),r=nv(r/2),r!==0;)c=c.times(c),U$(c.d,e);return Nn=!0,t.s<0?new d(Da).div(i):sn(i,n)}}else if(s<0)throw Error(yo+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Nn=!1,i=t.times(Eb(c,n+h)),Nn=!0,i=iG(i),i.s=s,i};yt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=di(i),n=Lp(i,r<=s.toExpNeg||r>=s.toExpPos)):(xc(t,1,rv),e===void 0?e=s.rounding:xc(e,0,8),i=sn(new s(i),t,e),r=di(i),n=Lp(i,t<=r||r<=s.toExpNeg,t)),n};yt.toSignificantDigits=yt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xc(t,1,rv),e===void 0?e=n.rounding:xc(e,0,8)),sn(new n(r),t,e)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=di(t),r=t.constructor;return Lp(t,e<=r.toExpNeg||e>=r.toExpPos)};function nG(t,e){var r,n,i,s,o,c,d,h,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),Nn?sn(e,y):e;if(d=t.d,h=e.d,o=t.e,i=e.e,d=d.slice(),s=o-i,s){for(s<0?(n=d,s=-s,c=h.length):(n=h,i=o,c=d.length),o=Math.ceil(y/vn),c=o>c?o+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=d.length,s=h.length,c-s<0&&(s=c,n=h,h=d,d=n),r=0;s;)r=(d[--s]=d[s]+h[s]+r)/Ri|0,d[s]%=Ri;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Nn?sn(e,y):e}function xc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(jp+t)}function cc(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=vn-n.length,r&&(s+=lh(r)),s+=n;o=t[e],n=o+"",r=vn-n.length,r&&(s+=lh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Tu=function(){function t(n,i){var s,o=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+o,n[c]=s%Ri|0,o=s/Ri|0;return o&&n.unshift(o),n}function e(n,i,s,o){var c,d;if(s!=o)d=s>o?1:-1;else for(c=d=0;c<s;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Ri+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var c,d,h,g,y,x,N,C,A,k,D,M,$,L,U,K,q,V,Q=n.constructor,J=n.s==i.s?1:-1,ee=n.d,X=i.d;if(!n.s)return new Q(n);if(!i.s)throw Error(yo+"Division by zero");for(d=n.e-i.e,q=X.length,U=ee.length,N=new Q(J),C=N.d=[],h=0;X[h]==(ee[h]||0);)++h;if(X[h]>(ee[h]||0)&&--d,s==null?M=s=Q.precision:o?M=s+(di(n)-di(i))+1:M=s,M<0)return new Q(0);if(M=M/vn+2|0,h=0,q==1)for(g=0,X=X[0],M++;(h<U||g)&&M--;h++)$=g*Ri+(ee[h]||0),C[h]=$/X|0,g=$%X|0;else{for(g=Ri/(X[0]+1)|0,g>1&&(X=t(X,g),ee=t(ee,g),q=X.length,U=ee.length),L=q,A=ee.slice(0,q),k=A.length;k<q;)A[k++]=0;V=X.slice(),V.unshift(0),K=X[0],X[1]>=Ri/2&&++K;do g=0,c=e(X,A,q,k),c<0?(D=A[0],q!=k&&(D=D*Ri+(A[1]||0)),g=D/K|0,g>1?(g>=Ri&&(g=Ri-1),y=t(X,g),x=y.length,k=A.length,c=e(y,A,x,k),c==1&&(g--,r(y,q<x?V:X,x))):(g==0&&(c=g=1),y=X.slice()),x=y.length,x<k&&y.unshift(0),r(A,y,k),c==-1&&(k=A.length,c=e(X,A,q,k),c<1&&(g++,r(A,q<k?V:X,k))),k=A.length):c===0&&(g++,A=[0]),C[h++]=g,c&&A[0]?A[k++]=ee[L]||0:(A=[ee[L]],k=1);while((L++<U||A[0]!==void 0)&&M--)}return C[0]||C.shift(),N.e=d,sn(N,o?s+di(N)+1:s)}}();function iG(t,e){var r,n,i,s,o,c,d=0,h=0,g=t.constructor,y=g.precision;if(di(t)>16)throw Error(BR+di(t));if(!t.s)return new g(Da);for(Nn=!1,c=y,o=new g(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(n=Math.log(sp(2,h))/Math.LN10*2+5|0,c+=n,r=i=s=new g(Da),g.precision=c;;){if(i=sn(i.times(t),c),r=r.times(++d),o=s.plus(Tu(i,r,c)),cc(o.d).slice(0,c)===cc(s.d).slice(0,c)){for(;h--;)s=sn(s.times(s),c);return g.precision=y,e==null?(Nn=!0,sn(s,y)):s}s=o}}function di(t){for(var e=t.e*vn,r=t.d[0];r>=10;r/=10)e++;return e}function KT(t,e,r){if(e>t.LN10.sd())throw Nn=!0,r&&(t.precision=r),Error(yo+"LN10 precision limit exceeded");return sn(new t(t.LN10),e)}function lh(t){for(var e="";t--;)e+="0";return e}function Eb(t,e){var r,n,i,s,o,c,d,h,g,y=1,x=10,N=t,C=N.d,A=N.constructor,k=A.precision;if(N.s<1)throw Error(yo+(N.s?"NaN":"-Infinity"));if(N.eq(Da))return new A(0);if(e==null?(Nn=!1,h=k):h=e,N.eq(10))return e==null&&(Nn=!0),KT(A,h);if(h+=x,A.precision=h,r=cc(C),n=r.charAt(0),s=di(N),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)N=N.times(t),r=cc(N.d),n=r.charAt(0),y++;s=di(N),n>1?(N=new A("0."+r),s++):N=new A(n+"."+r.slice(1))}else return d=KT(A,h+2,k).times(s+""),N=Eb(new A(n+"."+r.slice(1)),h-x).plus(d),A.precision=k,e==null?(Nn=!0,sn(N,k)):N;for(c=o=N=Tu(N.minus(Da),N.plus(Da),h),g=sn(N.times(N),h),i=3;;){if(o=sn(o.times(g),h),d=c.plus(Tu(o,new A(i),h)),cc(d.d).slice(0,h)===cc(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(KT(A,h+2,k).times(s+""))),c=Tu(c,new A(y),h),A.precision=k,e==null?(Nn=!0,sn(c,k)):c;c=d,i+=2}}function z$(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=nv(r/vn),t.d=[],n=(r+1)%vn,r<0&&(n+=vn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=vn;n<i;)t.d.push(+e.slice(n,n+=vn));e=e.slice(n),n=vn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Nn&&(t.e>zS||t.e<-zS))throw Error(BR+r)}else t.s=0,t.e=0,t.d=[0];return t}function sn(t,e,r){var n,i,s,o,c,d,h,g,y=t.d;for(o=1,s=y[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=vn,i=e,h=y[g=0];else{if(g=Math.ceil((n+1)/vn),s=y.length,g>=s)return t;for(h=s=y[g],o=1;s>=10;s/=10)o++;n%=vn,i=n-vn+o}if(r!==void 0&&(s=sp(10,o-i-1),c=h/s%10|0,d=e<0||y[g+1]!==void 0||h%s,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?h/sp(10,o-i):0:y[g-1])%10&1||r==(t.s<0?8:7))),e<1||!y[0])return d?(s=di(t),y.length=1,e=e-s-1,y[0]=sp(10,(vn-e%vn)%vn),t.e=nv(-e/vn)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(n==0?(y.length=g,s=1,g--):(y.length=g+1,s=sp(10,vn-n),y[g]=i>0?(h/sp(10,o-i)%sp(10,i)|0)*s:0),d)for(;;)if(g==0){(y[0]+=s)==Ri&&(y[0]=1,++t.e);break}else{if(y[g]+=s,y[g]!=Ri)break;y[g--]=0,s=1}for(n=y.length;y[--n]===0;)y.pop();if(Nn&&(t.e>zS||t.e<-zS))throw Error(BR+di(t));return t}function sG(t,e){var r,n,i,s,o,c,d,h,g,y,x=t.constructor,N=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Nn?sn(e,N):e;if(d=t.d,y=e.d,n=e.e,h=t.e,d=d.slice(),o=h-n,o){for(g=o<0,g?(r=d,o=-o,c=y.length):(r=y,n=h,c=d.length),i=Math.max(Math.ceil(N/vn),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=y.length,g=i<c,g&&(c=i),i=0;i<c;i++)if(d[i]!=y[i]){g=d[i]<y[i];break}o=0}for(g&&(r=d,d=y,y=r,e.s=-e.s),c=d.length,i=y.length-c;i>0;--i)d[c++]=0;for(i=y.length;i>o;){if(d[--i]<y[i]){for(s=i;s&&d[--s]===0;)d[s]=Ri-1;--d[s],d[i]+=Ri}d[i]-=y[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Nn?sn(e,N):e):new x(0)}function Lp(t,e,r){var n,i=di(t),s=cc(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+lh(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+lh(-i-1)+s,r&&(n=r-o)>0&&(s+=lh(n))):i>=o?(s+=lh(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+lh(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=lh(n))),t.s<0?"-"+s:s}function U$(t,e){if(t.length>e)return t.length=e,!0}function aG(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return z$(o,s.toString())}else if(typeof s!="string")throw Error(jp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,L0e.test(s))z$(o,s);else throw Error(jp+s)}if(i.prototype=yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aG,i.config=i.set=F0e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function F0e(t){if(!t||typeof t!="object")throw Error(yo+"Object expected");var e,r,n,i=["precision",1,rv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(nv(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(jp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jp+r+": "+n);return this}var VR=aG(D0e);Da=new VR(1);const Qr=VR;function $0e(t){return U0e(t)||z0e(t)||V0e(t)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(t,e){if(t){if(typeof t=="string")return r2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(t,e)}}function z0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function U0e(t){if(Array.isArray(t))return r2(t)}function r2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var q0e=function(e){return e},oG={},lG=function(e){return e===oG},q$=function(e){return function r(){return arguments.length===0||arguments.length===1&&lG(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},H0e=function t(e,r){return e===1?r:q$(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(c){return c!==oG}).length;return o>=e?r.apply(void 0,i):t(e-o,q$(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var g=i.map(function(y){return lG(y)?d.shift():y});return r.apply(void 0,$0e(g).concat(d))}))})},Uj=function(e){return H0e(e.length,e)},n2=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},W0e=Uj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),G0e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return q0e;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(c,d){return d(c)},s.apply(void 0,arguments))}},i2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cG=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(c,d){return c===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function K0e(t){var e;return t===0?e=1:e=Math.floor(new Qr(t).abs().log(10).toNumber())+1,e}function Y0e(t,e,r){for(var n=new Qr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var X0e=Uj(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Q0e=Uj(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Z0e=Uj(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const qj={rangeStep:Y0e,getDigitCount:K0e,interpolateNumber:X0e,uninterpolateNumber:Q0e,uninterpolateTruncation:Z0e};function s2(t){return twe(t)||ewe(t)||uG(t)||J0e()}function J0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ewe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function twe(t){if(Array.isArray(t))return a2(t)}function Tb(t,e){return iwe(t)||nwe(t,e)||uG(t,e)||rwe()}function rwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,s=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function iwe(t){if(Array.isArray(t))return t}function dG(t){var e=Tb(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function hG(t,e,r){if(t.lte(0))return new Qr(0);var n=qj.getDigitCount(t.toNumber()),i=new Qr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,c=new Qr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),d=c.mul(i);return e?d:new Qr(Math.ceil(d))}function swe(t,e,r){var n=1,i=new Qr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Qr(10).pow(qj.getDigitCount(t)-1),i=new Qr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Qr(Math.floor(t)))}else t===0?i=new Qr(Math.floor((e-1)/2)):r||(i=new Qr(Math.floor(t)));var o=Math.floor((e-1)/2),c=G0e(W0e(function(d){return i.add(new Qr(d-o).mul(n)).toNumber()}),n2);return c(0,e)}function fG(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Qr(0),tickMin:new Qr(0),tickMax:new Qr(0)};var s=hG(new Qr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Qr(0):(o=new Qr(t).add(e).div(2),o=o.sub(new Qr(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new Qr(e).sub(o).div(s).toNumber()),h=c+d+1;return h>r?fG(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,c=e>0?c:c+(r-h)),{step:s,tickMin:o.sub(new Qr(c).mul(s)),tickMax:o.add(new Qr(d).mul(s))})}function awe(t){var e=Tb(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=dG([r,n]),d=Tb(c,2),h=d[0],g=d[1];if(h===-1/0||g===1/0){var y=g===1/0?[h].concat(s2(n2(0,i-1).map(function(){return 1/0}))):[].concat(s2(n2(0,i-1).map(function(){return-1/0})),[g]);return r>n?i2(y):y}if(h===g)return swe(h,i,s);var x=fG(h,g,o,s),N=x.step,C=x.tickMin,A=x.tickMax,k=qj.rangeStep(C,A.add(new Qr(.1).mul(N)),N);return r>n?i2(k):k}function owe(t,e){var r=Tb(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dG([n,i]),c=Tb(o,2),d=c[0],h=c[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var g=Math.max(e,2),y=hG(new Qr(h).sub(d).div(g-1),s,0),x=[].concat(s2(qj.rangeStep(new Qr(d),new Qr(h).sub(new Qr(.99).mul(y)),y)),[h]);return n>i?i2(x):x}var lwe=cG(awe),cwe=cG(owe),uwe="Invariant failed";function Fp(t,e){throw new Error(uwe)}var dwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},US.apply(this,arguments)}function hwe(t,e){return gwe(t)||mwe(t,e)||pwe(t,e)||fwe()}function fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(t,e){if(t){if(typeof t=="string")return H$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H$(t,e)}}function H$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function gwe(t){if(Array.isArray(t))return t}function ywe(t,e){if(t==null)return{};var r=vwe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gG(n.key),n)}}function wwe(t,e,r){return e&&bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Swe(t,e,r){return e=qS(e),_we(t,pG()?Reflect.construct(e,r||[],qS(t).constructor):e.apply(t,r))}function _we(t,e){if(e&&(fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(t)}function jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!t})()}function qS(t){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qS(t)}function Nwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o2(t,e)}function o2(t,e){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o2(t,e)}function mG(t,e,r){return e=gG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gG(t){var e=Awe(t,"string");return fy(e)=="symbol"?e:e+""}function Awe(t,e){if(fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hj=function(t){function e(){return xwe(this,e),Swe(this,e,arguments)}return Nwe(e,t),wwe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,c=n.dataKey,d=n.data,h=n.dataPointFormatter,g=n.xAxis,y=n.yAxis,x=ywe(n,dwe),N=Tt(x,!1);this.props.direction==="x"&&g.type!=="number"&&Fp();var C=d.map(function(A){var k=h(A,c),D=k.x,M=k.y,$=k.value,L=k.errorVal;if(!L)return null;var U=[],K,q;if(Array.isArray(L)){var V=hwe(L,2);K=V[0],q=V[1]}else K=q=L;if(s==="vertical"){var Q=g.scale,J=M+i,ee=J+o,X=J-o,Y=Q($-K),se=Q($+q);U.push({x1:se,y1:ee,x2:se,y2:X}),U.push({x1:Y,y1:J,x2:se,y2:J}),U.push({x1:Y,y1:ee,x2:Y,y2:X})}else if(s==="horizontal"){var pe=y.scale,ce=D+i,me=ce-o,he=ce+o,Se=pe($-K),be=pe($+q);U.push({x1:me,y1:be,x2:he,y2:be}),U.push({x1:ce,y1:Se,x2:ce,y2:be}),U.push({x1:me,y1:Se,x2:he,y2:Se})}return de.createElement(Ar,US({className:"recharts-errorBar",key:"bar-".concat(U.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},N),U.map(function(ue){return de.createElement("line",US({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return de.createElement(Ar,{className:"recharts-errorBars"},C)}}])}(de.Component);mG(Hj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mG(Hj,"displayName","ErrorBar");function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){kwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kwe(t,e,r){return e=Ewe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ewe(t){var e=Twe(t,"string");return Cb(e)=="symbol"?e:e+""}function Twe(t,e){if(Cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yG=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ia(r,Sp);if(!o)return null;var c=Sp.defaultProps,d=c!==void 0?ep(ep({},c),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:s==="children"?h=(n||[]).reduce(function(g,y){var x=y.item,N=y.props,C=N.sectors||N.data||[];return g.concat(C.map(function(A){return{type:o.props.iconType||x.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):h=(n||[]).map(function(g){var y=g.item,x=y.type.defaultProps,N=x!==void 0?ep(ep({},x),y.props):{},C=N.dataKey,A=N.name,k=N.legendType,D=N.hide;return{inactive:D,dataKey:C,type:d.iconType||k||"square",color:zR(y),value:A||C,payload:N}}),ep(ep(ep({},d),Sp.getWithHeight(o,i)),{},{payload:h,item:o})};function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function G$(t){return Owe(t)||Iwe(t)||Pwe(t)||Cwe()}function Cwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pwe(t,e){if(t){if(typeof t=="string")return l2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(t,e)}}function Iwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Owe(t){if(Array.isArray(t))return l2(t)}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(r),!0).forEach(function(n){Og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Og(t,e,r){return e=Rwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rwe(t){var e=Mwe(t,"string");return Pb(e)=="symbol"?e:e+""}function Mwe(t,e){if(Pb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mi(t,e,r){return er(t)||er(e)?r:gi(e)?Ua(t,e,r):Ht(e)?e(t):r}function Hx(t,e,r,n){var i=O0e(t,function(c){return mi(c,e)});if(r==="number"){var s=i.filter(function(c){return it(c)||parseFloat(c)});return s.length?[zj(s),_h(s)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!er(c)}):i;return o.map(function(c){return gi(c)||c instanceof Date?c:""})}var Dwe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,h=0;h<c;h++){var g=h>0?i[h-1].coordinate:i[c-1].coordinate,y=i[h].coordinate,x=h>=c-1?i[0].coordinate:i[h+1].coordinate,N=void 0;if(Os(y-g)!==Os(x-y)){var C=[];if(Os(x-y)===Os(d[1]-d[0])){N=x;var A=y+d[1]-d[0];C[0]=Math.min(A,(A+g)/2),C[1]=Math.max(A,(A+g)/2)}else{N=g;var k=x+d[1]-d[0];C[0]=Math.min(y,(k+y)/2),C[1]=Math.max(y,(k+y)/2)}var D=[Math.min(y,(N+y)/2),Math.max(y,(N+y)/2)];if(e>D[0]&&e<=D[1]||e>=C[0]&&e<=C[1]){o=i[h].index;break}}else{var M=Math.min(g,x),$=Math.max(g,x);if(e>(M+y)/2&&e<=($+y)/2){o=i[h].index;break}}}else for(var L=0;L<c;L++)if(L===0&&e<=(n[L].coordinate+n[L+1].coordinate)/2||L>0&&L<c-1&&e>(n[L].coordinate+n[L-1].coordinate)/2&&e<=(n[L].coordinate+n[L+1].coordinate)/2||L===c-1&&e>(n[L].coordinate+n[L-1].coordinate)/2){o=n[L].index;break}return o},zR=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vn(Vn({},e.type.defaultProps),e.props):e.props,o=s.stroke,c=s.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:c;break;default:d=c;break}return d},Lwe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},c=Object.keys(s),d=0,h=c.length;d<h;d++)for(var g=s[c[d]].stackGroups,y=Object.keys(g),x=0,N=y.length;x<N;x++){var C=g[y[x]],A=C.items,k=C.cateAxisId,D=A.filter(function(q){return Eu(q.type).indexOf("Bar")>=0});if(D&&D.length){var M=D[0].type.defaultProps,$=M!==void 0?Vn(Vn({},M),D[0].props):D[0].props,L=$.barSize,U=$[k];o[U]||(o[U]=[]);var K=er(L)?r:L;o[U].push({item:D[0],stackList:D.slice(1),barSize:er(K)?void 0:Rs(K,n,0)})}}return o},Fwe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,c=e.maxBarSize,d=o.length;if(d<1)return null;var h=Rs(r,i,0,!0),g,y=[];if(o[0].barSize===+o[0].barSize){var x=!1,N=i/d,C=o.reduce(function(L,U){return L+U.barSize||0},0);C+=(d-1)*h,C>=i&&(C-=(d-1)*h,h=0),C>=i&&N>0&&(x=!0,N*=.9,C=d*N);var A=(i-C)/2>>0,k={offset:A-h,size:0};g=o.reduce(function(L,U){var K={item:U.item,position:{offset:k.offset+k.size+h,size:x?N:U.barSize}},q=[].concat(G$(L),[K]);return k=q[q.length-1].position,U.stackList&&U.stackList.length&&U.stackList.forEach(function(V){q.push({item:V,position:k})}),q},y)}else{var D=Rs(n,i,0,!0);i-2*D-(d-1)*h<=0&&(h=0);var M=(i-2*D-(d-1)*h)/d;M>1&&(M>>=0);var $=c===+c?Math.min(M,c):M;g=o.reduce(function(L,U,K){var q=[].concat(G$(L),[{item:U.item,position:{offset:D+(M+h)*K+(M-$)/2,size:$}}]);return U.stackList&&U.stackList.length&&U.stackList.forEach(function(V){q.push({item:V,position:q[q.length-1].position})}),q},y)}return g},$we=function(e,r,n,i){var s=n.children,o=n.width,c=n.margin,d=o-(c.left||0)-(c.right||0),h=yG({children:s,legendWidth:d});if(h){var g=i||{},y=g.width,x=g.height,N=h.align,C=h.verticalAlign,A=h.layout;if((A==="vertical"||A==="horizontal"&&C==="middle")&&N!=="center"&&it(e[N]))return Vn(Vn({},e),{},Og({},N,e[N]+(y||0)));if((A==="horizontal"||A==="vertical"&&N==="center")&&C!=="middle"&&it(e[C]))return Vn(Vn({},e),{},Og({},C,e[C]+(x||0)))}return e},Bwe=function(e,r,n){return er(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vG=function(e,r,n,i,s){var o=r.props.children,c=mo(o,Hj).filter(function(h){return Bwe(i,s,h.props.direction)});if(c&&c.length){var d=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,g){var y=mi(g,n);if(er(y))return h;var x=Array.isArray(y)?[zj(y),_h(y)]:[y,y],N=d.reduce(function(C,A){var k=mi(g,A,0),D=x[0]-Math.abs(Array.isArray(k)?k[0]:k),M=x[1]+Math.abs(Array.isArray(k)?k[1]:k);return[Math.min(D,C[0]),Math.max(M,C[1])]},[1/0,-1/0]);return[Math.min(N[0],h[0]),Math.max(N[1],h[1])]},[1/0,-1/0])}return null},Vwe=function(e,r,n,i,s){var o=r.map(function(c){return vG(e,c,n,s,i)}).filter(function(c){return!er(c)});return o&&o.length?o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},xG=function(e,r,n,i,s){var o=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&vG(e,d,h,i)||Hx(e,h,n,s)});if(n==="number")return o.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var c={};return o.reduce(function(d,h){for(var g=0,y=h.length;g<y;g++)c[h[g]]||(c[h[g]]=!0,d.push(h[g]));return d},[])},bG=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},wG=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var s,o,c=e.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(o=!0),d.coordinate});return s||c.push(r),o||c.push(n),c},_u=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Os(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(y){var x=s?s.indexOf(y):y;return{coordinate:i(x)+h,value:y,offset:h}});return g.filter(function(y){return!Zy(y.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(y,x){return{coordinate:i(y)+h,value:y,index:x,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(y){return{coordinate:i(y)+h,value:y,offset:h}}):i.domain().map(function(y,x){return{coordinate:i(y)+h,value:s?s[y]:y,index:x,offset:h}})},YT=new WeakMap,h1=function(e,r){if(typeof r!="function")return e;YT.has(e)||YT.set(e,new WeakMap);var n=YT.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},SG=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:_b(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:FS(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:qx(),realScaleType:"point"}:s==="category"?{scale:_b(),realScaleType:"band"}:{scale:FS(),realScaleType:"linear"};if(b0(i)){var d="scale".concat(kj(i));return{scale:(O$[d]||qx)(),realScaleType:O$[d]?d:"point"}}return Ht(i)?{scale:i}:{scale:qx(),realScaleType:"point"}},Y$=1e-4,_G=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-Y$,o=Math.max(i[0],i[1])+Y$,c=e(r[0]),d=e(r[n-1]);(c<s||c>o||d<s||d>o)&&e.domain([r[0],r[n-1]])}},zwe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Uwe=function(e,r){if(!r||r.length!==2||!it(r[0])||!it(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!it(e[0])||e[0]<n)&&(s[0]=n),(!it(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},qwe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,c=0;c<r;++c){var d=Zy(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=o,e[c][n][1]=o+d,o=e[c][n][1])}},Hwe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var c=Zy(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Wwe={sign:qwe,expand:Ome,none:iy,silhouette:Rme,wiggle:Mme,positive:Hwe},Gwe=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),s=Wwe[n],o=Ime().keys(i).value(function(c,d){return+mi(c,d,0)}).order(FP).offset(s);return o(e)},Kwe=function(e,r,n,i,s,o){if(!e)return null;var c=o?r.reverse():r,d={},h=c.reduce(function(y,x){var N,C=(N=x.type)!==null&&N!==void 0&&N.defaultProps?Vn(Vn({},x.type.defaultProps),x.props):x.props,A=C.stackId,k=C.hide;if(k)return y;var D=C[n],M=y[D]||{hasStack:!1,stackGroups:{}};if(gi(A)){var $=M.stackGroups[A]||{numericAxisId:n,cateAxisId:i,items:[]};$.items.push(x),M.hasStack=!0,M.stackGroups[A]=$}else M.stackGroups[Jy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[x]};return Vn(Vn({},y),{},Og({},D,M))},d),g={};return Object.keys(h).reduce(function(y,x){var N=h[x];if(N.hasStack){var C={};N.stackGroups=Object.keys(N.stackGroups).reduce(function(A,k){var D=N.stackGroups[k];return Vn(Vn({},A),{},Og({},k,{numericAxisId:n,cateAxisId:i,items:D.items,stackedData:Gwe(e,D.items,s)}))},C)}return Vn(Vn({},y),{},Og({},x,N))},g)},jG=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=e.domain();if(!h.length)return null;var g=lwe(h,s,c);return e.domain([zj(g),_h(g)]),{niceTicks:g}}if(s&&i==="number"){var y=e.domain(),x=cwe(y,s,c);return{niceTicks:x}}return null};function X$(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!er(i[e.dataKey])){var c=bS(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=mi(i,er(o)?e.dataKey:o);return er(d)?null:e.scale(d)}var Q$=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var d=mi(o,r.dataKey,r.domain[c]);return er(d)?null:r.scale(d)-s/2+i},Ywe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Xwe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vn(Vn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(gi(s)){var o=r[s];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},Qwe=function(e){return e.reduce(function(r,n){return[zj(n.concat([r[0]]).filter(it)),_h(n.concat([r[1]]).filter(it))]},[1/0,-1/0])},NG=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],c=o.stackedData,d=c.reduce(function(h,g){var y=Qwe(g.slice(r,n+1));return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c2=function(e,r,n){if(Ht(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(it(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(Z$.test(e[0])){var s=+Z$.exec(e[0])[1];i[0]=r[0]-s}else Ht(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(it(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(J$.test(e[1])){var o=+J$.exec(e[1])[1];i[1]=r[1]+o}else Ht(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},HS=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=gR(r,function(y){return y.coordinate}),o=1/0,c=1,d=s.length;c<d;c++){var h=s[c],g=s[c-1];o=Math.min((h.coordinate||0)-(g.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},eB=function(e,r,n){return!e||!e.length||hy(e,Ua(n,"type.defaultProps.domain"))?r:e},AG=function(e,r){var n=e.type.defaultProps?Vn(Vn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,c=n.formatter,d=n.tooltipType,h=n.chartType,g=n.hide;return Vn(Vn({},Tt(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:s||i,color:zR(e),value:mi(r,i),type:d,payload:r,chartType:h,hide:g})};function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function tB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(r),!0).forEach(function(n){kG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kG(t,e,r){return e=Zwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zwe(t){var e=Jwe(t,"string");return Ib(e)=="symbol"?e:e+""}function Jwe(t,e){if(Ib(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t,e){return i1e(t)||n1e(t,e)||r1e(t,e)||t1e()}function t1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1e(t,e){if(t){if(typeof t=="string")return rB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rB(t,e)}}function rB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function i1e(t){if(Array.isArray(t))return t}var WS=Math.PI/180,s1e=function(e){return e*180/Math.PI},dn=function(e,r,n,i){return{x:e+Math.cos(-WS*i)*n,y:r+Math.sin(-WS*i)*n}},EG=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},a1e=function(e,r,n,i,s){var o=e.width,c=e.height,d=e.startAngle,h=e.endAngle,g=Rs(e.cx,o,o/2),y=Rs(e.cy,c,c/2),x=EG(o,c,n),N=Rs(e.innerRadius,x,0),C=Rs(e.outerRadius,x,x*.8),A=Object.keys(r);return A.reduce(function(k,D){var M=r[D],$=M.domain,L=M.reversed,U;if(er(M.range))i==="angleAxis"?U=[d,h]:i==="radiusAxis"&&(U=[N,C]),L&&(U=[U[1],U[0]]);else{U=M.range;var K=U,q=e1e(K,2);d=q[0],h=q[1]}var V=SG(M,s),Q=V.realScaleType,J=V.scale;J.domain($).range(U),_G(J);var ee=jG(J,mu(mu({},M),{},{realScaleType:Q})),X=mu(mu(mu({},M),ee),{},{range:U,radius:C,realScaleType:Q,scale:J,cx:g,cy:y,innerRadius:N,outerRadius:C,startAngle:d,endAngle:h});return mu(mu({},k),{},kG({},D,X))},{})},o1e=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},l1e=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,c=o1e({x:n,y:i},{x:s,y:o});if(c<=0)return{radius:c};var d=(n-s)/c,h=Math.acos(d);return i>o&&(h=2*Math.PI-h),{radius:c,angle:s1e(h),angleInRadian:h}},c1e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},u1e=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(s,o);return e+c*360},nB=function(e,r){var n=e.x,i=e.y,s=l1e({x:n,y:i},r),o=s.radius,c=s.angle,d=r.innerRadius,h=r.outerRadius;if(o<d||o>h)return!1;if(o===0)return!0;var g=c1e(r),y=g.startAngle,x=g.endAngle,N=c,C;if(y<=x){for(;N>x;)N-=360;for(;N<y;)N+=360;C=N>=y&&N<=x}else{for(;N>y;)N-=360;for(;N<x;)N+=360;C=N>=x&&N<=y}return C?mu(mu({},r),{},{radius:o,angle:u1e(N,r)}):null},TG=function(e){return!P.isValidElement(e)&&!Ht(e)&&typeof e!="boolean"?e.className:""};function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}var d1e=["offset"];function h1e(t){return g1e(t)||m1e(t)||p1e(t)||f1e()}function f1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p1e(t,e){if(t){if(typeof t=="string")return u2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u2(t,e)}}function m1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g1e(t){if(Array.isArray(t))return u2(t)}function u2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y1e(t,e){if(t==null)return{};var r=v1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){x1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x1e(t,e,r){return e=b1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b1e(t){var e=w1e(t,"string");return Ob(e)=="symbol"?e:e+""}function w1e(t,e){if(Ob(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rb.apply(this,arguments)}var S1e=function(e){var r=e.value,n=e.formatter,i=er(e.children)?r:e.children;return Ht(n)?n(i):i},_1e=function(e,r){var n=Os(r-e),i=Math.min(Math.abs(r-e),360);return n*i},j1e=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,c=e.className,d=s,h=d.cx,g=d.cy,y=d.innerRadius,x=d.outerRadius,N=d.startAngle,C=d.endAngle,A=d.clockWise,k=(y+x)/2,D=_1e(N,C),M=D>=0?1:-1,$,L;i==="insideStart"?($=N+M*o,L=A):i==="insideEnd"?($=C-M*o,L=!A):i==="end"&&($=C+M*o,L=A),L=D<=0?L:!L;var U=dn(h,g,k,$),K=dn(h,g,k,$+(L?1:-1)*359),q="M".concat(U.x,",").concat(U.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(L?0:1,`,
    `).concat(K.x,",").concat(K.y),V=er(e.id)?Jy("recharts-radial-line-"):e.id;return de.createElement("text",Rb({},n,{dominantBaseline:"central",className:tr("recharts-radial-bar-label",c)}),de.createElement("defs",null,de.createElement("path",{id:V,d:q})),de.createElement("textPath",{xlinkHref:"#".concat(V)},r))},N1e=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,c=s.cy,d=s.innerRadius,h=s.outerRadius,g=s.startAngle,y=s.endAngle,x=(g+y)/2;if(i==="outside"){var N=dn(o,c,h+n,x),C=N.x,A=N.y;return{x:C,y:A,textAnchor:C>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var k=(d+h)/2,D=dn(o,c,k,x),M=D.x,$=D.y;return{x:M,y:$,textAnchor:"middle",verticalAnchor:"middle"}},A1e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,c=o.x,d=o.y,h=o.width,g=o.height,y=g>=0?1:-1,x=y*i,N=y>0?"end":"start",C=y>0?"start":"end",A=h>=0?1:-1,k=A*i,D=A>0?"end":"start",M=A>0?"start":"end";if(s==="top"){var $={x:c+h/2,y:d-y*i,textAnchor:"middle",verticalAnchor:N};return fi(fi({},$),n?{height:Math.max(d-n.y,0),width:h}:{})}if(s==="bottom"){var L={x:c+h/2,y:d+g+x,textAnchor:"middle",verticalAnchor:C};return fi(fi({},L),n?{height:Math.max(n.y+n.height-(d+g),0),width:h}:{})}if(s==="left"){var U={x:c-k,y:d+g/2,textAnchor:D,verticalAnchor:"middle"};return fi(fi({},U),n?{width:Math.max(U.x-n.x,0),height:g}:{})}if(s==="right"){var K={x:c+h+k,y:d+g/2,textAnchor:M,verticalAnchor:"middle"};return fi(fi({},K),n?{width:Math.max(n.x+n.width-K.x,0),height:g}:{})}var q=n?{width:h,height:g}:{};return s==="insideLeft"?fi({x:c+k,y:d+g/2,textAnchor:M,verticalAnchor:"middle"},q):s==="insideRight"?fi({x:c+h-k,y:d+g/2,textAnchor:D,verticalAnchor:"middle"},q):s==="insideTop"?fi({x:c+h/2,y:d+x,textAnchor:"middle",verticalAnchor:C},q):s==="insideBottom"?fi({x:c+h/2,y:d+g-x,textAnchor:"middle",verticalAnchor:N},q):s==="insideTopLeft"?fi({x:c+k,y:d+x,textAnchor:M,verticalAnchor:C},q):s==="insideTopRight"?fi({x:c+h-k,y:d+x,textAnchor:D,verticalAnchor:C},q):s==="insideBottomLeft"?fi({x:c+k,y:d+g-x,textAnchor:M,verticalAnchor:N},q):s==="insideBottomRight"?fi({x:c+h-k,y:d+g-x,textAnchor:D,verticalAnchor:N},q):Qy(s)&&(it(s.x)||dp(s.x))&&(it(s.y)||dp(s.y))?fi({x:c+Rs(s.x,h),y:d+Rs(s.y,g),textAnchor:"end",verticalAnchor:"end"},q):fi({x:c+h/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},q)},k1e=function(e){return"cx"in e&&it(e.cx)};function Di(t){var e=t.offset,r=e===void 0?5:e,n=y1e(t,d1e),i=fi({offset:r},n),s=i.viewBox,o=i.position,c=i.value,d=i.children,h=i.content,g=i.className,y=g===void 0?"":g,x=i.textBreakAll;if(!s||er(c)&&er(d)&&!P.isValidElement(h)&&!Ht(h))return null;if(P.isValidElement(h))return P.cloneElement(h,i);var N;if(Ht(h)){if(N=P.createElement(h,i),P.isValidElement(N))return N}else N=S1e(i);var C=k1e(s),A=Tt(i,!0);if(C&&(o==="insideStart"||o==="insideEnd"||o==="end"))return j1e(i,N,A);var k=C?N1e(i):A1e(i);return de.createElement(Dp,Rb({className:tr("recharts-label",y)},A,k,{breakAll:x}),N)}Di.displayName="Label";var CG=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,c=e.r,d=e.radius,h=e.innerRadius,g=e.outerRadius,y=e.x,x=e.y,N=e.top,C=e.left,A=e.width,k=e.height,D=e.clockWise,M=e.labelViewBox;if(M)return M;if(it(A)&&it(k)){if(it(y)&&it(x))return{x:y,y:x,width:A,height:k};if(it(N)&&it(C))return{x:N,y:C,width:A,height:k}}return it(y)&&it(x)?{x:y,y:x,width:0,height:0}:it(r)&&it(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:h||0,outerRadius:g||d||c||0,clockWise:D}:e.viewBox?e.viewBox:{}},E1e=function(e,r){return e?e===!0?de.createElement(Di,{key:"label-implicit",viewBox:r}):gi(e)?de.createElement(Di,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===Di?P.cloneElement(e,{key:"label-implicit",viewBox:r}):de.createElement(Di,{key:"label-implicit",content:e,viewBox:r}):Ht(e)?de.createElement(Di,{key:"label-implicit",content:e,viewBox:r}):Qy(e)?de.createElement(Di,Rb({viewBox:r},e,{key:"label-implicit"})):null:null},T1e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=CG(e),o=mo(i,Di).map(function(d,h){return P.cloneElement(d,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return o;var c=E1e(e.label,r||s);return[c].concat(h1e(o))};Di.parseViewBox=CG;Di.renderCallByParent=T1e;var XT,sB;function C1e(){if(sB)return XT;sB=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return XT=t,XT}var P1e=C1e();const I1e=Lr(P1e);function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}var O1e=["valueAccessor"],R1e=["data","dataKey","clockWise","id","textBreakAll"];function M1e(t){return $1e(t)||F1e(t)||L1e(t)||D1e()}function D1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L1e(t,e){if(t){if(typeof t=="string")return d2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d2(t,e)}}function F1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $1e(t){if(Array.isArray(t))return d2(t)}function d2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GS.apply(this,arguments)}function aB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(r),!0).forEach(function(n){B1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B1e(t,e,r){return e=V1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V1e(t){var e=z1e(t,"string");return Mb(e)=="symbol"?e:e+""}function z1e(t,e){if(Mb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lB(t,e){if(t==null)return{};var r=U1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var q1e=function(e){return Array.isArray(e.value)?I1e(e.value):e.value};function Cu(t){var e=t.valueAccessor,r=e===void 0?q1e:e,n=lB(t,O1e),i=n.data,s=n.dataKey,o=n.clockWise,c=n.id,d=n.textBreakAll,h=lB(n,R1e);return!i||!i.length?null:de.createElement(Ar,{className:"recharts-label-list"},i.map(function(g,y){var x=er(s)?r(g,y):mi(g&&g.payload,s),N=er(c)?{}:{id:"".concat(c,"-").concat(y)};return de.createElement(Di,GS({},Tt(g,!0),h,N,{parentViewBox:g.parentViewBox,value:x,textBreakAll:d,viewBox:Di.parseViewBox(er(o)?g:oB(oB({},g),{},{clockWise:o})),key:"label-".concat(y),index:y}))}))}Cu.displayName="LabelList";function H1e(t,e){return t?t===!0?de.createElement(Cu,{key:"labelList-implicit",data:e}):de.isValidElement(t)||Ht(t)?de.createElement(Cu,{key:"labelList-implicit",data:e,content:t}):Qy(t)?de.createElement(Cu,GS({data:e},t,{key:"labelList-implicit"})):null:null}function W1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=mo(n,Cu).map(function(o,c){return P.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var s=H1e(t.label,e);return[s].concat(M1e(i))}Cu.renderCallByParent=W1e;function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h2.apply(this,arguments)}function cB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(r),!0).forEach(function(n){G1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G1e(t,e,r){return e=K1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K1e(t){var e=Y1e(t,"string");return Db(e)=="symbol"?e:e+""}function Y1e(t,e){if(Db(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Db(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X1e=function(e,r){var n=Os(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},f1=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,c=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,g=d*(c?1:-1)+i,y=Math.asin(d/g)/WS,x=h?s:s+o*y,N=dn(r,n,g,x),C=dn(r,n,i,x),A=h?s-o*y:s,k=dn(r,n,g*Math.cos(y*WS),A);return{center:N,circleTangency:C,lineTangency:k,theta:y}},PG=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,c=e.endAngle,d=X1e(o,c),h=o+d,g=dn(r,n,s,o),y=dn(r,n,s,h),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var N=dn(r,n,i,o),C=dn(r,n,i,h);x+="L ".concat(C.x,",").concat(C.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=h),`,
            `).concat(N.x,",").concat(N.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},Q1e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,g=e.endAngle,y=Os(g-h),x=f1({cx:r,cy:n,radius:s,angle:h,sign:y,cornerRadius:o,cornerIsExternal:d}),N=x.circleTangency,C=x.lineTangency,A=x.theta,k=f1({cx:r,cy:n,radius:s,angle:g,sign:-y,cornerRadius:o,cornerIsExternal:d}),D=k.circleTangency,M=k.lineTangency,$=k.theta,L=d?Math.abs(h-g):Math.abs(h-g)-A-$;if(L<0)return c?"M ".concat(C.x,",").concat(C.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):PG({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:g});var U="M ".concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(y<0),",").concat(D.x,",").concat(D.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(M.x,",").concat(M.y,`
  `);if(i>0){var K=f1({cx:r,cy:n,radius:i,angle:h,sign:y,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),q=K.circleTangency,V=K.lineTangency,Q=K.theta,J=f1({cx:r,cy:n,radius:i,angle:g,sign:-y,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),ee=J.circleTangency,X=J.lineTangency,Y=J.theta,se=d?Math.abs(h-g):Math.abs(h-g)-Q-Y;if(se<0&&o===0)return"".concat(U,"L").concat(r,",").concat(n,"Z");U+="L".concat(X.x,",").concat(X.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(ee.x,",").concat(ee.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(se>180),",").concat(+(y>0),",").concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(V.x,",").concat(V.y,"Z")}else U+="L".concat(r,",").concat(n,"Z");return U},Z1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IG=function(e){var r=uB(uB({},Z1e),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,g=r.startAngle,y=r.endAngle,x=r.className;if(o<s||g===y)return null;var N=tr("recharts-sector",x),C=o-s,A=Rs(c,C,0,!0),k;return A>0&&Math.abs(g-y)<360?k=Q1e({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(A,C/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:g,endAngle:y}):k=PG({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:g,endAngle:y}),de.createElement("path",h2({},Tt(r,!0),{className:N,d:k,role:"img"}))};function Lb(t){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lb(t)}function f2(){return f2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f2.apply(this,arguments)}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(n){J1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J1e(t,e,r){return e=eSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eSe(t){var e=tSe(t,"string");return Lb(e)=="symbol"?e:e+""}function tSe(t,e){if(Lb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fB={curveBasisClosed:wme,curveBasisOpen:Sme,curveBasis:bme,curveBumpX:ame,curveBumpY:ome,curveLinearClosed:_me,curveLinear:Tj,curveMonotoneX:jme,curveMonotoneY:Nme,curveNatural:Ame,curveStep:kme,curveStepAfter:Tme,curveStepBefore:Eme},p1=function(e){return e.x===+e.x&&e.y===+e.y},bx=function(e){return e.x},wx=function(e){return e.y},rSe=function(e,r){if(Ht(e))return e;var n="curve".concat(kj(e));return(n==="curveMonotone"||n==="curveBump")&&r?fB["".concat(n).concat(r==="vertical"?"Y":"X")]:fB[n]||Tj},nSe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,c=e.layout,d=e.connectNulls,h=d===void 0?!1:d,g=rSe(n,c),y=h?s.filter(function(A){return p1(A)}):s,x;if(Array.isArray(o)){var N=h?o.filter(function(A){return p1(A)}):o,C=y.map(function(A,k){return hB(hB({},A),{},{base:N[k]})});return c==="vertical"?x=s1().y(wx).x1(bx).x0(function(A){return A.base.x}):x=s1().x(bx).y1(wx).y0(function(A){return A.base.y}),x.defined(p1).curve(g),x(C)}return c==="vertical"&&it(o)?x=s1().y(wx).x1(bx).x0(o):it(o)?x=s1().x(bx).y1(wx).y0(o):x=TW().x(bx).y(wx),x.defined(p1).curve(g),x(y)},Rg=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?nSe(e):i;return de.createElement("path",f2({},Tt(e,!1),wS(e),{className:tr("recharts-curve",r),d:o,ref:s}))},QT={exports:{}},ZT,pB;function iSe(){if(pB)return ZT;pB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ZT=t,ZT}var JT,mB;function sSe(){if(mB)return JT;mB=1;var t=iSe();function e(){}function r(){}return r.resetWarningCache=e,JT=function(){function n(o,c,d,h,g,y){if(y!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},JT}var gB;function aSe(){return gB||(gB=1,QT.exports=sSe()()),QT.exports}var oSe=aSe();const sr=Lr(oSe);var lSe=Object.getOwnPropertyNames,cSe=Object.getOwnPropertySymbols,uSe=Object.prototype.hasOwnProperty;function yB(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function m1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),c=s.get(n);if(o&&c)return o===n&&c===r;s.set(r,n),s.set(n,r);var d=t(r,n,i);return s.delete(r),s.delete(n),d}}function vB(t){return lSe(t).concat(cSe(t))}var OG=Object.hasOwn||function(t,e){return uSe.call(t,e)};function iv(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var RG="_owner",xB=Object.getOwnPropertyDescriptor,bB=Object.keys;function dSe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function hSe(t,e){return iv(t.getTime(),e.getTime())}function wB(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),s=0,o,c;(o=i.next())&&!o.done;){for(var d=e.entries(),h=!1,g=0;(c=d.next())&&!c.done;){var y=o.value,x=y[0],N=y[1],C=c.value,A=C[0],k=C[1];!h&&!n[g]&&(h=r.equals(x,A,s,g,t,e,r)&&r.equals(N,k,x,A,t,e,r))&&(n[g]=!0),g++}if(!h)return!1;s++}return!0}function fSe(t,e,r){var n=bB(t),i=n.length;if(bB(e).length!==i)return!1;for(var s;i-- >0;)if(s=n[i],s===RG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!OG(e,s)||!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function Sx(t,e,r){var n=vB(t),i=n.length;if(vB(e).length!==i)return!1;for(var s,o,c;i-- >0;)if(s=n[i],s===RG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!OG(e,s)||!r.equals(t[s],e[s],s,s,t,e,r)||(o=xB(t,s),c=xB(e,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function pSe(t,e){return iv(t.valueOf(),e.valueOf())}function mSe(t,e){return t.source===e.source&&t.flags===e.flags}function SB(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),s,o;(s=i.next())&&!s.done;){for(var c=e.values(),d=!1,h=0;(o=c.next())&&!o.done;)!d&&!n[h]&&(d=r.equals(s.value,o.value,s.value,o.value,t,e,r))&&(n[h]=!0),h++;if(!d)return!1}return!0}function gSe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var ySe="[object Arguments]",vSe="[object Boolean]",xSe="[object Date]",bSe="[object Map]",wSe="[object Number]",SSe="[object Object]",_Se="[object RegExp]",jSe="[object Set]",NSe="[object String]",ASe=Array.isArray,_B=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jB=Object.assign,kSe=Object.prototype.toString.call.bind(Object.prototype.toString);function ESe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null||typeof g!="object"||typeof y!="object")return g!==g&&y!==y;var N=g.constructor;if(N!==y.constructor)return!1;if(N===Object)return i(g,y,x);if(ASe(g))return e(g,y,x);if(_B!=null&&_B(g))return d(g,y,x);if(N===Date)return r(g,y,x);if(N===RegExp)return o(g,y,x);if(N===Map)return n(g,y,x);if(N===Set)return c(g,y,x);var C=kSe(g);return C===xSe?r(g,y,x):C===_Se?o(g,y,x):C===bSe?n(g,y,x):C===jSe?c(g,y,x):C===SSe?typeof g.then!="function"&&typeof y.then!="function"&&i(g,y,x):C===ySe?i(g,y,x):C===vSe||C===wSe||C===NSe?s(g,y,x):!1}}function TSe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Sx:dSe,areDatesEqual:hSe,areMapsEqual:n?yB(wB,Sx):wB,areObjectsEqual:n?Sx:fSe,arePrimitiveWrappersEqual:pSe,areRegExpsEqual:mSe,areSetsEqual:n?yB(SB,Sx):SB,areTypedArraysEqual:n?Sx:gSe};if(r&&(i=jB({},i,r(i))),e){var s=m1(i.areArraysEqual),o=m1(i.areMapsEqual),c=m1(i.areObjectsEqual),d=m1(i.areSetsEqual);i=jB({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:d})}return i}function CSe(t){return function(e,r,n,i,s,o,c){return t(e,r,c)}}function PSe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(d,h){var g=n(),y=g.cache,x=y===void 0?e?new WeakMap:void 0:y,N=g.meta;return r(d,h,{cache:x,equals:i,meta:N,strict:s})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(d,h){return r(d,h,o)}}var ISe=ef();ef({strict:!0});ef({circular:!0});ef({circular:!0,strict:!0});ef({createInternalComparator:function(){return iv}});ef({strict:!0,createInternalComparator:function(){return iv}});ef({circular:!0,createInternalComparator:function(){return iv}});ef({circular:!0,createInternalComparator:function(){return iv},strict:!0});function ef(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,c=TSe(t),d=ESe(c),h=n?n(d):CSe(d);return PSe({circular:r,comparator:d,createState:i,equals:h,strict:o})}function OSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):OSe(i)};requestAnimationFrame(n)}function p2(t){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p2(t)}function RSe(t){return FSe(t)||LSe(t)||DSe(t)||MSe()}function MSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DSe(t,e){if(t){if(typeof t=="string")return AB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AB(t,e)}}function AB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FSe(t){if(Array.isArray(t))return t}function $Se(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,c=RSe(o),d=c[0],h=c.slice(1);if(typeof d=="number"){NB(i.bind(null,h),d);return}i(d),NB(i.bind(null,h));return}p2(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function kB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(r),!0).forEach(function(n){MG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MG(t,e,r){return e=BSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BSe(t){var e=VSe(t,"string");return Fb(e)==="symbol"?e:String(e)}function VSe(t,e){if(Fb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zSe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},USe=function(e){return e},qSe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wx=function(e,r){return Object.keys(r).reduce(function(n,i){return EB(EB({},n),{},MG({},i,e(i,r[i])))},{})},TB=function(e,r,n){return e.map(function(i){return"".concat(qSe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function HSe(t,e){return KSe(t)||GSe(t,e)||DG(t,e)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function KSe(t){if(Array.isArray(t))return t}function YSe(t){return ZSe(t)||QSe(t)||DG(t)||XSe()}function XSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(t,e){if(t){if(typeof t=="string")return m2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(t,e)}}function QSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZSe(t){if(Array.isArray(t))return m2(t)}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KS=1e-4,LG=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},FG=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},CB=function(e,r){return function(n){var i=LG(e,r);return FG(i,n)}},JSe=function(e,r){return function(n){var i=LG(e,r),s=[].concat(YSe(i.map(function(o,c){return o*c}).slice(1)),[0]);return FG(s,n)}},PB=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,c=1;break;case"ease":i=.25,s=.1,o=.25,c=1;break;case"ease-in":i=.42,s=0,o=1,c=1;break;case"ease-out":i=.42,s=0,o=.58,c=1;break;case"ease-in-out":i=0,s=0,o=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(k){return parseFloat(k)}),g=HSe(h,4);i=g[0],s=g[1],o=g[2],c=g[3]}}}var y=CB(i,o),x=CB(s,c),N=JSe(i,o),C=function(D){return D>1?1:D<0?0:D},A=function(D){for(var M=D>1?1:D,$=M,L=0;L<8;++L){var U=y($)-M,K=N($);if(Math.abs(U-M)<KS||K<KS)return x($);$=C($-U/K)}return x($)};return A.isStepper=!1,A},e_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,d=function(g,y,x){var N=-(g-y)*n,C=x*s,A=x+(N-C)*c/1e3,k=x*c/1e3+g;return Math.abs(k-y)<KS&&Math.abs(A)<KS?[y,0]:[k,A]};return d.isStepper=!0,d.dt=c,d},t_e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PB(i);case"spring":return e_e();default:if(i.split("(")[0]==="cubic-bezier")return PB(i)}return typeof i=="function"?i:null};function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}function IB(t){return i_e(t)||n_e(t)||$G(t)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i_e(t){if(Array.isArray(t))return y2(t)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){g2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g2(t,e,r){return e=s_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s_e(t){var e=a_e(t,"string");return $b(e)==="symbol"?e:String(e)}function a_e(t,e){if($b(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($b(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o_e(t,e){return u_e(t)||c_e(t,e)||$G(t,e)||l_e()}function l_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(t,e){if(t){if(typeof t=="string")return y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(t,e)}}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function u_e(t){if(Array.isArray(t))return t}var YS=function(e,r,n){return e+(r-e)*n},v2=function(e){var r=e.from,n=e.to;return r!==n},d_e=function t(e,r,n){var i=Wx(function(s,o){if(v2(o)){var c=e(o.from,o.to,o.velocity),d=o_e(c,2),h=d[0],g=d[1];return Hi(Hi({},o),{},{from:h,velocity:g})}return o},r);return n<1?Wx(function(s,o){return v2(o)?Hi(Hi({},o),{},{velocity:YS(o.velocity,i[s].velocity,n),from:YS(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const h_e=function(t,e,r,n,i){var s=zSe(t,e),o=s.reduce(function(k,D){return Hi(Hi({},k),{},g2({},D,[t[D],e[D]]))},{}),c=s.reduce(function(k,D){return Hi(Hi({},k),{},g2({},D,{from:t[D],velocity:0,to:e[D]}))},{}),d=-1,h,g,y=function(){return null},x=function(){return Wx(function(D,M){return M.from},c)},N=function(){return!Object.values(c).filter(v2).length},C=function(D){h||(h=D);var M=D-h,$=M/r.dt;c=d_e(r,c,$),i(Hi(Hi(Hi({},t),e),x())),h=D,N()||(d=requestAnimationFrame(y))},A=function(D){g||(g=D);var M=(D-g)/n,$=Wx(function(U,K){return YS.apply(void 0,IB(K).concat([r(M)]))},o);if(i(Hi(Hi(Hi({},t),e),$)),M<1)d=requestAnimationFrame(y);else{var L=Wx(function(U,K){return YS.apply(void 0,IB(K).concat([r(1)]))},o);i(Hi(Hi(Hi({},t),e),L))}};return y=r.isStepper?C:A,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(d)}}};function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}var f_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function p_e(t,e){if(t==null)return{};var r=m_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m_e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function eC(t){return x_e(t)||v_e(t)||y_e(t)||g_e()}function g_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(t,e){if(t){if(typeof t=="string")return x2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x2(t,e)}}function v_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x_e(t){if(Array.isArray(t))return x2(t)}function x2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(r),!0).forEach(function(n){Ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ox(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BG(n.key),n)}}function S_e(t,e,r){return e&&w_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BG(t){var e=__e(t,"string");return py(e)==="symbol"?e:String(e)}function __e(t,e){if(py(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(py(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b2(t,e)}function N_e(t){var e=A_e();return function(){var n=XS(t),i;if(e){var s=XS(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return w2(this,i)}}function w2(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S2(t)}function S2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XS(t){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XS(t)}var bc=function(t){j_e(r,t);var e=N_e(r);function r(n,i){var s;b_e(this,r),s=e.call(this,n,i);var o=s.props,c=o.isActive,d=o.attributeName,h=o.from,g=o.to,y=o.steps,x=o.children,N=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(S2(s)),s.changeStyle=s.changeStyle.bind(S2(s)),!c||N<=0)return s.state={style:{}},typeof x=="function"&&(s.state={style:g}),w2(s);if(y&&y.length)s.state={style:y[0].style};else if(h){if(typeof x=="function")return s.state={style:h},w2(s);s.state={style:d?Ox({},d,h):h}}else s.state={style:{}};return s}return S_e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,c=s.canBegin,d=s.attributeName,h=s.shouldReAnimate,g=s.to,y=s.from,x=this.state.style;if(c){if(!o){var N={style:d?Ox({},d,g):g};this.state&&x&&(d&&x[d]!==g||!d&&x!==g)&&this.setState(N);return}if(!(ISe(i.to,g)&&i.canBegin&&i.isActive)){var C=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=C||h?y:i.to;if(this.state&&x){var k={style:d?Ox({},d,A):A};(d&&x[d]!==A||!d&&x!==A)&&this.setState(k)}this.runAnimation(Xo(Xo({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,c=i.to,d=i.duration,h=i.easing,g=i.begin,y=i.onAnimationEnd,x=i.onAnimationStart,N=h_e(o,c,t_e(h),d,this.changeStyle),C=function(){s.stopJSAnimation=N()};this.manager.start([x,g,C,d,y])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,c=i.begin,d=i.onAnimationStart,h=o[0],g=h.style,y=h.duration,x=y===void 0?0:y,N=function(A,k,D){if(D===0)return A;var M=k.duration,$=k.easing,L=$===void 0?"ease":$,U=k.style,K=k.properties,q=k.onAnimationEnd,V=D>0?o[D-1]:k,Q=K||Object.keys(U);if(typeof L=="function"||L==="spring")return[].concat(eC(A),[s.runJSAnimation.bind(s,{from:V.style,to:U,duration:M,easing:L}),M]);var J=TB(Q,M,L),ee=Xo(Xo(Xo({},V.style),U),{},{transition:J});return[].concat(eC(A),[ee,M,q]).filter(USe)};return this.manager.start([d].concat(eC(o.reduce(N,[g,Math.max(x,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$Se());var s=i.begin,o=i.duration,c=i.attributeName,d=i.to,h=i.easing,g=i.onAnimationStart,y=i.onAnimationEnd,x=i.steps,N=i.children,C=this.manager;if(this.unSubscribe=C.subscribe(this.handleStyleChange),typeof h=="function"||typeof N=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var A=c?Ox({},c,d):d,k=TB(Object.keys(A),o,h);C.start([g,s,Xo(Xo({},A),{},{transition:k}),o,y])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=p_e(i,f_e),h=P.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!c||h===0||o<=0)return s;var y=function(N){var C=N.props,A=C.style,k=A===void 0?{}:A,D=C.className,M=P.cloneElement(N,Xo(Xo({},d),{},{style:Xo(Xo({},k),g),className:D}));return M};return h===1?y(P.Children.only(s)):de.createElement("div",null,P.Children.map(s,function(x){return y(x)}))}}]),r}(P.PureComponent);bc.displayName="Animate";bc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bc.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};sr.object,sr.object,sr.object,sr.element;sr.object,sr.object,sr.object,sr.oneOfType([sr.array,sr.element]),sr.any;function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QS.apply(this,arguments)}function k_e(t,e){return P_e(t)||C_e(t,e)||T_e(t,e)||E_e()}function E_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(t,e){if(t){if(typeof t=="string")return MB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MB(t,e)}}function MB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function P_e(t){if(Array.isArray(t))return t}function DB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(r),!0).forEach(function(n){I_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I_e(t,e,r){return e=O_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O_e(t){var e=R_e(t,"string");return Bb(e)=="symbol"?e:e+""}function R_e(t,e){if(Bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FB=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(o>0&&s instanceof Array){for(var y=[0,0,0,0],x=0,N=4;x<N;x++)y[x]=s[x]>o?o:s[x];g="M".concat(e,",").concat(r+c*y[0]),y[0]>0&&(g+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(e+d*y[0],",").concat(r)),g+="L ".concat(e+n-d*y[1],",").concat(r),y[1]>0&&(g+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*y[1])),g+="L ".concat(e+n,",").concat(r+i-c*y[2]),y[2]>0&&(g+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(e+n-d*y[2],",").concat(r+i)),g+="L ".concat(e+d*y[3],",").concat(r+i),y[3]>0&&(g+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-c*y[3])),g+="Z"}else if(o>0&&s===+s&&s>0){var C=Math.min(o,s);g="M ".concat(e,",").concat(r+c*C,`
            A `).concat(C,",").concat(C,",0,0,").concat(h,",").concat(e+d*C,",").concat(r,`
            L `).concat(e+n-d*C,",").concat(r,`
            A `).concat(C,",").concat(C,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*C,`
            L `).concat(e+n,",").concat(r+i-c*C,`
            A `).concat(C,",").concat(C,",0,0,").concat(h,",").concat(e+n-d*C,",").concat(r+i,`
            L `).concat(e+d*C,",").concat(r+i,`
            A `).concat(C,",").concat(C,",0,0,").concat(h,",").concat(e,",").concat(r+i-c*C," Z")}else g="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},M_e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var h=Math.min(s,s+c),g=Math.max(s,s+c),y=Math.min(o,o+d),x=Math.max(o,o+d);return n>=h&&n<=g&&i>=y&&i<=x}return!1},D_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UR=function(e){var r=LB(LB({},D_e),e),n=P.useRef(),i=P.useState(-1),s=k_e(i,2),o=s[0],c=s[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&c(L)}catch{}},[]);var d=r.x,h=r.y,g=r.width,y=r.height,x=r.radius,N=r.className,C=r.animationEasing,A=r.animationDuration,k=r.animationBegin,D=r.isAnimationActive,M=r.isUpdateAnimationActive;if(d!==+d||h!==+h||g!==+g||y!==+y||g===0||y===0)return null;var $=tr("recharts-rectangle",N);return M?de.createElement(bc,{canBegin:o>0,from:{width:g,height:y,x:d,y:h},to:{width:g,height:y,x:d,y:h},duration:A,animationEasing:C,isActive:M},function(L){var U=L.width,K=L.height,q=L.x,V=L.y;return de.createElement(bc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:A,isActive:D,easing:C},de.createElement("path",QS({},Tt(r,!0),{className:$,d:FB(q,V,U,K,x),ref:n})))}):de.createElement("path",QS({},Tt(r,!0),{className:$,d:FB(d,h,g,y,x)}))},L_e=["points","className","baseLinePoints","connectNulls"];function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(this,arguments)}function F_e(t,e){if(t==null)return{};var r=$_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $B(t){return U_e(t)||z_e(t)||V_e(t)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(t,e){if(t){if(typeof t=="string")return _2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _2(t,e)}}function z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U_e(t){if(Array.isArray(t))return _2(t)}function _2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var BB=function(e){return e&&e.x===+e.x&&e.y===+e.y},q_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){BB(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),BB(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Gx=function(e,r){var n=q_e(e);r&&(n=[n.reduce(function(s,o){return[].concat($B(s),$B(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,c,d){return"".concat(o).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},H_e=function(e,r,n){var i=Gx(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Gx(r.reverse(),n).slice(1))},W_e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=F_e(e,L_e);if(!r||!r.length)return null;var c=tr("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",h=H_e(r,i,s);return de.createElement("g",{className:c},de.createElement("path",vg({},Tt(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:h})),d?de.createElement("path",vg({},Tt(o,!0),{fill:"none",d:Gx(r,s)})):null,d?de.createElement("path",vg({},Tt(o,!0),{fill:"none",d:Gx(i,s)})):null)}var g=Gx(r,s);return de.createElement("path",vg({},Tt(o,!0),{fill:g.slice(-1)==="Z"?o.fill:"none",className:c,d:g}))};function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j2.apply(this,arguments)}var Wj=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=tr("recharts-dot",s);return r===+r&&n===+n&&i===+i?de.createElement("circle",j2({},Tt(e,!1),wS(e),{className:o,cx:r,cy:n,r:i})):null};function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}var G_e=["x","y","top","left","width","height","className"];function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N2.apply(this,arguments)}function VB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(r),!0).forEach(function(n){Y_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y_e(t,e,r){return e=X_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X_e(t){var e=Q_e(t,"string");return Vb(e)=="symbol"?e:e+""}function Q_e(t,e){if(Vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z_e(t,e){if(t==null)return{};var r=J_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eje=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},tje=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,c=o===void 0?0:o,d=e.left,h=d===void 0?0:d,g=e.width,y=g===void 0?0:g,x=e.height,N=x===void 0?0:x,C=e.className,A=Z_e(e,G_e),k=K_e({x:n,y:s,top:c,left:h,width:y,height:N},A);return!it(n)||!it(s)||!it(y)||!it(N)||!it(c)||!it(h)?null:de.createElement("path",N2({},Tt(k,!0),{className:tr("recharts-cross",C),d:eje(n,s,y,N,c,h)}))},tC,zB;function rje(){if(zB)return tC;zB=1;var t=Vj(),e=eG(),r=kc();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return tC=n,tC}var nje=rje();const ije=Lr(nje);var rC,UB;function sje(){if(UB)return rC;UB=1;var t=Vj(),e=kc(),r=tG();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return rC=n,rC}var aje=sje();const oje=Lr(aje);var lje=["cx","cy","angle","ticks","axisLine"],cje=["ticks","tick","angle","tickFormatter","stroke"];function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kx.apply(this,arguments)}function qB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(r),!0).forEach(function(n){Gj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HB(t,e){if(t==null)return{};var r=uje(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zG(n.key),n)}}function hje(t,e,r){return e&&WB(t.prototype,e),r&&WB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fje(t,e,r){return e=ZS(e),pje(t,VG()?Reflect.construct(e,r||[],ZS(t).constructor):e.apply(t,r))}function pje(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mje(t)}function mje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!t})()}function ZS(t){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ZS(t)}function gje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A2(t,e)}function A2(t,e){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A2(t,e)}function Gj(t,e,r){return e=zG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zG(t){var e=yje(t,"string");return my(e)=="symbol"?e:e+""}function yje(t,e){if(my(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kj=function(t){function e(){return dje(this,e),fje(this,e,arguments)}return gje(e,t),hje(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,c=s.cx,d=s.cy;return dn(c,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,d=ije(c,function(g){return g.coordinate||0}),h=oje(c,function(g){return g.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,d=n.axisLine,h=HB(n,lje),g=c.reduce(function(C,A){return[Math.min(C[0],A.coordinate),Math.max(C[1],A.coordinate)]},[1/0,-1/0]),y=dn(i,s,g[0],o),x=dn(i,s,g[1],o),N=tp(tp(tp({},Tt(h,!1)),{},{fill:"none"},Tt(d,!1)),{},{x1:y.x,y1:y.y,x2:x.x,y2:x.y});return de.createElement("line",Kx({className:"recharts-polar-radius-axis-line"},N))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.angle,d=i.tickFormatter,h=i.stroke,g=HB(i,cje),y=this.getTickTextAnchor(),x=Tt(g,!1),N=Tt(o,!1),C=s.map(function(A,k){var D=n.getTickValueCoord(A),M=tp(tp(tp(tp({textAnchor:y,transform:"rotate(".concat(90-c,", ").concat(D.x,", ").concat(D.y,")")},x),{},{stroke:"none",fill:h},N),{},{index:k},D),{},{payload:A});return de.createElement(Ar,Kx({className:tr("recharts-polar-radius-axis-tick",TG(o)),key:"tick-".concat(A.coordinate)},Mp(n.props,A,k)),e.renderTickItem(o,M,d?d(A.value,k):A.value))});return de.createElement(Ar,{className:"recharts-polar-radius-axis-ticks"},C)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:de.createElement(Ar,{className:tr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Di.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return de.isValidElement(n)?o=de.cloneElement(n,i):Ht(n)?o=n(i):o=de.createElement(Dp,Kx({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(P.PureComponent);Gj(Kj,"displayName","PolarRadiusAxis");Gj(Kj,"axisType","radiusAxis");Gj(Kj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function GB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(r),!0).forEach(function(n){Yj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qG(n.key),n)}}function xje(t,e,r){return e&&KB(t.prototype,e),r&&KB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bje(t,e,r){return e=JS(e),wje(t,UG()?Reflect.construct(e,r||[],JS(t).constructor):e.apply(t,r))}function wje(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sje(t)}function Sje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!t})()}function JS(t){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},JS(t)}function _je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k2(t,e)}function k2(t,e){return k2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k2(t,e)}function Yj(t,e,r){return e=qG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qG(t){var e=jje(t,"string");return gy(e)=="symbol"?e:e+""}function jje(t,e){if(gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nje=Math.PI/180,Aje=1e-5,Xj=function(t){function e(){return vje(this,e),bje(this,e,arguments)}return _je(e,t),xje(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,c=i.radius,d=i.orientation,h=i.tickSize,g=h||8,y=dn(s,o,c,n.coordinate),x=dn(s,o,c+(d==="inner"?-1:1)*g,n.coordinate);return{x1:y.x,y1:y.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Nje),o;return s>Aje?o=i==="outer"?"start":"end":s<-1e-5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,c=n.axisLine,d=n.axisLineType,h=rp(rp({},Tt(this.props,!1)),{},{fill:"none"},Tt(c,!1));if(d==="circle")return de.createElement(Wj,op({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:s,r:o}));var g=this.props.ticks,y=g.map(function(x){return dn(i,s,o,x.coordinate)});return de.createElement(W_e,op({className:"recharts-polar-angle-axis-line"},h,{points:y}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.tickLine,d=i.tickFormatter,h=i.stroke,g=Tt(this.props,!1),y=Tt(o,!1),x=rp(rp({},g),{},{fill:"none"},Tt(c,!1)),N=s.map(function(C,A){var k=n.getTickLineCoord(C),D=n.getTickTextAnchor(C),M=rp(rp(rp({textAnchor:D},g),{},{stroke:"none",fill:h},y),{},{index:A,payload:C,x:k.x2,y:k.y2});return de.createElement(Ar,op({className:tr("recharts-polar-angle-axis-tick",TG(o)),key:"tick-".concat(C.coordinate)},Mp(n.props,C,A)),c&&de.createElement("line",op({className:"recharts-polar-angle-axis-tick-line"},x,k)),o&&e.renderTickItem(o,M,d?d(C.value,A):C.value))});return de.createElement(Ar,{className:"recharts-polar-angle-axis-ticks"},N)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:de.createElement(Ar,{className:tr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return de.isValidElement(n)?o=de.cloneElement(n,i):Ht(n)?o=n(i):o=de.createElement(Dp,op({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(P.PureComponent);Yj(Xj,"displayName","PolarAngleAxis");Yj(Xj,"axisType","angleAxis");Yj(Xj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nC,YB;function kje(){if(YB)return nC;YB=1;var t=ZW(),e=t(Object.getPrototypeOf,Object);return nC=e,nC}var iC,XB;function Eje(){if(XB)return iC;XB=1;var t=Xu(),e=kje(),r=Qu(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,c=s.hasOwnProperty,d=o.call(Object);function h(g){if(!r(g)||t(g)!=n)return!1;var y=e(g);if(y===null)return!0;var x=c.call(y,"constructor")&&y.constructor;return typeof x=="function"&&x instanceof x&&o.call(x)==d}return iC=h,iC}var Tje=Eje();const Cje=Lr(Tje);var sC,QB;function Pje(){if(QB)return sC;QB=1;var t=Xu(),e=Qu(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return sC=n,sC}var Ije=Pje();const Oje=Lr(Ije);function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e_.apply(this,arguments)}function Rje(t,e){return Fje(t)||Lje(t,e)||Dje(t,e)||Mje()}function Mje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dje(t,e){if(t){if(typeof t=="string")return ZB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZB(t,e)}}function ZB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Fje(t){if(Array.isArray(t))return t}function JB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(r),!0).forEach(function(n){$je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $je(t,e,r){return e=Bje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bje(t){var e=Vje(t,"string");return zb(e)=="symbol"?e:e+""}function Vje(t,e){if(zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t6=function(e,r,n,i,s){var o=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-o/2,",").concat(r+s),c+="L ".concat(e+n-o/2-i,",").concat(r+s),c+="L ".concat(e,",").concat(r," Z"),c},zje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Uje=function(e){var r=e6(e6({},zje),e),n=P.useRef(),i=P.useState(-1),s=Rje(i,2),o=s[0],c=s[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&c($)}catch{}},[]);var d=r.x,h=r.y,g=r.upperWidth,y=r.lowerWidth,x=r.height,N=r.className,C=r.animationEasing,A=r.animationDuration,k=r.animationBegin,D=r.isUpdateAnimationActive;if(d!==+d||h!==+h||g!==+g||y!==+y||x!==+x||g===0&&y===0||x===0)return null;var M=tr("recharts-trapezoid",N);return D?de.createElement(bc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:h},to:{upperWidth:g,lowerWidth:y,height:x,x:d,y:h},duration:A,animationEasing:C,isActive:D},function($){var L=$.upperWidth,U=$.lowerWidth,K=$.height,q=$.x,V=$.y;return de.createElement(bc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:A,easing:C},de.createElement("path",e_({},Tt(r,!0),{className:M,d:t6(q,V,L,U,K),ref:n})))}):de.createElement("g",null,de.createElement("path",e_({},Tt(r,!0),{className:M,d:t6(d,h,g,y,x)})))},qje=["option","shapeType","propTransformer","activeClassName","isActive"];function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function Hje(t,e){if(t==null)return{};var r=Wje(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(r),!0).forEach(function(n){Gje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gje(t,e,r){return e=Kje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kje(t){var e=Yje(t,"string");return Ub(e)=="symbol"?e:e+""}function Yje(t,e){if(Ub(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ub(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xje(t,e){return t_(t_({},e),t)}function Qje(t,e){return t==="symbols"}function n6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return de.createElement(UR,r);case"trapezoid":return de.createElement(Uje,r);case"sector":return de.createElement(IG,r);case"symbols":if(Qje(e))return de.createElement(lR,r);break;default:return null}}function Zje(t){return P.isValidElement(t)?t.props:t}function HG(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Xje:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,c=t.isActive,d=Hje(t,qje),h;if(P.isValidElement(e))h=P.cloneElement(e,t_(t_({},d),Zje(e)));else if(Ht(e))h=e(d);else if(Cje(e)&&!Oje(e)){var g=i(e,d);h=de.createElement(n6,{shapeType:r,elementProps:g})}else{var y=d;h=de.createElement(n6,{shapeType:r,elementProps:y})}return c?de.createElement(Ar,{className:o},h):h}function Qj(t,e){return e!=null&&"trapezoids"in t.props}function Zj(t,e){return e!=null&&"sectors"in t.props}function qb(t,e){return e!=null&&"points"in t.props}function Jje(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function eNe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function tNe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function rNe(t,e){var r;return Qj(t,e)?r=Jje:Zj(t,e)?r=eNe:qb(t,e)&&(r=tNe),r}function nNe(t,e){var r;return Qj(t,e)?r="trapezoids":Zj(t,e)?r="sectors":qb(t,e)&&(r="points"),r}function iNe(t,e){if(Qj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Zj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qb(t,e)?e.payload:{}}function sNe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=nNe(r,e),s=iNe(r,e),o=n.filter(function(d,h){var g=hy(s,d),y=r.props[i].filter(function(C){var A=rNe(r,e);return A(C,e)}),x=r.props[i].indexOf(y[y.length-1]),N=h===x;return g&&N}),c=n.indexOf(o[o.length-1]);return c}var D1;function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){co(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GG(n.key),n)}}function oNe(t,e,r){return e&&s6(t.prototype,e),r&&s6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lNe(t,e,r){return e=r_(e),cNe(t,WG()?Reflect.construct(e,r||[],r_(t).constructor):e.apply(t,r))}function cNe(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uNe(t)}function uNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!t})()}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r_(t)}function dNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E2(t,e)}function E2(t,e){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E2(t,e)}function co(t,e,r){return e=GG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GG(t){var e=hNe(t,"string");return yy(e)=="symbol"?e:e+""}function hNe(t,e){if(yy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ju=function(t){function e(r){var n;return aNe(this,e),n=lNe(this,e,[r]),co(n,"pieRef",null),co(n,"sectorRefs",[]),co(n,"id",Jy("recharts-pie-")),co(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ht(i)&&i()}),co(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ht(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dNe(e,t),oNe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,c=s.labelLine,d=s.dataKey,h=s.valueKey,g=Tt(this.props,!1),y=Tt(o,!1),x=Tt(c,!1),N=o&&o.offsetRadius||20,C=n.map(function(A,k){var D=(A.startAngle+A.endAngle)/2,M=dn(A.cx,A.cy,A.outerRadius+N,D),$=cn(cn(cn(cn({},g),A),{},{stroke:"none"},y),{},{index:k,textAnchor:e.getTextAnchor(M.x,A.cx)},M),L=cn(cn(cn(cn({},g),A),{},{fill:"none",stroke:A.fill},x),{},{index:k,points:[dn(A.cx,A.cy,A.outerRadius,D),M]}),U=d;return er(d)&&er(h)?U="value":er(d)&&(U=h),de.createElement(Ar,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(k)},c&&e.renderLabelLineItem(c,L,"line"),e.renderLabelItem(o,$,mi(A,U)))});return de.createElement(Ar,{className:"recharts-pie-labels"},C)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,c=s.blendStroke,d=s.inactiveShape;return n.map(function(h,g){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&n.length!==1)return null;var y=i.isActiveIndex(g),x=d&&i.hasActiveIndex()?d:null,N=y?o:x,C=cn(cn({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return de.createElement(Ar,xg({ref:function(k){k&&!i.sectorRefs.includes(k)&&i.sectorRefs.push(k)},tabIndex:-1,className:"recharts-pie-sector"},Mp(i.props,h,g),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(g)}),de.createElement(HG,xg({option:N,isActive:y,shapeType:"sector"},C)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,g=i.animationId,y=this.state,x=y.prevSectors,N=y.prevIsAnimationActive;return de.createElement(bc,{begin:c,duration:d,isActive:o,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(N),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(C){var A=C.t,k=[],D=s&&s[0],M=D.startAngle;return s.forEach(function($,L){var U=x&&x[L],K=L>0?Ua($,"paddingAngle",0):0;if(U){var q=ta(U.endAngle-U.startAngle,$.endAngle-$.startAngle),V=cn(cn({},$),{},{startAngle:M+K,endAngle:M+q(A)+K});k.push(V),M=V.endAngle}else{var Q=$.endAngle,J=$.startAngle,ee=ta(0,Q-J),X=ee(A),Y=cn(cn({},$),{},{startAngle:M+K,endAngle:M+X+K});k.push(Y),M=Y.endAngle}}),de.createElement(Ar,null,n.renderSectorsStatically(k))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!hy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,c=i.className,d=i.label,h=i.cx,g=i.cy,y=i.innerRadius,x=i.outerRadius,N=i.isAnimationActive,C=this.state.isAnimationFinished;if(s||!o||!o.length||!it(h)||!it(g)||!it(y)||!it(x))return null;var A=tr("recharts-pie",c);return de.createElement(Ar,{tabIndex:this.props.rootTabIndex,className:A,ref:function(D){n.pieRef=D}},this.renderSectors(),d&&this.renderLabels(o),Di.renderCallByParent(this.props,null,!1),(!N||C)&&Cu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(de.isValidElement(n))return de.cloneElement(n,i);if(Ht(n))return n(i);var o=tr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return de.createElement(Rg,xg({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(de.isValidElement(n))return de.cloneElement(n,i);var o=s;if(Ht(n)&&(o=n(i),de.isValidElement(o)))return o;var c=tr("recharts-pie-label-text",typeof n!="boolean"&&!Ht(n)?n.className:"");return de.createElement(Dp,xg({},i,{alignmentBaseline:"middle",className:c}),o)}}])}(P.PureComponent);D1=Ju;co(Ju,"displayName","Pie");co(Ju,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});co(Ju,"parseDeltaAngle",function(t,e){var r=Os(e-t),n=Math.min(Math.abs(e-t),360);return r*n});co(Ju,"getRealPieData",function(t){var e=t.data,r=t.children,n=Tt(t,!1),i=mo(r,Rj);return e&&e.length?e.map(function(s,o){return cn(cn(cn({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return cn(cn({},n),s.props)}):[]});co(Ju,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=EG(i,s),c=n+Rs(t.cx,i,i/2),d=r+Rs(t.cy,s,s/2),h=Rs(t.innerRadius,o,0),g=Rs(t.outerRadius,o,o*.8),y=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:g,maxRadius:y}});co(Ju,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?cn(cn({},e.type.defaultProps),e.props):e.props,i=D1.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,c=n.endAngle,d=n.paddingAngle,h=n.dataKey,g=n.nameKey,y=n.valueKey,x=n.tooltipType,N=Math.abs(n.minAngle),C=D1.parseCoordinateOfPie(n,r),A=D1.parseDeltaAngle(o,c),k=Math.abs(A),D=h;er(h)&&er(y)?(dl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),D="value"):er(h)&&(dl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),D=y);var M=i.filter(function(V){return mi(V,D,0)!==0}).length,$=(k>=360?M:M-1)*d,L=k-M*N-$,U=i.reduce(function(V,Q){var J=mi(Q,D,0);return V+(it(J)?J:0)},0),K;if(U>0){var q;K=i.map(function(V,Q){var J=mi(V,D,0),ee=mi(V,g,Q),X=(it(J)?J:0)/U,Y;Q?Y=q.endAngle+Os(A)*d*(J!==0?1:0):Y=o;var se=Y+Os(A)*((J!==0?N:0)+X*L),pe=(Y+se)/2,ce=(C.innerRadius+C.outerRadius)/2,me=[{name:ee,value:J,payload:V,dataKey:D,type:x}],he=dn(C.cx,C.cy,ce,pe);return q=cn(cn(cn({percent:X,cornerRadius:s,name:ee,tooltipPayload:me,midAngle:pe,middleRadius:ce,tooltipPosition:he},V),C),{},{value:mi(V,D),startAngle:Y,endAngle:se,payload:V,paddingAngle:Os(A)*d}),q})}return cn(cn({},C),{},{sectors:K,data:i})});var aC,a6;function fNe(){if(a6)return aC;a6=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var c=-1,d=e(t((i-n)/(s||1)),0),h=Array(d);d--;)h[o?d:++c]=n,n+=s;return h}return aC=r,aC}var oC,o6;function KG(){if(o6)return oC;o6=1;var t=p7(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var s=i<0?-1:1;return s*r}return i===i?i:0}return oC=n,oC}var lC,l6;function pNe(){if(l6)return lC;l6=1;var t=fNe(),e=Oj(),r=KG();function n(i){return function(s,o,c){return c&&typeof c!="number"&&e(s,o,c)&&(o=c=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),c=c===void 0?s<o?1:-1:r(c),t(s,o,c,i)}}return lC=n,lC}var cC,c6;function mNe(){if(c6)return cC;c6=1;var t=pNe(),e=t();return cC=e,cC}var gNe=mNe();const n_=Lr(gNe);function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function u6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(r),!0).forEach(function(n){YG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YG(t,e,r){return e=yNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yNe(t){var e=vNe(t,"string");return Hb(e)=="symbol"?e:e+""}function vNe(t,e){if(Hb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xNe=["Webkit","Moz","O","ms"],bNe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=xNe.reduce(function(s,o){return d6(d6({},s),{},YG({},o+n,r))},{});return i[e]=r,i};function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i_.apply(this,arguments)}function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){Ta(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QG(n.key),n)}}function SNe(t,e,r){return e&&f6(t.prototype,e),r&&f6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ne(t,e,r){return e=s_(e),jNe(t,XG()?Reflect.construct(e,r||[],s_(t).constructor):e.apply(t,r))}function jNe(t,e){if(e&&(vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NNe(t)}function NNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!t})()}function s_(t){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s_(t)}function ANe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T2(t,e)}function T2(t,e){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T2(t,e)}function Ta(t,e,r){return e=QG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QG(t){var e=kNe(t,"string");return vy(e)=="symbol"?e:e+""}function kNe(t,e){if(vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ENe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=qx().domain(n_(0,d)).range([s,s+o-c]),g=h.domain().map(function(y){return h(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:g}},p6=function(e){return e.changedTouches&&!!e.changedTouches.length},xy=function(t){function e(r){var n;return wNe(this,e),n=_Ne(this,e,[r]),Ta(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ta(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ta(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,c=i.startIndex;o==null||o({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),Ta(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ta(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ta(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ta(n,"handleSlideDragStart",function(i){var s=p6(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ANe(e,t),SNe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,c=this.props,d=c.gap,h=c.data,g=h.length-1,y=Math.min(i,s),x=Math.max(i,s),N=e.getIndexInRange(o,y),C=e.getIndexInRange(o,x);return{startIndex:N-N%d,endIndex:C===g?g:C-C%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,c=i.dataKey,d=mi(s[n],c,n);return Ht(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,c=i.endX,d=this.props,h=d.x,g=d.width,y=d.travellerWidth,x=d.startIndex,N=d.endIndex,C=d.onChange,A=n.pageX-s;A>0?A=Math.min(A,h+g-y-c,h+g-y-o):A<0&&(A=Math.max(A,h-o,h-c));var k=this.getIndex({startX:o+A,endX:c+A});(k.startIndex!==x||k.endIndex!==N)&&C&&C(k),this.setState({startX:o+A,endX:c+A,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=p6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,d=i.startX,h=this.state[o],g=this.props,y=g.x,x=g.width,N=g.travellerWidth,C=g.onChange,A=g.gap,k=g.data,D={startX:this.state.startX,endX:this.state.endX},M=n.pageX-s;M>0?M=Math.min(M,y+x-N-h):M<0&&(M=Math.max(M,y-h)),D[o]=h+M;var $=this.getIndex(D),L=$.startIndex,U=$.endIndex,K=function(){var V=k.length-1;return o==="startX"&&(c>d?L%A===0:U%A===0)||c<d&&U===V||o==="endX"&&(c>d?U%A===0:L%A===0)||c>d&&U===V};this.setState(Ta(Ta({},o,h+M),"brushMoveStartX",n.pageX),function(){C&&K()&&C($)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,c=o.scaleValues,d=o.startX,h=o.endX,g=this.state[i],y=c.indexOf(g);if(y!==-1){var x=y+n;if(!(x===-1||x>=c.length)){var N=c[x];i==="startX"&&N>=h||i==="endX"&&N<=d||this.setState(Ta({},i,N),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.fill,h=n.stroke;return de.createElement("rect",{stroke:h,fill:d,x:i,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.data,h=n.children,g=n.padding,y=P.Children.only(h);return y?de.cloneElement(y,{x:i,y:s,width:o,height:c,margin:g,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,c=this,d=this.props,h=d.y,g=d.travellerWidth,y=d.height,x=d.traveller,N=d.ariaLabel,C=d.data,A=d.startIndex,k=d.endIndex,D=Math.max(n,this.props.x),M=uC(uC({},Tt(this.props,!1)),{},{x:D,y:h,width:g,height:y}),$=N||"Min value: ".concat((s=C[A])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=C[k])===null||o===void 0?void 0:o.name);return de.createElement(Ar,{tabIndex:0,role:"slider","aria-label":$,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(U){["ArrowLeft","ArrowRight"].includes(U.key)&&(U.preventDefault(),U.stopPropagation(),c.handleTravellerMoveKeyboard(U.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(x,M))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,c=s.height,d=s.stroke,h=s.travellerWidth,g=Math.min(n,i)+h,y=Math.max(Math.abs(i-n)-h,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:g,y:o,width:y,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,c=n.height,d=n.travellerWidth,h=n.stroke,g=this.state,y=g.startX,x=g.endX,N=5,C={pointerEvents:"none",fill:h};return de.createElement(Ar,{className:"recharts-brush-texts"},de.createElement(Dp,i_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(y,x)-N,y:o+c/2},C),this.getTextOfTick(i)),de.createElement(Dp,i_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(y,x)+d+N,y:o+c/2},C),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,c=n.x,d=n.y,h=n.width,g=n.height,y=n.alwaysShowText,x=this.state,N=x.startX,C=x.endX,A=x.isTextActive,k=x.isSlideMoving,D=x.isTravellerMoving,M=x.isTravellerFocused;if(!i||!i.length||!it(c)||!it(d)||!it(h)||!it(g)||h<=0||g<=0)return null;var $=tr("recharts-brush",s),L=de.Children.count(o)===1,U=bNe("userSelect","none");return de.createElement(Ar,{className:$,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:U},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(N,C),this.renderTravellerLayer(N,"startX"),this.renderTravellerLayer(C,"endX"),(A||k||D||M||y)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,c=n.height,d=n.stroke,h=Math.floor(s+c/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:s,width:o,height:c,fill:d,stroke:"none"}),de.createElement("line",{x1:i+1,y1:h,x2:i+o-1,y2:h,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:h+2,x2:i+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return de.isValidElement(n)?s=de.cloneElement(n,i):Ht(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,c=n.x,d=n.travellerWidth,h=n.updateId,g=n.startIndex,y=n.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return uC({prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:o},s&&s.length?ENe({data:s,width:o,x:c,travellerWidth:d,startIndex:g,endIndex:y}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+o-d]);var x=i.scale.domain().map(function(N){return i.scale(N)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,c=s-1;c-o>1;){var d=Math.floor((o+c)/2);n[d]>i?c=d:o=d}return i>=n[c]?c:o}}])}(P.PureComponent);Ta(xy,"displayName","Brush");Ta(xy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dC,m6;function TNe(){if(m6)return dC;m6=1;var t=mR();function e(r,n){var i;return t(r,function(s,o,c){return i=n(s,o,c),!i}),!!i}return dC=e,dC}var hC,g6;function CNe(){if(g6)return hC;g6=1;var t=HW(),e=kc(),r=TNe(),n=ca(),i=Oj();function s(o,c,d){var h=n(o)?t:r;return d&&i(o,c,d)&&(c=void 0),h(o,e(c,3))}return hC=s,hC}var PNe=CNe();const INe=Lr(PNe);var mc=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},fC,y6;function ONe(){if(y6)return fC;y6=1;var t=c7();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return fC=e,fC}var pC,v6;function RNe(){if(v6)return pC;v6=1;var t=ONe(),e=o7(),r=kc();function n(i,s){var o={};return s=r(s,3),e(i,function(c,d,h){t(o,d,s(c,d,h))}),o}return pC=n,pC}var MNe=RNe();const DNe=Lr(MNe);var mC,x6;function LNe(){if(x6)return mC;x6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return mC=t,mC}var gC,b6;function FNe(){if(b6)return gC;b6=1;var t=mR();function e(r,n){var i=!0;return t(r,function(s,o,c){return i=!!n(s,o,c),i}),i}return gC=e,gC}var yC,w6;function $Ne(){if(w6)return yC;w6=1;var t=LNe(),e=FNe(),r=kc(),n=ca(),i=Oj();function s(o,c,d){var h=n(o)?t:e;return d&&i(o,c,d)&&(c=void 0),h(o,r(c,3))}return yC=s,yC}var BNe=$Ne();const ZG=Lr(BNe);var VNe=["x","y"];function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C2.apply(this,arguments)}function S6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _x(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(r),!0).forEach(function(n){zNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zNe(t,e,r){return e=UNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UNe(t){var e=qNe(t,"string");return Wb(e)=="symbol"?e:e+""}function qNe(t,e){if(Wb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HNe(t,e){if(t==null)return{};var r=WNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GNe(t,e){var r=t.x,n=t.y,i=HNe(t,VNe),s="".concat(r),o=parseInt(s,10),c="".concat(n),d=parseInt(c,10),h="".concat(e.height||i.height),g=parseInt(h,10),y="".concat(e.width||i.width),x=parseInt(y,10);return _x(_x(_x(_x(_x({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:g,width:x,name:e.name,radius:e.radius})}function _6(t){return de.createElement(HG,C2({shapeType:"rectangle",propTransformer:GNe,activeClassName:"recharts-active-bar"},t))}var KNe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,i):(s||Fp(),r)}},YNe=["value","background"],JG;function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function XNe(t,e){if(t==null)return{};var r=QNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a_.apply(this,arguments)}function j6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(r),!0).forEach(function(n){jh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tK(n.key),n)}}function JNe(t,e,r){return e&&N6(t.prototype,e),r&&N6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eAe(t,e,r){return e=o_(e),tAe(t,eK()?Reflect.construct(e,r||[],o_(t).constructor):e.apply(t,r))}function tAe(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(t)}function rAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!t})()}function o_(t){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o_(t)}function nAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P2(t,e)}function jh(t,e,r){return e=tK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tK(t){var e=iAe(t,"string");return by(e)=="symbol"?e:e+""}function iAe(t,e){if(by(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A0=function(t){function e(){var r;ZNe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=eAe(this,e,[].concat(i)),jh(r,"state",{isAnimationFinished:!1}),jh(r,"id",Jy("recharts-bar-")),jh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),jh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return nAe(e,t),JNe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,c=s.dataKey,d=s.activeIndex,h=s.activeBar,g=Tt(this.props,!1);return n&&n.map(function(y,x){var N=x===d,C=N?h:o,A=ci(ci(ci({},g),y),{},{isActive:N,option:C,index:x,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(Ar,a_({className:"recharts-bar-rectangle"},Mp(i.props,y,x),{key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value)}),de.createElement(_6,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,c=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,g=i.animationEasing,y=i.animationId,x=this.state.prevData;return de.createElement(bc,{begin:d,duration:h,isActive:c,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var C=N.t,A=s.map(function(k,D){var M=x&&x[D];if(M){var $=ta(M.x,k.x),L=ta(M.y,k.y),U=ta(M.width,k.width),K=ta(M.height,k.height);return ci(ci({},k),{},{x:$(C),y:L(C),width:U(C),height:K(C)})}if(o==="horizontal"){var q=ta(0,k.height),V=q(C);return ci(ci({},k),{},{y:k.y+k.height-V,height:V})}var Q=ta(0,k.width),J=Q(C);return ci(ci({},k),{},{width:J})});return de.createElement(Ar,null,n.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!hy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,c=i.activeIndex,d=Tt(this.props.background,!1);return s.map(function(h,g){h.value;var y=h.background,x=XNe(h,YNe);if(!y)return null;var N=ci(ci(ci(ci(ci({},x),{},{fill:"#eee"},y),d),Mp(n.props,h,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:g,className:"recharts-bar-background-rectangle"});return de.createElement(_6,a_({key:"background-bar-".concat(g),option:n.props.background,isActive:g===c},N))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,d=s.yAxis,h=s.layout,g=s.children,y=mo(g,Hj);if(!y)return null;var x=h==="vertical"?o[0].height/2:o[0].width/2,N=function(k,D){var M=Array.isArray(k.value)?k.value[1]:k.value;return{x:k.x,y:k.y,value:M,errorVal:mi(k,D)}},C={clipPath:n?"url(#clipPath-".concat(i,")"):null};return de.createElement(Ar,C,y.map(function(A){return de.cloneElement(A,{key:"error-bar-".concat(i,"-").concat(A.props.dataKey),data:o,xAxis:c,yAxis:d,layout:h,offset:x,dataPointFormatter:N})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,c=n.xAxis,d=n.yAxis,h=n.left,g=n.top,y=n.width,x=n.height,N=n.isAnimationActive,C=n.background,A=n.id;if(i||!s||!s.length)return null;var k=this.state.isAnimationFinished,D=tr("recharts-bar",o),M=c&&c.allowDataOverflow,$=d&&d.allowDataOverflow,L=M||$,U=er(A)?this.id:A;return de.createElement(Ar,{className:D},M||$?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(U)},de.createElement("rect",{x:M?h:h-y/2,y:$?g:g-x/2,width:M?y:y*2,height:$?x:x*2}))):null,de.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(U,")"):null},C?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,U),(!N||k)&&Cu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(P.PureComponent);JG=A0;jh(A0,"displayName","Bar");jh(A0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jh(A0,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,g=t.dataStartIndex,y=t.displayedData,x=t.offset,N=zwe(n,r);if(!N)return null;var C=e.layout,A=r.type.defaultProps,k=A!==void 0?ci(ci({},A),r.props):r.props,D=k.dataKey,M=k.children,$=k.minPointSize,L=C==="horizontal"?o:s,U=h?L.scale.domain():null,K=Ywe({numericAxis:L}),q=mo(M,Rj),V=y.map(function(Q,J){var ee,X,Y,se,pe,ce;h?ee=Uwe(h[g+J],U):(ee=mi(Q,D),Array.isArray(ee)||(ee=[K,ee]));var me=KNe($,JG.defaultProps.minPointSize)(ee[1],J);if(C==="horizontal"){var he,Se=[o.scale(ee[0]),o.scale(ee[1])],be=Se[0],ue=Se[1];X=Q$({axis:s,ticks:c,bandSize:i,offset:N.offset,entry:Q,index:J}),Y=(he=ue??be)!==null&&he!==void 0?he:void 0,se=N.size;var ge=be-ue;if(pe=Number.isNaN(ge)?0:ge,ce={x:X,y:o.y,width:se,height:o.height},Math.abs(me)>0&&Math.abs(pe)<Math.abs(me)){var ke=Os(pe||me)*(Math.abs(me)-Math.abs(pe));Y-=ke,pe+=ke}}else{var ze=[s.scale(ee[0]),s.scale(ee[1])],et=ze[0],Ke=ze[1];if(X=et,Y=Q$({axis:o,ticks:d,bandSize:i,offset:N.offset,entry:Q,index:J}),se=Ke-et,pe=N.size,ce={x:s.x,y:Y,width:s.width,height:pe},Math.abs(me)>0&&Math.abs(se)<Math.abs(me)){var _e=Os(se||me)*(Math.abs(me)-Math.abs(se));se+=_e}}return ci(ci(ci({},Q),{},{x:X,y:Y,width:se,height:pe,value:h?ee:ee[1],payload:Q,background:ce},q&&q[J]&&q[J].props),{},{tooltipPayload:[AG(r,Q)],tooltipPosition:{x:X+se/2,y:Y+pe/2}})});return ci({data:V,layout:C},x)});function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function sAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rK(n.key),n)}}function aAe(t,e,r){return e&&A6(t.prototype,e),r&&A6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(r),!0).forEach(function(n){Jj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jj(t,e,r){return e=rK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rK(t){var e=oAe(t,"string");return Gb(e)=="symbol"?e:e+""}function oAe(t,e){if(Gb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lAe=function(e,r,n,i,s){var o=e.width,c=e.height,d=e.layout,h=e.children,g=Object.keys(r),y={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},x=!!Ia(h,A0);return g.reduce(function(N,C){var A=r[C],k=A.orientation,D=A.domain,M=A.padding,$=M===void 0?{}:M,L=A.mirror,U=A.reversed,K="".concat(k).concat(L?"Mirror":""),q,V,Q,J,ee;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var X=D[1]-D[0],Y=1/0,se=A.categoricalDomain.sort();if(se.forEach(function(ze,et){et>0&&(Y=Math.min((ze||0)-(se[et-1]||0),Y))}),Number.isFinite(Y)){var pe=Y/X,ce=A.layout==="vertical"?n.height:n.width;if(A.padding==="gap"&&(q=pe*ce/2),A.padding==="no-gap"){var me=Rs(e.barCategoryGap,pe*ce),he=pe*ce/2;q=he-me-(he-me)/ce*me}}}i==="xAxis"?V=[n.left+($.left||0)+(q||0),n.left+n.width-($.right||0)-(q||0)]:i==="yAxis"?V=d==="horizontal"?[n.top+n.height-($.bottom||0),n.top+($.top||0)]:[n.top+($.top||0)+(q||0),n.top+n.height-($.bottom||0)-(q||0)]:V=A.range,U&&(V=[V[1],V[0]]);var Se=SG(A,s,x),be=Se.scale,ue=Se.realScaleType;be.domain(D).range(V),_G(be);var ge=jG(be,rl(rl({},A),{},{realScaleType:ue}));i==="xAxis"?(ee=k==="top"&&!L||k==="bottom"&&L,Q=n.left,J=y[K]-ee*A.height):i==="yAxis"&&(ee=k==="left"&&!L||k==="right"&&L,Q=y[K]-ee*A.width,J=n.top);var ke=rl(rl(rl({},A),ge),{},{realScaleType:ue,x:Q,y:J,scale:be,width:i==="xAxis"?n.width:A.width,height:i==="yAxis"?n.height:A.height});return ke.bandSize=HS(ke,ge),!A.hide&&i==="xAxis"?y[K]+=(ee?-1:1)*ke.height:A.hide||(y[K]+=(ee?-1:1)*ke.width),rl(rl({},N),{},Jj({},C,ke))},{})},nK=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},cAe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return nK({x:r,y:n},{x:i,y:s})},iK=function(){function t(e){sAe(this,t),this.scale=e}return aAe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Jj(iK,"EPS",1e-4);var qR=function(e){var r=Object.keys(e).reduce(function(n,i){return rl(rl({},n),{},Jj({},i,iK.create(e[i])))},{});return rl(rl({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return DNe(i,function(d,h){return r[h].apply(d,{bandAware:o,position:c})})},isInRange:function(i){return ZG(i,function(s,o){return r[o].isInRange(s)})}})};function uAe(t){return(t%180+180)%180}var dAe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=uAe(i),o=s*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},vC,E6;function hAe(){if(E6)return vC;E6=1;var t=kc(),e=w0(),r=Pj();function n(i){return function(s,o,c){var d=Object(s);if(!e(s)){var h=t(o,3);s=r(s),o=function(y){return h(d[y],y,d)}}var g=i(s,o,c);return g>-1?d[h?s[g]:g]:void 0}}return vC=n,vC}var xC,T6;function fAe(){if(T6)return xC;T6=1;var t=KG();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return xC=e,xC}var bC,C6;function pAe(){if(C6)return bC;C6=1;var t=r7(),e=kc(),r=fAe(),n=Math.max;function i(s,o,c){var d=s==null?0:s.length;if(!d)return-1;var h=c==null?0:r(c);return h<0&&(h=n(d+h,0)),t(s,e(o,3),h)}return bC=i,bC}var wC,P6;function mAe(){if(P6)return wC;P6=1;var t=hAe(),e=pAe(),r=t(e);return wC=r,wC}var gAe=mAe();const yAe=Lr(gAe);var vAe=yW();const xAe=Lr(vAe);var bAe=xAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HR=P.createContext(void 0),WR=P.createContext(void 0),sK=P.createContext(void 0),aK=P.createContext({}),oK=P.createContext(void 0),lK=P.createContext(0),cK=P.createContext(0),I6=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,c=e.children,d=e.width,h=e.height,g=bAe(s);return de.createElement(HR.Provider,{value:n},de.createElement(WR.Provider,{value:i},de.createElement(aK.Provider,{value:s},de.createElement(sK.Provider,{value:g},de.createElement(oK.Provider,{value:o},de.createElement(lK.Provider,{value:h},de.createElement(cK.Provider,{value:d},c)))))))},wAe=function(){return P.useContext(oK)},uK=function(e){var r=P.useContext(HR);r==null&&Fp();var n=r[e];return n==null&&Fp(),n},SAe=function(){var e=P.useContext(HR);return hh(e)},_Ae=function(){var e=P.useContext(WR),r=yAe(e,function(n){return ZG(n.domain,Number.isFinite)});return r||hh(e)},dK=function(e){var r=P.useContext(WR);r==null&&Fp();var n=r[e];return n==null&&Fp(),n},jAe=function(){var e=P.useContext(sK);return e},NAe=function(){return P.useContext(aK)},GR=function(){return P.useContext(cK)},KR=function(){return P.useContext(lK)};function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function AAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fK(n.key),n)}}function EAe(t,e,r){return e&&kAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TAe(t,e,r){return e=l_(e),CAe(t,hK()?Reflect.construct(e,r||[],l_(t).constructor):e.apply(t,r))}function CAe(t,e){if(e&&(wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(t)}function PAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!t})()}function l_(t){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l_(t)}function IAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I2(t,e)}function O6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(r),!0).forEach(function(n){YR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YR(t,e,r){return e=fK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fK(t){var e=OAe(t,"string");return wy(e)=="symbol"?e:e+""}function OAe(t,e){if(wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RAe(t,e){return FAe(t)||LAe(t,e)||DAe(t,e)||MAe()}function MAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DAe(t,e){if(t){if(typeof t=="string")return M6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M6(t,e)}}function M6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function FAe(t){if(Array.isArray(t))return t}function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O2.apply(this,arguments)}var $Ae=function(e,r){var n;return de.isValidElement(e)?n=de.cloneElement(e,r):Ht(e)?n=e(r):n=de.createElement("line",O2({},r,{className:"recharts-reference-line-line"})),n},BAe=function(e,r,n,i,s,o,c,d,h){var g=s.x,y=s.y,x=s.width,N=s.height;if(n){var C=h.y,A=e.y.apply(C,{position:o});if(mc(h,"discard")&&!e.y.isInRange(A))return null;var k=[{x:g+x,y:A},{x:g,y:A}];return d==="left"?k.reverse():k}if(r){var D=h.x,M=e.x.apply(D,{position:o});if(mc(h,"discard")&&!e.x.isInRange(M))return null;var $=[{x:M,y:y+N},{x:M,y}];return c==="top"?$.reverse():$}if(i){var L=h.segment,U=L.map(function(K){return e.apply(K,{position:o})});return mc(h,"discard")&&INe(U,function(K){return!e.isInRange(K)})?null:U}return null};function VAe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,c=t.className,d=t.alwaysShow,h=wAe(),g=uK(i),y=dK(s),x=jAe();if(!h||!x)return null;dl(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var N=qR({x:g.scale,y:y.scale}),C=gi(e),A=gi(r),k=n&&n.length===2,D=BAe(N,C,A,k,x,t.position,g.orientation,y.orientation,t);if(!D)return null;var M=RAe(D,2),$=M[0],L=$.x,U=$.y,K=M[1],q=K.x,V=K.y,Q=mc(t,"hidden")?"url(#".concat(h,")"):void 0,J=R6(R6({clipPath:Q},Tt(t,!0)),{},{x1:L,y1:U,x2:q,y2:V});return de.createElement(Ar,{className:tr("recharts-reference-line",c)},$Ae(o,J),Di.renderCallByParent(t,cAe({x1:L,y1:U,x2:q,y2:V})))}var XR=function(t){function e(){return AAe(this,e),TAe(this,e,arguments)}return IAe(e,t),EAe(e,[{key:"render",value:function(){return de.createElement(VAe,this.props)}}])}(de.Component);YR(XR,"displayName","ReferenceLine");YR(XR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R2.apply(this,arguments)}function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function D6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(r),!0).forEach(function(n){eN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mK(n.key),n)}}function qAe(t,e,r){return e&&UAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HAe(t,e,r){return e=c_(e),WAe(t,pK()?Reflect.construct(e,r||[],c_(t).constructor):e.apply(t,r))}function WAe(t,e){if(e&&(Sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GAe(t)}function GAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!t})()}function c_(t){return c_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c_(t)}function KAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M2(t,e)}function M2(t,e){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M2(t,e)}function eN(t,e,r){return e=mK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mK(t){var e=YAe(t,"string");return Sy(e)=="symbol"?e:e+""}function YAe(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XAe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=qR({x:i.scale,y:s.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return mc(e,"discard")&&!o.isInRange(c)?null:c},tN=function(t){function e(){return zAe(this,e),HAe(this,e,arguments)}return KAe(e,t),qAe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,c=n.alwaysShow,d=n.clipPathId,h=gi(i),g=gi(s);if(dl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!g)return null;var y=XAe(this.props);if(!y)return null;var x=y.x,N=y.y,C=this.props,A=C.shape,k=C.className,D=mc(this.props,"hidden")?"url(#".concat(d,")"):void 0,M=L6(L6({clipPath:D},Tt(this.props,!0)),{},{cx:x,cy:N});return de.createElement(Ar,{className:tr("recharts-reference-dot",k)},e.renderDot(A,M),Di.renderCallByParent(this.props,{x:x-o,y:N-o,width:2*o,height:2*o}))}}])}(de.Component);eN(tN,"displayName","ReferenceDot");eN(tN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});eN(tN,"renderDot",function(t,e){var r;return de.isValidElement(t)?r=de.cloneElement(t,e):Ht(t)?r=t(e):r=de.createElement(Wj,R2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D2.apply(this,arguments)}function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function F6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(r),!0).forEach(function(n){rN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yK(n.key),n)}}function JAe(t,e,r){return e&&ZAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eke(t,e,r){return e=u_(e),tke(t,gK()?Reflect.construct(e,r||[],u_(t).constructor):e.apply(t,r))}function tke(t,e){if(e&&(_y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rke(t)}function rke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!t})()}function u_(t){return u_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u_(t)}function nke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L2(t,e)}function L2(t,e){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L2(t,e)}function rN(t,e,r){return e=yK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yK(t){var e=ike(t,"string");return _y(e)=="symbol"?e:e+""}function ike(t,e){if(_y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ske=function(e,r,n,i,s){var o=s.x1,c=s.x2,d=s.y1,h=s.y2,g=s.xAxis,y=s.yAxis;if(!g||!y)return null;var x=qR({x:g.scale,y:y.scale}),N={x:e?x.x.apply(o,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(d,{position:"start"}):x.y.rangeMin},C={x:r?x.x.apply(c,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return mc(s,"discard")&&(!x.isInRange(N)||!x.isInRange(C))?null:nK(N,C)},nN=function(t){function e(){return QAe(this,e),eke(this,e,arguments)}return nke(e,t),JAe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,c=n.y2,d=n.className,h=n.alwaysShow,g=n.clipPathId;dl(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=gi(i),x=gi(s),N=gi(o),C=gi(c),A=this.props.shape;if(!y&&!x&&!N&&!C&&!A)return null;var k=ske(y,x,N,C,this.props);if(!k&&!A)return null;var D=mc(this.props,"hidden")?"url(#".concat(g,")"):void 0;return de.createElement(Ar,{className:tr("recharts-reference-area",d)},e.renderRect(A,$6($6({clipPath:D},Tt(this.props,!0)),k)),Di.renderCallByParent(this.props,k))}}])}(de.Component);rN(nN,"displayName","ReferenceArea");rN(nN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rN(nN,"renderRect",function(t,e){var r;return de.isValidElement(t)?r=de.cloneElement(t,e):Ht(t)?r=t(e):r=de.createElement(UR,D2({},e,{className:"recharts-reference-area-rect"})),r});function vK(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function ake(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return dAe(n,r)}function oke(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,c=t.height;return e===1?{start:n?i:s,end:n?i+o:s+c}:{start:n?i+o:s+c,end:n?i:s}}function d_(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function lke(t,e){return vK(t,e+1)}function cke(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,c=e.end,d=0,h=1,g=o,y=function(){var C=n==null?void 0:n[d];if(C===void 0)return{v:vK(n,h)};var A=d,k,D=function(){return k===void 0&&(k=r(C,A)),k},M=C.coordinate,$=d===0||d_(t,M,D,g,c);$||(d=0,g=o,h+=1),$&&(g=M+t*(D()/2+i),d+=h)},x;h<=s.length;)if(x=y(),x)return x.v;return[]}function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function B6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(r),!0).forEach(function(n){uke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uke(t,e,r){return e=dke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dke(t){var e=hke(t,"string");return Kb(e)=="symbol"?e:e+""}function hke(t,e){if(Kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fke(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,c=e.start,d=e.end,h=function(x){var N=s[x],C,A=function(){return C===void 0&&(C=r(N,x)),C};if(x===o-1){var k=t*(N.coordinate+t*A()/2-d);s[x]=N=ds(ds({},N),{},{tickCoord:k>0?N.coordinate-k*t:N.coordinate})}else s[x]=N=ds(ds({},N),{},{tickCoord:N.coordinate});var D=d_(t,N.tickCoord,A,c,d);D&&(d=N.tickCoord-t*(A()/2+i),s[x]=ds(ds({},N),{},{isShow:!0}))},g=o-1;g>=0;g--)h(g);return s}function pke(t,e,r,n,i,s){var o=(n||[]).slice(),c=o.length,d=e.start,h=e.end;if(s){var g=n[c-1],y=r(g,c-1),x=t*(g.coordinate+t*y/2-h);o[c-1]=g=ds(ds({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate});var N=d_(t,g.tickCoord,function(){return y},d,h);N&&(h=g.tickCoord-t*(y/2+i),o[c-1]=ds(ds({},g),{},{isShow:!0}))}for(var C=s?c-1:c,A=function(M){var $=o[M],L,U=function(){return L===void 0&&(L=r($,M)),L};if(M===0){var K=t*($.coordinate-t*U()/2-d);o[M]=$=ds(ds({},$),{},{tickCoord:K<0?$.coordinate-K*t:$.coordinate})}else o[M]=$=ds(ds({},$),{},{tickCoord:$.coordinate});var q=d_(t,$.tickCoord,U,d,h);q&&(d=$.tickCoord+t*(U()/2+i),o[M]=ds(ds({},$),{},{isShow:!0}))},k=0;k<C;k++)A(k);return o}function QR(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,c=t.orientation,d=t.interval,h=t.tickFormatter,g=t.unit,y=t.angle;if(!i||!i.length||!n)return[];if(it(d)||Wp.isSsr)return lke(i,typeof d=="number"&&it(d)?d:0);var x=[],N=c==="top"||c==="bottom"?"width":"height",C=g&&N==="width"?Ux(g,{fontSize:e,letterSpacing:r}):{width:0,height:0},A=function($,L){var U=Ht(h)?h($.value,L):$.value;return N==="width"?ake(Ux(U,{fontSize:e,letterSpacing:r}),C,y):Ux(U,{fontSize:e,letterSpacing:r})[N]},k=i.length>=2?Os(i[1].coordinate-i[0].coordinate):1,D=oke(s,k,N);return d==="equidistantPreserveStart"?cke(k,D,A,i,o):(d==="preserveStart"||d==="preserveStartEnd"?x=pke(k,D,A,i,o,d==="preserveStartEnd"):x=fke(k,D,A,i,o),x.filter(function(M){return M.isShow}))}var mke=["viewBox"],gke=["viewBox"],yke=["ticks"];function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bg.apply(this,arguments)}function V6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(r),!0).forEach(function(n){ZR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SC(t,e){if(t==null)return{};var r=vke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bK(n.key),n)}}function bke(t,e,r){return e&&z6(t.prototype,e),r&&z6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wke(t,e,r){return e=h_(e),Ske(t,xK()?Reflect.construct(e,r||[],h_(t).constructor):e.apply(t,r))}function Ske(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ke(t)}function _ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!t})()}function h_(t){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h_(t)}function jke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F2(t,e)}function F2(t,e){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F2(t,e)}function ZR(t,e,r){return e=bK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bK(t){var e=Nke(t,"string");return jy(e)=="symbol"?e:e+""}function Nke(t,e){if(jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sv=function(t){function e(r){var n;return xke(this,e),n=wke(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return jke(e,t),bke(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=SC(n,mke),c=this.props,d=c.viewBox,h=SC(c,gke);return!Pg(s,d)||!Pg(o,h)||!Pg(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,c=i.width,d=i.height,h=i.orientation,g=i.tickSize,y=i.mirror,x=i.tickMargin,N,C,A,k,D,M,$=y?-1:1,L=n.tickSize||g,U=it(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":N=C=n.coordinate,k=o+ +!y*d,A=k-$*L,M=A-$*x,D=U;break;case"left":A=k=n.coordinate,C=s+ +!y*c,N=C-$*L,D=N-$*x,M=U;break;case"right":A=k=n.coordinate,C=s+ +y*c,N=C+$*L,D=N+$*x,M=U;break;default:N=C=n.coordinate,k=o+ +y*d,A=k+$*L,M=A+$*x,D=U;break}return{line:{x1:N,y1:A,x2:C,y2:k},tick:{x:D,y:M}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.orientation,h=n.mirror,g=n.axisLine,y=Cs(Cs(Cs({},Tt(this.props,!1)),Tt(g,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!h||d==="bottom"&&h);y=Cs(Cs({},y),{},{x1:i,y1:s+x*c,x2:i+o,y2:s+x*c})}else{var N=+(d==="left"&&!h||d==="right"&&h);y=Cs(Cs({},y),{},{x1:i+N*o,y1:s,x2:i+N*o,y2:s+c})}return de.createElement("line",bg({},y,{className:tr("recharts-cartesian-axis-line",Ua(g,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,c=this.props,d=c.tickLine,h=c.stroke,g=c.tick,y=c.tickFormatter,x=c.unit,N=QR(Cs(Cs({},this.props),{},{ticks:n}),i,s),C=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),k=Tt(this.props,!1),D=Tt(g,!1),M=Cs(Cs({},k),{},{fill:"none"},Tt(d,!1)),$=N.map(function(L,U){var K=o.getTickLineCoord(L),q=K.line,V=K.tick,Q=Cs(Cs(Cs(Cs({textAnchor:C,verticalAnchor:A},k),{},{stroke:"none",fill:h},D),V),{},{index:U,payload:L,visibleTicksCount:N.length,tickFormatter:y});return de.createElement(Ar,bg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Mp(o.props,L,U)),d&&de.createElement("line",bg({},M,q,{className:tr("recharts-cartesian-axis-tick-line",Ua(d,"className"))})),g&&e.renderTickItem(g,Q,"".concat(Ht(y)?y(L.value,U):L.value).concat(x||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},$)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,d=i.ticksGenerator,h=i.className,g=i.hide;if(g)return null;var y=this.props,x=y.ticks,N=SC(y,yke),C=x;return Ht(d)&&(C=x&&x.length>0?d(this.props):d(N)),o<=0||c<=0||!C||!C.length?null:de.createElement(Ar,{className:tr("recharts-cartesian-axis",h),ref:function(k){n.layerReference=k}},s&&this.renderAxisLine(),this.renderTicks(C,this.state.fontSize,this.state.letterSpacing),Di.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return de.isValidElement(n)?o=de.cloneElement(n,i):Ht(n)?o=n(i):o=de.createElement(Dp,bg({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(P.Component);ZR(sv,"displayName","CartesianAxis");ZR(sv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ake=["x1","y1","x2","y2","key"],kke=["offset"];function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function U6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(r),!0).forEach(function(n){Eke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eke(t,e,r){return e=Tke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tke(t){var e=Cke(t,"string");return $p(e)=="symbol"?e:e+""}function Cke(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pp.apply(this,arguments)}function q6(t,e){if(t==null)return{};var r=Pke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ike=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,d=e.ry;return de.createElement("rect",{x:i,y:s,ry:d,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wK(t,e){var r;if(de.isValidElement(t))r=de.cloneElement(t,e);else if(Ht(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,c=e.key,d=q6(e,Ake),h=Tt(d,!1);h.offset;var g=q6(h,kke);r=de.createElement("line",pp({},g,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:c}))}return r}function Oke(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,d){var h=ps(ps({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return wK(i,h)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rke(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,d){var h=ps(ps({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return wK(i,h)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Mke(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,c=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var g=c.map(function(x){return Math.round(x+i-i)}).sort(function(x,N){return x-N});i!==g[0]&&g.unshift(0);var y=g.map(function(x,N){var C=!g[N+1],A=C?i+o-x:g[N+1]-x;if(A<=0)return null;var k=N%e.length;return de.createElement("rect",{key:"react-".concat(N),y:x,x:n,height:A,width:s,stroke:"none",fill:e[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}function Dke(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,c=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var g=h.map(function(x){return Math.round(x+s-s)}).sort(function(x,N){return x-N});s!==g[0]&&g.unshift(0);var y=g.map(function(x,N){var C=!g[N+1],A=C?s+c-x:g[N+1]-x;if(A<=0)return null;var k=N%n.length;return de.createElement("rect",{key:"react-".concat(N),x,y:o,width:A,height:d,stroke:"none",fill:n[k],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}var Lke=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return wG(QR(ps(ps(ps({},sv.defaultProps),n),{},{ticks:_u(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Fke=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return wG(QR(ps(ps(ps({},sv.defaultProps),n),{},{ticks:_u(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},lg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function SK(t){var e,r,n,i,s,o,c=GR(),d=KR(),h=NAe(),g=ps(ps({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lg.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:lg.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:lg.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:lg.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:lg.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:lg.verticalFill,x:it(t.x)?t.x:h.left,y:it(t.y)?t.y:h.top,width:it(t.width)?t.width:h.width,height:it(t.height)?t.height:h.height}),y=g.x,x=g.y,N=g.width,C=g.height,A=g.syncWithTicks,k=g.horizontalValues,D=g.verticalValues,M=SAe(),$=_Ae();if(!it(N)||N<=0||!it(C)||C<=0||!it(y)||y!==+y||!it(x)||x!==+x)return null;var L=g.verticalCoordinatesGenerator||Lke,U=g.horizontalCoordinatesGenerator||Fke,K=g.horizontalPoints,q=g.verticalPoints;if((!K||!K.length)&&Ht(U)){var V=k&&k.length,Q=U({yAxis:$?ps(ps({},$),{},{ticks:V?k:$.ticks}):void 0,width:c,height:d,offset:h},V?!0:A);dl(Array.isArray(Q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($p(Q),"]")),Array.isArray(Q)&&(K=Q)}if((!q||!q.length)&&Ht(L)){var J=D&&D.length,ee=L({xAxis:M?ps(ps({},M),{},{ticks:J?D:M.ticks}):void 0,width:c,height:d,offset:h},J?!0:A);dl(Array.isArray(ee),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($p(ee),"]")),Array.isArray(ee)&&(q=ee)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(Ike,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),de.createElement(Oke,pp({},g,{offset:h,horizontalPoints:K,xAxis:M,yAxis:$})),de.createElement(Rke,pp({},g,{offset:h,verticalPoints:q,xAxis:M,yAxis:$})),de.createElement(Mke,pp({},g,{horizontalPoints:K})),de.createElement(Dke,pp({},g,{verticalPoints:q})))}SK.displayName="CartesianGrid";var $ke=["layout","type","stroke","connectNulls","isRange","ref"],Bke=["key"],_K;function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function jK(t,e){if(t==null)return{};var r=Vke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mp.apply(this,arguments)}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ah(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){uc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AK(n.key),n)}}function Uke(t,e,r){return e&&W6(t.prototype,e),r&&W6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qke(t,e,r){return e=f_(e),Hke(t,NK()?Reflect.construct(e,r||[],f_(t).constructor):e.apply(t,r))}function Hke(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wke(t)}function Wke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!t})()}function f_(t){return f_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f_(t)}function Gke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$2(t,e)}function $2(t,e){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$2(t,e)}function uc(t,e,r){return e=AK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AK(t){var e=Kke(t,"string");return Ny(e)=="symbol"?e:e+""}function Kke(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tf=function(t){function e(){var r;zke(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=qke(this,e,[].concat(i)),uc(r,"state",{isAnimationFinished:!0}),uc(r,"id",Jy("recharts-area-")),uc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ht(o)&&o()}),uc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ht(o)&&o()}),r}return Gke(e,t),Uke(e,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var d=this.props,h=d.dot,g=d.points,y=d.dataKey,x=Tt(this.props,!1),N=Tt(h,!0),C=g.map(function(k,D){var M=ah(ah(ah({key:"dot-".concat(D),r:3},x),N),{},{index:D,cx:k.x,cy:k.y,dataKey:y,value:k.value,payload:k.payload,points:g});return e.renderDotItem(h,M)}),A={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return de.createElement(Ar,mp({className:"recharts-area-dots"},A),C)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].x,h=o[o.length-1].x,g=n*Math.abs(d-h),y=_h(o.map(function(x){return x.y||0}));return it(s)&&typeof s=="number"?y=Math.max(s,y):s&&Array.isArray(s)&&s.length&&(y=Math.max(_h(s.map(function(x){return x.y||0})),y)),it(y)?de.createElement("rect",{x:d<h?d:d-g,y:0,width:g,height:Math.floor(y+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].y,h=o[o.length-1].y,g=n*Math.abs(d-h),y=_h(o.map(function(x){return x.x||0}));return it(s)&&typeof s=="number"?y=Math.max(s,y):s&&Array.isArray(s)&&s.length&&(y=Math.max(_h(s.map(function(x){return x.x||0})),y)),it(y)?de.createElement("rect",{x:0,y:d<h?d:d-g,width:y+(c?parseInt("".concat(c),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var c=this.props,d=c.layout,h=c.type,g=c.stroke,y=c.connectNulls,x=c.isRange;c.ref;var N=jK(c,$ke);return de.createElement(Ar,{clipPath:s?"url(#clipPath-".concat(o,")"):null},de.createElement(Rg,mp({},Tt(N,!0),{points:n,connectNulls:y,type:h,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),g!=="none"&&de.createElement(Rg,mp({},Tt(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:y,fill:"none",points:n})),g!=="none"&&x&&de.createElement(Rg,mp({},Tt(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:y,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,d=o.baseLine,h=o.isAnimationActive,g=o.animationBegin,y=o.animationDuration,x=o.animationEasing,N=o.animationId,C=this.state,A=C.prevPoints,k=C.prevBaseLine;return de.createElement(bc,{begin:g,duration:y,isActive:h,easing:x,from:{t:0},to:{t:1},key:"area-".concat(N),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var M=D.t;if(A){var $=A.length/c.length,L=c.map(function(V,Q){var J=Math.floor(Q*$);if(A[J]){var ee=A[J],X=ta(ee.x,V.x),Y=ta(ee.y,V.y);return ah(ah({},V),{},{x:X(M),y:Y(M)})}return V}),U;if(it(d)&&typeof d=="number"){var K=ta(k,d);U=K(M)}else if(er(d)||Zy(d)){var q=ta(k,0);U=q(M)}else U=d.map(function(V,Q){var J=Math.floor(Q*$);if(k[J]){var ee=k[J],X=ta(ee.x,V.x),Y=ta(ee.y,V.y);return ah(ah({},V),{},{x:X(M),y:Y(M)})}return V});return s.renderAreaStatically(L,U,n,i)}return de.createElement(Ar,null,de.createElement("defs",null,de.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(M))),de.createElement(Ar,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(c,d,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,c=s.baseLine,d=s.isAnimationActive,h=this.state,g=h.prevPoints,y=h.prevBaseLine,x=h.totalLength;return d&&o&&o.length&&(!g&&x>0||!hy(g,o)||!hy(y,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,c,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,d=i.className,h=i.top,g=i.left,y=i.xAxis,x=i.yAxis,N=i.width,C=i.height,A=i.isAnimationActive,k=i.id;if(s||!c||!c.length)return null;var D=this.state.isAnimationFinished,M=c.length===1,$=tr("recharts-area",d),L=y&&y.allowDataOverflow,U=x&&x.allowDataOverflow,K=L||U,q=er(k)?this.id:k,V=(n=Tt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},Q=V.r,J=Q===void 0?3:Q,ee=V.strokeWidth,X=ee===void 0?2:ee,Y=$pe(o)?o:{},se=Y.clipDot,pe=se===void 0?!0:se,ce=J*2+X;return de.createElement(Ar,{className:$},L||U?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(q)},de.createElement("rect",{x:L?g:g-N/2,y:U?h:h-C/2,width:L?N:N*2,height:U?C:C*2})),!pe&&de.createElement("clipPath",{id:"clipPath-dots-".concat(q)},de.createElement("rect",{x:g-ce/2,y:h-ce/2,width:N+ce,height:C+ce}))):null,M?null:this.renderArea(K,q),(o||M)&&this.renderDots(K,pe,q),(!A||D)&&Cu.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(P.PureComponent);_K=tf;uc(tf,"displayName","Area");uc(tf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Wp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});uc(tf,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,o=e.props.baseValue,c=o??s;if(it(c)&&typeof c=="number")return c;var d=i==="horizontal"?n:r,h=d.scale.domain();if(d.type==="number"){var g=Math.max(h[0],h[1]),y=Math.min(h[0],h[1]);return c==="dataMin"?y:c==="dataMax"||g<0?g:Math.max(Math.min(h[0],h[1]),0)}return c==="dataMin"?h[0]:c==="dataMax"?h[1]:h[0]});uc(tf,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,d=t.dataKey,h=t.stackedData,g=t.dataStartIndex,y=t.displayedData,x=t.offset,N=e.layout,C=h&&h.length,A=_K.getBaseValue(e,r,n,i),k=N==="horizontal",D=!1,M=y.map(function(L,U){var K;C?K=h[g+U]:(K=mi(L,d),Array.isArray(K)?D=!0:K=[A,K]);var q=K[1]==null||C&&mi(L,d)==null;return k?{x:X$({axis:n,ticks:s,bandSize:c,entry:L,index:U}),y:q?null:i.scale(K[1]),value:K,payload:L}:{x:q?null:n.scale(K[1]),y:X$({axis:i,ticks:o,bandSize:c,entry:L,index:U}),value:K,payload:L}}),$;return C||D?$=M.map(function(L){var U=Array.isArray(L.value)?L.value[0]:null;return k?{x:L.x,y:U!=null&&L.y!=null?i.scale(U):null}:{x:U!=null?n.scale(U):null,y:L.y}}):$=k?i.scale(A):n.scale(A),ah({points:M,baseLine:$,layout:N,isRange:D},x)});uc(tf,"renderDotItem",function(t,e){var r;if(de.isValidElement(t))r=de.cloneElement(t,e);else if(Ht(t))r=t(e);else{var n=tr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=jK(e,Bke);r=de.createElement(Wj,mp({},s,{key:i,className:n}))}return r});function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function Yke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TK(n.key),n)}}function Qke(t,e,r){return e&&Xke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zke(t,e,r){return e=p_(e),Jke(t,kK()?Reflect.construct(e,r||[],p_(t).constructor):e.apply(t,r))}function Jke(t,e){if(e&&(Ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eEe(t)}function eEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!t})()}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p_(t)}function tEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B2(t,e)}function B2(t,e){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B2(t,e)}function EK(t,e,r){return e=TK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TK(t){var e=rEe(t,"string");return Ay(e)=="symbol"?e:e+""}function rEe(t,e){if(Ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V2.apply(this,arguments)}function nEe(t){var e=t.xAxisId,r=GR(),n=KR(),i=uK(e);return i==null?null:de.createElement(sv,V2({},i,{className:tr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _u(o,!0)}}))}var iN=function(t){function e(){return Yke(this,e),Zke(this,e,arguments)}return tEe(e,t),Qke(e,[{key:"render",value:function(){return de.createElement(nEe,this.props)}}])}(de.Component);EK(iN,"displayName","XAxis");EK(iN,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function iEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IK(n.key),n)}}function aEe(t,e,r){return e&&sEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oEe(t,e,r){return e=m_(e),lEe(t,CK()?Reflect.construct(e,r||[],m_(t).constructor):e.apply(t,r))}function lEe(t,e){if(e&&(ky(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cEe(t)}function cEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!t})()}function m_(t){return m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m_(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z2(t,e)}function z2(t,e){return z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z2(t,e)}function PK(t,e,r){return e=IK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IK(t){var e=dEe(t,"string");return ky(e)=="symbol"?e:e+""}function dEe(t,e){if(ky(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U2.apply(this,arguments)}var hEe=function(e){var r=e.yAxisId,n=GR(),i=KR(),s=dK(r);return s==null?null:de.createElement(sv,U2({},s,{className:tr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return _u(c,!0)}}))},sN=function(t){function e(){return iEe(this,e),oEe(this,e,arguments)}return uEe(e,t),aEe(e,[{key:"render",value:function(){return de.createElement(hEe,this.props)}}])}(de.Component);PK(sN,"displayName","YAxis");PK(sN,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function G6(t){return gEe(t)||mEe(t)||pEe(t)||fEe()}function fEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pEe(t,e){if(t){if(typeof t=="string")return q2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q2(t,e)}}function mEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gEe(t){if(Array.isArray(t))return q2(t)}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var H2=function(e,r,n,i,s){var o=mo(e,XR),c=mo(e,tN),d=[].concat(G6(o),G6(c)),h=mo(e,nN),g="".concat(i,"Id"),y=i[0],x=r;if(d.length&&(x=d.reduce(function(A,k){if(k.props[g]===n&&mc(k.props,"extendDomain")&&it(k.props[y])){var D=k.props[y];return[Math.min(A[0],D),Math.max(A[1],D)]}return A},x)),h.length){var N="".concat(y,"1"),C="".concat(y,"2");x=h.reduce(function(A,k){if(k.props[g]===n&&mc(k.props,"extendDomain")&&it(k.props[N])&&it(k.props[C])){var D=k.props[N],M=k.props[C];return[Math.min(A[0],D,M),Math.max(A[1],D,M)]}return A},x)}return s&&s.length&&(x=s.reduce(function(A,k){return it(k)?[Math.min(A[0],k),Math.max(A[1],k)]:A},x)),x},_C={exports:{}},K6;function yEe(){return K6||(K6=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,g){this.fn=d,this.context=h,this.once=g||!1}function s(d,h,g,y,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var N=new i(g,y||d,x),C=r?r+h:h;return d._events[C]?d._events[C].fn?d._events[C]=[d._events[C],N]:d._events[C].push(N):(d._events[C]=N,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],g,y;if(this._eventsCount===0)return h;for(y in g=this._events)e.call(g,y)&&h.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},c.prototype.listeners=function(h){var g=r?r+h:h,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,N=y.length,C=new Array(N);x<N;x++)C[x]=y[x].fn;return C},c.prototype.listenerCount=function(h){var g=r?r+h:h,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(h,g,y,x,N,C){var A=r?r+h:h;if(!this._events[A])return!1;var k=this._events[A],D=arguments.length,M,$;if(k.fn){switch(k.once&&this.removeListener(h,k.fn,void 0,!0),D){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,g),!0;case 3:return k.fn.call(k.context,g,y),!0;case 4:return k.fn.call(k.context,g,y,x),!0;case 5:return k.fn.call(k.context,g,y,x,N),!0;case 6:return k.fn.call(k.context,g,y,x,N,C),!0}for($=1,M=new Array(D-1);$<D;$++)M[$-1]=arguments[$];k.fn.apply(k.context,M)}else{var L=k.length,U;for($=0;$<L;$++)switch(k[$].once&&this.removeListener(h,k[$].fn,void 0,!0),D){case 1:k[$].fn.call(k[$].context);break;case 2:k[$].fn.call(k[$].context,g);break;case 3:k[$].fn.call(k[$].context,g,y);break;case 4:k[$].fn.call(k[$].context,g,y,x);break;default:if(!M)for(U=1,M=new Array(D-1);U<D;U++)M[U-1]=arguments[U];k[$].fn.apply(k[$].context,M)}}return!0},c.prototype.on=function(h,g,y){return s(this,h,g,y,!1)},c.prototype.once=function(h,g,y){return s(this,h,g,y,!0)},c.prototype.removeListener=function(h,g,y,x){var N=r?r+h:h;if(!this._events[N])return this;if(!g)return o(this,N),this;var C=this._events[N];if(C.fn)C.fn===g&&(!x||C.once)&&(!y||C.context===y)&&o(this,N);else{for(var A=0,k=[],D=C.length;A<D;A++)(C[A].fn!==g||x&&!C[A].once||y&&C[A].context!==y)&&k.push(C[A]);k.length?this._events[N]=k.length===1?k[0]:k:o(this,N)}return this},c.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(_C)),_C.exports}var vEe=yEe();const xEe=Lr(vEe);var jC=new xEe,NC="recharts.syncMouseEvents";function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function bEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OK(n.key),n)}}function SEe(t,e,r){return e&&wEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AC(t,e,r){return e=OK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OK(t){var e=_Ee(t,"string");return Yb(e)=="symbol"?e:e+""}function _Ee(t,e){if(Yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jEe=function(){function t(){bEe(this,t),AC(this,"activeIndex",0),AC(this,"coordinateList",[]),AC(this,"layout","horizontal")}return SEe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,c=o===void 0?null:o,d=r.layout,h=d===void 0?null:d,g=r.offset,y=g===void 0?null:g,x=r.mouseHandlerCallback,N=x===void 0?null:x;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=y??this.offset,this.mouseHandlerCallback=N??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,y=s+d+h,x=o+this.offset.top+c/2+g;this.mouseHandlerCallback({pageX:y,pageY:x})}}}])}();function NEe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&it(n)&&it(i))return!0}return!1}function AEe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function RK(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=dn(e,r,n,i),c=dn(e,r,n,s);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function kEe(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,h=e.innerRadius,g=e.outerRadius,y=e.angle,x=dn(c,d,h,y),N=dn(c,d,g,y);n=x.x,i=x.y,s=N.x,o=N.y}else return RK(e);return[{x:n,y:i},{x:s,y:o}]}function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function Y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(r),!0).forEach(function(n){EEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EEe(t,e,r){return e=TEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TEe(t){var e=CEe(t,"string");return Xb(e)=="symbol"?e:e+""}function CEe(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PEe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,c=t.activePayload,d=t.offset,h=t.activeTooltipIndex,g=t.tooltipAxisBandSize,y=t.layout,x=t.chartName,N=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!N||!s||!o||x!=="ScatterChart"&&i!=="axis")return null;var C,A=Rg;if(x==="ScatterChart")C=o,A=tje;else if(x==="BarChart")C=AEe(y,o,d,g),A=UR;else if(y==="radial"){var k=RK(o),D=k.cx,M=k.cy,$=k.radius,L=k.startAngle,U=k.endAngle;C={cx:D,cy:M,startAngle:L,endAngle:U,innerRadius:$,outerRadius:$},A=IG}else C={points:kEe(y,o,d)},A=Rg;var K=g1(g1(g1(g1({stroke:"#ccc",pointerEvents:"none"},d),C),Tt(N,!1)),{},{payload:c,payloadIndex:h,className:tr("recharts-tooltip-cursor",N.className)});return P.isValidElement(N)?P.cloneElement(N,K):P.createElement(A,K)}var IEe=["item"],OEe=["children","className","width","height","style","compact","title","desc"];function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yx.apply(this,arguments)}function X6(t,e){return DEe(t)||MEe(t,e)||DK(t,e)||REe()}function REe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function DEe(t){if(Array.isArray(t))return t}function Q6(t,e){if(t==null)return{};var r=LEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LK(n.key),n)}}function BEe(t,e,r){return e&&$Ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VEe(t,e,r){return e=g_(e),zEe(t,MK()?Reflect.construct(e,r||[],g_(t).constructor):e.apply(t,r))}function zEe(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UEe(t)}function UEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!t})()}function g_(t){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g_(t)}function qEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W2(t,e)}function W2(t,e){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W2(t,e)}function Ty(t){return GEe(t)||WEe(t)||DK(t)||HEe()}function HEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(t,e){if(t){if(typeof t=="string")return G2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(t,e)}}function WEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GEe(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(r),!0).forEach(function(n){zt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zt(t,e,r){return e=LK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LK(t){var e=KEe(t,"string");return Ey(e)=="symbol"?e:e+""}function KEe(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YEe={xAxis:["bottom","top"],yAxis:["left","right"]},XEe={width:"100%",height:"100%"},FK={x:0,y:0};function y1(t){return t}var QEe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ZEe=function(e,r,n,i){var s=r.find(function(g){return g&&g.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,c=i.radius;return qe(qe(qe({},i),dn(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var d=s.coordinate,h=i.angle;return qe(qe(qe({},i),dn(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return FK},aN=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(c,d){var h=d.props.data;return h&&h.length?[].concat(Ty(c),Ty(h)):c},[]);return o.length>0?o:e&&e.length&&it(i)&&it(s)?e.slice(i,s+1):[]};function $K(t){return t==="number"?[0,"auto"]:void 0}var K2=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,c=aN(r,e);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(d,h){var g,y=(g=h.props.data)!==null&&g!==void 0?g:r;y&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(y=y.slice(e.dataStartIndex,e.dataEndIndex+1));var x;if(o.dataKey&&!o.allowDuplicatedCategory){var N=y===void 0?c:y;x=bS(N,o.dataKey,i)}else x=y&&y[n]||c[n];return x?[].concat(Ty(d),[AG(h,x)]):d},[])},J6=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=QEe(s,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,g=Dwe(o,c,h,d);if(g>=0&&h){var y=h[g]&&h[g].value,x=K2(e,r,g,y),N=ZEe(n,c,g,s);return{activeTooltipIndex:g,activeLabel:y,activePayload:x,activeCoordinate:N}}return null},JEe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,y=e.children,x=e.stackOffset,N=bG(g,s);return n.reduce(function(C,A){var k,D=A.type.defaultProps!==void 0?qe(qe({},A.type.defaultProps),A.props):A.props,M=D.type,$=D.dataKey,L=D.allowDataOverflow,U=D.allowDuplicatedCategory,K=D.scale,q=D.ticks,V=D.includeHidden,Q=D[o];if(C[Q])return C;var J=aN(e.data,{graphicalItems:i.filter(function(ge){var ke,ze=o in ge.props?ge.props[o]:(ke=ge.type.defaultProps)===null||ke===void 0?void 0:ke[o];return ze===Q}),dataStartIndex:d,dataEndIndex:h}),ee=J.length,X,Y,se;NEe(D.domain,L,M)&&(X=c2(D.domain,null,L),N&&(M==="number"||K!=="auto")&&(se=Hx(J,$,"category")));var pe=$K(M);if(!X||X.length===0){var ce,me=(ce=D.domain)!==null&&ce!==void 0?ce:pe;if($){if(X=Hx(J,$,M),M==="category"&&N){var he=Cpe(X);U&&he?(Y=X,X=n_(0,ee)):U||(X=eB(me,X,A).reduce(function(ge,ke){return ge.indexOf(ke)>=0?ge:[].concat(Ty(ge),[ke])},[]))}else if(M==="category")U?X=X.filter(function(ge){return ge!==""&&!er(ge)}):X=eB(me,X,A).reduce(function(ge,ke){return ge.indexOf(ke)>=0||ke===""||er(ke)?ge:[].concat(Ty(ge),[ke])},[]);else if(M==="number"){var Se=Vwe(J,i.filter(function(ge){var ke,ze,et=o in ge.props?ge.props[o]:(ke=ge.type.defaultProps)===null||ke===void 0?void 0:ke[o],Ke="hide"in ge.props?ge.props.hide:(ze=ge.type.defaultProps)===null||ze===void 0?void 0:ze.hide;return et===Q&&(V||!Ke)}),$,s,g);Se&&(X=Se)}N&&(M==="number"||K!=="auto")&&(se=Hx(J,$,"category"))}else N?X=n_(0,ee):c&&c[Q]&&c[Q].hasStack&&M==="number"?X=x==="expand"?[0,1]:NG(c[Q].stackGroups,d,h):X=xG(J,i.filter(function(ge){var ke=o in ge.props?ge.props[o]:ge.type.defaultProps[o],ze="hide"in ge.props?ge.props.hide:ge.type.defaultProps.hide;return ke===Q&&(V||!ze)}),M,g,!0);if(M==="number")X=H2(y,X,Q,s,q),me&&(X=c2(me,X,L));else if(M==="category"&&me){var be=me,ue=X.every(function(ge){return be.indexOf(ge)>=0});ue&&(X=be)}}return qe(qe({},C),{},zt({},Q,qe(qe({},D),{},{axisType:s,domain:X,categoricalDomain:se,duplicateDomain:Y,originalDomain:(k=D.domain)!==null&&k!==void 0?k:pe,isCategorical:N,layout:g})))},{})},eTe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,y=e.children,x=aN(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),N=x.length,C=bG(g,s),A=-1;return n.reduce(function(k,D){var M=D.type.defaultProps!==void 0?qe(qe({},D.type.defaultProps),D.props):D.props,$=M[o],L=$K("number");if(!k[$]){A++;var U;return C?U=n_(0,N):c&&c[$]&&c[$].hasStack?(U=NG(c[$].stackGroups,d,h),U=H2(y,U,$,s)):(U=c2(L,xG(x,n.filter(function(K){var q,V,Q=o in K.props?K.props[o]:(q=K.type.defaultProps)===null||q===void 0?void 0:q[o],J="hide"in K.props?K.props.hide:(V=K.type.defaultProps)===null||V===void 0?void 0:V.hide;return Q===$&&!J}),"number",g),i.defaultProps.allowDataOverflow),U=H2(y,U,$,s)),qe(qe({},k),{},zt({},$,qe(qe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ua(YEe,"".concat(s,".").concat(A%2),null),domain:U,originalDomain:L,isCategorical:C,layout:g})))}return k},{})},tTe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=e.children,y="".concat(i,"Id"),x=mo(g,s),N={};return x&&x.length?N=JEe(e,{axes:x,graphicalItems:o,axisType:i,axisIdKey:y,stackGroups:c,dataStartIndex:d,dataEndIndex:h}):o&&o.length&&(N=eTe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:y,stackGroups:c,dataStartIndex:d,dataEndIndex:h})),N},rTe=function(e){var r=hh(e),n=_u(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gR(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:HS(r,n)}},eV=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ia(r,xy),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},nTe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Eu(r&&r.type);return n&&n.indexOf("Bar")>=0})},tV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},iTe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,c=e.yAxisMap,d=c===void 0?{}:c,h=n.width,g=n.height,y=n.children,x=n.margin||{},N=Ia(y,xy),C=Ia(y,Sp),A=Object.keys(d).reduce(function(U,K){var q=d[K],V=q.orientation;return!q.mirror&&!q.hide?qe(qe({},U),{},zt({},V,U[V]+q.width)):U},{left:x.left||0,right:x.right||0}),k=Object.keys(o).reduce(function(U,K){var q=o[K],V=q.orientation;return!q.mirror&&!q.hide?qe(qe({},U),{},zt({},V,Ua(U,"".concat(V))+q.height)):U},{top:x.top||0,bottom:x.bottom||0}),D=qe(qe({},k),A),M=D.bottom;N&&(D.bottom+=N.props.height||xy.defaultProps.height),C&&r&&(D=$we(D,i,n,r));var $=h-D.left-D.right,L=g-D.top-D.bottom;return qe(qe({brushBottom:M},D),{},{width:Math.max($,0),height:Math.max(L,0)})},sTe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},BK=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,d=e.axisComponents,h=e.legendContent,g=e.formatAxisMap,y=e.defaultProps,x=function(k,D){var M=D.graphicalItems,$=D.stackGroups,L=D.offset,U=D.updateId,K=D.dataStartIndex,q=D.dataEndIndex,V=k.barSize,Q=k.layout,J=k.barGap,ee=k.barCategoryGap,X=k.maxBarSize,Y=tV(Q),se=Y.numericAxisName,pe=Y.cateAxisName,ce=nTe(M),me=[];return M.forEach(function(he,Se){var be=aN(k.data,{graphicalItems:[he],dataStartIndex:K,dataEndIndex:q}),ue=he.type.defaultProps!==void 0?qe(qe({},he.type.defaultProps),he.props):he.props,ge=ue.dataKey,ke=ue.maxBarSize,ze=ue["".concat(se,"Id")],et=ue["".concat(pe,"Id")],Ke={},_e=d.reduce(function(Pt,Wt){var Ir=D["".concat(Wt.axisType,"Map")],Fr=ue["".concat(Wt.axisType,"Id")];Ir&&Ir[Fr]||Wt.axisType==="zAxis"||Fp();var fn=Ir[Fr];return qe(qe({},Pt),{},zt(zt({},Wt.axisType,fn),"".concat(Wt.axisType,"Ticks"),_u(fn)))},Ke),Ce=_e[pe],Me=_e["".concat(pe,"Ticks")],Be=$&&$[ze]&&$[ze].hasStack&&Xwe(he,$[ze].stackGroups),Ue=Eu(he.type).indexOf("Bar")>=0,Oe=HS(Ce,Me),Le=[],vt=ce&&Lwe({barSize:V,stackGroups:$,totalSize:sTe(_e,pe)});if(Ue){var Ft,Dt,gr=er(ke)?X:ke,Zr=(Ft=(Dt=HS(Ce,Me,!0))!==null&&Dt!==void 0?Dt:gr)!==null&&Ft!==void 0?Ft:0;Le=Fwe({barGap:J,barCategoryGap:ee,bandSize:Zr!==Oe?Zr:Oe,sizeList:vt[et],maxBarSize:gr}),Zr!==Oe&&(Le=Le.map(function(Pt){return qe(qe({},Pt),{},{position:qe(qe({},Pt.position),{},{offset:Pt.position.offset-Zr/2})})}))}var at=he&&he.type&&he.type.getComposedData;at&&me.push({props:qe(qe({},at(qe(qe({},_e),{},{displayedData:be,props:k,dataKey:ge,item:he,bandSize:Oe,barPosition:Le,offset:L,stackedData:Be,layout:Q,dataStartIndex:K,dataEndIndex:q}))),{},zt(zt(zt({key:he.key||"item-".concat(Se)},se,_e[se]),pe,_e[pe]),"animationId",U)),childIndex:zpe(he,k.children),item:he})}),me},N=function(k,D){var M=k.props,$=k.dataStartIndex,L=k.dataEndIndex,U=k.updateId;if(!p5({props:M}))return null;var K=M.children,q=M.layout,V=M.stackOffset,Q=M.data,J=M.reverseStackOrder,ee=tV(q),X=ee.numericAxisName,Y=ee.cateAxisName,se=mo(K,n),pe=Kwe(Q,se,"".concat(X,"Id"),"".concat(Y,"Id"),V,J),ce=d.reduce(function(ue,ge){var ke="".concat(ge.axisType,"Map");return qe(qe({},ue),{},zt({},ke,tTe(M,qe(qe({},ge),{},{graphicalItems:se,stackGroups:ge.axisType===X&&pe,dataStartIndex:$,dataEndIndex:L}))))},{}),me=iTe(qe(qe({},ce),{},{props:M,graphicalItems:se}),D==null?void 0:D.legendBBox);Object.keys(ce).forEach(function(ue){ce[ue]=g(M,ce[ue],me,ue.replace("Map",""),r)});var he=ce["".concat(Y,"Map")],Se=rTe(he),be=x(M,qe(qe({},ce),{},{dataStartIndex:$,dataEndIndex:L,updateId:U,graphicalItems:se,stackGroups:pe,offset:me}));return qe(qe({formattedGraphicalItems:be,graphicalItems:se,offset:me,stackGroups:pe},Se),ce)},C=function(A){function k(D){var M,$,L;return FEe(this,k),L=VEe(this,k,[D]),zt(L,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zt(L,"accessibilityManager",new jEe),zt(L,"handleLegendBBoxUpdate",function(U){if(U){var K=L.state,q=K.dataStartIndex,V=K.dataEndIndex,Q=K.updateId;L.setState(qe({legendBBox:U},N({props:L.props,dataStartIndex:q,dataEndIndex:V,updateId:Q},qe(qe({},L.state),{},{legendBBox:U}))))}}),zt(L,"handleReceiveSyncEvent",function(U,K,q){if(L.props.syncId===U){if(q===L.eventEmitterSymbol&&typeof L.props.syncMethod!="function")return;L.applySyncEvent(K)}}),zt(L,"handleBrushChange",function(U){var K=U.startIndex,q=U.endIndex;if(K!==L.state.dataStartIndex||q!==L.state.dataEndIndex){var V=L.state.updateId;L.setState(function(){return qe({dataStartIndex:K,dataEndIndex:q},N({props:L.props,dataStartIndex:K,dataEndIndex:q,updateId:V},L.state))}),L.triggerSyncEvent({dataStartIndex:K,dataEndIndex:q})}}),zt(L,"handleMouseEnter",function(U){var K=L.getMouseInfo(U);if(K){var q=qe(qe({},K),{},{isTooltipActive:!0});L.setState(q),L.triggerSyncEvent(q);var V=L.props.onMouseEnter;Ht(V)&&V(q,U)}}),zt(L,"triggeredAfterMouseMove",function(U){var K=L.getMouseInfo(U),q=K?qe(qe({},K),{},{isTooltipActive:!0}):{isTooltipActive:!1};L.setState(q),L.triggerSyncEvent(q);var V=L.props.onMouseMove;Ht(V)&&V(q,U)}),zt(L,"handleItemMouseEnter",function(U){L.setState(function(){return{isTooltipActive:!0,activeItem:U,activePayload:U.tooltipPayload,activeCoordinate:U.tooltipPosition||{x:U.cx,y:U.cy}}})}),zt(L,"handleItemMouseLeave",function(){L.setState(function(){return{isTooltipActive:!1}})}),zt(L,"handleMouseMove",function(U){U.persist(),L.throttleTriggeredAfterMouseMove(U)}),zt(L,"handleMouseLeave",function(U){L.throttleTriggeredAfterMouseMove.cancel();var K={isTooltipActive:!1};L.setState(K),L.triggerSyncEvent(K);var q=L.props.onMouseLeave;Ht(q)&&q(K,U)}),zt(L,"handleOuterEvent",function(U){var K=Vpe(U),q=Ua(L.props,"".concat(K));if(K&&Ht(q)){var V,Q;/.*touch.*/i.test(K)?Q=L.getMouseInfo(U.changedTouches[0]):Q=L.getMouseInfo(U),q((V=Q)!==null&&V!==void 0?V:{},U)}}),zt(L,"handleClick",function(U){var K=L.getMouseInfo(U);if(K){var q=qe(qe({},K),{},{isTooltipActive:!0});L.setState(q),L.triggerSyncEvent(q);var V=L.props.onClick;Ht(V)&&V(q,U)}}),zt(L,"handleMouseDown",function(U){var K=L.props.onMouseDown;if(Ht(K)){var q=L.getMouseInfo(U);K(q,U)}}),zt(L,"handleMouseUp",function(U){var K=L.props.onMouseUp;if(Ht(K)){var q=L.getMouseInfo(U);K(q,U)}}),zt(L,"handleTouchMove",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&L.throttleTriggeredAfterMouseMove(U.changedTouches[0])}),zt(L,"handleTouchStart",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&L.handleMouseDown(U.changedTouches[0])}),zt(L,"handleTouchEnd",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&L.handleMouseUp(U.changedTouches[0])}),zt(L,"triggerSyncEvent",function(U){L.props.syncId!==void 0&&jC.emit(NC,L.props.syncId,U,L.eventEmitterSymbol)}),zt(L,"applySyncEvent",function(U){var K=L.props,q=K.layout,V=K.syncMethod,Q=L.state.updateId,J=U.dataStartIndex,ee=U.dataEndIndex;if(U.dataStartIndex!==void 0||U.dataEndIndex!==void 0)L.setState(qe({dataStartIndex:J,dataEndIndex:ee},N({props:L.props,dataStartIndex:J,dataEndIndex:ee,updateId:Q},L.state)));else if(U.activeTooltipIndex!==void 0){var X=U.chartX,Y=U.chartY,se=U.activeTooltipIndex,pe=L.state,ce=pe.offset,me=pe.tooltipTicks;if(!ce)return;if(typeof V=="function")se=V(me,U);else if(V==="value"){se=-1;for(var he=0;he<me.length;he++)if(me[he].value===U.activeLabel){se=he;break}}var Se=qe(qe({},ce),{},{x:ce.left,y:ce.top}),be=Math.min(X,Se.x+Se.width),ue=Math.min(Y,Se.y+Se.height),ge=me[se]&&me[se].value,ke=K2(L.state,L.props.data,se),ze=me[se]?{x:q==="horizontal"?me[se].coordinate:be,y:q==="horizontal"?ue:me[se].coordinate}:FK;L.setState(qe(qe({},U),{},{activeLabel:ge,activeCoordinate:ze,activePayload:ke,activeTooltipIndex:se}))}else L.setState(U)}),zt(L,"renderCursor",function(U){var K,q=L.state,V=q.isTooltipActive,Q=q.activeCoordinate,J=q.activePayload,ee=q.offset,X=q.activeTooltipIndex,Y=q.tooltipAxisBandSize,se=L.getTooltipEventType(),pe=(K=U.props.active)!==null&&K!==void 0?K:V,ce=L.props.layout,me=U.key||"_recharts-cursor";return de.createElement(PEe,{key:me,activeCoordinate:Q,activePayload:J,activeTooltipIndex:X,chartName:r,element:U,isActive:pe,layout:ce,offset:ee,tooltipAxisBandSize:Y,tooltipEventType:se})}),zt(L,"renderPolarAxis",function(U,K,q){var V=Ua(U,"type.axisType"),Q=Ua(L.state,"".concat(V,"Map")),J=U.type.defaultProps,ee=J!==void 0?qe(qe({},J),U.props):U.props,X=Q&&Q[ee["".concat(V,"Id")]];return P.cloneElement(U,qe(qe({},X),{},{className:tr(V,X.className),key:U.key||"".concat(K,"-").concat(q),ticks:_u(X,!0)}))}),zt(L,"renderPolarGrid",function(U){var K=U.props,q=K.radialLines,V=K.polarAngles,Q=K.polarRadius,J=L.state,ee=J.radiusAxisMap,X=J.angleAxisMap,Y=hh(ee),se=hh(X),pe=se.cx,ce=se.cy,me=se.innerRadius,he=se.outerRadius;return P.cloneElement(U,{polarAngles:Array.isArray(V)?V:_u(se,!0).map(function(Se){return Se.coordinate}),polarRadius:Array.isArray(Q)?Q:_u(Y,!0).map(function(Se){return Se.coordinate}),cx:pe,cy:ce,innerRadius:me,outerRadius:he,key:U.key||"polar-grid",radialLines:q})}),zt(L,"renderLegend",function(){var U=L.state.formattedGraphicalItems,K=L.props,q=K.children,V=K.width,Q=K.height,J=L.props.margin||{},ee=V-(J.left||0)-(J.right||0),X=yG({children:q,formattedGraphicalItems:U,legendWidth:ee,legendContent:h});if(!X)return null;var Y=X.item,se=Q6(X,IEe);return P.cloneElement(Y,qe(qe({},se),{},{chartWidth:V,chartHeight:Q,margin:J,onBBoxUpdate:L.handleLegendBBoxUpdate}))}),zt(L,"renderTooltip",function(){var U,K=L.props,q=K.children,V=K.accessibilityLayer,Q=Ia(q,tl);if(!Q)return null;var J=L.state,ee=J.isTooltipActive,X=J.activeCoordinate,Y=J.activePayload,se=J.activeLabel,pe=J.offset,ce=(U=Q.props.active)!==null&&U!==void 0?U:ee;return P.cloneElement(Q,{viewBox:qe(qe({},pe),{},{x:pe.left,y:pe.top}),active:ce,label:se,payload:ce?Y:[],coordinate:X,accessibilityLayer:V})}),zt(L,"renderBrush",function(U){var K=L.props,q=K.margin,V=K.data,Q=L.state,J=Q.offset,ee=Q.dataStartIndex,X=Q.dataEndIndex,Y=Q.updateId;return P.cloneElement(U,{key:U.key||"_recharts-brush",onChange:h1(L.handleBrushChange,U.props.onChange),data:V,x:it(U.props.x)?U.props.x:J.left,y:it(U.props.y)?U.props.y:J.top+J.height+J.brushBottom-(q.bottom||0),width:it(U.props.width)?U.props.width:J.width,startIndex:ee,endIndex:X,updateId:"brush-".concat(Y)})}),zt(L,"renderReferenceElement",function(U,K,q){if(!U)return null;var V=L,Q=V.clipPathId,J=L.state,ee=J.xAxisMap,X=J.yAxisMap,Y=J.offset,se=U.type.defaultProps||{},pe=U.props,ce=pe.xAxisId,me=ce===void 0?se.xAxisId:ce,he=pe.yAxisId,Se=he===void 0?se.yAxisId:he;return P.cloneElement(U,{key:U.key||"".concat(K,"-").concat(q),xAxis:ee[me],yAxis:X[Se],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:Q})}),zt(L,"renderActivePoints",function(U){var K=U.item,q=U.activePoint,V=U.basePoint,Q=U.childIndex,J=U.isRange,ee=[],X=K.props.key,Y=K.item.type.defaultProps!==void 0?qe(qe({},K.item.type.defaultProps),K.item.props):K.item.props,se=Y.activeDot,pe=Y.dataKey,ce=qe(qe({index:Q,dataKey:pe,cx:q.x,cy:q.y,r:4,fill:zR(K.item),strokeWidth:2,stroke:"#fff",payload:q.payload,value:q.value},Tt(se,!1)),wS(se));return ee.push(k.renderActiveDot(se,ce,"".concat(X,"-activePoint-").concat(Q))),V?ee.push(k.renderActiveDot(se,qe(qe({},ce),{},{cx:V.x,cy:V.y}),"".concat(X,"-basePoint-").concat(Q))):J&&ee.push(null),ee}),zt(L,"renderGraphicChild",function(U,K,q){var V=L.filterFormatItem(U,K,q);if(!V)return null;var Q=L.getTooltipEventType(),J=L.state,ee=J.isTooltipActive,X=J.tooltipAxis,Y=J.activeTooltipIndex,se=J.activeLabel,pe=L.props.children,ce=Ia(pe,tl),me=V.props,he=me.points,Se=me.isRange,be=me.baseLine,ue=V.item.type.defaultProps!==void 0?qe(qe({},V.item.type.defaultProps),V.item.props):V.item.props,ge=ue.activeDot,ke=ue.hide,ze=ue.activeBar,et=ue.activeShape,Ke=!!(!ke&&ee&&ce&&(ge||ze||et)),_e={};Q!=="axis"&&ce&&ce.props.trigger==="click"?_e={onClick:h1(L.handleItemMouseEnter,U.props.onClick)}:Q!=="axis"&&(_e={onMouseLeave:h1(L.handleItemMouseLeave,U.props.onMouseLeave),onMouseEnter:h1(L.handleItemMouseEnter,U.props.onMouseEnter)});var Ce=P.cloneElement(U,qe(qe({},V.props),_e));function Me(Wt){return typeof X.dataKey=="function"?X.dataKey(Wt.payload):null}if(Ke)if(Y>=0){var Be,Ue;if(X.dataKey&&!X.allowDuplicatedCategory){var Oe=typeof X.dataKey=="function"?Me:"payload.".concat(X.dataKey.toString());Be=bS(he,Oe,se),Ue=Se&&be&&bS(be,Oe,se)}else Be=he==null?void 0:he[Y],Ue=Se&&be&&be[Y];if(et||ze){var Le=U.props.activeIndex!==void 0?U.props.activeIndex:Y;return[P.cloneElement(U,qe(qe(qe({},V.props),_e),{},{activeIndex:Le})),null,null]}if(!er(Be))return[Ce].concat(Ty(L.renderActivePoints({item:V,activePoint:Be,basePoint:Ue,childIndex:Y,isRange:Se})))}else{var vt,Ft=(vt=L.getItemByXY(L.state.activeCoordinate))!==null&&vt!==void 0?vt:{graphicalItem:Ce},Dt=Ft.graphicalItem,gr=Dt.item,Zr=gr===void 0?U:gr,at=Dt.childIndex,Pt=qe(qe(qe({},V.props),_e),{},{activeIndex:at});return[P.cloneElement(Zr,Pt),null,null]}return Se?[Ce,null,null]:[Ce,null]}),zt(L,"renderCustomized",function(U,K,q){return P.cloneElement(U,qe(qe({key:"recharts-customized-".concat(q)},L.props),L.state))}),zt(L,"renderMap",{CartesianGrid:{handler:y1,once:!0},ReferenceArea:{handler:L.renderReferenceElement},ReferenceLine:{handler:y1},ReferenceDot:{handler:L.renderReferenceElement},XAxis:{handler:y1},YAxis:{handler:y1},Brush:{handler:L.renderBrush,once:!0},Bar:{handler:L.renderGraphicChild},Line:{handler:L.renderGraphicChild},Area:{handler:L.renderGraphicChild},Radar:{handler:L.renderGraphicChild},RadialBar:{handler:L.renderGraphicChild},Scatter:{handler:L.renderGraphicChild},Pie:{handler:L.renderGraphicChild},Funnel:{handler:L.renderGraphicChild},Tooltip:{handler:L.renderCursor,once:!0},PolarGrid:{handler:L.renderPolarGrid,once:!0},PolarAngleAxis:{handler:L.renderPolarAxis},PolarRadiusAxis:{handler:L.renderPolarAxis},Customized:{handler:L.renderCustomized}}),L.clipPathId="".concat((M=D.id)!==null&&M!==void 0?M:Jy("recharts"),"-clip"),L.throttleTriggeredAfterMouseMove=m7(L.triggeredAfterMouseMove,($=D.throttleDelay)!==null&&$!==void 0?$:1e3/60),L.state={},L}return qEe(k,A),BEe(k,[{key:"componentDidMount",value:function(){var M,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var M=this.props,$=M.children,L=M.data,U=M.height,K=M.layout,q=Ia($,tl);if(q){var V=q.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var Q=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,J=K2(this.state,L,V,Q),ee=this.state.tooltipTicks[V].coordinate,X=(this.state.offset.top+U)/2,Y=K==="horizontal",se=Y?{x:ee,y:X}:{y:ee,x:X},pe=this.state.formattedGraphicalItems.find(function(me){var he=me.item;return he.type.name==="Scatter"});pe&&(se=qe(qe({},se),pe.props.points[V].tooltipPosition),J=pe.props.points[V].tooltipPayload);var ce={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:Q,activePayload:J,activeCoordinate:se};this.setState(ce),this.renderCursor(q),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(M,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==M.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==M.margin){var L,U;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0}})}return null}},{key:"componentDidUpdate",value:function(M){PP([Ia(M.children,tl)],[Ia(this.props.children,tl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var M=Ia(this.props.children,tl);if(M&&typeof M.props.shared=="boolean"){var $=M.props.shared?"axis":"item";return c.indexOf($)>=0?$:s}return s}},{key:"getMouseInfo",value:function(M){if(!this.container)return null;var $=this.container,L=$.getBoundingClientRect(),U=Eve(L),K={chartX:Math.round(M.pageX-U.left),chartY:Math.round(M.pageY-U.top)},q=L.width/$.offsetWidth||1,V=this.inRange(K.chartX,K.chartY,q);if(!V)return null;var Q=this.state,J=Q.xAxisMap,ee=Q.yAxisMap,X=this.getTooltipEventType();if(X!=="axis"&&J&&ee){var Y=hh(J).scale,se=hh(ee).scale,pe=Y&&Y.invert?Y.invert(K.chartX):null,ce=se&&se.invert?se.invert(K.chartY):null;return qe(qe({},K),{},{xValue:pe,yValue:ce})}var me=J6(this.state,this.props.data,this.props.layout,V);return me?qe(qe({},K),me):null}},{key:"inRange",value:function(M,$){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=this.props.layout,K=M/L,q=$/L;if(U==="horizontal"||U==="vertical"){var V=this.state.offset,Q=K>=V.left&&K<=V.left+V.width&&q>=V.top&&q<=V.top+V.height;return Q?{x:K,y:q}:null}var J=this.state,ee=J.angleAxisMap,X=J.radiusAxisMap;if(ee&&X){var Y=hh(ee);return nB({x:K,y:q},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var M=this.props.children,$=this.getTooltipEventType(),L=Ia(M,tl),U={};L&&$==="axis"&&(L.props.trigger==="click"?U={onClick:this.handleClick}:U={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var K=wS(this.props,this.handleOuterEvent);return qe(qe({},K),U)}},{key:"addListener",value:function(){jC.on(NC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jC.removeListener(NC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(M,$,L){for(var U=this.state.formattedGraphicalItems,K=0,q=U.length;K<q;K++){var V=U[K];if(V.item===M||V.props.key===M.key||$===Eu(V.item.type)&&L===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var M=this.clipPathId,$=this.state.offset,L=$.left,U=$.top,K=$.height,q=$.width;return de.createElement("defs",null,de.createElement("clipPath",{id:M},de.createElement("rect",{x:L,y:U,height:K,width:q})))}},{key:"getXScales",value:function(){var M=this.state.xAxisMap;return M?Object.entries(M).reduce(function($,L){var U=X6(L,2),K=U[0],q=U[1];return qe(qe({},$),{},zt({},K,q.scale))},{}):null}},{key:"getYScales",value:function(){var M=this.state.yAxisMap;return M?Object.entries(M).reduce(function($,L){var U=X6(L,2),K=U[0],q=U[1];return qe(qe({},$),{},zt({},K,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(M){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[M])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(M){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[M])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(M){var $=this.state,L=$.formattedGraphicalItems,U=$.activeItem;if(L&&L.length)for(var K=0,q=L.length;K<q;K++){var V=L[K],Q=V.props,J=V.item,ee=J.type.defaultProps!==void 0?qe(qe({},J.type.defaultProps),J.props):J.props,X=Eu(J.type);if(X==="Bar"){var Y=(Q.data||[]).find(function(me){return M_e(M,me)});if(Y)return{graphicalItem:V,payload:Y}}else if(X==="RadialBar"){var se=(Q.data||[]).find(function(me){return nB(M,me)});if(se)return{graphicalItem:V,payload:se}}else if(Qj(V,U)||Zj(V,U)||qb(V,U)){var pe=sNe({graphicalItem:V,activeTooltipItem:U,itemData:ee.data}),ce=ee.activeIndex===void 0?pe:ee.activeIndex;return{graphicalItem:qe(qe({},V),{},{childIndex:ce}),payload:qb(V,U)?ee.data[pe]:V.props.data[pe]}}}return null}},{key:"render",value:function(){var M=this;if(!p5(this))return null;var $=this.props,L=$.children,U=$.className,K=$.width,q=$.height,V=$.style,Q=$.compact,J=$.title,ee=$.desc,X=Q6($,OEe),Y=Tt(X,!1);if(Q)return de.createElement(I6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(OP,Yx({},Y,{width:K,height:q,title:J,desc:ee}),this.renderClipPath(),g5(L,this.renderMap)));if(this.props.accessibilityLayer){var se,pe;Y.tabIndex=(se=this.props.tabIndex)!==null&&se!==void 0?se:0,Y.role=(pe=this.props.role)!==null&&pe!==void 0?pe:"application",Y.onKeyDown=function(me){M.accessibilityManager.keyboardEvent(me)},Y.onFocus=function(){M.accessibilityManager.focus()}}var ce=this.parseEventsOfWrapper();return de.createElement(I6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",Yx({className:tr("recharts-wrapper",U),style:qe({position:"relative",cursor:"default",width:K,height:q},V)},ce,{ref:function(he){M.container=he}}),de.createElement(OP,Yx({},Y,{width:K,height:q,title:J,desc:ee,style:XEe}),this.renderClipPath(),g5(L,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);return zt(C,"displayName",r),zt(C,"defaultProps",qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},y)),zt(C,"getDerivedStateFromProps",function(A,k){var D=A.dataKey,M=A.data,$=A.children,L=A.width,U=A.height,K=A.layout,q=A.stackOffset,V=A.margin,Q=k.dataStartIndex,J=k.dataEndIndex;if(k.updateId===void 0){var ee=eV(A);return qe(qe(qe({},ee),{},{updateId:0},N(qe(qe({props:A},ee),{},{updateId:0}),k)),{},{prevDataKey:D,prevData:M,prevWidth:L,prevHeight:U,prevLayout:K,prevStackOffset:q,prevMargin:V,prevChildren:$})}if(D!==k.prevDataKey||M!==k.prevData||L!==k.prevWidth||U!==k.prevHeight||K!==k.prevLayout||q!==k.prevStackOffset||!Pg(V,k.prevMargin)){var X=eV(A),Y={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},se=qe(qe({},J6(k,M,K)),{},{updateId:k.updateId+1}),pe=qe(qe(qe({},X),Y),se);return qe(qe(qe({},pe),N(qe({props:A},pe),k)),{},{prevDataKey:D,prevData:M,prevWidth:L,prevHeight:U,prevLayout:K,prevStackOffset:q,prevMargin:V,prevChildren:$})}if(!PP($,k.prevChildren)){var ce,me,he,Se,be=Ia($,xy),ue=be&&(ce=(me=be.props)===null||me===void 0?void 0:me.startIndex)!==null&&ce!==void 0?ce:Q,ge=be&&(he=(Se=be.props)===null||Se===void 0?void 0:Se.endIndex)!==null&&he!==void 0?he:J,ke=ue!==Q||ge!==J,ze=!er(M),et=ze&&!ke?k.updateId:k.updateId+1;return qe(qe({updateId:et},N(qe(qe({props:A},k),{},{updateId:et,dataStartIndex:ue,dataEndIndex:ge}),k)),{},{prevChildren:$,dataStartIndex:ue,dataEndIndex:ge})}return null}),zt(C,"renderActiveDot",function(A,k,D){var M;return P.isValidElement(A)?M=P.cloneElement(A,k):Ht(A)?M=A(k):M=de.createElement(Wj,k),de.createElement(Ar,{className:"recharts-active-dot",key:D},M)}),function(k){return de.createElement(C,k)}},aTe=BK({chartName:"PieChart",GraphicalChild:Ju,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Xj},{axisType:"radiusAxis",AxisComp:Kj}],formatAxisMap:a1e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),oTe=BK({chartName:"AreaChart",GraphicalChild:tf,axisComponents:[{axisType:"xAxis",AxisComp:iN},{axisType:"yAxis",AxisComp:sN}],formatAxisMap:lAe});const lTe=({data:t,colors:e})=>{const r=t.reduce((i,s)=>i+s.value,0),n=i=>{const{cx:s,cy:o,midAngle:c,innerRadius:d,outerRadius:h,percent:g}=i,y=Math.PI/180,x=d+(h-d)*.5,N=s+x*Math.cos(-c*y),C=o+x*Math.sin(-c*y);return a.jsx("text",{x:N,y:C,fill:"white",textAnchor:N>s?"start":"end",dominantBaseline:"central",fontSize:12,children:`${(g*100).toFixed(0)}%`})};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsx(Zt,{children:"Macronutrient Ratio"})}),a.jsx(Mt,{children:a.jsx("div",{style:{width:"100%",height:300},children:a.jsx(g7,{width:"100%",height:"100%",children:a.jsxs(aTe,{children:[a.jsx(tl,{formatter:i=>[`${i}g (${(Number(i)/r*100).toFixed(1)}%)`,"Amount"],contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),a.jsx(Ju,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:n,children:t.map((i,s)=>a.jsx(Rj,{fill:e[s%e.length]},`cell-${s}`))}),a.jsx(Sp,{formatter:(i,s,o)=>{const c=t[o];return`${i}: ${c.value}g (${(c.value/r*100).toFixed(0)}%)`}})]})})})})]})},cTe="modulepreload",uTe=function(t){return"/SafeBite-V1/"+t},rV={},Y2=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(d=>{if(d=uTe(d),d in rV)return;rV[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":cTe,h||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((x,N)=>{y.addEventListener("load",x),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};var L1={exports:{}},dTe=L1.exports,nV;function hTe(){return nV||(nV=1,function(t,e){(function(r,n){r._Highcharts=n(),t.exports=r._Highcharts})(typeof window>"u"?dTe:window,()=>(()=>{var dM;let r,n;var i,s,o,c,d,h,g,y,x,N,C,A,k,D,M,$,L,U,K={};K.d=(O,l)=>{for(var f in l)K.o(l,f)&&!K.o(O,f)&&Object.defineProperty(O,f,{enumerable:!0,get:l[f]})},K.o=(O,l)=>Object.prototype.hasOwnProperty.call(O,l);var q={};K.d(q,{default:()=>pX}),function(O){var l,f,m,v,b,S,_;O.SVG_NS="http://www.w3.org/2000/svg",O.product="Highcharts",O.version="12.2.0",O.win=typeof window<"u"?window:{},O.doc=O.win.document,O.svg=!!((m=(f=(l=O.doc)==null?void 0:l.createElementNS)==null?void 0:f.call(l,O.SVG_NS,"svg"))!=null&&m.createSVGRect),O.pageLang=(S=(b=(v=O.doc)==null?void 0:v.documentElement)==null?void 0:b.closest("[lang]"))==null?void 0:S.lang,O.userAgent=((_=O.win.navigator)==null?void 0:_.userAgent)||"",O.isChrome=O.win.chrome,O.isFirefox=O.userAgent.indexOf("Firefox")!==-1,O.isMS=/(edge|msie|trident)/i.test(O.userAgent)&&!O.win.opera,O.isSafari=!O.isChrome&&O.userAgent.indexOf("Safari")!==-1,O.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(O.userAgent),O.isWebKit=O.userAgent.indexOf("AppleWebKit")!==-1,O.deg2rad=2*Math.PI/360,O.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],O.noop=function(){},O.supportsPassiveEvents=function(){let E=!1;if(!O.isMS){let I=Object.defineProperty({},"passive",{get:function(){E=!0}});O.win.addEventListener&&O.win.removeEventListener&&(O.win.addEventListener("testPassive",O.noop,I),O.win.removeEventListener("testPassive",O.noop,I))}return E}(),O.charts=[],O.composed=[],O.dateFormats={},O.seriesTypes={},O.symbolSizes={},O.chartCount=0}(i||(i={}));let V=i,{charts:Q,doc:J,win:ee}=V;function X(O,l,f,m){let v=l?"Highcharts error":"Highcharts warning";O===32&&(O=`${v}: Deprecated member`);let b=Se(O),S=b?`${v} #${O}: www.highcharts.com/errors/${O}/`:O.toString();if(m!==void 0){let _="";b&&(S+="?"),Me(m,function(E,I){_+=`
 - ${I}: ${E}`,b&&(S+=encodeURI(I)+"="+encodeURI(E))}),S+=_}Ue(V,"displayError",{chart:f,code:O,message:S,params:m},function(){if(l)throw Error(S);ee.console&&X.messages.indexOf(S)===-1&&console.warn(S)}),X.messages.push(S)}function Y(O,l){return parseInt(O,l||10)}function se(O){return typeof O=="string"}function pe(O){let l=Object.prototype.toString.call(O);return l==="[object Array]"||l==="[object Array Iterator]"}function ce(O,l){return!!O&&typeof O=="object"&&(!l||!pe(O))}function me(O){return ce(O)&&typeof O.nodeType=="number"}function he(O){let l=O==null?void 0:O.constructor;return!!(ce(O,!0)&&!me(O)&&(l!=null&&l.name)&&l.name!=="Object")}function Se(O){return typeof O=="number"&&!isNaN(O)&&O<1/0&&O>-1/0}function be(O){return O!=null}function ue(O,l,f){let m,v=se(l)&&!be(f),b=(S,_)=>{be(S)?O.setAttribute(_,S):v?(m=O.getAttribute(_))||_!=="class"||(m=O.getAttribute(_+"Name")):O.removeAttribute(_)};return se(l)?b(f,l):Me(l,b),m}function ge(O){return pe(O)?O:[O]}function ke(O,l){let f;for(f in O||(O={}),l)O[f]=l[f];return O}function ze(){let O=arguments,l=O.length;for(let f=0;f<l;f++){let m=O[f];if(m!=null)return m}}function et(O,l){ke(O.style,l)}function Ke(O){return Math.pow(10,Math.floor(Math.log(O)/Math.LN10))}function _e(O,l){return O>1e14?O:parseFloat(O.toPrecision(l||14))}(X||(X={})).messages=[],Math.easeInOutSine=function(O){return-.5*(Math.cos(Math.PI*O)-1)};let Ce=Array.prototype.find?function(O,l){return O.find(l)}:function(O,l){let f,m=O.length;for(f=0;f<m;f++)if(l(O[f],f))return O[f]};function Me(O,l,f){for(let m in O)Object.hasOwnProperty.call(O,m)&&l.call(f||O[m],O[m],m,O)}function Be(O,l,f){function m(S,_){let E=O.removeEventListener;E&&E.call(O,S,_,!1)}function v(S){let _,E;O.nodeName&&(l?(_={})[l]=!0:_=S,Me(_,function(I,F){if(S[F])for(E=S[F].length;E--;)m(F,S[F][E].fn)}))}let b=typeof O=="function"&&O.prototype||O;if(Object.hasOwnProperty.call(b,"hcEvents")){let S=b.hcEvents;if(l){let _=S[l]||[];f?(S[l]=_.filter(function(E){return f!==E.fn}),m(l,f)):(v(S),S[l]=[])}else v(S),delete b.hcEvents}}function Ue(O,l,f,m){if(f=f||{},(J==null?void 0:J.createEvent)&&(O.dispatchEvent||O.fireEvent&&O!==V)){let v=J.createEvent("Events");v.initEvent(l,!0,!0),f=ke(v,f),O.dispatchEvent?O.dispatchEvent(f):O.fireEvent(l,f)}else if(O.hcEvents){f.target||ke(f,{preventDefault:function(){f.defaultPrevented=!0},target:O,type:l});let v=[],b=O,S=!1;for(;b.hcEvents;)Object.hasOwnProperty.call(b,"hcEvents")&&b.hcEvents[l]&&(v.length&&(S=!0),v.unshift.apply(v,b.hcEvents[l])),b=Object.getPrototypeOf(b);S&&v.sort((_,E)=>_.order-E.order),v.forEach(_=>{_.fn.call(O,f)===!1&&f.preventDefault()})}m&&!f.defaultPrevented&&m.call(O,f)}let Oe=function(){let O=Math.random().toString(36).substring(2,9)+"-",l=0;return function(){return"highcharts-"+(r?"":O)+l++}}();ee.jQuery&&(ee.jQuery.fn.highcharts=function(){let O=[].slice.call(arguments);if(this[0])return O[0]?(new V[se(O[0])?O.shift():"Chart"](this[0],O[0],O[1]),this):Q[ue(this[0],"data-highcharts-chart")]});let Le={addEvent:function(O,l,f,m={}){let v=typeof O=="function"&&O.prototype||O;Object.hasOwnProperty.call(v,"hcEvents")||(v.hcEvents={});let b=v.hcEvents;V.Point&&O instanceof V.Point&&O.series&&O.series.chart&&(O.series.chart.runTrackerClick=!0);let S=O.addEventListener;S&&S.call(O,l,f,!!V.supportsPassiveEvents&&{passive:m.passive===void 0?l.indexOf("touch")!==-1:m.passive,capture:!1}),b[l]||(b[l]=[]);let _={fn:f,order:typeof m.order=="number"?m.order:1/0};return b[l].push(_),b[l].sort((E,I)=>E.order-I.order),function(){Be(O,l,f)}},arrayMax:function(O){let l=O.length,f=O[0];for(;l--;)O[l]>f&&(f=O[l]);return f},arrayMin:function(O){let l=O.length,f=O[0];for(;l--;)O[l]<f&&(f=O[l]);return f},attr:ue,clamp:function(O,l,f){return O>l?O<f?O:f:l},clearTimeout:function(O){be(O)&&clearTimeout(O)},correctFloat:_e,createElement:function(O,l,f,m,v){let b=J.createElement(O);return l&&ke(b,l),v&&et(b,{padding:"0",border:"none",margin:"0"}),f&&et(b,f),m&&m.appendChild(b),b},crisp:function(O,l=0,f){let m=l%2/2,v=f?-1:1;return(Math.round(O*v-m)+m)*v},css:et,defined:be,destroyObjectProperties:function(O,l,f){Me(O,function(m,v){m!==l&&(m!=null&&m.destroy)&&m.destroy(),(m!=null&&m.destroy||!f)&&delete O[v]})},diffObjects:function(O,l,f,m){let v={};return function b(S,_,E,I){let F=f?_:S;Me(S,function(R,z){if(!I&&m&&m.indexOf(z)>-1&&_[z]){R=ge(R),E[z]=[];for(let G=0;G<Math.max(R.length,_[z].length);G++)_[z][G]&&(R[G]===void 0?E[z][G]=_[z][G]:(E[z][G]={},b(R[G],_[z][G],E[z][G],I+1)))}else ce(R,!0)&&!R.nodeType?(E[z]=pe(R)?[]:{},b(R,_[z]||{},E[z],I+1),Object.keys(E[z]).length===0&&(z!=="colorAxis"||I!==0)&&delete E[z]):(S[z]!==_[z]||z in S&&!(z in _))&&z!=="__proto__"&&z!=="constructor"&&(E[z]=F[z])})}(O,l,v,0),v},discardElement:function(O){var l;(l=O==null?void 0:O.parentElement)==null||l.removeChild(O)},erase:function(O,l){let f=O.length;for(;f--;)if(O[f]===l){O.splice(f,1);break}},error:X,extend:ke,extendClass:function(O,l){let f=function(){};return f.prototype=new O,ke(f.prototype,l),f},find:Ce,fireEvent:Ue,getAlignFactor:(O="")=>({center:.5,right:1,middle:.5,bottom:1})[O]||0,getClosestDistance:function(O,l){let f,m,v,b=!l;return O.forEach(S=>{if(S.length>1)for(v=S.length-1;v>0;v--)(m=S[v]-S[v-1])<0&&!b?(l==null||l(),l=void 0):m&&(f===void 0||m<f)&&(f=m)}),f},getMagnitude:Ke,getNestedProperty:function(O,l){let f=O.split(".");for(;f.length&&be(l);){let m=f.shift();if(m===void 0||m==="__proto__")return;if(m==="this"){let b;return ce(l)&&(b=l["@this"]),b??l}let v=l[m.replace(/[\\'"]/g,"")];if(!be(v)||typeof v=="function"||typeof v.nodeType=="number"||v===ee)return;l=v}return l},getStyle:function O(l,f,m){var S;let v;if(f==="width"){let _=Math.min(l.offsetWidth,l.scrollWidth),E=(S=l.getBoundingClientRect)==null?void 0:S.call(l).width;return E<_&&E>=_-1&&(_=Math.floor(E)),Math.max(0,_-(O(l,"padding-left",!0)||0)-(O(l,"padding-right",!0)||0))}if(f==="height")return Math.max(0,Math.min(l.offsetHeight,l.scrollHeight)-(O(l,"padding-top",!0)||0)-(O(l,"padding-bottom",!0)||0));let b=ee.getComputedStyle(l,void 0);return b&&(v=b.getPropertyValue(f),ze(m,f!=="opacity")&&(v=Y(v))),v},insertItem:function(O,l){let f,m=O.options.index,v=l.length;for(f=O.options.isInternal?v:0;f<v+1;f++)if(!l[f]||Se(m)&&m<ze(l[f].options.index,l[f]._i)||l[f].options.isInternal){l.splice(f,0,O);break}return f},isArray:pe,isClass:he,isDOMElement:me,isFunction:function(O){return typeof O=="function"},isNumber:Se,isObject:ce,isString:se,merge:function(O,...l){let f,m=[O,...l],v={},b=function(_,E){return typeof _!="object"&&(_={}),Me(E,function(I,F){F!=="__proto__"&&F!=="constructor"&&(!ce(I,!0)||he(I)||me(I)?_[F]=E[F]:_[F]=b(_[F]||{},I))}),_};O===!0&&(v=m[1],m=Array.prototype.slice.call(m,2));let S=m.length;for(f=0;f<S;f++)v=b(v,m[f]);return v},normalizeTickInterval:function(O,l,f,m,v){let b,S=O;f=ze(f,Ke(O));let _=O/f;for(!l&&(l=v?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],m===!1&&(f===1?l=l.filter(function(E){return E%1==0}):f<=.1&&(l=[1/f]))),b=0;b<l.length&&(S=l[b],(!v||!(S*f>=O))&&(v||!(_<=(l[b]+(l[b+1]||l[b]))/2)));b++);return _e(S*f,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Me,offset:function(O){let l=J.documentElement,f=O.parentElement||O.parentNode?O.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:f.top+(ee.pageYOffset||l.scrollTop)-(l.clientTop||0),left:f.left+(ee.pageXOffset||l.scrollLeft)-(l.clientLeft||0),width:f.width,height:f.height}},pad:function(O,l,f){return Array((l||2)+1-String(O).replace("-","").length).join(f||"0")+O},pick:ze,pInt:Y,pushUnique:function(O,l){return 0>O.indexOf(l)&&!!O.push(l)},relativeLength:function(O,l,f){return/%$/.test(O)?l*parseFloat(O)/100+(f||0):parseFloat(O)},removeEvent:Be,replaceNested:function(O,...l){let f,m;do for(m of(f=O,l))O=O.replace(m[0],m[1]);while(O!==f);return O},splat:ge,stableSort:function(O,l){let f,m,v=O.length;for(m=0;m<v;m++)O[m].safeI=m;for(O.sort(function(b,S){return(f=l(b,S))===0?b.safeI-S.safeI:f}),m=0;m<v;m++)delete O[m].safeI},syncTimeout:function(O,l,f){return l>0?setTimeout(O,l,f):(O.call(0,f),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(O){return se(O)?O.substring(0,1).toUpperCase()+O.substring(1):String(O)},uniqueKey:Oe,useSerialIds:function(O){return r=ze(O,r)},wrap:function(O,l,f){let m=O[l];O[l]=function(){let v=arguments,b=this;return f.apply(this,[function(){return m.apply(b,arguments.length?arguments:v)}].concat([].slice.call(arguments)))}}},{pageLang:vt,win:Ft}=V,{defined:Dt,error:gr,extend:Zr,isNumber:at,isObject:Pt,isString:Wt,merge:Ir,objectEach:Fr,pad:fn,splat:Xi,timeUnits:Yt,ucfirst:yr}=Le,Ls=V.isSafari&&Ft.Intl&&!Ft.Intl.DateTimeFormat.prototype.formatRange,Fs=O=>O.main===void 0,ua=class{constructor(O,l){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Ft.Date,this.update(O),this.lang=l}update(O={}){this.dTLCache={},this.options=O=Ir(!0,this.options,O);let{timezoneOffset:l,useUTC:f}=O;this.Date=O.Date||Ft.Date||Date;let m=O.timezone;Dt(f)&&(m=f?"UTC":void 0),l&&l%60==0&&(m="Etc/GMT"+(l>0?"+":"")+l/60),this.variableTimezone=m!=="UTC"&&(m==null?void 0:m.indexOf("Etc/GMT"))!==0,this.timezone=m,["months","shortMonths","weekdays","shortWeekdays"].forEach(v=>{let b=/months/i.test(v),S=/short/.test(v),_={timeZone:"UTC"};_[b?"month":"weekday"]=S?"short":"long",this[v]=(b?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(E=>this.dateFormat(_,(b?31:1)*24*36e5*E))})}toParts(O){let[l,f,m,v,b,S,_]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},O,"es").split(/(?:, | |\/|:)/g);return[v,+m-1,f,b,S,_,Math.floor(Number(O)||0)%1e3,"DLMXJVS".indexOf(l)].map(Number)}dateTimeFormat(O,l,f=this.options.locale||vt){let m=JSON.stringify(O)+f;Wt(O)&&(O=this.str2dtf(O));let v=this.dTLCache[m];if(!v){O.timeZone??(O.timeZone=this.timezone);try{v=new Intl.DateTimeFormat(f,O)}catch(b){/Invalid time zone/i.test(b.message)?(gr(34),O.timeZone="UTC",v=new Intl.DateTimeFormat(f,O)):gr(b.message,!1)}}return this.dTLCache[m]=v,(v==null?void 0:v.format(l))||""}str2dtf(O,l={}){let f={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(f).forEach(m=>{O.indexOf(m)!==-1&&Zr(l,f[m])}),l}makeTime(O,l,f=1,m=0,v,b,S){let _=this.Date.UTC(O,l,f,m,v||0,b||0,S||0);if(this.timezone!=="UTC"){let E=this.getTimezoneOffset(_);if(_+=E,[2,3,8,9,10,11].indexOf(l)!==-1&&(m<5||m>20)){let I=this.getTimezoneOffset(_);E!==I?_+=I-E:E-36e5!==this.getTimezoneOffset(_-36e5)||Ls||(_-=36e5)}}return _}parse(O){if(!Wt(O))return O??void 0;let l=(O=O.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(O),f=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(O);l||f||(O+="Z");let m=Date.parse(O);if(at(m))return m+(!l||f?this.getTimezoneOffset(m):0)}getTimezoneOffset(O){if(this.timezone!=="UTC"){let[l,f,m,v,b=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},O,"en").split(/(GMT|:)/).map(Number),S=-(36e5*(m+b/60));if(at(S))return S}return 0}dateFormat(O,l,f){let m=this.lang;if(!Dt(l)||isNaN(l))return(m==null?void 0:m.invalidDate)||"";if(Wt(O=O??"%Y-%m-%d %H:%M:%S")){let v,b=/%\[([a-zA-Z]+)\]/g;for(;v=b.exec(O);)O=O.replace(v[0],this.dateTimeFormat(v[1],l,m==null?void 0:m.locale))}if(Wt(O)&&O.indexOf("%")!==-1){let v=this,[b,S,_,E,I,F,R,z]=this.toParts(l),G=(m==null?void 0:m.weekdays)||this.weekdays,Z=(m==null?void 0:m.shortWeekdays)||this.shortWeekdays,ie=(m==null?void 0:m.months)||this.months,ne=(m==null?void 0:m.shortMonths)||this.shortMonths;Fr(Zr({a:Z?Z[z]:G[z].substr(0,3),A:G[z],d:fn(_),e:fn(_,2," "),w:z,v:(m==null?void 0:m.weekFrom)??"",b:ne[S],B:ie[S],m:fn(S+1),o:S+1,y:b.toString().substr(2,2),Y:b,H:fn(E),k:E,I:fn(E%12||12),l:E%12||12,M:fn(I),p:E<12?"AM":"PM",P:E<12?"am":"pm",S:fn(F),L:fn(R,3)},V.dateFormats),function(re,oe){if(Wt(O))for(;O.indexOf("%"+oe)!==-1;)O=O.replace("%"+oe,typeof re=="function"?re.call(v,l):re)})}else if(Pt(O)){let v=(this.getTimezoneOffset(l)||0)/36e5,b=this.timezone||"Etc/GMT"+(v>=0?"+":"")+v,{prefix:S="",suffix:_=""}=O;O=S+this.dateTimeFormat(Zr({timeZone:b},O),l)+_}return f?yr(O):O}resolveDTLFormat(O){return Pt(O,!0)?Pt(O,!0)&&Fs(O)?{main:O}:O:{main:(O=Xi(O))[0],from:O[1],to:O[2]}}getDateFormat(O,l,f,m){let v=this.dateFormat("%m-%d %H:%M:%S.%L",l),b="01-01 00:00:00.000",S={millisecond:15,second:12,minute:9,hour:6,day:3},_="millisecond",E=_;for(_ in Yt){if(O&&O===Yt.week&&+this.dateFormat("%w",l)===f&&v.substr(6)===b.substr(6)){_="week";break}if(O&&Yt[_]>O){_=E;break}if(S[_]&&v.substr(S[_])!==b.substr(S[_]))break;_!=="week"&&(E=_)}return this.resolveDTLFormat(m[_]).main}},{defined:Wa,extend:Ga,timeUnits:$r}=Le,xo=class extends ua{getTimeTicks(O,l,f,m){let v=this,b=[],S={},{count:_=1,unitRange:E}=O,[I,F,R,z,G,Z]=v.toParts(l),ie=(l||0)%1e3,ne;if(m??(m=1),Wa(l)){if(ie=E>=$r.second?0:_*Math.floor(ie/_),E>=$r.second&&(Z=E>=$r.minute?0:_*Math.floor(Z/_)),E>=$r.minute&&(G=E>=$r.hour?0:_*Math.floor(G/_)),E>=$r.hour&&(z=E>=$r.day?0:_*Math.floor(z/_)),E>=$r.day&&(R=E>=$r.month?1:Math.max(1,_*Math.floor(R/_))),E>=$r.month&&(F=E>=$r.year?0:_*Math.floor(F/_)),E>=$r.year&&(I-=I%_),E===$r.week){_&&(l=v.makeTime(I,F,R,z,G,Z,ie));let le=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},l,"es"),we="DLMXJVS".indexOf(le);R+=-we+m+(we<m?-7:0)}l=v.makeTime(I,F,R,z,G,Z,ie),v.variableTimezone&&Wa(f)&&(ne=f-l>4*$r.month||v.getTimezoneOffset(l)!==v.getTimezoneOffset(f));let re=l,oe=1;for(;re<f;)b.push(re),E===$r.year?re=v.makeTime(I+oe*_,0):E===$r.month?re=v.makeTime(I,F+oe*_):ne&&(E===$r.day||E===$r.week)?re=v.makeTime(I,F,R+oe*_*(E===$r.day?1:7)):ne&&E===$r.hour&&_>1?re=v.makeTime(I,F,R,z+oe*_):re+=E*_,oe++;b.push(re),E<=$r.hour&&b.length<1e4&&b.forEach(le=>{le%18e5==0&&v.dateFormat("%H%M%S%L",le)==="000000000"&&(S[le]="day")})}return b.info=Ga(O,{higherRanks:S,totalRange:E*_}),b}},{isTouchDevice:bo}=V,{fireEvent:Qi,merge:Ec}=Le,jt={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:O=>Math.sqrt(1-Math.pow(O-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:bo?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},vr=new xo(jt.time,jt.lang),Gt={defaultOptions:jt,defaultTime:vr,getOptions:function(){return jt},setOptions:function(O){var l;return Qi(V,"setOptions",{options:O}),Ec(!0,jt,O),O.time&&vr.update(jt.time),O.lang&&"locale"in O.lang&&vr.update({locale:O.lang.locale}),(l=O.lang)!=null&&l.chartTitle&&(jt.title={...jt.title,text:O.lang.chartTitle}),jt}},{win:pn}=V,{isNumber:Jr,isString:da,merge:$s,pInt:qn,defined:wl}=Le,td=(O,l,f)=>`color-mix(in srgb,${O},${l} ${100*f}%)`,ha=O=>da(O)&&!!O&&O!=="none";class Br{static parse(l){return l?new Br(l):Br.None}constructor(l){let f,m,v,b;this.rgba=[NaN,NaN,NaN,NaN],this.input=l;let S=V.Color;if(S&&S!==Br)return new S(l);if(typeof l=="object"&&l.stops!==void 0)this.stops=l.stops.map(_=>new Br(_[1]));else if(typeof l=="string")for(this.input=l=Br.names[l.toLowerCase()]||l,v=Br.parsers.length;v--&&!m;)(f=(b=Br.parsers[v]).regex.exec(l))&&(m=b.parse(f));m&&(this.rgba=m)}get(l){let f=this.input,m=this.rgba;if(this.output)return this.output;if(typeof f=="object"&&this.stops!==void 0){let v=$s(f);return v.stops=[].slice.call(v.stops),this.stops.forEach((b,S)=>{v.stops[S]=[v.stops[S][0],b.get(l)]}),v}return m&&Jr(m[0])?l!=="rgb"&&(l||m[3]!==1)?l==="a"?`${m[3]}`:"rgba("+m.join(",")+")":"rgb("+m[0]+","+m[1]+","+m[2]+")":f}brighten(l){let f=this.rgba;if(this.stops)this.stops.forEach(function(m){m.brighten(l)});else if(Jr(l)&&l!==0)if(Jr(f[0]))for(let m=0;m<3;m++)f[m]+=qn(255*l),f[m]<0&&(f[m]=0),f[m]>255&&(f[m]=255);else Br.useColorMix&&ha(this.input)&&(this.output=td(this.input,l>0?"white":"black",Math.abs(l)));return this}setOpacity(l){return this.rgba[3]=l,this}tweenTo(l,f){let m=this.rgba,v=l.rgba;if(!Jr(m[0])||!Jr(v[0]))return Br.useColorMix&&ha(this.input)&&ha(l.input)&&f<.99?td(this.input,l.input,f):l.input||"none";let b=v[3]!==1||m[3]!==1,S=(E,I)=>E+(m[I]-E)*(1-f),_=v.slice(0,3).map(S).map(Math.round);return b&&_.push(S(v[3],3)),(b?"rgba(":"rgb(")+_.join(",")+")"}}Br.names={white:"#ffffff",black:"#000000"},Br.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(O){return[qn(O[1]),qn(O[2]),qn(O[3]),parseFloat(O[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(O){return[qn(O[1]),qn(O[2]),qn(O[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(O){return[qn(O[1]+O[1],16),qn(O[2]+O[2],16),qn(O[3]+O[3],16),wl(O[4])?qn(O[4]+O[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(O){return[qn(O[1],16),qn(O[2],16),qn(O[3],16),wl(O[4])?qn(O[4],16)/255:1]}}],Br.useColorMix=(dM=pn.CSS)==null?void 0:dM.supports("color","color-mix(in srgb,red,blue 9%)"),Br.None=new Br("");let{parse:wn}=Br,{win:rd}=V,{isNumber:ys,objectEach:Tc}=Le;class An{constructor(l,f,m){this.pos=NaN,this.options=f,this.elem=l,this.prop=m}dSetter(){let l=this.paths,f=l==null?void 0:l[0],m=l==null?void 0:l[1],v=this.now||0,b=[];if(v!==1&&f&&m)if(f.length===m.length&&v<1)for(let S=0;S<m.length;S++){let _=f[S],E=m[S],I=[];for(let F=0;F<E.length;F++){let R=_[F],z=E[F];ys(R)&&ys(z)&&(E[0]!=="A"||F!==4&&F!==5)?I[F]=R+v*(z-R):I[F]=z}b.push(I)}else b=m;else b=this.toD||[];this.elem.attr("d",b,void 0,!0)}update(){let l=this.elem,f=this.prop,m=this.now,v=this.options.step;this[f+"Setter"]?this[f+"Setter"]():l.attr?l.element&&l.attr(f,m,null,!0):l.style[f]=m+this.unit,v&&v.call(l,m,this)}run(l,f,m){let v=this,b=v.options,S=function(I){return!S.stopped&&v.step(I)},_=rd.requestAnimationFrame||function(I){setTimeout(I,13)},E=function(){for(let I=0;I<An.timers.length;I++)An.timers[I]()||An.timers.splice(I--,1);An.timers.length&&_(E)};l!==f||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=l,this.end=f,this.unit=m,this.now=this.start,this.pos=0,S.elem=this.elem,S.prop=this.prop,S()&&An.timers.push(S)===1&&_(E)):(delete b.curAnim[this.prop],b.complete&&Object.keys(b.curAnim).length===0&&b.complete.call(this.elem))}step(l){let f,m,v=+new Date,b=this.options,S=this.elem,_=b.complete,E=b.duration,I=b.curAnim;return S.attr&&!S.element?f=!1:l||v>=E+this.startTime?(this.now=this.end,this.pos=1,this.update(),I[this.prop]=!0,m=!0,Tc(I,function(F){F!==!0&&(m=!1)}),m&&_&&_.call(S),f=!1):(this.pos=b.easing((v-this.startTime)/E),this.now=this.start+(this.end-this.start)*this.pos,this.update(),f=!0),f}initPath(l,f,m){let v=l.startX,b=l.endX,S=m.slice(),_=l.isArea,E=_?2:1,I=f&&m.length>f.length&&m.hasStackedCliffs,F,R,z,G,Z=f==null?void 0:f.slice();if(!Z||I)return[S,S];function ie(re,oe){for(;re.length<R;){let le=re[0],we=oe[R-re.length];if(we&&le[0]==="M"&&(we[0]==="C"?re[0]=["C",le[1],le[2],le[1],le[2],le[1],le[2]]:re[0]=["L",le[1],le[2]]),re.unshift(le),_){let ve=re.pop();re.push(re[re.length-1],ve)}}}function ne(re){for(;re.length<R;){let oe=re[Math.floor(re.length/E)-1].slice();if(oe[0]==="C"&&(oe[1]=oe[5],oe[2]=oe[6]),_){let le=re[Math.floor(re.length/E)].slice();re.splice(re.length/2,0,oe,le)}else re.push(oe)}}if(v&&b&&b.length){for(z=0;z<v.length;z++){if(v[z]===b[0]){F=z;break}if(v[0]===b[b.length-v.length+z]){F=z,G=!0;break}if(v[v.length-1]===b[b.length-v.length+z]){F=v.length-z;break}}F===void 0&&(Z=[])}return Z.length&&ys(F)&&(R=S.length+F*E,G?(ie(Z,S),ne(S)):(ie(S,Z),ne(Z))),[Z,S]}fillSetter(){An.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,wn(this.start).tweenTo(wn(this.end),this.pos),void 0,!0)}}An.timers=[];let{defined:nd,getStyle:fa,isArray:sf,isNumber:ov,isObject:Sl,merge:af,objectEach:pa,pick:Cc}=Le;function vs(O){return Sl(O)?af({duration:500,defer:0},O):{duration:500*!!O,defer:0}}function of(O,l){let f=An.timers.length;for(;f--;)An.timers[f].elem!==O||l&&l!==An.timers[f].prop||(An.timers[f].stopped=!0)}let kn={animate:function(O,l,f){let m,v="",b,S,_;Sl(f)||(_=arguments,f={duration:_[2],easing:_[3],complete:_[4]}),ov(f.duration)||(f.duration=400),f.easing=typeof f.easing=="function"?f.easing:Math[f.easing]||Math.easeInOutSine,f.curAnim=af(l),pa(l,function(E,I){of(O,I),S=new An(O,f,I),b=void 0,I==="d"&&sf(l.d)?(S.paths=S.initPath(O,O.pathArray,l.d),S.toD=l.d,m=0,b=1):O.attr?m=O.attr(I):(m=parseFloat(fa(O,I))||0,I!=="opacity"&&(v="px")),b||(b=E),typeof b=="string"&&b.match("px")&&(b=b.replace(/px/g,"")),S.run(m,b,v)})},animObject:vs,getDeferredAnimation:function(O,l,f){let m=vs(l),v=f?[f]:O.series,b=0,S=0;return v.forEach(_=>{let E=vs(_.options.animation);b=Sl(l)&&nd(l.defer)?m.defer:Math.max(b,E.duration+E.defer),S=Math.min(m.duration,E.duration)}),O.renderer.forExport&&(b=0),{defer:Math.max(0,b-S),duration:Math.min(b,S)}},setAnimation:function(O,l){l.renderer.globalAnimation=Cc(O,l.options.chart.animation,!0)},stop:of},{SVG_NS:Pc,win:id}=V,{attr:lf,createElement:Yp,css:lv,error:Wr,isFunction:Xp,isString:_l,objectEach:wo,splat:Bs}=Le,{trustedTypes:Ic}=id,Oc=Ic&&Xp(Ic.createPolicy)&&Ic.createPolicy("highcharts",{createHTML:O=>O}),Rc=Oc?Oc.createHTML(""):"";class cr{static filterUserAttributes(l){return wo(l,(f,m)=>{let v=!0;cr.allowedAttributes.indexOf(m)===-1&&(v=!1),["background","dynsrc","href","lowsrc","src"].indexOf(m)!==-1&&(v=_l(f)&&cr.allowedReferences.some(b=>f.indexOf(b)===0)),v||(Wr(33,!1,void 0,{"Invalid attribute in config":`${m}`}),delete l[m]),_l(f)&&l[m]&&(l[m]=f.replace(/</g,"&lt;"))}),l}static parseStyle(l){return l.split(";").reduce((f,m)=>{let v=m.split(":").map(S=>S.trim()),b=v.shift();return b&&v.length&&(f[b.replace(/-([a-z])/g,S=>S[1].toUpperCase())]=v.join(":")),f},{})}static setElementHTML(l,f){l.innerHTML=cr.emptyHTML,f&&new cr(f).addToDOM(l)}constructor(l){this.nodes=typeof l=="string"?this.parseMarkup(l):l}addToDOM(l){return function f(m,v){let b;return Bs(m).forEach(function(S){let _,E=S.tagName,I=S.textContent?V.doc.createTextNode(S.textContent):void 0,F=cr.bypassHTMLFiltering;if(E)if(E==="#text")_=I;else if(cr.allowedTags.indexOf(E)!==-1||F){let R=E==="svg"?Pc:v.namespaceURI||Pc,z=V.doc.createElementNS(R,E),G=S.attributes||{};wo(S,function(Z,ie){ie!=="tagName"&&ie!=="attributes"&&ie!=="children"&&ie!=="style"&&ie!=="textContent"&&(G[ie]=Z)}),lf(z,F?G:cr.filterUserAttributes(G)),S.style&&lv(z,S.style),I&&z.appendChild(I),f(S.children||[],z),_=z}else Wr(33,!1,void 0,{"Invalid tagName in config":E});_&&v.appendChild(_),b=_}),b}(this.nodes,l)}parseMarkup(l){let f,m=[];l=l.trim().replace(/ style=(["'])/g," data-style=$1");try{f=new DOMParser().parseFromString(Oc?Oc.createHTML(l):l,"text/html")}catch{}if(!f){let b=Yp("div");b.innerHTML=l,f={body:b}}let v=(b,S)=>{let _=b.nodeName.toLowerCase(),E={tagName:_};_==="#text"&&(E.textContent=b.textContent||"");let I=b.attributes;if(I){let F={};[].forEach.call(I,R=>{R.name==="data-style"?E.style=cr.parseStyle(R.value):F[R.name]=R.value}),E.attributes=F}if(b.childNodes.length){let F=[];[].forEach.call(b.childNodes,R=>{v(R,F)}),F.length&&(E.children=F)}S.push(E)};return[].forEach.call(f.body.childNodes,b=>v(b,m)),m}}cr.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],cr.allowedReferences=["https://","http://","mailto:","/","../","./","#"],cr.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],cr.emptyHTML=Rc,cr.bypassHTMLFiltering=!1;let{defaultOptions:cf,defaultTime:wi}=Gt,{pageLang:uf}=V,{extend:Qp,getNestedProperty:Zp,isArray:sd,isNumber:Mc,isObject:jl,isString:Dc,pick:cv,ucfirst:So}=Le,Si={add:(O,l)=>O+l,divide:(O,l)=>l!==0?O/l:"",eq:(O,l)=>O==l,each:function(O){let l=arguments[arguments.length-1];return!!sd(O)&&O.map((f,m)=>ma(l.body,Qp(jl(f)?f:{"@this":f},{"@index":m,"@first":m===0,"@last":m===O.length-1}))).join("")},ge:(O,l)=>O>=l,gt:(O,l)=>O>l,if:O=>!!O,le:(O,l)=>O<=l,lt:(O,l)=>O<l,multiply:(O,l)=>O*l,ne:(O,l)=>O!=l,subtract:(O,l)=>O-l,ucfirst:So,unless:O=>!O},Nl={},_o=O=>/^["'].+["']$/.test(O);function ma(O="",l,f){var ne;let m=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,v=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,b=[],S=/f$/,_=/\.(\d)/,E=((ne=f==null?void 0:f.options)==null?void 0:ne.lang)||cf.lang,I=(f==null?void 0:f.time)||wi,F=(f==null?void 0:f.numberFormatter)||Vr,R=(re="")=>{let oe;return re==="true"||re!=="false"&&((oe=Number(re)).toString()===re?oe:_o(re)?re.slice(1,-1):Zp(re,l))},z,G,Z=0,ie;for(;(z=m.exec(O))!==null;){let re=z,oe=v.exec(z[1]);oe&&(z=oe,ie=!0),G!=null&&G.isBlock||(G={ctx:l,expression:z[1],find:z[0],isBlock:z[1].charAt(0)==="#",start:z.index,startInner:z.index+z[0].length,length:z[0].length});let le=(G.isBlock?re:z)[1].split(" ")[0].replace("#","");Si[le]&&(G.isBlock&&le===G.fn&&Z++,G.fn||(G.fn=le));let we=z[1]==="else";if(G.isBlock&&G.fn&&(z[1]===`/${G.fn}`||we))if(Z)!we&&Z--;else{let ve=G.startInner,xe=O.substr(ve,z.index-ve);G.body===void 0?(G.body=xe,G.startInner=z.index+z[0].length):G.elseBody=xe,G.find+=xe+z[0],we||(b.push(G),G=void 0)}else G.isBlock||b.push(G);if(oe&&!(G!=null&&G.isBlock))break}return b.forEach(re=>{let oe,le,{body:we,elseBody:ve,expression:xe,fn:Te}=re;if(Te){let Ne=[re],Pe=[],Ve=xe.length,Ye=0,tt;for(le=0;le<=Ve;le++){let Ze=xe.charAt(le);tt||Ze!=='"'&&Ze!=="'"?tt===Ze&&(tt=""):tt=Ze,tt||Ze!==" "&&le!==Ve||(Pe.push(xe.substr(Ye,le-Ye)),Ye=le+1)}for(le=Si[Te].length;le--;)Ne.unshift(R(Pe[le+1]));oe=Si[Te].apply(l,Ne),re.isBlock&&typeof oe=="boolean"&&(oe=ma(oe?we:ve,l,f))}else{let Ne=_o(xe)?[xe]:xe.split(":");if(oe=R(Ne.shift()||""),Ne.length&&typeof oe=="number"){let Pe=Ne.join(":");if(S.test(Pe)){let Ve=parseInt((Pe.match(_)||["","-1"])[1],10);oe!==null&&(oe=F(oe,Ve,E.decimalPoint,Pe.indexOf(",")>-1?E.thousandsSep:""))}else oe=I.dateFormat(Pe,oe)}v.lastIndex=0,v.test(re.find)&&Dc(oe)&&(oe=`"${oe}"`)}O=O.replace(re.find,cv(oe,""))}),ie?ma(O,l,f):O}function Vr(O,l,f,m){var ie;l*=1;let v,b,[S,_]=(O=+O||0).toString().split("e").map(Number),E=((ie=this==null?void 0:this.options)==null?void 0:ie.lang)||cf.lang,I=(O.toString().split(".")[1]||"").split("e")[0].length,F=l,R={};f??(f=E.decimalPoint),m??(m=E.thousandsSep),l===-1?l=Math.min(I,20):Mc(l)?l&&_<0&&((b=l+_)>=0?(S=+S.toExponential(b).split("e")[0],l=b):(S=Math.floor(S),O=l<20?+(S*Math.pow(10,_)).toFixed(l):0,_=0)):l=2,_&&(l??(l=2),O=S),Mc(l)&&l>=0&&(R.minimumFractionDigits=l,R.maximumFractionDigits=l),m===""&&(R.useGrouping=!1);let z=m||f,G=z?"en":(this==null?void 0:this.locale)||E.locale||uf,Z=JSON.stringify(R)+G;return v=(Nl[Z]??(Nl[Z]=new Intl.NumberFormat(G,R))).format(O),z&&(v=v.replace(/([,\.])/g,"_$1").replace(/_\,/g,m??",").replace("_.",f??".")),(l||+v!=0)&&(!(_<0)||F)||(v="0"),_&&+v!=0&&(v+="e"+(_<0?"":"+")+_),v}let Hn={dateFormat:function(O,l,f){return wi.dateFormat(O,l,f)},format:ma,helpers:Si,numberFormat:Vr};(function(O){let l;O.rendererTypes={},O.getRendererType=function(f=l){return O.rendererTypes[f]||O.rendererTypes[l]},O.registerRendererType=function(f,m,v){O.rendererTypes[f]=m,(!l||v)&&(l=f,V.Renderer=m)}})(s||(s={}));let rr=s,{clamp:Al,pick:Jp,pushUnique:ad,stableSort:od}=Le;(o||(o={})).distribute=function O(l,f,m){let v=l,b=v.reducedLen||f,S=(le,we)=>le.target-we.target,_=[],E=l.length,I=[],F=_.push,R,z,G,Z=!0,ie,ne,re=0,oe;for(R=E;R--;)re+=l[R].size;if(re>b){for(od(l,(le,we)=>(we.rank||0)-(le.rank||0)),G=(oe=l[0].rank===l[l.length-1].rank)?E/2:-1,z=oe?G:E-1;G&&re>b;)ie=l[R=Math.floor(z)],ad(I,R)&&(re-=ie.size),z+=G,oe&&z>=l.length&&(G/=2,z=G);I.sort((le,we)=>we-le).forEach(le=>F.apply(_,l.splice(le,1)))}for(od(l,S),l=l.map(le=>({size:le.size,targets:[le.target],align:Jp(le.align,.5)}));Z;){for(R=l.length;R--;)ie=l[R],ne=(Math.min.apply(0,ie.targets)+Math.max.apply(0,ie.targets))/2,ie.pos=Al(ne-ie.size*ie.align,0,f-ie.size);for(R=l.length,Z=!1;R--;)R>0&&l[R-1].pos+l[R-1].size>l[R].pos&&(l[R-1].size+=l[R].size,l[R-1].targets=l[R-1].targets.concat(l[R].targets),l[R-1].align=.5,l[R-1].pos+l[R-1].size>f&&(l[R-1].pos=f-l[R-1].size),l.splice(R,1),Z=!0)}return F.apply(v,_),R=0,l.some(le=>{let we=0;return(le.targets||[]).some(()=>(v[R].pos=le.pos+we,m!==void 0&&Math.abs(v[R].pos-v[R].target)>m?(v.slice(0,R+1).forEach(ve=>delete ve.pos),v.reducedLen=(v.reducedLen||f)-.1*f,v.reducedLen>.1*f&&O(v,f,m),!0):(we+=v[R].size,R++,!1)))}),od(v,S),v};let Lc=o,{animate:em,animObject:df,stop:ga}=kn,{deg2rad:ei,doc:_i,svg:ya,SVG_NS:va,win:Vs,isFirefox:Ka}=V,{addEvent:uv,attr:ld,createElement:Zi,crisp:cd,css:hf,defined:ti,erase:Fc,extend:kl,fireEvent:xs,getAlignFactor:bs,isArray:Ya,isFunction:jo,isNumber:an,isObject:dv,isString:ud,merge:No,objectEach:xa,pick:ws,pInt:ji,pushUnique:dd,replaceNested:Ji,syncTimeout:ff,uniqueKey:$c}=Le;class zr{_defaultGetter(l){let f=ws(this[l+"Value"],this[l],this.element?this.element.getAttribute(l):null,0);return/^-?[\d\.]+$/.test(f)&&(f=parseFloat(f)),f}_defaultSetter(l,f,m){m.setAttribute(f,l)}add(l){let f,m=this.renderer,v=this.element;return l&&(this.parentGroup=l),this.textStr!==void 0&&this.element.nodeName==="text"&&m.buildText(this),this.added=!0,(!l||l.handleZ||this.zIndex)&&(f=this.zIndexSetter()),f||(l?l.element:m.box).appendChild(v),this.onAdd&&this.onAdd(),this}addClass(l,f){let m=f?"":this.attr("class")||"";return(l=(l||"").split(/ /g).reduce(function(v,b){return m.indexOf(b)===-1&&v.push(b),v},m?[m]:[]).join(" "))!==m&&this.attr("class",l),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(l,f,m,v=!0){let b=this.renderer,S=b.alignedObjects,_=!!l;l?(this.alignOptions=l,this.alignByTranslate=f,this.alignTo=m):(l=this.alignOptions||{},f=this.alignByTranslate,m=this.alignTo);let E=!m||ud(m)?m||"renderer":void 0;E&&(_&&dd(S,this),m=void 0);let I=ws(m,b[E],b),F=(I.x||0)+(l.x||0)+((I.width||0)-(l.width||0))*bs(l.align),R=(I.y||0)+(l.y||0)+((I.height||0)-(l.height||0))*bs(l.verticalAlign),z={"text-align":l==null?void 0:l.align};return z[f?"translateX":"x"]=Math.round(F),z[f?"translateY":"y"]=Math.round(R),v&&(this[this.placed?"animate":"attr"](z),this.placed=!0),this.alignAttr=z,this}alignSetter(l){let f={left:"start",center:"middle",right:"end"};f[l]&&(this.alignValue=l,this.element.setAttribute("text-anchor",f[l]))}animate(l,f,m){let v=df(ws(f,this.renderer.globalAnimation,!0)),b=v.defer;return _i.hidden&&(v.duration=0),v.duration!==0?(m&&(v.complete=m),ff(()=>{this.element&&em(this,l,v)},b)):(this.attr(l,void 0,m||v.complete),xa(l,function(S,_){v.step&&v.step.call(this,S,{prop:_,pos:1,elem:this})},this)),this}applyTextOutline(l){let f=this.element;l.indexOf("contrast")!==-1&&(l=l.replace(/contrast/g,this.renderer.getContrast(f.style.fill)));let m=l.indexOf(" "),v=l.substring(m+1),b=l.substring(0,m);if(b&&b!=="none"&&V.svg){this.fakeTS=!0,b=b.replace(/(^[\d\.]+)(.*?)$/g,function(F,R,z){return 2*Number(R)+z}),this.removeTextOutline();let S=_i.createElementNS(va,"tspan");ld(S,{class:"highcharts-text-outline",fill:v,stroke:v,"stroke-width":b,"stroke-linejoin":"round"});let _=f.querySelector("textPath")||f;[].forEach.call(_.childNodes,F=>{let R=F.cloneNode(!0);R.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(z=>R.removeAttribute(z)),S.appendChild(R)});let E=0;[].forEach.call(_.querySelectorAll("text tspan"),F=>{E+=Number(F.getAttribute("dy"))});let I=_i.createElementNS(va,"tspan");I.textContent="​",ld(I,{x:Number(f.getAttribute("x")),dy:-E}),S.appendChild(I),_.insertBefore(S,_.firstChild)}}attr(l,f,m,v){let{element:b}=this,S=zr.symbolCustomAttribs,_,E,I=this,F;return typeof l=="string"&&f!==void 0&&(_=l,(l={})[_]=f),typeof l=="string"?I=(this[l+"Getter"]||this._defaultGetter).call(this,l,b):(xa(l,function(R,z){F=!1,v||ga(this,z),this.symbolName&&S.indexOf(z)!==-1&&(E||(this.symbolAttr(l),E=!0),F=!0),this.rotation&&(z==="x"||z==="y")&&(this.doTransform=!0),F||(this[z+"Setter"]||this._defaultSetter).call(this,R,z,b)},this),this.afterSetters()),m&&m.call(this),I}clip(l){if(l&&!l.clipPath){let f=$c()+"-",m=this.renderer.createElement("clipPath").attr({id:f}).add(this.renderer.defs);kl(l,{clipPath:m,id:f,count:0}),l.add(m)}return this.attr("clip-path",l?`url(${this.renderer.url}#${l.id})`:"none")}crisp(l,f){f=Math.round(f||l.strokeWidth||0);let m=l.x||this.x||0,v=l.y||this.y||0,b=(l.width||this.width||0)+m,S=(l.height||this.height||0)+v,_=cd(m,f),E=cd(v,f);return kl(l,{x:_,y:E,width:cd(b,f)-_,height:cd(S,f)-E}),ti(l.strokeWidth)&&(l.strokeWidth=f),l}complexColor(l,f,m){let v=this.renderer,b,S,_,E,I,F,R,z,G,Z,ie=[],ne;xs(this.renderer,"complexColor",{args:arguments},function(){if(l.radialGradient?S="radialGradient":l.linearGradient&&(S="linearGradient"),S){if(_=l[S],I=v.gradients,F=l.stops,G=m.radialReference,Ya(_)&&(l[S]=_={x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientUnits:"userSpaceOnUse"}),S==="radialGradient"&&G&&!ti(_.gradientUnits)&&(E=_,_=No(_,v.getRadialAttr(G,E),{gradientUnits:"userSpaceOnUse"})),xa(_,function(re,oe){oe!=="id"&&ie.push(oe,re)}),xa(F,function(re){ie.push(re)}),I[ie=ie.join(",")])Z=I[ie].attr("id");else{_.id=Z=$c();let re=I[ie]=v.createElement(S).attr(_).add(v.defs);re.radAttr=E,re.stops=[],F.forEach(function(oe){oe[1].indexOf("rgba")===0?(R=(b=Br.parse(oe[1])).get("rgb"),z=b.get("a")):(R=oe[1],z=1);let le=v.createElement("stop").attr({offset:oe[0],"stop-color":R,"stop-opacity":z}).add(re);re.stops.push(le)})}ne="url("+v.url+"#"+Z+")",m.setAttribute(f,ne),m.gradient=ie,l.toString=function(){return ne}}})}css(l){let f=this.styles,m={},v=this.element,b,S=!f;if(f&&xa(l,function(_,E){f&&f[E]!==_&&(m[E]=_,S=!0)}),S){f&&(l=kl(f,m)),l.width===null||l.width==="auto"?delete this.textWidth:v.nodeName.toLowerCase()==="text"&&l.width&&(b=this.textWidth=ji(l.width)),kl(this.styles,l),b&&!ya&&this.renderer.forExport&&delete l.width;let _=Ka&&l.fontSize||null;_&&(an(_)||/^\d+$/.test(_))&&(l.fontSize+="px");let E=No(l);v.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(I=>E&&delete E[I]),E.color&&(E.fill=E.color,delete E.color)),hf(v,E)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),l.textOutline&&this.applyTextOutline(l.textOutline)),this}dashstyleSetter(l){let f,m=this["stroke-width"];if(m==="inherit"&&(m=1),l){let v=(l=l.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(f=v.length;f--;)v[f]=""+ji(v[f])*ws(m,NaN);l=v.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",l)}}destroy(){let l=this,f=l.element||{},m=l.renderer,v=f.ownerSVGElement,b=f.nodeName==="SPAN"&&l.parentGroup||void 0,S,_;if(f.onclick=f.onmouseout=f.onmouseover=f.onmousemove=f.point=null,ga(l),l.clipPath&&v){let E=l.clipPath;[].forEach.call(v.querySelectorAll("[clip-path],[CLIP-PATH]"),function(I){I.getAttribute("clip-path").indexOf(E.element.id)>-1&&I.removeAttribute("clip-path")}),l.clipPath=E.destroy()}if(l.stops){for(_=0;_<l.stops.length;_++)l.stops[_].destroy();l.stops.length=0,l.stops=void 0}for(l.safeRemoveChild(f);b!=null&&b.div&&b.div.childNodes.length===0;)S=b.parentGroup,l.safeRemoveChild(b.div),delete b.div,b=S;l.alignOptions&&Fc(m.alignedObjects,l),xa(l,(E,I)=>{var F,R,z;(((F=l[I])==null?void 0:F.parentGroup)===l||["connector","foreignObject"].indexOf(I)!==-1)&&((z=(R=l[I])==null?void 0:R.destroy)==null||z.call(R)),delete l[I]})}dSetter(l,f,m){Ya(l)&&(typeof l[0]=="string"&&(l=this.renderer.pathToSegments(l)),this.pathArray=l,l=l.reduce((v,b,S)=>b!=null&&b.join?(S?v+" ":"")+b.join(" "):(b||"").toString(),"")),/(NaN| {2}|^$)/.test(l)&&(l="M 0 0"),this[f]!==l&&(m.setAttribute(f,l),this[f]=l)}fillSetter(l,f,m){typeof l=="string"?m.setAttribute(f,l):l&&this.complexColor(l,f,m)}hrefSetter(l,f,m){m.setAttributeNS("http://www.w3.org/1999/xlink",f,l)}getBBox(l,f){let m,v,b,S,{alignValue:_,element:E,renderer:I,styles:F,textStr:R}=this,{cache:z,cacheKeys:G}=I,Z=E.namespaceURI===this.SVG_NS,ie=ws(f,this.rotation,0),ne=I.styledMode?E&&zr.prototype.getStyle.call(E,"font-size"):F.fontSize;if(ti(R)&&((S=R.toString()).indexOf("<")===-1&&(S=S.replace(/\d/g,"0")),S+=["",I.rootFontSize,ne,ie,this.textWidth,_,F.lineClamp,F.textOverflow,F.fontWeight].join(",")),S&&!l&&(m=z[S]),!m||m.polygon){if(Z||I.forExport){try{b=this.fakeTS&&function(oe){let le=E.querySelector(".highcharts-text-outline");le&&hf(le,{display:oe})},jo(b)&&b("none"),m=E.getBBox?kl({},E.getBBox()):{width:E.offsetWidth,height:E.offsetHeight,x:0,y:0},jo(b)&&b("")}catch{}(!m||m.width<0)&&(m={x:0,y:0,width:0,height:0})}else m=this.htmlGetBBox();v=m.height,Z&&(m.height=v={"11px,17":14,"13px,20":16}[`${ne||""},${Math.round(v)}`]||v),ie&&(m=this.getRotatedBox(m,ie));let re={bBox:m};xs(this,"afterGetBBox",re),m=re.bBox}if(S&&(R===""||m.height>0)){for(;G.length>250;)delete z[G.shift()];z[S]||G.push(S),z[S]=m}return m}getRotatedBox(l,f){let{x:m,y:v,width:b,height:S}=l,{alignValue:_,translateY:E,rotationOriginX:I=0,rotationOriginY:F=0}=this,R=bs(_),z=Number(this.element.getAttribute("y")||0)-(E?0:v),G=f*ei,Z=(f-90)*ei,ie=Math.cos(G),ne=Math.sin(G),re=b*ie,oe=b*ne,le=Math.cos(Z),we=Math.sin(Z),[[ve,xe],[Te,Ne]]=[I,F].map(fr=>[fr-fr*ie,fr*ne]),Pe=m+R*(b-re)+ve+Ne+z*le,Ve=Pe+re,Ye=Ve-S*le,tt=Ye-re,Ze=v+z-R*oe-xe+Te+z*we,lt=Ze+oe,ot=lt-S*we,Rt=ot-oe,ut=Math.min(Pe,Ve,Ye,tt),It=Math.min(Ze,lt,ot,Rt),or=Math.max(Pe,Ve,Ye,tt)-ut,nr=Math.max(Ze,lt,ot,Rt)-It;return{x:ut,y:It,width:or,height:nr,polygon:[[Pe,Ze],[Ve,lt],[Ye,ot],[tt,Rt]]}}getStyle(l){return Vs.getComputedStyle(this.element||this,"").getPropertyValue(l)}hasClass(l){return(""+this.attr("class")).split(" ").indexOf(l)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(l,f){this.onEvents={},this.opacity=1,this.SVG_NS=va,this.element=f==="span"||f==="body"?Zi(f):_i.createElementNS(this.SVG_NS,f),this.renderer=l,this.styles={},xs(this,"afterInit")}on(l,f){let{onEvents:m}=this;return m[l]&&m[l](),m[l]=uv(this.element,l,f),this}opacitySetter(l,f,m){let v=Number(Number(l).toFixed(3));this.opacity=v,m.setAttribute(f,v)}reAlign(){var l;(l=this.alignOptions)!=null&&l.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(l){return this.attr("class",(""+this.attr("class")).replace(ud(l)?RegExp(`(^| )${l}( |$)`):l," ").replace(/ +/g," ").trim())}removeTextOutline(){let l=this.element.querySelector("tspan.highcharts-text-outline");l&&this.safeRemoveChild(l)}safeRemoveChild(l){let f=l.parentNode;f&&f.removeChild(l)}setRadialReference(l){let f=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=l,f!=null&&f.radAttr&&f.animate(this.renderer.getRadialAttr(l,f.radAttr)),this}shadow(l){var b;let{renderer:f}=this,m=No(((b=this.parentGroup)==null?void 0:b.rotation)===90?{offsetX:-1,offsetY:-1}:{},dv(l)?l:{}),v=f.shadowDefinition(m);return this.attr({filter:l?`url(${f.url}#${v})`:"none"})}show(l=!0){return this.attr({visibility:l?"inherit":"visible"})}"stroke-widthSetter"(l,f,m){this[f]=l,m.setAttribute(f,l)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let l=this.getStyle("stroke-width"),f=0,m;return/px$/.test(l)?f=ji(l):l!==""&&(ld(m=_i.createElementNS(va,"rect"),{width:l,"stroke-width":0}),this.element.parentNode.appendChild(m),f=m.getBBox().width,m.parentNode.removeChild(m)),f}symbolAttr(l){let f=this;zr.symbolCustomAttribs.forEach(function(m){f[m]=ws(l[m],f[m])}),f.attr({d:f.renderer.symbols[f.symbolName](f.x,f.y,f.width,f.height,f)})}textSetter(l){l!==this.textStr&&(delete this.textPxLength,this.textStr=l,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(l){let f=this.element,m=f.getElementsByTagName("title")[0]||_i.createElementNS(this.SVG_NS,"title");f.insertBefore?f.insertBefore(m,f.firstChild):f.appendChild(m),m.textContent=Ji(ws(l,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let l=this.element;return l.parentNode.appendChild(l),this}translate(l,f){return this.attr({translateX:l,translateY:f})}updateTransform(l="transform"){let{element:f,foreignObject:m,matrix:v,padding:b,rotation:S=0,rotationOriginX:_,rotationOriginY:E,scaleX:I,scaleY:F,text:R,translateX:z=0,translateY:G=0}=this,Z=["translate("+z+","+G+")"];ti(v)&&Z.push("matrix("+v.join(",")+")"),S&&(Z.push("rotate("+S+" "+(_??f.getAttribute("x")??this.x??0)+" "+(E??f.getAttribute("y")??this.y??0)+")"),(R==null?void 0:R.element.tagName)!=="SPAN"||R!=null&&R.foreignObject||R.attr({rotation:S,rotationOriginX:(_||0)-b,rotationOriginY:(E||0)-b})),(ti(I)||ti(F))&&Z.push("scale("+ws(I,1)+" "+ws(F,1)+")"),Z.length&&!(R||this).textPath&&((m==null?void 0:m.element)||f).setAttribute(l,Z.join(" "))}visibilitySetter(l,f,m){l==="inherit"?m.removeAttribute(f):this[f]!==l&&m.setAttribute(f,l),this[f]=l}xGetter(l){return this.element.nodeName==="circle"&&(l==="x"?l="cx":l==="y"&&(l="cy")),this._defaultGetter(l)}zIndexSetter(l,f){let m=this.renderer,v=this.parentGroup,b=(v||m).element||m.box,S=this.element,_=b===m.box,E,I,F,R=!1,z,G=this.added,Z;if(ti(l)?(S.setAttribute("data-z-index",l),l*=1,this[f]===l&&(G=!1)):ti(this[f])&&S.removeAttribute("data-z-index"),this[f]=l,G){for((l=this.zIndex)&&v&&(v.handleZ=!0),Z=(E=b.childNodes).length-1;Z>=0&&!R;Z--)z=!ti(F=(I=E[Z]).getAttribute("data-z-index")),I!==S&&(l<0&&z&&!_&&!Z?(b.insertBefore(S,E[Z]),R=!0):(ji(F)<=l||z&&(!ti(l)||l>=0))&&(b.insertBefore(S,E[Z+1]),R=!0));R||(b.insertBefore(S,E[3*!!_]),R=!0)}return R}}zr.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],zr.prototype.strokeSetter=zr.prototype.fillSetter,zr.prototype.yGetter=zr.prototype.xGetter,zr.prototype.matrixSetter=zr.prototype.rotationOriginXSetter=zr.prototype.rotationOriginYSetter=zr.prototype.rotationSetter=zr.prototype.scaleXSetter=zr.prototype.scaleYSetter=zr.prototype.translateXSetter=zr.prototype.translateYSetter=zr.prototype.verticalAlignSetter=function(O,l){this[l]=O,this.doTransform=!0};let es=zr,{defined:ri,extend:ba,getAlignFactor:Bc,isNumber:ts,merge:hv,pick:Ao,removeEvent:Xa}=Le;class rs extends es{constructor(l,f,m,v,b,S,_,E,I,F){let R;super(l,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=f,this.x=m,this.y=v,this.anchorX=S,this.anchorY=_,this.baseline=I,this.className=F,this.addClass(F==="button"?"highcharts-no-tooltip":"highcharts-label"),F&&this.addClass("highcharts-"+F),this.text=l.text(void 0,0,0,E).attr({zIndex:1}),typeof b=="string"&&((R=/^url\((.*?)\)$/.test(b))||this.renderer.symbols[b])&&(this.symbolKey=b),this.bBox=rs.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=l.styledMode||R,this.deferredAttr={},this.alignFactor=0}alignSetter(l){let f=Bc(l);this.textAlign=l,f!==this.alignFactor&&(this.alignFactor=f,this.bBox&&ts(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(l,f){this.anchorX=l,this.boxAttr(f,Math.round(l)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(l,f){this.anchorY=l,this.boxAttr(f,l-this.ySetting)}boxAttr(l,f){this.box?this.box.attr(l,f):this.deferredAttr[l]=f}css(l){if(l){let f={};l=hv(l),rs.textProps.forEach(m=>{l[m]!==void 0&&(f[m]=l[m],delete l[m])}),this.text.css(f),"fontSize"in f||"fontWeight"in f?this.updateTextPadding():("width"in f||"textOverflow"in f)&&this.updateBoxSize()}return es.prototype.css.call(this,l)}destroy(){Xa(this.element,"mouseenter"),Xa(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),es.prototype.destroy.call(this)}fillSetter(l,f){l&&(this.needsBox=!0),this.fill=l,this.boxAttr(f,l)}getBBox(l,f){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:m,height:v=0,translateX:b=0,translateY:S=0,width:_=0}=this,E=Ao(this.paddingLeft,m),I=f??(this.rotation||0),F={width:_,height:v,x:b+this.bBox.x-E,y:S+this.bBox.y-m+this.baselineOffset};return I&&(F=this.getRotatedBox(F,I)),F}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(l){this.heightSetting=l,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Ao(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&ri(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(l,f){ts(l)?l!==this[f]&&(this[f]=l,this.updateTextPadding()):this[f]=void 0}rSetter(l,f){this.boxAttr(f,l)}strokeSetter(l,f){this.stroke=l,this.boxAttr(f,l)}"stroke-widthSetter"(l,f){l&&(this.needsBox=!0),this["stroke-width"]=l,this.boxAttr(f,l)}"text-alignSetter"(l){this.textAlign=this["text-align"]=l,this.updateTextPadding()}textSetter(l){l!==void 0&&this.text.attr({text:l}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let l,f=this.text,m={},v=this.padding,b=this.bBox=(!ts(this.widthSetting)||!ts(this.heightSetting)||this.textAlign)&&ri(f.textStr)?f.getBBox(void 0,0):rs.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||b.height||0)+2*v;let S=this.renderer.fontMetrics(f);if(this.baselineOffset=v+Math.min((this.text.firstLineMetrics||S).b,b.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-S.h)/2),this.needsBox&&!f.textPath){if(!this.box){let _=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();_.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),_.add(this)}m.x=l=this.getCrispAdjust(),m.y=(this.baseline?-this.baselineOffset:0)+l,m.width=Math.round(this.width),m.height=Math.round(this.height),this.box.attr(ba(m,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let l=this.text,f=l.styles.textAlign||this.textAlign;if(!l.textPath){this.updateBoxSize();let m=this.baseline?0:this.baselineOffset,v=(this.paddingLeft??this.padding)+Bc(f)*(this.widthSetting??this.bBox.width);(v!==l.x||m!==l.y)&&(l.attr({align:f,x:v}),m!==void 0&&l.attr("y",m)),l.x=v,l.y=m}}widthSetter(l){this.widthSetting=ts(l)?l:void 0,this.doUpdate=!0}getPaddedWidth(){let l=this.padding,f=Ao(this.paddingLeft,l),m=Ao(this.paddingRight,l);return(this.widthSetting||this.bBox.width||0)+f+m}xSetter(l){this.x=l,this.alignFactor&&(l-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(l),this.attr("translateX",this.xSetting)}ySetter(l){this.ySetting=this.y=Math.round(l),this.attr("translateY",this.ySetting)}}rs.emptyBBox={width:0,height:0,x:0,y:0},rs.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:El,isNumber:hd,pick:ko}=Le;function pf(O,l,f,m,v){let b=[];if(v){let S=v.start||0,_=v.end||0,E=ko(v.r,f),I=ko(v.r,m||f),F=2e-4/(v.borderRadius?1:Math.max(E,1)),R=Math.abs(_-S-2*Math.PI)<F;R&&(S=Math.PI/2,_=2.5*Math.PI-F);let z=v.innerR,G=ko(v.open,R),Z=Math.cos(S),ie=Math.sin(S),ne=Math.cos(_),re=Math.sin(_),oe=ko(v.longArc,_-S-Math.PI<F?0:1),le=["A",E,I,0,oe,ko(v.clockwise,1),O+E*ne,l+I*re];le.params={start:S,end:_,cx:O,cy:l},b.push(["M",O+E*Z,l+I*ie],le),El(z)&&((le=["A",z,z,0,oe,El(v.clockwise)?1-v.clockwise:0,O+z*Z,l+z*ie]).params={start:_,end:S,cx:O,cy:l},b.push(G?["M",O+z*ne,l+z*re]:["L",O+z*ne,l+z*re],le)),G||b.push(["Z"])}return b}function Vc(O,l,f,m,v){return v!=null&&v.r?Tl(O,l,f,m,v):[["M",O,l],["L",O+f,l],["L",O+f,l+m],["L",O,l+m],["Z"]]}function Tl(O,l,f,m,v){let b=(v==null?void 0:v.r)||0;return[["M",O+b,l],["L",O+f-b,l],["A",b,b,0,0,1,O+f,l+b],["L",O+f,l+m-b],["A",b,b,0,0,1,O+f-b,l+m],["L",O+b,l+m],["A",b,b,0,0,1,O,l+m-b],["L",O,l+b],["A",b,b,0,0,1,O+b,l],["Z"]]}let mf={arc:pf,callout:function(O,l,f,m,v){let b=Math.min((v==null?void 0:v.r)||0,f,m),S=b+6,_=v==null?void 0:v.anchorX,E=(v==null?void 0:v.anchorY)||0,I=Tl(O,l,f,m,{r:b});if(!hd(_)||_<f&&_>0&&E<m&&E>0)return I;if(O+_>f-S)if(E>l+S&&E<l+m-S)I.splice(3,1,["L",O+f,E-6],["L",O+f+6,E],["L",O+f,E+6],["L",O+f,l+m-b]);else if(_<f){let F=E<l+S,R=F?l:l+m;I.splice(F?2:5,0,["L",_,E],["L",O+f-b,R])}else I.splice(3,1,["L",O+f,m/2],["L",_,E],["L",O+f,m/2],["L",O+f,l+m-b]);else if(O+_<S)if(E>l+S&&E<l+m-S)I.splice(7,1,["L",O,E+6],["L",O-6,E],["L",O,E-6],["L",O,l+b]);else if(_>0){let F=E<l+S,R=F?l:l+m;I.splice(F?1:6,0,["L",_,E],["L",O+b,R])}else I.splice(7,1,["L",O,m/2],["L",_,E],["L",O,m/2],["L",O,l+b]);else E>m&&_<f-S?I.splice(5,1,["L",_+6,l+m],["L",_,l+m+6],["L",_-6,l+m],["L",O+b,l+m]):E<0&&_>S&&I.splice(1,1,["L",_-6,l],["L",_,l-6],["L",_+6,l],["L",f-b,l]);return I},circle:function(O,l,f,m){return pf(O+f/2,l+m/2,f/2,m/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(O,l,f,m){return[["M",O+f/2,l],["L",O+f,l+m/2],["L",O+f/2,l+m],["L",O,l+m/2],["Z"]]},rect:Vc,roundedRect:Tl,square:Vc,triangle:function(O,l,f,m){return[["M",O+f/2,l],["L",O+f,l+m],["L",O,l+m],["Z"]]},"triangle-down":function(O,l,f,m){return[["M",O,l],["L",O+f,l],["L",O+f/2,l+m],["Z"]]}},{doc:wa,SVG_NS:tm,win:gf}=V,{attr:fd,extend:yf,fireEvent:pd,isString:Fi,objectEach:rm,pick:nm}=Le,zs=(O,l)=>O.substring(0,l)+"…",j=class{constructor(O){let l=O.styles;this.renderer=O.renderer,this.svgElement=O,this.width=O.textWidth,this.textLineHeight=l==null?void 0:l.lineHeight,this.textOutline=l==null?void 0:l.textOutline,this.ellipsis=(l==null?void 0:l.textOverflow)==="ellipsis",this.lineClamp=l==null?void 0:l.lineClamp,this.noWrap=(l==null?void 0:l.whiteSpace)==="nowrap"}buildSVG(){let O=this.svgElement,l=O.element,f=O.renderer,m=nm(O.textStr,"").toString(),v=m.indexOf("<")!==-1,b=l.childNodes,S=!O.added&&f.box,_=[m,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,O.getStyle("font-size"),O.styles.lineClamp,this.width].join(",");if(_!==O.textCache){O.textCache=_,delete O.actualWidth;for(let E=b.length;E--;)l.removeChild(b[E]);if(v||this.ellipsis||this.width||O.textPath||m.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(m))){if(m!==""){S&&S.appendChild(l);let E=new cr(m);this.modifyTree(E.nodes),E.addToDOM(l),this.modifyDOM(),this.ellipsis&&(l.textContent||"").indexOf("…")!==-1&&O.attr("title",this.unescapeEntities(O.textStr||"",["&lt;","&gt;"])),S&&S.removeChild(l)}}else l.appendChild(wa.createTextNode(this.unescapeEntities(m)));Fi(this.textOutline)&&O.applyTextOutline&&O.applyTextOutline(this.textOutline)}}modifyDOM(){let O,l=this.svgElement,f=fd(l.element,"x");for(l.firstLineMetrics=void 0;(O=l.element.firstChild)&&/^[\s\u200B]*$/.test(O.textContent||" ");)l.element.removeChild(O);[].forEach.call(l.element.querySelectorAll("tspan.highcharts-br"),(S,_)=>{S.nextSibling&&S.previousSibling&&(_===0&&S.previousSibling.nodeType===1&&(l.firstLineMetrics=l.renderer.fontMetrics(S.previousSibling)),fd(S,{dy:this.getLineHeight(S.nextSibling),x:f}))});let m=this.width||0;if(!m)return;let v=(S,_)=>{var ie;let E=S.textContent||"",I=E.replace(/([^\^])-/g,"$1- ").split(" "),F=!this.noWrap&&(I.length>1||l.element.childNodes.length>1),R=this.getLineHeight(_),z=Math.max(0,m-.8*R),G=0,Z=l.actualWidth;if(F){let ne=[],re=[];for(;_.firstChild&&_.firstChild!==S;)re.push(_.firstChild),_.removeChild(_.firstChild);for(;I.length;)if(I.length&&!this.noWrap&&G>0&&(ne.push(S.textContent||""),S.textContent=I.join(" ").replace(/- /g,"-")),this.truncate(S,void 0,I,G===0&&Z||0,m,z,(oe,le)=>I.slice(0,le).join(" ").replace(/- /g,"-")),Z=l.actualWidth,G++,this.lineClamp&&G>=this.lineClamp){I.length&&(this.truncate(S,S.textContent||"",void 0,0,m,z,zs),S.textContent=((ie=S.textContent)==null?void 0:ie.replace("…",""))+"…");break}re.forEach(oe=>{_.insertBefore(oe,S)}),ne.forEach(oe=>{_.insertBefore(wa.createTextNode(oe),S);let le=wa.createElementNS(tm,"tspan");le.textContent="​",fd(le,{dy:R,x:f}),_.insertBefore(le,S)})}else this.ellipsis&&E&&this.truncate(S,E,void 0,0,m,z,zs)},b=S=>{[].slice.call(S.childNodes).forEach(_=>{_.nodeType===gf.Node.TEXT_NODE?v(_,S):(_.className.baseVal.indexOf("highcharts-br")!==-1&&(l.actualWidth=0),b(_))})};b(l.element)}getLineHeight(O){let l=O.nodeType===gf.Node.TEXT_NODE?O.parentElement:O;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(l||this.svgElement.element).h}modifyTree(O){let l=(f,m)=>{let{attributes:v={},children:b,style:S={},tagName:_}=f,E=this.renderer.styledMode;if(_==="b"||_==="strong"?E?v.class="highcharts-strong":S.fontWeight="bold":(_==="i"||_==="em")&&(E?v.class="highcharts-emphasized":S.fontStyle="italic"),S!=null&&S.color&&(S.fill=S.color),_==="br"){v.class="highcharts-br",f.textContent="​";let I=O[m+1];I!=null&&I.textContent&&(I.textContent=I.textContent.replace(/^ +/gm,""))}else _==="a"&&b&&b.some(I=>I.tagName==="#text")&&(f.children=[{children:b,tagName:"tspan"}]);_!=="#text"&&_!=="a"&&(f.tagName="tspan"),yf(f,{attributes:v,style:S}),b&&b.filter(I=>I.tagName!=="#text").forEach(l)};O.forEach(l),pd(this.svgElement,"afterModifyTree",{nodes:O})}truncate(O,l,f,m,v,b,S){let _,E,I=this.svgElement,{rotation:F}=I,R=[],z=f&&!m?1:0,G=(l||f||"").length,Z=G;f||(v=b);let ie=function(ne,re){let oe=re||ne,le=O.parentNode;if(le&&R[oe]===void 0&&le.getSubStringLength)try{R[oe]=m+le.getSubStringLength(0,f?oe+1:oe)}catch{}return R[oe]};if(I.rotation=0,m+(E=ie(O.textContent.length))>v){for(;z<=G;)Z=Math.ceil((z+G)/2),f&&(_=S(f,Z)),E=ie(Z,_&&_.length-1),z===G?z=G+1:E>v?G=Z-1:z=Z;G===0?O.textContent="":l&&G===l.length-1||(O.textContent=_||S(l||f,Z)),this.ellipsis&&E>v&&this.truncate(O,O.textContent||"",void 0,0,v,b,zs)}f&&f.splice(0,Z),I.actualWidth=E,I.rotation=F}unescapeEntities(O,l){return rm(this.renderer.escapes,function(f,m){l&&l.indexOf(f)!==-1||(O=O.toString().replace(RegExp(f,"g"),m))}),O}},{defaultOptions:H}=Gt,{charts:te,deg2rad:fe,doc:Ee,isFirefox:$e,isMS:st,isWebKit:Or,noop:Wn,SVG_NS:xr,symbolSizes:Mn,win:Sn}=V,{addEvent:$i,attr:Ni,createElement:zc,crisp:Uc,css:vf,defined:Cl,destroyObjectProperties:T0,extend:Us,isArray:hN,isNumber:md,isObject:xf,isString:C0,merge:im,pick:qc,pInt:bf,replaceNested:fN,uniqueKey:sm}=Le;class am{constructor(l,f,m,v,b,S,_){let E,I;this.x=0,this.y=0;let F=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),R=F.element;_||F.css(this.getStyle(v||{})),l.appendChild(R),Ni(l,"dir","ltr"),l.innerHTML.indexOf("xmlns")===-1&&Ni(R,"xmlns",this.SVG_NS),this.box=R,this.boxWrapper=F,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Ee.createTextNode("Created with Highcharts 12.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=S,this.forExport=b,this.styledMode=_,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=F.getStyle("font-size"),this.setSize(f,m,!1),$e&&l.getBoundingClientRect&&((E=function(){vf(l,{left:0,top:0}),I=l.getBoundingClientRect(),vf(l,{left:Math.ceil(I.left)-I.left+"px",top:Math.ceil(I.top)-I.top+"px"})})(),this.unSubPixelFix=$i(Sn,"resize",E))}definition(l){return new cr([l]).addToDOM(this.defs.element)}getReferenceURL(){if(($e||Or)&&Ee.getElementsByTagName("base").length){if(!Cl(n)){let l=sm(),f=new cr([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:l},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${l})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Ee.body);vf(f,{position:"fixed",top:0,left:0,zIndex:9e5});let m=Ee.elementFromPoint(6,6);n=(m==null?void 0:m.id)==="hitme",Ee.body.removeChild(f)}if(n)return fN(Sn.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(l){return this.style=Us({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},l),this.style}setStyle(l){this.boxWrapper.css(this.getStyle(l))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let l=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),T0(this.gradients||{}),this.gradients=null,this.defs=l.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(l){return new this.Element(this,l)}getRadialAttr(l,f){return{cx:l[0]-l[2]/2+(f.cx||0)*l[2],cy:l[1]-l[2]/2+(f.cy||0)*l[2],r:(f.r||0)*l[2]}}shadowDefinition(l){let f=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(l).map(v=>`${v}-${l[v]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),m=im({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},l);return this.defs.element.querySelector(`#${f}`)||this.definition({tagName:"filter",attributes:{id:f,filterUnits:m.filterUnits},children:this.getShadowFilterContent(m)}),f}getShadowFilterContent(l){return[{tagName:"feDropShadow",attributes:{dx:l.offsetX,dy:l.offsetY,"flood-color":l.color,"flood-opacity":Math.min(5*l.opacity,1),stdDeviation:l.width/2}}]}buildText(l){new j(l).buildSVG()}getContrast(l){let f=Br.parse(l).rgba,m=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(md(f[0])||!Br.useColorMix){let v=f.map(S=>{let _=S/255;return _<=.04?_/12.92:Math.pow((_+.055)/1.055,2.4)}),b=.2126*v[0]+.7152*v[1]+.0722*v[2];return 1.05/(b+.05)>(b+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+l+" srgb"+m+m+m+")"}button(l,f,m,v,b={},S,_,E,I,F){let R=this.label(l,f,m,I,void 0,void 0,F,void 0,"button"),z=this.styledMode,G=arguments,Z=0;b=im(H.global.buttonTheme,b),z&&(delete b.fill,delete b.stroke,delete b["stroke-width"]);let ie=b.states||{},ne=b.style||{};delete b.states,delete b.style;let re=[cr.filterUserAttributes(b)],oe=[ne];return z||["hover","select","disabled"].forEach((le,we)=>{re.push(im(re[0],cr.filterUserAttributes(G[we+5]||ie[le]||{}))),oe.push(re[we+1].style),delete re[we+1].style}),$i(R.element,st?"mouseover":"mouseenter",function(){Z!==3&&R.setState(1)}),$i(R.element,st?"mouseout":"mouseleave",function(){Z!==3&&R.setState(Z)}),R.setState=(le=0)=>{if(le!==1&&(R.state=Z=le),R.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][le]),!z){R.attr(re[le]);let we=oe[le];xf(we)&&R.css(we)}},R.attr(re[0]),!z&&(R.css(Us({cursor:"default"},ne)),F&&R.text.css({pointerEvents:"none"})),R.on("touchstart",le=>le.stopPropagation()).on("click",function(le){Z!==3&&(v==null||v.call(R,le))})}crispLine(l,f){let[m,v]=l;return Cl(m[1])&&m[1]===v[1]&&(m[1]=v[1]=Uc(m[1],f)),Cl(m[2])&&m[2]===v[2]&&(m[2]=v[2]=Uc(m[2],f)),l}path(l){let f=this.styledMode?{}:{fill:"none"};return hN(l)?f.d=l:xf(l)&&Us(f,l),this.createElement("path").attr(f)}circle(l,f,m){let v=xf(l)?l:l===void 0?{}:{x:l,y:f,r:m},b=this.createElement("circle");return b.xSetter=b.ySetter=function(S,_,E){E.setAttribute("c"+_,S)},b.attr(v)}arc(l,f,m,v,b,S){let _;xf(l)?(f=(_=l).y,m=_.r,v=_.innerR,b=_.start,S=_.end,l=_.x):_={innerR:v,start:b,end:S};let E=this.symbol("arc",l,f,m,m,_);return E.r=m,E}rect(l,f,m,v,b,S){let _=xf(l)?l:l===void 0?{}:{x:l,y:f,r:b,width:Math.max(m||0,0),height:Math.max(v||0,0)},E=this.createElement("rect");return this.styledMode||(S!==void 0&&(_["stroke-width"]=S,Us(_,E.crisp(_))),_.fill="none"),E.rSetter=function(I,F,R){E.r=I,Ni(R,{rx:I,ry:I})},E.rGetter=function(){return E.r||0},E.attr(_)}roundedRect(l){return this.symbol("roundedRect").attr(l)}setSize(l,f,m){this.width=l,this.height=f,this.boxWrapper.animate({width:l,height:f},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:qc(m,!0)?void 0:0}),this.alignElements()}g(l){let f=this.createElement("g");return l?f.attr({class:"highcharts-"+l}):f}image(l,f,m,v,b,S){let _={preserveAspectRatio:"none"};md(f)&&(_.x=f),md(m)&&(_.y=m),md(v)&&(_.width=v),md(b)&&(_.height=b);let E=this.createElement("image").attr(_),I=function(F){E.attr({href:l}),S.call(E,F)};if(S){E.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let F=new Sn.Image;$i(F,"load",I),F.src=l,F.complete&&I({})}else E.attr({href:l});return E}symbol(l,f,m,v,b,S){var ne,re;let _,E,I,F,R=this,z=/^url\((.*?)\)$/,G=z.test(l),Z=!G&&(this.symbols[l]?l:"circle"),ie=Z&&this.symbols[Z];if(ie)typeof f=="number"&&(E=ie.call(this.symbols,f||0,m||0,v||0,b||0,S)),_=this.path(E),R.styledMode||_.attr("fill","none"),Us(_,{symbolName:Z||void 0,x:f,y:m,width:v,height:b}),S&&Us(_,S);else if(G){I=l.match(z)[1];let oe=_=this.image(I);oe.imgwidth=qc(S==null?void 0:S.width,(ne=Mn[I])==null?void 0:ne.width),oe.imgheight=qc(S==null?void 0:S.height,(re=Mn[I])==null?void 0:re.height),F=le=>le.attr({width:le.width,height:le.height}),["width","height"].forEach(le=>{oe[`${le}Setter`]=function(we,ve){this[ve]=we;let{alignByTranslate:xe,element:Te,width:Ne,height:Pe,imgwidth:Ve,imgheight:Ye}=this,tt=ve==="width"?Ve:Ye,Ze=1;S&&S.backgroundSize==="within"&&Ne&&Pe&&Ve&&Ye?(Ze=Math.min(Ne/Ve,Pe/Ye),Ni(Te,{width:Math.round(Ve*Ze),height:Math.round(Ye*Ze)})):Te&&tt&&Te.setAttribute(ve,tt),!xe&&Ve&&Ye&&this.translate(((Ne||0)-Ve*Ze)/2,((Pe||0)-Ye*Ze)/2)}}),Cl(f)&&oe.attr({x:f,y:m}),oe.isImg=!0,oe.symbolUrl=l,Cl(oe.imgwidth)&&Cl(oe.imgheight)?F(oe):(oe.attr({width:0,height:0}),zc("img",{onload:function(){let le=te[R.chartIndex];this.width===0&&(vf(this,{position:"absolute",top:"-999em"}),Ee.body.appendChild(this)),Mn[I]={width:this.width,height:this.height},oe.imgwidth=this.width,oe.imgheight=this.height,oe.element&&F(oe),this.parentNode&&this.parentNode.removeChild(this),R.imgCount--,R.imgCount||!le||le.hasLoaded||le.onload()},src:I}),this.imgCount++)}return _}clipRect(l,f,m,v){return this.rect(l,f,m,v,0)}text(l,f,m,v){let b={};if(v&&(this.allowHTML||!this.forExport))return this.html(l,f,m);b.x=Math.round(f||0),m&&(b.y=Math.round(m)),Cl(l)&&(b.text=l);let S=this.createElement("text").attr(b);return v&&(!this.forExport||this.allowHTML)||(S.xSetter=function(_,E,I){let F=I.getElementsByTagName("tspan"),R=I.getAttribute(E);for(let z=0,G;z<F.length;z++)(G=F[z]).getAttribute(E)===R&&G.setAttribute(E,_);I.setAttribute(E,_)}),S}fontMetrics(l){let f=bf(es.prototype.getStyle.call(l,"font-size")||0),m=f<24?f+3:Math.round(1.2*f),v=Math.round(.8*m);return{h:m,b:v,f}}rotCorr(l,f,m){let v=l;return f&&m&&(v=Math.max(v*Math.cos(f*fe),4)),{x:-l/3*Math.sin(f*fe),y:v}}pathToSegments(l){let f=[],m=[],v={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let b=0;b<l.length;b++)C0(m[0])&&md(l[b])&&m.length===v[m[0].toUpperCase()]&&l.splice(b,0,m[0].replace("M","L").replace("m","l")),typeof l[b]=="string"&&(m.length&&f.push(m.slice(0)),m.length=0),m.push(l[b]);return f.push(m.slice(0)),f}label(l,f,m,v,b,S,_,E,I){return new rs(this,l,f,m,v,b,S,_,E,I)}alignElements(){this.alignedObjects.forEach(l=>l.align())}}Us(am.prototype,{Element:es,SVG_NS:xr,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:mf,draw:Wn}),rr.registerRendererType("svg",am,!0);let{composed:P0,isFirefox:fv}=V,{attr:pv,css:Eo,createElement:I0,defined:mv,extend:pN,getAlignFactor:mN,isNumber:om,pInt:gN,pushUnique:yN}=Le;function qs(O,l,f){var v;let m=((v=this.div)==null?void 0:v.style)||f.style;es.prototype[`${l}Setter`].call(this,O,l,f),m&&(m[l]=O)}let wf=(O,l)=>{var f;if(!O.div){let m=pv(O.element,"class"),v=O.css,b=I0("div",m?{className:m}:void 0,{position:"absolute",left:`${O.translateX||0}px`,top:`${O.translateY||0}px`,...O.styles,display:O.display,opacity:O.opacity,visibility:O.visibility},((f=O.parentGroup)==null?void 0:f.div)||l);O.classSetter=(S,_,E)=>{E.setAttribute("class",S),b.className=S},O.translateXSetter=O.translateYSetter=(S,_)=>{O[_]=S,b.style[_==="translateX"?"left":"top"]=`${S}px`,O.doTransform=!0},O.opacitySetter=O.visibilitySetter=qs,O.css=S=>(v.call(O,S),S.cursor&&(b.style.cursor=S.cursor),S.pointerEvents&&(b.style.pointerEvents=S.pointerEvents),O),O.on=function(){return es.prototype.on.apply({element:b,onEvents:O.onEvents},arguments),O},O.div=b}return O.div};class Hc extends es{static compose(l){yN(P0,this.compose)&&(l.prototype.html=function(f,m,v){return new Hc(this,"span").attr({text:f,x:Math.round(m),y:Math.round(v)})})}constructor(l,f){super(l,f),Hc.useForeignObject?this.foreignObject=l.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...l.styledMode?{}:{fontFamily:l.style.fontFamily,fontSize:l.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(l,f,m){this.xCorr=-l*m,this.yCorr=-f}css(l){let f,{element:m}=this,v=m.tagName==="SPAN"&&l&&"width"in l,b=v&&l.width;return v&&(delete l.width,this.textWidth=gN(b)||void 0,f=!0),(l==null?void 0:l.textOverflow)==="ellipsis"&&(l.overflow="hidden",l.whiteSpace="nowrap"),l!=null&&l.lineClamp&&(l.display="-webkit-box",l.WebkitLineClamp=l.lineClamp,l.WebkitBoxOrient="vertical",l.overflow="hidden"),om(Number(l==null?void 0:l.fontSize))&&(l.fontSize+="px"),pN(this.styles,l),Eo(m,l),f&&this.updateTransform(),this}htmlGetBBox(){let{element:l}=this;return{x:l.offsetLeft,y:l.offsetTop,width:l.offsetWidth,height:l.offsetHeight}}updateTransform(){var oe;if(!this.added){this.alignOnAdd=!0;return}let{element:l,foreignObject:f,oldTextWidth:m,renderer:v,rotation:b,rotationOriginX:S,rotationOriginY:_,scaleX:E,scaleY:I,styles:{display:F="inline-block",whiteSpace:R},textAlign:z="left",textWidth:G,translateX:Z=0,translateY:ie=0,x:ne=0,y:re=0}=this;if(f||Eo(l,{marginLeft:`${Z}px`,marginTop:`${ie}px`}),l.tagName==="SPAN"){let le,we=[b,z,l.innerHTML,G,this.textAlign].join(","),ve=-(((oe=this.parentGroup)==null?void 0:oe.padding)*1)||0;if(G!==m){let Pe=this.textPxLength?this.textPxLength:(Eo(l,{width:"",whiteSpace:R||"nowrap"}),l.offsetWidth),Ve=G||0,Ye=l.style.textOverflow===""&&l.style.webkitLineClamp;(Ve>m||Pe>Ve||Ye)&&(/[\-\s\u00AD]/.test(l.textContent||l.innerText)||l.style.textOverflow==="ellipsis")&&(Eo(l,{width:(b||E||Pe>Ve||Ye)&&om(G)?G+"px":"auto",display:F,whiteSpace:R||"normal"}),this.oldTextWidth=G)}f&&(Eo(l,{display:"inline-block",verticalAlign:"top"}),f.attr({width:v.width,height:v.height})),we!==this.cTT&&(le=v.fontMetrics(l).b,mv(b)&&!f&&(b!==(this.oldRotation||0)||z!==this.oldAlign)&&Eo(l,{transform:`rotate(${b}deg)`,transformOrigin:`${ve}% ${ve}px`}),this.getSpanCorrection(!mv(b)&&!this.textWidth&&this.textPxLength||l.offsetWidth,le,mN(z)));let{xCorr:xe=0,yCorr:Te=0}=this,Ne={left:`${ne+xe}px`,top:`${re+Te}px`,textAlign:z,transformOrigin:`${(S??ne)-xe-ne-ve}px ${(_??re)-Te-re-ve}px`};(E||I)&&(Ne.transform=`scale(${E??1},${I??1})`),f?(super.updateTransform(),om(ne)&&om(re)?(f.attr({x:ne+xe,y:re+Te,width:l.offsetWidth+3,height:l.offsetHeight,"transform-origin":l.getAttribute("transform-origin")||"0 0"}),Eo(l,{display:F,textAlign:z})):fv&&f.attr({width:0,height:0})):Eo(l,Ne),this.cTT=we,this.oldRotation=b,this.oldAlign=z}}add(l){let{foreignObject:f,renderer:m}=this,v=m.box.parentNode,b=[];if(f)f.add(l),super.add(m.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(f));else{let S;if(this.parentGroup=l,l&&!(S=l.div)){let _=l;for(;_;)b.push(_),_=_.parentGroup;for(let E of b.reverse())S=wf(E,v)}(S||v).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(l){l!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,cr.setElementHTML(this.element,l??""),this.textStr=l,this.doTransform=!0)}alignSetter(l){this.alignValue=this.textAlign=l,this.doTransform=!0}xSetter(l,f){this[f]=l,this.doTransform=!0}}let Pl=Hc.prototype;Pl.visibilitySetter=Pl.opacitySetter=qs,Pl.ySetter=Pl.rotationSetter=Pl.rotationOriginXSetter=Pl.rotationOriginYSetter=Pl.xSetter,function(O){O.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},O.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:l}=this.axis.chart;return l(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(c||(c={}));let O0=c,{addEvent:R0,isFunction:gv,objectEach:vN,removeEvent:xN}=Le;(d||(d={})).registerEventOptions=function(O,l){O.eventOptions=O.eventOptions||{},vN(l.events,function(f,m){O.eventOptions[m]!==f&&(O.eventOptions[m]&&(xN(O,m,O.eventOptions[m]),delete O.eventOptions[m]),gv(f)&&(O.eventOptions[m]=f,R0(O,m,f,{order:0})))})};let To=d,{deg2rad:Sf}=V,{clamp:_f,correctFloat:gd,defined:lm,destroyObjectProperties:cm,extend:Wc,fireEvent:Gc,getAlignFactor:M0,isNumber:Kc,merge:D0,objectEach:L0,pick:Sa}=Le,Yc=class{constructor(O,l,f,m,v){this.isNew=!0,this.isNewLabel=!0,this.axis=O,this.pos=l,this.type=f||"",this.parameters=v||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Gc(this,"init"),f||m||this.addLabel()}addLabel(){var Te;let O=this,l=O.axis,f=l.options,m=l.chart,v=l.categories,b=l.logarithmic,S=l.names,_=O.pos,E=Sa((Te=O.options)==null?void 0:Te.labels,f.labels),I=l.tickPositions,F=_===I[0],R=_===I[I.length-1],z=(!E.step||E.step===1)&&l.tickInterval===1,G=I.info,Z=O.label,ie,ne,re,oe=this.parameters.category||(v?Sa(v[_],S[_],_):_);b&&Kc(oe)&&(oe=gd(b.lin2log(oe))),l.dateTime&&(G?ie=(ne=m.time.resolveDTLFormat(f.dateTimeLabelFormats[!f.grid&&G.higherRanks[_]||G.unitName])).main:Kc(oe)&&(ie=l.dateTime.getXDateFormat(oe,f.dateTimeLabelFormats||{}))),O.isFirst=F,O.isLast=R;let le={axis:l,chart:m,dateTimeLabelFormat:ie,isFirst:F,isLast:R,pos:_,tick:O,tickPositionInfo:G,value:oe};Gc(this,"labelFormat",le);let we=Ne=>E.formatter?E.formatter.call(Ne,Ne):E.format?(Ne.text=l.defaultLabelFormatter.call(Ne),Hn.format(E.format,Ne,m)):l.defaultLabelFormatter.call(Ne),ve=we.call(le,le),xe=ne==null?void 0:ne.list;xe?O.shortenLabel=function(){for(re=0;re<xe.length;re++)if(Wc(le,{dateTimeLabelFormat:xe[re]}),Z.attr({text:we.call(le,le)}),Z.getBBox().width<l.getSlotWidth(O)-2*(E.padding||0))return;Z.attr({text:""})}:O.shortenLabel=void 0,z&&l._addedPlotLB&&O.moveLabel(ve,E),lm(Z)||O.movedLabel?Z&&Z.textStr!==ve&&!z&&(!Z.textWidth||E.style.width||Z.styles.width||Z.css({width:null}),Z.attr({text:ve}),Z.textPxLength=Z.getBBox().width):(O.label=Z=O.createLabel(ve,E),O.rotation=0)}createLabel(O,l,f){let m=this.axis,{renderer:v,styledMode:b}=m.chart,S=l.style.whiteSpace,_=lm(O)&&l.enabled?v.text(O,f==null?void 0:f.x,f==null?void 0:f.y,l.useHTML).add(m.labelGroup):void 0;return _&&(b||_.css(D0(l.style)),_.textPxLength=_.getBBox().width,!b&&S&&_.css({whiteSpace:S})),_}destroy(){cm(this,this.axis)}getPosition(O,l,f,m){let v=this.axis,b=v.chart,S=m&&b.oldChartHeight||b.chartHeight,_={x:O?gd(v.translate(l+f,void 0,void 0,m)+v.transB):v.left+v.offset+(v.opposite?(m&&b.oldChartWidth||b.chartWidth)-v.right-v.left:0),y:O?S-v.bottom+v.offset-(v.opposite?v.height:0):gd(S-v.translate(l+f,void 0,void 0,m)-v.transB)};return _.y=_f(_.y,-1e9,1e9),Gc(this,"afterGetPosition",{pos:_}),_}getLabelPosition(O,l,f,m,v,b,S,_){let E,I,F=this.axis,R=F.transA,z=F.isLinked&&F.linkedParent?F.linkedParent.reversed:F.reversed,G=F.staggerLines,Z=F.tickRotCorr||{x:0,y:0},ie=m||F.reserveSpaceDefault?0:-F.labelOffset*(F.labelAlign==="center"?.5:1),ne=v.distance,re={};return E=F.side===0?f.rotation?-ne:-f.getBBox().height:F.side===2?Z.y+ne:Math.cos(f.rotation*Sf)*(Z.y-f.getBBox(!1,0).height/2),lm(v.y)&&(E=F.side===0&&F.horiz?v.y+E:v.y),O=O+Sa(v.x,[0,1,0,-1][F.side]*ne)+ie+Z.x-(b&&m?b*R*(z?-1:1):0),l=l+E-(b&&!m?b*R*(z?1:-1):0),G&&(I=S/(_||1)%G,F.opposite&&(I=G-I-1),l+=I*(F.labelOffset/G)),re.x=O,re.y=Math.round(l),Gc(this,"afterGetLabelPosition",{pos:re,tickmarkOffset:b,index:S}),re}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(O,l,f,m,v=!1,b){return b.crispLine([["M",O,l],["L",O+(v?0:-f),l+(v?f:0)]],m)}handleOverflow(O){var ne;let l=this.axis,f=l.options.labels,m=O.x,v=l.chart.chartWidth,b=l.chart.spacing,S=Sa(l.labelLeft,Math.min(l.pos,b[3])),_=Sa(l.labelRight,Math.max(l.isRadial?0:l.pos+l.len,v-b[1])),E=this.label,I=this.rotation,F=M0(l.labelAlign||E.attr("align")),R=E.getBBox().width,z=l.getSlotWidth(this),G=z,Z=1,ie;I||f.overflow!=="justify"?I<0&&m-F*R<S?ie=Math.round(m/Math.cos(I*Sf)-S):I>0&&m+F*R>_&&(ie=Math.round((v-m)/Math.cos(I*Sf))):(m-F*R<S?G=O.x+G*(1-F)-S:m+(1-F)*R>_&&(G=_-O.x+G*F,Z=-1),(G=Math.min(z,G))<z&&l.labelAlign==="center"&&(O.x+=Z*(z-G-F*(z-Math.min(R,G)))),(R>G||l.autoRotation&&((ne=E==null?void 0:E.styles)!=null&&ne.width))&&(ie=G)),ie&&E&&(this.shortenLabel?this.shortenLabel():E.css(Wc({},{width:Math.floor(ie)+"px",lineClamp:+!l.isRadial})))}moveLabel(O,l){let f=this,m=f.label,v=f.axis,b=!1,S;m&&m.textStr===O?(f.movedLabel=m,b=!0,delete f.label):L0(v.ticks,function(_){b||_.isNew||_===f||!_.label||_.label.textStr!==O||(f.movedLabel=_.label,b=!0,_.labelPos=f.movedLabel.xy,delete _.label)}),!b&&(f.labelPos||m)&&(S=f.labelPos||m.xy,f.movedLabel=f.createLabel(O,l,S),f.movedLabel&&f.movedLabel.attr({opacity:0}))}render(O,l,f){var Z;let m=this.axis,v=m.horiz,b=this.pos,S=Sa(this.tickmarkOffset,m.tickmarkOffset),_=this.getPosition(v,b,S,l),E=_.x,I=_.y,F=m.pos,R=F+m.len,z=v?E:I,G=Sa(f,(Z=this.label)==null?void 0:Z.newOpacity,1);!m.chart.polar&&(gd(z)<F||z>R)&&(f=0),f??(f=1),this.isActive=!0,this.renderGridLine(l,f),this.renderMark(_,f),this.renderLabel(_,l,G,O),this.isNew=!1,Gc(this,"afterRender")}renderGridLine(O,l){let f=this.axis,m=f.options,v={},b=this.pos,S=this.type,_=Sa(this.tickmarkOffset,f.tickmarkOffset),E=f.chart.renderer,I=this.gridLine,F,R=m.gridLineWidth,z=m.gridLineColor,G=m.gridLineDashStyle;this.type==="minor"&&(R=m.minorGridLineWidth,z=m.minorGridLineColor,G=m.minorGridLineDashStyle),I||(f.chart.styledMode||(v.stroke=z,v["stroke-width"]=R||0,v.dashstyle=G),S||(v.zIndex=1),O&&(l=0),this.gridLine=I=E.path().attr(v).addClass("highcharts-"+(S?S+"-":"")+"grid-line").add(f.gridGroup)),I&&(F=f.getPlotLinePath({value:b+_,lineWidth:I.strokeWidth(),force:"pass",old:O,acrossPanes:!1}))&&I[O||this.isNew?"attr":"animate"]({d:F,opacity:l})}renderMark(O,l){let f=this.axis,m=f.options,v=f.chart.renderer,b=this.type,S=f.tickSize(b?b+"Tick":"tick"),_=O.x,E=O.y,I=Sa(m[b!=="minor"?"tickWidth":"minorTickWidth"],!b&&f.isXAxis?1:0),F=m[b!=="minor"?"tickColor":"minorTickColor"],R=this.mark,z=!R;S&&(f.opposite&&(S[0]=-S[0]),R||(this.mark=R=v.path().addClass("highcharts-"+(b?b+"-":"")+"tick").add(f.axisGroup),f.chart.styledMode||R.attr({stroke:F,"stroke-width":I})),R[z?"attr":"animate"]({d:this.getMarkPath(_,E,S[0],R.strokeWidth(),f.horiz,v),opacity:l}))}renderLabel(O,l,f,m){let v=this.axis,b=v.horiz,S=v.options,_=this.label,E=S.labels,I=E.step,F=Sa(this.tickmarkOffset,v.tickmarkOffset),R=O.x,z=O.y,G=!0;_&&Kc(R)&&(_.xy=O=this.getLabelPosition(R,z,_,b,E,F,m,I),(!this.isFirst||this.isLast||S.showFirstLabel)&&(!this.isLast||this.isFirst||S.showLastLabel)?!b||E.step||E.rotation||l||f===0||this.handleOverflow(O):G=!1,I&&m%I&&(G=!1),G&&Kc(O.y)?(O.opacity=f,_[this.isNewLabel?"attr":"animate"](O).show(!0),this.isNewLabel=!1):(_.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let O=this.label,l=this.axis;O&&!this.isNew&&(O.animate({opacity:0},void 0,O.destroy),delete this.label),l.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:F0}=kn,{xAxis:yv,yAxis:Il}=O0,{defaultOptions:jf}=Gt,{registerEventOptions:vv}=To,{deg2rad:bN}=V,{arrayMax:$0,arrayMin:Nf,clamp:xv,correctFloat:ns,defined:Rr,destroyObjectProperties:en,erase:um,error:yd,extend:Ol,fireEvent:tn,getClosestDistance:dm,insertItem:Af,isArray:kf,isNumber:wt,isString:bv,merge:hm,normalizeTickInterval:wN,objectEach:Ef,pick:qt,relativeLength:Xc,removeEvent:wv,splat:Sv,syncTimeout:_v}=Le,fm=(O,l)=>wN(l,void 0,void 0,qt(O.options.allowDecimals,l<.5||O.tickAmount!==void 0),!!O.tickAmount);Ol(jf,{xAxis:yv,yAxis:hm(yv,Il)});class vd{constructor(l,f,m){this.init(l,f,m)}init(l,f,m=this.coll){let v=m==="xAxis",b=this.isZAxis||(l.inverted?!v:v);this.chart=l,this.horiz=b,this.isXAxis=v,this.coll=m,tn(this,"init",{userOptions:f}),this.opposite=qt(f.opposite,this.opposite),this.side=qt(f.side,this.side,b?2*!this.opposite:this.opposite?1:3),this.setOptions(f);let S=this.options,_=S.labels;this.type??(this.type=S.type||"linear"),this.uniqueNames??(this.uniqueNames=S.uniqueNames??!0),tn(this,"afterSetType"),this.userOptions=f,this.minPixelPadding=0,this.reversed=qt(S.reversed,this.reversed),this.visible=S.visible,this.zoomEnabled=S.zoomEnabled,this.hasNames=this.type==="category"||S.categories===!0,this.categories=kf(S.categories)&&S.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Rr(S.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=S.minRange||S.maxZoom,this.range=S.range,this.offset=S.offset||0,this.max=void 0,this.min=void 0;let E=qt(S.crosshair,Sv(l.options.tooltip.crosshairs)[+!v]);this.crosshair=E===!0?{}:E,l.axes.indexOf(this)===-1&&(v?l.axes.splice(l.xAxis.length,0,this):l.axes.push(this),Af(this,l[this.coll])),l.orderItems(this.coll),this.series=this.series||[],l.inverted&&!this.isZAxis&&v&&!Rr(this.reversed)&&(this.reversed=!0),this.labelRotation=wt(_.rotation)?_.rotation:void 0,vv(this,S),tn(this,"afterInit")}setOptions(l){let f=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=hm(f,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},jf[this.coll],l),tn(this,"afterSetOptions",{userOptions:l})}defaultLabelFormatter(){let l=this.axis,{numberFormatter:f}=this.chart,m=wt(this.value)?this.value:NaN,v=l.chart.time,b=l.categories,S=this.dateTimeLabelFormat,_=jf.lang,E=_.numericSymbols,I=_.numericSymbolMagnitude||1e3,F=l.logarithmic?Math.abs(m):l.tickInterval,R=E==null?void 0:E.length,z,G;if(b)G=`${this.value}`;else if(S)G=v.dateFormat(S,m,!0);else if(R&&E&&F>=1e3)for(;R--&&G===void 0;)F>=(z=Math.pow(I,R+1))&&10*m%z==0&&E[R]!==null&&m!==0&&(G=f(m/z,-1)+E[R]);return G===void 0&&(G=Math.abs(m)>=1e4?f(m,-1):f(m,-1,void 0,"")),G}getSeriesExtremes(){let l,f=this;tn(this,"getSeriesExtremes",null,function(){f.hasVisibleSeries=!1,f.dataMin=f.dataMax=f.threshold=void 0,f.softThreshold=!f.isXAxis,f.series.forEach(m=>{if(m.reserveSpace()){let v=m.options,b,S=v.threshold,_,E;if(f.hasVisibleSeries=!0,f.positiveValuesOnly&&0>=(S||0)&&(S=void 0),f.isXAxis)(b=m.getColumn("x")).length&&(b=f.logarithmic?b.filter(I=>I>0):b,_=(l=m.getXExtremes(b)).min,E=l.max,wt(_)||_ instanceof Date||(b=b.filter(wt),_=(l=m.getXExtremes(b)).min,E=l.max),b.length&&(f.dataMin=Math.min(qt(f.dataMin,_),_),f.dataMax=Math.max(qt(f.dataMax,E),E)));else{let I=m.applyExtremes();wt(I.dataMin)&&(_=I.dataMin,f.dataMin=Math.min(qt(f.dataMin,_),_)),wt(I.dataMax)&&(E=I.dataMax,f.dataMax=Math.max(qt(f.dataMax,E),E)),Rr(S)&&(f.threshold=S),(!v.softThreshold||f.positiveValuesOnly)&&(f.softThreshold=!1)}}})}),tn(this,"afterGetSeriesExtremes")}translate(l,f,m,v,b,S){var ie;let _=this.linkedParent||this,E=v&&_.old?_.old.min:_.min;if(!wt(E))return NaN;let I=_.minPixelPadding,F=(_.isOrdinal||((ie=_.brokenAxis)==null?void 0:ie.hasBreaks)||_.logarithmic&&b)&&_.lin2val,R=1,z=0,G=v&&_.old?_.old.transA:_.transA,Z=0;return G||(G=_.transA),m&&(R*=-1,z=_.len),_.reversed&&(R*=-1,z-=R*(_.sector||_.len)),f?(Z=(l=l*R+z-I)/G+E,F&&(Z=_.lin2val(Z))):(F&&(l=_.val2lin(l)),Z=R*(l-E)*G+z+R*I+(wt(S)?G*S:0),_.isRadial||(Z=ns(Z))),Z}toPixels(l,f){var m;return this.translate(((m=this.chart)==null?void 0:m.time.parse(l))??NaN,!1,!this.horiz,void 0,!0)+(f?0:this.pos)}toValue(l,f){return this.translate(l-(f?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(l){let f=this,m=f.chart,v=f.left,b=f.top,S=l.old,_=l.value,E=l.lineWidth,I=S&&m.oldChartHeight||m.chartHeight,F=S&&m.oldChartWidth||m.chartWidth,R=f.transB,z=l.translatedValue,G=l.force,Z,ie,ne,re,oe;function le(ve,xe,Te){return G!=="pass"&&(ve<xe||ve>Te)&&(G?ve=xv(ve,xe,Te):oe=!0),ve}let we={value:_,lineWidth:E,old:S,force:G,acrossPanes:l.acrossPanes,translatedValue:z};return tn(this,"getPlotLinePath",we,function(ve){Z=ne=(z=xv(z=qt(z,f.translate(_,void 0,void 0,S)),-1e9,1e9))+R,ie=re=I-z-R,wt(z)?f.horiz?(ie=b,re=I-f.bottom+(f.options.isInternal?0:m.scrollablePixelsY||0),Z=ne=le(Z,v,v+f.width)):(Z=v,ne=F-f.right+(m.scrollablePixelsX||0),ie=re=le(ie,b,b+f.height)):(oe=!0,G=!1),ve.path=oe&&!G?void 0:m.renderer.crispLine([["M",Z,ie],["L",ne,re]],E||1)}),we.path}getLinearTickPositions(l,f,m){let v,b,S,_=ns(Math.floor(f/l)*l),E=ns(Math.ceil(m/l)*l),I=[];if(ns(_+l)===_&&(S=20),this.single)return[f];for(v=_;v<=E&&(I.push(v),(v=ns(v+l,S))!==b);)b=v;return I}getMinorTickInterval(){let{minorTicks:l,minorTickInterval:f}=this.options;return l===!0?qt(f,"auto"):l!==!1?f:void 0}getMinorTickPositions(){var F;let l=this.options,f=this.tickPositions,m=this.minorTickInterval,v=this.pointRangePadding||0,b=(this.min||0)-v,S=(this.max||0)+v,_=(F=this.brokenAxis)!=null&&F.hasBreaks?this.brokenAxis.unitLength:S-b,E=[],I;if(_&&_/m<this.len/3){let R=this.logarithmic;if(R)this.paddedTicks.forEach(function(z,G,Z){G&&E.push.apply(E,R.getLogTickPositions(m,Z[G-1],Z[G],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")E=E.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(m),b,S,l.startOfWeek));else for(I=b+(f[0]-b)%m;I<=S&&I!==E[0];I+=m)E.push(I)}return E.length!==0&&this.trimTicks(E),E}adjustForMinRange(){let l=this.options,f=this.logarithmic,m=this.chart.time,{max:v,min:b,minRange:S}=this,_,E,I,F;this.isXAxis&&S===void 0&&!f&&(S=Rr(l.min)||Rr(l.max)||Rr(l.floor)||Rr(l.ceiling)?null:Math.min(5*(dm(this.series.map(R=>{let z=R.getColumn("x");return R.xIncrement?z.slice(0,2):z}))||0),this.dataMax-this.dataMin)),wt(v)&&wt(b)&&wt(S)&&v-b<S&&(E=this.dataMax-this.dataMin>=S,_=(S-v+b)/2,I=[b-_,m.parse(l.min)??b-_],E&&(I[2]=f?f.log2lin(this.dataMin):this.dataMin),F=[(b=$0(I))+S,m.parse(l.max)??b+S],E&&(F[2]=f?f.log2lin(this.dataMax):this.dataMax),(v=Nf(F))-b<S&&(I[0]=v-S,I[1]=m.parse(l.min)??v-S,b=$0(I))),this.minRange=S,this.min=b,this.max=v}getClosest(){let l,f;if(this.categories)f=1;else{let m=[];this.series.forEach(function(v){let b=v.closestPointRange,S=v.getColumn("x");S.length===1?m.push(S[0]):v.sorted&&Rr(b)&&v.reserveSpace()&&(f=Rr(f)?Math.min(f,b):b)}),m.length&&(m.sort((v,b)=>v-b),l=dm([m]))}return l&&f?Math.min(l,f):l||f}nameToX(l){let f=kf(this.options.categories),m=f?this.categories:this.names,v=l.options.x,b;return l.series.requireSorting=!1,Rr(v)||(v=this.uniqueNames&&m?f?m.indexOf(l.name):qt(m.keys[l.name],-1):l.series.autoIncrement()),v===-1?!f&&m&&(b=m.length):wt(v)&&(b=v),b!==void 0?(this.names[b]=l.name,this.names.keys[l.name]=b):l.x&&(b=l.x),b}updateNames(){let l=this,f=this.names;f.length>0&&(Object.keys(f.keys).forEach(function(m){delete f.keys[m]}),f.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(m=>{m.xIncrement=null,(!m.points||m.isDirtyData)&&(l.max=Math.max(l.max||0,m.dataTable.rowCount-1),m.processData(),m.generatePoints());let v=m.getColumn("x").slice();m.data.forEach((b,S)=>{let _=v[S];b!=null&&b.options&&b.name!==void 0&&(_=l.nameToX(b))!==void 0&&_!==b.x&&(v[S]=b.x=_)}),m.dataTable.setColumn("x",v)}))}setAxisTranslation(){var z;let l=this,f=l.max-l.min,m=l.linkedParent,v=!!l.categories,b=l.isXAxis,S=l.axisPointRange||0,_,E=0,I=0,F,R=l.transA;(b||v||S)&&(_=l.getClosest(),m?(E=m.minPointOffset,I=m.pointRangePadding):l.series.forEach(function(G){let Z=v?1:b?qt(G.options.pointRange,_,0):l.axisPointRange||0,ie=G.options.pointPlacement;if(S=Math.max(S,Z),!l.single||v){let ne=G.is("xrange")?!b:b;E=Math.max(E,ne&&bv(ie)?0:Z/2),I=Math.max(I,ne&&ie==="on"?0:Z)}}),F=(z=l.ordinal)!=null&&z.slope&&_?l.ordinal.slope/_:1,l.minPointOffset=E*=F,l.pointRangePadding=I*=F,l.pointRange=Math.min(S,l.single&&v?1:f),b&&(l.closestPointRange=_)),l.translationSlope=l.transA=R=l.staticScale||l.len/(f+I||1),l.transB=l.horiz?l.left:l.bottom,l.minPixelPadding=R*E,tn(this,"afterSetAxisTranslation")}minFromRange(){let{max:l,min:f}=this;return wt(l)&&wt(f)&&l-f||void 0}setTickInterval(l){var ot,Rt,ut,It;let{categories:f,chart:m,dataMax:v,dataMin:b,dateTime:S,isXAxis:_,logarithmic:E,options:I,softThreshold:F}=this,R=m.time,z=wt(this.threshold)?this.threshold:void 0,G=this.minRange||0,{ceiling:Z,floor:ie,linkedTo:ne,softMax:re,softMin:oe}=I,le=wt(ne)&&((ot=m[this.coll])==null?void 0:ot[ne]),we=I.tickPixelInterval,ve=I.maxPadding,xe=I.minPadding,Te=0,Ne,Pe=wt(I.tickInterval)&&I.tickInterval>=0?I.tickInterval:void 0,Ve,Ye,tt,Ze;if(S||f||le||this.getTickAmount(),tt=qt(this.userMin,R.parse(I.min)),Ze=qt(this.userMax,R.parse(I.max)),le?(this.linkedParent=le,Ne=le.getExtremes(),this.min=qt(Ne.min,Ne.dataMin),this.max=qt(Ne.max,Ne.dataMax),this.type!==le.type&&yd(11,!0,m)):(F&&Rr(z)&&wt(v)&&wt(b)&&(b>=z?(Ve=z,xe=0):v<=z&&(Ye=z,ve=0)),this.min=qt(tt,Ve,b),this.max=qt(Ze,Ye,v)),wt(this.max)&&wt(this.min)&&(E&&(this.positiveValuesOnly&&!l&&0>=Math.min(this.min,qt(b,this.min))&&yd(10,!0,m),this.min=ns(E.log2lin(this.min),16),this.max=ns(E.log2lin(this.max),16)),this.range&&wt(b)&&(this.userMin=this.min=tt=Math.max(b,this.minFromRange()||0),this.userMax=Ze=this.max,this.range=void 0)),tn(this,"foundExtremes"),this.adjustForMinRange(),wt(this.min)&&wt(this.max)){if(!wt(this.userMin)&&wt(oe)&&oe<this.min&&(this.min=tt=oe),!wt(this.userMax)&&wt(re)&&re>this.max&&(this.max=Ze=re),f||this.axisPointRange||(Rt=this.stacking)!=null&&Rt.usePercentage||le||!(Te=this.max-this.min)||(!Rr(tt)&&xe&&(this.min-=Te*xe),Rr(Ze)||!ve||(this.max+=Te*ve)),!wt(this.userMin)&&wt(ie)&&(this.min=Math.max(this.min,ie)),!wt(this.userMax)&&wt(Z)&&(this.max=Math.min(this.max,Z)),F&&wt(b)&&wt(v)){let or=z||0;!Rr(tt)&&this.min<or&&b>=or?this.min=I.minRange?Math.min(or,this.max-G):or:!Rr(Ze)&&this.max>or&&v<=or&&(this.max=I.minRange?Math.max(or,this.min+G):or)}!m.polar&&this.min>this.max&&(Rr(I.min)?this.max=this.min:Rr(I.max)&&(this.min=this.max)),Te=this.max-this.min}if(this.min!==this.max&&wt(this.min)&&wt(this.max)?le&&!Pe&&we===le.options.tickPixelInterval?this.tickInterval=Pe=le.tickInterval:this.tickInterval=qt(Pe,this.tickAmount?Te/Math.max(this.tickAmount-1,1):void 0,f?1:Te*we/Math.max(this.len,we)):this.tickInterval=1,_&&!l){let or=this.min!==((ut=this.old)==null?void 0:ut.min)||this.max!==((It=this.old)==null?void 0:It.max);this.series.forEach(function(nr){var fr;nr.forceCrop=(fr=nr.forceCropping)==null?void 0:fr.call(nr),nr.processData(or)}),tn(this,"postProcessData",{hasExtremesChanged:or})}this.setAxisTranslation(),tn(this,"initialAxisTranslation"),this.pointRange&&!Pe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let lt=qt(I.minTickInterval,S&&!this.series.some(or=>!or.sorted)?this.closestPointRange:0);!Pe&&lt&&this.tickInterval<lt&&(this.tickInterval=lt),S||E||Pe||(this.tickInterval=fm(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var F,R;let l=this.options,f=l.tickPositions,m=l.tickPositioner,v=this.getMinorTickInterval(),b=!this.isPanning,S=b&&l.startOnTick,_=b&&l.endOnTick,E=[],I;if(this.tickmarkOffset=this.categories&&l.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Rr(this.min)&&!this.tickAmount&&(this.min%1==0||l.allowDecimals!==!1),f)E=f.slice();else if(wt(this.min)&&wt(this.max)){if(!((F=this.ordinal)!=null&&F.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))E=[this.min,this.max],yd(19,!1,this.chart);else if(this.dateTime)E=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,l.units),this.min,this.max,l.startOfWeek,(R=this.ordinal)==null?void 0:R.positions,this.closestPointRange,!0);else if(this.logarithmic)E=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let z=this.tickInterval,G=z;for(;G<=2*z&&(E=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&E.length>this.tickAmount);)this.tickInterval=fm(this,G*=1.1)}E.length>this.len&&(E=[E[0],E[E.length-1]])[0]===E[1]&&(E.length=1),m&&(this.tickPositions=E,(I=m.apply(this,[this.min,this.max]))&&(E=I))}this.tickPositions=E,this.minorTickInterval=v==="auto"&&this.tickInterval?this.tickInterval/l.minorTicksPerMajor:v,this.paddedTicks=E.slice(0),this.trimTicks(E,S,_),!this.isLinked&&wt(this.min)&&wt(this.max)&&(this.single&&E.length<2&&!this.categories&&!this.series.some(z=>z.is("heatmap")&&z.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),f||I||this.adjustTickAmount()),tn(this,"afterSetTickPositions")}trimTicks(l,f,m){let v=l[0],b=l[l.length-1],S=!this.isOrdinal&&this.minPointOffset||0;if(tn(this,"trimTicks"),!this.isLinked||!this.grid){if(f&&v!==-1/0)this.min=v;else for(;this.min-S>l[0];)l.shift();if(m)this.max=b;else for(;this.max+S<l[l.length-1];)l.pop();l.length===0&&Rr(v)&&!this.options.tickPositions&&l.push((b+v)/2)}}alignToOthers(){let l,f=this,m=f.chart,v=[this],b=f.options,S=m.options.chart,_=this.coll==="yAxis"&&S.alignThresholds,E=[];if(f.thresholdAlignment=void 0,(S.alignTicks!==!1&&b.alignTicks||_)&&b.startOnTick!==!1&&b.endOnTick!==!1&&!f.logarithmic){let I=R=>{let{horiz:z,options:G}=R;return[z?G.left:G.top,G.width,G.height,G.pane].join(",")},F=I(this);m[this.coll].forEach(function(R){let{series:z}=R;z.length&&z.some(G=>G.visible)&&R!==f&&I(R)===F&&(l=!0,v.push(R))})}if(l&&_){v.forEach(F=>{let R=F.getThresholdAlignment(f);wt(R)&&E.push(R)});let I=E.length>1?E.reduce((F,R)=>F+=R,0)/E.length:void 0;v.forEach(F=>{F.thresholdAlignment=I})}return l}getThresholdAlignment(l){if((!wt(this.dataMin)||this!==l&&this.series.some(f=>f.isDirty||f.isDirtyData))&&this.getSeriesExtremes(),wt(this.threshold)){let f=xv((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(f=1-f),f}}getTickAmount(){let l=this.options,f=l.tickPixelInterval,m=l.tickAmount;Rr(l.tickInterval)||m||!(this.len<f)||this.isRadial||this.logarithmic||!l.startOnTick||!l.endOnTick||(m=2),!m&&this.alignToOthers()&&(m=Math.ceil(this.len/f)+1),m<4&&(this.finalTickAmt=m,m=5),this.tickAmount=m}adjustTickAmount(){let l=this,{finalTickAmt:f,max:m,min:v,options:b,tickPositions:S,tickAmount:_,thresholdAlignment:E}=l,I=S==null?void 0:S.length,F=qt(l.threshold,l.softThreshold?0:null),R,z,G=l.tickInterval,Z,ie=()=>S.push(ns(S[S.length-1]+G)),ne=()=>S.unshift(ns(S[0]-G));if(wt(E)&&(Z=E<.5?Math.ceil(E*(_-1)):Math.floor(E*(_-1)),b.reversed&&(Z=_-1-Z)),l.hasData()&&wt(v)&&wt(m)){let re=()=>{l.transA*=(I-1)/(_-1),l.min=b.startOnTick?S[0]:Math.min(v,S[0]),l.max=b.endOnTick?S[S.length-1]:Math.max(m,S[S.length-1])};if(wt(Z)&&wt(l.threshold)){for(;S[Z]!==F||S.length!==_||S[0]>v||S[S.length-1]<m;){for(S.length=0,S.push(l.threshold);S.length<_;)S[Z]===void 0||S[Z]>l.threshold?ne():ie();if(G>8*l.tickInterval)break;G*=2}re()}else if(I<_){for(;S.length<_;)S.length%2||v===F?ie():ne();re()}if(Rr(f)){for(z=R=S.length;z--;)(f===3&&z%2==1||f<=2&&z>0&&z<R-1)&&S.splice(z,1);l.finalTickAmt=void 0}}}setScale(){var S,_,E,I,F;let{coll:l,stacking:f}=this,m=!1,v=!1;this.series.forEach(R=>{var z;m=m||R.isDirtyData||R.isDirty,v=v||((z=R.xAxis)==null?void 0:z.isDirty)||!1}),this.setAxisSize();let b=this.len!==((S=this.old)==null?void 0:S.len);b||m||v||this.isLinked||this.forceRedraw||this.userMin!==((_=this.old)==null?void 0:_.userMin)||this.userMax!==((E=this.old)==null?void 0:E.userMax)||this.alignToOthers()?(f&&l==="yAxis"&&f.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),f&&l==="xAxis"&&f.buildStacks(),this.isDirty||(this.isDirty=b||this.min!==((I=this.old)==null?void 0:I.min)||this.max!==((F=this.old)==null?void 0:F.max))):f&&f.cleanStacks(),m&&delete this.allExtremes,tn(this,"afterSetScale")}setExtremes(l,f,m=!0,v,b){let S=this.chart;this.series.forEach(_=>{delete _.kdTree}),l=S.time.parse(l),f=S.time.parse(f),tn(this,"setExtremes",b=Ol(b,{min:l,max:f}),_=>{this.userMin=_.min,this.userMax=_.max,this.eventArgs=_,m&&S.redraw(v)})}setAxisSize(){let l=this.chart,f=this.options,m=f.offsets||[0,0,0,0],v=this.horiz,b=this.width=Math.round(Xc(qt(f.width,l.plotWidth-m[3]+m[1]),l.plotWidth)),S=this.height=Math.round(Xc(qt(f.height,l.plotHeight-m[0]+m[2]),l.plotHeight)),_=this.top=Math.round(Xc(qt(f.top,l.plotTop+m[0]),l.plotHeight,l.plotTop)),E=this.left=Math.round(Xc(qt(f.left,l.plotLeft+m[3]),l.plotWidth,l.plotLeft));this.bottom=l.chartHeight-S-_,this.right=l.chartWidth-b-E,this.len=Math.max(v?b:S,0),this.pos=v?E:_}getExtremes(){let l=this.logarithmic;return{min:l?ns(l.lin2log(this.min)):this.min,max:l?ns(l.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(l){let f=this.logarithmic,m=f?f.lin2log(this.min):this.min,v=f?f.lin2log(this.max):this.max;return l===null||l===-1/0?l=m:l===1/0?l=v:m>l?l=m:v<l&&(l=v),this.translate(l,0,1,0,1)}autoLabelAlign(l){let f=(qt(l,0)-90*this.side+720)%360,m={align:"center"};return tn(this,"autoLabelAlign",m,function(v){f>15&&f<165?v.align="right":f>195&&f<345&&(v.align="left")}),m.align}tickSize(l){let f=this.options,m=qt(f[l==="tick"?"tickWidth":"minorTickWidth"],l==="tick"&&this.isXAxis&&!this.categories?1:0),v=f[l==="tick"?"tickLength":"minorTickLength"],b;m&&v&&(f[l+"Position"]==="inside"&&(v=-v),b=[v,m]);let S={tickSize:b};return tn(this,"afterTickSize",S),S.tickSize}labelMetrics(){let l=this.chart.renderer,f=this.ticks,m=f[Object.keys(f)[0]]||{};return this.chart.renderer.fontMetrics(m.label||m.movedLabel||l.box)}unsquish(){let l=this.options.labels,f=l.padding||0,m=this.horiz,v=this.tickInterval,b=this.len/((+!!this.categories+this.max-this.min)/v),S=l.rotation,_=ns(.8*this.labelMetrics().h),E=Math.max(this.max-this.min,0),I=function(Z){let ie=(Z+2*f)/(b||1);return(ie=ie>1?Math.ceil(ie):1)*v>E&&Z!==1/0&&b!==1/0&&E&&(ie=Math.ceil(E/v)),ns(ie*v)},F=v,R,z=Number.MAX_VALUE,G;if(m){if(!l.staggerLines&&(wt(S)?G=[S]:b<l.autoRotationLimit&&(G=l.autoRotation)),G){let Z,ie;for(let ne of G)(ne===S||ne&&ne>=-90&&ne<=90)&&(ie=(Z=I(Math.abs(_/Math.sin(bN*ne))))+Math.abs(ne/360))<z&&(z=ie,R=ne,F=Z)}}else F=I(.75*_);return this.autoRotation=G,this.labelRotation=qt(R,wt(S)?S:0),l.step?v:F}getSlotWidth(l){let f=this.chart,m=this.horiz,v=this.options.labels,b=Math.max(this.tickPositions.length-+!this.categories,1),S=f.margin[3];if(l&&wt(l.slotWidth))return l.slotWidth;if(m&&v.step<2&&!this.isRadial)return v.rotation?0:(this.staggerLines||1)*this.len/b;if(!m){let _=v.style.width;if(_!==void 0)return parseInt(String(_),10);if(S)return S-f.spacing[3]}return .33*f.chartWidth}renderUnsquish(){let l=this.chart,f=l.renderer,m=this.tickPositions,v=this.ticks,b=this.options.labels,S=b.style,_=this.horiz,E=this.getSlotWidth(),I=Math.max(1,Math.round(E-(_?2*(b.padding||0):b.distance||0))),F={},R=this.labelMetrics(),z=S.lineClamp,G,Z=z??(Math.floor(this.len/(m.length*R.h))||1),ie=0;bv(b.rotation)||(F.rotation=b.rotation||0),m.forEach(function(ne){var le;let re=v[ne];re.movedLabel&&re.replaceMovedLabel();let oe=((le=re.label)==null?void 0:le.textPxLength)||0;oe>ie&&(ie=oe)}),this.maxLabelLength=ie,this.autoRotation?ie>I&&ie>R.h?F.rotation=this.labelRotation:this.labelRotation=0:E&&(G=I),F.rotation&&(G=ie>.5*l.chartHeight?.33*l.chartHeight:ie,z||(Z=1)),this.labelAlign=b.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(F.align=this.labelAlign),m.forEach(function(ne){let re=v[ne],oe=re==null?void 0:re.label,le=S.width,we={};oe&&(oe.attr(F),re.shortenLabel?re.shortenLabel():G&&!le&&S.whiteSpace!=="nowrap"&&(G<(oe.textPxLength||0)||oe.element.tagName==="SPAN")?oe.css(Ol(we,{width:`${G}px`,lineClamp:Z})):!oe.styles.width||we.width||le||oe.css({width:"auto"}),re.rotation=F.rotation)},this),this.tickRotCorr=f.rotCorr(R.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(l){return l.hasData()})||this.options.showEmpty&&Rr(this.min)&&Rr(this.max)}addTitle(l){let f,m=this.chart.renderer,v=this.horiz,b=this.opposite,S=this.options.title,_=this.chart.styledMode;this.axisTitle||((f=S.textAlign)||(f=(v?{low:"left",middle:"center",high:"right"}:{low:b?"right":"left",middle:"center",high:b?"left":"right"})[S.align]),this.axisTitle=m.text(S.text||"",0,0,S.useHTML).attr({zIndex:7,rotation:S.rotation||0,align:f}).addClass("highcharts-axis-title"),_||this.axisTitle.css(hm(S.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),_||S.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[l?"show":"hide"](l)}generateTick(l){let f=this.ticks;f[l]?f[l].addLabel():f[l]=new Yc(this,l)}createGroups(){let{axisParent:l,chart:f,coll:m,options:v}=this,b=f.renderer,S=(_,E,I)=>b.g(_).attr({zIndex:I}).addClass(`highcharts-${m.toLowerCase()}${E} `+(this.isRadial?`highcharts-radial-axis${E} `:"")+(v.className||"")).add(l);this.axisGroup||(this.gridGroup=S("grid","-grid",v.gridZIndex),this.axisGroup=S("axis","",v.zIndex),this.labelGroup=S("axis-labels","-labels",v.labels.zIndex))}getOffset(){let l=this,{chart:f,horiz:m,options:v,side:b,ticks:S,tickPositions:_,coll:E}=l,I=f.inverted&&!l.isZAxis?[1,0,3,2][b]:b,F=l.hasData(),R=v.title,z=v.labels,G=wt(v.crossing),Z=f.axisOffset,ie=f.clipOffset,ne=[-1,1,1,-1][b],re,oe=0,le,we=0,ve=0,xe,Te;if(l.showAxis=re=F||v.showEmpty,l.staggerLines=l.horiz&&z.staggerLines||void 0,l.createGroups(),F||l.isLinked?(_.forEach(function(Ne){l.generateTick(Ne)}),l.renderUnsquish(),l.reserveSpaceDefault=b===0||b===2||{1:"left",3:"right"}[b]===l.labelAlign,qt(z.reserveSpace,!G&&null,l.labelAlign==="center"||null,l.reserveSpaceDefault)&&_.forEach(function(Ne){ve=Math.max(S[Ne].getLabelSize(),ve)}),l.staggerLines&&(ve*=l.staggerLines),l.labelOffset=ve*(l.opposite?-1:1)):Ef(S,function(Ne,Pe){Ne.destroy(),delete S[Pe]}),R!=null&&R.text&&R.enabled!==!1&&(l.addTitle(re),re&&!G&&R.reserveSpace!==!1&&(l.titleOffset=oe=l.axisTitle.getBBox()[m?"height":"width"],we=Rr(le=R.offset)?0:qt(R.margin,m?5:10))),l.renderLine(),l.offset=ne*qt(v.offset,Z[b]?Z[b]+(v.margin||0):0),l.tickRotCorr=l.tickRotCorr||{x:0,y:0},Te=b===0?-l.labelMetrics().h:b===2?l.tickRotCorr.y:0,xe=Math.abs(ve)+we,ve&&(xe-=Te,xe+=ne*(m?qt(z.y,l.tickRotCorr.y+ne*z.distance):qt(z.x,ne*z.distance))),l.axisTitleMargin=qt(le,xe),l.getMaxLabelDimensions&&(l.maxLabelDimensions=l.getMaxLabelDimensions(S,_)),E!=="colorAxis"&&ie){let Ne=this.tickSize("tick");Z[b]=Math.max(Z[b],(l.axisTitleMargin||0)+oe+ne*l.offset,xe,_!=null&&_.length&&Ne?Ne[0]+ne*l.offset:0);let Pe=!l.axisLine||v.offset?0:l.axisLine.strokeWidth()/2;ie[I]=Math.max(ie[I],Pe)}tn(this,"afterGetOffset")}getLinePath(l){let f=this.chart,m=this.opposite,v=this.offset,b=this.horiz,S=this.left+(m?this.width:0)+v,_=f.chartHeight-this.bottom-(m?this.height:0)+v;return m&&(l*=-1),f.renderer.crispLine([["M",b?this.left:S,b?_:this.top],["L",b?f.chartWidth-this.right:S,b?_:f.chartHeight-this.bottom]],l)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(l){let f=this.horiz,m=this.left,v=this.top,b=this.len,S=this.options.title,_=f?m:v,E=this.opposite,I=this.offset,F=S.x,R=S.y,z=this.chart.renderer.fontMetrics(l),G=l?Math.max(l.getBBox(!1,0).height-z.h-1,0):0,Z={low:_+(f?0:b),middle:_+b/2,high:_+(f?b:0)}[S.align],ie=(f?v+this.height:m)+(f?1:-1)*(E?-1:1)*(this.axisTitleMargin||0)+[-G,G,z.f,-G][this.side],ne={x:f?Z+F:ie+(E?this.width:0)+I+F,y:f?ie+R-(E?this.height:0)+I:Z+R};return tn(this,"afterGetTitlePosition",{titlePosition:ne}),ne}renderMinorTick(l,f){let m=this.minorTicks;m[l]||(m[l]=new Yc(this,l,"minor")),f&&m[l].isNew&&m[l].render(null,!0),m[l].render(null,!1,1)}renderTick(l,f,m){var S;let v=this.isLinked,b=this.ticks;(!v||l>=this.min&&l<=this.max||(S=this.grid)!=null&&S.isColumn)&&(b[l]||(b[l]=new Yc(this,l)),m&&b[l].isNew&&b[l].render(f,!0,-1),b[l].render(f))}render(){let l,f,m=this,v=m.chart,b=m.logarithmic,S=v.renderer,_=m.options,E=m.isLinked,I=m.tickPositions,F=m.axisTitle,R=m.ticks,z=m.minorTicks,G=m.alternateBands,Z=_.stackLabels,ie=_.alternateGridColor,ne=_.crossing,re=m.tickmarkOffset,oe=m.axisLine,le=m.showAxis,we=F0(S.globalAnimation);if(m.labelEdge.length=0,m.overlap=!1,[R,z,G].forEach(function(ve){Ef(ve,function(xe){xe.isActive=!1})}),wt(ne)){let ve=this.isXAxis?v.yAxis[0]:v.xAxis[0],xe=[1,-1,-1,1][this.side];if(ve){let Te=ve.toPixels(ne,!0);m.horiz&&(Te=ve.len-Te),m.offset=xe*Te}}if(m.hasData()||E){let ve=m.chart.hasRendered&&m.old&&wt(m.old.min);m.minorTickInterval&&!m.categories&&m.getMinorTickPositions().forEach(function(xe){m.renderMinorTick(xe,ve)}),I.length&&(I.forEach(function(xe,Te){m.renderTick(xe,Te,ve)}),re&&(m.min===0||m.single)&&(R[-1]||(R[-1]=new Yc(m,-1,null,!0)),R[-1].render(-1))),ie&&I.forEach(function(xe,Te){f=I[Te+1]!==void 0?I[Te+1]+re:m.max-re,Te%2==0&&xe<m.max&&f<=m.max+(v.polar?-re:re)&&(G[xe]||(G[xe]=new V.PlotLineOrBand(m,{})),l=xe+re,G[xe].options={from:b?b.lin2log(l):l,to:b?b.lin2log(f):f,color:ie,className:"highcharts-alternate-grid"},G[xe].render(),G[xe].isActive=!0)}),m._addedPlotLB||(m._addedPlotLB=!0,(_.plotLines||[]).concat(_.plotBands||[]).forEach(function(xe){m.addPlotBandOrLine(xe)}))}[R,z,G].forEach(function(ve){let xe=[],Te=we.duration;Ef(ve,function(Ne,Pe){Ne.isActive||(Ne.render(Pe,!1,0),Ne.isActive=!1,xe.push(Pe))}),_v(function(){let Ne=xe.length;for(;Ne--;)ve[xe[Ne]]&&!ve[xe[Ne]].isActive&&(ve[xe[Ne]].destroy(),delete ve[xe[Ne]])},ve!==G&&v.hasRendered&&Te?Te:0)}),oe&&(oe[oe.isPlaced?"animate":"attr"]({d:this.getLinePath(oe.strokeWidth())}),oe.isPlaced=!0,oe[le?"show":"hide"](le)),F&&le&&(F[F.isNew?"attr":"animate"](m.getTitlePosition(F)),F.isNew=!1),Z!=null&&Z.enabled&&m.stacking&&m.stacking.renderStackTotals(),m.old={len:m.len,max:m.max,min:m.min,transA:m.transA,userMax:m.userMax,userMin:m.userMin},m.isDirty=!1,tn(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(l){l.render()})),this.series.forEach(function(l){l.isDirty=!0})}getKeepProps(){return this.keepProps||vd.keepProps}destroy(l){let f=this,m=f.plotLinesAndBands,v=this.eventOptions;if(tn(this,"destroy",{keepEvents:l}),l||wv(f),[f.ticks,f.minorTicks,f.alternateBands].forEach(function(b){en(b)}),m){let b=m.length;for(;b--;)m[b].destroy()}for(let b in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(S){f[S]&&(f[S]=f[S].destroy())}),f.plotLinesAndBandsGroups)f.plotLinesAndBandsGroups[b]=f.plotLinesAndBandsGroups[b].destroy();Ef(f,function(b,S){f.getKeepProps().indexOf(S)===-1&&delete f[S]}),this.eventOptions=v}drawCrosshair(l,f){var R;let m=this.crosshair,v=(m==null?void 0:m.snap)??!0,b=this.chart,S,_,E,I=this.cross,F;if(tn(this,"drawCrosshair",{e:l,point:f}),l||(l=(R=this.cross)==null?void 0:R.e),m&&(Rr(f)||!v)!==!1){if(v?Rr(f)&&(_=qt(this.coll!=="colorAxis"?f.crosshairPos:null,this.isXAxis?f.plotX:this.len-f.plotY)):_=l&&(this.horiz?l.chartX-this.pos:this.len-l.chartY+this.pos),Rr(_)&&(F={value:f&&(this.isXAxis?f.x:qt(f.stackY,f.y)),translatedValue:_},b.polar&&Ol(F,{isCrosshair:!0,chartX:l==null?void 0:l.chartX,chartY:l==null?void 0:l.chartY,point:f}),S=this.getPlotLinePath(F)||null),!Rr(S)){this.hideCrosshair();return}E=this.categories&&!this.isRadial,I||(this.cross=I=b.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(E?"category ":"thin ")+(m.className||"")).attr({zIndex:qt(m.zIndex,2)}).add(),!b.styledMode&&(I.attr({stroke:m.color||(E?Br.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":qt(m.width,1)}).css({"pointer-events":"none"}),m.dashStyle&&I.attr({dashstyle:m.dashStyle}))),I.show().attr({d:S}),E&&!m.width&&I.attr({"stroke-width":this.transA}),this.cross.e=l}else this.hideCrosshair();tn(this,"afterDrawCrosshair",{e:l,point:f})}hideCrosshair(){this.cross&&this.cross.hide(),tn(this,"afterHideCrosshair")}update(l,f){let m=this.chart;l=hm(this.userOptions,l),this.destroy(!0),this.init(m,l),m.isDirtyBox=!0,qt(f,!0)&&m.redraw()}remove(l){let f=this.chart,m=this.coll,v=this.series,b=v.length;for(;b--;)v[b]&&v[b].remove(!1);um(f.axes,this),um(f[m]||[],this),f.orderItems(m),this.destroy(),f.isDirtyBox=!0,qt(l,!0)&&f.redraw()}setTitle(l,f){this.update({title:l},f)}setCategories(l,f){this.update({categories:l},f)}}vd.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:B0,getMagnitude:SN,normalizeTickInterval:_N,timeUnits:xd}=Le;(function(O){function l(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function f(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new m(this))}O.compose=function(v){return v.keepProps.includes("dateTime")||(v.keepProps.push("dateTime"),v.prototype.getTimeTicks=l,B0(v,"afterSetType",f)),v};class m{constructor(b){this.axis=b}normalizeTimeTickInterval(b,S){let _=S||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],E=_[_.length-1],I=xd[E[0]],F=E[1],R;for(R=0;R<_.length&&(I=xd[(E=_[R])[0]],F=E[1],!_[R+1]||!(b<=(I*F[F.length-1]+xd[_[R+1][0]])/2));R++);I===xd.year&&b<5*I&&(F=[1,2,5]);let z=_N(b/I,F,E[0]==="year"?Math.max(SN(b/I),1):1);return{unitRange:I,count:z,unitName:E[0]}}getXDateFormat(b,S){let{axis:_}=this,E=_.chart.time;return _.closestPointRange?E.getDateFormat(_.closestPointRange,b,_.options.startOfWeek,S)||E.resolveDTLFormat(S.year).main:E.resolveDTLFormat(S.day).main}}O.Additions=m})(h||(h={}));let Rl=h,{addEvent:jv,normalizeTickInterval:bd,pick:Qa}=Le;(function(O){function l(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new m(this))}function f(){let v=this.logarithmic;v&&(this.lin2val=function(b){return v.lin2log(b)},this.val2lin=function(b){return v.log2lin(b)})}O.compose=function(v){return v.keepProps.includes("logarithmic")||(v.keepProps.push("logarithmic"),jv(v,"afterSetType",l),jv(v,"afterInit",f)),v};class m{constructor(b){this.axis=b}getLogTickPositions(b,S,_,E){let I=this.axis,F=I.len,R=I.options,z=[];if(E||(this.minorAutoInterval=void 0),b>=.5)b=Math.round(b),z=I.getLinearTickPositions(b,S,_);else if(b>=.08){let G,Z,ie,ne,re,oe,le,we=Math.floor(S);for(G=b>.3?[1,2,4]:b>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],Z=we;Z<_+1&&!le;Z++)for(ie=0,ne=G.length;ie<ne&&!le;ie++)(re=this.log2lin(this.lin2log(Z)*G[ie]))>S&&(!E||oe<=_)&&oe!==void 0&&z.push(oe),oe>_&&(le=!0),oe=re}else{let G=this.lin2log(S),Z=this.lin2log(_),ie=E?I.getMinorTickInterval():R.tickInterval,ne=R.tickPixelInterval/(E?5:1),re=E?F/I.tickPositions.length:F;b=bd(b=Qa(ie==="auto"?null:ie,this.minorAutoInterval,(Z-G)*ne/(re||1))),z=I.getLinearTickPositions(b,G,Z).map(this.log2lin),E||(this.minorAutoInterval=b/5)}return E||(I.tickInterval=b),z}lin2log(b){return Math.pow(10,b)}log2lin(b){return Math.log(b)/Math.LN10}}O.Additions=m})(g||(g={}));let Tf=g,{erase:Co,extend:Nv,isNumber:V0}=Le;(function(O){let l;function f(I){return this.addPlotBandOrLine(I,"plotBands")}function m(I,F){let R=this.userOptions,z=new l(this,I);if(this.visible&&(z=z.render()),z){if(this._addedPlotLB||(this._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(G=>{this.addPlotBandOrLine(G)})),F){let G=R[F]||[];G.push(I),R[F]=G}this.plotLinesAndBands.push(z)}return z}function v(I){return this.addPlotBandOrLine(I,"plotLines")}function b(I,F,R){R=R||this.options;let z=this.getPlotLinePath({value:F,force:!0,acrossPanes:R.acrossPanes}),G=[],Z=this.horiz,ie=!V0(this.min)||!V0(this.max)||I<this.min&&F<this.min||I>this.max&&F>this.max,ne=this.getPlotLinePath({value:I,force:!0,acrossPanes:R.acrossPanes}),re,oe=1,le;if(ne&&z)for(ie&&(le=ne.toString()===z.toString(),oe=0),re=0;re<ne.length;re+=2){let we=ne[re],ve=ne[re+1],xe=z[re],Te=z[re+1];(we[0]==="M"||we[0]==="L")&&(ve[0]==="M"||ve[0]==="L")&&(xe[0]==="M"||xe[0]==="L")&&(Te[0]==="M"||Te[0]==="L")&&(Z&&xe[1]===we[1]?(xe[1]+=oe,Te[1]+=oe):Z||xe[2]!==we[2]||(xe[2]+=oe,Te[2]+=oe),G.push(["M",we[1],we[2]],["L",ve[1],ve[2]],["L",Te[1],Te[2]],["L",xe[1],xe[2]],["Z"])),G.isFlat=le}return G}function S(I){this.removePlotBandOrLine(I)}function _(I){let F=this.plotLinesAndBands,R=this.options,z=this.userOptions;if(F){let G=F.length;for(;G--;)F[G].id===I&&F[G].destroy();[R.plotLines||[],z.plotLines||[],R.plotBands||[],z.plotBands||[]].forEach(function(Z){var ie;for(G=Z.length;G--;)((ie=Z[G])==null?void 0:ie.id)===I&&Co(Z,Z[G])})}}function E(I){this.removePlotBandOrLine(I)}O.compose=function(I,F){let R=F.prototype;return R.addPlotBand||(l=I,Nv(R,{addPlotBand:f,addPlotLine:v,addPlotBandOrLine:m,getPlotBandPath:b,removePlotBand:S,removePlotLine:E,removePlotBandOrLine:_})),F}})(y||(y={}));let jN=y,{addEvent:Qc,arrayMax:wd,arrayMin:Zc,defined:Ss,destroyObjectProperties:Av,erase:Sd,fireEvent:Ml,merge:Kr,objectEach:Yr,pick:Dl}=Le;class Gn{static compose(l,f){return Qc(l,"afterInit",function(){this.labelCollectors.push(()=>{var v;let m=[];for(let b of this.axes)for(let{label:S,options:_}of b.plotLinesAndBands)S&&!((v=_==null?void 0:_.label)!=null&&v.allowOverlap)&&m.push(S);return m})}),jN.compose(Gn,f)}constructor(l,f){this.axis=l,this.options=f,this.id=f.id}render(){Ml(this,"render");let{axis:l,options:f}=this,{horiz:m,logarithmic:v}=l,{color:b,events:S,zIndex:_=0}=f,{renderer:E,time:I}=l.chart,F={},R=I.parse(f.to),z=I.parse(f.from),G=I.parse(f.value),Z=f.borderWidth,ie=f.label,{label:ne,svgElem:re}=this,oe=[],le,we=Ss(z)&&Ss(R),ve=Ss(G),xe=!re,Te={class:"highcharts-plot-"+(we?"band ":"line ")+(f.className||"")},Ne=we?"bands":"lines";if(!l.chart.styledMode&&(ve?(Te.stroke=b||"#999999",Te["stroke-width"]=Dl(f.width,1),f.dashStyle&&(Te.dashstyle=f.dashStyle)):we&&(Te.fill=b||"#e6e9ff",Z&&(Te.stroke=f.borderColor,Te["stroke-width"]=Z))),F.zIndex=_,Ne+="-"+_,(le=l.plotLinesAndBandsGroups[Ne])||(l.plotLinesAndBandsGroups[Ne]=le=E.g("plot-"+Ne).attr(F).add()),re||(this.svgElem=re=E.path().attr(Te).add(le)),Ss(G))oe=l.getPlotLinePath({value:(v==null?void 0:v.log2lin(G))??G,lineWidth:re.strokeWidth(),acrossPanes:f.acrossPanes});else{if(!(Ss(z)&&Ss(R)))return;oe=l.getPlotBandPath((v==null?void 0:v.log2lin(z))??z,(v==null?void 0:v.log2lin(R))??R,f)}return!this.eventsAdded&&S&&(Yr(S,(Pe,Ve)=>{re==null||re.on(Ve,Ye=>{S[Ve].apply(this,[Ye])})}),this.eventsAdded=!0),(xe||!re.d)&&(oe!=null&&oe.length)?re.attr({d:oe}):re&&(oe?(re.show(),re.animate({d:oe})):re.d&&(re.hide(),ne&&(this.label=ne=ne.destroy()))),ie&&(Ss(ie.text)||Ss(ie.formatter))&&(oe!=null&&oe.length)&&l.width>0&&l.height>0&&!oe.isFlat?(ie=Kr({align:m&&we?"center":void 0,x:m?!we&&4:10,verticalAlign:!m&&we?"middle":void 0,y:m?we?16:10:we?6:-4,rotation:m&&!we?90:0,...we?{inside:!0}:{}},ie),this.renderLabel(ie,oe,we,_)):ne&&ne.hide(),this}renderLabel(l,f,m,v){var Z;let b=this.axis,S=b.chart.renderer,_=l.inside,E=this.label;E||(this.label=E=S.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(m?"band":"line")+"-label "+(l.className||""),zIndex:v}),b.chart.styledMode||E.css(Kr({fontSize:"0.8em",textOverflow:m&&!_?"":"ellipsis"},l.style)),E.add());let I=f.xBounds||[f[0][1],f[1][1],m?f[2][1]:f[0][1]],F=f.yBounds||[f[0][2],f[1][2],m?f[2][2]:f[0][2]],R=Zc(I),z=Zc(F),G=wd(I)-R;E.align(l,!1,{x:R,y:z,width:G,height:wd(F)-z}),E.alignAttr.y-=S.fontMetrics(E).b,(!E.alignValue||E.alignValue==="left"||Ss(_))&&E.css({width:(((Z=l.style)==null?void 0:Z.width)||(m&&_?G:E.rotation===90?b.height-(E.alignAttr.y-b.top):(l.clip?b.width:b.chart.chartWidth)-(E.alignAttr.x-b.left)))+"px"}),E.show(!0)}getLabelText(l){return Ss(l.formatter)?l.formatter.call(this):l.text}destroy(){Sd(this.axis.plotLinesAndBands,this),delete this.axis,Av(this)}}let{animObject:is}=kn,{format:Ll}=Hn,{composed:_d,dateFormats:ss,doc:Cf,isSafari:z0}=V,{distribute:U0}=Lc,{addEvent:pm,clamp:Jc,css:Za,discardElement:mm,extend:kv,fireEvent:Ev,getAlignFactor:q0,isArray:Fl,isNumber:jd,isObject:Nd,isString:Ad,merge:gm,pick:hi,pushUnique:Hs,splat:Po,syncTimeout:Io}=Le;class _a{constructor(l,f,m){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=l,this.init(l,f),this.pointer=m}bodyFormatter(l){return l.map(f=>{let m=f.series.tooltipOptions,v=f.formatPrefix||"point";return(m[v+"Formatter"]||f.tooltipFormatter).call(f,m[v+"Format"]||"")})}cleanSplit(l){this.chart.series.forEach(function(f){let m=f==null?void 0:f.tt;m&&(!m.isActive||l?f.tt=m.destroy():m.isActive=!1)})}defaultFormatter(l){let f,m=this.points||Po(this);return(f=(f=[l.headerFooterFormatter(m[0])]).concat(l.bodyFormatter(m))).push(l.headerFooterFormatter(m[0],!0)),f}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),mm(this.container)),Le.clearTimeout(this.hideTimer)}getAnchor(l,f){var I;let m,{chart:v,pointer:b}=this,S=v.inverted,_=v.plotTop,E=v.plotLeft;if(l=Po(l),(I=l[0].series)!=null&&I.yAxis&&!l[0].series.yAxis.options.reversedStacks&&(l=l.slice().reverse()),this.followPointer&&f)f.chartX===void 0&&(f=b.normalize(f)),m=[f.chartX-E,f.chartY-_];else if(l[0].tooltipPos)m=l[0].tooltipPos;else{let F=0,R=0;l.forEach(function(z){let G=z.pos(!0);G&&(F+=G[0],R+=G[1])}),F/=l.length,R/=l.length,this.shared&&l.length>1&&f&&(S?F=f.chartX:R=f.chartY),m=[F-E,R-_]}return m.map(Math.round)}getClassName(l,f,m){let v=this.options,b=l.series,S=b.options;return[v.className,"highcharts-label",m&&"highcharts-tooltip-header",f?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+hi(l.colorIndex,b.colorIndex),S==null?void 0:S.className].filter(Ad).join(" ")}getLabel({anchorX:l,anchorY:f}={anchorX:0,anchorY:0}){let m=this,v=this.chart.styledMode,b=this.options,S=this.split&&this.allowShared,_=this.container,E=this.chart.renderer;if(this.label){let I=!this.label.hasClass("highcharts-label");(!S&&I||S&&!I)&&this.destroy()}if(!this.label){if(this.outside){let I=this.chart,F=I.options.chart.style,R=rr.getRendererType();this.container=_=V.doc.createElement("div"),_.className="highcharts-tooltip-container "+(I.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Za(_,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((F==null?void 0:F.zIndex)||0)+3)}),this.renderer=E=new R(_,0,0,F,void 0,void 0,E.styledMode)}if(S?this.label=E.g("tooltip"):(this.label=E.label("",l,f,b.shape||"callout",void 0,void 0,b.useHTML,void 0,"tooltip").attr({padding:b.padding,r:b.borderRadius}),v||this.label.attr({fill:b.backgroundColor,"stroke-width":b.borderWidth||0}).css(b.style).css({pointerEvents:b.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),m.outside){let I=this.label;[I.xSetter,I.ySetter].forEach((F,R)=>{I[R?"ySetter":"xSetter"]=z=>{F.call(I,m.distance),I[R?"y":"x"]=z,_&&(_.style[R?"top":"left"]=`${z}px`)}})}this.label.attr({zIndex:8}).shadow(b.shadow??!b.fixed).add()}return _&&!_.parentElement&&V.doc.body.appendChild(_),this.label}getPlayingField(){let{body:l,documentElement:f}=Cf,{chart:m,distance:v,outside:b}=this;return{width:b?Math.max(l.scrollWidth,f.scrollWidth,l.offsetWidth,f.offsetWidth,f.clientWidth)-2*v-2:m.chartWidth,height:b?Math.max(l.scrollHeight,f.scrollHeight,l.offsetHeight,f.offsetHeight,f.clientHeight):m.chartHeight}}getPosition(l,f,m){var ot,Rt;let{distance:v,chart:b,outside:S,pointer:_}=this,{inverted:E,plotLeft:I,plotTop:F,polar:R}=b,{plotX:z=0,plotY:G=0}=m,Z={},ie=E&&m.h||0,{height:ne,width:re}=this.getPlayingField(),oe=_.getChartPosition(),le=ut=>ut*oe.scaleX,we=ut=>ut*oe.scaleY,ve=ut=>{let It=ut==="x";return[ut,It?re:ne,It?l:f].concat(S?[It?le(l):we(f),It?oe.left-v+le(z+I):oe.top-v+we(G+F),0,It?re:ne]:[It?l:f,It?z+I:G+F,It?I:F,It?I+b.plotWidth:F+b.plotHeight])},xe=ve("y"),Te=ve("x"),Ne,Pe=!!m.negative;!R&&((Rt=(ot=b.hoverSeries)==null?void 0:ot.yAxis)!=null&&Rt.reversed)&&(Pe=!Pe);let Ve=!this.followPointer&&hi(m.ttBelow,!R&&!E===Pe),Ye=function(ut,It,or,nr,fr,Ui,dr){let Er=S?ut==="y"?we(v):le(v):v,Vt=(or-nr)/2,Nt=nr<fr-v,$n=fr+v+nr<It,Tr=fr-Er-or+Vt,Xr=fr+Er-Vt;if(Ve&&$n)Z[ut]=Xr;else if(!Ve&&Nt)Z[ut]=Tr;else if(Nt)Z[ut]=Math.min(dr-nr,Tr-ie<0?Tr:Tr-ie);else{if(!$n)return Z[ut]=0,!1;Z[ut]=Math.max(Ui,Xr+ie+or>It?Xr:Xr+ie)}},tt=function(ut,It,or,nr,fr){if(fr<v||fr>It-v)return!1;fr<or/2?Z[ut]=1:fr>It-nr/2?Z[ut]=It-nr-2:Z[ut]=fr-or/2},Ze=function(ut){[xe,Te]=[Te,xe],Ne=ut},lt=()=>{Ye.apply(0,xe)!==!1?tt.apply(0,Te)!==!1||Ne||(Ze(!0),lt()):Ne?Z.x=Z.y=0:(Ze(!0),lt())};return(E&&!R||this.len>1)&&Ze(),lt(),Z}getFixedPosition(l,f,m){var z;let v=m.series,{chart:b,options:S,split:_}=this,E=S.position,I=E.relativeTo,F=S.shared||(z=v==null?void 0:v.yAxis)!=null&&z.isRadial&&(I==="pane"||!I)?"plotBox":I,R=F==="chart"?b.renderer:b[F]||b.getClipBox(v,!0);return{x:R.x+(R.width-l)*q0(E.align)+E.x,y:R.y+(R.height-f)*q0(E.verticalAlign)+(!_&&E.y||0)}}hide(l){let f=this;Le.clearTimeout(this.hideTimer),l=hi(l,this.options.hideDelay),this.isHidden||(this.hideTimer=Io(function(){let m=f.getLabel();f.getLabel().animate({opacity:0},{duration:l&&150,complete:()=>{m.hide(),f.container&&f.container.remove()}}),f.isHidden=!0},l))}init(l,f){this.chart=l,this.options=f,this.crosshairs=[],this.isHidden=!0,this.split=f.split&&!l.inverted&&!l.polar,this.shared=f.shared||this.split,this.outside=hi(f.outside,!!(l.scrollablePixelsX||l.scrollablePixelsY))}shouldStickOnContact(l){return!!(!this.followPointer&&this.options.stickOnContact&&(!l||this.pointer.inClass(l.target,"highcharts-tooltip")))}move(l,f,m,v){let{followPointer:b,options:S}=this,_=is(!b&&!this.isHidden&&!S.fixed&&S.animation),E=b||(this.len||0)>1,I={x:l,y:f};E?I.anchorX=I.anchorY=NaN:(I.anchorX=m,I.anchorY=v),_.step=()=>this.drawTracker(),this.getLabel().animate(I,_)}refresh(l,f){let{chart:m,options:v,pointer:b,shared:S}=this,_=Po(l),E=_[0],I=v.format,F=v.formatter||this.defaultFormatter,R=m.styledMode,z=this.allowShared;if(!v.enabled||!E.series)return;Le.clearTimeout(this.hideTimer),this.allowShared=!(!Fl(l)&&l.series&&l.series.noSharedTooltip),z=z&&!this.allowShared,this.followPointer=!this.split&&E.series.tooltipOptions.followPointer;let G=this.getAnchor(l,f),Z=G[0],ie=G[1];S&&this.allowShared&&(b.applyInactiveState(_),_.forEach(oe=>oe.setState("hover")),E.points=_),this.len=_.length;let ne=Ad(I)?Ll(I,E,m):F.call(E,this);E.points=void 0;let re=E.series;if(this.distance=hi(re.tooltipOptions.distance,16),ne===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(ne,_);else{let oe=Z,le=ie;if(f&&b.isDirectTouch&&(oe=f.chartX-m.plotLeft,le=f.chartY-m.plotTop),m.polar||re.options.clip===!1||_.some(we=>b.isDirectTouch||we.series.shouldShowTooltip(oe,le))){let we=this.getLabel(z&&this.tt||{});(!v.style.width||R)&&we.css({width:(this.outside?this.getPlayingField():m.spacingBox).width+"px"}),we.attr({class:this.getClassName(E),text:ne&&ne.join?ne.join(""):ne}),this.outside&&we.attr({x:Jc(we.x||0,0,this.getPlayingField().width-(we.width||0)-1)}),R||we.attr({stroke:v.borderColor||E.color||re.color||"#666666"}),this.updatePosition({plotX:Z,plotY:ie,negative:E.negative,ttBelow:E.ttBelow,series:re,h:G[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Ev(this,"refresh")}renderSplit(l,f){var fr,Ui;let m=this,{chart:v,chart:{chartWidth:b,chartHeight:S,plotHeight:_,plotLeft:E,plotTop:I,scrollablePixelsY:F=0,scrollablePixelsX:R,styledMode:z},distance:G,options:Z,options:{fixed:ie,position:ne,positioner:re},pointer:oe}=m,{scrollLeft:le=0,scrollTop:we=0}=((fr=v.scrollablePlotArea)==null?void 0:fr.scrollingContainer)||{},ve=m.outside&&typeof R!="number"?Cf.documentElement.getBoundingClientRect():{left:le,right:le+b},xe=m.getLabel(),Te=this.renderer||v.renderer,Ne=!!((Ui=v.xAxis[0])!=null&&Ui.opposite),{left:Pe,top:Ve}=oe.getChartPosition(),Ye=re||ie,tt=I+we,Ze=0,lt=_-F,ot=function(dr,Er,Vt,Nt=[0,0],$n=!0){let Tr,Xr;if(Vt.isHeader)Xr=Ne?0:lt,Tr=Jc(Nt[0]-dr/2,ve.left,ve.right-dr-(m.outside?Pe:0));else if(ie&&Vt){let oi=m.getFixedPosition(dr,Er,Vt);Tr=oi.x,Xr=oi.y-tt}else Xr=Nt[1]-tt,Tr=Jc(Tr=$n?Nt[0]-dr-G:Nt[0]+G,$n?Tr:ve.left,ve.right);return{x:Tr,y:Xr}};Ad(l)&&(l=[!1,l]);let Rt=l.slice(0,f.length+1).reduce(function(dr,Er,Vt){if(Er!==!1&&Er!==""){let Nt=f[Vt-1]||{isHeader:!0,plotX:f[0].plotX,plotY:_,series:{}},$n=Nt.isHeader,Tr=$n?m:Nt.series,Xr=Tr.tt=function(Ts,Qn,cx){let Jd=Ts,{isHeader:Jf,series:ux}=Qn,Ko=ux.tooltipOptions||Z;if(!Jd){let rg={padding:Ko.padding,r:Ko.borderRadius};z||(rg.fill=Ko.backgroundColor,rg["stroke-width"]=Ko.borderWidth??(ie&&!Jf?0:1)),Jd=Te.label("",0,0,Ko[Jf?"headerShape":"shape"]||(ie&&!Jf?"rect":"callout"),void 0,void 0,Ko.useHTML).addClass(m.getClassName(Qn,!0,Jf)).attr(rg).add(xe)}return Jd.isActive=!0,Jd.attr({text:cx}),z||Jd.css(Ko.style).attr({stroke:Ko.borderColor||Qn.color||ux.color||"#333333"}),Jd}(Tr.tt,Nt,Er.toString()),oi=Xr.getBBox(),uu=oi.width+Xr.strokeWidth();$n&&(Ze=oi.height,lt+=Ze,Ne&&(tt-=Ze));let{anchorX:io,anchorY:so}=function(Ts){let Qn,cx,{isHeader:Jd,plotX:Jf=0,plotY:ux=0,series:Ko}=Ts;if(Jd)Qn=Math.max(E+Jf,E),cx=I+_/2;else{let{xAxis:rg,yAxis:hM}=Ko;Qn=rg.pos+Jc(Jf,-G,rg.len+G),Ko.shouldShowTooltip(0,hM.pos-I+ux,{ignoreX:!0})&&(cx=hM.pos+ux)}return{anchorX:Qn=Jc(Qn,ve.left-G,ve.right+G),anchorY:cx}}(Nt);if(typeof so=="number"){let Ts=oi.height+1,Qn=(re||ot).call(m,uu,Ts,Nt,[io,so]);dr.push({align:Ye?0:void 0,anchorX:io,anchorY:so,boxWidth:uu,point:Nt,rank:hi(Qn.rank,+!!$n),size:Ts,target:Qn.y,tt:Xr,x:Qn.x})}else Xr.isActive=!1}return dr},[]);!Ye&&Rt.some(dr=>{let{outside:Er}=m,Vt=(Er?Pe:0)+dr.anchorX;return Vt<ve.left&&Vt+dr.boxWidth<ve.right||Vt<Pe-ve.left+dr.boxWidth&&ve.right-Vt>Vt})&&(Rt=Rt.map(dr=>{let{x:Er,y:Vt}=ot.call(this,dr.boxWidth,dr.size,dr.point,[dr.anchorX,dr.anchorY],!1);return kv(dr,{target:Vt,x:Er})})),m.cleanSplit(),U0(Rt,lt);let ut={left:Pe,right:Pe};Rt.forEach(function(dr){let{x:Er,boxWidth:Vt,isHeader:Nt}=dr;!Nt&&(m.outside&&Pe+Er<ut.left&&(ut.left=Pe+Er),!Nt&&m.outside&&ut.left+Vt>ut.right&&(ut.right=Pe+Er))}),Rt.forEach(function(dr){let{x:Er,anchorX:Vt,anchorY:Nt,pos:$n,point:{isHeader:Tr}}=dr,Xr={visibility:$n===void 0?"hidden":"inherit",x:Er,y:($n||0)+tt+(ie&&ne.y||0),anchorX:Vt,anchorY:Nt};if(m.outside&&Er<Vt){let oi=Pe-ut.left;oi>0&&(Tr||(Xr.x=Er+oi,Xr.anchorX=Vt+oi),Tr&&(Xr.x=(ut.right-ut.left)/2,Xr.anchorX=Vt+oi))}dr.tt.attr(Xr)});let{container:It,outside:or,renderer:nr}=m;if(or&&It&&nr){let{width:dr,height:Er,x:Vt,y:Nt}=xe.getBBox();nr.setSize(dr+Vt,Er+Nt,!1),It.style.left=ut.left+"px",It.style.top=Ve+"px"}z0&&xe.attr({opacity:xe.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let l=this.chart,f=this.label,m=this.shared?l.hoverPoints:l.hoverPoint;if(!f||!m)return;let v={x:0,y:0,width:0,height:0},b=this.getAnchor(m),S=f.getBBox();b[0]+=l.plotLeft-(f.translateX||0),b[1]+=l.plotTop-(f.translateY||0),v.x=Math.min(0,b[0]),v.y=Math.min(0,b[1]),v.width=b[0]<0?Math.max(Math.abs(b[0]),S.width-b[0]):Math.max(Math.abs(b[0]),S.width),v.height=b[1]<0?Math.max(Math.abs(b[1]),S.height-Math.abs(b[1])):Math.max(Math.abs(b[1]),S.height),this.tracker?this.tracker.attr(v):(this.tracker=f.renderer.rect(v).addClass("highcharts-tracker").add(f),l.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(l){return l.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(l,f){let m=l.series,v=m.tooltipOptions,b=m.xAxis,S=b==null?void 0:b.dateTime,_={isFooter:f,point:l},E=v.xDateFormat||"",I=v[f?"footerFormat":"headerFormat"];return Ev(this,"headerFormatter",_,function(F){if(S&&!E&&jd(l.key)&&(E=S.getXDateFormat(l.key,v.dateTimeLabelFormats)),S&&E){if(Nd(E)){let R=E;ss[0]=z=>m.chart.time.dateFormat(R,z),E="%0"}(l.tooltipDateKeys||["key"]).forEach(R=>{I=I.replace(RegExp("point\\."+R+"([ \\)}])"),`(point.${R}:${E})$1`)})}m.chart.styledMode&&(I=this.styledModeFormat(I)),F.text=Ll(I,l,this.chart)}),_.text||""}update(l){this.destroy(),this.init(this.chart,gm(!0,this.options,l))}updatePosition(l){var ve;let{chart:f,container:m,distance:v,options:b,pointer:S,renderer:_}=this,{height:E=0,width:I=0}=this.getLabel(),{fixed:F,positioner:R}=b,{left:z,top:G,scaleX:Z,scaleY:ie}=S.getChartPosition(),ne=(R||F&&this.getFixedPosition||this.getPosition).call(this,I,E,l),re=V.doc,oe=(l.plotX||0)+f.plotLeft,le=(l.plotY||0)+f.plotTop,we;if(_&&m){if(R||F){let{scrollLeft:xe=0,scrollTop:Te=0}=((ve=f.scrollablePlotArea)==null?void 0:ve.scrollingContainer)||{};ne.x+=xe+z-v,ne.y+=Te+G-v}we=(b.borderWidth||0)+2*v+2,_.setSize(Jc(I+we,0,re.documentElement.clientWidth)-1,E+we,!1),(Z!==1||ie!==1)&&(Za(m,{transform:`scale(${Z}, ${ie})`}),oe*=Z,le*=ie),oe+=z-ne.x,le+=G-ne.y}this.move(Math.round(ne.x),Math.round(ne.y||0),oe,le)}}(function(O){O.compose=function(l){Hs(_d,"Core.Tooltip")&&pm(l,"afterInit",function(){let f=this.chart;f.options.tooltip&&(f.tooltip=new O(f,f.options.tooltip,this))})}})(_a||(_a={}));let $l=_a,{animObject:H0}=kn,{defaultOptions:Tv}=Gt,{format:Cv}=Hn,{addEvent:_s,crisp:js,erase:on,extend:as,fireEvent:ym,getNestedProperty:W0,isArray:Pv,isFunction:Iv,isNumber:Oo,isObject:eu,merge:Ov,pick:Ns,syncTimeout:Rv,removeEvent:G0,uniqueKey:Pf}=Le;class Bl{animateBeforeDestroy(){let l=this,f={x:l.startXPos,opacity:0},m=l.getGraphicalProps();m.singular.forEach(function(v){l[v]=l[v].animate(v==="dataLabel"?{x:l[v].startXPos,y:l[v].startYPos,opacity:0}:f)}),m.plural.forEach(function(v){l[v].forEach(function(b){b.element&&b.animate(as({x:l.startXPos},b.startYPos?{x:b.startXPos,y:b.startYPos}:{}))})})}applyOptions(l,f){let m=this.series,v=m.options.pointValKey||m.pointValKey;return as(this,l=Bl.prototype.optionsToObject.call(this,l)),this.options=this.options?as(this.options,l):l,l.group&&delete this.group,l.dataLabels&&delete this.dataLabels,v&&(this.y=Bl.prototype.getNestedProperty.call(this,v)),this.selected&&(this.state="select"),"name"in this&&f===void 0&&m.xAxis&&m.xAxis.hasNames&&(this.x=m.xAxis.nameToX(this)),this.x===void 0&&m?this.x=f??m.autoIncrement():Oo(l.x)&&m.options.relativeXValue?this.x=m.autoIncrement(l.x):typeof this.x=="string"&&(f??(f=m.chart.time.parse(this.x)),Oo(f)&&(this.x=f)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let l=this,f=l.series,m=f.chart,v=f.options.dataSorting,b=m.hoverPoints,S=H0(l.series.chart.renderer.globalAnimation),_=()=>{for(let E in(l.graphic||l.graphics||l.dataLabel||l.dataLabels)&&(G0(l),l.destroyElements()),l)delete l[E]};l.legendItem&&m.legend.destroyItem(l),b&&(l.setState(),on(b,l),b.length||(m.hoverPoints=null)),l===m.hoverPoint&&l.onMouseOut(),v!=null&&v.enabled?(this.animateBeforeDestroy(),Rv(_,S.duration)):_(),m.pointCount--}this.destroyed=!0}destroyElements(l){let f=this,m=f.getGraphicalProps(l);m.singular.forEach(function(v){f[v]=f[v].destroy()}),m.plural.forEach(function(v){f[v].forEach(function(b){b!=null&&b.element&&b.destroy()}),delete f[v]})}firePointEvent(l,f,m){let v=this,b=this.series.options;v.manageEvent(l),l==="click"&&b.allowPointSelect&&(m=function(S){!v.destroyed&&v.select&&v.select(null,S.ctrlKey||S.metaKey||S.shiftKey)}),ym(v,l,f,m)}getClassName(){var l;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((l=this.zone)!=null&&l.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(l){let f,m,v=this,b=[],S={singular:[],plural:[]};for((l=l||{graphic:1,dataLabel:1}).graphic&&b.push("graphic","connector"),l.dataLabel&&b.push("dataLabel","dataLabelPath","dataLabelUpper"),m=b.length;m--;)v[f=b[m]]&&S.singular.push(f);return["graphic","dataLabel"].forEach(function(_){let E=_+"s";l[_]&&v[E]&&S.plural.push(E)}),S}getNestedProperty(l){return l?l.indexOf("custom.")===0?W0(l,this.options):this[l]:void 0}getZone(){let l=this.series,f=l.zones,m=l.zoneAxis||"y",v,b=0;for(v=f[0];this[m]>=v.value;)v=f[++b];return this.nonZonedColor||(this.nonZonedColor=this.color),v!=null&&v.color&&!this.options.color?this.color=v.color:this.color=this.nonZonedColor,v}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(l,f,m){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=l,this.applyOptions(f,m),this.id??(this.id=Pf()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=l.options.nullInteraction),l.chart.pointCount++,ym(this,"afterInit")}isValid(){return(Oo(this.x)||this.x instanceof Date)&&Oo(this.y)}optionsToObject(l){var F;let f=this.series,m=f.options.keys,v=m||f.pointArrayMap||["y"],b=v.length,S={},_,E=0,I=0;if(Oo(l)||l===null)S[v[0]]=l;else if(Pv(l))for(!m&&l.length>b&&((_=typeof l[0])=="string"?(F=f.xAxis)!=null&&F.dateTime?S.x=f.chart.time.parse(l[0]):S.name=l[0]:_==="number"&&(S.x=l[0]),E++);I<b;)m&&l[E]===void 0||(v[I].indexOf(".")>0?Bl.prototype.setNestedProperty(S,l[E],v[I]):S[v[I]]=l[E]),E++,I++;else typeof l=="object"&&(S=l,l.dataLabels&&(f.hasDataLabels=()=>!0),l.marker&&(f._hasPointMarkers=!0));return S}pos(l,f=this.plotY){if(!this.destroyed){let{plotX:m,series:v}=this,{chart:b,xAxis:S,yAxis:_}=v,E=0,I=0;if(Oo(m)&&Oo(f))return l&&(E=S?S.pos:b.plotLeft,I=_?_.pos:b.plotTop),b.inverted&&S&&_?[_.len-f+I,S.len-m+E]:[m+E,f+I]}}resolveColor(){let l=this.series,f=l.chart.options.chart,m=l.chart.styledMode,v,b,S=f.colorCount,_;delete this.nonZonedColor,l.options.colorByPoint?(m||(v=(b=l.options.colors||l.chart.options.colors)[l.colorCounter],S=b.length),_=l.colorCounter,l.colorCounter++,l.colorCounter===S&&(l.colorCounter=0)):(m||(v=l.color),_=l.colorIndex),this.colorIndex=Ns(this.options.colorIndex,_),this.color=Ns(this.options.color,v)}setNestedProperty(l,f,m){return m.split(".").reduce(function(v,b,S,_){let E=_.length-1===S;return v[b]=E?f:eu(v[b],!0)?v[b]:{},v[b]},l),l}shouldDraw(){return!this.isNull}tooltipFormatter(l){var E;let{chart:f,pointArrayMap:m=["y"],tooltipOptions:v}=this.series,{valueDecimals:b="",valuePrefix:S="",valueSuffix:_=""}=v;return f.styledMode&&(l=((E=f.tooltip)==null?void 0:E.styledModeFormat(l))||l),m.forEach(I=>{I="{point."+I,(S||_)&&(l=l.replace(RegExp(I+"}","g"),S+I+"}"+_)),l=l.replace(RegExp(I+"}","g"),I+":,."+b+"f}")}),Cv(l,this,f)}update(l,f,m,v){let b,S=this,_=S.series,E=S.graphic,I=_.chart,F=_.options;function R(){S.applyOptions(l);let z=E&&S.hasMockGraphic,G=S.y===null?!z:z;E&&G&&(S.graphic=E.destroy(),delete S.hasMockGraphic),eu(l,!0)&&(E!=null&&E.element&&l&&l.marker&&l.marker.symbol!==void 0&&(S.graphic=E.destroy()),l!=null&&l.dataLabels&&S.dataLabel&&(S.dataLabel=S.dataLabel.destroy())),b=S.index;let Z={};for(let ie of _.dataColumnKeys())Z[ie]=S[ie];_.dataTable.setRow(Z,b),F.data[b]=eu(F.data[b],!0)||eu(l,!0)?S.options:Ns(l,F.data[b]),_.isDirty=_.isDirtyData=!0,!_.fixedBox&&_.hasCartesianSeries&&(I.isDirtyBox=!0),F.legendType==="point"&&(I.isDirtyLegend=!0),f&&I.redraw(m)}f=Ns(f,!0),v===!1?R():S.firePointEvent("update",{options:l},R)}remove(l,f){this.series.removePoint(this.series.data.indexOf(this),l,f)}select(l,f){let m=this,v=m.series,b=v.chart;l=Ns(l,!m.selected),this.selectedStaging=l,m.firePointEvent(l?"select":"unselect",{accumulate:f},function(){m.selected=m.options.selected=l,v.options.data[v.data.indexOf(m)]=m.options,m.setState(l&&"select"),f||b.getSelectedPoints().forEach(function(S){let _=S.series;S.selected&&S!==m&&(S.selected=S.options.selected=!1,_.options.data[_.data.indexOf(S)]=S.options,S.setState(b.hoverPoints&&_.options.inactiveOtherPoints?"inactive":""),S.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(l){let{inverted:f,pointer:m}=this.series.chart;m&&(l=l?m.normalize(l):m.getChartCoordinatesFromPoint(this,f),m.runPointActions(l,this))}onMouseOut(){let l=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(l.hoverPoints||[]).forEach(function(f){f.setState()}),l.hoverPoints=l.hoverPoint=null}manageEvent(l){var v,b,S,_,E,I,F;let f=Ov(this.series.options.point,this.options),m=(v=f.events)==null?void 0:v[l];Iv(m)&&(!((b=this.hcEvents)!=null&&b[l])||((_=(S=this.hcEvents)==null?void 0:S[l])==null?void 0:_.map(R=>R.fn).indexOf(m))===-1)?((E=this.importedUserEvent)==null||E.call(this),this.importedUserEvent=_s(this,l,m),this.hcEvents&&(this.hcEvents[l].userEvent=!0)):this.importedUserEvent&&!m&&((I=this.hcEvents)!=null&&I[l])&&((F=this.hcEvents)!=null&&F[l].userEvent)&&(G0(this,l),delete this.hcEvents[l],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(l,f){var xe,Te;let m=this.series,v=this.state,b=m.options.states[l||"normal"]||{},S=Tv.plotOptions[m.type].marker&&m.options.marker,_=S&&S.enabled===!1,E=((xe=S==null?void 0:S.states)==null?void 0:xe[l||"normal"])||{},I=E.enabled===!1,F=this.marker||{},R=m.chart,z=S&&m.markerAttribs,G=m.halo,Z,ie,ne,re=m.stateMarkerGraphic,oe;if((l=l||"")===this.state&&!f||this.selected&&l!=="select"||b.enabled===!1||l&&(I||_&&E.enabled===!1)||l&&F.states&&F.states[l]&&F.states[l].enabled===!1)return;if(this.state=l,z&&(Z=m.markerAttribs(this,l)),this.graphic&&!this.hasMockGraphic){if(v&&this.graphic.removeClass("highcharts-point-"+v),l&&this.graphic.addClass("highcharts-point-"+l),!R.styledMode){ie=m.pointAttribs(this,l),ne=Ns(R.options.chart.animation,b.animation);let Ne=ie.opacity;m.options.inactiveOtherPoints&&Oo(Ne)&&(this.dataLabels||[]).forEach(function(Pe){Pe&&!Pe.hasClass("highcharts-data-label-hidden")&&(Pe.animate({opacity:Ne},ne),Pe.connector&&Pe.connector.animate({opacity:Ne},ne))}),this.graphic.animate(ie,ne)}Z&&this.graphic.animate(Z,Ns(R.options.chart.animation,E.animation,S.animation)),re&&re.hide()}else l&&E&&(oe=F.symbol||m.symbol,re&&re.currentSymbol!==oe&&(re=re.destroy()),Z&&(re?re[f?"animate":"attr"]({x:Z.x,y:Z.y}):oe&&(m.stateMarkerGraphic=re=R.renderer.symbol(oe,Z.x,Z.y,Z.width,Z.height,Ov(S,E)).add(m.markerGroup),re.currentSymbol=oe)),!R.styledMode&&re&&this.state!=="inactive"&&re.attr(m.pointAttribs(this,l))),re&&(re[l&&this.isInside?"show":"hide"](),re.element.point=this,re.addClass(this.getClassName(),!0));let le=b.halo,we=this.graphic||re,ve=(we==null?void 0:we.visibility)||"inherit";le!=null&&le.size&&we&&ve!=="hidden"&&!this.isCluster?(G||(m.halo=G=R.renderer.path().add(we.parentGroup)),G.show()[f?"animate":"attr"]({d:this.haloPath(le.size)}),G.attr({class:"highcharts-halo highcharts-color-"+Ns(this.colorIndex,m.colorIndex)+(this.className?" "+this.className:""),visibility:ve,zIndex:-1}),G.point=this,R.styledMode||G.attr(as({fill:this.color||m.color,"fill-opacity":le.opacity},cr.filterUserAttributes(le.attributes||{})))):(Te=G==null?void 0:G.point)!=null&&Te.haloPath&&!G.point.destroyed&&G.animate({d:G.point.haloPath(0)},null,G.hide),ym(this,"afterSetState",{state:l})}haloPath(l){let f=this.pos();return f?this.series.chart.renderer.symbols.circle(js(f[0],1)-l,f[1]-l,2*l,2*l):[]}}let Ro=Bl,{parse:K0}=Br,{charts:Vl,composed:Y0,isTouchDevice:vm}=V,{addEvent:Bi,attr:kd,css:If,extend:Of,find:xm,fireEvent:Ja,isNumber:Mo,isObject:Vi,objectEach:tu,offset:Mv,pick:ja,pushUnique:Do,splat:Lo}=Le;class En{applyInactiveState(l=[]){let f=[];l.forEach(m=>{let v=m.series;f.push(v),v.linkedParent&&f.push(v.linkedParent),v.linkedSeries&&f.push.apply(f,v.linkedSeries),v.navigatorSeries&&f.push(v.navigatorSeries),v.boosted&&v.markerGroup&&f.push.apply(f,this.chart.series.filter(b=>b.markerGroup===v.markerGroup))}),this.chart.series.forEach(m=>{f.indexOf(m)===-1?m.setState("inactive",!0):m.options.inactiveOtherPoints&&m.setAllPointsToState("inactive")})}destroy(){let l=this;this.eventsToUnbind.forEach(f=>f()),this.eventsToUnbind=[],!V.chartCount&&(En.unbindDocumentMouseUp.forEach(f=>f.unbind()),En.unbindDocumentMouseUp.length=0,En.unbindDocumentTouchEnd&&(En.unbindDocumentTouchEnd=En.unbindDocumentTouchEnd())),clearInterval(l.tooltipTimeout),tu(l,function(f,m){l[m]=void 0})}getSelectionMarkerAttrs(l,f){let m={args:{chartX:l,chartY:f},attrs:{},shapeType:"rect"};return Ja(this,"getSelectionMarkerAttrs",m,v=>{let b,{chart:S,zoomHor:_,zoomVert:E}=this,{mouseDownX:I=0,mouseDownY:F=0}=S,R=v.attrs;R.x=S.plotLeft,R.y=S.plotTop,R.width=_?1:S.plotWidth,R.height=E?1:S.plotHeight,_&&(R.width=Math.max(1,Math.abs(b=l-I)),R.x=(b>0?0:b)+I),E&&(R.height=Math.max(1,Math.abs(b=f-F)),R.y=(b>0?0:b)+F)}),m}drag(l){let{chart:f}=this,{mouseDownX:m=0,mouseDownY:v=0}=f,{panning:b,panKey:S,selectionMarkerFill:_}=f.options.chart,E=f.plotLeft,I=f.plotTop,F=f.plotWidth,R=f.plotHeight,z=Vi(b)?b.enabled:b,G=S&&l[`${S}Key`],Z=l.chartX,ie=l.chartY,ne,re=this.selectionMarker;if((!re||!re.touch)&&(Z<E?Z=E:Z>E+F&&(Z=E+F),ie<I?ie=I:ie>I+R&&(ie=I+R),this.hasDragged=Math.sqrt(Math.pow(m-Z,2)+Math.pow(v-ie,2)),this.hasDragged>10)){ne=f.isInsidePlot(m-E,v-I,{visiblePlotOnly:!0});let{shapeType:oe,attrs:le}=this.getSelectionMarkerAttrs(Z,ie);(f.hasCartesianSeries||f.mapView)&&this.hasZoom&&ne&&!G&&!re&&(this.selectionMarker=re=f.renderer[oe](),re.attr({class:"highcharts-selection-marker",zIndex:7}).add(),f.styledMode||re.attr({fill:_||K0("#334eff").setOpacity(.25).get()})),re&&re.attr(le),ne&&!re&&z&&f.pan(l,b)}}dragStart(l){let f=this.chart;f.mouseIsDown=l.type,f.cancelClick=!1,f.mouseDownX=l.chartX,f.mouseDownY=l.chartY}getSelectionBox(l){let f={args:{marker:l},result:l.getBBox()};return Ja(this,"getSelectionBox",f),f.result}drop(l){let f,{chart:m,selectionMarker:v}=this;for(let b of m.axes)b.isPanning&&(b.isPanning=!1,(b.options.startOnTick||b.options.endOnTick||b.series.some(S=>S.boosted))&&(b.forceRedraw=!0,b.setExtremes(b.userMin,b.userMax,!1),f=!0));if(f&&m.redraw(),v&&l){if(this.hasDragged){let b=this.getSelectionBox(v);m.transform({axes:m.axes.filter(S=>S.zoomEnabled&&(S.coll==="xAxis"&&this.zoomX||S.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:l,xAxis:[],yAxis:[],...b},from:b})}Mo(m.index)&&(this.selectionMarker=v.destroy())}m&&Mo(m.index)&&(If(m.container,{cursor:m._cursor}),m.cancelClick=this.hasDragged>10,m.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(l,f,m){let v;return l.forEach(function(b){let S=!(b.noSharedTooltip&&f)&&0>b.options.findNearestPointBy.indexOf("y"),_=b.searchPoint(m,S);Vi(_,!0)&&_.series&&(!Vi(v,!0)||function(E,I){var G,Z;let F=E.distX-I.distX,R=E.dist-I.dist,z=((G=I.series.group)==null?void 0:G.zIndex)-((Z=E.series.group)==null?void 0:Z.zIndex);return F!==0&&f?F:R!==0?R:z!==0?z:E.series.index>I.series.index?-1:1}(v,_)>0)&&(v=_)}),v}getChartCoordinatesFromPoint(l,f){let{xAxis:m,yAxis:v}=l.series,b=l.shapeArgs;if(m&&v){let S=l.clientX??l.plotX??0,_=l.plotY||0;return l.isNode&&b&&Mo(b.x)&&Mo(b.y)&&(S=b.x,_=b.y),f?{chartX:v.len+v.pos-_,chartY:m.len+m.pos-S}:{chartX:S+m.pos,chartY:_+v.pos}}if(b!=null&&b.x&&b.y)return{chartX:b.x,chartY:b.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:l}=this.chart,f=Mv(l);this.chartPosition={left:f.left,top:f.top,scaleX:1,scaleY:1};let{offsetHeight:m,offsetWidth:v}=l;return v>2&&m>2&&(this.chartPosition.scaleX=f.width/v,this.chartPosition.scaleY=f.height/m),this.chartPosition}getCoordinates(l){let f={xAxis:[],yAxis:[]};for(let m of this.chart.axes)f[m.isXAxis?"xAxis":"yAxis"].push({axis:m,value:m.toValue(l[m.horiz?"chartX":"chartY"])});return f}getHoverData(l,f,m,v,b,S){let _=[],E=function(G){return G.visible&&!(!b&&G.directTouch)&&ja(G.options.enableMouseTracking,!0)},I=f,F,R={chartX:S?S.chartX:void 0,chartY:S?S.chartY:void 0,shared:b};Ja(this,"beforeGetHoverData",R),F=I&&!I.stickyTracking?[I]:m.filter(G=>G.stickyTracking&&(R.filter||E)(G));let z=v&&l||!S?l:this.findNearestKDPoint(F,b,S);return I=z==null?void 0:z.series,z&&(b&&!I.noSharedTooltip?(F=m.filter(function(G){return R.filter?R.filter(G):E(G)&&!G.noSharedTooltip})).forEach(function(G){var ne;let Z=(ne=G.options)==null?void 0:ne.nullInteraction,ie=xm(G.points,function(re){return re.x===z.x&&(!re.isNull||!!Z)});Vi(ie)&&(G.boosted&&G.boost&&(ie=G.boost.getPoint(ie)),_.push(ie))}):_.push(z)),Ja(this,"afterGetHoverData",R={hoverPoint:z}),{hoverPoint:R.hoverPoint,hoverSeries:I,hoverPoints:_}}getPointFromEvent(l){let f=l.target,m;for(;f&&!m;)m=f.point,f=f.parentNode;return m}onTrackerMouseOut(l){let f=this.chart,m=l.relatedTarget,v=f.hoverSeries;this.isDirectTouch=!1,!v||!m||v.stickyTracking||this.inClass(m,"highcharts-tooltip")||this.inClass(m,"highcharts-series-"+v.index)&&this.inClass(m,"highcharts-tracker")||v.onMouseOut()}inClass(l,f){let m=l,v;for(;m;){if(v=kd(m,"class")){if(v.indexOf(f)!==-1)return!0;if(v.indexOf("highcharts-container")!==-1)return!1}m=m.parentElement}}constructor(l,f){var m;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=f,this.chart=l,this.runChartClick=!!((m=f.chart.events)!=null&&m.click),this.pinchDown=[],this.setDOMEvents(),Ja(this,"afterInit")}normalize(l,f){let m=l.touches,v=m?m.length?m.item(0):ja(m.changedTouches,l.changedTouches)[0]:l;f||(f=this.getChartPosition());let b=v.pageX-f.left,S=v.pageY-f.top;return Of(l,{chartX:Math.round(b/=f.scaleX),chartY:Math.round(S/=f.scaleY)})}onContainerClick(l){let f=this.chart,m=f.hoverPoint,v=this.normalize(l),b=f.plotLeft,S=f.plotTop;!f.cancelClick&&(m&&this.inClass(v.target,"highcharts-tracker")?(Ja(m.series,"click",Of(v,{point:m})),f.hoverPoint&&m.firePointEvent("click",v)):(Of(v,this.getCoordinates(v)),f.isInsidePlot(v.chartX-b,v.chartY-S,{visiblePlotOnly:!0})&&Ja(f,"click",v)))}onContainerMouseDown(l){var m;let f=(1&(l.buttons||l.button))==1;l=this.normalize(l),V.isFirefox&&l.button!==0&&this.onContainerMouseMove(l),(l.button===void 0||f)&&(this.zoomOption(l),f&&((m=l.preventDefault)==null||m.call(l)),this.dragStart(l))}onContainerMouseLeave(l){let{pointer:f}=Vl[ja(En.hoverChartIndex,-1)]||{};l=this.normalize(l),this.onContainerMouseMove(l),f&&!this.inClass(l.relatedTarget,"highcharts-tooltip")&&(f.reset(),f.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(l){let f=this.chart,m=f.tooltip,v=this.normalize(l);this.setHoverChartIndex(l),(f.mouseIsDown==="mousedown"||this.touchSelect(v))&&this.drag(v),!f.openMenu&&(this.inClass(v.target,"highcharts-tracker")||f.isInsidePlot(v.chartX-f.plotLeft,v.chartY-f.plotTop,{visiblePlotOnly:!0}))&&!(m!=null&&m.shouldStickOnContact(v))&&(this.inClass(v.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(v))}onDocumentTouchEnd(l){this.onDocumentMouseUp(l)}onContainerTouchMove(l){this.touchSelect(l)?this.onContainerMouseMove(l):this.touch(l)}onContainerTouchStart(l){this.touchSelect(l)?this.onContainerMouseDown(l):(this.zoomOption(l),this.touch(l,!0))}onDocumentMouseMove(l){let f=this.chart,m=f.tooltip,v=this.chartPosition,b=this.normalize(l,v);!v||f.isInsidePlot(b.chartX-f.plotLeft,b.chartY-f.plotTop,{visiblePlotOnly:!0})||m!=null&&m.shouldStickOnContact(b)||b.target!==f.container.ownerDocument&&this.inClass(b.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(l){var f,m;(m=(f=Vl[ja(En.hoverChartIndex,-1)])==null?void 0:f.pointer)==null||m.drop(l)}pinch(l){let f=this,{chart:m,hasZoom:v,lastTouches:b}=f,S=[].map.call(l.touches||[],R=>f.normalize(R)),_=S.length,E=_===1&&(f.inClass(l.target,"highcharts-tracker")&&m.runTrackerClick||f.runChartClick),I=m.tooltip,F=_===1&&ja(I==null?void 0:I.options.followTouchMove,!0);_>1?f.initiated=!0:F&&(f.initiated=!1),v&&f.initiated&&!E&&l.cancelable!==!1&&l.preventDefault(),l.type==="touchstart"?(f.pinchDown=S,f.res=!0,m.mouseDownX=l.chartX):F?this.runPointActions(f.normalize(l)):b&&(Ja(m,"touchpan",{originalEvent:l,touches:S},()=>{let R=z=>{let G=z[0],Z=z[1]||G;return{x:G.chartX,y:G.chartY,width:Z.chartX-G.chartX,height:Z.chartY-G.chartY}};m.transform({axes:m.axes.filter(z=>z.zoomEnabled&&(this.zoomHor&&z.horiz||this.zoomVert&&!z.horiz)),to:R(S),from:R(b),trigger:l.type})}),f.res&&(f.res=!1,this.reset(!1,0))),f.lastTouches=S}reset(l,f){let m=this.chart,v=m.hoverSeries,b=m.hoverPoint,S=m.hoverPoints,_=m.tooltip,E=_!=null&&_.shared?S:b;l&&E&&Lo(E).forEach(function(I){I.series.isCartesian&&I.plotX===void 0&&(l=!1)}),l?_&&E&&Lo(E).length&&(_.refresh(E),_.shared&&S?S.forEach(function(I){I.setState(I.state,!0),I.series.isCartesian&&(I.series.xAxis.crosshair&&I.series.xAxis.drawCrosshair(null,I),I.series.yAxis.crosshair&&I.series.yAxis.drawCrosshair(null,I))}):b&&(b.setState(b.state,!0),m.axes.forEach(function(I){I.crosshair&&b.series[I.coll]===I&&I.drawCrosshair(null,b)}))):(b&&b.onMouseOut(),S&&S.forEach(function(I){I.setState()}),v&&v.onMouseOut(),_&&_.hide(f),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),m.axes.forEach(function(I){I.hideCrosshair()}),m.hoverPoints=m.hoverPoint=void 0)}runPointActions(l,f,m){var ie;let v=this.chart,b=v.series,S=(ie=v.tooltip)!=null&&ie.options.enabled?v.tooltip:void 0,_=!!S&&S.shared,E=f||v.hoverPoint,I=(E==null?void 0:E.series)||v.hoverSeries,F=(!l||l.type!=="touchmove")&&(!!f||(I==null?void 0:I.directTouch)&&this.isDirectTouch),R=this.getHoverData(E,I,b,F,_,l);E=R.hoverPoint,I=R.hoverSeries;let z=R.hoverPoints,G=(I==null?void 0:I.tooltipOptions.followPointer)&&!I.tooltipOptions.split,Z=_&&I&&!I.noSharedTooltip;if(E&&(m||E!==v.hoverPoint||S!=null&&S.isHidden)){if((v.hoverPoints||[]).forEach(function(ne){z.indexOf(ne)===-1&&ne.setState()}),v.hoverSeries!==I&&I.onMouseOver(),this.applyInactiveState(z),(z||[]).forEach(function(ne){ne.setState("hover")}),v.hoverPoint&&v.hoverPoint.firePointEvent("mouseOut"),!E.series)return;v.hoverPoints=z,v.hoverPoint=E,E.firePointEvent("mouseOver",void 0,()=>{S&&E&&S.refresh(Z?z:E,l)})}else if(G&&S&&!S.isHidden){let ne=S.getAnchor([{}],l);v.isInsidePlot(ne[0],ne[1],{visiblePlotOnly:!0})&&S.updatePosition({plotX:ne[0],plotY:ne[1]})}this.unDocMouseMove||(this.unDocMouseMove=Bi(v.container.ownerDocument,"mousemove",ne=>{var re,oe;return(oe=(re=Vl[En.hoverChartIndex??-1])==null?void 0:re.pointer)==null?void 0:oe.onDocumentMouseMove(ne)}),this.eventsToUnbind.push(this.unDocMouseMove)),v.axes.forEach(function(ne){var le;let re,oe=((le=ne.crosshair)==null?void 0:le.snap)??!0;!oe||(re=v.hoverPoint)&&re.series[ne.coll]===ne||(re=xm(z,we=>{var ve;return((ve=we.series)==null?void 0:ve[ne.coll])===ne})),re||!oe?ne.drawCrosshair(l,re):ne.hideCrosshair()})}setDOMEvents(){let l=this.chart.container,f=l.ownerDocument;l.onmousedown=this.onContainerMouseDown.bind(this),l.onmousemove=this.onContainerMouseMove.bind(this),l.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Bi(l,"mouseenter",this.onContainerMouseEnter.bind(this)),Bi(l,"mouseleave",this.onContainerMouseLeave.bind(this))),En.unbindDocumentMouseUp.some(v=>v.doc===f)||En.unbindDocumentMouseUp.push({doc:f,unbind:Bi(f,"mouseup",this.onDocumentMouseUp.bind(this))});let m=this.chart.renderTo.parentElement;for(;m&&m.tagName!=="BODY";)this.eventsToUnbind.push(Bi(m,"scroll",()=>{delete this.chartPosition})),m=m.parentElement;this.eventsToUnbind.push(Bi(l,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Bi(l,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),En.unbindDocumentTouchEnd||(En.unbindDocumentTouchEnd=Bi(f,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Bi(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var b,S;if(!vm)return;let l=this.pointerCaptureEventsToUnbind,f=this.chart,m=f.container,v=ja((b=f.options.tooltip)==null?void 0:b.followTouchMove,!0)&&f.series.some(_=>_.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&v?(l.push(Bi(m,"pointerdown",_=>{var E,I;(E=_.target)!=null&&E.hasPointerCapture(_.pointerId)&&((I=_.target)==null||I.releasePointerCapture(_.pointerId))}),Bi(m,"pointermove",_=>{var E,I;(I=(E=f.pointer)==null?void 0:E.getPointFromEvent(_))==null||I.onMouseOver(_)})),f.styledMode||If(m,{"touch-action":"none"}),m.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!v&&(l.forEach(_=>_()),l.length=0,f.styledMode||If(m,{"touch-action":ja((S=f.options.chart.style)==null?void 0:S["touch-action"],"manipulation")}),m.className=m.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(l){var v;let f=this.chart,m=V.charts[ja(En.hoverChartIndex,-1)];if(m&&m!==f){let b={relatedTarget:f.container};l&&!(l!=null&&l.relatedTarget)&&Object.assign({},l,b),(v=m.pointer)==null||v.onContainerMouseLeave(l||b)}m!=null&&m.mouseIsDown||(En.hoverChartIndex=f.index)}touch(l,f){let m,{chart:v,pinchDown:b=[]}=this;this.setHoverChartIndex(),(l=this.normalize(l)).touches.length===1?v.isInsidePlot(l.chartX-v.plotLeft,l.chartY-v.plotTop,{visiblePlotOnly:!0})&&!v.openMenu?(f&&this.runPointActions(l),l.type==="touchmove"&&(m=!!b[0]&&Math.pow(b[0].chartX-l.chartX,2)+Math.pow(b[0].chartY-l.chartY,2)>=16),ja(m,!0)&&this.pinch(l)):f&&this.reset():l.touches.length===2&&this.pinch(l)}touchSelect(l){return!!(this.chart.zooming.singleTouch&&l.touches&&l.touches.length===1)}zoomOption(l){let f=this.chart,m=f.inverted,v=f.zooming.type||"",b,S;/touch/.test(l.type)&&(v=ja(f.zooming.pinchType,v)),this.zoomX=b=/x/.test(v),this.zoomY=S=/y/.test(v),this.zoomHor=b&&!m||S&&m,this.zoomVert=S&&!m||b&&m,this.hasZoom=b||S}}En.unbindDocumentMouseUp=[],function(O){O.compose=function(l){Do(Y0,"Core.Pointer")&&Bi(l,"beforeRender",function(){this.pointer=new O(this,this.options)})}}(En||(En={}));let Dv=En;(function(O){O.setLength=function(l,f,m){return Array.isArray(l)?(l.length=f,l):l[m?"subarray":"slice"](0,f)},O.splice=function(l,f,m,v,b=[]){if(Array.isArray(l))return Array.isArray(b)||(b=Array.from(b)),{removed:l.splice(f,m,...b),array:l};let S=Object.getPrototypeOf(l).constructor,_=l[v?"subarray":"slice"](f,f+m),E=new S(l.length-m+b.length);return E.set(l.subarray(0,f),0),E.set(b,f),E.set(l.subarray(f+m),f+b.length),{removed:_,array:E}}})(x||(x={}));let{setLength:Fo,splice:$o}=x,{fireEvent:Ed,objectEach:Td,uniqueKey:zl}=Le,Rf=class{constructor(O={}){this.autoId=!O.id,this.columns={},this.id=O.id||zl(),this.modified=this,this.rowCount=0,this.versionTag=zl();let l=0;Td(O.columns||{},(f,m)=>{this.columns[m]=f.slice(),l=Math.max(l,f.length)}),this.applyRowCount(l)}applyRowCount(O){this.rowCount=O,Td(this.columns,(l,f)=>{l.length!==O&&(this.columns[f]=Fo(l,O))})}deleteRows(O,l=1){if(l>0&&O<this.rowCount){let f=0;Td(this.columns,(m,v)=>{this.columns[v]=$o(m,O,l).array,f=m.length}),this.rowCount=f}Ed(this,"afterDeleteRows",{rowIndex:O,rowCount:l}),this.versionTag=zl()}getColumn(O,l){return this.columns[O]}getColumns(O,l){return(O||Object.keys(this.columns)).reduce((f,m)=>(f[m]=this.columns[m],f),{})}getRow(O,l){return(l||Object.keys(this.columns)).map(f=>{var m;return(m=this.columns[f])==null?void 0:m[O]})}setColumn(O,l=[],f=0,m){this.setColumns({[O]:l},f,m)}setColumns(O,l,f){let m=this.rowCount;Td(O,(v,b)=>{this.columns[b]=v.slice(),m=v.length}),this.applyRowCount(m),f!=null&&f.silent||(Ed(this,"afterSetColumns"),this.versionTag=zl())}setRow(O,l=this.rowCount,f,m){let{columns:v}=this,b=f?this.rowCount+1:l+1;Td(O,(S,_)=>{let E=v[_]||(m==null?void 0:m.addColumns)!==!1&&Array(b);E&&(f?E=$o(E,l,0,!0,[S]).array:E[l]=S,v[_]=E)}),b>this.rowCount&&this.applyRowCount(b),m!=null&&m.silent||(Ed(this,"afterSetRows"),this.versionTag=zl())}},{extend:Mf,merge:eo,pick:Cd}=Le;(function(O){function l(f,m,v){var we,ve;let b=this.legendItem=this.legendItem||{},{chart:S,options:_}=this,{baseline:E=0,symbolWidth:I,symbolHeight:F}=f,R=this.symbol||"circle",z=F/2,G=S.renderer,Z=b.group,ie=E-Math.round((((we=f.fontMetrics)==null?void 0:we.b)||F)*(v?.4:.3)),ne={},re,oe=_.marker,le=0;if(S.styledMode||(ne["stroke-width"]=Math.min(_.lineWidth||0,24),_.dashStyle?ne.dashstyle=_.dashStyle:_.linecap==="square"||(ne["stroke-linecap"]="round")),b.line=G.path().addClass("highcharts-graph").attr(ne).add(Z),v&&(b.area=G.path().addClass("highcharts-area").add(Z)),ne["stroke-linecap"]&&(le=Math.min(b.line.strokeWidth(),I)/2),I){let xe=[["M",le,ie],["L",I-le,ie]];b.line.attr({d:xe}),(ve=b.area)==null||ve.attr({d:[...xe,["L",I-le,E],["L",le,E]]})}if(oe&&oe.enabled!==!1&&I){let xe=Math.min(Cd(oe.radius,z),z);R.indexOf("url")===0&&(oe=eo(oe,{width:F,height:F}),xe=0),b.symbol=re=G.symbol(R,I/2-xe,ie-xe,2*xe,2*xe,Mf({context:"legend"},oe)).addClass("highcharts-point").add(Z),re.isMarker=!0}}O.areaMarker=function(f,m){l.call(this,f,m,!0)},O.lineMarker=l,O.rectangle=function(f,m){let v=m.legendItem||{},b=f.options,S=f.symbolHeight,_=b.squareSymbol,E=_?S:f.symbolWidth;v.symbol=this.chart.renderer.rect(_?(f.symbolWidth-S)/2:0,f.baseline-S+1,E,S,Cd(f.options.symbolRadius,S/2)).addClass("highcharts-point").attr({zIndex:3}).add(v.group)}})(N||(N={}));let Pd=N,{defaultOptions:Ul}=Gt,{extend:Lv,extendClass:Id,merge:X0}=Le;(function(O){function l(f,m){let v=Ul.plotOptions||{},b=m.defaultOptions,S=m.prototype;return S.type=f,S.pointClass||(S.pointClass=Ro),!O.seriesTypes[f]&&(b&&(v[f]=b),O.seriesTypes[f]=m,!0)}O.seriesTypes=V.seriesTypes,O.registerSeriesType=l,O.seriesType=function(f,m,v,b,S){let _=Ul.plotOptions||{};if(m=m||"",_[f]=X0(_[m],v),delete O.seriesTypes[f],l(f,Id(O.seriesTypes[m]||function(){},b)),O.seriesTypes[f].prototype.type=f,S){class E extends Ro{}Lv(E.prototype,S),O.seriesTypes[f].prototype.pointClass=E}return O.seriesTypes[f]}})(C||(C={}));let rn=C,{animObject:ln,setAnimation:bm}=kn,{defaultOptions:Od}=Gt,{registerEventOptions:Fv}=To,{svg:wm,win:$v}=V,{seriesTypes:Ws}=rn,{format:mn}=Hn,{arrayMax:Tn,arrayMin:Kn,clamp:Df,correctFloat:Rd,crisp:Lf,defined:Dn,destroyObjectProperties:Ai,diffObjects:Bv,erase:Sm,error:Md,extend:zi,find:Gs,fireEvent:Gr,getClosestDistance:Vv,getNestedProperty:_m,insertItem:zv,isArray:Uv,isNumber:Ln,isString:Q0,merge:Dd,objectEach:jm,pick:nn,removeEvent:Z0,syncTimeout:Ld}=Le;class Ks{constructor(){this.zoneAxis="y"}init(l,f){var E,I,F;let m;Gr(this,"init",{options:f}),this.dataTable??(this.dataTable=new Rf);let v=l.series;this.eventsToUnbind=[],this.chart=l,this.options=this.setOptions(f);let b=this.options,S=b.visible!==!1;this.linkedSeries=[],this.bindAxes(),zi(this,{name:b.name,state:"",visible:S,selected:b.selected===!0}),Fv(this,b);let _=b.events;(_!=null&&_.click||(I=(E=b.point)==null?void 0:E.events)!=null&&I.click||b.allowPointSelect)&&(l.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(l.hasCartesianSeries=!0),v.length&&(m=v[v.length-1]),this._i=nn(m==null?void 0:m._i,-1)+1,this.opacity=this.options.opacity,l.orderItems("series",zv(this,v)),(F=b.dataSorting)!=null&&F.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(b.data,!1),Gr(this,"afterInit")}is(l){return Ws[l]&&this instanceof Ws[l]}bindAxes(){let l,f=this,m=f.options,v=f.chart;Gr(this,"bindAxes",null,function(){(f.axisTypes||[]).forEach(function(b){(v[b]||[]).forEach(function(S){l=S.options,(nn(m[b],0)===S.index||m[b]!==void 0&&m[b]===l.id)&&(zv(f,S.series),f[b]=S,S.isDirty=!0)}),f[b]||f.optionalAxis===b||Md(18,!0,v)})}),Gr(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(l,f){let m=l.marker,v=f.marker||{};return m&&(v.enabled&&!m.enabled||v.symbol!==m.symbol||v.height!==m.height||v.width!==m.width)}autoIncrement(l){let f,m=this.options,{pointIntervalUnit:v,relativeXValue:b}=this.options,S=this.chart.time,_=this.xIncrement??S.parse(m.pointStart)??0;if(this.pointInterval=f=nn(this.pointInterval,m.pointInterval,1),b&&Ln(l)&&(f*=l),v){let E=S.toParts(_);v==="day"?E[2]+=f:v==="month"?E[1]+=f:v==="year"&&(E[0]+=f),f=S.makeTime.apply(S,E)-_}return b&&Ln(l)?_+f:(this.xIncrement=_+f,_)}setDataSortingOptions(){let l=this.options;zi(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Dn(l.pointRange)||(l.pointRange=1)}setOptions(l){var ne,re;let f,m=this.chart,v=m.options.plotOptions,b=m.userOptions||{},S=Dd(l),_=m.styledMode,E={plotOptions:v,userOptions:S};Gr(this,"setOptions",E);let I=E.plotOptions[this.type],F=b.plotOptions||{},R=F.series||{},z=Od.plotOptions[this.type]||{},G=F[this.type]||{};I.dataLabels=this.mergeArrays(z.dataLabels,I.dataLabels),this.userOptions=E.userOptions;let Z=Dd(I,v.series,G,S);this.tooltipOptions=Dd(Od.tooltip,(ne=Od.plotOptions.series)==null?void 0:ne.tooltip,z==null?void 0:z.tooltip,m.userOptions.tooltip,(re=F.series)==null?void 0:re.tooltip,G.tooltip,S.tooltip),this.stickyTracking=nn(S.stickyTracking,G.stickyTracking,R.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||Z.stickyTracking),I.marker===null&&delete Z.marker,this.zoneAxis=Z.zoneAxis||"y";let ie=this.zones=(Z.zones||[]).map(oe=>({...oe}));return(Z.negativeColor||Z.negativeFillColor)&&!Z.zones&&(f={value:Z[this.zoneAxis+"Threshold"]||Z.threshold||0,className:"highcharts-negative"},_||(f.color=Z.negativeColor,f.fillColor=Z.negativeFillColor),ie.push(f)),ie.length&&Dn(ie[ie.length-1].value)&&ie.push(_?{}:{color:this.color,fillColor:this.fillColor}),Gr(this,"afterSetOptions",{options:Z}),Z}getName(){return this.options.name??mn(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(l,f,m){let v,b,S=this.chart,_=`${l}Index`,E=`${l}Counter`,I=(m==null?void 0:m.length)||S.options.chart.colorCount;!f&&(Dn(b=nn(l==="color"?this.options.colorIndex:void 0,this[_]))?v=b:(S.series.length||(S[E]=0),v=S[E]%I,S[E]+=1),m&&(f=m[v])),v!==void 0&&(this[_]=v),this[l]=f}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Od.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let l=this.options.marker;this.getCyclic("symbol",l.symbol,this.chart.options.symbols)}getColumn(l,f){return(f?this.dataTable.modified:this.dataTable).getColumn(l,!0)||[]}findPointIndex(l,f){var R;let m,v,b,{id:S,x:_}=l,E=this.points,I=this.options.dataSorting,F=this.cropStart||0;if(S){let z=this.chart.get(S);z instanceof Ro&&(m=z)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let z=G=>!G.touched&&G.index===l.index;if(I!=null&&I.matchByName?z=G=>!G.touched&&G.name===l.name:this.options.relativeXValue&&(z=G=>!G.touched&&G.options.x===l.x),!(m=Gs(E,z)))return}return m&&(b=m==null?void 0:m.index)!==void 0&&(v=!0),b===void 0&&Ln(_)&&(b=this.getColumn("x").indexOf(_,f)),b!==-1&&b!==void 0&&this.cropped&&(b=b>=F?b-F:b),!v&&Ln(b)&&((R=E[b])!=null&&R.touched)&&(b=void 0),b}updateData(l,f){var ie;let{options:m,requireSorting:v}=this,b=m.dataSorting,S=this.points,_=[],E=l.length===S.length,I,F,R,z,G=!0;if(this.xIncrement=null,l.forEach((ne,re)=>{var xe;let oe,le=Dn(ne)&&this.pointClass.prototype.optionsToObject.call({series:this},ne)||{},{id:we,x:ve}=le;we||Ln(ve)?((oe=this.findPointIndex(le,z))===-1||oe===void 0?_.push(ne):S[oe]&&ne!==((xe=m.data)==null?void 0:xe[oe])?(S[oe].update(ne,!1,void 0,!1),S[oe].touched=!0,v&&(z=oe+1)):S[oe]&&(S[oe].touched=!0),(!E||re!==oe||b!=null&&b.enabled||this.hasDerivedData)&&(I=!0)):_.push(ne)},this),I)for(F=S.length;F--;)(R=S[F])&&!R.touched&&((ie=R.remove)==null||ie.call(R,!1,f));else E&&!(b!=null&&b.enabled)?(l.forEach((ne,re)=>{ne===S[re].y||S[re].destroyed||S[re].update(ne,!1,void 0,!1)}),_.length=0):G=!1;if(S.forEach(ne=>{ne&&(ne.touched=!1)}),!G)return!1;_.forEach(ne=>{this.addPoint(ne,!1,void 0,void 0,!1)},this);let Z=this.getColumn("x");return this.xIncrement===null&&Z.length&&(this.xIncrement=Tn(Z),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(l,f=!0,m,v){var Te,Ne;let b=this.points,S=(b==null?void 0:b.length)||0,_=this.options,E=this.chart,I=_.dataSorting,F=this.xAxis,R=_.turboThreshold,z=this.dataTable,G=this.dataColumnKeys(),Z=this.pointValKey||"y",ie=(this.pointArrayMap||[]).length,ne=_.keys,re,oe,le=0,we=1,ve;E.options.chart.allowMutatingData||(_.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,ve=Dd(!0,l));let xe=(l=ve||l||[]).length;if(I!=null&&I.enabled&&(l=this.sortData(l)),E.options.chart.allowMutatingData&&v!==!1&&xe&&S&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(oe=this.updateData(l,m)),!oe){this.xIncrement=null,this.colorCounter=0;let Pe=R&&xe>R;if(Pe){let Ve=this.getFirstValidPoint(l),Ye=this.getFirstValidPoint(l,xe-1,-1),tt=Ze=>!!(Uv(Ze)&&(ne||Ln(Ze[0])));if(Ln(Ve)&&Ln(Ye)){let Ze=[],lt=[];for(let ot of l)Ze.push(this.autoIncrement()),lt.push(ot);z.setColumns({x:Ze,[Z]:lt})}else if(tt(Ve)&&tt(Ye))if(ie){let Ze=+(Ve.length===ie),lt=Array(G.length).fill(0).map(()=>[]);for(let ot of l){Ze&&lt[0].push(this.autoIncrement());for(let Rt=Ze;Rt<=ie;Rt++)(Te=lt[Rt])==null||Te.push(ot[Rt-Ze])}z.setColumns(G.reduce((ot,Rt,ut)=>(ot[Rt]=lt[ut],ot),{}))}else{ne&&(le=ne.indexOf("x"),we=ne.indexOf("y"),le=le>=0?le:0,we=we>=0?we:1),Ve.length===1&&(we=0);let Ze=[],lt=[];if(le===we)for(let ot of l)Ze.push(this.autoIncrement()),lt.push(ot[we]);else for(let ot of l)Ze.push(ot[le]),lt.push(ot[we]);z.setColumns({x:Ze,[Z]:lt})}else Pe=!1}if(!Pe){let Ve=G.reduce((Ye,tt)=>(Ye[tt]=[],Ye),{});for(re=0;re<xe;re++){let Ye=this.pointClass.prototype.applyOptions.apply({series:this},[l[re]]);for(let tt of G)Ve[tt][re]=Ye[tt]}z.setColumns(Ve)}for(Q0(this.getColumn("y")[0])&&Md(14,!0,E),this.data=[],this.options.data=this.userOptions.data=l,re=S;re--;)(Ne=b[re])==null||Ne.destroy();F&&(F.minRange=F.userMinRange),this.isDirty=E.isDirtyBox=!0,this.isDirtyData=!!b,m=!1}_.legendType==="point"&&(this.processData(),this.generatePoints()),f&&E.redraw(m)}sortData(l){let f=this,m=f.options.dataSorting.sortKey||"y",v=function(b,S){return Dn(S)&&b.pointClass.prototype.optionsToObject.call({series:b},S)||{}};return l.forEach(function(b,S){l[S]=v(f,b),l[S].index=S},this),l.concat().sort((b,S)=>{let _=_m(m,b),E=_m(m,S);return E<_?-1:+(E>_)}).forEach(function(b,S){b.x=S},this),f.linkedSeries&&f.linkedSeries.forEach(function(b){var E;let S=b.options,_=S.data;!((E=S.dataSorting)!=null&&E.enabled)&&_&&(_.forEach(function(I,F){_[F]=v(b,I),l[F]&&(_[F].x=l[F].x,_[F].index=F)}),b.setData(_,!1))}),l}getProcessedData(l){let f=this,{dataTable:m,isCartesian:v,options:b,xAxis:S}=f,_=b.cropThreshold,E=l||f.getExtremesFromAll,I=S==null?void 0:S.logarithmic,F=m.rowCount,R,z,G=0,Z,ie,ne,re=f.getColumn("x"),oe=m,le=!1;return S&&(ie=(Z=S.getExtremes()).min,ne=Z.max,le=!!(S.categories&&!S.names.length),v&&f.sorted&&!E&&(!_||F>_||f.forceCrop)&&(re[F-1]<ie||re[0]>ne?oe=new Rf:f.getColumn(f.pointValKey||"y").length&&(re[0]<ie||re[F-1]>ne)&&(oe=(R=this.cropData(m,ie,ne)).modified,G=R.start,z=!0))),re=oe.getColumn("x")||[],{modified:oe,cropped:z,cropStart:G,closestPointRange:Vv([I?re.map(I.log2lin):re],()=>f.requireSorting&&!le&&Md(15,!1,f.chart))}}processData(l){let f=this.xAxis,m=this.dataTable;if(this.isCartesian&&!this.isDirty&&!f.isDirty&&!this.yAxis.isDirty&&!l)return!1;let v=this.getProcessedData();m.modified=v.modified,this.cropped=v.cropped,this.cropStart=v.cropStart,this.closestPointRange=this.basePointRange=v.closestPointRange,Gr(this,"afterProcessData")}cropData(l,f,m){let v=l.getColumn("x",!0)||[],b=v.length,S={},_,E,I=0,F=b;for(_=0;_<b;_++)if(v[_]>=f){I=Math.max(0,_-1);break}for(E=_;E<b;E++)if(v[E]>m){F=E+1;break}for(let R of this.dataColumnKeys()){let z=l.getColumn(R,!0);z&&(S[R]=z.slice(I,F))}return{modified:new Rf({columns:S}),start:I,end:F}}generatePoints(){var ve,xe,Te;let l=this.options,f=this.processedData||l.data,m=this.dataTable.modified,v=this.getColumn("x",!0),b=this.pointClass,S=m.rowCount,_=this.cropStart||0,E=this.hasGroupedData,I=l.keys,F=[],R=(ve=l.dataGrouping)!=null&&ve.groupAll?_:0,z=(xe=this.xAxis)==null?void 0:xe.categories,G=this.pointArrayMap||["y"],Z=this.dataColumnKeys(),ie,ne,re,oe,le=this.data,we;if(!le&&!E){let Ne=[];Ne.length=(f==null?void 0:f.length)||0,le=this.data=Ne}for(I&&E&&(this.options.keys=!1),oe=0;oe<S;oe++)ne=_+oe,E?((re=new b(this,m.getRow(oe,Z)||[])).dataGroup=this.groupMap[R+oe],(Te=re.dataGroup)!=null&&Te.options&&(re.options=re.dataGroup.options,zi(re,re.dataGroup.options),delete re.dataLabels)):(re=le[ne],we=f?f[ne]:m.getRow(oe,G),re||we===void 0||(le[ne]=re=new b(this,we,v[oe]))),re&&(re.index=E?R+oe:ne,F[oe]=re,re.category=(z==null?void 0:z[re.x])??re.x,re.key=re.name??re.category);if(this.options.keys=I,le&&(S!==(ie=le.length)||E))for(oe=0;oe<ie;oe++)oe!==_||E||(oe+=S),le[oe]&&(le[oe].destroyElements(),le[oe].plotX=void 0);this.data=le,this.points=F,Gr(this,"afterGeneratePoints")}getXExtremes(l){return{min:Kn(l),max:Tn(l)}}getExtremes(l,f){var ve;let{xAxis:m,yAxis:v}=this,b=f||this.getExtremesFromAll||this.options.getExtremesFromAll,S=b&&this.cropped?this.dataTable:this.dataTable.modified,_=S.rowCount,E=l||this.stackedYData,I=E?[E]:((ve=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:ve.map(xe=>S.getColumn(xe,!0)||[]))||[],F=this.getColumn("x",!0),R=[],z=this.requireSorting&&!this.is("column")?1:0,G=!!v&&v.positiveValuesOnly,Z=b||this.cropped||!m,ie,ne,re,oe=0,le=0;for(m&&(oe=(ie=m.getExtremes()).min,le=ie.max),re=0;re<_;re++)if(ne=F[re],Z||(F[re+z]||ne)>=oe&&(F[re-z]||ne)<=le)for(let xe of I){let Te=xe[re];Ln(Te)&&(Te>0||!G)&&R.push(Te)}let we={activeYData:R,dataMin:Kn(R),dataMax:Tn(R)};return Gr(this,"afterGetExtremes",{dataExtremes:we}),we}applyExtremes(){let l=this.getExtremes();return this.dataMin=l.dataMin,this.dataMax=l.dataMax,l}getFirstValidPoint(l,f=0,m=1){let v=l.length,b=f;for(;b>=0&&b<v;){if(Dn(l[b]))return l[b];b+=m}}translate(){var le;this.generatePoints();let l=this.options,f=l.stacking,m=this.xAxis,v=this.enabledDataSorting,b=this.yAxis,S=this.points,_=S.length,E=this.pointPlacementToXValue(),I=!!E,F=l.threshold,R=l.startFromThreshold?F:0,z=(l==null?void 0:l.nullInteraction)&&b.len,G,Z,ie,ne,re=Number.MAX_VALUE;function oe(we){return Df(we,-1e9,1e9)}for(G=0;G<_;G++){let we,ve=S[G],xe=ve.x,Te,Ne,Pe=ve.y,Ve=ve.low,Ye=f&&((le=b.stacking)==null?void 0:le.stacks[(this.negStacks&&Pe<(R?0:F)?"-":"")+this.stackKey]);ve.plotX=Ln(Z=m.translate(xe,!1,!1,!1,!0,E))?Rd(oe(Z)):void 0,f&&this.visible&&Ye&&Ye[xe]&&(ne=this.getStackIndicator(ne,xe,this.index),!ve.isNull&&ne.key&&(Ne=(Te=Ye[xe]).points[ne.key]),Te&&Uv(Ne)&&(Ve=Ne[0],Pe=Ne[1],Ve===R&&ne.key===Ye[xe].base&&(Ve=nn(Ln(F)?F:b.min)),b.positiveValuesOnly&&Dn(Ve)&&Ve<=0&&(Ve=void 0),ve.total=ve.stackTotal=nn(Te.total),ve.percentage=Dn(ve.y)&&Te.total?ve.y/Te.total*100:void 0,ve.stackY=Pe,this.irregularWidths||Te.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),ve.yBottom=Dn(Ve)?oe(b.translate(Ve,!1,!0,!1,!0)):void 0,this.dataModify&&(Pe=this.dataModify.modifyValue(Pe,G)),Ln(Pe)&&ve.plotX!==void 0?we=Ln(we=b.translate(Pe,!1,!0,!1,!0))?oe(we):void 0:!Ln(Pe)&&z&&(we=z),ve.plotY=we,ve.isInside=this.isPointInside(ve),ve.clientX=I?Rd(m.translate(xe,!1,!1,!1,!0,E)):Z,ve.negative=(ve.y||0)<(F||0),ve.isNull||ve.visible===!1||(ie!==void 0&&(re=Math.min(re,Math.abs(Z-ie))),ie=Z),ve.zone=this.zones.length?ve.getZone():void 0,!ve.graphic&&this.group&&v&&(ve.isNew=!0)}this.closestPointRangePx=re,Gr(this,"afterTranslate")}getValidPoints(l,f,m){let v=this.chart;return(l||this.points||[]).filter(function(b){let{plotX:S,plotY:_}=b;return!!((m||!b.isNull&&Ln(_))&&(!f||v.isInsidePlot(S,_,{inverted:v.inverted})))&&b.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:l,group:f,markerGroup:m}=this,v=l.sharedClips,b=l.renderer,S=l.getClipBox(this),_=this.getSharedClipKey(),E=v[_];E?E.animate(S):v[_]=E=b.clipRect(S),f&&f.clip(this.options.clip===!1?void 0:E),m&&m.clip()}animate(l){let{chart:f,group:m,markerGroup:v}=this,b=f.inverted,S=ln(this.options.animation),_=[this.getSharedClipKey(),S.duration,S.easing,S.defer].join(","),E=f.sharedClips[_],I=f.sharedClips[_+"m"];if(l&&m){let F=f.getClipBox(this);if(E)E.attr("height",F.height);else{F.width=0,b&&(F.x=f.plotHeight),E=f.renderer.clipRect(F),f.sharedClips[_]=E;let R={x:-99,y:-99,width:b?f.plotWidth+199:99,height:b?99:f.plotHeight+199};I=f.renderer.clipRect(R),f.sharedClips[_+"m"]=I}m.clip(E),v==null||v.clip(I)}else if(E&&!E.hasClass("highcharts-animating")){let F=f.getClipBox(this),R=S.step;(v!=null&&v.element.childNodes.length||f.series.length>1)&&(S.step=function(z,G){R&&R.apply(G,arguments),G.prop==="width"&&(I!=null&&I.element)&&I.attr(b?"height":"width",z+99)}),E.addClass("highcharts-animating").animate(F,S)}}afterAnimate(){this.setClip(),jm(this.chart.sharedClips,(l,f,m)=>{l&&!this.chart.container.querySelector(`[clip-path="url(#${l.id})"]`)&&(l.destroy(),delete m[f])}),this.finishedAnimating=!0,Gr(this,"afterAnimate")}drawPoints(l=this.points){let f,m,v,b,S,_,E,I=this.chart,F=I.styledMode,{colorAxis:R,options:z}=this,G=z.marker,Z=z.nullInteraction,ie=this[this.specialGroup||"markerGroup"],ne=this.xAxis,re=nn(G.enabled,!ne||!!ne.isRadial||null,this.closestPointRangePx>=G.enabledThreshold*G.radius);if(G.enabled!==!1||this._hasPointMarkers)for(f=0;f<l.length;f++){b=(v=(m=l[f]).graphic)?"animate":"attr",S=m.marker||{},_=!!m.marker;let oe=m.isNull;if((re&&!Dn(S.enabled)||S.enabled)&&(!oe||Z)&&m.visible!==!1){let le=nn(S.symbol,this.symbol,"rect");E=this.markerAttribs(m,m.selected&&"select"),this.enabledDataSorting&&(m.startXPos=ne.reversed?-(E.width||0):ne.width);let we=m.isInside!==!1;if(!v&&we&&((E.width||0)>0||m.hasImage)&&(m.graphic=v=I.renderer.symbol(le,E.x,E.y,E.width,E.height,_?S:G).add(ie),this.enabledDataSorting&&I.hasRendered&&(v.attr({x:m.startXPos}),b="animate")),v&&b==="animate"&&v[we?"show":"hide"](we).animate(E),v){let ve=this.pointAttribs(m,F||!m.selected?void 0:"select");F?R&&v.css({fill:ve.fill}):v[b](ve)}v&&v.addClass(m.getClassName(),!0)}else v&&(m.graphic=v.destroy())}}markerAttribs(l,f){let m=this.options,v=m.marker,b=l.marker||{},S=b.symbol||v.symbol,_={},E,I,F=nn(b.radius,v==null?void 0:v.radius);f&&(E=v.states[f],I=b.states&&b.states[f],F=nn(I==null?void 0:I.radius,E==null?void 0:E.radius,F&&F+((E==null?void 0:E.radiusPlus)||0))),l.hasImage=S&&S.indexOf("url")===0,l.hasImage&&(F=0);let R=l.pos();return Ln(F)&&R&&(m.crisp&&(R[0]=Lf(R[0],l.hasImage?0:S==="rect"?(v==null?void 0:v.lineWidth)||0:1)),_.x=R[0]-F,_.y=R[1]-F),F&&(_.width=_.height=2*F),_}pointAttribs(l,f){var re;let m=this.options,v=m.marker,b=l==null?void 0:l.options,S=(b==null?void 0:b.marker)||{},_=b==null?void 0:b.color,E=l==null?void 0:l.color,I=(re=l==null?void 0:l.zone)==null?void 0:re.color,F,R,z=this.color,G,Z,ie=nn(S.lineWidth,v.lineWidth),ne=l!=null&&l.isNull&&m.nullInteraction?0:1;return z=_||I||E||z,G=S.fillColor||v.fillColor||z,Z=S.lineColor||v.lineColor||z,f=f||"normal",F=v.states[f]||{},ie=nn((R=S.states&&S.states[f]||{}).lineWidth,F.lineWidth,ie+nn(R.lineWidthPlus,F.lineWidthPlus,0)),G=R.fillColor||F.fillColor||G,Z=R.lineColor||F.lineColor||Z,{stroke:Z,"stroke-width":ie,fill:G,opacity:ne=nn(R.opacity,F.opacity,ne)}}destroy(l){var E,I;let f,m,v=this,b=v.chart,S=/AppleWebKit\/533/.test($v.navigator.userAgent),_=v.data||[];for(Gr(v,"destroy",{keepEventsForUpdate:l}),this.removeEvents(l),(v.axisTypes||[]).forEach(function(F){m=v[F],m!=null&&m.series&&(Sm(m.series,v),m.isDirty=m.forceRedraw=!0)}),v.legendItem&&v.chart.legend.destroyItem(v),f=_.length;f--;)(I=(E=_[f])==null?void 0:E.destroy)==null||I.call(E);for(let F of v.zones)Ai(F,void 0,!0);Le.clearTimeout(v.animationTimeout),jm(v,function(F,R){F instanceof es&&!F.survive&&F[S&&R==="group"?"hide":"destroy"]()}),b.hoverSeries===v&&(b.hoverSeries=void 0),Sm(b.series,v),b.orderItems("series"),jm(v,function(F,R){l&&R==="hcEvents"||delete v[R]})}applyZones(){let{area:l,chart:f,graph:m,zones:v,points:b,xAxis:S,yAxis:_,zoneAxis:E}=this,{inverted:I,renderer:F}=f,R=this[`${E}Axis`],{isXAxis:z,len:G=0,minPointOffset:Z=0}=R||{},ie=((m==null?void 0:m.strokeWidth())||0)/2+1,ne=(re,oe=0,le=0)=>{I&&(le=G-le);let{translated:we=0,lineClip:ve}=re,xe=le-we;ve==null||ve.push(["L",oe,Math.abs(xe)<ie?le-ie*(xe<=0?-1:1):we])};if(v.length&&(m||l)&&R&&Ln(R.min)){let re=R.getExtremes().max+Z,oe=ve=>{ve.forEach((xe,Te)=>{(xe[0]==="M"||xe[0]==="L")&&(ve[Te]=[xe[0],z?G-xe[1]:xe[1],z?xe[2]:G-xe[2]])})};if(v.forEach(ve=>{ve.lineClip=[],ve.translated=Df(R.toPixels(nn(ve.value,re),!0)||0,0,G)}),m&&!this.showLine&&m.hide(),l&&l.hide(),E==="y"&&b.length<S.len)for(let ve of b){let{plotX:xe,plotY:Te,zone:Ne}=ve,Pe=Ne&&v[v.indexOf(Ne)-1];Ne&&ne(Ne,xe,Te),Pe&&ne(Pe,xe,Te)}let le=[],we=R.toPixels(R.getExtremes().min-Z,!0);v.forEach(ve=>{var Rt,ut;let xe=ve.lineClip||[],Te=Math.round(ve.translated||0);S.reversed&&xe.reverse();let{clip:Ne,simpleClip:Pe}=ve,Ve=0,Ye=0,tt=S.len,Ze=_.len;z?(Ve=Te,tt=we):(Ye=Te,Ze=we);let lt=[["M",Ve,Ye],["L",tt,Ye],["L",tt,Ze],["L",Ve,Ze],["Z"]],ot=[lt[0],...xe,lt[1],lt[2],...le,lt[3],lt[4]];le=xe.reverse(),we=Te,I&&(oe(ot),l&&oe(lt)),Ne?(Ne.animate({d:ot}),Pe==null||Pe.animate({d:lt})):(Ne=ve.clip=F.path(ot),l&&(Pe=ve.simpleClip=F.path(lt))),m&&((Rt=ve.graph)==null||Rt.clip(Ne)),l&&((ut=ve.area)==null||ut.clip(Pe))})}else this.visible&&(m&&m.show(),l&&l.show())}plotGroup(l,f,m,v,b){let S=this[l],_=!S,E={visibility:m,zIndex:v||.1};return Dn(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(E.opacity=this.opacity),S||(this[l]=S=this.chart.renderer.g().add(b)),S.addClass("highcharts-"+f+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Dn(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(S.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),S.attr(E)[_?"attr":"animate"](this.getPlotBox(f)),S}getPlotBox(l){let f=this.xAxis,m=this.yAxis,v=this.chart,b=v.inverted&&!v.polar&&f&&this.invertible&&l==="series";return v.inverted&&(f=m,m=this.xAxis),{translateX:f?f.left:v.plotLeft,translateY:m?m.top:v.plotTop,rotation:90*!!b,rotationOriginX:b?(f.len-m.len)/2:0,rotationOriginY:b?(f.len+m.len)/2:0,scaleX:b?-1:1,scaleY:1}}removeEvents(l){let{eventsToUnbind:f}=this;l||Z0(this),f.length&&(f.forEach(m=>{m()}),f.length=0)}render(){var F,R,z,G,Z;let l=this,{chart:f,options:m,hasRendered:v}=l,b=ln(m.animation),S=l.visible?"inherit":"hidden",_=m.zIndex,E=f.seriesGroup,I=l.finishedAnimating?0:b.duration;Gr(this,"render"),l.plotGroup("group","series",S,_,E),l.markerGroup=l.plotGroup("markerGroup","markers",S,_,E),m.clip!==!1&&l.setClip(),I&&((F=l.animate)==null||F.call(l,!0)),l.drawGraph&&(l.drawGraph(),l.applyZones()),l.visible&&l.drawPoints(),(R=l.drawDataLabels)==null||R.call(l),(z=l.redrawPoints)==null||z.call(l),m.enableMouseTracking&&((G=l.drawTracker)==null||G.call(l)),I&&((Z=l.animate)==null||Z.call(l)),v||(I&&b.defer&&(I+=b.defer),l.animationTimeout=Ld(()=>{l.afterAnimate()},I||0)),l.isDirty=!1,l.hasRendered=!0,Gr(l,"afterRender")}redraw(){let l=this.isDirty||this.isDirtyData;this.translate(),this.render(),l&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(l,f){let{xAxis:m,yAxis:v}=this,b=this.chart.inverted;return this.searchKDTree({clientX:b?m.len-l.chartY+m.pos:l.chartX-m.pos,plotY:b?v.len-l.chartX+v.pos:l.chartY-v.pos},f,l)}buildKDTree(l){this.buildingKdTree=!0;let f=this,m=f.options,v=m.findNearestPointBy.indexOf("y")>-1?2:1;delete f.kdTree,Ld(function(){f.kdTree=function b(S,_,E){let I,F,R=S==null?void 0:S.length;if(R)return I=f.kdAxisArray[_%E],S.sort((z,G)=>(z[I]||0)-(G[I]||0)),{point:S[F=Math.floor(R/2)],left:b(S.slice(0,F),_+1,E),right:b(S.slice(F+1),_+1,E)}}(f.getValidPoints(void 0,!f.directTouch,m==null?void 0:m.nullInteraction),v,v),f.buildingKdTree=!1},m.kdNow||(l==null?void 0:l.type)==="touchstart"?0:1)}searchKDTree(l,f,m,v,b){let S=this,[_,E]=this.kdAxisArray,I=f?"distX":"dist",F=(S.options.findNearestPointBy||"").indexOf("y")>-1?2:1,R=!!S.isBubble,z=v||((Z,ie,ne)=>{let re=Z[ne]||0,oe=ie[ne]||0;return[re===oe&&Z.index>ie.index||re<oe?Z:ie,!1]}),G=b||((Z,ie)=>Z<ie);if(this.kdTree||this.buildingKdTree||this.buildKDTree(m),this.kdTree)return function Z(ie,ne,re,oe){var Ve;let le=ne.point,we=S.kdAxisArray[re%oe],ve=le,xe=!1;(function(Ye,tt){var nr;let Ze=Ye[_],lt=tt[_],ot=Dn(Ze)&&Dn(lt)?Ze-lt:null,Rt=Ye[E],ut=tt[E],It=Dn(Rt)&&Dn(ut)?Rt-ut:0,or=R&&((nr=tt.marker)==null?void 0:nr.radius)||0;tt.dist=Math.sqrt((ot&&ot*ot||0)+It*It)-or,tt.distX=Dn(ot)?Math.abs(ot)-or:Number.MAX_VALUE})(ie,le);let Te=(ie[we]||0)-(le[we]||0)+(R&&((Ve=le.marker)==null?void 0:Ve.radius)||0),Ne=Te<0?"left":"right",Pe=Te<0?"right":"left";return ne[Ne]&&([ve,xe]=z(le,Z(ie,ne[Ne],re+1,oe),I)),ne[Pe]&&G(Math.sqrt(Te*Te),ve[I],xe)&&(ve=z(ve,Z(ie,ne[Pe],re+1,oe),I)[0]),ve}(l,this.kdTree,F,F)}pointPlacementToXValue(){let{options:l,xAxis:f}=this,m=l.pointPlacement;return m==="between"&&(m=f.reversed?-.5:.5),Ln(m)?m*(l.pointRange||f.pointRange):0}isPointInside(l){let{chart:f,xAxis:m,yAxis:v}=this,{plotX:b=-1,plotY:S=-1}=l;return S>=0&&S<=(v?v.len:f.plotHeight)&&b>=0&&b<=(m?m.len:f.plotWidth)}drawTracker(){var z;let l=this,f=l.options,m=f.trackByArea,v=[].concat((m?l.areaPath:l.graphPath)||[]),b=l.chart,S=b.pointer,_=b.renderer,E=((z=b.options.tooltip)==null?void 0:z.snap)||0,I=()=>{f.enableMouseTracking&&b.hoverSeries!==l&&l.onMouseOver()},F="rgba(192,192,192,"+(wm?1e-4:.002)+")",R=l.tracker;R?R.attr({d:v}):l.graph&&(l.tracker=R=_.path(v).attr({visibility:l.visible?"inherit":"hidden",zIndex:2}).addClass(m?"highcharts-tracker-area":"highcharts-tracker-line").add(l.group),b.styledMode||R.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:F,fill:m?F:"none","stroke-width":l.graph.strokeWidth()+(m?0:2*E)}),[l.tracker,l.markerGroup,l.dataLabelsGroup].forEach(G=>{G&&(G.addClass("highcharts-tracker").on("mouseover",I).on("mouseout",Z=>{S==null||S.onTrackerMouseOut(Z)}),f.cursor&&!b.styledMode&&G.css({cursor:f.cursor}),G.on("touchstart",I))})),Gr(this,"afterDrawTracker")}addPoint(l,f,m,v,b){let S,_,E=this.options,{chart:I,data:F,dataTable:R,xAxis:z}=this,G=(z==null?void 0:z.hasNames)&&z.names,Z=E.data,ie=this.getColumn("x");f=nn(f,!0);let ne={series:this};this.pointClass.prototype.applyOptions.apply(ne,[l]);let re=ne.x;if(_=ie.length,this.requireSorting&&re<ie[_-1])for(S=!0;_&&ie[_-1]>re;)_--;R.setRow(ne,_,!0,{addColumns:!1}),G&&ne.name&&(G[re]=ne.name),Z==null||Z.splice(_,0,l),(S||this.processedData)&&(this.data.splice(_,0,null),this.processData()),E.legendType==="point"&&this.generatePoints(),m&&(F[0]&&F[0].remove?F[0].remove(!1):([F,Z].filter(Dn).forEach(oe=>{oe.shift()}),R.deleteRows(0))),b!==!1&&Gr(this,"addPoint",{point:ne}),this.isDirty=!0,this.isDirtyData=!0,f&&I.redraw(v)}removePoint(l,f,m){let v=this,{chart:b,data:S,points:_,dataTable:E}=v,I=S[l],F=function(){[(_==null?void 0:_.length)===S.length?_:void 0,S,v.options.data].filter(Dn).forEach(R=>{R.splice(l,1)}),E.deleteRows(l),I==null||I.destroy(),v.isDirty=!0,v.isDirtyData=!0,f&&b.redraw()};bm(m,b),f=nn(f,!0),I?I.firePointEvent("remove",null,F):F()}remove(l,f,m,v){let b=this,S=b.chart;function _(){b.destroy(v),S.isDirtyLegend=S.isDirtyBox=!0,S.linkSeries(v),nn(l,!0)&&S.redraw(f)}m!==!1?Gr(b,"remove",null,_):_()}update(l,f){var re,oe;Gr(this,"update",{options:l=Bv(l,this.userOptions)});let m=this,v=m.chart,b=m.userOptions,S=m.initialType||m.type,_=v.options.plotOptions,E=Ws[S].prototype,I=m.finishedAnimating&&{animation:!1},F={},R,z,G=Ks.keepProps.slice(),Z=l.type||b.type||v.options.chart.type,ie=!(this.hasDerivedData||Z&&Z!==this.type||l.keys!==void 0||l.pointStart!==void 0||l.pointInterval!==void 0||l.relativeXValue!==void 0||l.joinBy||l.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(le=>m.hasOptionChanged(le)));Z=Z||S,ie?(G.push.apply(G,Ks.keepPropsForPoints),l.visible!==!1&&G.push("area","graph"),m.parallelArrays.forEach(function(le){G.push(le+"Data")}),l.data&&(l.dataSorting&&zi(m.options.dataSorting,l.dataSorting),this.setData(l.data,!1))):this.dataTable.modified=this.dataTable,l=Dd(b,{index:b.index===void 0?m.index:b.index,pointStart:((re=_==null?void 0:_.series)==null?void 0:re.pointStart)??b.pointStart??m.getColumn("x")[0]},!ie&&{data:m.options.data},l,I),ie&&l.data&&(l.data=m.options.data),(G=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(G)).forEach(function(le){G[le]=m[le],delete m[le]});let ne=!1;if(Ws[Z]){if(ne=Z!==m.type,m.remove(!1,!1,!1,!0),ne)if(v.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(m,Ws[Z].prototype);else{let le=Object.hasOwnProperty.call(m,"hcEvents")&&m.hcEvents;for(z in E)m[z]=void 0;zi(m,Ws[Z].prototype),le?m.hcEvents=le:delete m.hcEvents}}else Md(17,!0,v,{missingModuleFor:Z});if(G.forEach(function(le){m[le]=G[le]}),m.init(v,l),ie&&this.points)for(let le of((R=m.options).visible===!1?(F.graphic=1,F.dataLabel=1):(this.hasMarkerChanged(R,b)&&(F.graphic=1),(oe=m.hasDataLabels)!=null&&oe.call(m)||(F.dataLabel=1)),this.points))le!=null&&le.series&&(le.resolveColor(),Object.keys(F).length&&le.destroyElements(F),R.showInLegend===!1&&le.legendItem&&v.legend.destroyItem(le));m.initialType=S,v.linkSeries(),v.setSortedData(),ne&&m.linkedSeries.length&&(m.isDirtyData=!0),Gr(this,"afterUpdate"),nn(f,!0)&&v.redraw(!!ie&&void 0)}setName(l){this.name=this.options.name=this.userOptions.name=l,this.chart.isDirtyLegend=!0}hasOptionChanged(l){var _,E;let f=this.chart,m=this.options[l],v=f.options.plotOptions,b=this.userOptions[l],S=nn((_=v==null?void 0:v[this.type])==null?void 0:_[l],(E=v==null?void 0:v.series)==null?void 0:E[l]);return b&&!Dn(S)?m!==b:m!==nn(S,m)}onMouseOver(){let l=this.chart,f=l.hoverSeries,m=l.pointer;m==null||m.setHoverChartIndex(),f&&f!==this&&f.onMouseOut(),this.options.events.mouseOver&&Gr(this,"mouseOver"),this.setState("hover"),l.hoverSeries=this}onMouseOut(){let l=this.options,f=this.chart,m=f.tooltip,v=f.hoverPoint;f.hoverSeries=null,v&&v.onMouseOut(),this&&l.events.mouseOut&&Gr(this,"mouseOut"),m&&!this.stickyTracking&&(!m.shared||this.noSharedTooltip)&&m.hide(),f.series.forEach(function(b){b.setState("",!0)})}setState(l,f){let m=this,v=m.options,b=m.graph,S=v.inactiveOtherPoints,_=v.states,E=nn(_[l||"normal"]&&_[l||"normal"].animation,m.chart.options.chart.animation),I=v.lineWidth,F=v.opacity;if(l=l||"",m.state!==l&&([m.group,m.markerGroup,m.dataLabelsGroup].forEach(function(R){R&&(m.state&&R.removeClass("highcharts-series-"+m.state),l&&R.addClass("highcharts-series-"+l))}),m.state=l,!m.chart.styledMode)){if(_[l]&&_[l].enabled===!1)return;if(l&&(I=_[l].lineWidth||I+(_[l].lineWidthPlus||0),F=nn(_[l].opacity,F)),b&&!b.dashstyle&&Ln(I))for(let R of[b,...this.zones.map(z=>z.graph)])R==null||R.animate({"stroke-width":I},E);S||[m.group,m.markerGroup,m.dataLabelsGroup,m.labelBySeries].forEach(function(R){R&&R.animate({opacity:F},E)})}f&&S&&m.points&&m.setAllPointsToState(l||void 0)}setAllPointsToState(l){this.points.forEach(function(f){f.setState&&f.setState(l)})}setVisible(l,f){var E;let m=this,v=m.chart,b=v.options.chart.ignoreHiddenSeries,S=m.visible;m.visible=l=m.options.visible=m.userOptions.visible=l===void 0?!S:l;let _=l?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(I=>{var F;(F=m[I])==null||F[_]()}),(v.hoverSeries===m||((E=v.hoverPoint)==null?void 0:E.series)===m)&&m.onMouseOut(),m.legendItem&&v.legend.colorizeItem(m,l),m.isDirty=!0,m.options.stacking&&v.series.forEach(I=>{I.options.stacking&&I.visible&&(I.isDirty=!0)}),m.linkedSeries.forEach(I=>{I.setVisible(l,!1)}),b&&(v.isDirtyBox=!0),Gr(m,_),f!==!1&&v.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(l){this.selected=l=this.options.selected=l===void 0?!this.selected:l,this.checkbox&&(this.checkbox.checked=l),Gr(this,l?"select":"unselect")}shouldShowTooltip(l,f,m={}){return m.series=this,m.visiblePlotOnly=!0,this.chart.isInsidePlot(l,f,m)}drawLegendSymbol(l,f){var m;(m=Pd[this.options.legendSymbol||"rectangle"])==null||m.call(this,l,f)}}Ks.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:O}=this.series.chart;return typeof this.y!="number"?"":O(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ks.types=rn.seriesTypes,Ks.registerType=rn.registerSeriesType,Ks.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ks.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],zi(Ks.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Ro,requireSorting:!0,sorted:!0}),rn.series=Ks;let ki=Ks,{animObject:Nm,setAnimation:J0}=kn,{registerEventOptions:Am}=To,{composed:ew,marginNames:qv}=V,{distribute:tw}=Lc,{format:rw}=Hn,{addEvent:Fd,createElement:nw,css:iw,defined:km,discardElement:NN,find:sw,fireEvent:Bo,isNumber:aw,merge:ql,pick:As,pushUnique:ow,relativeLength:Em,stableSort:AN,syncTimeout:kN}=Le;class Hv{constructor(l,f){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=l,this.setOptions(f),f.enabled&&(this.render(),Am(this,f),Fd(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Fd(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(l){let f=As(l.padding,8);this.options=l,this.chart.styledMode||(this.itemStyle=l.itemStyle,this.itemHiddenStyle=ql(this.itemStyle,l.itemHiddenStyle)),this.itemMarginTop=l.itemMarginTop,this.itemMarginBottom=l.itemMarginBottom,this.padding=f,this.initialItemY=f-5,this.symbolWidth=As(l.symbolWidth,16),this.pages=[],this.proximate=l.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(l,f){let m=this.chart;this.setOptions(ql(!0,this.options,l)),"events"in this.options&&Am(this,this.options),this.destroy(),m.isDirtyLegend=m.isDirtyBox=!0,As(f,!0)&&m.redraw(),Bo(this,"afterUpdate",{redraw:f})}colorizeItem(l,f){var I;let m=l.color,{area:v,group:b,label:S,line:_,symbol:E}=l.legendItem||{};if((l instanceof ki||l instanceof Ro)&&(l.color=((I=l.options)==null?void 0:I.legendSymbolColor)||m),b==null||b[f?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:F={}}=this,R=F.color,{fillColor:z,fillOpacity:G,lineColor:Z,marker:ie}=l.options,ne=re=>(!f&&(re.fill&&(re.fill=R),re.stroke&&(re.stroke=R)),re);S==null||S.css(ql(f?this.itemStyle:F)),_==null||_.attr(ne({stroke:Z||l.color})),E&&E.attr(ne(ie&&E.isMarker?l.pointAttribs():{fill:l.color})),v==null||v.attr(ne({fill:z||l.color,"fill-opacity":z?1:G??.75}))}l.color=m,Bo(this,"afterColorizeItem",{item:l,visible:f})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(l){let{group:f,x:m=0,y:v=0}=l.legendItem||{},b=this.options,S=b.symbolPadding,_=!b.rtl,E=l.checkbox;if(f!=null&&f.element){let I={translateX:_?m:this.legendWidth-m-2*S-4,translateY:v};f[km(f.translateY)?"animate":"attr"](I,void 0,()=>{Bo(this,"afterPositionItem",{item:l})})}E&&(E.x=m,E.y=v)}destroyItem(l){let f=l.checkbox,m=l.legendItem||{};for(let v of["group","label","line","symbol"])m[v]&&(m[v]=m[v].destroy());f&&NN(f),l.legendItem=void 0}destroy(){for(let l of this.getAllItems())this.destroyItem(l);for(let l of["clipRect","up","down","pager","nav","box","title","group"])this[l]&&(this[l]=this[l].destroy());this.display=null}positionCheckboxes(){var b;let l,f=(b=this.group)==null?void 0:b.alignAttr,m=this.clipHeight||this.legendHeight,v=this.titleHeight;f&&(l=f.translateY,this.allItems.forEach(function(S){let _,E=S.checkbox;E&&(_=l+v+E.y+(this.scrollOffset||0)+3,iw(E,{left:f.translateX+S.checkboxOffset+E.x-20+"px",top:_+"px",display:this.proximate||_>l-6&&_<l+m-6?"":"none"}))},this))}renderTitle(){let l=this.options,f=this.padding,m=l.title,v,b=0;m.text&&(this.title||(this.title=this.chart.renderer.label(m.text,f-3,f-4,void 0,void 0,void 0,l.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(m.style),this.title.add(this.group)),m.width||this.title.css({width:this.maxLegendWidth+"px"}),b=(v=this.title.getBBox()).height,this.offsetWidth=v.width,this.contentGroup.attr({translateY:b})),this.titleHeight=b}setText(l){let f=this.options;l.legendItem.label.attr({text:f.labelFormat?rw(f.labelFormat,l,this.chart):f.labelFormatter.call(l)})}renderItem(l){var Te;let f=l.legendItem=l.legendItem||{},m=this.chart,v=m.renderer,b=this.options,S=b.layout==="horizontal",_=this.symbolWidth,E=b.symbolPadding||0,I=this.itemStyle,F=this.itemHiddenStyle,R=S?As(b.itemDistance,20):0,z=!b.rtl,G=!l.series,Z=!G&&l.series.drawLegendSymbol?l.series:l,ie=Z.options,ne=!!this.createCheckboxForItem&&ie&&ie.showCheckbox,re=b.useHTML,oe=l.options.className,le=f.label,we=_+E+R+20*!!ne;!le&&(f.group=v.g("legend-item").addClass("highcharts-"+Z.type+"-series highcharts-color-"+l.colorIndex+(oe?" "+oe:"")+(G?" highcharts-series-"+l.index:"")).attr({zIndex:1}).add(this.scrollGroup),f.label=le=v.text("",z?_+E:-E,this.baseline||0,re),m.styledMode||le.css(ql(l.visible?I:F)),le.attr({align:z?"left":"right",zIndex:2}).add(f.group),!this.baseline&&(this.fontMetrics=v.fontMetrics(le),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,le.attr("y",this.baseline),this.symbolHeight=As(b.symbolHeight,this.fontMetrics.f),b.squareSymbol&&(this.symbolWidth=As(b.symbolWidth,Math.max(this.symbolHeight,16)),we=this.symbolWidth+E+R+20*!!ne,z&&le.attr("x",this.symbolWidth+E))),Z.drawLegendSymbol(this,l),this.setItemEvents&&this.setItemEvents(l,le,re)),ne&&!l.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(l),this.colorizeItem(l,l.visible),(m.styledMode||!I.width)&&le.css({width:(b.itemWidth||this.widthOption||m.spacingBox.width)-we+"px"}),this.setText(l);let ve=le.getBBox(),xe=((Te=this.fontMetrics)==null?void 0:Te.h)||0;l.itemWidth=l.checkboxOffset=b.itemWidth||f.labelWidth||ve.width+we,this.maxItemWidth=Math.max(this.maxItemWidth,l.itemWidth),this.totalItemWidth+=l.itemWidth,this.itemHeight=l.itemHeight=Math.round(f.labelHeight||(ve.height>1.5*xe?ve.height:xe))}layoutItem(l){let f=this.options,m=this.padding,v=f.layout==="horizontal",b=l.itemHeight,S=this.itemMarginBottom,_=this.itemMarginTop,E=v?As(f.itemDistance,20):0,I=this.maxLegendWidth,F=f.alignColumns&&this.totalItemWidth>I?this.maxItemWidth:l.itemWidth,R=l.legendItem||{};v&&this.itemX-m+F>I&&(this.itemX=m,this.lastLineHeight&&(this.itemY+=_+this.lastLineHeight+S),this.lastLineHeight=0),this.lastItemY=_+this.itemY+S,this.lastLineHeight=Math.max(b,this.lastLineHeight),R.x=this.itemX,R.y=this.itemY,v?this.itemX+=F:(this.itemY+=_+b+S,this.lastLineHeight=b),this.offsetWidth=this.widthOption||Math.max((v?this.itemX-m-(l.checkbox?0:E):F)+m,this.offsetWidth)}getAllItems(){let l=[];return this.chart.series.forEach(function(f){var v;let m=f==null?void 0:f.options;f&&As(m.showInLegend,!km(m.linkedTo)&&void 0,!0)&&(l=l.concat(((v=f.legendItem)==null?void 0:v.labels)||(m.legendType==="point"?f.data:f)))}),Bo(this,"afterGetAllItems",{allItems:l}),l}getAlignment(){let l=this.options;return this.proximate?l.align.charAt(0)+"tv":l.floating?"":l.align.charAt(0)+l.verticalAlign.charAt(0)+l.layout.charAt(0)}adjustMargins(l,f){let m=this.chart,v=this.options,b=this.getAlignment();b&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(S,_){S.test(b)&&!km(l[_])&&(m[qv[_]]=Math.max(m[qv[_]],m.legend[(_+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][_]*v[_%2?"x":"y"]+As(v.margin,12)+f[_]+(m.titleOffset[_]||0)))})}proximatePositions(){let l,f=this.chart,m=[],v=this.options.align==="left";for(let b of(this.allItems.forEach(function(S){let _,E,I=v,F,R;S.yAxis&&(S.xAxis.options.reversed&&(I=!I),S.points&&(_=sw(I?S.points:S.points.slice(0).reverse(),function(z){return aw(z.plotY)})),E=this.itemMarginTop+S.legendItem.label.getBBox().height+this.itemMarginBottom,R=S.yAxis.top-f.plotTop,F=S.visible?(_?_.plotY:S.yAxis.height)+(R-.3*E):R+S.yAxis.height,m.push({target:F,size:E,item:S}))},this),tw(m,f.plotHeight)))l=b.item.legendItem||{},aw(b.pos)&&(l.y=f.plotTop-f.spacing[0]+b.pos)}render(){let l=this.chart,f=l.renderer,m=this.options,v=this.padding,b=this.getAllItems(),S,_,E,I=this.group,F,R=this.box;this.itemX=v,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Em(m.width,l.spacingBox.width-v),F=l.spacingBox.width-2*v-m.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(F/=2),this.maxLegendWidth=this.widthOption||F,I||(this.group=I=f.g("legend").addClass(m.className||"").attr({zIndex:7}).add(),this.contentGroup=f.g().attr({zIndex:1}).add(I),this.scrollGroup=f.g().add(this.contentGroup)),this.renderTitle(),AN(b,(z,G)=>{var Z,ie;return(((Z=z.options)==null?void 0:Z.legendIndex)||0)-(((ie=G.options)==null?void 0:ie.legendIndex)||0)}),m.reversed&&b.reverse(),this.allItems=b,this.display=S=!!b.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,b.forEach(this.renderItem,this),b.forEach(this.layoutItem,this),_=(this.widthOption||this.offsetWidth)+v,E=this.lastItemY+this.lastLineHeight+this.titleHeight,E=this.handleOverflow(E)+v,R||(this.box=R=f.rect().addClass("highcharts-legend-box").attr({r:m.borderRadius}).add(I)),l.styledMode||R.attr({stroke:m.borderColor,"stroke-width":m.borderWidth||0,fill:m.backgroundColor||"none"}).shadow(m.shadow),_>0&&E>0&&R[R.placed?"animate":"attr"](R.crisp.call({},{x:0,y:0,width:_,height:E},R.strokeWidth())),I[S?"show":"hide"](),l.styledMode&&I.getStyle("display")==="none"&&(_=E=0),this.legendWidth=_,this.legendHeight=E,S&&this.align(),this.proximate||this.positionItems(),Bo(this,"afterRender")}align(l=this.chart.spacingBox){let f=this.chart,m=this.options,v=l.y;/(lth|ct|rth)/.test(this.getAlignment())&&f.titleOffset[0]>0?v+=f.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&f.titleOffset[2]>0&&(v-=f.titleOffset[2]),v!==l.y&&(l=ql(l,{y:v})),f.hasRendered||(this.group.placed=!1),this.group.align(ql(m,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":m.verticalAlign}),!0,l)}handleOverflow(l){let f=this,m=this.chart,v=m.renderer,b=this.options,S=b.y,_=b.verticalAlign==="top",E=this.padding,I=b.maxHeight,F=b.navigation,R=As(F.animation,!0),z=F.arrowSize||12,G=this.pages,Z=this.allItems,ie=function(Ne){typeof Ne=="number"?Te.attr({height:Ne}):Te&&(f.clipRect=Te.destroy(),f.contentGroup.clip()),f.contentGroup.div&&(f.contentGroup.div.style.clip=Ne?"rect("+E+"px,9999px,"+(E+Ne)+"px,0)":"auto")},ne=function(Ne){return f[Ne]=v.circle(0,0,1.3*z).translate(z/2,z/2).add(xe),m.styledMode||f[Ne].attr("fill","rgba(0,0,0,0.0001)"),f[Ne]},re,oe,le,we,ve=m.spacingBox.height+(_?-S:S)-E,xe=this.nav,Te=this.clipRect;return b.layout!=="horizontal"||b.verticalAlign==="middle"||b.floating||(ve/=2),I&&(ve=Math.min(ve,I)),G.length=0,l&&ve>0&&l>ve&&F.enabled!==!1?(this.clipHeight=re=Math.max(ve-20-this.titleHeight-E,0),this.currentPage=As(this.currentPage,1),this.fullHeight=l,Z.forEach((Ne,Pe)=>{let Ve=(le=Ne.legendItem||{}).y||0,Ye=Math.round(le.label.getBBox().height),tt=G.length;(!tt||Ve-G[tt-1]>re&&(oe||Ve)!==G[tt-1])&&(G.push(oe||Ve),tt++),le.pageIx=tt-1,oe&&we&&(we.pageIx=tt-1),Pe===Z.length-1&&Ve+Ye-G[tt-1]>re&&Ve>G[tt-1]&&(G.push(Ve),le.pageIx=tt),Ve!==oe&&(oe=Ve),we=le}),Te||(Te=f.clipRect=v.clipRect(0,E-2,9999,0),f.contentGroup.clip(Te)),ie(re),xe||(this.nav=xe=v.g().attr({zIndex:1}).add(this.group),this.up=v.symbol("triangle",0,0,z,z).add(xe),ne("upTracker").on("click",function(){f.scroll(-1,R)}),this.pager=v.text("",15,10).addClass("highcharts-legend-navigation"),!m.styledMode&&F.style&&this.pager.css(F.style),this.pager.add(xe),this.down=v.symbol("triangle-down",0,0,z,z).add(xe),ne("downTracker").on("click",function(){f.scroll(1,R)})),f.scroll(0),l=ve):xe&&(ie(),this.nav=xe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),l}scroll(l,f){let m=this.chart,v=this.pages,b=v.length,S=this.clipHeight,_=this.options.navigation,E=this.pager,I=this.padding,F=this.currentPage+l;F>b&&(F=b),F>0&&(f!==void 0&&J0(f,m),this.nav.attr({translateX:I,translateY:S+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(R){R.attr({class:F===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),E.attr({text:F+"/"+b}),[this.down,this.downTracker].forEach(function(R){R.attr({x:18+this.pager.getBBox().width,class:F===b?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),m.styledMode||(this.up.attr({fill:F===1?_.inactiveColor:_.activeColor}),this.upTracker.css({cursor:F===1?"default":"pointer"}),this.down.attr({fill:F===b?_.inactiveColor:_.activeColor}),this.downTracker.css({cursor:F===b?"default":"pointer"})),this.scrollOffset=-v[F-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=F,this.positionCheckboxes(),kN(()=>{Bo(this,"afterScroll",{currentPage:F})},Nm(As(f,m.renderer.globalAnimation,!0)).duration))}setItemEvents(l,f,m){let v=this,b=l.legendItem||{},S=v.chart.renderer.boxWrapper,_=l instanceof Ro,E=l instanceof ki,I="highcharts-legend-"+(_?"point":"series")+"-active",F=v.chart.styledMode,R=m?[f,b.symbol]:[b.group],z=G=>{v.allItems.forEach(Z=>{l!==Z&&[Z].concat(Z.linkedSeries||[]).forEach(ie=>{ie.setState(G,!_)})})};for(let G of R)G&&G.on("mouseover",function(){l.visible&&z("inactive"),l.setState("hover"),l.visible&&S.addClass(I),F||f.css(v.options.itemHoverStyle)}).on("mouseout",function(){v.chart.styledMode||f.css(ql(l.visible?v.itemStyle:v.itemHiddenStyle)),z(""),S.removeClass(I),l.setState()}).on("click",function(Z){let ie=function(){l.setVisible&&l.setVisible(),z(l.visible?"inactive":"")};S.removeClass(I),Bo(v,"itemClick",{browserEvent:Z,legendItem:l},ie),_?l.firePointEvent("legendItemClick",{browserEvent:Z}):E&&Bo(l,"legendItemClick",{browserEvent:Z})})}createCheckboxForItem(l){l.checkbox=nw("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:l.selected,defaultChecked:l.selected},this.options.itemCheckboxStyle,this.chart.container),Fd(l.checkbox,"click",function(f){let m=f.target;Bo(l.series||l,"checkboxClick",{checked:m.checked,item:l},function(){l.select()})})}}(function(O){O.compose=function(l){ow(ew,"Core.Legend")&&Fd(l,"beforeMargins",function(){this.legend=new O(this,this.options.legend)})}})(Hv||(Hv={}));let Ys=Hv,{animate:Ff,animObject:Tm,setAnimation:Cm}=kn,{defaultOptions:Pm}=Gt,{numberFormat:lw}=Hn,{registerEventOptions:Im}=To,{charts:Xs,doc:ru,marginNames:Om,svg:EN,win:Wv}=V,{seriesTypes:Rm}=rn,{addEvent:Mm,attr:Gv,createElement:Dm,css:Na,defined:Cn,diffObjects:Ei,discardElement:cw,erase:uw,error:Lm,extend:Vo,find:Fm,fireEvent:ur,getAlignFactor:dw,getStyle:$f,isArray:hw,isNumber:nu,isObject:Kv,isString:$d,merge:Aa,objectEach:Bf,pick:Fn,pInt:TN,relativeLength:Yv,removeEvent:$m,splat:Vf,syncTimeout:Bm,uniqueKey:zo}=Le;class Hl{static chart(l,f,m){return new Hl(l,f,m)}constructor(l,f,m){this.sharedClips={};let v=[...arguments];($d(l)||l.nodeName)&&(this.renderTo=v.shift()),this.init(v[0],v[1])}setZoomOptions(){let l=this.options.chart,f=l.zooming;this.zooming={...f,type:Fn(l.zoomType,f.type),key:Fn(l.zoomKey,f.key),pinchType:Fn(l.pinchType,f.pinchType),singleTouch:Fn(l.zoomBySingleTouch,f.singleTouch,!1),resetButton:Aa(f.resetButton,l.resetZoomButton)}}init(l,f){ur(this,"init",{args:arguments},function(){var S;let m=Aa(Pm,l),v=m.chart,b=this.renderTo||v.renderTo;this.userOptions=Vo({},l),(this.renderTo=$d(b)?ru.getElementById(b):b)||Lm(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=f,this.isResizing=0,this.options=m,this.axes=[],this.series=[],this.locale=m.lang.locale??((S=this.renderTo.closest("[lang]"))==null?void 0:S.lang),this.time=new xo(Vo(m.time||{},{locale:this.locale}),m.lang),m.time=this.time.options,this.numberFormatter=(v.numberFormatter||lw).bind(this),this.styledMode=v.styledMode,this.hasCartesianSeries=v.showAxes,this.index=Xs.length,Xs.push(this),V.chartCount++,Im(this,v),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ur(this,"afterInit"),this.firstRender()})}initSeries(l){let f=this.options.chart,m=l.type||f.type,v=Rm[m];v||Lm(17,!0,this,{missingModuleFor:m});let b=new v;return typeof b.init=="function"&&b.init(this,l),b}setSortedData(){this.getSeriesOrderByLinks().forEach(function(l){l.points||l.data||!l.enabledDataSorting||l.setData(l.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(l,f){return l.linkedSeries.length||f.linkedSeries.length?f.linkedSeries.length-l.linkedSeries.length:0})}orderItems(l,f=0){let m=this[l],v=this.options[l]=Vf(this.options[l]).slice(),b=this.userOptions[l]=this.userOptions[l]?Vf(this.userOptions[l]).slice():[];if(this.hasRendered&&(v.splice(f),b.splice(f)),m)for(let S=f,_=m.length;S<_;++S){let E=m[S];E&&(E.index=S,E instanceof ki&&(E.name=E.getName()),E.options.isInternal||(v[S]=E.options,b[S]=E.userOptions))}}getClipBox(l,f){var F,R;let m=this.inverted,{xAxis:v,yAxis:b}=l||{},{x:S,y:_,width:E,height:I}=Aa(this.clipBox);return l&&(v&&v.len!==this.plotSizeX&&(E=v.len),b&&b.len!==this.plotSizeY&&(I=b.len),m&&!l.invertible&&([E,I]=[I,E])),f&&(S+=((F=m?b:v)==null?void 0:F.pos)??this.plotLeft,_+=((R=m?v:b)==null?void 0:R.pos)??this.plotTop),{x:S,y:_,width:E,height:I}}isInsidePlot(l,f,m={}){var ne;let{inverted:v,plotBox:b,plotLeft:S,plotTop:_,scrollablePlotBox:E}=this,{scrollLeft:I=0,scrollTop:F=0}=m.visiblePlotOnly&&((ne=this.scrollablePlotArea)==null?void 0:ne.scrollingContainer)||{},R=m.series,z=m.visiblePlotOnly&&E||b,G=m.inverted?f:l,Z=m.inverted?l:f,ie={x:G,y:Z,isInsidePlot:!0,options:m};if(!m.ignoreX){let re=R&&(v&&!this.polar?R.yAxis:R.xAxis)||{pos:S,len:1/0},oe=m.paneCoordinates?re.pos+G:S+G;oe>=Math.max(I+S,re.pos)&&oe<=Math.min(I+S+z.width,re.pos+re.len)||(ie.isInsidePlot=!1)}if(!m.ignoreY&&ie.isInsidePlot){let re=!v&&m.axis&&!m.axis.isXAxis&&m.axis||R&&(v?R.xAxis:R.yAxis)||{pos:_,len:1/0},oe=m.paneCoordinates?re.pos+Z:_+Z;oe>=Math.max(F+_,re.pos)&&oe<=Math.min(F+_+z.height,re.pos+re.len)||(ie.isInsidePlot=!1)}return ur(this,"afterIsInsidePlot",ie),ie.isInsidePlot}redraw(l){ur(this,"beforeRedraw");let f=this.hasCartesianSeries?this.axes:this.colorAxis||[],m=this.series,v=this.pointer,b=this.legend,S=this.userOptions.legend,_=this.renderer,E=_.isHidden(),I=[],F,R,z,G=this.isDirtyBox,Z=this.isDirtyLegend,ie;for(_.rootFontSize=_.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Cm(!!this.hasRendered&&l,this),E&&this.temporaryDisplay(),this.layOutTitles(!1),z=m.length;z--;)if(((ie=m[z]).options.stacking||ie.options.centerInCategory)&&(R=!0,ie.isDirty)){F=!0;break}if(F)for(z=m.length;z--;)(ie=m[z]).options.stacking&&(ie.isDirty=!0);m.forEach(function(ne){ne.isDirty&&(ne.options.legendType==="point"?(typeof ne.updateTotals=="function"&&ne.updateTotals(),Z=!0):S&&(S.labelFormatter||S.labelFormat)&&(Z=!0)),ne.isDirtyData&&ur(ne,"updatedData")}),Z&&b&&b.options.enabled&&(b.render(),this.isDirtyLegend=!1),R&&this.getStacks(),f.forEach(function(ne){ne.updateNames(),ne.setScale()}),this.getMargins(),f.forEach(function(ne){ne.isDirty&&(G=!0)}),f.forEach(function(ne){let re=ne.min+","+ne.max;ne.extKey!==re&&(ne.extKey=re,I.push(function(){ur(ne,"afterSetExtremes",Vo(ne.eventArgs,ne.getExtremes())),delete ne.eventArgs})),(G||R)&&ne.redraw()}),G&&this.drawChartBox(),ur(this,"predraw"),m.forEach(function(ne){(G||ne.isDirty)&&ne.visible&&ne.redraw(),ne.isDirtyData=!1}),v&&v.reset(!0),_.draw(),ur(this,"redraw"),ur(this,"render"),E&&this.temporaryDisplay(!0),I.forEach(function(ne){ne.call()})}get(l){let f=this.series;function m(b){return b.id===l||b.options&&b.options.id===l}let v=Fm(this.axes,m)||Fm(this.series,m);for(let b=0;!v&&b<f.length;b++)v=Fm(f[b].points||[],m);return v}createAxes(){let l=this.userOptions;for(let f of(ur(this,"createAxes"),["xAxis","yAxis"]))for(let m of l[f]=Vf(l[f]||{}))new vd(this,m,f);ur(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((l,f)=>(f.getPointsCollection().forEach(m=>{Fn(m.selectedStaging,m.selected)&&l.push(m)}),l),[])}getSelectedSeries(){return this.series.filter(l=>l.selected)}setTitle(l,f,m){this.applyDescription("title",l),this.applyDescription("subtitle",f),this.applyDescription("caption",void 0),this.layOutTitles(m)}applyDescription(l,f){var S;let m=this,v=this.options[l]=Aa(this.options[l],f),b=this[l];b&&f&&(this[l]=b=b.destroy()),v&&!b&&((b=this.renderer.text(v.text,0,0,v.useHTML).attr({align:v.align,class:"highcharts-"+l,zIndex:v.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(_,E){m.applyDescription(l,_),m.layOutTitles(E)},this.styledMode||b.css(Vo(l==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},v.style)),b.textPxLength=b.getBBox().width,b.css({whiteSpace:(S=v.style)==null?void 0:S.whiteSpace}),this[l]=b)}layOutTitles(l=!0){var _,E,I,F;let f=[0,0,0],{options:m,renderer:v,spacingBox:b}=this;["title","subtitle","caption"].forEach(R=>{var ne;let z=this[R],G=this.options[R],Z=Aa(b),ie=(z==null?void 0:z.textPxLength)||0;if(z&&G){ur(this,"layOutTitle",{alignTo:Z,key:R,textPxLength:ie});let re=v.fontMetrics(z),oe=re.b,le=re.h,we=G.verticalAlign||"top",ve=we==="top",xe=ve&&G.minScale||1,Te=R==="title"?ve?-3:0:ve?f[0]+2:0,Ne=Math.min(Z.width/ie,1),Pe=Math.max(xe,Ne),Ve=Aa({y:we==="bottom"?oe:Te+oe},{align:R==="title"?Ne<xe?"left":"center":(ne=this.title)==null?void 0:ne.alignValue},G),Ye=(G.width||(Ne>xe?this.chartWidth:Z.width)/Pe)+"px";z.alignValue!==Ve.align&&(z.placed=!1);let tt=Math.round(z.css({width:Ye}).getBBox(G.useHTML).height);if(Ve.height=tt,z.align(Ve,!1,Z).attr({align:Ve.align,scaleX:Pe,scaleY:Pe,"transform-origin":`${Z.x+ie*Pe*dw(Ve.align)} ${le}`}),!G.floating){let Ze=tt*(tt<1.2*le?1:Pe);we==="top"?f[0]=Math.ceil(f[0]+Ze):we==="bottom"&&(f[2]=Math.ceil(f[2]+Ze))}}},this),f[0]&&(((_=m.title)==null?void 0:_.verticalAlign)||"top")==="top"&&(f[0]+=((E=m.title)==null?void 0:E.margin)||0),f[2]&&((I=m.caption)==null?void 0:I.verticalAlign)==="bottom"&&(f[2]+=((F=m.caption)==null?void 0:F.margin)||0);let S=!this.titleOffset||this.titleOffset.join(",")!==f.join(",");this.titleOffset=f,ur(this,"afterLayOutTitles"),!this.isDirtyBox&&S&&(this.isDirtyBox=this.isDirtyLegend=S,this.hasRendered&&l&&this.isDirtyBox&&this.redraw())}getContainerBox(){let l=[].map.call(this.renderTo.children,m=>{if(m!==this.container){let v=m.style.display;return m.style.display="none",[m,v]}}),f={width:$f(this.renderTo,"width",!0)||0,height:$f(this.renderTo,"height",!0)||0};return l.filter(Boolean).forEach(([m,v])=>{m.style.display=v}),f}getChartSize(){var S;let l=this.options.chart,f=l.width,m=l.height,v=this.getContainerBox(),b=v.height<=1||!((S=this.renderTo.parentElement)!=null&&S.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,f||v.width||600),this.chartHeight=Math.max(0,Yv(m,this.chartWidth)||(b?400:v.height)),this.containerBox=v}temporaryDisplay(l){let f=this.renderTo,m;if(l)for(;f!=null&&f.style;)f.hcOrigStyle&&(Na(f,f.hcOrigStyle),delete f.hcOrigStyle),f.hcOrigDetached&&(ru.body.removeChild(f),f.hcOrigDetached=!1),f=f.parentNode;else for(;f!=null&&f.style&&(ru.body.contains(f)||f.parentNode||(f.hcOrigDetached=!0,ru.body.appendChild(f)),($f(f,"display",!1)==="none"||f.hcOricDetached)&&(f.hcOrigStyle={display:f.style.display,height:f.style.height,overflow:f.style.overflow},m={display:"block",overflow:"hidden"},f!==this.renderTo&&(m.height=0),Na(f,m),f.offsetWidth||f.style.setProperty("display","block","important")),(f=f.parentNode)!==ru.body););}setClassName(l){this.container.className="highcharts-container "+(l||"")}getContainer(){var z,G;let l,f=this.options,m=f.chart,v="data-highcharts-chart",b=zo(),S=this.renderTo,_=TN(Gv(S,v));nu(_)&&Xs[_]&&Xs[_].hasRendered&&Xs[_].destroy(),Gv(S,v,this.index),S.innerHTML=cr.emptyHTML,m.skipClone||S.offsetWidth||this.temporaryDisplay(),this.getChartSize();let E=this.chartHeight,I=this.chartWidth;Na(S,{overflow:"hidden"}),this.styledMode||(l=Vo({position:"relative",overflow:"hidden",width:I+"px",height:E+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},m.style||{}));let F=Dm("div",{id:b},l,S);this.container=F,this.getChartSize(),I===this.chartWidth||(I=this.chartWidth,this.styledMode||Na(F,{width:Fn((z=m.style)==null?void 0:z.width,I+"px")})),this.containerBox=this.getContainerBox(),this._cursor=F.style.cursor;let R=m.renderer||!EN?rr.getRendererType(m.renderer):am;if(this.renderer=new R(F,I,E,void 0,m.forExport,(G=f.exporting)==null?void 0:G.allowHTML,this.styledMode),Cm(void 0,this),this.setClassName(m.className),this.styledMode)for(let Z in f.defs)this.renderer.definition(f.defs[Z]);else this.renderer.setStyle(m.style);this.renderer.chartIndex=this.index,ur(this,"afterGetContainer")}getMargins(l){var b;let{spacing:f,margin:m,titleOffset:v}=this;this.resetMargins(),v[0]&&!Cn(m[0])&&(this.plotTop=Math.max(this.plotTop,v[0]+f[0])),v[2]&&!Cn(m[2])&&(this.marginBottom=Math.max(this.marginBottom,v[2]+f[2])),(b=this.legend)!=null&&b.display&&this.legend.adjustMargins(m,f),ur(this,"getMargins"),l||this.getAxisMargins()}getAxisMargins(){let l=this,f=l.axisOffset=[0,0,0,0],m=l.colorAxis,v=l.margin,b=function(S){S.forEach(function(_){_.visible&&_.getOffset()})};l.hasCartesianSeries?b(l.axes):m!=null&&m.length&&b(m),Om.forEach(function(S,_){Cn(v[_])||(l[S]+=f[_])}),l.setChartSize()}getOptions(){return Ei(this.userOptions,Pm)}reflow(l){var b;let f=this,m=f.containerBox,v=f.getContainerBox();(b=f.pointer)==null||delete b.chartPosition,!f.isPrinting&&!f.isResizing&&m&&v.width&&((v.width!==m.width||v.height!==m.height)&&(Le.clearTimeout(f.reflowTimeout),f.reflowTimeout=Bm(function(){f.container&&f.setSize(void 0,void 0,!1)},100*!!l)),f.containerBox=v)}setReflow(){let l=this,f=m=>{var v;(v=l.options)!=null&&v.chart.reflow&&l.hasLoaded&&l.reflow(m)};if(typeof ResizeObserver=="function")new ResizeObserver(f).observe(l.renderTo);else{let m=Mm(Wv,"resize",f);Mm(this,"destroy",m)}}setSize(l,f,m){let v=this,b=v.renderer;v.isResizing+=1,Cm(m,v);let S=b.globalAnimation;v.oldChartHeight=v.chartHeight,v.oldChartWidth=v.chartWidth,l!==void 0&&(v.options.chart.width=l),f!==void 0&&(v.options.chart.height=f),v.getChartSize();let{chartWidth:_,chartHeight:E,scrollablePixelsX:I=0,scrollablePixelsY:F=0}=v;(v.isDirtyBox||_!==v.oldChartWidth||E!==v.oldChartHeight)&&(v.styledMode||(S?Ff:Na)(v.container,{width:`${_+I}px`,height:`${E+F}px`},S),v.setChartSize(!0),b.setSize(_,E,S),v.axes.forEach(function(R){R.isDirty=!0,R.setScale()}),v.isDirtyLegend=!0,v.isDirtyBox=!0,v.layOutTitles(),v.getMargins(),v.redraw(S),v.oldChartHeight=void 0,ur(v,"resize"),setTimeout(()=>{v&&ur(v,"endResize")},Tm(S).duration)),v.isResizing-=1}setChartSize(l){let f,m,v,b,{chartHeight:S,chartWidth:_,inverted:E,spacing:I,renderer:F}=this,R=this.clipOffset,z=Math[E?"floor":"round"];this.plotLeft=f=Math.round(this.plotLeft),this.plotTop=m=Math.round(this.plotTop),this.plotWidth=v=Math.max(0,Math.round(_-f-(this.marginRight??0))),this.plotHeight=b=Math.max(0,Math.round(S-m-(this.marginBottom??0))),this.plotSizeX=E?b:v,this.plotSizeY=E?v:b,this.spacingBox=F.spacingBox={x:I[3],y:I[0],width:_-I[3]-I[1],height:S-I[0]-I[2]},this.plotBox=F.plotBox={x:f,y:m,width:v,height:b},R&&(this.clipBox={x:z(R[3]),y:z(R[0]),width:z(this.plotSizeX-R[1]-R[3]),height:z(this.plotSizeY-R[0]-R[2])}),l||(this.axes.forEach(function(G){G.setAxisSize(),G.setAxisTranslation()}),F.alignElements()),ur(this,"afterSetChartSize",{skipAxes:l})}resetMargins(){ur(this,"resetMargins");let l=this,f=l.options.chart,m=f.plotBorderWidth||0,v=Math.round(m)/2;["margin","spacing"].forEach(function(b){let S=f[b],_=Kv(S)?S:[S,S,S,S];["Top","Right","Bottom","Left"].forEach(function(E,I){l[b][I]=Fn(f[b+E],_[I])})}),Om.forEach(function(b,S){l[b]=Fn(l.margin[S],l.spacing[S])}),l.axisOffset=[0,0,0,0],l.clipOffset=[v,v,v,v],l.plotBorderWidth=m}drawChartBox(){let l=this.options.chart,f=this.renderer,m=this.chartWidth,v=this.chartHeight,b=this.styledMode,S=this.plotBGImage,_=l.backgroundColor,E=l.plotBackgroundColor,I=l.plotBackgroundImage,F=this.plotLeft,R=this.plotTop,z=this.plotWidth,G=this.plotHeight,Z=this.plotBox,ie=this.clipRect,ne=this.clipBox,re=this.chartBackground,oe=this.plotBackground,le=this.plotBorder,we,ve,xe,Te="animate";re||(this.chartBackground=re=f.rect().addClass("highcharts-background").add(),Te="attr"),b?we=ve=re.strokeWidth():(ve=(we=l.borderWidth||0)+8*!!l.shadow,xe={fill:_||"none"},(we||re["stroke-width"])&&(xe.stroke=l.borderColor,xe["stroke-width"]=we),re.attr(xe).shadow(l.shadow)),re[Te]({x:ve/2,y:ve/2,width:m-ve-we%2,height:v-ve-we%2,r:l.borderRadius}),Te="animate",oe||(Te="attr",this.plotBackground=oe=f.rect().addClass("highcharts-plot-background").add()),oe[Te](Z),!b&&(oe.attr({fill:E||"none"}).shadow(l.plotShadow),I&&(S?(I!==S.attr("href")&&S.attr("href",I),S.animate(Z)):this.plotBGImage=f.image(I,F,R,z,G).add())),ie?ie.animate({width:ne.width,height:ne.height}):this.clipRect=f.clipRect(ne),Te="animate",le||(Te="attr",this.plotBorder=le=f.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),b||le.attr({stroke:l.plotBorderColor,"stroke-width":l.plotBorderWidth||0,fill:"none"}),le[Te](le.crisp(Z,-le.strokeWidth())),this.isDirtyBox=!1,ur(this,"afterDrawChartBox")}propFromSeries(){let l,f,m,v=this,b=v.options.chart,S=v.options.series;["inverted","angular","polar"].forEach(function(_){for(f=Rm[b.type],m=b[_]||f&&f.prototype[_],l=S==null?void 0:S.length;!m&&l--;)(f=Rm[S[l].type])&&f.prototype[_]&&(m=!0);v[_]=m})}linkSeries(l){let f=this,m=f.series;m.forEach(function(v){v.linkedSeries.length=0}),m.forEach(function(v){let{linkedTo:b}=v.options;if($d(b)){let S;(S=b===":previous"?f.series[v.index-1]:f.get(b))&&S.linkedParent!==v&&(S.linkedSeries.push(v),v.linkedParent=S,S.enabledDataSorting&&v.setDataSortingOptions(),v.visible=Fn(v.options.visible,S.options.visible,v.visible))}}),ur(this,"afterLinkSeries",{isUpdating:l})}renderSeries(){this.series.forEach(function(l){l.translate(),l.render()})}render(){var F;let l=this.axes,f=this.colorAxis,m=this.renderer,v=this.options.chart.axisLayoutRuns||2,b=R=>{R.forEach(z=>{z.visible&&z.render()})},S=0,_=!0,E,I=0;for(let R of(this.setTitle(),ur(this,"beforeMargins"),(F=this.getStacks)==null||F.call(this),this.getMargins(!0),this.setChartSize(),l)){let{options:z}=R,{labels:G}=z;if(this.hasCartesianSeries&&R.horiz&&R.visible&&G.enabled&&R.series.length&&R.coll!=="colorAxis"&&!this.polar){S=z.tickLength,R.createGroups();let Z=new Yc(R,0,"",!0),ie=Z.createLabel("x",G);if(Z.destroy(),ie&&Fn(G.reserveSpace,!nu(z.crossing))&&(S=ie.getBBox().height+G.distance+Math.max(z.offset||0,0)),S){ie==null||ie.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-S,0);(_||E||v>1)&&I<v;){let R=this.plotWidth,z=this.plotHeight;for(let G of l)I===0?G.setScale():(G.horiz&&_||!G.horiz&&E)&&G.setTickInterval(!0);I===0?this.getAxisMargins():this.getMargins(),_=R/this.plotWidth>(I?1:1.1),E=z/this.plotHeight>(I?1:1.05),I++}this.drawChartBox(),this.hasCartesianSeries?b(l):f!=null&&f.length&&b(f),this.seriesGroup||(this.seriesGroup=m.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(l){let f=this,m=Aa(!0,this.options.credits,l);m.enabled&&!this.credits&&(this.credits=this.renderer.text(m.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){m.href&&(Wv.location.href=m.href)}).attr({align:m.position.align,zIndex:8}),f.styledMode||this.credits.css(m.style),this.credits.add().align(m.position),this.credits.update=function(v){f.credits=f.credits.destroy(),f.addCredits(v)})}destroy(){var _,E;let l,f=this,m=f.axes,v=f.series,b=f.container,S=b==null?void 0:b.parentNode;for(ur(f,"destroy"),f.renderer.forExport?uw(Xs,f):Xs[f.index]=void 0,V.chartCount--,f.renderTo.removeAttribute("data-highcharts-chart"),$m(f),l=m.length;l--;)m[l]=m[l].destroy();for((E=(_=this.scroller)==null?void 0:_.destroy)==null||E.call(_),l=v.length;l--;)v[l]=v[l].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(I=>{var F,R;f[I]=(R=(F=f[I])==null?void 0:F.destroy)==null?void 0:R.call(F)}),b&&(b.innerHTML=cr.emptyHTML,$m(b),S&&cw(b)),Bf(f,function(I,F){delete f[F]})}firstRender(){var v;let l=this,f=l.options;l.getContainer(),l.resetMargins(),l.setChartSize(),l.propFromSeries(),l.createAxes();let m=hw(f.series)?f.series:[];f.series=[],m.forEach(function(b){l.initSeries(b)}),l.linkSeries(),l.setSortedData(),ur(l,"beforeRender"),l.render(),(v=l.pointer)==null||v.getChartPosition(),l.renderer.imgCount||l.hasLoaded||l.onload(),l.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(l){l&&this.index!==void 0&&l.apply(this,[this])},this),ur(this,"load"),ur(this,"render"),Cn(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:l,title:f}=this;!l||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":((f==null?void 0:f.element.textContent)||"").replace(/</g,"&lt;")}),l.accessibility&&l.accessibility.enabled===!1||Lm('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(l,f,m){let v,b=this;return l&&(f=Fn(f,!0),ur(b,"addSeries",{options:l},function(){v=b.initSeries(l),b.isDirtyLegend=!0,b.linkSeries(),v.enabledDataSorting&&v.setData(l.data,!1),ur(b,"afterAddSeries",{series:v}),f&&b.redraw(m)})),v}addAxis(l,f,m,v){return this.createAxis(f?"xAxis":"yAxis",{axis:l,redraw:m,animation:v})}addColorAxis(l,f,m){return this.createAxis("colorAxis",{axis:l,redraw:f,animation:m})}createAxis(l,f){let m=new vd(this,f.axis,l);return Fn(f.redraw,!0)&&this.redraw(f.animation),m}showLoading(l){let f=this,m=f.options,v=m.loading,b=function(){S&&Na(S,{left:f.plotLeft+"px",top:f.plotTop+"px",width:f.plotWidth+"px",height:f.plotHeight+"px"})},S=f.loadingDiv,_=f.loadingSpan;S||(f.loadingDiv=S=Dm("div",{className:"highcharts-loading highcharts-loading-hidden"},null,f.container)),_||(f.loadingSpan=_=Dm("span",{className:"highcharts-loading-inner"},null,S),Mm(f,"redraw",b)),S.className="highcharts-loading",cr.setElementHTML(_,Fn(l,m.lang.loading,"")),f.styledMode||(Na(S,Vo(v.style,{zIndex:10})),Na(_,v.labelStyle),f.loadingShown||(Na(S,{opacity:0,display:""}),Ff(S,{opacity:v.style.opacity||.5},{duration:v.showDuration||0}))),f.loadingShown=!0,b()}hideLoading(){let l=this.options,f=this.loadingDiv;f&&(f.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Ff(f,{opacity:0},{duration:l.loading.hideDuration||100,complete:function(){Na(f,{display:"none"})}})),this.loadingShown=!1}update(l,f,m,v){let b,S,_,E=this,I={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},F=l.isResponsiveOptions,R=[];ur(E,"update",{options:l}),F||E.setResponsive(!1,!0),l=Ei(l,E.options),E.userOptions=Aa(E.userOptions,l);let z=l.chart;z&&(Aa(!0,E.options.chart,z),this.setZoomOptions(),"className"in z&&E.setClassName(z.className),("inverted"in z||"polar"in z||"type"in z)&&(E.propFromSeries(),b=!0),"alignTicks"in z&&(b=!0),"events"in z&&Im(this,z),Bf(z,function(ie,ne){E.propsRequireUpdateSeries.indexOf("chart."+ne)!==-1&&(S=!0),E.propsRequireDirtyBox.indexOf(ne)!==-1&&(E.isDirtyBox=!0),E.propsRequireReflow.indexOf(ne)===-1||(E.isDirtyBox=!0,F||(_=!0))}),!E.styledMode&&z.style&&E.renderer.setStyle(E.options.chart.style||{})),!E.styledMode&&l.colors&&(this.options.colors=l.colors),Bf(l,function(ie,ne){E[ne]&&typeof E[ne].update=="function"?E[ne].update(ie,!1):typeof E[I[ne]]=="function"?E[I[ne]](ie):ne!=="colors"&&E.collectionsWithUpdate.indexOf(ne)===-1&&Aa(!0,E.options[ne],l[ne]),ne!=="chart"&&E.propsRequireUpdateSeries.indexOf(ne)!==-1&&(S=!0)}),this.collectionsWithUpdate.forEach(function(ie){l[ie]&&(Vf(l[ie]).forEach(function(ne,re){let oe,le=Cn(ne.id);le&&(oe=E.get(ne.id)),!oe&&E[ie]&&(oe=E[ie][Fn(ne.index,re)])&&(le&&Cn(oe.options.id)||oe.options.isInternal)&&(oe=void 0),oe&&oe.coll===ie&&(oe.update(ne,!1),m&&(oe.touched=!0)),!oe&&m&&E.collectionsWithInit[ie]&&(E.collectionsWithInit[ie][0].apply(E,[ne].concat(E.collectionsWithInit[ie][1]||[]).concat([!1])).touched=!0)}),m&&E[ie].forEach(function(ne){ne.touched||ne.options.isInternal?delete ne.touched:R.push(ne)}))}),R.forEach(function(ie){ie.chart&&ie.remove&&ie.remove(!1)}),b&&E.axes.forEach(function(ie){ie.update({},!1)}),S&&E.getSeriesOrderByLinks().forEach(function(ie){ie.chart&&ie.update({},!1)},this);let G=z==null?void 0:z.width,Z=z&&($d(z.height)?Yv(z.height,G||E.chartWidth):z.height);_||nu(G)&&G!==E.chartWidth||nu(Z)&&Z!==E.chartHeight?E.setSize(G,Z,v):Fn(f,!0)&&E.redraw(v),ur(E,"afterUpdate",{options:l,redraw:f,animation:v})}setSubtitle(l,f){this.applyDescription("subtitle",l),this.layOutTitles(f)}setCaption(l,f){this.applyDescription("caption",l),this.layOutTitles(f)}showResetZoom(){let l=this,f=Pm.lang,m=l.zooming.resetButton,v=m.theme,b=m.relativeTo==="chart"||m.relativeTo==="spacingBox"?null:"plotBox";function S(){l.zoomOut()}ur(this,"beforeShowResetZoom",null,function(){l.resetZoomButton=l.renderer.button(f.resetZoom,null,null,S,v).attr({align:m.position.align,title:f.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(m.position,!1,b)}),ur(this,"afterShowResetZoom")}zoomOut(){ur(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(l,f){let m=this,v=typeof f=="object"?f:{enabled:f,type:"x"},b=v.type,S=b&&m[{x:"xAxis",xy:"axes",y:"yAxis"}[b]].filter(E=>E.options.panningEnabled&&!E.options.isInternal),_=m.options.chart;_!=null&&_.panning&&(_.panning=v),ur(this,"pan",{originalEvent:l},()=>{m.transform({axes:S,event:l,to:{x:l.chartX-(m.mouseDownX||0),y:l.chartY-(m.mouseDownY||0)},trigger:"pan"}),Na(m.container,{cursor:"move"})})}transform(l){var Z;let{axes:f=this.axes,event:m,from:v={},reset:b,selection:S,to:_={},trigger:E}=l,{inverted:I,time:F}=this,R=!1,z,G;for(let ie of((Z=this.hoverPoints)==null||Z.forEach(ne=>ne.setState()),f)){let{horiz:ne,len:re,minPointOffset:oe=0,options:le,reversed:we}=ie,ve=ne?"width":"height",xe=ne?"x":"y",Te=Fn(_[ve],ie.len),Ne=Fn(v[ve],ie.len),Pe=10>Math.abs(Te)?1:Te/Ne,Ve=(v[xe]||0)+Ne/2-ie.pos,Ye=Ve-((_[xe]??ie.pos)+Te/2-ie.pos)/Pe,tt=we&&!I||!we&&I?-1:1;if(!b&&(Ve<0||Ve>ie.len))continue;let Ze=ie.toValue(Ye,!0)+(S||ie.isOrdinal?0:oe*tt),lt=ie.toValue(Ye+re/Pe,!0)-(S||ie.isOrdinal?0:oe*tt||0),ot=ie.allExtremes;if(Ze>lt&&([Ze,lt]=[lt,Ze]),Pe===1&&!b&&ie.coll==="yAxis"&&!ot){for(let uu of ie.series){let io=uu.getExtremes(uu.getProcessedData(!0).modified.getColumn("y")||[],!0);ot??(ot={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),nu(io.dataMin)&&nu(io.dataMax)&&(ot.dataMin=Math.min(io.dataMin,ot.dataMin),ot.dataMax=Math.max(io.dataMax,ot.dataMax))}ie.allExtremes=ot}let{dataMin:Rt,dataMax:ut,min:It,max:or}=Vo(ie.getExtremes(),ot||{}),nr=F.parse(le.min),fr=F.parse(le.max),Ui=Rt??nr,dr=ut??fr,Er=lt-Ze,Vt=ie.categories?0:Math.min(Er,dr-Ui),Nt=Ui-Vt*(Cn(nr)?0:le.minPadding),$n=dr+Vt*(Cn(fr)?0:le.maxPadding),Tr=ie.allowZoomOutside||Pe===1||E!=="zoom"&&Pe>1,Xr=Math.min(nr??Nt,Nt,Tr?It:Nt),oi=Math.max(fr??$n,$n,Tr?or:$n);(!ie.isOrdinal||ie.options.overscroll||Pe!==1||b)&&(Ze<Xr&&(Ze=Xr,Pe>=1&&(lt=Ze+Er)),lt>oi&&(lt=oi,Pe>=1&&(Ze=lt-Er)),(b||ie.series.length&&(Ze!==It||lt!==or)&&Ze>=Xr&&lt<=oi)&&(S?S[ie.coll].push({axis:ie,min:Ze,max:lt}):(ie.isPanning=E!=="zoom",ie.isPanning&&(G=!0),ie.setExtremes(b?void 0:Ze,b?void 0:lt,!1,!1,{move:Ye,trigger:E,scale:Pe}),!b&&(Ze>Xr||lt<oi)&&E!=="mousewheel"&&(z=!0)),R=!0),m&&(this[ne?"mouseDownX":"mouseDownY"]=m[ne?"chartX":"chartY"]))}return R&&(S?ur(this,"selection",S,()=>{delete l.selection,l.trigger="zoom",this.transform(l)}):(!z||G||this.resetZoomButton?!z&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(E==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),R}}Vo(Hl.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Hl.prototype.addAxis,[!0]],yAxis:[Hl.prototype.addAxis,[!1]],series:[Hl.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:fw}=kn,{composed:Xv}=V,{addEvent:Uo,createElement:zf,css:iu,defined:ni,erase:CN,merge:pw,pushUnique:Uf}=Le;function Ti(){let O=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!O&&(this.scrollablePlotArea=O=new dt(this)),O==null||O.applyFixed()}function mw(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class dt{static compose(l,f,m){Uf(Xv,this.compose)&&(Uo(l,"afterInit",mw),Uo(f,"afterSetChartSize",v=>this.afterSetSize(v.target,v)),Uo(f,"render",Ti),Uo(m,"show",mw))}static afterSetSize(l,f){let m,v,b,{minWidth:S,minHeight:_}=l.options.chart.scrollablePlotArea||{},{clipBox:E,plotBox:I,inverted:F,renderer:R}=l;if(!R.forExport&&(S?(l.scrollablePixelsX=m=Math.max(0,S-l.chartWidth),m&&(l.scrollablePlotBox=pw(l.plotBox),I.width=l.plotWidth+=m,E[F?"height":"width"]+=m,b=!0)):_&&(l.scrollablePixelsY=v=Math.max(0,_-l.chartHeight),ni(v)&&(l.scrollablePlotBox=pw(l.plotBox),I.height=l.plotHeight+=v,E[F?"width":"height"]+=v,b=!1)),ni(b)&&!f.skipAxes))for(let z of l.axes)(z.horiz===b||l.hasParallelCoordinates&&z.coll==="yAxis")&&(z.setAxisSize(),z.setAxisTranslation())}constructor(l){var G;let f,m=l.options.chart,v=rr.getRendererType(),b=m.scrollablePlotArea||{},S=this.moveFixedElements.bind(this),_={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};l.scrollablePixelsX&&(_.overflowX="auto"),l.scrollablePixelsY&&(_.overflowY="auto"),this.chart=l;let E=this.parentDiv=zf("div",{className:"highcharts-scrolling-parent"},{position:"relative"},l.renderTo),I=this.scrollingContainer=zf("div",{className:"highcharts-scrolling"},_,E),F=this.innerContainer=zf("div",{className:"highcharts-inner-container"},void 0,I),R=this.fixedDiv=zf("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((G=m.style)==null?void 0:G.zIndex)||0)+2,top:0},void 0,!0),z=this.fixedRenderer=new v(R,l.chartWidth,l.chartHeight,m.style);this.mask=z.path().attr({fill:m.backgroundColor||"#fff","fill-opacity":b.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),I.parentNode.insertBefore(R,I),iu(l.renderTo,{overflow:"visible"}),Uo(l,"afterShowResetZoom",S),Uo(l,"afterApplyDrilldown",S),Uo(l,"afterLayOutTitles",S),Uo(I,"scroll",()=>{let{pointer:Z,hoverPoint:ie}=l;Z&&(delete Z.chartPosition,ie&&(f=ie),Z.runPointActions(void 0,f,!0))}),F.appendChild(l.container)}applyFixed(){var Ve;let{chart:l,fixedRenderer:f,isDirty:m,scrollingContainer:v}=this,{axisOffset:b,chartWidth:S,chartHeight:_,container:E,plotHeight:I,plotLeft:F,plotTop:R,plotWidth:z,scrollablePixelsX:G=0,scrollablePixelsY:Z=0}=l,{scrollPositionX:ie=0,scrollPositionY:ne=0}=l.options.chart.scrollablePlotArea||{},re=S+G,oe=_+Z;f.setSize(S,_),(m??!0)&&(this.isDirty=!1,this.moveFixedElements()),fw(l.container),iu(E,{width:`${re}px`,height:`${oe}px`}),l.renderer.boxWrapper.attr({width:re,height:oe,viewBox:[0,0,re,oe].join(" ")}),(Ve=l.chartBackground)==null||Ve.attr({width:re,height:oe}),iu(v,{width:`${S}px`,height:`${_}px`}),ni(m)||(v.scrollLeft=G*ie,v.scrollTop=Z*ne);let le=R-b[0]-1,we=F-b[3]-1,ve=R+I+b[2]+1,xe=F+z+b[1]+1,Te=F+z-G,Ne=R+I-Z,Pe=[["M",0,0]];G?Pe=[["M",0,le],["L",F-1,le],["L",F-1,ve],["L",0,ve],["Z"],["M",Te,le],["L",S,le],["L",S,ve],["L",Te,ve],["Z"]]:Z&&(Pe=[["M",we,0],["L",we,R-1],["L",xe,R-1],["L",xe,0],["Z"],["M",we,Ne],["L",we,_],["L",xe,_],["L",xe,Ne],["Z"]]),l.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Pe})}moveFixedElements(){let l,{container:f,inverted:m,scrollablePixelsX:v,scrollablePixelsY:b}=this.chart,S=this.fixedRenderer,_=dt.fixedSelectors;if(v&&!m?l=".highcharts-yaxis":v&&m||b&&!m?l=".highcharts-xaxis":b&&m&&(l=".highcharts-yaxis"),l&&!(this.chart.hasParallelCoordinates&&l===".highcharts-yaxis"))for(let E of[`${l}:not(.highcharts-radial-axis)`,`${l}-labels:not(.highcharts-radial-axis-labels)`])Uf(_,E);else for(let E of[".highcharts-xaxis",".highcharts-yaxis"])for(let I of[`${E}:not(.highcharts-radial-axis)`,`${E}-labels:not(.highcharts-radial-axis-labels)`])CN(_,I);for(let E of _)[].forEach.call(f.querySelectorAll(E),I=>{(I.namespaceURI===S.SVG_NS?S.box:S.box.parentNode).appendChild(I),I.style.pointerEvents="auto"})}}dt.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Bd}=Hn,{series:Qv}=rn,{destroyObjectProperties:gw,fireEvent:yw,getAlignFactor:su,isNumber:Vd,pick:au}=Le,Zv=class{constructor(O,l,f,m,v){let b=O.chart.inverted,S=O.reversed;this.axis=O;let _=this.isNegative=!!f!=!!S;this.options=l=l||{},this.x=m,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=v,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:l.align||(b?_?"left":"right":"center"),verticalAlign:l.verticalAlign||(b?"middle":_?"bottom":"top"),y:l.y,x:l.x},this.textAlign=l.textAlign||(b?_?"right":"left":"center")}destroy(){gw(this,this.axis)}render(O){let l=this.axis.chart,f=this.options,m=f.format,v=m?Bd(m,this,l):f.formatter.call(this);if(this.label)this.label.attr({text:v,visibility:"hidden"});else{this.label=l.renderer.label(v,null,void 0,f.shape,void 0,void 0,f.useHTML,!1,"stack-labels");let b={r:f.borderRadius||0,text:v,padding:au(f.padding,5),visibility:"hidden"};l.styledMode||(b.fill=f.backgroundColor,b.stroke=f.borderColor,b["stroke-width"]=f.borderWidth,this.label.css(f.style||{})),this.label.attr(b),this.label.added||this.label.add(O)}this.label.labelrank=l.plotSizeY,yw(this,"afterRender")}setOffset(O,l,f,m,v,b){let{alignOptions:S,axis:_,label:E,options:I,textAlign:F}=this,R=_.chart,z=this.getStackBox({xOffset:O,width:l,boxBottom:f,boxTop:m,defaultX:v,xAxis:b}),{verticalAlign:G}=S;if(E&&z){let Z=E.getBBox(void 0,0),ie=E.padding,ne=au(I.overflow,"justify")==="justify",re;S.x=I.x||0,S.y=I.y||0;let{x:oe,y:le}=this.adjustStackPosition({labelBox:Z,verticalAlign:G,textAlign:F});z.x-=oe,z.y-=le,E.align(S,!1,z),(re=R.isInsidePlot(E.alignAttr.x+S.x+oe,E.alignAttr.y+S.y+le))||(ne=!1),ne&&Qv.prototype.justifyDataLabel.call(_,E,S,E.alignAttr,Z,z),E.attr({x:E.alignAttr.x,y:E.alignAttr.y,rotation:I.rotation,rotationOriginX:Z.width*su(I.textAlign||"center"),rotationOriginY:Z.height/2}),au(!ne&&I.crop,!0)&&(re=Vd(E.x)&&Vd(E.y)&&R.isInsidePlot(E.x-ie+(E.width||0),E.y)&&R.isInsidePlot(E.x+ie,E.y)),E[re?"show":"hide"]()}yw(this,"afterSetOffset",{xOffset:O,width:l})}adjustStackPosition({labelBox:O,verticalAlign:l,textAlign:f}){return{x:O.width/2+O.width/2*(2*su(f)-1),y:O.height/2*2*(1-su(l))}}getStackBox(O){let l=this.axis,f=l.chart,{boxTop:m,defaultX:v,xOffset:b,width:S,boxBottom:_}=O,E=l.stacking.usePercentage?100:au(m,this.total,0),I=l.toPixels(E),F=O.xAxis||f.xAxis[0],R=au(v,F.translate(this.x))+b,z=Math.abs(I-l.toPixels(_||Vd(l.min)&&l.logarithmic&&l.logarithmic.lin2log(l.min)||0)),G=f.inverted,Z=this.isNegative;return G?{x:(Z?I:I-z)-f.plotLeft,y:F.height-R-S+F.top-f.plotTop,width:z,height:S}:{x:R+F.transB-f.plotLeft,y:(Z?I-z:I)-f.plotTop,width:S,height:z}}},{getDeferredAnimation:vw}=kn,{series:{prototype:xw}}=rn,{addEvent:Vm,correctFloat:ou,defined:ii,destroyObjectProperties:ka,fireEvent:Wl,isNumber:zm,objectEach:Gl,pick:ks}=Le;function bw(){let O=this.inverted;this.axes.forEach(l=>{var f;(f=l.stacking)!=null&&f.stacks&&l.hasVisibleSeries&&(l.stacking.oldStacks=l.stacking.stacks)}),this.series.forEach(l=>{var m;let f=((m=l.xAxis)==null?void 0:m.options)||{};l.options.stacking&&l.reserveSpace()&&(l.stackKey=[l.type,ks(l.options.stack,""),O?f.top:f.left,O?f.height:f.width].join(","))})}function to(){var l;let O=this.stacking;if(O){let f=O.stacks;Gl(f,(m,v)=>{ka(m),delete f[v]}),(l=O.stackTotalGroup)==null||l.destroy()}}function PN(){this.stacking||(this.stacking=new Um(this))}function ww(O,l,f,m){return!ii(O)||O.x!==l||m&&O.stackKey!==m?O={x:l,index:0,key:m,stackKey:m}:O.index++,O.key=[f,l,O.index].join(","),O}function Sw(){let O,l=this,f=l.yAxis,m=l.stackKey||"",v=f.stacking.stacks,b=l.getColumn("x",!0),S=l.options.stacking,_=l[S+"Stacker"];_&&[m,"-"+m].forEach(E=>{var G;let I=b.length,F,R,z;for(;I--;)F=b[I],O=l.getStackIndicator(O,F,l.index,E),R=(G=v[E])==null?void 0:G[F],(z=R==null?void 0:R.points[O.key||""])&&_.call(l,z,R,I)})}function _w(O,l,f){let m=l.total?100/l.total:0;O[0]=ou(O[0]*m),O[1]=ou(O[1]*m),this.stackedYData[f]=O[1]}function jw(O){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?xw.setStackedPoints.call(this,O,"group"):O.stacking.resetStacks())}function IN(O,l){var Ne,Pe;let f,m,v,b,S,_,E,I=l||this.options.stacking;if(!I||!this.reserveSpace()||({group:"xAxis"}[I]||"yAxis")!==O.coll)return;let F=this.getColumn("x",!0),R=this.getColumn(this.pointValKey||"y",!0),z=[],G=R.length,Z=this.options,ie=Z.threshold||0,ne=Z.startFromThreshold?ie:0,re=Z.stack,oe=l?`${this.type},${I}`:this.stackKey||"",le="-"+oe,we=this.negStacks,ve=O.stacking,xe=ve.stacks,Te=ve.oldStacks;for(ve.stacksTouched+=1,E=0;E<G;E++){let Ve=F[E]||0,Ye=R[E],tt=zm(Ye)&&Ye||0;_=(f=this.getStackIndicator(f,Ve,this.index)).key||"",xe[S=(m=we&&tt<(ne?0:ie))?le:oe]||(xe[S]={}),xe[S][Ve]||((Ne=Te[S])!=null&&Ne[Ve]?(xe[S][Ve]=Te[S][Ve],xe[S][Ve].total=null):xe[S][Ve]=new Zv(O,O.options.stackLabels,!!m,Ve,re)),v=xe[S][Ve],Ye!==null?(v.points[_]=v.points[this.index]=[ks(v.cumulative,ne)],ii(v.cumulative)||(v.base=_),v.touched=ve.stacksTouched,f.index>0&&this.singleStacks===!1&&(v.points[_][0]=v.points[this.index+","+Ve+",0"][0])):(delete v.points[_],delete v.points[this.index]);let Ze=v.total||0;I==="percent"?(b=m?oe:le,Ze=we&&((Pe=xe[b])!=null&&Pe[Ve])?(b=xe[b][Ve]).total=Math.max(b.total||0,Ze)+Math.abs(tt):ou(Ze+Math.abs(tt))):I==="group"?zm(Ye)&&Ze++:Ze=ou(Ze+tt),I==="group"?v.cumulative=(Ze||1)-1:v.cumulative=ou(ks(v.cumulative,ne)+tt),v.total=Ze,Ye!==null&&(v.points[_].push(v.cumulative),z[E]=v.cumulative,v.hasValidPoints=!0)}I==="percent"&&(ve.usePercentage=!0),I!=="group"&&(this.stackedYData=z),ve.oldStacks={}}class Um{constructor(l){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=l}buildStacks(){let l,f,m=this.axis,v=m.series,b=m.coll==="xAxis",S=m.options.reversedStacks,_=v.length;for(this.resetStacks(),this.usePercentage=!1,f=_;f--;)l=v[S?f:_-f-1],b&&l.setGroupedPoints(m),l.setStackedPoints(m);if(!b)for(f=0;f<_;f++)v[f].modifyStacks();Wl(m,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Gl(this.stacks,l=>{Gl(l,f=>{f.cumulative=f.total})}))}resetStacks(){Gl(this.stacks,l=>{Gl(l,(f,m)=>{zm(f.touched)&&f.touched<this.stacksTouched?(f.destroy(),delete l[m]):(f.total=null,f.cumulative=null)})})}renderStackTotals(){var _;let l=this.axis,f=l.chart,m=f.renderer,v=this.stacks,b=vw(f,((_=l.options.stackLabels)==null?void 0:_.animation)||!1),S=this.stackTotalGroup=this.stackTotalGroup||m.g("stack-labels").attr({zIndex:6,opacity:0}).add();S.translate(f.plotLeft,f.plotTop),Gl(v,E=>{Gl(E,I=>{I.render(S)})}),S.animate({opacity:1},b)}}(A||(A={})).compose=function(O,l,f){let m=l.prototype,v=f.prototype;m.getStacks||(Vm(O,"init",PN),Vm(O,"destroy",to),m.getStacks=bw,v.getStackIndicator=ww,v.modifyStacks=Sw,v.percentStacker=_w,v.setGroupedPoints=jw,v.setStackedPoints=IN)};let Jv=A,{defined:Qs,merge:br,isObject:si}=Le;class Pn extends ki{drawGraph(){let l=this.options,f=(this.gappedPath||this.getGraphPath).call(this),m=this.chart.styledMode;[this,...this.zones].forEach((v,b)=>{let S,_=v.graph,E=_?"animate":"attr",I=v.dashStyle||l.dashStyle;_?(_.endX=this.preventGraphAnimation?null:f.xMap,_.animate({d:f})):f.length&&(v.graph=_=this.chart.renderer.path(f).addClass("highcharts-graph"+(b?` highcharts-zone-graph-${b-1} `:" ")+(b&&v.className||"")).attr({zIndex:1}).add(this.group)),_&&!m&&(S={stroke:!b&&l.lineColor||v.color||this.color||"#cccccc","stroke-width":l.lineWidth||0,fill:this.fillGraph&&this.color||"none"},I?S.dashstyle=I:l.linecap!=="square"&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),_[E](S).shadow(l.shadow&&br({filterUnits:"userSpaceOnUse"},si(l.shadow)?l.shadow:{}))),_&&(_.startX=f.xMap,_.isArea=f.isArea)})}getGraphPath(l,f,m){let v=this,b=v.options,S=[],_=[],E,I=b.step,F=(l=l||v.points).reversed;return F&&l.reverse(),(I={right:1,center:2}[I]||I&&3)&&F&&(I=4-I),(l=this.getValidPoints(l,!1,b.nullInteraction||!(b.connectNulls&&!f&&!m))).forEach(function(R,z){let G,Z=R.plotX,ie=R.plotY,ne=l[z-1],re=R.isNull||typeof ie!="number";(R.leftCliff||ne!=null&&ne.rightCliff)&&!m&&(E=!0),re&&!Qs(f)&&z>0?E=!b.connectNulls:re&&!f?E=!0:(z===0||E?G=[["M",R.plotX,R.plotY]]:v.getPointSpline?G=[v.getPointSpline(l,R,z)]:I?(G=I===1?[["L",ne.plotX,ie]]:I===2?[["L",(ne.plotX+Z)/2,ne.plotY],["L",(ne.plotX+Z)/2,ie]]:[["L",Z,ne.plotY]]).push(["L",Z,ie]):G=[["L",Z,ie]],_.push(R.x),I&&(_.push(R.x),I===2&&_.push(R.x)),S.push.apply(S,G),E=!1)}),S.xMap=_,v.graphPath=S,S}}Pn.defaultOptions=br(ki.defaultOptions,{legendSymbol:"lineMarker"}),rn.registerSeriesType("line",Pn);let{seriesTypes:{line:Yn}}=rn,{extend:Es,merge:zd,objectEach:Xn,pick:Kl}=Le;class qo extends Yn{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:l,options:f}=this;[this,...this.zones].forEach((m,v)=>{let b={},S=m.fillColor||f.fillColor,_=m.area,E=_?"animate":"attr";_?(_.endX=this.preventGraphAnimation?null:l.xMap,_.animate({d:l})):(b.zIndex=0,(_=m.area=this.chart.renderer.path(l).addClass("highcharts-area"+(v?` highcharts-zone-area-${v-1} `:" ")+(v&&m.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(b.fill=S||m.color||this.color,b["fill-opacity"]=S?1:f.fillOpacity??.75,_.css({pointerEvents:this.stickyTracking?"none":"auto"})),_[E](b),_.startX=l.xMap,_.shiftUnit=f.step?2:1})}getGraphPath(l){let f,m,v,b=Yn.prototype.getGraphPath,S=this.options,_=S.stacking,E=this.yAxis,I=[],F=[],R=this.index,z=E.stacking.stacks[this.stackKey],G=S.threshold,Z=Math.round(E.getThreshold(S.threshold)),ie=Kl(S.connectNulls,_==="percent"),ne=function(xe,Te,Ne){let Pe=l[xe],Ve=_&&z[Pe.x].points[R],Ye=Pe[Ne+"Null"]||0,tt=Pe[Ne+"Cliff"]||0,Ze,lt,ot=!0;tt||Ye?(Ze=(Ye?Ve[0]:Ve[1])+tt,lt=Ve[0]+tt,ot=!!Ye):!_&&l[Te]&&l[Te].isNull&&(Ze=lt=G),Ze!==void 0&&(F.push({plotX:f,plotY:Ze===null?Z:E.getThreshold(Ze),isNull:ot,isCliff:!0}),I.push({plotX:f,plotY:lt===null?Z:E.getThreshold(lt),doCurve:!1}))};l=l||this.points,_&&(l=this.getStackPoints(l));for(let xe=0,Te=l.length;xe<Te;++xe)_||(l[xe].leftCliff=l[xe].rightCliff=l[xe].leftNull=l[xe].rightNull=void 0),m=l[xe].isNull,f=Kl(l[xe].rectPlotX,l[xe].plotX),v=_?Kl(l[xe].yBottom,Z):Z,m&&!ie||(ie||ne(xe,xe-1,"left"),m&&!_&&ie||(F.push(l[xe]),I.push({x:xe,plotX:f,plotY:v})),ie||ne(xe,xe+1,"right"));let re=b.call(this,F,!0,!0);I.reversed=!0;let oe=b.call(this,I,!0,!0),le=oe[0];le&&le[0]==="M"&&(oe[0]=["L",le[1],le[2]]);let we=re.concat(oe);we.length&&we.push(["Z"]);let ve=b.call(this,F,!1,ie);return this.chart.series.length>1&&_&&F.some(xe=>xe.isCliff)&&(we.hasStackedCliffs=ve.hasStackedCliffs=!0),we.xMap=re.xMap,this.areaPath=we,ve}getStackPoints(l){let f=this,m=[],v=[],b=this.xAxis,S=this.yAxis,_=S.stacking.stacks[this.stackKey],E={},I=S.series,F=I.length,R=S.options.reversedStacks?1:-1,z=I.indexOf(f);if(l=l||this.points,this.options.stacking){for(let Z=0;Z<l.length;Z++)l[Z].leftNull=l[Z].rightNull=void 0,E[l[Z].x]=l[Z];Xn(_,function(Z,ie){Z.total!==null&&v.push(ie)}),v.sort(function(Z,ie){return Z-ie});let G=I.map(Z=>Z.visible);v.forEach(function(Z,ie){let ne=0,re,oe;if(E[Z]&&!E[Z].isNull)m.push(E[Z]),[-1,1].forEach(function(le){let we=le===1?"rightNull":"leftNull",ve=_[v[ie+le]],xe=0;if(ve){let Te=z;for(;Te>=0&&Te<F;){let Ne=I[Te].index;!(re=ve.points[Ne])&&(Ne===f.index?E[Z][we]=!0:G[Te]&&(oe=_[Z].points[Ne])&&(xe-=oe[1]-oe[0])),Te+=R}}E[Z][le===1?"rightCliff":"leftCliff"]=xe});else{let le=z;for(;le>=0&&le<F;){let we=I[le].index;if(re=_[Z].points[we]){ne=re[1];break}le+=R}ne=Kl(ne,0),ne=S.translate(ne,0,1,0,1),m.push({isNull:!0,plotX:b.translate(Z,0,0,0,1),x:Z,plotY:ne,yBottom:ne})}})}return m}}qo.defaultOptions=zd(Yn.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Es(qo.prototype,{singleStacks:!1}),rn.registerSeriesType("area",qo);let{line:qf}=rn.seriesTypes,{merge:ex,pick:Yl}=Le;class Ci extends qf{getPointSpline(l,f,m){let v,b,S,_,E=f.plotX||0,I=f.plotY||0,F=l[m-1],R=l[m+1];function z(Z){return Z&&!Z.isNull&&Z.doCurve!==!1&&!f.isCliff}if(z(F)&&z(R)){let Z=F.plotX||0,ie=F.plotY||0,ne=R.plotX||0,re=R.plotY||0,oe=0;v=(1.5*E+Z)/2.5,b=(1.5*I+ie)/2.5,S=(1.5*E+ne)/2.5,_=(1.5*I+re)/2.5,S!==v&&(oe=(_-b)*(S-E)/(S-v)+I-_),b+=oe,_+=oe,b>ie&&b>I?(b=Math.max(ie,I),_=2*I-b):b<ie&&b<I&&(b=Math.min(ie,I),_=2*I-b),_>re&&_>I?(_=Math.max(re,I),b=2*I-_):_<re&&_<I&&(_=Math.min(re,I),b=2*I-_),f.rightContX=S,f.rightContY=_,f.controlPoints={low:[v,b],high:[S,_]}}let G=["C",Yl(F.rightContX,F.plotX,0),Yl(F.rightContY,F.plotY,0),Yl(v,E,0),Yl(b,I,0),E,I];return F.rightContX=F.rightContY=void 0,G}}Ci.defaultOptions=ex(qf.defaultOptions),rn.registerSeriesType("spline",Ci);let qm=Ci,{area:Ud,area:{prototype:Ea}}=rn.seriesTypes,{extend:Hm,merge:tx}=Le;class ro extends qm{}ro.defaultOptions=tx(qm.defaultOptions,Ud.defaultOptions),Hm(ro.prototype,{getGraphPath:Ea.getGraphPath,getStackPoints:Ea.getStackPoints,drawGraph:Ea.drawGraph}),rn.registerSeriesType("areaspline",ro);let{animObject:Wm}=kn,{parse:Xl}=Br,{noop:Gm}=V,{clamp:Ql,crisp:qd,defined:Hf,extend:Wf,fireEvent:Pi,isArray:Ho,isNumber:os,merge:Ii,pick:Hd,objectEach:rx}=Le;class Wd extends ki{animate(l){let f,m,v=this,b=this.yAxis,S=b.pos,_=b.reversed,E=v.options,{clipOffset:I,inverted:F}=this.chart,R={},z=F?"translateX":"translateY";l&&I?(R.scaleY=.001,m=Ql(b.toPixels(E.threshold||0),S,S+b.len),F?R.translateX=(m+=_?-Math.floor(I[0]):Math.ceil(I[2]))-b.len:R.translateY=m+=_?Math.ceil(I[0]):-Math.floor(I[2]),v.clipBox&&v.setClip(),v.group.attr(R)):(f=Number(v.group.attr(z)),v.group.animate({scaleY:1},Wf(Wm(v.options.animation),{step:function(G,Z){v.group&&(R[z]=f+Z.pos*(S-f),v.group.attr(R))}})))}init(l,f){super.init.apply(this,arguments);let m=this;(l=m.chart).hasRendered&&l.series.forEach(function(v){v.type===m.type&&(v.isDirty=!0)})}getColumnMetrics(){var ie,ne;let l=this,f=l.options,m=l.xAxis,v=l.yAxis,b=m.options.reversedStacks,S=m.reversed&&!b||!m.reversed&&b,_={},E,I=0;f.grouping===!1?I=1:l.chart.series.forEach(function(re){let oe,le=re.yAxis,we=re.options;re.type===l.type&&re.reserveSpace()&&v.len===le.len&&v.pos===le.pos&&(we.stacking&&we.stacking!=="group"?(_[E=re.stackKey]===void 0&&(_[E]=I++),oe=_[E]):we.grouping!==!1&&(oe=I++),re.columnIndex=oe)});let F=Math.min(Math.abs(m.transA)*(!((ie=m.brokenAxis)!=null&&ie.hasBreaks)&&((ne=m.ordinal)==null?void 0:ne.slope)||f.pointRange||m.closestPointRange||m.tickInterval||1),m.len),R=F*f.groupPadding,z=(F-2*R)/(I||1),G=Math.min(f.maxPointWidth||m.len,Hd(f.pointWidth,z*(1-2*f.pointPadding))),Z=(l.columnIndex||0)+ +!!S;return l.columnMetrics={width:G,offset:(z-G)/2+(R+Z*z-F/2)*(S?-1:1),paddedWidth:z,columnCount:I},l.columnMetrics}crispCol(l,f,m,v){let b=this.borderWidth,S=this.chart.inverted;return v=qd(f+v,b,S)-(f=qd(f,b,S)),this.options.crisp&&(m=qd(l+m,b)-(l=qd(l,b))),{x:l,y:f,width:m,height:v}}adjustForMissingColumns(l,f,m,v){var b;if(!m.isNull&&v.columnCount>1){let S=this.xAxis.series.filter(F=>F.visible).map(F=>F.index),_=0,E=0;rx((b=this.xAxis.stacking)==null?void 0:b.stacks,F=>{var Z;let R=typeof m.x=="number"?(Z=F[m.x.toString()])==null?void 0:Z.points:void 0,z=R==null?void 0:R[this.index],G={};if(R&&Ho(z)){let ie=this.index,ne=Object.keys(R).filter(re=>!re.match(",")&&R[re]&&R[re].length>1).map(parseFloat).filter(re=>S.indexOf(re)!==-1).filter(re=>{let oe=this.chart.series[re].options,le=oe.stacking&&oe.stack;if(Hf(le)){if(os(G[le]))return ie===re&&(ie=G[le]),!1;G[le]=re}return!0}).sort((re,oe)=>oe-re);_=ne.indexOf(ie),E=ne.length}}),_=this.xAxis.reversed?E-1-_:_;let I=(E-1)*v.paddedWidth+f;l=(m.plotX||0)+I/2-f-_*v.paddedWidth}return l}translate(){let l=this,f=l.chart,m=l.options,v=l.dense=l.closestPointRange*l.xAxis.transA<2,b=l.borderWidth=Hd(m.borderWidth,+!v),S=l.xAxis,_=l.yAxis,E=m.threshold,I=Hd(m.minPointLength,5),F=l.getColumnMetrics(),R=F.width,z=l.pointXOffset=F.offset,G=l.dataMin,Z=l.dataMax,ie=l.translatedThreshold=_.getThreshold(E),ne=l.barW=Math.max(R,1+2*b);m.pointPadding&&m.crisp&&(ne=Math.ceil(ne)),ki.prototype.translate.apply(l),l.points.forEach(function(re){let oe=Hd(re.yBottom,ie),le=999+Math.abs(oe),we=re.plotX||0,ve=Ql(re.plotY,-le,_.len+le),xe,Te=Math.min(ve,oe),Ne=Math.max(ve,oe)-Te,Pe=R,Ve=we+z,Ye=ne;I&&Math.abs(Ne)<I&&(Ne=I,xe=!_.reversed&&!re.negative||_.reversed&&re.negative,os(E)&&os(Z)&&re.y===E&&Z<=E&&(_.min||0)<E&&(G!==Z||(_.max||0)<=E)&&(xe=!xe,re.negative=!re.negative),Te=Math.abs(Te-ie)>I?oe-I:ie-(xe?I:0)),Hf(re.options.pointWidth)&&(Ve-=Math.round(((Pe=Ye=Math.ceil(re.options.pointWidth))-R)/2)),m.centerInCategory&&(Ve=l.adjustForMissingColumns(Ve,Pe,re,F)),re.barX=Ve,re.pointWidth=Pe,re.tooltipPos=f.inverted?[Ql(_.len+_.pos-f.plotLeft-ve,_.pos-f.plotLeft,_.len+_.pos-f.plotLeft),S.len+S.pos-f.plotTop-Ve-Ye/2,Ne]:[S.left-f.plotLeft+Ve+Ye/2,Ql(ve+_.pos-f.plotTop,_.pos-f.plotTop,_.len+_.pos-f.plotTop),Ne],re.shapeType=l.pointClass.prototype.shapeType||"roundedRect",re.shapeArgs=l.crispCol(Ve,Te,Ye,re.isNull?0:Ne)}),Pi(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(l,f){let m=this.options,v=this.pointAttrToOptions||{},b=v.stroke||"borderColor",S=v["stroke-width"]||"borderWidth",_,E,I,F=l&&l.color||this.color,R=l&&l[b]||m[b]||F,z=l&&l.options.dashStyle||m.dashStyle,G=l&&l[S]||m[S]||this[S]||0,Z=l!=null&&l.isNull&&m.nullInteraction?0:(l==null?void 0:l.opacity)??m.opacity??1;l&&this.zones.length&&(E=l.getZone(),F=l.options.color||E&&(E.color||l.nonZonedColor)||this.color,E&&(R=E.borderColor||R,z=E.dashStyle||z,G=E.borderWidth||G)),f&&l&&(I=(_=Ii(m.states[f],l.options.states&&l.options.states[f]||{})).brightness,F=_.color||I!==void 0&&Xl(F).brighten(_.brightness).get()||F,R=_[b]||R,G=_[S]||G,z=_.dashStyle||z,Z=Hd(_.opacity,Z));let ie={fill:F,stroke:R,"stroke-width":G,opacity:Z};return z&&(ie.dashstyle=z),ie}drawPoints(l=this.points){let f,m=this,v=this.chart,b=m.options,S=b.nullInteraction,_=v.renderer,E=b.animationLimit||250;l.forEach(function(I){let F=I.plotY,R=I.graphic,z=!!R,G=R&&v.pointCount<E?"animate":"attr";os(F)&&(I.y!==null||S)?(f=I.shapeArgs,R&&I.hasNewShapeType()&&(R=R.destroy()),m.enabledDataSorting&&(I.startXPos=m.xAxis.reversed?-(f&&f.width||0):m.xAxis.width),!R&&(I.graphic=R=_[I.shapeType](f).add(I.group||m.group),R&&m.enabledDataSorting&&v.hasRendered&&v.pointCount<E&&(R.attr({x:I.startXPos}),z=!0,G="animate")),R&&z&&R[G](Ii(f)),v.styledMode||R[G](m.pointAttribs(I,I.selected&&"select")).shadow(I.allowShadow!==!1&&b.shadow),R&&(R.addClass(I.getClassName(),!0),R.attr({visibility:I.visible?"inherit":"hidden"}))):R&&(I.graphic=R.destroy())})}drawTracker(l=this.points){let f,m=this,v=m.chart,b=v.pointer,S=function(_){b==null||b.normalize(_);let E=b==null?void 0:b.getPointFromEvent(_);b&&E&&m.options.enableMouseTracking&&(v.isInsidePlot(_.chartX-v.plotLeft,_.chartY-v.plotTop,{visiblePlotOnly:!0})||b!=null&&b.inClass(_.target,"highcharts-data-label"))&&(b.isDirectTouch=!0,E.onMouseOver(_))};l.forEach(function(_){f=Ho(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[],_.graphic&&(_.graphic.element.point=_),f.forEach(function(E){(E.div||E.element).point=_})}),m._hasTracking||(m.trackerGroups.forEach(function(_){m[_]&&(m[_].addClass("highcharts-tracker").on("mouseover",S).on("mouseout",function(E){b==null||b.onTrackerMouseOut(E)}).on("touchstart",S),!v.styledMode&&m.options.cursor&&m[_].css({cursor:m.options.cursor}))}),m._hasTracking=!0),Pi(this,"afterDrawTracker")}remove(){let l=this,f=l.chart;f.hasRendered&&f.series.forEach(function(m){m.type===l.type&&(m.isDirty=!0)}),ki.prototype.remove.apply(l,arguments)}}Wd.defaultOptions=Ii(ki.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Wf(Wd.prototype,{directTouch:!0,getSymbol:Gm,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),rn.registerSeriesType("column",Wd);let Km=Wd,{getDeferredAnimation:Zl}=kn,{format:Nw}=Hn,{defined:Wo,extend:Jl,fireEvent:Gf,getAlignFactor:ec,isArray:Go,isString:Gd,merge:lu,objectEach:Ym,pick:Kf,pInt:ON,splat:nx}=Le;(function(O){function l(){return E(this).some(F=>F==null?void 0:F.enabled)}function f(F,R,z,G,Z){var Ve;let{chart:ie,enabledDataSorting:ne}=this,re=this.isCartesian&&ie.inverted,oe=F.plotX,le=F.plotY,we=z.rotation||0,ve=Wo(oe)&&Wo(le)&&ie.isInsidePlot(oe,Math.round(le),{inverted:re,paneCoordinates:!0,series:this}),xe=we===0&&Kf(z.overflow,ne?"none":"justify")==="justify",Te=this.visible&&F.visible!==!1&&Wo(oe)&&(F.series.forceDL||ne&&!xe||ve||Kf(z.inside,!!this.options.stacking)&&G&&ie.isInsidePlot(oe,re?G.x+1:G.y+G.height-1,{inverted:re,paneCoordinates:!0,series:this})),Ne=F.pos();if(Te&&Ne){var Pe;let Ye=R.getBBox(),tt=R.getBBox(void 0,0);if(G=Jl({x:Ne[0],y:Math.round(Ne[1]),width:0,height:0},G||{}),z.alignTo==="plotEdges"&&this.isCartesian&&(G[re?"x":"y"]=0,G[re?"width":"height"]=((Ve=this.yAxis)==null?void 0:Ve.len)||0),Jl(z,{width:Ye.width,height:Ye.height}),Pe=G,ne&&this.xAxis&&!xe&&this.setDataLabelStartPos(F,R,Z,ve,Pe),R.align(lu(z,{width:tt.width,height:tt.height}),!1,G,!1),R.alignAttr.x+=ec(z.align)*(tt.width-Ye.width),R.alignAttr.y+=ec(z.verticalAlign)*(tt.height-Ye.height),R[R.placed?"animate":"attr"]({"text-align":R.alignAttr["text-align"]||"center",x:R.alignAttr.x+(Ye.width-tt.width)/2,y:R.alignAttr.y+(Ye.height-tt.height)/2,rotationOriginX:(R.width||0)/2,rotationOriginY:(R.height||0)/2}),xe&&G.height>=0)this.justifyDataLabel(R,z,R.alignAttr,Ye,G,Z);else if(Kf(z.crop,!0)){let{x:Ze,y:lt}=R.alignAttr;Te=ie.isInsidePlot(Ze,lt,{paneCoordinates:!0,series:this})&&ie.isInsidePlot(Ze+Ye.width-1,lt+Ye.height-1,{paneCoordinates:!0,series:this})}z.shape&&!we&&R[Z?"attr":"animate"]({anchorX:Ne[0],anchorY:Ne[1]})}Z&&ne&&(R.placed=!1),Te||ne&&!xe?(R.show(),R.placed=!0):(R.hide(),R.placed=!1)}function m(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function v(F){let R=this.hasRendered||0,z=this.initDataLabelsGroup().attr({opacity:+R});return!R&&z&&(this.visible&&z.show(),this.options.animation?z.animate({opacity:1},F):z.attr({opacity:1})),z}function b(F){var Te;let R;F=F||this.points;let z=this,G=z.chart,Z=z.options,ie=G.renderer,{backgroundColor:ne,plotBackgroundColor:re}=G.options.chart,oe=ie.getContrast(Gd(re)&&re||Gd(ne)&&ne||"#000000"),le=E(z),{animation:we,defer:ve}=le[0],xe=ve?Zl(G,we,z):{defer:0,duration:0};Gf(this,"drawDataLabels"),(Te=z.hasDataLabels)!=null&&Te.call(z)&&(R=this.initDataLabels(xe),F.forEach(Ne=>{var tt,Ze,lt;let Pe=Ne.dataLabels||[],Ve=Ne.color||z.color;nx(_(le,Ne.dlOptions||((tt=Ne.options)==null?void 0:tt.dataLabels))).forEach((ot,Rt)=>{var Xr;let ut=ot.enabled&&(Ne.visible||Ne.dataLabelOnHidden)&&(!Ne.isNull||Ne.dataLabelOnNull)&&function(oi,uu){let io=uu.filter;if(io){let so=io.operator,Ts=oi[io.property],Qn=io.value;return so===">"&&Ts>Qn||so==="<"&&Ts<Qn||so===">="&&Ts>=Qn||so==="<="&&Ts<=Qn||so==="=="&&Ts==Qn||so==="==="&&Ts===Qn||so==="!="&&Ts!=Qn||so==="!=="&&Ts!==Qn||!1}return!0}(Ne,ot),{backgroundColor:It,borderColor:or,distance:nr,style:fr={}}=ot,Ui,dr,Er,Vt={},Nt=Pe[Rt],$n=!Nt,Tr;ut&&(dr=Wo(Ui=Kf(ot[Ne.formatPrefix+"Format"],ot.format))?Nw(Ui,Ne,G):(ot[Ne.formatPrefix+"Formatter"]||ot.formatter).call(Ne,ot),Er=ot.rotation,!G.styledMode&&(fr.color=Kf(ot.color,fr.color,Gd(z.color)?z.color:void 0,"#000000"),fr.color==="contrast"?(It!=="none"&&(Tr=It),Ne.contrastColor=ie.getContrast(Tr!=="auto"&&Gd(Tr)&&Tr||(Gd(Ve)?Ve:"")),fr.color=Tr||!Wo(nr)&&ot.inside||0>ON(nr||0)||Z.stacking?Ne.contrastColor:oe):delete Ne.contrastColor,Z.cursor&&(fr.cursor=Z.cursor)),Vt={r:ot.borderRadius||0,rotation:Er,padding:ot.padding,zIndex:1},G.styledMode||(Vt.fill=It==="auto"?Ne.color:It,Vt.stroke=or==="auto"?Ne.color:or,Vt["stroke-width"]=ot.borderWidth),Ym(Vt,(oi,uu)=>{oi===void 0&&delete Vt[uu]})),!Nt||ut&&Wo(dr)&&!!(Nt.div||(Xr=Nt.text)!=null&&Xr.foreignObject)==!!ot.useHTML&&(Nt.rotation&&ot.rotation||Nt.rotation===ot.rotation)||(Nt=void 0,$n=!0),ut&&Wo(dr)&&(Nt?Vt.text=dr:(Nt=ie.label(dr,0,0,ot.shape,void 0,void 0,ot.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Ne.colorIndex+" "+(ot.className||"")+(ot.useHTML?" highcharts-tracker":"")),Nt&&(Nt.options=ot,Nt.attr(Vt),G.styledMode?fr.width&&Nt.css({width:fr.width,textOverflow:fr.textOverflow,whiteSpace:fr.whiteSpace}):Nt.css(fr).shadow(ot.shadow),Gf(Nt,"beforeAddingDataLabel",{labelOptions:ot,point:Ne}),Nt.added||Nt.add(R),z.alignDataLabel(Ne,Nt,ot,void 0,$n),Nt.isActive=!0,Pe[Rt]&&Pe[Rt]!==Nt&&Pe[Rt].destroy(),Pe[Rt]=Nt))});let Ye=Pe.length;for(;Ye--;)(Ze=Pe[Ye])!=null&&Ze.isActive?Pe[Ye].isActive=!1:((lt=Pe[Ye])==null||lt.destroy(),Pe.splice(Ye,1));Ne.dataLabel=Pe[0],Ne.dataLabels=Pe})),Gf(this,"afterDrawDataLabels")}function S(F,R,z,G,Z,ie){let ne=this.chart,re=R.align,oe=R.verticalAlign,le=F.box?0:F.padding||0,we=ne.inverted?this.yAxis:this.xAxis,ve=we?we.left-ne.plotLeft:0,xe=ne.inverted?this.xAxis:this.yAxis,Te=xe?xe.top-ne.plotTop:0,{x:Ne=0,y:Pe=0}=R,Ve,Ye;return(Ve=(z.x||0)+le+ve)<0&&(re==="right"&&Ne>=0?(R.align="left",R.inside=!0):Ne-=Ve,Ye=!0),(Ve=(z.x||0)+G.width-le+ve)>ne.plotWidth&&(re==="left"&&Ne<=0?(R.align="right",R.inside=!0):Ne+=ne.plotWidth-Ve,Ye=!0),(Ve=z.y+le+Te)<0&&(oe==="bottom"&&Pe>=0?(R.verticalAlign="top",R.inside=!0):Pe-=Ve,Ye=!0),(Ve=(z.y||0)+G.height-le+Te)>ne.plotHeight&&(oe==="top"&&Pe<=0?(R.verticalAlign="bottom",R.inside=!0):Pe+=ne.plotHeight-Ve,Ye=!0),Ye&&(R.x=Ne,R.y=Pe,F.placed=!ie,F.align(R,void 0,Z)),Ye}function _(F,R){let z=[],G;if(Go(F)&&!Go(R))z=F.map(function(Z){return lu(Z,R)});else if(Go(R)&&!Go(F))z=R.map(function(Z){return lu(F,Z)});else if(Go(F)||Go(R)){if(Go(F)&&Go(R))for(G=Math.max(F.length,R.length);G--;)z[G]=lu(F[G],R[G])}else z=lu(F,R);return z}function E(F){var z,G;let R=F.chart.options.plotOptions;return nx(_(_((z=R==null?void 0:R.series)==null?void 0:z.dataLabels,(G=R==null?void 0:R[F.type])==null?void 0:G.dataLabels),F.options.dataLabels))}function I(F,R,z,G,Z){let ie=this.chart,ne=ie.inverted,re=this.xAxis,oe=re.reversed,le=((ne?R.height:R.width)||0)/2,we=F.pointWidth,ve=we?we/2:0;R.startXPos=ne?Z.x:oe?-le-ve:re.width-le+ve,R.startYPos=ne?oe?this.yAxis.height-le+ve:-le-ve:Z.y,G?R.visibility==="hidden"&&(R.show(),R.attr({opacity:0}).animate({opacity:1})):R.attr({opacity:1}).animate({opacity:0},void 0,R.hide),ie.hasRendered&&(z&&R.attr({x:R.startXPos,y:R.startYPos}),R.placed=!0)}O.compose=function(F){let R=F.prototype;R.initDataLabels||(R.initDataLabels=v,R.initDataLabelsGroup=m,R.alignDataLabel=f,R.drawDataLabels=b,R.justifyDataLabel=S,R.mergeArrays=_,R.setDataLabelStartPos=I,R.hasDataLabels=l)}})(k||(k={}));let Yf=k,{composed:cu}=V,{series:Aw}=rn,{merge:Kd,pushUnique:kw}=Le;(function(O){function l(f,m,v,b,S){var ie,ne;let{chart:_,options:E}=this,I=_.inverted,F=((ie=this.xAxis)==null?void 0:ie.len)||_.plotSizeX||0,R=((ne=this.yAxis)==null?void 0:ne.len)||_.plotSizeY||0,z=f.dlBox||f.shapeArgs,G=f.below??(f.plotY||0)>(this.translatedThreshold??R),Z=v.inside??!!E.stacking;if(z){if(b=Kd(z),v.overflow!=="allow"||v.crop!==!1||E.clip!==!1){b.y<0&&(b.height+=b.y,b.y=0);let re=b.y+b.height-R;re>0&&re<b.height-1&&(b.height-=re)}I&&(b={x:R-b.y-b.height,y:F-b.x-b.width,width:b.height,height:b.width}),Z||(I?(b.x+=G?0:b.width,b.width=0):(b.y+=G?b.height:0,b.height=0))}v.align??(v.align=!I||Z?"center":G?"right":"left"),v.verticalAlign??(v.verticalAlign=I||Z?"middle":G?"top":"bottom"),Aw.prototype.alignDataLabel.call(this,f,m,v,b,S),v.inside&&f.contrastColor&&m.css({color:f.contrastColor})}O.compose=function(f){Yf.compose(Aw),kw(cu,"ColumnDataLabel")&&(f.prototype.alignDataLabel=l)}})(D||(D={}));let _n=D,{extend:RN,merge:Ew}=Le;class ix extends Km{}ix.defaultOptions=Ew(Km.defaultOptions,{}),RN(ix.prototype,{inverted:!0}),rn.registerSeriesType("bar",ix);let{column:MN,line:sx}=rn.seriesTypes,{addEvent:Tw,extend:DN,merge:Zs}=Le;class Yd extends sx{applyJitter(){let l=this,f=this.options.jitter,m=this.points.length;f&&this.points.forEach(function(v,b){["x","y"].forEach(function(S,_){if(f[S]&&!v.isNull){let E=`plot${S.toUpperCase()}`,I=l[`${S}Axis`],F=f[S]*I.transA;if(I&&!I.logarithmic){let R=Math.max(0,(v[E]||0)-F),z=Math.min(I.len,(v[E]||0)+F);v[E]=R+(z-R)*function(G){let Z=1e4*Math.sin(G);return Z-Math.floor(Z)}(b+_*m),S==="x"&&(v.clientX=v.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Yd.defaultOptions=Zs(sx.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),DN(Yd.prototype,{drawTracker:MN.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Tw(Yd,"afterTranslate",function(){this.applyJitter()}),rn.registerSeriesType("scatter",Yd);let{deg2rad:Cw}=V,{fireEvent:tc,isNumber:Xd,pick:no,relativeLength:Xm}=Le;(function(O){O.getCenter=function(){let l=this.options,f=this.chart,m=2*(l.slicedOffset||0),v=f.plotWidth-2*m,b=f.plotHeight-2*m,S=l.center,_=Math.min(v,b),E=l.thickness,I,F=l.size,R=l.innerSize||0,z,G;typeof F=="string"&&(F=parseFloat(F)),typeof R=="string"&&(R=parseFloat(R));let Z=[no(S==null?void 0:S[0],"50%"),no(S==null?void 0:S[1],"50%"),no(F&&F<0?void 0:l.size,"100%"),no(R&&R<0?void 0:l.innerSize||0,"0%")];for(!f.angular||this instanceof ki||(Z[3]=0),z=0;z<4;++z)G=Z[z],I=z<2||z===2&&/%$/.test(G),Z[z]=Xm(G,[v,b,_,Z[2]][z])+(I?m:0);return Z[3]>Z[2]&&(Z[3]=Z[2]),Xd(E)&&2*E<Z[2]&&E>0&&(Z[3]=Z[2]-2*E),tc(this,"afterGetCenter",{positions:Z}),Z},O.getStartAndEndRadians=function(l,f){let m=Xd(l)?l:0,v=Xd(f)&&f>m&&f-m<360?f:m+360;return{start:Cw*(m+-90),end:Cw*(v+-90)}}})(M||(M={}));let Qm=M,{setAnimation:ax}=kn,{addEvent:Pw,defined:ox,extend:LN,isNumber:Iw,pick:Ow,relativeLength:Zm}=Le;class Xf extends Ro{getConnectorPath(l){let f=l.dataLabelPosition,m=l.options||{},v=m.connectorShape,b=this.connectorShapes[v]||v;return f&&b.call(this,{...f.computed,alignment:f.alignment},f.connectorPosition,m)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(l){let f=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(f.x,f.y,f.r+l,f.r+l,{innerR:f.r-1,start:f.start,end:f.end,borderRadius:f.borderRadius})}constructor(l,f,m){super(l,f,m),this.half=0,this.name??(this.name=l.chart.options.lang.pieSliceName);let v=b=>{this.slice(b.type==="select")};Pw(this,"select",v),Pw(this,"unselect",v)}isValid(){return Iw(this.y)&&this.y>=0}setVisible(l,f=!0){l!==this.visible&&this.update({visible:l??!this.visible},f,void 0,!1)}slice(l,f,m){let v=this.series;ax(m,v.chart),f=Ow(f,!0),this.sliced=this.options.sliced=l=ox(l)?l:!this.sliced,v.options.data[v.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}LN(Xf.prototype,{connectorShapes:{fixedOffset:function(O,l,f){let m=l.breakAt,v=l.touchingSliceAt,b=f.softConnector?["C",O.x+(O.alignment==="left"?-5:5),O.y,2*m.x-v.x,2*m.y-v.y,m.x,m.y]:["L",m.x,m.y];return[["M",O.x,O.y],b,["L",v.x,v.y]]},straight:function(O,l){let f=l.touchingSliceAt;return[["M",O.x,O.y],["L",f.x,f.y]]},crookedLine:function(O,l,f){let{angle:m=this.angle||0,breakAt:v,touchingSliceAt:b}=l,{series:S}=this,[_,E,I]=S.center,F=I/2,{plotLeft:R,plotWidth:z}=S.chart,G=O.alignment==="left",{x:Z,y:ie}=O,ne=v.x;if(f.crookDistance){let oe=Zm(f.crookDistance,1);ne=G?_+F+(z+R-_-F)*(1-oe):R+(_-F)*oe}else ne=_+(E-ie)*Math.tan(m-Math.PI/2);let re=[["M",Z,ie]];return(G?ne<=Z&&ne>=v.x:ne>=Z&&ne<=v.x)&&re.push(["L",ne,ie]),re.push(["L",v.x,v.y],["L",b.x,b.y]),re}}});let{getStartAndEndRadians:Rw}=Qm,{noop:Jm}=V,{clamp:FN,extend:Mw,fireEvent:eg,merge:Qd,pick:lx}=Le;class Zd extends ki{animate(l){let f=this,m=f.points,v=f.startAngleRad;l||m.forEach(function(b){let S=b.graphic,_=b.shapeArgs;S&&_&&(S.attr({r:lx(b.startR,f.center&&f.center[3]/2),start:v,end:v}),S.animate({r:_.r,start:_.start,end:_.end},f.options.animation))})}drawEmpty(){let l,f,m=this.startAngleRad,v=this.endAngleRad,b=this.options;this.total===0&&this.center?(l=this.center[0],f=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(l,f,this.center[1]/2,0,m,v).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:mf.arc(l,f,this.center[2]/2,0,{start:m,end:v,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":b.borderWidth,fill:b.fillColor||"none",stroke:b.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let l=this.chart.renderer;this.points.forEach(function(f){f.graphic&&f.hasNewShapeType()&&(f.graphic=f.graphic.destroy()),f.graphic||(f.graphic=l[f.shapeType](f.shapeArgs).add(f.series.group),f.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(l,f,m,v){let b=this.center,S=this.radii?this.radii[m.index]||0:b[2]/2,_=v.dataLabelPosition,E=(_==null?void 0:_.distance)||0,I=Math.asin(FN((l-b[1])/(S+E),-1,1));return b[0]+Math.cos(I)*(S+E)*(f?-1:1)+(E>0?(f?-1:1)*(v.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let l,f,m,v,b=this,S=b.chart;this.drawEmpty(),b.group&&!S.styledMode&&b.group.shadow(b.options.shadow),b.points.forEach(function(_){let E={};f=_.graphic,!_.isNull&&f?(v=_.shapeArgs,l=_.getTranslate(),S.styledMode||(m=b.pointAttribs(_,_.selected&&"select")),_.delayedRendering?(f.setRadialReference(b.center).attr(v).attr(l),S.styledMode||f.attr(m).attr({"stroke-linejoin":"round"}),_.delayedRendering=!1):(f.setRadialReference(b.center),S.styledMode||Qd(!0,E,m),Qd(!0,E,v,l),f.animate(E)),f.attr({visibility:_.visible?"inherit":"hidden"}),f.addClass(_.getClassName(),!0)):f&&(_.graphic=f.destroy())})}sortByAngle(l,f){l.sort(function(m,v){return m.angle!==void 0&&(v.angle-m.angle)*f})}translate(l){eg(this,"translate"),this.generatePoints();let f=this.options,m=f.slicedOffset,v=Rw(f.startAngle,f.endAngle),b=this.startAngleRad=v.start,S=(this.endAngleRad=v.end)-b,_=this.points,E=f.ignoreHiddenPoint,I=_.length,F,R,z,G,Z,ie,ne,re=0;for(l||(this.center=l=this.getCenter()),ie=0;ie<I;ie++){ne=_[ie],F=b+re*S,ne.isValid()&&(!E||ne.visible)&&(re+=ne.percentage/100),R=b+re*S;let oe={x:l[0],y:l[1],r:l[2]/2,innerR:l[3]/2,start:Math.round(1e3*F)/1e3,end:Math.round(1e3*R)/1e3};ne.shapeType="arc",ne.shapeArgs=oe,(z=(R+F)/2)>1.5*Math.PI?z-=2*Math.PI:z<-Math.PI/2&&(z+=2*Math.PI),ne.slicedTranslation={translateX:Math.round(Math.cos(z)*m),translateY:Math.round(Math.sin(z)*m)},G=Math.cos(z)*l[2]/2,Z=Math.sin(z)*l[2]/2,ne.tooltipPos=[l[0]+.7*G,l[1]+.7*Z],ne.half=+(z<-Math.PI/2||z>Math.PI/2),ne.angle=z}eg(this,"afterTranslate")}updateTotals(){let l=this.points,f=l.length,m=this.options.ignoreHiddenPoint,v,b,S=0;for(v=0;v<f;v++)(b=l[v]).isValid()&&(!m||b.visible)&&(S+=b.y);for(v=0,this.total=S;v<f;v++)(b=l[v]).percentage=S>0&&(b.visible||!m)?b.y/S*100:0,b.total=S}}Zd.defaultOptions=Qd(ki.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Mw(Zd.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Km.prototype.drawTracker,getCenter:Qm.getCenter,getSymbol:Jm,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Km.prototype.pointAttribs,pointClass:Xf,requireSorting:!1,searchPoint:Jm,trackerGroups:["group","dataLabelsGroup"]}),rn.registerSeriesType("pie",Zd);let{composed:Dw,noop:$N}=V,{distribute:tg}=Lc,{series:Lw}=rn,{arrayMax:Qf,clamp:Fw,defined:Zf,pick:u,pushUnique:p,relativeLength:w}=Le;(function(O){let l={radialDistributionY:function(S,_){var E;return(((E=_.dataLabelPosition)==null?void 0:E.top)||0)+S.distributeBox.pos},radialDistributionX:function(S,_,E,I,F){let R=F.dataLabelPosition;return S.getX(E<((R==null?void 0:R.top)||0)+2||E>((R==null?void 0:R.bottom)||0)-2?I:E,_.half,_,F)},justify:function(S,_,E,I){var F;return I[0]+(S.half?-1:1)*(E+(((F=_.dataLabelPosition)==null?void 0:F.distance)||0))},alignToPlotEdges:function(S,_,E,I){let F=S.getBBox().width;return _?F+I:E-F-I},alignToConnectors:function(S,_,E,I){let F=0,R;return S.forEach(function(z){(R=z.dataLabel.getBBox().width)>F&&(F=R)}),_?F+I:E-F-I}};function f(S,_){let E=Math.PI/2,{start:I=0,end:F=0}=S.shapeArgs||{},R=S.angle||0;_>0&&I<E&&F>E&&R>E/2&&R<1.5*E&&(R=R<=E?Math.max(E/2,(I+E)/2):Math.min(1.5*E,(E+F)/2));let{center:z,options:G}=this,Z=z[2]/2,ie=Math.cos(R),ne=Math.sin(R),re=z[0]+ie*Z,oe=z[1]+ne*Z,le=Math.min((G.slicedOffset||0)+(G.borderWidth||0),_/5);return{natural:{x:re+ie*_,y:oe+ne*_},computed:{},alignment:_<0?"center":S.half?"right":"left",connectorPosition:{angle:R,breakAt:{x:re+ie*le,y:oe+ne*le},touchingSliceAt:{x:re,y:oe}},distance:_}}function m(){var Te;let S=this,_=S.points,E=S.chart,I=E.plotWidth,F=E.plotHeight,R=E.plotLeft,z=Math.round(E.chartWidth/3),G=S.center,Z=G[2]/2,ie=G[1],ne=[[],[]],re=[0,0,0,0],oe=S.dataLabelPositioners,le,we,ve,xe=0;S.visible&&((Te=S.hasDataLabels)!=null&&Te.call(S))&&(_.forEach(Ne=>{(Ne.dataLabels||[]).forEach(Pe=>{Pe.shortened&&(Pe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Pe.shortened=!1)})}),Lw.prototype.drawDataLabels.apply(S),_.forEach(Ne=>{(Ne.dataLabels||[]).forEach((Pe,Ve)=>{var lt;let Ye=G[2]/2,tt=Pe.options,Ze=w((tt==null?void 0:tt.distance)||0,Ye);Ve===0&&ne[Ne.half].push(Ne),!Zf((lt=tt==null?void 0:tt.style)==null?void 0:lt.width)&&Pe.getBBox().width>z&&(Pe.css({width:Math.round(.7*z)+"px"}),Pe.shortened=!0),Pe.dataLabelPosition=this.getDataLabelPosition(Ne,Ze),xe=Math.max(xe,Ze)})}),ne.forEach((Ne,Pe)=>{let Ve=Ne.length,Ye=[],tt,Ze,lt=0,ot;Ve&&(S.sortByAngle(Ne,Pe-.5),xe>0&&(tt=Math.max(0,ie-Z-xe),Ze=Math.min(ie+Z+xe,E.plotHeight),Ne.forEach(Rt=>{(Rt.dataLabels||[]).forEach(ut=>{var or;let It=ut.dataLabelPosition;It&&It.distance>0&&(It.top=Math.max(0,ie-Z-It.distance),It.bottom=Math.min(ie+Z+It.distance,E.plotHeight),lt=ut.getBBox().height||21,ut.lineHeight=E.renderer.fontMetrics(ut.text||ut).h+2*ut.padding,Rt.distributeBox={target:(((or=ut.dataLabelPosition)==null?void 0:or.natural.y)||0)-It.top+ut.lineHeight/2,size:lt,rank:Rt.y},Ye.push(Rt.distributeBox))})}),tg(Ye,ot=Ze+lt-tt,ot/5)),Ne.forEach(Rt=>{(Rt.dataLabels||[]).forEach(ut=>{let It=ut.options||{},or=Rt.distributeBox,nr=ut.dataLabelPosition,fr=(nr==null?void 0:nr.natural.y)||0,Ui=It.connectorPadding||0,dr=ut.lineHeight||21,Er=(dr-ut.getBBox().height)/2,Vt=0,Nt=fr,$n="inherit";if(nr){if(Ye&&Zf(or)&&nr.distance>0&&(or.pos===void 0?$n="hidden":(ve=or.size,Nt=oe.radialDistributionY(Rt,ut))),It.justify)Vt=oe.justify(Rt,ut,Z,G);else switch(It.alignTo){case"connectors":Vt=oe.alignToConnectors(Ne,Pe,I,R);break;case"plotEdges":Vt=oe.alignToPlotEdges(ut,Pe,I,R);break;default:Vt=oe.radialDistributionX(S,Rt,Nt-Er,fr,ut)}if(nr.attribs={visibility:$n,align:nr.alignment},nr.posAttribs={x:Vt+(It.x||0)+({left:Ui,right:-Ui}[nr.alignment]||0),y:Nt+(It.y||0)-dr/2},nr.computed.x=Vt,nr.computed.y=Nt-Er,u(It.crop,!0)){let Tr;Vt-(we=ut.getBBox().width)<Ui&&Pe===1?(Tr=Math.round(we-Vt+Ui),re[3]=Math.max(Tr,re[3])):Vt+we>I-Ui&&Pe===0&&(Tr=Math.round(Vt+we-I+Ui),re[1]=Math.max(Tr,re[1])),Nt-ve/2<0?re[0]=Math.max(Math.round(-Nt+ve/2),re[0]):Nt+ve/2>F&&(re[2]=Math.max(Math.round(Nt+ve/2-F),re[2])),nr.sideOverflow=Tr}}})}))}),(Qf(re)===0||this.verifyDataLabelOverflow(re))&&(this.placeDataLabels(),this.points.forEach(Ne=>{(Ne.dataLabels||[]).forEach(Pe=>{var Ze;let{connectorColor:Ve,connectorWidth:Ye=1}=Pe.options||{},tt=Pe.dataLabelPosition;if(Ye){let lt;le=Pe.connector,tt&&tt.distance>0?(lt=!le,le||(Pe.connector=le=E.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ne.colorIndex+(Ne.className?" "+Ne.className:"")).add(S.dataLabelsGroup)),E.styledMode||le.attr({"stroke-width":Ye,stroke:Ve||Ne.color||"#666666"}),le[lt?"attr":"animate"]({d:Ne.getConnectorPath(Pe)}),le.attr({visibility:(Ze=tt.attribs)==null?void 0:Ze.visibility})):le&&(Pe.connector=le.destroy())}})})))}function v(){this.points.forEach(S=>{(S.dataLabels||[]).forEach(_=>{var I,F;let E=_.dataLabelPosition;E?(E.sideOverflow&&(_.css({width:Math.max(_.getBBox().width-E.sideOverflow,0)+"px",textOverflow:((F=(I=_.options)==null?void 0:I.style)==null?void 0:F.textOverflow)||"ellipsis"}),_.shortened=!0),_.attr(E.attribs),_[_.moved?"animate":"attr"](E.posAttribs),_.moved=!0):_&&_.attr({y:-9999})}),delete S.distributeBox},this)}function b(S){let _=this.center,E=this.options,I=E.center,F=E.minSize||80,R=F,z=E.size!==null;return!z&&(I[0]!==null?R=Math.max(_[2]-Math.max(S[1],S[3]),F):(R=Math.max(_[2]-S[1]-S[3],F),_[0]+=(S[3]-S[1])/2),I[1]!==null?R=Fw(R,F,_[2]-Math.max(S[0],S[2])):(R=Fw(R,F,_[2]-S[0]-S[2]),_[1]+=(S[0]-S[2])/2),R<_[2]?(_[2]=R,_[3]=Math.min(E.thickness?Math.max(0,R-2*E.thickness):Math.max(0,w(E.innerSize||0,R)),R),this.translate(_),this.drawDataLabels&&this.drawDataLabels()):z=!0),z}O.compose=function(S){if(Yf.compose(Lw),p(Dw,"PieDataLabel")){let _=S.prototype;_.dataLabelPositioners=l,_.alignDataLabel=$N,_.drawDataLabels=m,_.getDataLabelPosition=f,_.placeDataLabels=v,_.verifyDataLabelOverflow=b}}})($||($={}));let T=$;(function(O){O.getCenterOfPoints=function(l){let f=l.reduce((m,v)=>(m.x+=v.x,m.y+=v.y,m),{x:0,y:0});return{x:f.x/l.length,y:f.y/l.length}},O.getDistanceBetweenPoints=function(l,f){return Math.sqrt(Math.pow(f.x-l.x,2)+Math.pow(f.y-l.y,2))},O.getAngleBetweenPoints=function(l,f){return Math.atan2(f.x-l.x,f.y-l.y)},O.pointInPolygon=function({x:l,y:f},m){let v=m.length,b,S,_=!1;for(b=0,S=v-1;b<v;S=b++){let[E,I]=m[b],[F,R]=m[S];I>f!=R>f&&l<(F-E)*(f-I)/(R-I)+E&&(_=!_)}return _}})(L||(L={}));let{pointInPolygon:B}=L,{addEvent:W,getAlignFactor:ae,fireEvent:ye,objectEach:je,pick:Fe}=Le;function Je(O){let l=O.length,f=(F,R)=>!(R.x>=F.x+F.width||R.x+R.width<=F.x||R.y>=F.y+F.height||R.y+R.height<=F.y),m=(F,R)=>{for(let z of F)if(B({x:z[0],y:z[1]},R))return!0;return!1},v,b,S,_,E,I=!1;for(let F=0;F<l;F++)(v=O[F])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=function(R){var z,G;if(R&&(!R.alignAttr||R.placed)){let Z=R.box?0:R.padding||0,ie=R.alignAttr||{x:R.attr("x"),y:R.attr("y")},{height:ne,polygon:re,width:oe}=R.getBBox(),le=ae(R.alignValue)*oe;return R.width=oe,R.height=ne,{x:ie.x+(((z=R.parentGroup)==null?void 0:z.translateX)||0)+Z-le,y:ie.y+(((G=R.parentGroup)==null?void 0:G.translateY)||0)+Z,width:oe-2*Z,height:ne-2*Z,polygon:re}}}(v));O.sort((F,R)=>(R.labelrank||0)-(F.labelrank||0));for(let F=0;F<l;++F){_=(b=O[F])&&b.absoluteBox;let R=_==null?void 0:_.polygon;for(let z=F+1;z<l;++z){E=(S=O[z])&&S.absoluteBox;let G=!1;if(_&&E&&b!==S&&b.newOpacity!==0&&S.newOpacity!==0&&b.visibility!=="hidden"&&S.visibility!=="hidden"){let Z=E.polygon;if(R&&Z&&R!==Z?m(R,Z)&&(G=!0):f(_,E)&&(G=!0),G){let ie=b.labelrank<S.labelrank?b:S,ne=ie.text;ie.newOpacity=0,ne!=null&&ne.element.querySelector("textPath")&&ne.hide()}}}}for(let F of O)rt(F,this)&&(I=!0);I&&ye(this,"afterHideAllOverlappingLabels")}function rt(O,l){let f,m=!1;return O&&(f=O.newOpacity,O.oldOpacity!==f&&(O.hasClass("highcharts-data-label")?(O[f?"removeClass":"addClass"]("highcharts-data-label-hidden"),m=!0,O[O.isOld?"animate":"attr"]({opacity:f},void 0,function(){l.styledMode||O.css({pointerEvents:f?"auto":"none"})}),ye(l,"afterHideOverlappingLabel")):O.attr({opacity:f})),O.isOld=!0),m}function Xe(){var f;let O=this,l=[];for(let m of O.labelCollectors||[])l=l.concat(m());for(let m of O.yAxis||[])m.stacking&&m.options.stackLabels&&!m.options.stackLabels.allowOverlap&&je(m.stacking.stacks,v=>{je(v,b=>{b.label&&l.push(b.label)})});for(let m of O.series||[])if(m.visible&&((f=m.hasDataLabels)!=null&&f.call(m))){let v=b=>{for(let S of b)S.visible&&(S.dataLabels||[]).forEach(_=>{var I;let E=_.options||{};_.labelrank=Fe(E.labelrank,S.labelrank,(I=S.shapeArgs)==null?void 0:I.height),E.allowOverlap??Number(E.distance)>0?(_.oldOpacity=_.opacity,_.newOpacity=1,rt(_,O)):l.push(_)})};v(m.nodes||[]),v(m.points)}this.hideOverlappingLabels(l)}let ct={compose:function(O){let l=O.prototype;l.hideOverlappingLabels||(l.hideOverlappingLabels=Je,W(O,"render",Xe))}},{defaultOptions:mt}=Gt,{noop:xt}=V,{addEvent:jn,extend:Re,isObject:Ae,merge:De,relativeLength:nt}=Le,St={radius:0,scope:"stack",where:void 0},kt=xt,Et=xt;function $t(O,l,f,m,v={}){let b=kt(O,l,f,m,v),{innerR:S=0,r:_=f,start:E=0,end:I=0}=v;if(v.open||!v.borderRadius)return b;let F=I-E,R=Math.sin(F/2),z=Math.max(Math.min(nt(v.borderRadius||0,_-S),(_-S)/2,_*R/(1+R)),0),G=Math.min(z,F/Math.PI*2*S),Z=b.length-1;for(;Z--;)(function(ie,ne,re){let oe,le,we,ve=ie[ne],xe=ie[ne+1];if(xe[0]==="Z"&&(xe=ie[0]),(ve[0]==="M"||ve[0]==="L")&&xe[0]==="A"?(oe=ve,le=xe,we=!0):ve[0]==="A"&&(xe[0]==="M"||xe[0]==="L")&&(oe=xe,le=ve),oe&&le&&le.params){let Te=le[1],Ne=le[5],Pe=le.params,{start:Ve,end:Ye,cx:tt,cy:Ze}=Pe,lt=Ne?Te-re:Te+re,ot=lt?Math.asin(re/lt):0,Rt=Ne?ot:-ot,ut=Math.cos(ot)*lt;we?(Pe.start=Ve+Rt,oe[1]=tt+ut*Math.cos(Ve),oe[2]=Ze+ut*Math.sin(Ve),ie.splice(ne+1,0,["A",re,re,0,0,1,tt+Te*Math.cos(Pe.start),Ze+Te*Math.sin(Pe.start)])):(Pe.end=Ye-Rt,le[6]=tt+Te*Math.cos(Pe.end),le[7]=Ze+Te*Math.sin(Pe.end),ie.splice(ne+1,0,["A",re,re,0,0,1,tt+ut*Math.cos(Ye),Ze+ut*Math.sin(Ye)])),le[4]=Math.abs(Pe.end-Pe.start)<Math.PI?0:1}})(b,Z,Z>1?G:z);return b}function ai(){var O,l;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:f,yAxis:m}=this,v=f.stacking==="percent",b=(l=(O=mt.plotOptions)==null?void 0:O[this.type])==null?void 0:l.borderRadius,S=wr(f.borderRadius,Ae(b)?b:{}),_=m.options.reversed;for(let E of this.points){let{shapeArgs:I}=E;if(E.shapeType==="roundedRect"&&I){let{width:F=0,height:R=0,y:z=0}=I,G=z,Z=R;if(S.scope==="stack"&&E.stackTotal){let oe=m.translate(v?100:E.stackTotal,!1,!0,!1,!0),le=m.translate(f.threshold||0,!1,!0,!1,!0),we=this.crispCol(0,Math.min(oe,le),0,Math.abs(oe-le));G=we.y,Z=we.height}let ie=(E.negative?-1:1)*(_?-1:1)==-1,ne=S.where;!ne&&this.is("waterfall")&&Math.abs((E.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(ne="all"),ne||(ne="end");let re=Math.min(nt(S.radius,F),F/2,ne==="all"?R/2:1/0)||0;ne==="end"&&(ie&&(G-=re),Z+=re),Re(I,{brBoxHeight:Z,brBoxY:G,r:re})}}}}function wr(O,l){return Ae(O)||(O={radius:O||0}),De(St,l,O)}function rc(){let O=wr(this.options.borderRadius);for(let l of this.points){let f=l.shapeArgs;f&&(f.borderRadius=nt(O.radius,(f.r||0)-(f.innerR||0)))}}function BN(O,l,f,m,v={}){let b=Et(O,l,f,m,v),{r:S=0,brBoxHeight:_=m,brBoxY:E=l}=v,I=l-E,F=E+_-(l+m),R=I-S>-.1?0:S,z=F-S>-.1?0:S,G=Math.max(R&&I,0),Z=Math.max(z&&F,0),ie=[O+R,l],ne=[O+f-R,l],re=[O+f,l+R],oe=[O+f,l+m-z],le=[O+f-z,l+m],we=[O+z,l+m],ve=[O,l+m-z],xe=[O,l+R],Te=(Ne,Pe)=>Math.sqrt(Math.pow(Ne,2)-Math.pow(Pe,2));if(G){let Ne=Te(R,R-G);ie[0]-=Ne,ne[0]+=Ne,re[1]=xe[1]=l+R-G}if(m<R-G){let Ne=Te(R,R-G-m);re[0]=oe[0]=O+f-R+Ne,le[0]=Math.min(re[0],le[0]),we[0]=Math.max(oe[0],we[0]),ve[0]=xe[0]=O+R-Ne,re[1]=xe[1]=l+m}if(Z){let Ne=Te(z,z-Z);le[0]+=Ne,we[0]-=Ne,oe[1]=ve[1]=l+m-z+Z}if(m<z-Z){let Ne=Te(z,z-Z-m);re[0]=oe[0]=O+f-z+Ne,ne[0]=Math.min(re[0],ne[0]),ie[0]=Math.max(oe[0],ie[0]),ve[0]=xe[0]=O+z-Ne,oe[1]=ve[1]=l}return b.length=0,b.push(["M",...ie],["L",...ne],["A",R,R,0,0,1,...re],["L",...oe],["A",z,z,0,0,1,...le],["L",...we],["A",z,z,0,0,1,...ve],["L",...xe],["A",R,R,0,0,1,...ie],["Z"]),b}let{diffObjects:lX,extend:cX,find:uX,merge:dX,pick:$w,uniqueKey:hX}=Le;(function(O){function l(m,v){let b=m.condition;(b.callback||function(){return this.chartWidth<=$w(b.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=$w(b.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=$w(b.minWidth,0)&&this.chartHeight>=$w(b.minHeight,0)}).call(this)&&v.push(m._id)}function f(m,v){let b=this.options.responsive,S=this.currentResponsive,_=[],E;!v&&b&&b.rules&&b.rules.forEach(R=>{R._id===void 0&&(R._id=hX()),this.matchResponsiveRule(R,_)},this);let I=dX(..._.map(R=>uX((b==null?void 0:b.rules)||[],z=>z._id===R)).map(R=>R==null?void 0:R.chartOptions));I.isResponsiveOptions=!0,_=_.toString()||void 0;let F=S==null?void 0:S.ruleIds;_===F||(S&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(S.undoOptions,m,!0),this.updatingResponsive=!1),_?((E=lX(I,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:_,mergedOptions:I,undoOptions:E},this.updatingResponsive||this.update(I,m,!0)):this.currentResponsive=void 0)}O.compose=function(m){let v=m.prototype;return v.matchResponsiveRule||cX(v,{matchResponsiveRule:l,setResponsive:f}),m}})(U||(U={}));let fX=U;V.AST=cr,V.Axis=vd,V.Chart=Hl,V.Color=Br,V.DataLabel=Yf,V.DataTableCore=Rf,V.Fx=An,V.HTMLElement=Hc,V.Legend=Ys,V.LegendSymbol=Pd,V.OverlappingDataLabels=V.OverlappingDataLabels||ct,V.PlotLineOrBand=Gn,V.Point=Ro,V.Pointer=Dv,V.RendererRegistry=rr,V.Series=ki,V.SeriesRegistry=rn,V.StackItem=Zv,V.SVGElement=es,V.SVGRenderer=am,V.Templating=Hn,V.Tick=Yc,V.Time=xo,V.Tooltip=$l,V.animate=kn.animate,V.animObject=kn.animObject,V.chart=Hl.chart,V.color=Br.parse,V.dateFormat=Hn.dateFormat,V.defaultOptions=Gt.defaultOptions,V.distribute=Lc.distribute,V.format=Hn.format,V.getDeferredAnimation=kn.getDeferredAnimation,V.getOptions=Gt.getOptions,V.numberFormat=Hn.numberFormat,V.seriesType=rn.seriesType,V.setAnimation=kn.setAnimation,V.setOptions=Gt.setOptions,V.stop=kn.stop,V.time=Gt.defaultTime,V.timers=An.timers,{compose:function(O,l,f){let m=O.types.pie;if(!l.symbolCustomAttribs.includes("borderRadius")){let v=f.prototype.symbols;jn(O,"afterColumnTranslate",ai,{order:9}),jn(m,"afterTranslate",rc),l.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),kt=v.arc,Et=v.roundedRect,v.arc=$t,v.roundedRect=BN}},optionsToObject:wr}.compose(V.Series,V.SVGElement,V.SVGRenderer),_n.compose(V.Series.types.column),Yf.compose(V.Series),Rl.compose(V.Axis),Hc.compose(V.SVGRenderer),Ys.compose(V.Chart),Tf.compose(V.Axis),ct.compose(V.Chart),T.compose(V.Series.types.pie),Gn.compose(V.Chart,V.Axis),Dv.compose(V.Chart),fX.compose(V.Chart),dt.compose(V.Axis,V.Chart,V.Series),Jv.compose(V.Axis,V.Chart,V.Series),$l.compose(V.Pointer),Le.extend(V,Le);let pX=V;return q.default})())}(L1)),L1.exports}var fTe=hTe();const X2=Lr(fTe),pTe=async()=>{try{const t=await Y2(()=>import("./highcharts-more-BATLPLdt.js").then(r=>r.h),[]),e=await Y2(()=>import("./solid-gauge-CsYSQl1u.js").then(r=>r.s),[]);return typeof t.default=="function"&&t.default(X2),typeof e.default=="function"&&e.default(X2),!0}catch(t){return console.error("Error loading Highcharts modules:",t),!1}},mTe=({options:t,className:e})=>{const r=P.useRef(null),[n,i]=P.useState(!1);return P.useEffect(()=>{(async()=>{const o=await pTe();i(o)})()},[]),P.useEffect(()=>{var o;if(!r.current||!n)return;let s;try{s=X2.chart(r.current,{...t,chart:{...t.chart,type:((o=t.chart)==null?void 0:o.type)||"line",backgroundColor:"transparent",style:{fontFamily:"Inter, sans-serif"}},credits:{enabled:!1}})}catch(c){console.error("Error creating Highcharts instance:",c),r.current&&(r.current.innerHTML=`
          <div class="p-4 text-center">
            <p class="text-safebite-text-secondary">Chart data unavailable</p>
          </div>
        `)}return()=>{if(s)try{s.destroy()}catch(c){console.error("Error destroying Highcharts instance:",c)}}},[t,n]),a.jsx("div",{ref:r,className:e})};var JR="Avatar",[gTe,OPe]=Ha(JR),[yTe,VK]=gTe(JR),zK=P.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=P.useState("idle");return a.jsx(yTe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(_t.span,{...n,ref:e})})});zK.displayName=JR;var UK="AvatarImage",qK=P.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=VK(UK,r),c=vTe(n,s.referrerPolicy),d=Ds(h=>{i(h),o.onImageLoadingStatusChange(h)});return vi(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?a.jsx(_t.img,{...s,ref:e,src:n}):null});qK.displayName=UK;var HK="AvatarFallback",WK=P.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=VK(HK,r),[o,c]=P.useState(n===void 0);return P.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(_t.span,{...i,ref:e}):null});WK.displayName=HK;function vTe(t,e){const[r,n]=P.useState("idle");return vi(()=>{if(!t){n("error");return}let i=!0;const s=new window.Image,o=c=>()=>{i&&n(c)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var GK=zK,KK=qK,YK=WK;const y_=P.forwardRef(({className:t,...e},r)=>a.jsx(GK,{ref:r,className:Ot("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));y_.displayName=GK.displayName;const XK=P.forwardRef(({className:t,...e},r)=>a.jsx(KK,{ref:r,className:Ot("aspect-square h-full w-full",t),...e}));XK.displayName=KK.displayName;const v_=P.forwardRef(({className:t,...e},r)=>a.jsx(YK,{ref:r,className:Ot("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));v_.displayName=YK.displayName;const xTe="AIzaSyDzRb8YtCnJxJAw-ke3qvh8Z-cIt5KyxDA";console.log("Google Gemini API Key loaded:","Available");const bTe=async t=>{try{const e=t.map(i=>({role:i.role,parts:[{text:i.content}]})),r=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":xTe},body:JSON.stringify({contents:e,generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!r.ok)throw new Error(`Gemini API error: ${r.status}`);const n=await r.json();if(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0)return n.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error chatting with Gemini:",e),"I'm sorry, but I couldn't process your message at the moment. Please try again later."}},k0=({initialMessage:t="Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or healthy eating!",currentPage:e="",userData:r=null,autoOpen:n=!1})=>{const[i,s]=P.useState(n),[o,c]=P.useState(!n),[d,h]=P.useState([{role:"assistant",content:t}]),[g,y]=P.useState(""),[x,N]=P.useState(!1),[C,A]=P.useState(!1),[k,D]=P.useState(!1),M=P.useRef(null),$=Cr(At),L=On(At);hn();const{isGuest:U}=la();P.useEffect(()=>{const se=window.location.pathname,pe=se==="/"||se==="/SafeBite-V1/"||se==="/SafeBite-V1",ce=se.includes("/auth/"),me=$.currentUser!==null,he=(me||U)&&!pe&&!ce&&(U||r!==null);console.log("FoodChatBot - shouldDisplay:",he,{isLoggedIn:me,isGuest:U,isLandingPage:pe,isAuthPage:ce,userData:r}),D(he)},[$.currentUser,U,r]);const K=()=>{var se;(se=M.current)==null||se.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{K()},[d]),P.useEffect(()=>{if(n){const se=setTimeout(()=>{s(!0),c(!1)},1500);return()=>clearTimeout(se)}},[n]),P.useEffect(()=>{const se=$.onAuthStateChanged(pe=>{A(!!pe),e&&pe?q(e,pe):e&&q(e,null)});return()=>se()},[$,e]),P.useEffect(()=>{r&&C&&e&&V(r,e)},[r,C,e]);const q=async(se,pe)=>{let ce="",me=!pe;const he=me?localStorage.getItem("guestUserName")||"Guest":null;if(!(d.length>1)){switch(se){case"dashboard":me?ce=`Welcome to the SafeBite dashboard, ${he}! As a guest user, you can explore basic features. Would you like me to explain what's available to you, or would you like to sign up for full access?`:ce=`Welcome to your personalized dashboard, ${pe.displayName||"there"}! I can help you understand your health metrics or suggest ways to improve your nutrition based on your data. What would you like to know about today?`;break;case"nutrition":me?ce="I see you're exploring nutrition information. You can search for foods to see their nutritional content. Would you like help finding details for a specific food, or would you like some healthy meal suggestions?":ce="Welcome to the Nutrition page! Based on your profile, I can help you find foods that match your dietary preferences and health goals. Would you like personalized recommendations or help with searching for specific foods?";break;case"recipes":me?ce="Looking for recipe ideas? You can search for recipes here. What kind of dishes are you interested in today? I can suggest options based on ingredients or cuisine types.":ce="Welcome to Recipes! Based on your previous activity and preferences, I can suggest personalized recipe ideas. Would you like recommendations for quick meals, healthy options, or something specific to your dietary needs?";break;case"healthbox":me?ce="Welcome to Healthbox! Here you can access various health calculators and tools. As a guest, you can try them out, but your results won't be saved. Would you like me to guide you through the available tools?":ce="Welcome to Healthbox! I can help you understand the different health tools available or assist with interpreting your results. Your data will be saved to your profile for tracking progress. Which health aspect would you like to focus on today?";break;case"food-delivery":me?ce="Looking for food delivery options? You can explore healthy choices from popular restaurants here. Would you like suggestions for nutritious takeout options?":ce="Welcome to Food Delivery! Based on your health profile and preferences, I can suggest healthier options from your favorite restaurants. Would you like recommendations from Zomato, Swiggy, or based on your dietary preferences?";break;case"weekly-questions":me?ce="This is the weekly health check-in page. As a guest, you can try it out, but your answers won't be saved. Would you like to sign up to track your progress over time?":ce="Welcome to your weekly health check-in! Answering these questions helps us provide personalized recommendations and track your progress. Would you like me to explain how this information is used to improve your experience?";break;case"settings":me?ce="As a guest user, your settings options are limited. Would you like to create an account to access all features and save your preferences?":ce="You can customize your SafeBite experience here. Would you like help with setting up your dietary preferences, health goals, or notification settings?";break;default:me?ce="Welcome to SafeBite! I'm your AI assistant and can help you navigate the site. As a guest user, some features are limited. Would you like to know more about creating an account?":ce="Welcome to SafeBite! I'm your personal AI assistant and can help with nutrition information, recipe suggestions, and health insights. What can I help you with today?"}if(ce&&(h(Se=>[...Se,{role:"assistant",content:ce}]),C&&pe))try{const Se=Cg(L,"users",pe.uid,"chatHistory");await M1(Se,{aiMessage:ce,timestamp:gg(),context:se,isAutoGenerated:!0})}catch(Se){console.error("Error saving context message to Firebase:",Se)}}},V=async(se,pe)=>{d.length>2||setTimeout(async()=>{var me,he,Se,be,ue;let ce="";if(se){const ge=(me=se.profile)==null?void 0:me.health_goals,ke=(he=se.profile)==null?void 0:he.dietary_preferences,ze=(Se=se.profile)==null?void 0:Se.health_conditions,et=se.recentActivity||[],Ke=(ue=(be=se.profile)==null?void 0:be.weeklyCheckin)==null?void 0:ue.answers;switch(pe){case"dashboard":Ke?Ke.exercise_minutes<150?ce=`I noticed from your weekly check-in that you're getting ${Ke.exercise_minutes} minutes of exercise. The recommended amount is 150 minutes per week. Would you like some tips for increasing your activity level?`:Ke.water_intake<6?ce=`Your weekly check-in shows you're drinking ${Ke.water_intake} cups of water daily. Increasing to 8 cups could improve your hydration. Would you like some hydration tips?`:Ke.stress_level>3&&(ce=`I see your stress level is rated ${Ke.stress_level}/5. Would you like me to suggest some stress management techniques or foods that can help reduce stress?`):ge==="Weight Loss"?ce="I noticed your goal is weight loss. Would you like me to suggest some low-calorie meal options or exercise routines that could help? Completing your weekly health check-in would also help me provide more personalized recommendations.":ge==="Muscle Gain"?ce="Since you're focusing on muscle gain, would you like some high-protein recipe suggestions or nutrition tips? I can also recommend specific health tools in Healthbox to track your progress.":ze&&ze.includes("Diabetes")&&(ce="I see you're managing diabetes. Would you like me to help you find low-glycemic food options or meal planning tips? I can also suggest specific health monitoring tools in Healthbox.");break;case"nutrition":Ke?Ke.junk_food_consumption>5?ce="Based on your weekly check-in, you might want to reduce processed food intake. Would you like me to suggest some healthier alternatives to common junk foods?":Ke.fruit_vegetable_servings<5&&(ce=`Your weekly check-in shows you're getting ${Ke.fruit_vegetable_servings} servings of fruits and vegetables daily. Would you like suggestions for increasing your intake to the recommended 5+ servings?`):ke&&(ke.includes("Vegetarian")?ce="As a vegetarian, would you like me to suggest some plant-based protein sources or vegetarian recipes? I can also help you ensure you're getting all essential nutrients.":ke.includes("Vegan")?ce="For your vegan diet, would you like me to suggest some nutrient-dense plant foods or vegan recipes? I can also help you identify potential nutrient gaps to watch for.":ke.includes("Keto")&&(ce="For your keto diet, would you like me to suggest some low-carb, high-fat food options? I can also help you track your macronutrient ratios to stay in ketosis."));break;case"recipes":if(et.length>0){const _e=et.filter(Ce=>Ce.type==="search").map(Ce=>Ce.query);_e.length>0&&(ce=`I see you recently searched for "${_e[0]}". Would you like me to suggest similar recipes or nutrition information? I can also help you modify recipes to match your dietary preferences.`)}else Ke&&Ke.home_cooked_meals<10?ce=`Your weekly check-in shows you had ${Ke.home_cooked_meals} home-cooked meals. Would you like some quick and easy recipe ideas to help you cook at home more often?`:ke&&(ce=`Based on your dietary preferences, I can suggest some ${ke.toLowerCase()} recipes. Would you like quick meals, batch cooking ideas, or special occasion recipes?`);break;case"healthbox":Ke?Ke.sleep_hours<7?ce=`I noticed from your weekly check-in that you're getting ${Ke.sleep_hours} hours of sleep. Would you like to try the Sleep Calculator tool to help improve your sleep quality?`:Ke.stress_level>3?ce=`Based on your stress level of ${Ke.stress_level}/5, you might find the Stress Analyzer tool helpful. Would you like to try it?`:Ke.health_symptoms&&Ke.health_symptoms.includes("joint_pain")&&(ce="I see you mentioned joint pain in your weekly check-in. The Body Mass Index and Exercise Planner tools might be helpful for managing this. Would you like to try them?"):ze?ce=`Since you've mentioned ${ze}, would you like me to suggest specific health tools that might be helpful for monitoring your condition? Regular weekly check-ins can also help track your progress.`:ce="Would you like me to recommend which health tools might be most relevant for your health goals? Completing a weekly health check-in would also help me provide more personalized recommendations.";break;case"weekly-questions":ce="Completing your weekly health check-in helps us provide personalized recommendations. Your answers are used to track progress, suggest relevant health tools, and customize nutrition advice. Would you like me to explain more about any specific question?";break;case"food-delivery":ke?ce=`When ordering food delivery, look for ${ke.toLowerCase()} options. Would you like tips for making healthier choices when ordering from restaurants?`:ge==="Weight Loss"?ce="When ordering food delivery while focusing on weight loss, look for options with vegetables, lean proteins, and ask for dressings on the side. Would you like more specific recommendations?":ce="Would you like some tips for identifying healthier options when ordering food delivery? I can help you decode menu descriptions and make better choices.";break}if(ce&&(h(_e=>[..._e,{role:"assistant",content:ce}]),C))try{const _e=$.currentUser;if(_e){const Ce=Cg(L,"users",_e.uid,"chatHistory");await M1(Ce,{aiMessage:ce,timestamp:gg(),context:pe,isPersonalized:!0,basedOn:{healthGoals:ge||"General Health",dietaryPreferences:ke||"None",healthConditions:ze||"None",weeklyCheckin:!!Ke,recentActivity:(et==null?void 0:et.slice(0,3))||[]}})}}catch(_e){console.error("Error saving personalized suggestion to Firebase:",_e)}}},8e3)},Q=async()=>{if(!g.trim())return;const se={role:"user",content:g};h(pe=>[...pe,se]),y(""),N(!0);try{const pe=[...d,se],ce=await bTe(pe),me={role:"assistant",content:ce};if(h(he=>[...he,me]),C)try{const he=$.currentUser;if(he){const Se=Cg(L,"users",he.uid,"chatHistory");await M1(Se,{userMessage:se.content,aiResponse:ce,timestamp:gg(),context:pe.map(ue=>({role:ue.role,content:ue.content.substring(0,100)+(ue.content.length>100?"...":"")})),topics:J(se.content)});const be=ar(L,"users",he.uid);await za(be,{aiLearning:{lastInteraction:gg(),recentTopics:J(se.content),interactionCount:pe.length/2}},{merge:!0})}}catch(he){console.error("Error saving chat to Firebase:",he)}}catch(pe){console.error("Error sending message to Gemini:",pe),h(ce=>[...ce,{role:"assistant",content:"I'm sorry, I'm having trouble connecting to my knowledge base right now. Please try again later."}])}finally{N(!1)}},J=se=>{const pe=["nutrition","calories","protein","carbs","fat","diet","vegetarian","vegan","gluten","allergy","organic","healthy","recipe","meal","breakfast","lunch","dinner","snack","vitamin","mineral","supplement","weight","exercise","diabetes","heart","cholesterol","blood pressure"],ce=[],me=se.toLowerCase();for(const he of pe)me.includes(he)&&ce.push(he);return ce.length>0?ce:["general"]},ee=se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),Q())},X=()=>{s(!i),i||c(!1)},Y=()=>{c(!o)};return k?a.jsxs(a.Fragment,{children:[!i&&a.jsx(Ie,{onClick:X,className:"fixed bottom-6 right-6 rounded-full w-14 h-14 p-0 bg-safebite-teal hover:bg-safebite-teal/80 shadow-xl z-50 border-2 border-white/20 flex items-center justify-center",title:"SafeBite AI Assistant",children:a.jsx(KV,{size:24,className:"text-safebite-dark-blue"})}),i&&a.jsxs(ht,{className:`fixed bottom-6 right-6 w-80 sm:w-96 shadow-xl border border-safebite-teal/30 transition-all duration-300 ease-in-out ${o?"h-16":"h-[500px]"}`,children:[a.jsxs(Qt,{className:"p-3 border-b border-safebite-teal/30 bg-safebite-teal/10 flex flex-row items-center justify-between space-y-0",children:[a.jsxs(Zt,{className:"text-base font-medium flex items-center",children:[a.jsxs(y_,{className:"h-8 w-8 mr-2",children:[a.jsx(XK,{src:"/bot-avatar.png",alt:"AI"}),a.jsx(v_,{className:"bg-safebite-teal text-safebite-dark-blue text-xs",children:"AI"})]}),"SafeBite AI Assistant"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ie,{variant:"ghost",size:"icon",onClick:Y,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:o?a.jsx(qQ,{size:16}):a.jsx(WQ,{size:16})}),a.jsx(Ie,{variant:"ghost",size:"icon",onClick:X,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:a.jsx(qa,{size:16})})]})]}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(Mt,{className:"p-4 overflow-y-auto h-[380px] bg-safebite-card-bg",children:a.jsxs("div",{className:"space-y-4",children:[d.map((se,pe)=>a.jsx("div",{className:`flex ${se.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${se.role==="user"?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg-alt text-safebite-text"}`,children:se.content.split(`
`).map((ce,me)=>{const he=["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/community","/healthbox","/reports","/recipes","/settings"];let Se=ce;return he.forEach(be=>{if(ce.toLowerCase().includes(be.toLowerCase())){const ue=ce.toLowerCase().indexOf(be.toLowerCase());ce.substring(ue,ue+be.length);const ge=[ce.substring(0,ue),ce.substring(ue+be.length)];Se=`${ge[0]}<Button
                                variant="link"
                                className="p-0 h-auto text-current underline"
                                onClick={() => checkAuthAndNavigate(route)}
                              >
                                {actualRoute}
                              </Button>${ge[1]}`}}),a.jsxs(de.Fragment,{children:[Se,me<se.content.split(`
`).length-1&&a.jsx("br",{})]},me)})})},pe)),x&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-safebite-card-bg-alt text-safebite-text",children:a.jsx(ia,{className:"h-5 w-5 animate-spin"})})}),a.jsx("div",{ref:M})]})}),a.jsx(Lh,{className:"p-3 border-t",children:a.jsxs("div",{className:"flex w-full items-center space-x-2",children:[a.jsx(Jt,{placeholder:"Ask about food or nutrition...",value:g,onChange:se=>y(se.target.value),onKeyDown:ee,className:"flex-1",disabled:x}),a.jsx(Ie,{size:"icon",onClick:Q,disabled:x||!g.trim(),className:"bg-safebite-teal hover:bg-safebite-teal/80",children:x?a.jsx(ia,{className:"h-5 w-5 animate-spin"}):a.jsx(oz,{size:18})})]})})]})]})]}):null},wTe=()=>{var se,pe;const t=Jn(),{isGuest:e}=la(),[r,n]=P.useState(!1),[i,s]=P.useState("");hn();const o=Cr(At),c=On(At),d=o.currentUser,[h,g]=P.useState(null),[y,x]=P.useState(!0),[N,C]=P.useState(!1),A=P.useRef(null),[k,D]=P.useState([]),[M,$]=P.useState(""),[L,U]=P.useState([]),[K,q]=P.useState(!1);P.useEffect(()=>{console.log("Dashboard component - Guest mode status:",{isGuest:e,userType:localStorage.getItem("userType"),emergencyGuestMode:sessionStorage.getItem("safebite-guest-mode"),user:d?"Logged in":"Not logged in"})},[e,d]),P.useEffect(()=>{const ce=()=>{if(e||!d||localStorage.getItem("hideDeliveryPopup")==="permanent")return!1;const Se=localStorage.getItem("lastDeliveryPopupShown");if(!Se)return!0;if(!sessionStorage.getItem("currentSession"))return sessionStorage.setItem("currentSession",Date.now().toString()),!0;const ue=parseInt(Se,10),ge=Date.now(),ke=24*60*60*1e3;return ge-ue>ke},me=setTimeout(()=>{ce()&&(C(!0),localStorage.setItem("lastDeliveryPopupShown",Date.now().toString()))},5e3);return(async()=>{if(!e&&d)try{const Se=await Sh.getUserActivity(d.uid);D(Se)}catch(Se){console.error("Error loading user activity:",Se)}})(),()=>clearTimeout(me)},[e,d]),P.useEffect(()=>{(async()=>{if(e){x(!1);return}try{if(!d){x(!1);return}const me=ar(c,"users",d.uid),he=await bn(me);he.exists()?g(he.data()):console.log("No user profile found!");const Se=await Sh.getRecentActivities(10);U(Se)}catch(me){console.error("Error loading user profile:",me),$("Failed to load your profile data. Please try again later.")}finally{x(!1)}})()},[e,d,c]);const V=()=>{var ce;if((ce=h==null?void 0:h.weeklyCheckin)!=null&&ce.answers){const me=h.weeklyCheckin.answers;return[{name:"Sleep Quality",value:Math.min(100,(me.sleep_hours||6)*12),icon:a.jsx(pi,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:Math.min(100,(me.exercise_minutes||30)/3),icon:a.jsx(Pu,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:Math.min(100,(me.fruit_vegetable_servings||2)*10+(me.home_cooked_meals||3)*8-(me.junk_food_consumption||2)*10),icon:a.jsx(pi,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:Math.max(0,100-(me.stress_level||5)*10),icon:a.jsx(MC,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]}return[{name:"Sleep Quality",value:72,icon:a.jsx(pi,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:65,icon:a.jsx(Pu,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:78,icon:a.jsx(pi,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:60,icon:a.jsx(MC,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]},Q=()=>{if(k&&k.length>0){const ce=k.filter(me=>me.type==="food_search"||me.type==="recipe_view").map(me=>{var he,Se;return((he=me.details)==null?void 0:he.foodName)||((Se=me.details)==null?void 0:Se.recipeName)||""}).filter(Boolean);if(ce.length>0){const me=[];return ce.some(he=>he.toLowerCase().includes("chicken")||he.toLowerCase().includes("poultry"))&&me.push({title:"Poultry Safety Alert",description:"Always cook chicken to an internal temperature of 165°F (74°C) to kill harmful bacteria.",severity:"medium"}),ce.some(he=>he.toLowerCase().includes("fish")||he.toLowerCase().includes("seafood"))&&me.push({title:"Seafood Storage",description:"Keep seafood refrigerated and consume within 1-2 days for optimal safety and freshness.",severity:"medium"}),ce.some(he=>he.toLowerCase().includes("rice"))&&me.push({title:"Rice Storage Warning",description:"Refrigerate cooked rice within 1 hour to prevent Bacillus cereus bacteria growth.",severity:"high"}),ce.some(he=>he.toLowerCase().includes("egg"))&&me.push({title:"Egg Safety",description:"Cook eggs until whites and yolks are firm to reduce risk of Salmonella infection.",severity:"medium"}),me.length<2&&(me.push({title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"}),me.push({title:"Refrigeration Reminder",description:"Keep your refrigerator below 40°F (4°C) to slow bacterial growth in foods.",severity:"low"})),me}}return[{title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"},{title:"Refrigeration Reminder",description:"Keep your refrigerator below 40°F (4°C) to slow bacterial growth in foods.",severity:"low"},{title:"Leftovers Safety",description:"Consume refrigerated leftovers within 3-4 days to ensure food safety.",severity:"medium"}]},J=()=>{q(!0)};if(P.useEffect(()=>{console.log("Dashboard - Detailed guest mode check:",{isGuest:e,userType:localStorage.getItem("userType"),guestMode:sessionStorage.getItem("safebite-guest-mode"),guestName:sessionStorage.getItem("guestUserName")||localStorage.getItem("guestUserName"),guestSessionExpires:localStorage.getItem("guestSessionExpires")})},[e]),e)return console.log("Rendering GuestDashboard component"),a.jsx(Bfe,{});if(y)return a.jsx("div",{className:"flex items-center justify-center h-screen bg-safebite-dark-blue",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text",children:"Loading your dashboard..."})]})});const ee=V(),X=Q(),Y=h==null?void 0:h.healthCheckData;return a.jsxs("div",{className:"relative",style:{zIndex:10},children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(ol,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v2.5 - Production Ready"}),a.jsx(ol,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx("div",{style:{marginRight:"6rem"},children:a.jsx(pW,{isOpen:N,onClose:()=>C(!1),currentPage:"dashboard",userData:h})}),a.jsx("div",{ref:A,style:{zIndex:50},children:a.jsx(k0,{currentPage:"dashboard",userData:{profile:h,recentActivity:k},autoOpen:!1,initialMessage:"Welcome back! How can I help with your health goals today?"})}),a.jsx(vl,{userProfile:h}),a.jsx(x8,{isOpen:K,onClose:()=>q(!1),userProfile:h}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-4 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:[a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:["Welcome back, ",e?localStorage.getItem("guestUserName")||sessionStorage.getItem("guestUserName")||"Guest":(h==null?void 0:h.displayName)||(d==null?void 0:d.displayName)||(h==null?void 0:h.name)||((se=d==null?void 0:d.email)==null?void 0:se.split("@")[0])||"Friend"]})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(Hh,{className:"h-5 w-5 mr-2 text-safebite-teal/70"}),"Your dashboard is ready. Check out your health insights and recommendations."]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ie,{variant:"outline",className:"border-safebite-teal/30 hover:border-safebite-teal/60 text-safebite-text",onClick:J,children:[a.jsx(Ap,{className:"mr-2 h-4 w-4 text-safebite-teal"}),"Profile"]}),a.jsxs(Ie,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white hover:from-orange-600 hover:to-red-600 transition-all duration-300",onClick:()=>t("/food-delivery"),children:[a.jsx(uz,{className:"mr-2 h-4 w-4"})," Food Delivery",a.jsx("span",{className:"ml-2 text-xs bg-white/20 px-1.5 py-0.5 rounded-full",children:"Coming Soon"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:ee.map((ce,me)=>a.jsx(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:a.jsxs(Mt,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:ce.name}),ce.icon]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Score"}),a.jsxs("span",{className:"text-safebite-text font-medium",children:[ce.value,"%"]})]}),a.jsx(mb,{value:ce.value,className:"h-2 bg-safebite-card-bg-alt"})]})]})},me))}),a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-6",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Ki,{className:"mr-2 h-5 w-5 text-amber-500"})," Food Safety Insights"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary text-xs mb-3",children:"Potential issues based on profile & activity:"}),X.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:X.map((ce,me)=>a.jsx("div",{className:"p-3 bg-safebite-card-bg-alt rounded-lg border border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`rounded-full p-1.5 mr-2 ${ce.severity==="high"?"bg-red-500/20 text-red-500":ce.severity==="medium"?"bg-amber-500/20 text-amber-500":"bg-blue-500/20 text-blue-500"}`,children:a.jsx(Ki,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:ce.title}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:ce.description})]})]})},me))}):a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"No food safety issues detected based on your recent activity."})]})]}),Y&&a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-6",children:[a.jsx(Qt,{children:a.jsx(Zt,{className:"text-lg font-semibold text-safebite-text",children:"Recent Health Check"})}),a.jsxs(Mt,{children:[a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:["Food Query: ",a.jsx("span",{className:"text-safebite-text",children:Y.foodQuery||"N/A"})]}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:["Processed Food Frequency: ",a.jsx("span",{className:"text-safebite-text",children:Y.processedFoodFrequency||"N/A"})]}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:["Diet Quality: ",a.jsx("span",{className:"text-safebite-text",children:Y.dietQuality||"N/A"})]})]})]}),((pe=h==null?void 0:h.weeklyCheckin)==null?void 0:pe.answers)&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(Qt,{children:a.jsx(Zt,{className:"text-lg font-semibold text-safebite-text",children:"Weekly Activity Summary"})}),a.jsx(Mt,{children:a.jsx(lTe,{data:[{name:"Exercise (min)",value:h.weeklyCheckin.answers.exercise_minutes||0},{name:"Home Meals",value:h.weeklyCheckin.answers.home_cooked_meals||0},{name:"Water (glasses)",value:h.weeklyCheckin.answers.water_intake||0},{name:"Sleep (hrs)",value:h.weeklyCheckin.answers.sleep_hours||0}],colors:["#FFBB28","#FF8042","#00C49F","#0088FE"]})})]}),a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(Qt,{children:a.jsx(Zt,{className:"text-lg font-semibold text-safebite-text",children:"Weekly Trends (Example)"})}),a.jsx(Mt,{children:a.jsx(mTe,{options:{chart:{type:"line",backgroundColor:"transparent"},title:{text:"Example Trend",style:{color:"#e0e0e0"}},xAxis:{categories:["Wk 1","Wk 2","Wk 3","Wk 4"],labels:{style:{color:"#a0a0a0"}}},yAxis:{title:{text:"Value",style:{color:"#a0a0a0"}},labels:{style:{color:"#a0a0a0"}},gridLineColor:"rgba(255, 255, 255, 0.1)"},legend:{itemStyle:{color:"#e0e0e0"}},series:[{name:"Metric",type:"line",data:[h.weeklyCheckin.answers.junk_food_consumption||0,(h.weeklyCheckin.answers.stress_level||0)*10,h.weeklyCheckin.answers.fruit_vegetable_servings||0,(h.weeklyCheckin.answers.exercise_minutes||0)/10],color:"#00C49F"}],credits:{enabled:!1}}})})]})]}),!e&&L.length>0&&a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-6",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx($Q,{className:"mr-2 h-5 w-5 text-safebite-teal"})," Recent Activity"]})}),a.jsx(Mt,{children:a.jsx("ul",{className:"space-y-3",children:L.map(ce=>a.jsxs("li",{className:"flex items-center justify-between p-2 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt hover:border-safebite-teal/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[STe(ce.type),a.jsx("span",{className:"text-sm text-safebite-text ml-3",children:_Te(ce)})]}),a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:ce.timestamp instanceof Date?new Date(ce.timestamp.getTime()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):new Date(ce.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ce.timestamp.toString()))})})]}),!e&&L.length===0&&!y&&a.jsx(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 mb-6",children:a.jsx(Mt,{className:"p-4 text-center text-safebite-text-secondary text-sm",children:"No recent activity recorded yet. Start exploring SafeBite!"})})]})]})]})},STe=t=>{switch(t){case"food_search":return a.jsx(xi,{size:18,className:"text-blue-400 flex-shrink-0"});case"recipe_view":return a.jsx(r0,{size:18,className:"text-orange-400 flex-shrink-0"});case"product_view":return a.jsx(cI,{size:18,className:"text-green-400 flex-shrink-0"});case"health_check":return a.jsx(wp,{size:18,className:"text-red-400 flex-shrink-0"});case"login":return a.jsx(Hh,{size:18,className:"text-purple-400 flex-shrink-0"});default:return a.jsx(Pu,{size:18,className:"text-gray-400 flex-shrink-0"})}},_Te=t=>{var e,r,n;switch(t.type){case"food_search":return`Searched for: ${((e=t.details)==null?void 0:e.query)||"food"}`;case"recipe_view":return`Viewed recipe: ${((r=t.details)==null?void 0:r.recipeName)||"a recipe"}`;case"product_view":return`Viewed product: ${((n=t.details)==null?void 0:n.productName)||"a product"}`;case"health_check":return"Completed Health Check";case"login":return"Logged in";default:return`Performed action: ${t.type}`}},jTe=()=>{const[t,e]=P.useState("chat"),[r,n]=P.useState([]),[i,s]=P.useState(""),[o,c]=P.useState([]),[d,h]=P.useState(!1),g=P.useRef(null),{toast:y}=hn(),{isGuest:x}=la(),N=Cr(At),C=On(At),A=N.currentUser;P.useEffect(()=>{let K;return(async()=>{const V=Cg(C,"community","general","messages"),Q=ihe(V,she("timestamp","asc"),ahe(50));K=uhe(Q,J=>{const ee=J.docs.map(X=>{var se;const Y=X.data();return{id:X.id,username:Y.username||"Anonymous",avatar:Y.avatar||"",text:Y.text||"",timestamp:((se=Y.timestamp)==null?void 0:se.toDate())||new Date,isCurrentUser:A?Y.userId===A.uid:!1,linkedProduct:Y.linkedProduct}});n(ee)})})(),()=>{K&&K()}},[C,A]),P.useEffect(()=>{var K;(K=g.current)==null||K.scrollIntoView({behavior:"smooth"})},[r]);const k=async()=>{if(!i.trim())return;if(x||!A){y({title:"Login Required",description:"Please log in or sign up to send messages in the community chat.",variant:"default"});return}const K={userId:A.uid,username:A.displayName||A.email||"Anonymous",text:i,timestamp:gg(),avatar:A.photoURL||""};try{const q=Cg(C,"community","general","messages");await M1(q,K),s("")}catch(q){y({title:"Error sending message",description:q.message,variant:"destructive"}),console.error("Error sending message to Firestore: ",q)}},D=K=>{c(q=>q.map(V=>V.id===K?{...V,likes:V.likes+1}:V)),y({title:"Post liked",description:"Your engagement helps the community!"})},M=K=>{y({title:"Share link copied!",description:"You can now paste the link to share this post."})},$=()=>{h(!d),y({title:d?"Unsubscribed from notifications":"Subscribed to notifications",description:d?"You'll no longer receive community updates":"You'll receive notifications for new posts and replies"})},L=K=>K.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),U=K=>K.toLocaleDateString("en-US",{month:"short",day:"numeric"});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(vl,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Live Community Chat Beta"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect with other users, share food discoveries, and get advice"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(Ie,{variant:d?"default":"outline",className:d?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"sci-fi-button",onClick:$,children:[a.jsx(A_,{className:"mr-2 h-4 w-4"}),d?"Subscribed":"Subscribe to Updates"]})})]}),a.jsxs(Nc,{defaultValue:"chat",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(xl,{className:"grid grid-cols-2 gap-2",children:[a.jsxs(kr,{value:"chat",className:t==="chat"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(w1,{className:"mr-2 h-4 w-4"}),"Live Chat"]}),a.jsxs(kr,{value:"forum",className:t==="forum"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(sl,{className:"mr-2 h-4 w-4"}),"Forum Discussions"]})]})}),a.jsx(Dr,{value:"chat",className:"mt-0",children:a.jsxs(ht,{className:"sci-fi-card min-h-[600px] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(w1,{className:"mr-2 h-5 w-5"}),"Live Community Chat Beta",a.jsxs(gt,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:[r.length," messages"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(K=>a.jsx("div",{className:`flex ${K.isCurrentUser?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] ${K.isCurrentUser?"bg-safebite-teal text-safebite-dark-blue rounded-tl-lg rounded-tr-none":"bg-safebite-card-bg-alt text-safebite-text rounded-tr-lg rounded-tl-none"} rounded-bl-lg rounded-br-lg p-3`,children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(y_,{className:"h-6 w-6 mr-2",children:a.jsx(v_,{className:K.isCurrentUser?"bg-safebite-dark-blue text-safebite-teal":"",children:K.username.charAt(0)})}),a.jsx("span",{className:"font-medium text-sm",children:K.username}),a.jsx("span",{className:"text-xs ml-2 opacity-70",children:L(K.timestamp)})]}),a.jsx("p",{children:K.text}),K.linkedProduct&&a.jsxs("div",{className:"mt-2 p-2 bg-safebite-card-bg rounded-md flex items-center",children:[a.jsx("img",{src:K.linkedProduct.image,alt:K.linkedProduct.name,className:"h-10 w-10 rounded-md object-cover mr-2"}),a.jsx("span",{className:"text-sm",children:K.linkedProduct.name})]})]})},K.id)),a.jsx("div",{ref:g})]})}),a.jsx("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Jt,{placeholder:"Type your message...",className:"sci-fi-input",value:i,onChange:K=>s(K.target.value),onKeyPress:K=>K.key==="Enter"&&k()}),a.jsx(Ie,{onClick:k,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:a.jsx(oz,{className:"h-4 w-4"})}),a.jsx(Ie,{variant:"outline",className:"sci-fi-button",children:a.jsx(cz,{className:"h-4 w-4"})})]})})]})}),a.jsx(Dr,{value:"forum",className:"mt-0",children:a.jsx("div",{className:"grid gap-6",children:o.map(K=>a.jsx(ht,{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(y_,{className:"h-10 w-10 mr-3",children:a.jsx(v_,{children:K.username.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-safebite-text",children:K.username}),a.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Posted on ",U(K.timestamp)]})]})]}),K.username==="DietSpecialist"&&a.jsxs(gt,{className:"bg-safebite-purple",children:[a.jsx(Xx,{className:"h-3 w-3 mr-1"})," Expert"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:K.title}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:K.content}),K.linkedProduct&&a.jsxs("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md flex items-center",children:[a.jsx("img",{src:K.linkedProduct.image,alt:K.linkedProduct.name,className:"h-12 w-12 rounded-md object-cover mr-3"}),a.jsx("span",{children:K.linkedProduct.name})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ie,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>D(K.id),children:[a.jsx(JQ,{className:"h-4 w-4 mr-1"}),K.likes]}),a.jsxs(Ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(w1,{className:"h-4 w-4 mr-1"}),K.replies," Replies"]})]}),a.jsxs(Ie,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>M(K.id),children:[a.jsx(V1,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})},K.id))})})]}),a.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})},kC=({data:t,title:e,dataKey:r="value",color:n="#00ffcc",height:i=300})=>a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:e}),a.jsx("div",{style:{width:"100%",height:i},children:a.jsx(g7,{width:"100%",height:"100%",children:a.jsxs(oTe,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`color${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:n,stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:n,stopOpacity:0})]})}),a.jsx(SK,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),a.jsx(iN,{dataKey:"date",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(sN,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(tl,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),a.jsx(tf,{type:"monotone",dataKey:r,stroke:n,fillOpacity:1,fill:`url(#color${r})`})]})})})]}),QK=[{id:"food_explorer",name:"Food Explorer",description:"Scan 10 different food products",icon:"🔍",level:"bronze",achieved:!1,progress:2,progressMax:10},{id:"water_tracker",name:"Hydration Hero",description:"Track your water intake for 7 consecutive days",icon:"💧",level:"silver",achieved:!1,progress:3,progressMax:7},{id:"recipe_master",name:"Recipe Master",description:"Save and try 5 healthy recipes",icon:"🍲",level:"gold",achieved:!1,progress:1,progressMax:5},{id:"community_helper",name:"Community Guide",description:"Help 3 users by answering their questions in the community",icon:"🤝",level:"bronze",achieved:!1,progress:0,progressMax:3},{id:"health_analyst",name:"Health Analyst",description:"Complete all health calculators in the HealthBox",icon:"📊",level:"silver",achieved:!0}],ZK=[{id:"first_login",name:"First Steps",description:"Log in to SafeBite for the first time",completed:!0,date:new Date(Date.now()-864e5*3),reward:{points:100}},{id:"complete_profile",name:"Getting to Know You",description:"Complete your user profile with all health data",completed:!0,date:new Date(Date.now()-864e5*2),reward:{points:150}},{id:"first_scan",name:"Food Detective",description:"Scan your first food product",completed:!0,date:new Date(Date.now()-864e5),reward:{points:50,badges:[{id:"first_scan_badge",name:"Scanner Novice",description:"First food product scanned",icon:"🔎",level:"bronze",achieved:!0}]}},{id:"first_week",name:"One Week Strong",description:"Use SafeBite for 7 consecutive days",completed:!1,reward:{points:200}},{id:"health_guru",name:"Health Guru",description:"Achieve all health goals for one week",completed:!1,reward:{points:500,badges:[{id:"health_guru_badge",name:"Health Master",description:"Achieved all health goals for a week",icon:"🏆",level:"gold",achieved:!1}]}}];QK.filter(t=>t.achieved),ZK.filter(t=>t.completed);const NTe=()=>QK,ATe=()=>ZK,kTe=()=>{const[t,e]=P.useState("healthReport"),[r,n]=P.useState(null),[i,s]=P.useState(!0),[o,c]=P.useState(""),[d,h]=P.useState(null),{toast:g}=hn(),{isGuest:y}=la(),x=Cr(At),N=On(At),C=NTe(),A=ATe();P.useEffect(()=>{(async()=>{if(y){s(!1);return}try{const pe=x.currentUser;if(!pe){s(!1);return}const ce=ar(N,"users",pe.uid),me=await bn(ce);if(me.exists()){const he=me.data();h(he),console.log("User profile loaded for reports:",he)}else console.log("No user profile found!")}catch(pe){console.error("Error fetching user profile:",pe),c(pe.message)}finally{s(!1)}})()},[y,x,N]);const k=()=>{var se,pe,ce;if((se=d==null?void 0:d.weeklyCheckin)!=null&&se.answers){const me=d.weeklyCheckin.answers,he=((pe=d.profile)==null?void 0:pe.health_goals)==="Weight Loss"?1600:((ce=d.profile)==null?void 0:ce.health_goals)==="Muscle Gain"?2200:1800,Se=me.exercise>300?1.2:me.exercise>150?1.1:1,be=me.home_cooked>15?.9:me.home_cooked>10?.95:1,ue=me.junk_food>10?1.2:me.junk_food>5?1.1:1,ge=he*Se*be*ue;return{calorieData:[{date:"Mon",value:Math.round(ge*(.9+Math.random()*.2))},{date:"Tue",value:Math.round(ge*(.9+Math.random()*.2))},{date:"Wed",value:Math.round(ge*(.9+Math.random()*.2))},{date:"Thu",value:Math.round(ge*(.9+Math.random()*.2))},{date:"Fri",value:Math.round(ge*(.9+Math.random()*.2))},{date:"Sat",value:Math.round(ge*(.9+Math.random()*.2))},{date:"Sun",value:Math.round(ge*(.9+Math.random()*.2))}],waterData:[{date:"Mon",value:me.water_intake?Math.max(1,Math.round(me.water_intake*.8)):6},{date:"Tue",value:me.water_intake?Math.max(1,Math.round(me.water_intake*.9)):5},{date:"Wed",value:me.water_intake?Math.max(1,Math.round(me.water_intake*1.1)):8},{date:"Thu",value:me.water_intake?Math.max(1,Math.round(me.water_intake*1)):7},{date:"Fri",value:me.water_intake?Math.max(1,Math.round(me.water_intake*.7)):4},{date:"Sat",value:me.water_intake?Math.max(1,Math.round(me.water_intake*1.2)):9},{date:"Sun",value:me.water_intake?Math.max(1,Math.round(me.water_intake*.9)):6}],nutrientData:[{date:"Mon",value:me.junk_food>5?70:85},{date:"Tue",value:me.junk_food>5?65:78},{date:"Wed",value:me.junk_food>5?75:92},{date:"Thu",value:me.junk_food>5?68:76},{date:"Fri",value:me.junk_food>5?72:82},{date:"Sat",value:me.junk_food>5?74:89},{date:"Sun",value:me.junk_food>5?71:86}]}}return{calorieData:[{date:"Mon",value:1800},{date:"Tue",value:1600},{date:"Wed",value:2100},{date:"Thu",value:1500},{date:"Fri",value:1900},{date:"Sat",value:2200},{date:"Sun",value:1700}],waterData:[{date:"Mon",value:6},{date:"Tue",value:5},{date:"Wed",value:8},{date:"Thu",value:7},{date:"Fri",value:4},{date:"Sat",value:9},{date:"Sun",value:6}],nutrientData:[{date:"Mon",value:85},{date:"Tue",value:78},{date:"Wed",value:92},{date:"Thu",value:76},{date:"Fri",value:82},{date:"Sat",value:89},{date:"Sun",value:86}]}},{calorieData:D,waterData:M,nutrientData:$}=k(),U=(()=>{var se;if(d!=null&&d.profile){const pe=d.profile,ce=(se=d.weeklyCheckin)==null?void 0:se.answers;let me=pe.health_goals==="Weight Loss"?1600:pe.health_goals==="Muscle Gain"?2200:1800,he=pe.health_goals==="Muscle Gain"?120:pe.health_goals==="Weight Loss"?100:80,Se=pe.health_goals==="Weight Loss"?150:pe.health_goals==="Muscle Gain"?250:200,be=pe.health_goals==="Weight Loss"?50:pe.health_goals==="Muscle Gain"?70:60;ce&&(ce.exercise>300?me+=200:ce.exercise>150&&(me+=100),ce.exercise>300?he+=20:ce.exercise>150&&(he+=10));const ue=Math.round(me*.9),ge=ce!=null&&ce.water_intake?(ce.water_intake*.25).toFixed(1):"6.5",ke=Math.round(he*.9),ze=Math.round(Se*.92),et=Math.round(be*.97),Ke=(ce==null?void 0:ce.junk_food)>5?32:22,_e=ce!=null&&ce.exercise?Math.round(ce.exercise/7):35;return[{name:"Daily Calories",value:ue.toLocaleString(),target:me.toLocaleString(),unit:"kcal",progress:Math.round(ue/me*100)},{name:"Water Intake",value:ge,target:"8",unit:"cups",progress:Math.round(parseFloat(ge)/8*100)},{name:"Protein",value:ke.toString(),target:he.toString(),unit:"g",progress:Math.round(ke/he*100)},{name:"Carbs",value:ze.toString(),target:Se.toString(),unit:"g",progress:Math.round(ze/Se*100)},{name:"Fat",value:et.toString(),target:be.toString(),unit:"g",progress:Math.round(et/be*100)},{name:"Sugar",value:Ke.toString(),target:"25",unit:"g",progress:Math.round(Ke/25*100)},{name:"Exercise",value:_e.toString(),target:"30",unit:"min",progress:Math.round(_e/30*100)}]}return[{name:"Daily Calories",value:"1,750",target:"2,000",unit:"kcal",progress:87},{name:"Water Intake",value:"6.5",target:"8",unit:"cups",progress:81},{name:"Protein",value:"72",target:"80",unit:"g",progress:90},{name:"Carbs",value:"230",target:"250",unit:"g",progress:92},{name:"Fat",value:"58",target:"60",unit:"g",progress:97},{name:"Sugar",value:"32",target:"25",unit:"g",progress:128},{name:"Exercise",value:"35",target:"30",unit:"min",progress:117}]})(),q=(()=>{var pe,ce,me,he,Se,be,ue,ge;const se=[{name:"High Sodium Foods",count:((pe=d==null?void 0:d.profile)==null?void 0:pe.health_conditions)==="Hypertension"?7:4,recommendation:"Try to reduce your sodium intake by choosing low-sodium alternatives."},{name:"Artificial Additives",count:((me=(ce=d==null?void 0:d.weeklyCheckin)==null?void 0:ce.answers)==null?void 0:me.junk_food)>5?10:7,recommendation:"Consider choosing more natural food options with fewer additives."},{name:"Added Sugar",count:((he=d==null?void 0:d.profile)==null?void 0:he.health_conditions)==="Diabetes"?8:5,recommendation:"Look for sugar-free or reduced sugar alternatives."}];return((Se=d==null?void 0:d.profile)==null?void 0:Se.health_conditions)==="Diabetes"&&se.push({name:"High Glycemic Index Foods",count:6,recommendation:"Choose low glycemic index foods to help manage blood sugar levels."}),((be=d==null?void 0:d.profile)==null?void 0:be.health_conditions)==="Heart Issues"&&se.push({name:"Trans Fats",count:3,recommendation:"Avoid foods with trans fats as they can increase risk of heart disease."}),(((ue=d==null?void 0:d.profile)==null?void 0:ue.dietary_preferences)==="Vegan"||((ge=d==null?void 0:d.profile)==null?void 0:ge.dietary_preferences)==="Vegetarian")&&se.push({name:"Hidden Animal Products",count:2,recommendation:"Watch for hidden animal-derived ingredients in processed foods."}),se})(),V=()=>{g({title:"Report Downloaded",description:"Your health report has been downloaded successfully."})},Q=se=>{n(r===se?null:se)},J=(se,pe)=>{g({title:"Shared successfully",description:`Your achievement has been shared to ${se}.`}),n(null)},ee=k().calorieData,X=k().waterData,Y=k().nutrientData;return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(vl,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i&&a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(ia,{className:"h-8 w-8 text-safebite-teal animate-spin"}),a.jsx("span",{className:"ml-2 text-safebite-text-secondary",children:"Loading your reports..."})]}),!i&&o&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx(Iu,{className:"h-12 w-12 text-red-500 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Error Loading Reports"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:o}),a.jsx(Ie,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Try Again"})]}),!i&&!o&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Reports & Achievements"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your health progress and earn badges for healthy habits"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(Ie,{onClick:V,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(OQ,{className:"mr-2 h-4 w-4"}),"Download Report"]})})]}),a.jsxs(Nc,{defaultValue:"healthReport",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(xl,{className:"grid grid-cols-3 gap-2",children:[a.jsxs(kr,{value:"healthReport",className:t==="healthReport"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(NQ,{className:"mr-2 h-4 w-4"}),"Health Report"]}),a.jsxs(kr,{value:"badges",className:t==="badges"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Xx,{className:"mr-2 h-4 w-4"}),"Badges"]}),a.jsxs(kr,{value:"achievements",className:t==="achievements"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Sg,{className:"mr-2 h-4 w-4"}),"Achievements"]})]})}),a.jsxs(Dr,{value:"healthReport",className:"mt-0",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(pi,{className:"mr-2 h-5 w-5"}),"Weekly Overview"]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Health Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Your weekly health rating"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-3xl font-bold text-safebite-teal",children:"78"}),a.jsxs("div",{className:"ml-2 text-green-400 flex items-center text-sm",children:[a.jsx(jQ,{className:"h-4 w-4 mr-1"}),"+12%"]})]})]}),a.jsx("div",{className:"space-y-4",children:U.map(se=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-safebite-text",children:se.name}),a.jsxs("span",{className:"text-safebite-text-secondary",children:[se.value," / ",se.target," ",se.unit]})]}),a.jsx(mb,{value:se.progress,className:`h-2 ${se.progress>100?se.name==="Exercise"?"bg-green-600":"bg-amber-600":""}`})]},se.name))})]})]}),a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Food Safety Analysis"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Safety Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Based on scanned products"})]}),a.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500 flex items-center justify-center text-safebite-dark-blue text-2xl font-bold",children:"6.5"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"Food safety issues found in your scanned products this week:"}),q.map((se,pe)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:se.name}),a.jsxs(gt,{className:"bg-amber-500 text-safebite-dark-blue",children:[se.count," items"]})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:se.recommendation})]},pe))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(kC,{title:"Calorie Intake",data:ee,color:"#00ffcc"}),a.jsx(kC,{title:"Water Intake (cups)",data:X,color:"#3b82f6"}),a.jsx(kC,{title:"Nutrient Score",data:Y,color:"#a855f7"})]})]}),a.jsx(Dr,{value:"badges",className:"mt-0",children:a.jsx(ht,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Xx,{className:"mr-2 h-5 w-5"}),"Your Badges"]})}),a.jsx("div",{className:"p-6",children:i?a.jsx("div",{className:"flex justify-center",children:a.jsx(ia,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading badges. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C&&C.map((se,pe)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"mb-2 text-sm text-safebite-text-secondary",children:se.category}),a.jsx(gt,{className:"mb-2 bg-amber-500 text-safebite-dark-blue",children:"Badge"}),a.jsx(Mi,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:se.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:se.description}),a.jsx(Ie,{onClick:()=>Q("badge-"+pe),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="badge-"+pe&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(Ie,{onClick:()=>J("facebook"),variant:"ghost",size:"icon",children:a.jsx(PM,{className:"h-5 w-5"})}),a.jsx(Ie,{onClick:()=>J("twitter"),variant:"ghost",size:"icon",children:a.jsx(DC,{className:"h-5 w-5"})}),a.jsx(Ie,{onClick:()=>J("instagram"),variant:"ghost",size:"icon",children:a.jsx(V1,{className:"h-5 w-5"})})]})]},pe))})})]})})}),a.jsx(Dr,{value:"achievements",className:"mt-0",children:a.jsx(ht,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Sg,{className:"mr-2 h-5 w-5"}),"Achievements"]})}),a.jsx("div",{className:"p-6",children:i?a.jsx("div",{className:"flex justify-center",children:a.jsx(ia,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading achievements. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:A&&A.map((se,pe)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx(Sg,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:se.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:se.description}),a.jsxs("p",{className:"text-safebite-text-secondary text-center mb-2",children:["Progress: ",se.progress,"%"]}),a.jsx(mb,{value:se.progress,className:"w-full mb-2"}),a.jsx(Ie,{onClick:()=>Q("achievement-"+pe),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="achievement-"+pe&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(Ie,{onClick:()=>J("facebook"),variant:"ghost",size:"icon",children:a.jsx(PM,{className:"h-5 w-5"})}),a.jsx(Ie,{onClick:()=>J("twitter"),variant:"ghost",size:"icon",children:a.jsx(DC,{className:"h-5 w-5"})}),a.jsx(Ie,{onClick:()=>J("instagram"),variant:"ghost",size:"icon",children:a.jsx(V1,{className:"h-5 w-5"})})]})]},pe))})})]})})})]})]})})]})},eM="https://safebite-backend.onrender.com/api";console.log("Backend API URL:",eM);console.log("Using API URL:",eM);const JK=t=>{let e=t.nutritionScore||"yellow";return t.nutritionScore||(t.nutrients.protein>15&&(t.nutrients.fiber||0)>3&&(t.nutrients.sugar||0)<10?e="green":(t.nutrients.fat>20||(t.nutrients.sugar||0)>15)&&(e="red")),{id:`mongodb-${t._id}`,name:t.name,brand:t.brand,calories:t.calories,nutritionScore:e,image:t.image||`https://source.unsplash.com/random/100x100/?${encodeURIComponent(t.name)}`,nutrients:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,fiber:t.nutrients.fiber,sugar:t.nutrients.sugar},details:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,sodium:t.nutrients.sodium||0,sugar:t.nutrients.sugar||0,calories:t.calories,ingredients:t.ingredients||[],allergens:t.allergens||[],additives:t.additives||[]},source:"MongoDB"}},iV=async t=>{const e=await Promise.allSettled([ETe(t),TTe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.warn("All MongoDB search methods failed or returned no results"),[]},ETe=async t=>{try{const e=`${eM}/products/search?query=${encodeURIComponent(t)}`;console.log("Searching MongoDB via API:",e);const r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Origin:window.location.origin},mode:"cors",credentials:"omit",signal:r.signal});if(console.log("API response status:",i.status),clearTimeout(n),!i.ok)throw console.warn(`API error: ${i.status} - ${i.statusText}`),new Error(`API error: ${i.status} - ${i.statusText}`);const s=await i.json();return console.log(`Found ${s.length} products from MongoDB via API`),Array.isArray(s)?s.map(o=>JK(o)):(console.warn("API did not return an array:",s),[])}catch(e){return console.error("Error searching MongoDB via API:",e),[]}},TTe=async t=>{try{console.log("Trying direct Render backend...");const e=`https://safebite-backend.onrender.com/api/products/search?query=${encodeURIComponent(t)}`,r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:r.signal});if(clearTimeout(n),!i.ok)throw new Error(`Render API error: ${i.status}`);const s=await i.json();return console.log(`Found ${s.length} products from MongoDB via Render backend`),Array.isArray(s)?s.map(o=>JK(o)):(console.warn("Render API did not return an array:",s),[])}catch(e){return console.error("Render backend search failed:",e),[]}},CTe=async t=>{try{console.log("Searching recipes from MongoDB:",t);const e=`${t} recipe`,r=await iV(e);let n=[...r];if(t.toLowerCase().indexOf("recipe")===-1){const o=await iV(t);n=[...r,...o]}return n.filter(o=>{var c,d,h,g;return((c=o.details)==null?void 0:c.ingredients)&&o.details.ingredients.length>0||((d=o.category)==null?void 0:d.toLowerCase().includes("recipe"))||((h=o.name)==null?void 0:h.toLowerCase().includes("recipe"))||t.toLowerCase().includes("recipe")&&((g=o.details)==null?void 0:g.ingredients)}).filter((o,c,d)=>c===d.findIndex(h=>h.id===o.id)).map(o=>{var d,h,g,y,x,N,C,A;let c=((d=o.details)==null?void 0:d.instructions)||[];return c.length===0&&((h=o.details)!=null&&h.ingredients)&&o.details.ingredients.length>0&&(c=tM(o.name,o.details.ingredients)),{id:o.id,title:o.name,image:o.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(o.name+" food")}`,calories:o.calories||0,servings:o.servings||4,cookTime:o.cookTime||o.cook_time||30,prepTime:o.prepTime||o.prep_time||15,healthLabels:PTe(o),source:o.source||"MongoDB",ingredients:((g=o.details)==null?void 0:g.ingredients)||[],instructions:c,nutrients:{protein:((y=o.nutrients)==null?void 0:y.protein)||0,carbs:((x=o.nutrients)==null?void 0:x.carbs)||0,fat:((N=o.nutrients)==null?void 0:N.fat)||0,fiber:((C=o.nutrients)==null?void 0:C.fiber)||0,sodium:((A=o.details)==null?void 0:A.sodium)||0}}})}catch(e){return console.error("Error searching recipes from MongoDB:",e),[]}},PTe=t=>{var r,n,i,s;const e=[];if(t.nutritionScore==="green"?e.push("Healthy"):t.nutritionScore==="red"?e.push("High-Calorie"):e.push("Balanced"),((r=t.nutrients)==null?void 0:r.protein)>15&&e.push("High-Protein"),((n=t.nutrients)==null?void 0:n.fiber)>5&&e.push("High-Fiber"),((i=t.nutrients)==null?void 0:i.fat)<5&&e.push("Low-Fat"),(s=t.details)!=null&&s.ingredients){const o=t.details.ingredients.join(" ").toLowerCase(),c=["meat","chicken","beef","pork","fish","seafood","lamb"],d=["milk","cheese","yogurt","cream","butter"];c.some(h=>o.includes(h))||(e.push("Vegetarian"),d.some(h=>o.includes(h))||e.push("Vegan"))}return e},ITe="a522a439",OTe="636a3e9b2dd910c9b39f42bfdcbcf61a",RTe="07d50733",MTe="80fcb49b500737827a9a23f7049653b9",nc=async t=>{try{console.log("Getting recipes for query:",t);try{const e=await sV(t);if(console.log(`Edamam returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("Edamam search failed:",e)}try{const e=await CTe(t);if(console.log(`MongoDB returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("MongoDB search failed:",e)}if(t.includes(" ")){const e=t.split(" ")[0];console.log(`Trying simplified query: ${e}`);try{const r=await sV(e);if(console.log(`Simplified query returned ${r.length} recipes`),r.length>0)return r}catch(r){console.error("Simplified query search failed:",r)}}return console.log("No recipes found for query:",t),[]}catch(e){return console.error("Error getting recipes:",e),[]}},sV=async t=>{try{console.log("Searching recipes from Edamam:",t);const e=await Promise.allSettled([DTe(t),LTe(t)]);let r=[];for(const n of e)n.status==="fulfilled"&&n.value.length>0&&(r=[...r,...n.value]);return r}catch(e){return console.error("Error searching recipes from Edamam:",e),[]}},DTe=async t=>{try{console.log("Searching Edamam Recipe API:",t);const e=`https://api.edamam.com/api/recipes/v2?type=public&q=${encodeURIComponent(t)}&app_id=${ITe}&app_key=${OTe}`;console.log("Edamam Recipe API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Recipe API error: ${r.status}`),new Error(`Edamam Recipe API error: ${r.status}`);const n=await r.json();return!n.hits||n.hits.length===0?[]:n.hits.map(i=>{var o,c,d,h,g,y,x,N,C,A;const s=i.recipe;return{id:`edamam-${s.uri.split("#recipe_")[1]}`,title:s.label,image:s.image,calories:Math.round(s.calories/s.yield),servings:s.yield,cookTime:s.totalTime>0?s.totalTime:30,prepTime:Math.round(s.totalTime/3)||10,healthLabels:s.healthLabels||[],source:"Edamam",ingredients:s.ingredientLines||[],instructions:tM(s.label,s.ingredientLines||[]),nutrients:{protein:Math.round(((c=(o=s.totalNutrients)==null?void 0:o.PROCNT)==null?void 0:c.quantity)/s.yield)||0,carbs:Math.round(((h=(d=s.totalNutrients)==null?void 0:d.CHOCDF)==null?void 0:h.quantity)/s.yield)||0,fat:Math.round(((y=(g=s.totalNutrients)==null?void 0:g.FAT)==null?void 0:y.quantity)/s.yield)||0,fiber:Math.round(((N=(x=s.totalNutrients)==null?void 0:x.FIBTG)==null?void 0:N.quantity)/s.yield)||0,sodium:Math.round(((A=(C=s.totalNutrients)==null?void 0:C.NA)==null?void 0:A.quantity)/s.yield)||0}}})}catch(e){return console.error("Error searching Edamam Recipe API:",e),[]}},LTe=async t=>{try{console.log("Searching Edamam Food API for recipes:",t);const e=`https://api.edamam.com/api/food-database/v2/parser?app_id=${RTe}&app_key=${MTe}&ingr=${encodeURIComponent(t)}`;console.log("Edamam Food API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Food API error: ${r.status}`),new Error(`Edamam Food API error: ${r.status}`);const n=await r.json();return!n.hints||n.hints.length===0?[]:n.hints.filter(i=>{const s=i.food;return s.category==="Generic meals"||s.category==="Generic dishes"||s.foodContentsLabel}).map(i=>{const s=i.food,o=i.measures,c=o.find(h=>h.label==="Serving")||o[0],d=s.foodContentsLabel?s.foodContentsLabel.split(";").map(h=>h.trim()):[s.label];return{id:`edamam-food-${s.foodId}`,title:s.label,image:s.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(s.label+" food")}`,calories:Math.round(s.nutrients.ENERC_KCAL)||0,servings:4,cookTime:30,prepTime:15,healthLabels:s.healthLabels||[],source:"Edamam Food",ingredients:d,instructions:tM(s.label,d),nutrients:{protein:Math.round(s.nutrients.PROCNT)||0,carbs:Math.round(s.nutrients.CHOCDF)||0,fat:Math.round(s.nutrients.FAT)||0,fiber:Math.round(s.nutrients.FIBTG)||0,sodium:Math.round(s.nutrients.NA)||0}}})}catch(e){return console.error("Error searching Edamam Food API for recipes:",e),[]}},tM=(t,e)=>{const r=[`Prepare all ingredients for ${t}.`,"Wash and chop all vegetables and herbs as needed."],n=e.some(c=>/chicken|beef|pork|turkey|lamb|meat|fish|seafood|shrimp/i.test(c)),i=e.some(c=>/vegetable|carrot|onion|pepper|tomato|potato|broccoli|spinach|lettuce|kale|cabbage/i.test(c)),s=e.some(c=>/milk|cheese|cream|yogurt|butter/i.test(c)),o=e.some(c=>/rice|pasta|noodle|bread|flour|grain|wheat|oat|barley|quinoa/i.test(c));return n&&r.push("Season the meat with salt and pepper.","Cook the meat until it reaches the appropriate internal temperature."),i&&r.push("Sauté the vegetables until tender."),o&&r.push("Cook the grains according to package instructions."),n&&i&&r.push("Combine the cooked meat and vegetables."),s&&r.push("Add dairy ingredients and stir until well incorporated."),r.push("Adjust seasoning to taste.",`Serve ${t} hot and enjoy!`),r},FTe=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(!1),[i,s]=P.useState([]),[o,c]=P.useState("all"),[d,h]=P.useState(null),[g,y]=P.useState([]),[x,N]=P.useState(null),[C,A]=P.useState(!1),{toast:k}=hn(),D=Cr(At),M=On(At),[$,L]=P.useState(null),[U,K]=P.useState([]);P.useEffect(()=>{(async()=>{if(D.currentUser)try{const Y=ar(M,"users",D.currentUser.uid),se=await bn(Y);se.exists()&&L(se.data());const pe=ar(M,"user_activities",D.currentUser.uid),ce=await bn(pe);if(ce.exists()){const me=ce.data();K(me.activities||[])}}catch(Y){console.error("Error loading user data:",Y)}})()},[D.currentUser,M]),P.useEffect(()=>{(async()=>{n(!0),h(null);try{const Y=D.currentUser;if(Y)try{const pe=ar(M,"users",Y.uid),ce=await bn(pe);ce.exists()&&ce.data().favoriteRecipes&&y(ce.data().favoriteRecipes)}catch(pe){console.error("Error loading favorite recipes:",pe)}const se=await nc("");if(s(se),se.length===0){const pe=await nc("popular");s(pe)}}catch(Y){console.error("Error loading initial recipes:",Y),s([]),h("Unable to load recipes. Please try again later.")}finally{n(!1)}})()},[D,M]);const q=async()=>{if(t.trim()){n(!0),h(null);try{console.log("Searching for recipes with query:",t);const X=await nc(t);s(X),n4(t,X);const Y=D.currentUser;if(Y)try{const se=ar(M,"users",Y.uid);await za(se,{recipeSearches:{recent:t,timestamp:new Date().toISOString(),resultCount:X.length}},{merge:!0})}catch(se){console.error("Error saving recipe search:",se)}if(X.length>0)k({title:`Found ${X.length} recipes`,description:"Here are your recipe results"});else{console.log("No results found, trying with a more generic search term");const se=t.split(" ")[0];if(se&&se!==t)try{const pe=await nc(se);if(pe.length>0){s(pe),k({title:`Found ${pe.length} recipes`,description:`Showing results for "${se}" instead`});return}}catch(pe){console.error("Error with generic search:",pe)}k({title:"No recipes found",description:"Try a different search term or check our popular recipes",variant:"default"});try{console.log("Trying popular recipes as fallback");const pe=await nc("popular");pe.length>0?(s(pe),k({title:"Showing popular recipes instead",description:"We couldn't find recipes matching your search"})):h("No recipes found. Please try a different search term.")}catch(pe){console.error("Error getting fallback recipes:",pe),h("Unable to load recipes. Please try again later.")}}}catch(X){console.error("Error searching recipes:",X),s([]),h("Unable to fetch recipes. Please try again later."),k({title:"Search Error",description:"Unable to fetch recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}}},V=async X=>{c(X),n(!0),h(null);try{if(X==="all"){const Y=await nc("popular");s(Y)}else if(X==="favorites")if(g.length>0)try{const se=(await nc("popular")).filter(pe=>g.includes(pe.id));se.length>0?s(se):(s([]),h("Your favorite recipes could not be loaded. Please try again later."))}catch(Y){console.error("Error loading favorite recipes:",Y),s([]),h("Your favorite recipes could not be loaded. Please try again later.")}else s([]),h("You have no favorite recipes yet. Click the star icon to add recipes to your favorites.");else if(X==="edamam"){const Y=await nc("popular");s(Y.filter(se=>se.source.includes("Edamam")))}else if(X==="edamam-food"){const Y=await nc("popular");s(Y.filter(se=>se.source.includes("Edamam Food")))}else{const Y=await nc("popular");s(Y)}i.length===0&&X!=="favorites"&&h("No recipes found. Please try searching for specific recipes.")}catch(Y){console.error("Error changing tab:",Y),s([]),h("Unable to load recipes. Please try again later."),k({title:"Error",description:"Unable to load recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}},Q=async X=>{const Y=D.currentUser;if(!Y){k({title:"Sign in required",description:"Please sign in to save favorite recipes",variant:"default"});return}try{let se;g.includes(X)?(se=g.filter(ce=>ce!==X),k({title:"Removed from favorites",description:"Recipe removed from your favorites"})):(se=[...g,X],k({title:"Added to favorites",description:"Recipe added to your favorites"})),y(se);const pe=ar(M,"users",Y.uid);await za(pe,{favoriteRecipes:se},{merge:!0})}catch(se){console.error("Error toggling favorite recipe:",se),k({title:"Error",description:"Unable to update favorites. Please try again.",variant:"destructive"})}},J=X=>{k({title:"Recipe saved",description:"Recipe added to your favorites"})},ee=X=>{N(X),A(!0);try{n4("view_details",[X])}catch(Y){console.error("Error tracking recipe view:",Y)}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(vl,{}),a.jsxs("main",{className:"md:ml-64 min-h-screen",children:[a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Healthy Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Discover nutritious and delicious Indian recipes tailored to your health goals"})]}),a.jsx("div",{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(xi,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(Jt,{placeholder:"Search for recipes (e.g., vegetarian curry, low-calorie)",className:"sci-fi-input pl-10",value:t,onChange:X=>e(X.target.value),onKeyDown:X=>X.key==="Enter"&&q()})]})}),a.jsxs(Ie,{onClick:q,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(xi,{className:"mr-2 h-4 w-4"}),"Search"]}),a.jsxs(Ie,{variant:"outline",className:"sci-fi-button",children:[a.jsx(tz,{className:"mr-2 h-4 w-4"}),"Filters"]})]})}),a.jsxs(Nc,{defaultValue:"all",className:"mb-6",children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(xl,{className:"grid grid-cols-3 gap-2",children:[a.jsxs(kr,{value:"all",onClick:()=>V("all"),className:o==="all"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Dx,{className:"mr-2 h-4 w-4"}),"All Recipes"]}),a.jsxs(kr,{value:"favorites",onClick:()=>V("favorites"),className:o==="favorites"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Mi,{className:"mr-2 h-4 w-4 text-yellow-400"}),"Favorites"]}),a.jsxs(kr,{value:"edamam",onClick:()=>V("edamam"),className:o==="edamam"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Ih,{className:"mr-2 h-4 w-4"}),"Edamam Recipes"]})]})}),a.jsx(Dr,{value:"all",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(bu,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(X=>a.jsxs(ht,{className:"sci-fi-card overflow-hidden hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:X.image||"https://via.placeholder.com/300x200?text=No+Image",alt:X.title,className:"h-full w-full object-cover"}),a.jsx(gt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:X.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2 line-clamp-1",children:X.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xh,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[X.calories||"N/A"," kcal"]}),a.jsx(pi,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[X.cookTime||"30"," min"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:X.healthLabels&&X.healthLabels.slice(0,2).map((Y,se)=>a.jsx(gt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:Y},se))}),a.jsxs(Ie,{variant:"outline",className:"w-full sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>ee(X),children:[a.jsx(uo,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]},X.id))})}),a.jsx(Dr,{value:"mongodb",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(bu,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(X=>X.source==="MongoDB").map(X=>a.jsxs(ht,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:X.image,alt:X.title,className:"h-full w-full object-cover"}),a.jsx(gt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:X.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:X.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xh,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[X.calories," kcal"]}),a.jsx(pi,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[X.cookTime," min"]}),a.jsx(sl,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[X.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:X.healthLabels.map((Y,se)=>a.jsx(gt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:Y},se))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Ie,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>J(X.id),children:a.jsx(wg,{className:"h-4 w-4"})})]})]})]},X.id))})}),a.jsx(Dr,{value:"edamam",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(bu,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(X=>X.source==="Edamam").map(X=>a.jsxs(ht,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:X.image,alt:X.title,className:"h-full w-full object-cover"}),a.jsx(gt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:X.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:X.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xh,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[X.calories," kcal"]}),a.jsx(pi,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[X.cookTime," min"]}),a.jsx(sl,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[X.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:X.healthLabels.map((Y,se)=>a.jsx(gt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:Y},se))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Ie,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>J(X.id),children:a.jsx(wg,{className:"h-4 w-4"})})]})]})]},X.id))})}),a.jsx(Dr,{value:"fatsecret",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(bu,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(X=>X.source==="FatSecret").map(X=>a.jsxs(ht,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:X.image,alt:X.title,className:"h-full w-full object-cover"}),a.jsx(gt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:X.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:X.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xh,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[X.calories," kcal"]}),a.jsx(pi,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[X.cookTime," min"]}),a.jsx(sl,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[X.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:X.healthLabels.map((Y,se)=>a.jsx(gt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:Y},se))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Ie,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>J(X.id),children:a.jsx(wg,{className:"h-4 w-4"})})]})]})]},X.id))})})]})]}),a.jsx(h0,{open:C,onOpenChange:A,children:a.jsx(Fy,{className:"sci-fi-card max-w-4xl",children:x&&a.jsxs(a.Fragment,{children:[a.jsxs($y,{children:[a.jsxs(By,{className:"text-2xl flex items-center",children:[a.jsx(Dx,{className:"h-6 w-6 text-safebite-teal mr-3"}),x.title]}),a.jsxs(Vy,{className:"flex flex-wrap gap-2 mt-2",children:[a.jsxs(gt,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(sl,{className:"h-3 w-3 mr-1"}),x.servings||"4"," servings"]}),a.jsxs(gt,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(pi,{className:"h-3 w-3 mr-1"}),x.cookTime||"30"," min"]}),a.jsx(gt,{className:"bg-safebite-card-bg-alt",children:x.source})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-safebite-teal/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),x.ingredients?a.jsx("ul",{className:"space-y-3 text-safebite-text-secondary",children:x.ingredients.map((X,Y)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-safebite-teal/20 text-safebite-teal text-xs font-medium mr-3",children:Y+1}),X]},Y))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Ingredient information not available"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-purple-500/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),x.instructions?a.jsx("div",{className:"text-safebite-text-secondary",children:x.instructions.map((X,Y)=>a.jsxs("div",{className:"mb-4 flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-purple-500/20 text-purple-500 text-sm font-medium mr-3",children:Y+1}),a.jsx("p",{children:X})]},Y))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Instruction information not available"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("div",{className:"flex space-x-2",children:a.jsxs(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>Q(x.id),children:[a.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Add to Favorites"]})}),a.jsx(Jle,{asChild:!0,children:a.jsx(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Close"})})]})]})})}),a.jsx(k0,{currentPage:"recipes",userData:{profile:$,recentActivity:U},autoOpen:!0,initialMessage:"Looking for recipe ideas? I can suggest recipes based on dietary preferences, ingredients you have, or health goals. What kind of recipes are you interested in?"})]})]})},$Te=({isOpen:t,onClose:e,toolId:r,toolName:n,toolData:i})=>{const[s,o]=P.useState(!0),[c,d]=P.useState(!1),{toast:h}=hn(),g=Cr(At),y=On(At),{isGuest:x}=la();if(!t)return null;const N=async()=>{if(x){h({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}d(!0);try{const C=g.currentUser;if(!C)throw new Error("User not authenticated");const A=ar(y,"users",C.uid),k=await bn(A),D=k.exists()?k.data():{};await za(A,{healthboxResults:{...D.healthboxResults,[r]:{name:n,data:i,timestamp:Date.now(),showOnDashboard:s}}},{merge:!0}),h({title:"Results saved",description:s?"Your results have been saved and will be displayed on your dashboard.":"Your results have been saved.",icon:a.jsx(gu,{className:"h-4 w-4 text-green-500"})}),e()}catch(C){console.error("Error saving results:",C),h({title:"Error",description:"Failed to save results. Please try again.",variant:"destructive",icon:a.jsx(Ki,{className:"h-4 w-4 text-red-500"})})}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(ht,{className:"w-full max-w-md mx-4 bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(Qt,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(Ie,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(qa,{className:"h-5 w-5"})}),a.jsx(Zt,{className:"text-xl font-bold text-safebite-text",children:"Save Results"})]}),a.jsxs(Mt,{className:"pt-6",children:[a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["Save your ",n," results to access them later. You can also choose to display these results on your dashboard."]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg mb-6",children:[a.jsx(Lt,{htmlFor:"show-on-dashboard",className:"text-safebite-text cursor-pointer",children:"Show on dashboard"}),a.jsx(yj,{id:"show-on-dashboard",checked:s,onCheckedChange:o})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(Ie,{variant:"outline",onClick:e,disabled:c,children:"Cancel"}),a.jsx(Ie,{onClick:N,disabled:c,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:c?a.jsx(a.Fragment,{children:a.jsx("span",{className:"animate-pulse",children:"Saving..."})}):a.jsxs(a.Fragment,{children:[a.jsx(az,{className:"mr-2 h-4 w-4"}),"Save Results"]})})]})]})]})})},BTe=({onSaveResults:t})=>{const[e,r]=P.useState(170),[n,i]=P.useState(70),[s,o]=P.useState(null),[c,d]=P.useState(""),h=()=>{if(e&&n){const g=e/100,y=n/(g*g),x=Math.round(y*10)/10;let N="";y<18.5?N="Underweight":y>=18.5&&y<25?N="Normal weight":y>=25&&y<30?N="Overweight":N="Obesity",o(x),d(N),ho("bmi","calculate")}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(B1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"BMI Calculator"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(Jt,{id:"height",type:"number",value:e,onChange:g=>r(Number(g.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(Jt,{id:"weight",type:"number",value:n,onChange:g=>i(Number(g.target.value)),className:"sci-fi-input"})]}),a.jsx(Ie,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate BMI"}),s!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Your BMI:"}),a.jsx("span",{className:"text-safebite-text font-semibold",children:s})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:c})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx(gt,{className:`
                  ${c==="Underweight"?"bg-blue-500":""}
                  ${c==="Normal weight"?"bg-green-500":""}
                  ${c==="Overweight"?"bg-orange-500":""}
                  ${c==="Obesity"?"bg-red-500":""}
                  text-white
                `,children:c}),t&&a.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>t("bmi-calculator","BMI Calculator",{bmi:s,category:c,height:e,weight:n,date:new Date().toISOString()}),children:[a.jsx(az,{className:"mr-2 h-4 w-4"}),"Save to Dashboard"]})]})]})]})})]})};var VTe=[" ","Enter","ArrowUp","ArrowDown"],zTe=[" ","Enter"],E0="Select",[oN,lN,UTe]=Jb(E0),[av,RPe]=Ha(E0,[UTe,P_]),cN=P_(),[qTe,rf]=av(E0),[HTe,WTe]=av(E0),eY=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:c,onValueChange:d,dir:h,name:g,autoComplete:y,disabled:x,required:N,form:C}=t,A=cN(e),[k,D]=P.useState(null),[M,$]=P.useState(null),[L,U]=P.useState(!1),K=Ky(h),[q=!1,V]=aa({prop:n,defaultProp:i,onChange:s}),[Q,J]=aa({prop:o,defaultProp:c,onChange:d}),ee=P.useRef(null),X=k?C||!!k.closest("form"):!0,[Y,se]=P.useState(new Set),pe=Array.from(Y).map(ce=>ce.props.value).join(";");return a.jsx(Bz,{...A,children:a.jsxs(qTe,{required:N,scope:e,trigger:k,onTriggerChange:D,valueNode:M,onValueNodeChange:$,valueNodeHasChildren:L,onValueNodeHasChildrenChange:U,contentId:ll(),value:Q,onValueChange:J,open:q,onOpenChange:V,dir:K,triggerPointerDownPosRef:ee,disabled:x,children:[a.jsx(oN.Provider,{scope:e,children:a.jsx(HTe,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(ce=>{se(me=>new Set(me).add(ce))},[]),onNativeOptionRemove:P.useCallback(ce=>{se(me=>{const he=new Set(me);return he.delete(ce),he})},[]),children:r})}),X?a.jsxs(NY,{"aria-hidden":!0,required:N,tabIndex:-1,name:g,autoComplete:y,value:Q,onChange:ce=>J(ce.target.value),disabled:x,form:C,children:[Q===void 0?a.jsx("option",{value:""}):null,Array.from(Y)]},pe):null]})})};eY.displayName=E0;var tY="SelectTrigger",rY=P.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=cN(r),o=rf(tY,r),c=o.disabled||n,d=mr(e,o.onTriggerChange),h=lN(r),g=P.useRef("touch"),[y,x,N]=AY(A=>{const k=h().filter($=>!$.disabled),D=k.find($=>$.value===o.value),M=kY(k,A,D);M!==void 0&&o.onValueChange(M.value)}),C=A=>{c||(o.onOpenChange(!0),N()),A&&(o.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return a.jsx(Vz,{asChild:!0,...s,children:a.jsx(_t.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":jY(o.value)?"":void 0,...i,ref:d,onClick:bt(i.onClick,A=>{A.currentTarget.focus(),g.current!=="mouse"&&C(A)}),onPointerDown:bt(i.onPointerDown,A=>{g.current=A.pointerType;const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(C(A),A.preventDefault())}),onKeyDown:bt(i.onKeyDown,A=>{const k=y.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&x(A.key),!(k&&A.key===" ")&&VTe.includes(A.key)&&(C(),A.preventDefault())})})})});rY.displayName=tY;var nY="SelectValue",iY=P.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...c}=t,d=rf(nY,r),{onValueNodeHasChildrenChange:h}=d,g=s!==void 0,y=mr(e,d.onValueNodeChange);return vi(()=>{h(g)},[h,g]),a.jsx(_t.span,{...c,ref:y,style:{pointerEvents:"none"},children:jY(d.value)?a.jsx(a.Fragment,{children:o}):s})});iY.displayName=nY;var GTe="SelectIcon",sY=P.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(_t.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});sY.displayName=GTe;var KTe="SelectPortal",aY=t=>a.jsx(S_,{asChild:!0,...t});aY.displayName=KTe;var Bp="SelectContent",oY=P.forwardRef((t,e)=>{const r=rf(Bp,t.__scopeSelect),[n,i]=P.useState();if(vi(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Cy.createPortal(a.jsx(lY,{scope:t.__scopeSelect,children:a.jsx(oN.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(cY,{...t,ref:e})});oY.displayName=Bp;var Zo=10,[lY,nf]=av(Bp),YTe="SelectContentImpl",cY=P.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:N,sticky:C,hideWhenDetached:A,avoidCollisions:k,...D}=t,M=rf(Bp,r),[$,L]=P.useState(null),[U,K]=P.useState(null),q=mr(e,_e=>L(_e)),[V,Q]=P.useState(null),[J,ee]=P.useState(null),X=lN(r),[Y,se]=P.useState(!1),pe=P.useRef(!1);P.useEffect(()=>{if($)return X9($)},[$]),z9();const ce=P.useCallback(_e=>{const[Ce,...Me]=X().map(Oe=>Oe.ref.current),[Be]=Me.slice(-1),Ue=document.activeElement;for(const Oe of _e)if(Oe===Ue||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Ce&&U&&(U.scrollTop=0),Oe===Be&&U&&(U.scrollTop=U.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Ue))return},[X,U]),me=P.useCallback(()=>ce([V,$]),[ce,V,$]);P.useEffect(()=>{Y&&me()},[Y,me]);const{onOpenChange:he,triggerPointerDownPosRef:Se}=M;P.useEffect(()=>{if($){let _e={x:0,y:0};const Ce=Be=>{var Ue,Oe;_e={x:Math.abs(Math.round(Be.pageX)-(((Ue=Se.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(Be.pageY)-(((Oe=Se.current)==null?void 0:Oe.y)??0))}},Me=Be=>{_e.x<=10&&_e.y<=10?Be.preventDefault():$.contains(Be.target)||he(!1),document.removeEventListener("pointermove",Ce),Se.current=null};return Se.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Me,{capture:!0})}}},[$,he,Se]),P.useEffect(()=>{const _e=()=>he(!1);return window.addEventListener("blur",_e),window.addEventListener("resize",_e),()=>{window.removeEventListener("blur",_e),window.removeEventListener("resize",_e)}},[he]);const[be,ue]=AY(_e=>{const Ce=X().filter(Ue=>!Ue.disabled),Me=Ce.find(Ue=>Ue.ref.current===document.activeElement),Be=kY(Ce,_e,Me);Be&&setTimeout(()=>Be.ref.current.focus())}),ge=P.useCallback((_e,Ce,Me)=>{const Be=!pe.current&&!Me;(M.value!==void 0&&M.value===Ce||Be)&&(Q(_e),Be&&(pe.current=!0))},[M.value]),ke=P.useCallback(()=>$==null?void 0:$.focus(),[$]),ze=P.useCallback((_e,Ce,Me)=>{const Be=!pe.current&&!Me;(M.value!==void 0&&M.value===Ce||Be)&&ee(_e)},[M.value]),et=n==="popper"?Q2:uY,Ke=et===Q2?{side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:N,sticky:C,hideWhenDetached:A,avoidCollisions:k}:{};return a.jsx(lY,{scope:r,content:$,viewport:U,onViewportChange:K,itemRefCallback:ge,selectedItem:V,onItemLeave:ke,itemTextRefCallback:ze,focusSelectedItem:me,selectedItemText:J,position:n,isPositioned:Y,searchRef:be,children:a.jsx(GI,{as:Np,allowPinchZoom:!0,children:a.jsx(WI,{asChild:!0,trapped:M.open,onMountAutoFocus:_e=>{_e.preventDefault()},onUnmountAutoFocus:bt(i,_e=>{var Ce;(Ce=M.trigger)==null||Ce.focus({preventScroll:!0}),_e.preventDefault()}),children:a.jsx(e0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:_e=>_e.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:a.jsx(et,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:_e=>_e.preventDefault(),...D,...Ke,onPlaced:()=>se(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:bt(D.onKeyDown,_e=>{const Ce=_e.ctrlKey||_e.altKey||_e.metaKey;if(_e.key==="Tab"&&_e.preventDefault(),!Ce&&_e.key.length===1&&ue(_e.key),["ArrowUp","ArrowDown","Home","End"].includes(_e.key)){let Be=X().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(_e.key)&&(Be=Be.slice().reverse()),["ArrowUp","ArrowDown"].includes(_e.key)){const Ue=_e.target,Oe=Be.indexOf(Ue);Be=Be.slice(Oe+1)}setTimeout(()=>ce(Be)),_e.preventDefault()}})})})})})})});cY.displayName=YTe;var XTe="SelectItemAlignedPosition",uY=P.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=rf(Bp,r),o=nf(Bp,r),[c,d]=P.useState(null),[h,g]=P.useState(null),y=mr(e,q=>g(q)),x=lN(r),N=P.useRef(!1),C=P.useRef(!0),{viewport:A,selectedItem:k,selectedItemText:D,focusSelectedItem:M}=o,$=P.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&h&&A&&k&&D){const q=s.trigger.getBoundingClientRect(),V=h.getBoundingClientRect(),Q=s.valueNode.getBoundingClientRect(),J=D.getBoundingClientRect();if(s.dir!=="rtl"){const Ue=J.left-V.left,Oe=Q.left-Ue,Le=q.left-Oe,vt=q.width+Le,Ft=Math.max(vt,V.width),Dt=window.innerWidth-Zo,gr=vS(Oe,[Zo,Math.max(Zo,Dt-Ft)]);c.style.minWidth=vt+"px",c.style.left=gr+"px"}else{const Ue=V.right-J.right,Oe=window.innerWidth-Q.right-Ue,Le=window.innerWidth-q.right-Oe,vt=q.width+Le,Ft=Math.max(vt,V.width),Dt=window.innerWidth-Zo,gr=vS(Oe,[Zo,Math.max(Zo,Dt-Ft)]);c.style.minWidth=vt+"px",c.style.right=gr+"px"}const ee=x(),X=window.innerHeight-Zo*2,Y=A.scrollHeight,se=window.getComputedStyle(h),pe=parseInt(se.borderTopWidth,10),ce=parseInt(se.paddingTop,10),me=parseInt(se.borderBottomWidth,10),he=parseInt(se.paddingBottom,10),Se=pe+ce+Y+he+me,be=Math.min(k.offsetHeight*5,Se),ue=window.getComputedStyle(A),ge=parseInt(ue.paddingTop,10),ke=parseInt(ue.paddingBottom,10),ze=q.top+q.height/2-Zo,et=X-ze,Ke=k.offsetHeight/2,_e=k.offsetTop+Ke,Ce=pe+ce+_e,Me=Se-Ce;if(Ce<=ze){const Ue=ee.length>0&&k===ee[ee.length-1].ref.current;c.style.bottom="0px";const Oe=h.clientHeight-A.offsetTop-A.offsetHeight,Le=Math.max(et,Ke+(Ue?ke:0)+Oe+me),vt=Ce+Le;c.style.height=vt+"px"}else{const Ue=ee.length>0&&k===ee[0].ref.current;c.style.top="0px";const Le=Math.max(ze,pe+A.offsetTop+(Ue?ge:0)+Ke)+Me;c.style.height=Le+"px",A.scrollTop=Ce-ze+A.offsetTop}c.style.margin=`${Zo}px 0`,c.style.minHeight=be+"px",c.style.maxHeight=X+"px",n==null||n(),requestAnimationFrame(()=>N.current=!0)}},[x,s.trigger,s.valueNode,c,h,A,k,D,s.dir,n]);vi(()=>$(),[$]);const[L,U]=P.useState();vi(()=>{h&&U(window.getComputedStyle(h).zIndex)},[h]);const K=P.useCallback(q=>{q&&C.current===!0&&($(),M==null||M(),C.current=!1)},[$,M]);return a.jsx(ZTe,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:N,onScrollButtonChange:K,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:a.jsx(_t.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});uY.displayName=XTe;var QTe="SelectPopperPosition",Q2=P.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Zo,...s}=t,o=cN(r);return a.jsx(zz,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q2.displayName=QTe;var[ZTe,rM]=av(Bp,{}),Z2="SelectViewport",dY=P.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=nf(Z2,r),o=rM(Z2,r),c=mr(e,s.onViewportChange),d=P.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(oN.Slot,{scope:r,children:a.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:bt(i.onScroll,h=>{const g=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:x}=o;if(x!=null&&x.current&&y){const N=Math.abs(d.current-g.scrollTop);if(N>0){const C=window.innerHeight-Zo*2,A=parseFloat(y.style.minHeight),k=parseFloat(y.style.height),D=Math.max(A,k);if(D<C){const M=D+N,$=Math.min(C,M),L=M-$;y.style.height=$+"px",y.style.bottom==="0px"&&(g.scrollTop=L>0?L:0,y.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});dY.displayName=Z2;var hY="SelectGroup",[JTe,eCe]=av(hY),tCe=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ll();return a.jsx(JTe,{scope:r,id:i,children:a.jsx(_t.div,{role:"group","aria-labelledby":i,...n,ref:e})})});tCe.displayName=hY;var fY="SelectLabel",pY=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=eCe(fY,r);return a.jsx(_t.div,{id:i.id,...n,ref:e})});pY.displayName=fY;var x_="SelectItem",[rCe,mY]=av(x_),gY=P.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,c=rf(x_,r),d=nf(x_,r),h=c.value===n,[g,y]=P.useState(s??""),[x,N]=P.useState(!1),C=mr(e,M=>{var $;return($=d.itemRefCallback)==null?void 0:$.call(d,M,n,i)}),A=ll(),k=P.useRef("touch"),D=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(rCe,{scope:r,value:n,disabled:i,textId:A,isSelected:h,onItemTextChange:P.useCallback(M=>{y($=>$||((M==null?void 0:M.textContent)??"").trim())},[]),children:a.jsx(oN.ItemSlot,{scope:r,value:n,disabled:i,textValue:g,children:a.jsx(_t.div,{role:"option","aria-labelledby":A,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:C,onFocus:bt(o.onFocus,()=>N(!0)),onBlur:bt(o.onBlur,()=>N(!1)),onClick:bt(o.onClick,()=>{k.current!=="mouse"&&D()}),onPointerUp:bt(o.onPointerUp,()=>{k.current==="mouse"&&D()}),onPointerDown:bt(o.onPointerDown,M=>{k.current=M.pointerType}),onPointerMove:bt(o.onPointerMove,M=>{var $;k.current=M.pointerType,i?($=d.onItemLeave)==null||$.call(d):k.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bt(o.onPointerLeave,M=>{var $;M.currentTarget===document.activeElement&&(($=d.onItemLeave)==null||$.call(d))}),onKeyDown:bt(o.onKeyDown,M=>{var L;((L=d.searchRef)==null?void 0:L.current)!==""&&M.key===" "||(zTe.includes(M.key)&&D(),M.key===" "&&M.preventDefault())})})})})});gY.displayName=x_;var Rx="SelectItemText",yY=P.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=rf(Rx,r),c=nf(Rx,r),d=mY(Rx,r),h=WTe(Rx,r),[g,y]=P.useState(null),x=mr(e,D=>y(D),d.onItemTextChange,D=>{var M;return(M=c.itemTextRefCallback)==null?void 0:M.call(c,D,d.value,d.disabled)}),N=g==null?void 0:g.textContent,C=P.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:N},d.value),[d.disabled,d.value,N]),{onNativeOptionAdd:A,onNativeOptionRemove:k}=h;return vi(()=>(A(C),()=>k(C)),[A,k,C]),a.jsxs(a.Fragment,{children:[a.jsx(_t.span,{id:d.textId,...s,ref:x}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Cy.createPortal(s.children,o.valueNode):null]})});yY.displayName=Rx;var vY="SelectItemIndicator",xY=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return mY(vY,r).isSelected?a.jsx(_t.span,{"aria-hidden":!0,...n,ref:e}):null});xY.displayName=vY;var J2="SelectScrollUpButton",bY=P.forwardRef((t,e)=>{const r=nf(J2,t.__scopeSelect),n=rM(J2,t.__scopeSelect),[i,s]=P.useState(!1),o=mr(e,n.onScrollButtonChange);return vi(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollTop>0;s(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(SY,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});bY.displayName=J2;var eI="SelectScrollDownButton",wY=P.forwardRef((t,e)=>{const r=nf(eI,t.__scopeSelect),n=rM(eI,t.__scopeSelect),[i,s]=P.useState(!1),o=mr(e,n.onScrollButtonChange);return vi(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<h;s(g)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(SY,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});wY.displayName=eI;var SY=P.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=nf("SelectScrollButton",r),o=P.useRef(null),c=lN(r),d=P.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return P.useEffect(()=>()=>d(),[d]),vi(()=>{var g;const h=c().find(y=>y.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),a.jsx(_t.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:bt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:bt(i.onPointerMove,()=>{var h;(h=s.onItemLeave)==null||h.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:bt(i.onPointerLeave,()=>{d()})})}),nCe="SelectSeparator",_Y=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(_t.div,{"aria-hidden":!0,...n,ref:e})});_Y.displayName=nCe;var tI="SelectArrow",iCe=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=cN(r),s=rf(tI,r),o=nf(tI,r);return s.open&&o.position==="popper"?a.jsx(Uz,{...i,...n,ref:e}):null});iCe.displayName=tI;function jY(t){return t===""||t===void 0}var NY=P.forwardRef((t,e)=>{const{value:r,...n}=t,i=P.useRef(null),s=mr(e,i),o=v0(r);return P.useEffect(()=>{const c=i.current,d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&g){const y=new Event("change",{bubbles:!0});g.call(c,r),c.dispatchEvent(y)}},[o,r]),a.jsx(t0,{asChild:!0,children:a.jsx("select",{...n,ref:s,defaultValue:r})})});NY.displayName="BubbleSelect";function AY(t){const e=Ds(t),r=P.useRef(""),n=P.useRef(0),i=P.useCallback(o=>{const c=r.current+o;e(c),function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),s=P.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function kY(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=sCe(t,Math.max(s,0));i.length===1&&(o=o.filter(h=>h!==r));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function sCe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var aCe=eY,EY=rY,oCe=iY,lCe=sY,cCe=aY,TY=oY,uCe=dY,CY=pY,PY=gY,dCe=yY,hCe=xY,IY=bY,OY=wY,RY=_Y;const qu=aCe,Hu=oCe,wc=P.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(EY,{ref:n,className:Ot("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(lCe,{asChild:!0,children:a.jsx(oI,{className:"h-4 w-4 opacity-50"})})]}));wc.displayName=EY.displayName;const MY=P.forwardRef(({className:t,...e},r)=>a.jsx(IY,{ref:r,className:Ot("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(ZV,{className:"h-4 w-4"})}));MY.displayName=IY.displayName;const DY=P.forwardRef(({className:t,...e},r)=>a.jsx(OY,{ref:r,className:Ot("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(oI,{className:"h-4 w-4"})}));DY.displayName=OY.displayName;const Sc=P.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>a.jsx(cCe,{children:a.jsxs(TY,{ref:i,className:Ot("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(MY,{}),a.jsx(uCe,{className:Ot("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(DY,{})]})}));Sc.displayName=TY.displayName;const fCe=P.forwardRef(({className:t,...e},r)=>a.jsx(CY,{ref:r,className:Ot("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));fCe.displayName=CY.displayName;const Mr=P.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(PY,{ref:n,className:Ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(hCe,{children:a.jsx(k_,{className:"h-4 w-4"})})}),a.jsx(dCe,{children:e})]}));Mr.displayName=PY.displayName;const pCe=P.forwardRef(({className:t,...e},r)=>a.jsx(RY,{ref:r,className:Ot("-mx-1 my-1 h-px bg-muted",t),...e}));pCe.displayName=RY.displayName;const mCe=()=>{const[t,e]=P.useState(30),[r,n]=P.useState("male"),[i,s]=P.useState(70),[o,c]=P.useState(170),[d,h]=P.useState("moderate"),[g,y]=P.useState(null),x=()=>{if(t&&i&&o){let N=0;r==="male"?N=88.362+13.397*i+4.799*o-5.677*t:N=447.593+9.247*i+3.098*o-4.33*t;let C=1.2;switch(d){case"sedentary":C=1.2;break;case"light":C=1.375;break;case"moderate":C=1.55;break;case"active":C=1.725;break;case"very_active":C=1.9;break}const A=Math.round(N*C);y(A),ho("calories","calculate")}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(xh,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Calorie Calculator"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(Jt,{id:"age",type:"number",value:t,onChange:N=>e(Number(N.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(qu,{value:r,onValueChange:n,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select gender"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"male",children:"Male"}),a.jsx(Mr,{value:"female",children:"Female"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(Jt,{id:"weight",type:"number",value:i,onChange:N=>s(Number(N.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(Jt,{id:"height",type:"number",value:o,onChange:N=>c(Number(N.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(qu,{value:d,onValueChange:h,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select activity level"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Mr,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Mr,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Mr,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Mr,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsx(Ie,{onClick:x,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Calories"}),g!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Calories:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[g," kcal"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Weight Loss: ",g-500," kcal"]}),a.jsxs("p",{children:["Weight Gain: ",g+500," kcal"]})]})]})]})})]})},gCe=()=>{const[t,e]=P.useState(70),[r,n]=P.useState("moderate"),[i,s]=P.useState("moderate"),[o,c]=P.useState(null),d=()=>{if(t){let h=t*30,g=1;switch(r){case"sedentary":g=1;break;case"light":g=1.1;break;case"moderate":g=1.2;break;case"active":g=1.3;break;case"very_active":g=1.4;break}let y=1;switch(i){case"cold":y=.9;break;case"moderate":y=1;break;case"hot":y=1.1;break;case"very_hot":y=1.2;break}const x=h*g*y,N=Math.round(x/100)/10;c(N),ho("water","calculate")}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(MQ,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Water Intake Calculator"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(Jt,{id:"weight",type:"number",value:t,onChange:h=>e(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(qu,{value:r,onValueChange:n,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select activity level"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Mr,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Mr,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Mr,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Mr,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"climate",className:"text-safebite-text-secondary",children:"Climate"}),a.jsxs(qu,{value:i,onValueChange:s,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select climate"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"cold",children:"Cold"}),a.jsx(Mr,{value:"moderate",children:"Moderate"}),a.jsx(Mr,{value:"hot",children:"Hot"}),a.jsx(Mr,{value:"very_hot",children:"Very Hot"})]})]})]}),a.jsx(Ie,{onClick:d,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Water Intake"}),o!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Water Intake:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," liters"]})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsxs("p",{children:["That's approximately ",Math.round(o*4)," glasses of water (250ml each)"]})})]})]})})]})},yCe=()=>{const[t,e]=P.useState(2e3),[r,n]=P.useState("maintain"),[i,s]=P.useState(null),[o,c]=P.useState(null),[d,h]=P.useState(null),g=()=>{if(t){let y=.3,x=.3,N=.4;switch(r){case"lose":y=.4,x=.3,N=.3;break;case"maintain":y=.3,x=.3,N=.4;break;case"gain":y=.25,x=.25,N=.5;break}const C=t*y,A=t*x,k=t*N,D=Math.round(C/4),M=Math.round(A/9),$=Math.round(k/4);c(D),h(M),s($),ho("macros","calculate")}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(XV,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Macro Calculator"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"calories",className:"text-safebite-text-secondary",children:"Daily Calories"}),a.jsx(Jt,{id:"calories",type:"number",value:t,onChange:y=>e(Number(y.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"goal",className:"text-safebite-text-secondary",children:"Goal"}),a.jsxs(qu,{value:r,onValueChange:n,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select goal"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"lose",children:"Lose Weight"}),a.jsx(Mr,{value:"maintain",children:"Maintain Weight"}),a.jsx(Mr,{value:"gain",children:"Gain Weight"})]})]})]}),a.jsx(Ie,{onClick:g,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Macros"}),i!==null&&o!==null&&d!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Protein:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Carbs:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[i,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Fat:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[d,"g"]})]})]}),a.jsx("div",{className:"mt-3 h-4 bg-safebite-card-bg rounded-full overflow-hidden",children:a.jsxs("div",{className:"flex h-full",children:[a.jsx("div",{className:"bg-green-500",style:{width:`${o*4/t*100}%`}}),a.jsx("div",{className:"bg-blue-500",style:{width:`${i*4/t*100}%`}}),a.jsx("div",{className:"bg-red-500",style:{width:`${d*9/t*100}%`}})]})}),a.jsxs("div",{className:"flex justify-between text-xs mt-1 text-safebite-text-secondary",children:[a.jsx("span",{children:"Protein"}),a.jsx("span",{children:"Carbs"}),a.jsx("span",{children:"Fat"})]})]})]})})]})},vCe=()=>{const[t,e]=P.useState(15),[r,n]=P.useState(5),[i,s]=P.useState(10),[o,c]=P.useState(3),[d,h]=P.useState(400),[g,y]=P.useState(null),[x,N]=P.useState(""),[C,A]=P.useState(""),k=()=>{let M=0,$=0;t<=1.6?M+=0:t<=3.2?M+=1:t<=4.8?M+=2:t<=6.4?M+=3:t<=8?M+=4:M+=5,r<=.9?M+=0:r<=1.9?M+=1:r<=2.8?M+=2:r<=3.7?M+=3:r<=4.7?M+=4:M+=5,i<=4.5?$+=0:i<=9?$+=1:i<=13.5?$+=2:i<=18?$+=3:i<=22.5?$+=4:$+=5,o<=1?$+=0:o<=2?$+=1:o<=3?$+=2:o<=4?$+=3:o<=5?$+=4:$+=5,d<=90?$+=0:d<=180?$+=1:d<=270?$+=2:d<=360?$+=3:d<=450?$+=4:$+=5;const L=M-$;y(L),L>=4?(N("A"),A("green")):L>=2?(N("B"),A("light-green")):L>=0?(N("C"),A("yellow")):L>=-2?(N("D"),A("orange")):(N("E"),A("red")),ho("nutrition_score","calculate")},D=()=>{switch(C){case"green":return"bg-green-500";case"light-green":return"bg-green-400";case"yellow":return"bg-yellow-400";case"orange":return"bg-orange-400";case"red":return"bg-red-500";default:return"bg-gray-400"}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(Ih,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Score"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"protein",className:"text-safebite-text-secondary",children:"Protein (g)"}),a.jsx(Jt,{id:"protein",type:"number",value:t,onChange:M=>e(Number(M.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"fiber",className:"text-safebite-text-secondary",children:"Fiber (g)"}),a.jsx(Jt,{id:"fiber",type:"number",value:r,onChange:M=>n(Number(M.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"sugar",className:"text-safebite-text-secondary",children:"Sugar (g)"}),a.jsx(Jt,{id:"sugar",type:"number",value:i,onChange:M=>s(Number(M.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"saturatedFat",className:"text-safebite-text-secondary",children:"Sat. Fat (g)"}),a.jsx(Jt,{id:"saturatedFat",type:"number",value:o,onChange:M=>c(Number(M.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"sodium",className:"text-safebite-text-secondary",children:"Sodium (mg)"}),a.jsx(Jt,{id:"sodium",type:"number",value:d,onChange:M=>h(Number(M.target.value)),className:"sci-fi-input"})]})]}),a.jsx(Ie,{onClick:k,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Score"}),g!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Nutrition Score:"}),a.jsx("div",{className:`w-10 h-10 rounded-full ${D()} flex items-center justify-center text-white font-bold`,children:x})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsx("p",{children:"A = Excellent nutritional quality"}),a.jsx("p",{children:"E = Poor nutritional quality"})]})]})]})})]})},xCe=()=>{const[t,e]=P.useState(170),[r,n]=P.useState("male"),[i,s]=P.useState("medium"),[o,c]=P.useState(null),[d,h]=P.useState(null),g=()=>{if(t){let y=0;r==="male"?y=50+2.3*((t-152.4)/2.54):y=45.5+2.3*((t-152.4)/2.54);let x=0;r==="male"?x=48+2.7*((t-152.4)/2.54):x=45.5+2.2*((t-152.4)/2.54);let N=0;r==="male"?N=56.2+1.41*((t-152.4)/2.54):N=53.1+1.36*((t-152.4)/2.54);const C=Math.round((y+x+N)/3);let A=1;switch(i){case"small":A=.9;break;case"medium":A=1;break;case"large":A=1.1;break}const k=Math.round(C*A);c(k);const D=Math.round(k*.9),M=Math.round(k*1.1);h({min:D,max:M}),ho("ideal_weight","calculate")}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(B1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Ideal Weight Calculator"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(Jt,{id:"height",type:"number",value:t,onChange:y=>e(Number(y.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(qu,{value:r,onValueChange:n,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select gender"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"male",children:"Male"}),a.jsx(Mr,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"bodyFrame",className:"text-safebite-text-secondary",children:"Body Frame"}),a.jsxs(qu,{value:i,onValueChange:s,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select body frame"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"small",children:"Small"}),a.jsx(Mr,{value:"medium",children:"Medium"}),a.jsx(Mr,{value:"large",children:"Large"})]})]})]})]}),a.jsx(Ie,{onClick:g,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Ideal Weight"}),o!==null&&d!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Ideal Weight:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," kg"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Healthy weight range: ",d.min," - ",d.max," kg"]}),a.jsx("p",{className:"mt-1",children:"Based on multiple medical formulas and adjusted for your body frame."})]})]})]})})]})},bCe=()=>{const[t,e]=P.useState(70),[r,n]=P.useState(170),[i,s]=P.useState(30),[o,c]=P.useState("male"),[d,h]=P.useState(80),[g,y]=P.useState(36),[x,N]=P.useState(90),[C,A]=P.useState(null),[k,D]=P.useState(""),M=()=>{if(t&&r&&i&&d&&g){let $=0;if(o==="male")$=495/(1.0324-.19077*Math.log10(d-g)+.15456*Math.log10(r))-450;else{if(!x)return;$=495/(1.29579-.35004*Math.log10(d+x-g)+.221*Math.log10(r))-450}const L=Math.round($*10)/10;A(L),o==="male"?L<6?D("Essential Fat"):L<14?D("Athletic"):L<18?D("Fitness"):L<25?D("Average"):D("Obese"):L<14?D("Essential Fat"):L<21?D("Athletic"):L<25?D("Fitness"):L<32?D("Average"):D("Obese"),ho("body_fat","calculate")}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(KQ,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Body Fat Calculator"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(qu,{value:o,onValueChange:c,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select gender"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"male",children:"Male"}),a.jsx(Mr,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(Jt,{id:"age",type:"number",value:i,onChange:$=>s(Number($.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(Jt,{id:"height",type:"number",value:r,onChange:$=>n(Number($.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(Jt,{id:"weight",type:"number",value:t,onChange:$=>e(Number($.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"neck",className:"text-safebite-text-secondary",children:"Neck (cm)"}),a.jsx(Jt,{id:"neck",type:"number",value:g,onChange:$=>y(Number($.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"waist",className:"text-safebite-text-secondary",children:"Waist (cm)"}),a.jsx(Jt,{id:"waist",type:"number",value:d,onChange:$=>h(Number($.target.value)),className:"sci-fi-input"})]}),o==="female"&&a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"hip",className:"text-safebite-text-secondary",children:"Hip (cm)"}),a.jsx(Jt,{id:"hip",type:"number",value:x,onChange:$=>N(Number($.target.value)),className:"sci-fi-input"})]})]}),a.jsx(Ie,{onClick:M,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Body Fat"}),C!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Body Fat Percentage:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[C,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:k})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Based on U.S. Navy Method"})})]})]})})]})},wCe=()=>{const[t,e]=P.useState(30),[r,n]=P.useState(70),[i,s]=P.useState("average"),[o,c]=P.useState(null),[d,h]=P.useState(null),g=()=>{if(t){const y=220-t,x=208-.7*t,N=207-.7*t,C=Math.round((y+x+N)/3);let A=0;switch(i){case"sedentary":A=-5;break;case"average":A=0;break;case"active":A=5;break;case"athlete":A=10;break}const k=C+A;c(k);const D=k-r,M={Recovery:{min:Math.round(r+D*.5),max:Math.round(r+D*.6)},"Fat Burning":{min:Math.round(r+D*.6),max:Math.round(r+D*.7)},Aerobic:{min:Math.round(r+D*.7),max:Math.round(r+D*.8)},Anaerobic:{min:Math.round(r+D*.8),max:Math.round(r+D*.9)},Maximum:{min:Math.round(r+D*.9),max:k}};h(M),ho("heart_rate","calculate")}};return a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[a.jsx(oa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Heart Rate Zones"]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(Jt,{id:"age",type:"number",value:t,onChange:y=>e(Number(y.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"restingHeartRate",className:"text-safebite-text-secondary",children:"Resting HR (bpm)"}),a.jsx(Jt,{id:"restingHeartRate",type:"number",value:r,onChange:y=>n(Number(y.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"fitnessLevel",className:"text-safebite-text-secondary",children:"Fitness Level"}),a.jsxs(qu,{value:i,onValueChange:s,children:[a.jsx(wc,{className:"sci-fi-input",children:a.jsx(Hu,{placeholder:"Select fitness level"})}),a.jsxs(Sc,{children:[a.jsx(Mr,{value:"sedentary",children:"Sedentary"}),a.jsx(Mr,{value:"average",children:"Average"}),a.jsx(Mr,{value:"active",children:"Active"}),a.jsx(Mr,{value:"athlete",children:"Athlete"})]})]})]}),a.jsx(Ie,{onClick:g,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Heart Rate Zones"}),o!==null&&d!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Max Heart Rate:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," bpm"]})]}),a.jsx("div",{className:"text-safebite-text-secondary text-sm font-medium mt-3 mb-1",children:"Training Zones:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(d).map(([y,{min:x,max:N}])=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("span",{className:"text-safebite-text-secondary",children:[y,":"]}),a.jsxs("span",{className:"text-safebite-text",children:[x," - ",N," bpm"]})]},y))})]})]})})]})},cg=({title:t,icon:e,description:r})=>a.jsxs(ht,{className:"sci-fi-card border-t-2 border-t-safebite-teal/50 shadow-md",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[e||a.jsx(Pu,{className:"mr-2 h-5 w-5 text-safebite-teal"}),t||"Health Tool"]})}),a.jsxs(Mt,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:r||"This health tool is currently under development and will be available soon."}),a.jsx("div",{className:"text-center p-4 bg-safebite-card-bg-alt rounded-md border border-safebite-teal/20",children:a.jsxs("p",{className:"text-safebite-teal flex items-center justify-center",children:[a.jsx(pi,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})})]})]}),SCe=()=>{const[t,e]=P.useState("fitness"),[r,n]=P.useState([]),[i,s]=P.useState(""),[o,c]=P.useState([]),{toast:d}=hn(),[h,g]=P.useState(!1),[y,x]=P.useState(!1),[N,C]=P.useState(!1),[A,k]=P.useState({id:"",name:"",data:null}),{isGuest:D}=la(),[M,$]=P.useState(null),[L,U]=P.useState([]),K=Cr(At),q=On(At);P.useEffect(()=>{ee()},[]),P.useEffect(()=>{(async()=>{if(!D&&K.currentUser)try{const ue=ar(q,"users",K.currentUser.uid),ge=await bn(ue);ge.exists()&&$(ge.data());const ke=ar(q,"user_activities",K.currentUser.uid),ze=await bn(ke);if(ze.exists()){const et=ze.data();U(et.activities||[])}}catch(ue){console.error("Error loading user data:",ue)}})()},[D]);const V=be=>{e(be),ho("tab",be),Sh.trackActivity("healthbox","change-tab",{tab:be})},Q=be=>{const ue=r.includes(be);n(ue?r.filter(ge=>ge!==be):[...r,be]),ho("tool",be),Sh.trackActivity("healthbox",ue?"close-tool":"open-tool",{tool:be})},J=(be,ue)=>{try{const ge=o.some(ze=>ze.id===be);let ke;ge?ke=o.filter(ze=>ze.id!==be):ke=[...o,{id:be,category:ue,addedAt:Date.now()}],c(ke),X(ke),ho("favorite",be),Sh.trackActivity("healthbox",ge?"remove-favorite":"add-favorite",{tool:be}),d({title:ge?"Removed from favorites":"Added to favorites",description:`${be} has been ${ge?"removed from":"added to"} your favorites.`,variant:"default"})}catch(ge){console.error("Error toggling favorite:",ge),d({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},ee=async()=>{try{const ue=Cr(At).currentUser;if(ue){const ge=On(At),ke=ar(ge,"userPreferences",ue.uid),ze=await bn(ke);ze.exists()&&ze.data().favoriteHealthTools&&c(ze.data().favoriteHealthTools)}}catch(be){console.error("Error loading favorite tools:",be)}},X=async be=>{try{const ge=Cr(At).currentUser;if(ge){const ke=On(At),ze=ar(ke,"userPreferences",ge.uid);await za(ze,{favoriteHealthTools:be},{merge:!0})}}catch(ue){console.error("Error saving favorite tools:",ue)}},Y=(be,ue,ge)=>{if(D){d({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}k({id:be,name:ue,data:ge}),C(!0),ho("save_results",be),Sh.trackActivity("healthbox","save-results",{tool:be})},se={fitness:[{id:"bmi-calculator",title:"BMI Calculator",icon:a.jsx(B1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(BTe,{onSaveResults:Y})},{id:"calorie-calculator",title:"Calorie Calculator",icon:a.jsx(xh,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mCe,{})},{id:"water-intake-calculator",title:"Water Intake Calculator",icon:a.jsx(RQ,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(gCe,{})},{id:"macro-calculator",title:"Macro Calculator",icon:a.jsx(XV,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(yCe,{})},{id:"ideal-weight-calculator",title:"Ideal Weight Calculator",icon:a.jsx(B1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(xCe,{})},{id:"body-fat-calculator",title:"Body Fat Calculator",icon:a.jsx(RC,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(bCe,{})}],nutrition:[{id:"nutrition-score-calculator",title:"Nutrition Score Calculator",icon:a.jsx(Mi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(vCe,{})},{id:"sleep-calculator",title:"Sleep Calculator",icon:a.jsx(pi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(cg,{title:"Sleep Calculator",icon:a.jsx(pi,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],medical:[{id:"heart-rate-calculator",title:"Heart Rate Calculator",icon:a.jsx(oa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(wCe,{})},{id:"blood-pressure-analyzer",title:"Blood Pressure Analyzer",icon:a.jsx(Pu,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(cg,{title:"Blood Pressure Analyzer",icon:a.jsx(Pu,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"stress-analyzer",title:"Stress Analyzer",icon:a.jsx(F1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(cg,{title:"Stress Analyzer",icon:a.jsx(F1,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],safety:[{id:"food-safety-checker",title:"Food Safety Checker",icon:a.jsx(QN,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(cg,{title:"Food Safety Checker",icon:a.jsx(QN,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"medication-reminder",title:"Medication Reminder",icon:a.jsx(IM,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(cg,{title:"Medication Reminder",icon:a.jsx(IM,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"disease-risk-assessment",title:"Disease Risk Assessment",icon:a.jsx(wp,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(cg,{title:"Disease Risk Assessment",icon:a.jsx(wp,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}]},pe=be=>{let ue=be;return i&&(ue=be.filter(ge=>ge.title.toLowerCase().includes(i.toLowerCase()))),h&&(ue=ue.filter(ge=>o.some(ke=>ke.id===ge.id))),ue},ce=se[t]||[],me=pe(ce),he=Object.values(se).flat(),Se=he.filter(be=>o.some(ue=>ue.id===be.id));return a.jsxs("div",{className:"flex min-h-screen bg-safebite-bg",children:[a.jsx(vl,{}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsxs("h1",{className:"text-3xl font-bold text-safebite-text mb-6",children:[a.jsx(ol,{className:"inline-block mr-2 h-6 w-6 text-safebite-teal"}),"Healthbox"]}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Explore our collection of health tools to monitor and improve your wellbeing."}),a.jsxs("div",{className:"mb-8 p-4 bg-safebite-card-bg rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(xi,{className:"absolute left-2 top-2.5 h-4 w-4 text-safebite-text-secondary"}),a.jsx(Jt,{placeholder:"Search health tools...",className:"pl-8 bg-safebite-card-bg border-safebite-card-bg-alt",value:i,onChange:be=>s(be.target.value)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yj,{id:"favorites-only",checked:h,onCheckedChange:g}),a.jsx(Lt,{htmlFor:"favorites-only",className:"text-safebite-text",children:"Show favorites only"})]})]}),a.jsxs(Nc,{defaultValue:t,onValueChange:V,className:"w-full",children:[a.jsxs(xl,{className:"grid grid-cols-5 mb-8 bg-safebite-card-bg rounded-lg overflow-hidden",children:[a.jsxs(kr,{value:"fitness",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(RC,{className:"mr-2 h-4 w-4"}),"Fitness"]}),a.jsxs(kr,{value:"nutrition",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Ih,{className:"mr-2 h-4 w-4"}),"Nutrition"]}),a.jsxs(kr,{value:"medical",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(wp,{className:"mr-2 h-4 w-4"}),"Medical"]}),a.jsxs(kr,{value:"safety",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(QN,{className:"mr-2 h-4 w-4"}),"Safety"]}),a.jsxs(kr,{value:"favorites",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(wg,{className:"mr-2 h-4 w-4"}),"Favorites"]})]}),r.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Active Tools"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(be=>{const ue=he.find(ge=>ge.id===be);return ue?a.jsxs(ht,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg",children:[a.jsxs(Qt,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[ue.icon,ue.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>J(ue.id,t),className:"h-8 w-8",children:o.some(ge=>ge.id===ue.id)?a.jsx(Mi,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(Mi,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>Q(ue.id),className:"h-8 w-8",children:a.jsx(PQ,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(Mt,{children:ue.component})]},ue.id):null})})]}),a.jsxs(Dr,{value:t,className:"mt-0",children:[me.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ki,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No tools found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:h?"You don't have any favorite tools in this category yet.":"No tools match your search criteria."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:me.map(be=>r.includes(be.id)?null:a.jsxs(ht,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(Qt,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[be.icon,be.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>J(be.id,t),className:"h-8 w-8",children:o.some(ge=>ge.id===be.id)?a.jsx(Mi,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(Mi,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>Q(be.id),className:"h-8 w-8",children:a.jsx(jx,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(Mt,{children:a.jsxs(Ie,{onClick:()=>Q(be.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(jx,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},be.id))})]}),a.jsx(Dr,{value:"favorites",className:"mt-0",children:Se.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(wg,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No favorites yet"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Star your favorite tools to access them quickly from this tab."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:Se.map(be=>r.includes(be.id)?null:a.jsxs(ht,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(Qt,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Zt,{className:"flex items-center text-safebite-text",children:[be.icon,be.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>J(be.id,"favorites"),className:"h-8 w-8",children:a.jsx(Mi,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"})}),a.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>Q(be.id),className:"h-8 w-8",children:a.jsx(jx,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(Mt,{children:a.jsxs(Ie,{onClick:()=>Q(be.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(jx,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},be.id))})})]})]})}),a.jsx($Te,{isOpen:N,onClose:()=>C(!1),toolId:A.id,toolName:A.name,toolData:A.data}),a.jsx(k0,{currentPage:"healthbox",userData:{profile:M,recentActivity:L},autoOpen:!0,initialMessage:"Welcome to Healthbox! I can help you find the right health tools for your needs. What health aspect would you like to focus on today?"})]})},_Ce=({isOpen:t,onClose:e,feature:r="this feature"})=>{const n=Jn(),[i,s]=P.useState(!1);if(!t)return null;const o=[{icon:a.jsx(gu,{className:"h-5 w-5 text-green-500"}),title:"Personalized Experience",description:"Get recommendations tailored to your health profile and preferences."},{icon:a.jsx($1,{className:"h-5 w-5 text-blue-500"}),title:"Save Your Data",description:"Track your progress over time with saved health metrics and food logs."},{icon:a.jsx(AQ,{className:"h-5 w-5 text-purple-500"}),title:"Detailed Analytics",description:"Access comprehensive charts and insights about your health journey."},{icon:a.jsx(Nu,{className:"h-5 w-5 text-orange-500"}),title:"Secure Storage",description:"Your data is securely stored and protected with Firebase Authentication."}];return a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:a.jsxs(ht,{className:"sci-fi-card max-w-md w-full relative overflow-hidden",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-safebite-teal/20 to-safebite-purple/20 rounded-lg blur-sm"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ie,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:a.jsx(qa,{className:"h-5 w-5"})}),a.jsx(Qt,{children:a.jsx(Zt,{className:"text-xl font-bold text-center",children:i?"Benefits of Creating an Account":"Login Required"})}),a.jsx(Mt,{children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4 mb-6",children:o.map((c,d)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-3 mt-0.5",children:c.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:c.title}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:c.description})]})]},d))}),a.jsx(Ie,{onClick:()=>s(!1),variant:"link",className:"text-safebite-text-secondary",children:"Back to login options"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"h-16 w-16 rounded-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx(bp,{className:"h-8 w-8 text-safebite-teal"})})}),a.jsxs("p",{className:"text-center text-safebite-text mb-6",children:["You need to be logged in to use ",r,"."]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs(Ie,{onClick:()=>n("/auth/login"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(Qx,{className:"mr-2 h-4 w-4"}),"Log In"]}),a.jsxs(Ie,{onClick:()=>n("/auth/signup"),variant:"outline",className:"border-safebite-purple text-safebite-purple hover:bg-safebite-purple/10",children:[a.jsx(dz,{className:"mr-2 h-4 w-4"}),"Create Account"]}),a.jsx(Ie,{variant:"link",className:"text-safebite-text-secondary",onClick:()=>s(!0),children:"Why should I create an account?"})]})]})}),a.jsx(Lh,{className:"flex justify-center border-t border-safebite-card-bg-alt pt-4",children:a.jsx(Ie,{variant:"ghost",className:"text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:"Continue in Guest Mode"})})]})]})})},jCe=(t,e,r)=>new Promise(n=>{setTimeout(()=>{const i=[{name:"Chia Seeds",description:"Nutrient-dense seeds high in omega-3 fatty acids, fiber, and protein.",benefits:"Supports heart health, digestion, and provides sustained energy.",category:"superfoods"},{name:"Turmeric",description:"Powerful anti-inflammatory spice with curcumin as the active ingredient.",benefits:"Reduces inflammation, supports joint health, and has antioxidant properties.",category:"spices"},{name:"Kefir",description:"Fermented dairy drink rich in probiotics and protein.",benefits:"Supports gut health, immune function, and provides calcium.",category:"dairy"}],s={vegan:[{name:"Nutritional Yeast",description:"Deactivated yeast with a cheesy flavor, rich in B vitamins.",benefits:"Provides vitamin B12, protein, and adds savory flavor to dishes.",category:"vegan"},{name:"Tempeh",description:"Fermented soybean cake with a firm texture and nutty flavor.",benefits:"High in protein, probiotics, and contains all essential amino acids.",category:"vegan"}],vegetarian:[{name:"Greek Yogurt",description:"Strained yogurt with higher protein content than regular yogurt.",benefits:"Rich in protein, probiotics, and calcium for gut and bone health.",category:"dairy"},{name:"Cottage Cheese",description:"Fresh cheese curd product with a mild flavor.",benefits:"High in protein, low in calories, and contains casein protein for slow digestion.",category:"dairy"}],keto:[{name:"MCT Oil",description:"Medium-chain triglyceride oil derived from coconut oil.",benefits:"Quickly converted to ketones, provides energy, and supports ketosis.",category:"oils"},{name:"Macadamia Nuts",description:"High-fat, low-carb nuts with a buttery flavor.",benefits:"Rich in monounsaturated fats, low in carbs, and supports heart health.",category:"nuts"}],paleo:[{name:"Grass-Fed Beef",description:"Beef from cattle fed primarily grass instead of grain.",benefits:"Higher in omega-3s, CLA, and vitamins compared to conventional beef.",category:"meats"},{name:"Coconut Flour",description:"Grain-free flour alternative made from dried coconut meat.",benefits:"High in fiber, low in carbs, and suitable for grain-free baking.",category:"flours"}]},o={"weight loss":[{name:"Green Tea Extract",description:"Concentrated form of green tea rich in catechins.",benefits:"May boost metabolism, increase fat oxidation, and provide antioxidants.",category:"supplements"},{name:"Konjac Noodles",description:"Low-calorie, high-fiber noodles made from konjac yam.",benefits:"Very low in calories, high in glucomannan fiber, and promotes fullness.",category:"pasta alternatives"}],"muscle gain":[{name:"Whey Protein Isolate",description:"Highly filtered whey protein with minimal fat and lactose.",benefits:"Fast-absorbing protein source, rich in BCAAs for muscle recovery and growth.",category:"supplements"},{name:"Tart Cherry Juice",description:"Juice from tart cherries with anti-inflammatory properties.",benefits:"May reduce exercise-induced muscle soreness and improve recovery.",category:"beverages"}],"general health":[{name:"Fermented Foods Variety Pack",description:"Assortment of kimchi, sauerkraut, and pickled vegetables.",benefits:"Rich in probiotics, supports gut health, and enhances immune function.",category:"fermented foods"},{name:"Mixed Berry Blend",description:"Frozen blend of strawberries, blueberries, raspberries, and blackberries.",benefits:"High in antioxidants, fiber, and vitamin C for overall health.",category:"fruits"}]};let c=[...i],d="These products are generally beneficial for most dietary patterns and health goals.";if(e&&s[e.toLowerCase()]&&(c=[...s[e.toLowerCase()],...c].slice(0,5),d=`Products selected specifically for ${e} dietary pattern, focusing on essential nutrients that may be needed.`),r){const h=Object.keys(o).find(g=>r.toLowerCase().includes(g));h&&o[h]&&(c=[...o[h],...c].slice(0,5),d+=` Also included products that support your ${r} goal.`)}t.length>0&&(d+=` Considered your preferences for ${t.join(", ")}.`),n({products:c.slice(0,5),explanation:d})},1500)}),NCe=({userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n=!1})=>{const[i,s]=P.useState(null),[o,c]=P.useState(!1),[d,h]=P.useState(null),{toast:g}=hn();return P.useEffect(()=>{(async()=>{if(!(!t.length&&!e&&!r)){c(!0),h(null);try{pb("gemini_product_recommendations",{userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n});const x=await jCe(t,e,r);s(x)}catch(x){console.error("Error getting AI recommendations:",x),h("Failed to generate AI recommendations. Please try again later."),g({title:"AI Recommendation Error",description:"Could not generate personalized recommendations.",variant:"destructive"})}finally{c(!1)}}})()},[t,e,r,g,n]),o?a.jsxs(ht,{className:"sci-fi-card",children:[a.jsxs(Qt,{children:[a.jsxs(Zt,{className:"flex items-center",children:[a.jsx(ol,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(eb,{children:"Generating personalized recommendations..."})]}),a.jsx(Mt,{className:"flex justify-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ia,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Our AI is analyzing your preferences and health goals"})]})})]}):d?a.jsxs(ht,{className:"sci-fi-card",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"flex items-center",children:[a.jsx(Iu,{className:"h-5 w-5 mr-2 text-red-500"}),"AI Recommendations Unavailable"]})}),a.jsx(Mt,{children:a.jsx("p",{className:"text-safebite-text-secondary",children:d})}),a.jsx(Lh,{children:a.jsx(Ie,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})})]}):i?a.jsxs(ht,{className:"sci-fi-card",children:[a.jsxs(Qt,{children:[a.jsxs(Zt,{className:"flex items-center",children:[a.jsx(ol,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(eb,{children:"Personalized suggestions based on your profile"})]}),a.jsxs(Mt,{children:[a.jsx("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt",children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary italic",children:['"',i.explanation,'"']})}),a.jsx("div",{className:"space-y-3",children:i.products.map((y,x)=>a.jsx("div",{className:"p-3 border border-safebite-card-bg-alt rounded-md hover:border-safebite-teal/50 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 mt-1",children:a.jsx(cI,{className:"h-4 w-4 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:y.name}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:y.description}),a.jsx("p",{className:"text-xs text-safebite-teal",children:y.benefits})]})]})},x))})]}),a.jsx(Lh,{children:a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Powered by AI - Recommendations based on your profile data"})})})]}):null},ju="https://safebite-backend.onrender.com",aV="https://safebite-api.onrender.com",oV=[{_id:"fallback1",name:"Organic Whole Grain Bread",brand:"Nature's Best",category:"Bakery",description:"Nutritious whole grain bread made with organic ingredients.",ingredients:["Whole wheat flour","Water","Yeast","Salt","Honey"],nutritionalInfo:{calories:80,protein:4,carbs:15,fat:1,fiber:3,sugar:1},allergens:["Wheat","Gluten"],dietaryInfo:["Vegetarian"],healthScore:8,imageUrl:"https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:3.99,tags:["Organic","Whole Grain","Bread"]},{_id:"fallback2",name:"Greek Yogurt",brand:"Healthy Dairy",category:"Dairy",description:"Creamy Greek yogurt high in protein and probiotics.",ingredients:["Milk","Live active cultures"],nutritionalInfo:{calories:120,protein:15,carbs:7,fat:5,fiber:0,sugar:5},allergens:["Milk"],dietaryInfo:["Vegetarian","Gluten-Free"],healthScore:9,imageUrl:"https://images.unsplash.com/photo-1488477181946-6428a0291777?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:2.49,tags:["Protein","Probiotic","Dairy"]},{_id:"fallback3",name:"Quinoa Salad",brand:"Fresh Meals",category:"Prepared Foods",description:"Ready-to-eat quinoa salad with vegetables and herbs.",ingredients:["Quinoa","Bell peppers","Cucumber","Olive oil","Lemon juice","Herbs"],nutritionalInfo:{calories:220,protein:8,carbs:35,fat:7,fiber:6,sugar:2},allergens:[],dietaryInfo:["Vegan","Gluten-Free"],healthScore:10,imageUrl:"https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:5.99,tags:["Vegan","Protein","Ready-to-eat"]},{_id:"fallback4",name:"Almond Butter",brand:"Nut Heaven",category:"Spreads",description:"Creamy almond butter made from roasted almonds.",ingredients:["Roasted almonds"],nutritionalInfo:{calories:190,protein:7,carbs:6,fat:17,fiber:3,sugar:1},allergens:["Tree nuts"],dietaryInfo:["Vegan","Gluten-Free"],healthScore:7,imageUrl:"https://images.unsplash.com/photo-1501012259-39cd25f18b8d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:7.99,tags:["Nut butter","Protein","Natural"]}],LY=async()=>await lV(ju)?(console.log("Main API is available"),{isAvailable:!0,activeUrl:ju}):(console.log("Main API is down, trying backup API..."),await lV(aV)?(console.log("Backup API is available"),{isAvailable:!0,activeUrl:aV}):(console.warn("Both main and backup APIs are down"),{isAvailable:!1,activeUrl:ju}));async function lV(t){try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3);let n;try{n=await fetch(`${t}/status`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch{console.log(`Error fetching ${t}/status, trying root endpoint`);try{n=await fetch(`${t}/`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch(o){return console.error(`Error fetching ${t}/: ${o}`),clearTimeout(r),!1}}if(clearTimeout(r),!n.ok)return console.warn(`API status check failed with status: ${n.status}`),!1;const i=await n.json();return i&&i.status==="API is running"?(console.log("API is available:",i),!0):(console.warn("API status check returned unexpected data:",i),!1)}catch(e){return console.error("Error checking API status:",e),!1}}const ACe=async(t="products",e=1,r=20,n="",i={products:[],total:0,page:1,totalPages:1})=>{try{const{isAvailable:s,activeUrl:o}=await LY();if(!s)return console.warn("API is not available, returning fallback data"),i;const c=new AbortController,d=setTimeout(()=>c.abort(),15e3),h=async g=>{if(!g.ok)throw new Error(`API returned status ${g.status}`);const y=await g.json();if(y&&y.products&&Array.isArray(y.products))return console.log(`Successfully fetched ${y.products.length} ${t} from API`),{products:y.products,total:y.total||y.products.length,page:y.page||e,totalPages:y.totalPages||Math.ceil((y.total||y.products.length)/r)};if(y&&Array.isArray(y))return console.log(`Successfully fetched ${y.length} ${t} from API (array format)`),{products:y,total:y.length,page:e,totalPages:Math.ceil(y.length/r)};throw console.warn(`Unexpected API response format for ${t}:`,y),new Error("Unexpected API response format")};try{const g=`${o}/api/${t}?page=${e}&limit=${r}${n?`&search=${encodeURIComponent(n)}`:""}`;console.log(`Fetching from new endpoint: ${g}`);const y=await fetch(g,{signal:c.signal,method:"GET",headers:{Accept:"application/json"}}),x=await h(y);return clearTimeout(d),x}catch(g){console.warn(`Error fetching from new endpoint: ${g}`);try{const y=t==="products"?`${o}/products`:`${o}/grocery-products`;console.log(`Falling back to legacy endpoint: ${y}`);const x=await fetch(y,{signal:c.signal,method:"GET",headers:{Accept:"application/json"}}),N=await h(x);return clearTimeout(d),N}catch(y){return console.error(`Error fetching from legacy endpoint: ${y}`),clearTimeout(d),console.warn("All fetch attempts failed, returning fallback data"),i}}}catch(s){return console.error(`Error fetching ${t}:`,s),console.warn("Error during fetch process, returning fallback data"),i}},kCe=({className:t="",onStatusChange:e})=>{const[r,n]=P.useState(null),[i,s]=P.useState(ju),[o,c]=P.useState(!1),[d,h]=P.useState(null),{toast:g}=hn(),y=async()=>{c(!0);try{const{isAvailable:x,activeUrl:N}=await LY();n(x),s(N),h(new Date),e&&e(x,N),g({title:x?"API is online":"API is offline",description:x?`Connected to the SafeBite API (${N===ju?"Primary":"Backup"})`:"Unable to connect to any API server",variant:x?"default":"destructive"})}catch(x){console.error("Error checking API status:",x),n(!1),e&&e(!1,ju)}finally{c(!1)}};return P.useEffect(()=>{y();const x=setInterval(()=>{y()},5*60*1e3);return()=>clearInterval(x)},[]),a.jsxs("div",{className:`flex items-center gap-1 ${t}`,children:[a.jsx(bI,{children:a.jsxs(Zz,{children:[a.jsx(Jz,{asChild:!0,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${r===null?"bg-gray-400 animate-pulse":r?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"ml-1 text-xs text-safebite-text-secondary",children:["API ",r===null?"...":r?"Live":"Offline"]})]})}),a.jsx(wI,{side:"bottom",children:a.jsxs("div",{className:"text-xs",children:[a.jsxs("p",{className:"font-medium",children:["API Status: ",r?"Online":"Offline"]}),r&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Using ",i===ju?"Primary":"Backup"," Server"]}),d&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Last checked: ",d.toLocaleTimeString()]})]})})]})}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:y,disabled:o,children:a.jsx(MC,{className:`h-3 w-3 ${o?"animate-spin":""}`})}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"h-6 w-6",asChild:!0,children:a.jsx("a",{href:`${i}/status`,target:"_blank",rel:"noopener noreferrer",children:a.jsx(uo,{className:"h-3 w-3"})})})]})},FY=({currentPage:t,totalPages:e,onPageChange:r,totalItems:n,itemsPerPage:i})=>{if(e<=1)return null;const s=()=>{const d=[];if(e<=5)for(let h=1;h<=e;h++)d.push(h);else{d.push(1);let h=Math.max(2,t-1),g=Math.min(e-1,t+1);t<=3&&(g=Math.min(e-1,4)),t>=e-2&&(h=Math.max(2,e-3)),h>2&&d.push("...");for(let y=h;y<=g;y++)d.push(y);g<e-1&&d.push("..."),d.push(e)}return d},o=c=>{c!==t&&c>=1&&c<=e&&r(c)};return a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(1),disabled:t===1,children:a.jsx(TQ,{className:"h-4 w-4"})}),a.jsx(Ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t-1),disabled:t===1,children:a.jsx(EQ,{className:"h-4 w-4"})}),s().map((c,d)=>c==="..."?a.jsx("span",{className:"px-2 text-safebite-text-secondary",children:"..."},`ellipsis-${d}`):a.jsx(Ie,{variant:t===c?"default":"outline",size:"icon",className:`h-8 w-8 ${t===c?"bg-safebite-teal text-safebite-dark-blue":""}`,onClick:()=>o(c),children:c},`page-${c}`)),a.jsx(Ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t+1),disabled:t===e,children:a.jsx(QV,{className:"h-4 w-4"})}),a.jsx(Ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(e),disabled:t===e,children:a.jsx(CQ,{className:"h-4 w-4"})})]}),n!==void 0&&i!==void 0&&a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Showing ",Math.min((t-1)*i+1,n)," - ",Math.min(t*i,n)," of ",n," items"]})]})},ECe=()=>{Jn();const{toast:t}=hn(),e=Cr(At),r=On(At),{isGuest:n}=la(),[i,s]=P.useState([]),[o,c]=P.useState([]),[d,h]=P.useState(!0),[g,y]=P.useState(""),[x,N]=P.useState("all"),[C,A]=P.useState("healthScore"),[k,D]=P.useState(1),[M,$]=P.useState(1),[L,U]=P.useState(0),K=20,[q,V]=P.useState([]),[Q,J]=P.useState(!0),[ee,X]=P.useState(""),[Y,se]=P.useState("all"),[pe,ce]=P.useState(1),[me,he]=P.useState(1),[Se,be]=P.useState(0),[ue,ge]=P.useState([]),[ke,ze]=P.useState(!1),[et,Ke]=P.useState(""),[_e,Ce]=P.useState([]),[Me,Be]=P.useState("products"),Ue=[{id:"all",name:"All Products"},{id:"snacks",name:"Snacks"},{id:"beverages",name:"Beverages"},{id:"dairy",name:"Dairy"},{id:"grains",name:"Grains & Cereals"},{id:"protein",name:"Protein Foods"},{id:"fruits",name:"Fruits & Vegetables"}],Oe=P.useCallback(at=>n?(Ke(at),ze(!0),!0):!1,[n,Ke,ze]);P.useEffect(()=>{(async()=>{if(e.currentUser&&!n)try{const Pt=await bn(ar(r,"users",e.currentUser.uid));if(Pt.exists()){const Wt=Pt.data(),Ir=Wt.dietary_preferences||Wt.dietaryPreferences||[],Fr=Wt.health_goals||Wt.healthGoals||"",fn=Wt.allergens||[],Xi=[...Array.isArray(Ir)?Ir:[Ir],Fr,...fn].filter(Boolean);ge(Xi);const Yt=Wt.favoriteProducts||[];Ce(Yt)}}catch(Pt){console.error("Error fetching user preferences:",Pt)}})()},[e,r,n]);const[Le,vt]=P.useState(null),Ft=async(at=1,Pt="")=>{J(!0);try{pb("grocery_page_view",{isGuest:n,page:at,search:Pt});const Wt={products:oV.slice(0,4),total:4,page:at,totalPages:1};try{console.log(`Directly fetching from dataset: ${ju}/dataset/groceryProducts`);const Ir=new AbortController,Fr=setTimeout(()=>Ir.abort(),15e3);let fn=`${ju}/dataset/groceryProducts?page=${at}&limit=${K}`;Pt&&(fn+=`&search=${encodeURIComponent(Pt)}`);const Xi=await fetch(fn,{signal:Ir.signal,method:"GET",headers:{Accept:"application/json"}});if(clearTimeout(Fr),!Xi.ok)throw new Error(`API returned status ${Xi.status}`);const Yt=await Xi.json();console.log("Grocery API response:",Yt);let yr;if(Array.isArray(Yt))yr={products:Yt,total:Yt.length,page:at,totalPages:Math.ceil(Yt.length/K)};else if(Yt.products&&Array.isArray(Yt.products))yr={products:Yt.products,total:Yt.total||Yt.products.length,page:Yt.page||at,totalPages:Yt.totalPages||Math.ceil((Yt.total||Yt.products.length)/K)};else throw new Error("Invalid response format from API");return V(yr.products),ce(yr.page),he(yr.totalPages),be(yr.total),vt(!0),console.log("Successfully loaded grocery products from API"),yr}catch(Ir){console.error("Direct grocery API call failed:",Ir),console.log("Falling back to utility function with status check");const Fr=await ACe("groceryProducts",at,K,Pt,Wt);return V(Fr.products),ce(Fr.page),he(Fr.totalPages),be(Fr.total),Fr}}catch(Wt){console.error("Error fetching grocery products:",Wt);const Ir=oV.slice(0,4);return V(Ir),ce(1),he(1),be(4),{products:Ir,total:4,page:1,totalPages:1}}finally{J(!1)}};P.useEffect(()=>{Ft(1,ee)},[]),P.useEffect(()=>{Me==="grocery"&&Ft(1,ee)},[Me,ee]);const Dt=at=>{vt(at)},gr=()=>{Ft(1,ee)};P.useEffect(()=>{if(x==="all")c(i);else{const at=i.filter(Pt=>Pt.category.toLowerCase()===x.toLowerCase());c(at)}},[x,i,c]),P.useEffect(()=>{let at=[...o];at.sort((Pt,Wt)=>{switch(C){case"healthScore":return Wt.healthScore-Pt.healthScore;case"price":return Pt.price?Wt.price?Wt.price-Pt.price:-1:1;case"name":return Pt.name.localeCompare(Wt.name);default:return 0}}),c(at)},[C,o,c]);const Zr=async at=>{if(!Oe("favorites"))try{const Pt=_e.includes(at)?_e.filter(Wt=>Wt!==at):[..._e,at];Ce(Pt),e.currentUser&&await ny(ar(r,"users",e.currentUser.uid),{favoriteProducts:Pt})}catch(Pt){console.error("Error toggling favorite:",Pt),t({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return a.jsxs("div",{className:"flex min-h-screen bg-safebite-dark-blue",children:[a.jsx(vl,{}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[d?a.jsx(ia,{className:"animate-spin h-8 w-8 text-white"}):a.jsxs(a.Fragment,{children:[a.jsx(kCe,{apiAvailable:Le,onApiStatusChange:Dt}),a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Jt,{placeholder:"Search products...",value:g,onChange:at=>y(at.target.value),className:"w-full"}),a.jsx(Ie,{onClick:handleProductSearch,className:"absolute top-1/2 right-2 -translate-y-1/2",children:a.jsx(xi,{className:"h-4 w-4"})})]})]}),a.jsxs(Nc,{defaultValue:"grocery",className:"mb-8",children:[a.jsxs(xl,{className:"grid grid-cols-2 mb-4",children:[a.jsxs(kr,{value:"grocery",className:"flex items-center",children:[a.jsx(_Q,{className:"h-4 w-4 mr-2"})," Grocery Products"]}),a.jsxs(kr,{value:"recipes",className:"flex items-center",children:[a.jsx(Ih,{className:"h-4 w-4 mr-2"})," Recipes"]})]}),a.jsx(Dr,{value:"recipes",children:a.jsx("div",{className:"grid grid-cols-1 gap-6 mb-6",children:a.jsx(NCe,{userPreferences:ue})})}),a.jsxs(Dr,{value:"grocery",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("select",{value:Y,onChange:at=>se(at.target.value),className:"w-full p-2 mb-4 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md text-safebite-text",children:Ue.map(at=>a.jsx("option",{value:at.id,children:at.name},at.id))}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Jt,{type:"text",placeholder:"Search grocery products...",value:ee,onChange:at=>X(at.target.value),className:"sci-fi-input w-full"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Ie,{onClick:gr,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 flex-shrink-0",disabled:Q,children:[Q?a.jsx(ia,{className:"h-4 w-4 animate-spin mr-1"}):a.jsx(xi,{className:"h-4 w-4 mr-1"}),"Search"]})})]})]}),Q?a.jsxs("div",{className:"flex justify-center items-center h-64",children:[a.jsx(ia,{className:"h-8 w-8 animate-spin text-safebite-teal"}),a.jsx("span",{className:"ml-2 text-safebite-text",children:"Loading grocery products..."})]}):q.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:q.map(at=>{var Pt,Wt;return a.jsxs(ht,{className:"sci-fi-card overflow-hidden flex flex-col h-full hover:shadow-neon-teal transition-all duration-300",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden bg-safebite-card-bg-alt",children:[a.jsx("img",{src:at.imageUrl||`https://source.unsplash.com/random/400x300/?${encodeURIComponent(at.name||"food")},food`,alt:at.name,className:"object-cover w-full h-full",onError:Ir=>{const Fr=at.name||"Food Product";Ir.target.src=`https://via.placeholder.com/400x300?text=${encodeURIComponent(Fr)}`}}),a.jsx(Ie,{onClick:Ir=>{Ir.stopPropagation(),Zr(at._id)},variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-black/30 backdrop-blur-sm hover:bg-black/50 text-white",children:a.jsx(oa,{className:`h-4 w-4 ${_e.includes(at._id)?"fill-safebite-teal text-safebite-teal":""}`})}),a.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded backdrop-blur-sm",children:at.category})]}),a.jsxs(Mt,{className:"flex-grow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:at.name}),a.jsxs("div",{className:"flex items-center bg-safebite-teal/10 text-safebite-teal px-1.5 py-0.5 rounded text-xs",children:[a.jsx(Mi,{className:"h-3 w-3 mr-0.5 fill-safebite-teal"}),a.jsx("span",{children:((Pt=at.healthScore)==null?void 0:Pt.toFixed(1))||"5.0"})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-2",children:at.brand}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(Wt=at.tags)==null?void 0:Wt.slice(0,3).map((Ir,Fr)=>a.jsx(gt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt",children:Ir},Fr))})]}),a.jsx(Lh,{className:"p-4 pt-0",children:a.jsx(Ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>{pb("view_grocery_details",{productId:at._id,productName:at.name})},children:"View Details"})})]},at._id)})}):a.jsx(ht,{className:"sci-fi-card mb-4",children:a.jsxs(Mt,{className:"p-6 text-center",children:[a.jsx(Ki,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No Grocery Products Found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"No grocery products match your search criteria. Try adjusting your filters or search terms."}),a.jsx(Ie,{onClick:()=>{X(""),se("all")},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Clear Search"})]})}),me>1&&a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(FY,{currentPage:pe,totalPages:me,onPageChange:at=>{ce(at),Ft(at,ee)}})})]})]})]}),ke&&a.jsx(_Ce,{isOpen:ke,onClose:()=>ze(!1),feature:et})]})]})},b_="http://10.20.65.157:10000",TCe=async()=>{try{const t=await fetch(`${b_}/`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)return console.error(`API status check failed with status ${t.status}`),!1;const e=await t.json();return console.log("API status check response:",e),e&&(e.status==="API is running"||e.status==="running"||e.api_status==="running")}catch(t){return console.error("Error checking API status:",t),!1}},CCe=async(t=1,e=20,r="",n="")=>{try{if(!await TCe())return console.warn("API is not available, returning empty data"),{products:[],total:0,page:1,totalPages:1};const s=["/grocery","/grocery-products","/api/grocery","/api/grocery-products","/dataset/grocery","/dataset/groceryProducts"];let o=null,c="",d=!1;for(const g of s){c=`${b_}${g}?page=${t}&limit=${e}`,r&&(c+=`&search=${encodeURIComponent(r)}`),n&&n.toLowerCase()!=="all"&&(c+=`&category=${encodeURIComponent(n)}`),console.log("Trying grocery endpoint:",c);try{const y=new AbortController,x=setTimeout(()=>y.abort(),5e3);if(o=await fetch(c,{method:"GET",headers:{Accept:"application/json"},signal:y.signal}),clearTimeout(x),o.ok){d=!0,console.log("Found working grocery endpoint:",c);break}}catch(y){console.warn(`Grocery endpoint ${g} failed:`,y)}}if(!d||!o){console.warn("All grocery endpoints failed, trying search endpoint as fallback");try{const g=`${b_}/search?q=${encodeURIComponent(r||"food")}&collection=grocery&limit=${e}`;console.log("Trying search fallback:",g);const y=new AbortController,x=setTimeout(()=>y.abort(),5e3);o=await fetch(g,{method:"GET",headers:{Accept:"application/json"},signal:y.signal}),clearTimeout(x),o.ok&&(console.log("Search fallback successful"),d=!0)}catch(g){console.error("Search fallback also failed:",g)}}if(!d||!o)return console.error("All endpoints failed"),{products:[],total:0,page:1,totalPages:1};const h=await o.json();if(console.log("Grocery products API response:",h),h.products&&Array.isArray(h.products))return{products:h.products.map(g=>(!g.name&&g.product&&(g.name=g.product),g._collection||(g._collection="grocery"),g)),total:h.total||0,page:h.page||t,totalPages:h.totalPages||1};if(h.results&&Array.isArray(h.results)){const g=h.results.filter(y=>y._collection==="grocery"||y.product||y.category==="Grocery");return{products:g.map(y=>(!y.name&&y.product&&(y.name=y.product),y._collection||(y._collection="grocery"),y)),total:g.length,page:t,totalPages:Math.ceil(g.length/e)}}else return Array.isArray(h)?{products:h.map(g=>(!g.name&&g.product&&(g.name=g.product),g._collection||(g._collection="grocery"),g)),total:h.length,page:t,totalPages:Math.ceil(h.length/e)}:(console.warn("Unexpected API response format:",h),{products:[],total:0,page:t,totalPages:1})}catch(i){return console.error("Error fetching grocery products:",i),{products:[],total:0,page:1,totalPages:1}}},PCe=()=>{Jn();const{toast:t}=hn(),e=Cr(At),r=On(At),{isGuest:n}=la(),[i,s]=P.useState([]),[o,c]=P.useState(!0),[d,h]=P.useState(""),[g,y]=P.useState("all"),[x,N]=P.useState(1),[C,A]=P.useState(1),[k,D]=P.useState(0),M=20,[$,L]=P.useState([]),U=[{id:"all",name:"All Products"},{id:"Bakery, Cakes & Dairy",name:"Bakery & Dairy"},{id:"Beverages",name:"Beverages"},{id:"Snacks & Branded Foods",name:"Snacks"},{id:"Foodgrains, Oil & Masala",name:"Foodgrains & Oil"},{id:"Fruits & Vegetables",name:"Fruits & Vegetables"},{id:"Beauty & Hygiene",name:"Beauty & Hygiene"},{id:"Cleaning & Household",name:"Household"},{id:"Kitchen, Garden & Pets",name:"Kitchen & Pets"},{id:"Gourmet & World Food",name:"Gourmet Food"},{id:"Baby Care",name:"Baby Care"}];P.useEffect(()=>{(async()=>{if(e.currentUser&&!n)try{const J=await bn(ar(r,"users",e.currentUser.uid));if(J.exists()){const X=J.data().favoriteProducts||[];L(X)}}catch(J){console.error("Error fetching user favorites:",J)}})()},[e,r,n]);const K=async(Q=1,J="",ee="all")=>{c(!0);try{pb("grocery_page_view",{isGuest:n,page:Q,search:J,category:ee});const Y=await CCe(Q,M,J,ee!=="all"?ee:""),se=Y.products.map(pe=>(!pe.name&&pe.product&&(pe.name=pe.product),pe._collection||(pe._collection="grocery"),pe));s(se),N(Y.page),A(Y.totalPages),D(Y.total),se.length===0?t(J?{title:"No products found",description:`No grocery products match "${J}". Try a different search term.`,variant:"destructive"}:ee!=="all"?{title:"No products in category",description:`No grocery products found in the "${ee}" category.`,variant:"default"}:{title:"API Connection Issue",description:"Could not retrieve grocery products from the database. The API may be experiencing issues.",variant:"destructive"}):J&&t({title:"Search Results",description:`Found ${se.length} grocery products matching "${J}".`,variant:"default"})}catch(X){console.error("Error fetching grocery products:",X),t({title:"Backend API Error",description:"Could not connect to the grocery products database. The backend API may be down or experiencing issues.",variant:"destructive"})}finally{c(!1)}};P.useEffect(()=>{K(1,d)},[]);const q=()=>{K(1,d,g)};P.useEffect(()=>{K(1,d,g)},[g]);const V=async Q=>{if(n){t({title:"Guest Mode",description:"Please log in to save favorites.",variant:"default"});return}try{const J=$.includes(Q)?$.filter(ee=>ee!==Q):[...$,Q];L(J),e.currentUser&&await ny(ar(r,"users",e.currentUser.uid),{favoriteProducts:J})}catch(J){console.error("Error toggling favorite:",J),t({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(vl,{}),a.jsxs("main",{className:"md:ml-64 min-h-screen",children:[a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text",children:"Grocery Products"}),a.jsx(gt,{variant:"outline",className:"text-safebite-teal border-safebite-teal",children:"MongoDB"})]}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for grocery items and get detailed nutritional information"})]}),a.jsx(ht,{className:"sci-fi-card mb-6",children:a.jsxs(Mt,{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Jt,{type:"text",placeholder:"Search grocery products...",value:d,onChange:Q=>h(Q.target.value),className:"sci-fi-input w-full",onKeyDown:Q=>{Q.key==="Enter"&&q()}})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Ie,{onClick:q,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 flex-shrink-0",disabled:o,children:[o?a.jsx(ia,{className:"h-4 w-4 animate-spin mr-1"}):a.jsx(xi,{className:"h-4 w-4 mr-1"}),"Search"]})})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:U.map(Q=>a.jsx(Ie,{variant:g===Q.id?"default":"outline",className:g===Q.id?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"text-safebite-text-secondary border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt/50",onClick:()=>y(Q.id),children:Q.name},Q.id))})]})}),o?a.jsxs("div",{className:"flex justify-center items-center h-64",children:[a.jsx(ia,{className:"h-8 w-8 animate-spin text-safebite-teal"}),a.jsx("span",{className:"ml-2 text-safebite-text",children:"Loading grocery products..."})]}):i.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"text-safebite-text",children:[a.jsx("span",{className:"font-medium",children:k})," grocery products found"]}),a.jsxs(Ie,{variant:"outline",className:"text-safebite-text-secondary border-safebite-card-bg-alt",onClick:()=>{h(""),y("all"),K(1,"")},children:[a.jsx(tz,{className:"h-4 w-4 mr-1"})," Clear Filters"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:i.map(Q=>{var Se;const J=Q.name||Q.product||"Unknown Product",ee=Q.brand||Q.Brand||"Generic Brand",X=Q.category||Q.sub_category||Q.Category||"Grocery",Y=Q.type||Q.Type||"",se=Q.rating||Q.healthScore||4,pe=Q.price||Q.sale_price||null,ce=Q.market_price||null,me=encodeURIComponent(J.replace("Unknown Product","food")),he=Q.imageUrl||`https://source.unsplash.com/random/400x300/?${me},food`;return a.jsxs(ht,{className:"sci-fi-card hover:border-safebite-teal/50 transition-all duration-300 flex flex-col h-full shadow-lg hover:shadow-xl",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg bg-safebite-card-bg-alt",children:[a.jsx("img",{src:he,alt:J,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:be=>{be.target.src=`https://via.placeholder.com/400x300?text=${encodeURIComponent(J)}`}}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs("div",{className:"flex items-center bg-safebite-teal/80 text-safebite-dark-blue px-2 py-1 rounded-full backdrop-blur-sm text-xs font-medium",children:[a.jsx(Mi,{className:"h-3 w-3 mr-1 fill-safebite-dark-blue"}),a.jsx("span",{children:typeof se=="number"?se.toFixed(1):"4.0"})]})}),a.jsx(Ie,{onClick:()=>V(Q._id),variant:"ghost",size:"icon",className:"absolute top-2 left-2 bg-black/30 backdrop-blur-sm hover:bg-black/50 text-white rounded-full h-8 w-8 p-1",children:a.jsx(oa,{className:`h-4 w-4 ${$.includes(Q._id)?"fill-safebite-teal text-safebite-teal":""}`})}),a.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded backdrop-blur-sm",children:X})]}),a.jsxs(Mt,{className:"flex-grow p-4",children:[a.jsx("h3",{className:"font-medium text-safebite-text mb-1 line-clamp-2",children:J}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-2",children:ee}),pe&&a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("span",{className:"text-safebite-teal font-medium",children:["₹",pe]}),ce&&ce>pe&&a.jsxs("span",{className:"text-safebite-text-secondary line-through text-xs",children:["₹",ce]})]}),Q.description&&a.jsx("p",{className:"text-safebite-text-secondary text-xs mt-2 line-clamp-2",children:Q.description}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[(Se=Q.tags)==null?void 0:Se.slice(0,2).map((be,ue)=>a.jsx(gt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt",children:be},ue)),Y&&a.jsx(gt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt",children:Y})]})]}),a.jsx(Lh,{className:"p-4 pt-0",children:a.jsxs(Ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 flex items-center justify-center gap-1",onClick:()=>{pb("view_grocery_details",{productId:Q._id,productName:J,productCategory:X}),t({title:"Product Details",description:`Viewing details for ${J}`,variant:"default"})},children:[a.jsx(Ou,{className:"h-4 w-4"}),"View Details"]})})]},Q._id)})}),C>1&&a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(FY,{currentPage:x,totalPages:C,onPageChange:Q=>{N(Q),K(Q,d)}})})]}):a.jsx(ht,{className:"sci-fi-card mb-4",children:a.jsxs(Mt,{className:"p-6 text-center",children:[a.jsx(Ki,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No Grocery Products Found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"No grocery products match your search criteria. Try adjusting your filters or search terms."}),a.jsx("p",{className:"text-safebite-text-secondary text-xs mb-4",children:"Note: The backend API may be experiencing issues. Please try again later or contact support if the problem persists."}),a.jsx(Ie,{onClick:()=>{h(""),y("all"),K(1,"")},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Clear Search"}),a.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 bg-black/20 px-3 py-1.5 rounded-full text-xs",children:[a.jsx($1,{className:"h-3 w-3 text-safebite-teal"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"MongoDB Atlas Collection: Grocery Products"})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 bg-black/20 px-3 py-1.5 rounded-full text-xs",children:[a.jsx(XQ,{className:"h-3 w-3 text-safebite-teal"}),a.jsxs("span",{className:"text-safebite-text-secondary",children:["API Status: ",o?"Checking...":"Connection Failed"]})]}),a.jsxs("p",{className:"mt-4 text-xs text-safebite-text-secondary",children:["Backend URL: ",b_]})]})})]}),a.jsx(K_,{})]})]})},ICe=({name:t,image:e,calories:r,nutritionScore:n,nutrients:i={},onClick:s,className:o})=>{const c={green:{bg:"bg-green-500",text:"text-green-500",icon:a.jsx(VQ,{className:"h-4 w-4 text-green-500"})},yellow:{bg:"bg-yellow-500",text:"text-yellow-500",icon:a.jsx(xh,{className:"h-4 w-4 text-yellow-500"})},red:{bg:"bg-red-500",text:"text-red-500",icon:a.jsx(Ki,{className:"h-4 w-4 text-red-500"})}},d={green:"Healthy",yellow:"Moderate",red:"High Calorie"};return a.jsx("div",{className:Ot("sci-fi-card p-4 cursor-pointer hover:border-safebite-teal/50 transition-all duration-300",o),onClick:s,children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 rounded-md overflow-hidden mr-4 border border-safebite-card-bg-alt",children:[e?a.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx("span",{className:"text-safebite-text-secondary text-xs",children:"No image"})}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 ${c[n].bg} h-2`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-safebite-text font-semibold mb-1 line-clamp-1",children:t}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xh,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:[r," calories"]})]}),a.jsx("div",{className:"flex items-center mb-2",children:a.jsxs("div",{className:"flex items-center mr-3",children:[c[n].icon,a.jsx("span",{className:`text-xs ml-1 ${c[n].text}`,children:d[n]})]})}),i&&(i.protein||i.carbs||i.fat)&&a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2 text-xs text-safebite-text-secondary",children:[i.protein!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Protein:"})," ",i.protein,"g"]}),i.carbs!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Carbs:"})," ",i.carbs,"g"]}),i.fat!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fat:"})," ",i.fat,"g"]})]})]})]})})},OCe=({food:t,onBack:e,onClose:r,onAddToTracker:n=()=>{},onAddTag:i=()=>{},onToggleFavorite:s=()=>{},isFavorite:o=!1,tags:c=[],aiAnalysis:d="",isAnalysisLoading:h=!1})=>{const g=e||r||(()=>{}),[y,x]=P.useState(""),[N,C]=P.useState(!1),{name:A,calories:k,nutritionScore:D,details:M,brand:$,apiSource:L,source:U}=t;t.nutrients;const K=()=>{y.trim()&&(i(t.id,y.trim()),x(""),C(!1))};return a.jsxs("div",{className:"sci-fi-card p-6 max-w-5xl mx-auto bg-safebite-card-bg border-2 border-safebite-teal/30 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs(Ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary -ml-2",onClick:g,children:[a.jsx(GV,{className:"mr-1 h-4 w-4"}),"Back"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>s(t.id),children:a.jsx(Mi,{className:`h-4 w-4 ${o?"text-yellow-500 fill-yellow-500":""}`})}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>C(!N),children:a.jsx(cz,{className:"h-4 w-4"})}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",children:a.jsx(V1,{className:"h-4 w-4"})})]})]}),N&&a.jsxs("div",{className:"mb-4 flex",children:[a.jsx("input",{type:"text",value:y,onChange:q=>x(q.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:q=>{q.key==="Enter"&&K()}}),a.jsx(Ie,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:K,children:"Add"})]}),c.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:c.map(q=>a.jsx(gt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:q},q))}),a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-3xl font-bold text-safebite-text mb-2",children:t.name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gt,{className:`px-3 py-1 ${D==="green"?"bg-green-500/20 text-green-500 border-green-500":D==="yellow"?"bg-yellow-500/20 text-yellow-500 border-yellow-500":"bg-red-500/20 text-red-500 border-red-500"}`,children:D==="green"?"Healthy Choice":D==="yellow"?"Moderate":"Use Caution"}),(M==null?void 0:M.servingSize)&&a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:["Serving size: ",M.servingSize]})]})]}),t.image&&a.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-safebite-card-bg-alt flex-shrink-0",children:a.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})})]}),a.jsxs(Nc,{defaultValue:"nutrition",className:"w-full mb-6",children:[a.jsxs(xl,{className:"grid grid-cols-4 mb-4",children:[a.jsx(kr,{value:"nutrition",children:"Nutrition"}),a.jsx(kr,{value:"ingredients",children:"Ingredients"}),a.jsx(kr,{value:"health",children:"Health"}),a.jsx(kr,{value:"ai-analysis",children:"AI Analysis"})]}),a.jsxs(Dr,{value:"nutrition",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Calories"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(M==null?void 0:M.calories)||k," kcal"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Protein"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(M==null?void 0:M.protein)||(t.nutrients&&typeof t.nutrients.protein=="number"?t.nutrients.protein:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Carbs"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(M==null?void 0:M.carbs)||(t.nutrients&&typeof t.nutrients.carbs=="number"?t.nutrients.carbs:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fat"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(M==null?void 0:M.fat)||(t.nutrients&&typeof t.nutrients.fat=="number"?t.nutrients.fat:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sodium"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(M==null?void 0:M.sodium)||(t.nutrients&&typeof t.nutrients.sodium=="number"?t.nutrients.sodium:0),"mg"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sugar"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(M==null?void 0:M.sugar)||(t.nutrients&&typeof t.nutrients.sugar=="number"?t.nutrients.sugar:0),"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fiber"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(M==null?void 0:M.fiber)||(t.nutrients&&typeof t.nutrients.fiber=="number"?t.nutrients.fiber:0),"g"]})]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt/50 rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm mb-1",children:"Nutrition Score"}),a.jsx("div",{className:"h-2 bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${D==="green"?"bg-green-500":D==="yellow"?"bg-yellow-500":"bg-red-500"}`,style:{width:D==="green"?"90%":D==="yellow"?"50%":"20%"}})}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary mt-1",children:[a.jsx("span",{children:"Poor"}),a.jsx("span",{children:"Moderate"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary text-right",children:["Data source: ",L||U||"Unknown"]})]}),a.jsxs(Dr,{value:"ingredients",className:"space-y-4",children:[M!=null&&M.ingredients&&M.ingredients.length>0?a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Ingredients List"}),a.jsx("p",{className:"text-safebite-text-secondary",children:M.ingredients.join(", ")})]}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No ingredient information available"})}),(M==null?void 0:M.additives)&&M.additives.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Additives"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:M.additives.map(q=>a.jsx(gt,{variant:"outline",className:"border-red-500 text-red-500",children:q},q))})]})]}),a.jsxs(Dr,{value:"health",className:"space-y-4",children:[(M==null?void 0:M.allergens)&&M.allergens.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Allergens"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:M.allergens.map(q=>a.jsxs(gt,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[a.jsx(Ki,{className:"mr-1 h-3 w-3"})," ",q]},q))})]}),D==="red"&&a.jsx(ht,{className:"bg-red-500/10 border-red-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ki,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-red-400 mb-1",children:"Health Concern"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product contains high levels of sugar and artificial additives which may impact your health goals."})]})]})}),D==="green"&&a.jsx(ht,{className:"bg-green-500/10 border-green-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(gu,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-green-400 mb-1",children:"Healthy Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is a great fit for your health goals. It contains nutritious ingredients and minimal processing."})]})]})}),D==="yellow"&&a.jsx(ht,{className:"bg-yellow-500/10 border-yellow-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ki,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-yellow-500 mb-1",children:"Moderate Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is acceptable in moderation. Be mindful of portion sizes and frequency of consumption."})]})]})})]}),a.jsx(Dr,{value:"ai-analysis",className:"space-y-4",children:h?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(ia,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Analyzing food item..."})]}):d?a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-md",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(KV,{className:"h-5 w-5 text-safebite-teal mr-2"}),a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"AI Nutritional Analysis"})]}),a.jsx("div",{className:"text-safebite-text-secondary",children:d.split(`
`).map((q,V)=>/^\d+\.\s/.test(q)||q.includes(":")?a.jsx("h5",{className:"font-semibold text-safebite-teal mt-3 mb-1",children:q},V):q.trim().startsWith("•")||q.trim().startsWith("-")?a.jsxs("div",{className:"flex items-start ml-2 mb-1",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("p",{children:q.replace(/^[•\-]\s*/,"")})]},V):q.trim()?a.jsx("p",{className:"mb-2",children:q},V):a.jsx("div",{className:"h-2"},V))})]}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No AI analysis available"})})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[a.jsxs(ht,{className:"p-4 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:a.jsx(Fa,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-orange-500",children:"Zomato + Swiggy"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Find this food on delivery apps"})]})]}),a.jsxs(Ie,{disabled:!0,className:"w-full mt-3 bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[a.jsx(pi,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})]}),a.jsxs(ht,{className:"p-4 border border-safebite-teal/30 bg-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-safebite-teal to-blue-500 flex items-center justify-center mr-3",children:a.jsx(wg,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-safebite-teal",children:"Add to Tracker"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Track your daily nutrition"})]})]}),a.jsxs(Ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>n(t),children:[a.jsx(jx,{className:"mr-2 h-4 w-4"}),"Add to Tracker"]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Ie,{variant:"outline",className:"sci-fi-button",onClick:g,children:"Back to Results"}),a.jsx(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>n(t),children:"Add to Tracker"})]})]})},RCe=({onScan:t,onUpload:e,onClose:r})=>{const[n,i]=P.useState("scanner"),[s,o]=P.useState(!1),[c,d]=P.useState(null),[h,g]=P.useState(!1),y=P.useRef(null),x=P.useRef(null),N=P.useRef(null),C=async()=>{try{d(null);const L=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});y.current&&(y.current.srcObject=L,o(!0))}catch(L){console.error("Error accessing camera:",L),d("Could not access camera. Please check permissions."),o(!1)}},A=()=>{y.current&&y.current.srcObject&&(y.current.srcObject.getTracks().forEach(K=>K.stop()),y.current.srcObject=null,o(!1))},k=()=>{if(y.current&&x.current){const L=y.current,U=x.current,K=U.getContext("2d");if(K){U.width=L.videoWidth,U.height=L.videoHeight,K.drawImage(L,0,0,U.width,U.height);const q=U.toDataURL("image/jpeg");A(),t(q)}}},D=L=>{L.target.files&&L.target.files[0]&&e(L.target.files[0])},M=L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?g(!0):L.type==="dragleave"&&g(!1)},$=L=>{L.preventDefault(),L.stopPropagation(),g(!1),L.dataTransfer.files&&L.dataTransfer.files[0]&&e(L.dataTransfer.files[0])};return de.useEffect(()=>()=>{A()},[]),a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:n==="scanner"?"Scan Food Barcode":"Upload Food Image"}),a.jsx(Ie,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(qa,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex space-x-2 mb-4",children:[a.jsxs(Ie,{variant:n==="scanner"?"default":"outline",className:n==="scanner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("scanner"),A()},children:[a.jsx(lz,{className:"mr-2 h-4 w-4"}),"Scanner"]}),a.jsxs(Ie,{variant:n==="upload"?"default":"outline",className:n==="upload"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("upload"),A()},children:[a.jsx(BQ,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),n==="scanner"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:s?a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 border-2 border-safebite-teal/50 pointer-events-none",children:a.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-safebite-teal/50"})})]}):a.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:c?a.jsxs("div",{className:"text-center p-4",children:[a.jsx(gt,{variant:"outline",className:"bg-red-500/10 text-red-500 mb-2",children:"Error"}),a.jsx("p",{className:"text-safebite-text-secondary",children:c})]}):a.jsxs(Ie,{onClick:C,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(YV,{className:"mr-2 h-4 w-4"}),"Start Camera"]})})}),a.jsx("canvas",{ref:x,className:"hidden"}),s&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Ie,{variant:"outline",onClick:A,children:"Cancel"}),a.jsx(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:k,children:"Scan Barcode"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:"Position the barcode within the frame and hold steady"})]}),n==="upload"&&a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${h?"border-safebite-teal bg-safebite-teal/5":"border-safebite-card-bg-alt"}`,onDragEnter:M,onDragOver:M,onDragLeave:M,onDrop:$,children:[a.jsx(eZ,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text mb-2",children:"Drag and drop a food image here"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"or click to select a file"}),a.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:D,className:"hidden"}),a.jsx(Ie,{variant:"outline",onClick:()=>{var L;return(L=N.current)==null?void 0:L.click()},children:"Select Image"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPG, PNG, WEBP"})]})]})]})})},MCe=["64b66d05","83bf3c12","a742d2c9"];console.log("Edamam API Key loaded:","Available");console.log("CalorieNinjas API Key loaded:","Available");console.log("Backup API Keys available:",MCe.length);const ug=(t,e)=>{try{const r=localStorage.getItem("userFoodInteractions"),n=r?JSON.parse(r):[];n.push({type:t,details:e,timestamp:Date.now()});const i=n.slice(-100);localStorage.setItem("userFoodInteractions",JSON.stringify(i)),console.log(`Tracked user interaction: ${t}`,e)}catch(r){console.error("Error tracking user interaction:",r)}},DCe="xxtcYPKPQyJ4NascI0BlQZNMmleexcaUMxrIPOAJ",LCe="https://api.calorieninjas.com/v1";let v1={calorieNinjas:{name:"CalorieNinjas",isAvailable:!0,lastChecked:new Date},fatSecret:{name:"FatSecret",isAvailable:!0,lastChecked:new Date}};const FCe=async t=>{try{const e=await fetch(`${LCe}/nutrition?query=${encodeURIComponent(t)}`,{method:"GET",headers:{"X-Api-Key":DCe,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`CalorieNinjas API error: ${e.status}`);const r=await e.json();return v1.calorieNinjas.isAvailable=!0,v1.calorieNinjas.lastChecked=new Date,r.items.map((n,i)=>({id:`cn-${i}-${Date.now()}`,name:n.name,calories:n.calories,serving_size:`${n.serving_size_g}g`,nutrients:{protein:n.protein_g,carbs:n.carbohydrates_total_g,fat:n.fat_total_g,fiber:n.fiber_g,sugar:n.sugar_g,sodium:n.sodium_mg},source:"CalorieNinjas"}))}catch(e){return console.error("Error searching CalorieNinjas:",e),v1.calorieNinjas.isAvailable=!1,v1.calorieNinjas.lastChecked=new Date,[]}},nM="https://safebite-backend.onrender.com/api",$Ce=async t=>{try{if(!t||t.trim()==="")return{error:"Search query is required"};const e=await fetch(`${nM}/search?q=${encodeURIComponent(t)}`);if(!e.ok){if(e.status===404)return{products:[],message:"No products found matching your search"};throw new Error(`API error: ${e.status}`)}return{products:await e.json(),success:!0}}catch(e){return console.error("Error searching MongoDB products:",e),{error:"Failed to search products. Please try again later.",details:e instanceof Error?e.message:String(e)}}},BCe=async t=>{try{const e=await fetch(`${nM}/product/${t}`);if(!e.ok){if(e.status===404)return{error:"Product not found"};throw new Error(`API error: ${e.status}`)}return{product:await e.json(),success:!0}}catch(e){return console.error("Error fetching MongoDB product:",e),{error:"Failed to fetch product details. Please try again later.",details:e instanceof Error?e.message:String(e)}}},$Y=async()=>{try{const t=await fetch(`${nM}/status`);if(!t.ok)throw new Error(`API error: ${t.status}`);return{status:await t.json(),success:!0}}catch(t){return console.error("Error checking MongoDB API status:",t),{error:"Failed to check API status. Please try again later.",details:t instanceof Error?t.message:String(t)}}},VCe={searchProducts:$Ce,getProductById:BCe,checkApiStatus:$Y},zCe=({userProfile:t})=>{Jn();const{toast:e}=hn(),{isGuest:r}=la(),[n,i]=P.useState("food"),[s,o]=P.useState(""),[c,d]=P.useState(!1),[h,g]=P.useState([]),[y,x]=P.useState([]),[N,C]=P.useState(null),[A,k]=P.useState(null),[D,M]=P.useState(null),[$,L]=P.useState(!1),[U,K]=P.useState(!1),[q,V]=P.useState(!1),[Q,J]=P.useState(()=>{if(!r)try{const _e=localStorage.getItem("foodSearchHistory");if(_e){const Ce=JSON.parse(_e);if(Array.isArray(Ce))return Ce.length>0&&typeof Ce[0]=="object"&&Ce[0].query?Ce.map(Me=>Me.query):Ce}}catch(_e){console.error("Error parsing search history:",_e)}return[]}),[ee,X]=P.useState(null),[Y,se]=P.useState([]),pe=Cr(At),ce=On(At);P.useEffect(()=>{(async()=>{if(!r&&pe.currentUser)try{const Ce=ar(ce,"users",pe.currentUser.uid),Me=await bn(Ce);Me.exists()&&X(Me.data());const Be=ar(ce,"user_activities",pe.currentUser.uid),Ue=await bn(Be);if(Ue.exists()){const Oe=Ue.data();se(Oe.activities||[])}}catch(Ce){console.error("Error loading user data:",Ce)}})()},[r,pe.currentUser,ce]),P.useEffect(()=>{(async()=>{try{const Ce=await $Y();M(Ce)}catch(Ce){console.error("Error checking API status:",Ce),M({error:"Failed to check API status."})}})()},[]);const me=async()=>{if(!s.trim()){e({title:"Empty Search",description:"Please enter a food item to search",variant:"destructive"});return}d(!0),C(null),L(!1);try{ug("search",{query:s});const _e=await VCe.searchProducts(s);if(_e.success&&_e.products&&_e.products.length>0){const Me=_e.products.map(Ue=>{let Oe="yellow";const Le=Ue.nutritionalInfo||{},vt=(Le==null?void 0:Le.protein)||0,Ft=(Le==null?void 0:Le.fiber)||0,Dt=(Le==null?void 0:Le.sugar)||0,gr=(Le==null?void 0:Le.fat)||0;vt>15&&Ft>3&&Dt<10?Oe="green":(gr>20||Dt>15)&&(Oe="red");const Zr=Ue.imageUrl||"https://source.unsplash.com/featured/?encodeURIComponent(item.name)},food";return{id:Ue._id||`mongo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:Ue.name,calories:Le.calories||0,nutritionScore:Oe,nutrients:{protein:Le.protein||0,carbs:Le.carbs||0,fat:Le.fat||0,fiber:Le.fiber||0,sugar:Le.sugar||0,sodium:Le.sodium||0},source:"MongoDB",image:Zr,details:{protein:Le.protein||0,carbs:Le.carbs||0,fat:Le.fat||0,sodium:Le.sodium||0,sugar:Le.sugar||0,calories:Ue.calories||0,ingredients:Ue.ingredients||[],allergens:Ue.allergens||[],additives:Ue.additives||[],servingSize:Ue.servingSize||"100g",nutritionScore:Oe,brand:Ue.brand,category:Ue.category}}});g(Me),L(!1);const Be=[...Q];if(!Be.includes(s)&&(Be.unshift(s),Be.length>5&&Be.pop(),J(Be),!r))try{localStorage.setItem("foodSearchHistory",JSON.stringify(Be))}catch(Ue){console.error("Error saving search history:",Ue)}e({title:"Search Complete",description:`Found ${Me.length} results from MongoDB for "${s}"`});return}const Ce=await FCe(s);if(Ce&&Ce.length>0){const Me=Ce.map(Ue=>{let Oe="yellow";const Le=Ue.nutrients||{},vt=(Le==null?void 0:Le.protein)||0,Ft=(Le==null?void 0:Le.fiber)||0,Dt=(Le==null?void 0:Le.sugar)||0,gr=(Le==null?void 0:Le.fat)||0;return vt>15&&Ft>3&&Dt<10?Oe="green":(gr>20||Dt>15)&&(Oe="red"),{id:Ue.id||`food-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:Ue.name,calories:Ue.calories,nutritionScore:Oe,nutrients:{protein:Le.protein||0,carbs:Le.carbs||0,fat:Le.fat||0,fiber:Le.fiber||0,sugar:Le.sugar||0,sodium:Le.sodium||0},source:"CalorieNinjas",image:"https://source.unsplash.com/featured/?encodeURIComponent(item.name)},food",details:{protein:Le.protein||0,carbs:Le.carbs||0,fat:Le.fat||0,sodium:Le.sodium||0,sugar:Le.sugar||0,calories:Ue.calories,ingredients:[],allergens:[],additives:[],servingSize:Ue.serving_size||"100g",nutritionScore:Oe}}}),Be=[...Q];if(!Be.includes(s)&&(Be.unshift(s),Be.length>5&&Be.pop(),J(Be),!r))try{localStorage.setItem("foodSearchHistory",JSON.stringify(Be))}catch(Ue){console.error("Error saving search history:",Ue)}g(Me),L(!1),e({title:"Search Complete",description:`Found ${Ce.length} results for "${s}"`})}else g([]),L(!0),e({title:"No Results",description:`No results found for "${s}". Try a different search term.`,variant:"default"})}catch(_e){console.error("Search error:",_e),g([]),L(!0),e({title:"Search Error",description:"There was a problem with your search. Please try again.",variant:"destructive"})}finally{d(!1)}},he=async()=>{if(!s.trim()){e({title:"Empty Search",description:"Please enter a recipe to search",variant:"destructive"});return}d(!0),L(!1);try{ug("recipe_search",{query:s});const _e=[{title:`${s.charAt(0).toUpperCase()+s.slice(1)} Pasta`,ingredients:"2 cups pasta|1 tbsp olive oil|1 onion, chopped|2 cloves garlic, minced|1 can diced tomatoes|1/2 tsp salt|1/4 tsp black pepper|Fresh basil leaves",servings:"4 Servings",instructions:"1. Cook pasta according to package directions. 2. Heat oil in a large skillet over medium heat. 3. Add onion and garlic, cook until softened. 4. Add tomatoes, salt, and pepper. Simmer for 10 minutes. 5. Drain pasta and toss with sauce. 6. Garnish with fresh basil."},{title:`Healthy ${s.charAt(0).toUpperCase()+s.slice(1)} Bowl`,ingredients:"1 cup quinoa|2 cups vegetable broth|1 cup chickpeas, drained and rinsed|1 avocado, sliced|1 cup cherry tomatoes, halved|1/4 cup red onion, diced|2 tbsp lemon juice|2 tbsp olive oil|Salt and pepper to taste",servings:"2 Servings",instructions:"1. Rinse quinoa under cold water. 2. In a medium saucepan, bring vegetable broth to a boil. 3. Add quinoa, chickpeas, avocado, tomatoes, and red onion. 4. Fluff with a fork and let cool slightly. 5. In a large bowl, combine quinoa, chickpeas, avocado, tomatoes, and red onion. 6. Whisk together lemon juice, olive oil, salt, and pepper. 7. Pour dressing over quinoa mixture and toss to combine."},{title:`${s.charAt(0).toUpperCase()+s.slice(1)} Stir Fry`,ingredients:"2 tbsp vegetable oil|1 lb chicken breast, cut into strips|2 cups mixed vegetables (bell peppers, broccoli, carrots)|3 cloves garlic, minced|1 tbsp ginger, grated|3 tbsp soy sauce|1 tbsp honey|1 tsp sesame oil|2 green onions, sliced|Sesame seeds for garnish",servings:"3 Servings",instructions:"1. Heat oil in a large wok or skillet over high heat. 2. Add chicken and cook until no longer pink, about 5-6 minutes. 3. Add vegetables, garlic, and ginger. Stir-fry for 3-4 minutes until vegetables are crisp-tender. 4. In a small bowl, whisk together soy sauce, honey, and sesame oil. 5. Pour sauce over chicken and vegetables. Cook for 1-2 minutes until sauce thickens slightly. 6. Garnish with green onions and sesame seeds."}];try{const Ce=await oW(s);if(Ce&&Array.isArray(Ce)&&Ce.length>0){x(Ce),L(!1),e({title:"Recipe Search Complete",description:`Found ${Ce.length} recipes for "${s}"`});return}}catch(Ce){console.error("API recipe search error:",Ce)}x(_e),L(!1),e({title:"Recipe Search Complete",description:`Found ${_e.length} recipes for "${s}"`})}catch(_e){console.error("Recipe search error:",_e),x([]),L(!0),e({title:"Recipe Search Error",description:"There was a problem with your recipe search. Please try again.",variant:"destructive"})}finally{d(!1)}},Se=()=>{n==="food"?me():n==="recipes"&&he()},be=_e=>{C(_e),ug("view_food_details",{foodId:_e.id,foodName:_e.name})},ue=_e=>{k(_e),V(!0),ug("view_recipe_details",{recipeName:_e.title})},ge=()=>{K(!0)},ke=async _e=>{d(!0),C(null),K(!1),e({title:"Processing Image",description:"Analyzing the scanned image..."});try{ug("scan_barcode",{}),setTimeout(()=>{e({title:"Scan Complete",description:"This feature is coming soon!"}),d(!1)},2e3)}catch(Ce){console.error("Scan error:",Ce),e({title:"Scan Error",description:"There was a problem scanning the barcode. Please try again.",variant:"destructive"}),d(!1)}},ze=async _e=>{d(!0),C(null),K(!1),e({title:"Processing Image",description:"Analyzing the uploaded image..."});try{ug("upload_image",{fileName:_e.name}),setTimeout(()=>{e({title:"Upload Complete",description:"This feature is coming soon!"}),d(!1)},2e3)}catch(Ce){console.error("Upload error:",Ce),e({title:"Upload Error",description:"There was a problem analyzing the image. Please try again.",variant:"destructive"}),d(!1)}},et=()=>c?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(bu,{size:"lg"})}):$?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Iu,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Results Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[`We couldn't find any food matching "`,s,'"']}),a.jsx(Ie,{variant:"outline",className:"sci-fi-button",onClick:()=>L(!1),children:"Try a Different Search"})]}):h.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(_e=>a.jsx(ICe,{name:_e.name,calories:_e.calories,nutritionScore:_e.nutritionScore,nutrients:_e.nutrients,image:_e.image,onClick:()=>be(_e)},_e.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ih,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Search for Food"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Enter a food item to get detailed nutrition information"})]}),Ke=()=>c?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(bu,{size:"lg"})}):$?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/10 animate-pulse opacity-75"}),a.jsx(Iu,{className:"h-16 w-16 text-red-500 mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Recipes Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:[`We couldn't find any recipes matching "`,s,'". Try a different search term or check out these suggestions.']}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-6",children:[a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),he()},children:'Try "pasta"'}),a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),he()},children:'Try "curry"'}),a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),he()},children:'Try "chicken"'}),a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),he()},children:'Try "vegetarian"'})]}),a.jsx(Ie,{variant:"outline",className:"sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>L(!1),children:"Try a Different Search"})]}):y.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:y.map((_e,Ce)=>{const Me=_e.ingredients.split("|"),Be=Me.slice(0,3),Ue=Me.length-3,Oe=_e.instructions.split(".").slice(0,2).join(".")+"...";return a.jsx(ht,{className:"sci-fi-card overflow-hidden border-2 border-safebite-teal/30 hover:border-safebite-teal/70 hover:shadow-lg transition-all duration-300 bg-safebite-card-bg/90 h-full flex flex-col",children:a.jsxs(Mt,{className:"p-6 relative z-10 flex-grow flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx(Dx,{className:"h-5 w-5 text-safebite-teal"})}),a.jsx("h3",{className:"text-xl font-bold text-safebite-text",children:_e.title})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsxs(gt,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(sl,{className:"h-3 w-3 mr-1"}),_e.servings]}),a.jsxs(gt,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(pi,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-safebite-teal mr-2 flex-shrink-0"}),"Ingredients"]}),a.jsxs("ul",{className:"text-safebite-text-secondary text-sm space-y-1",children:[Be.map((Le,vt)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:Le.trim()})]},vt)),Ue>0&&a.jsxs("li",{className:"text-xs text-safebite-text-secondary italic mt-1",children:["+",Ue," more ingredients"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-purple-500 mr-2 flex-shrink-0"}),"Instructions"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm line-clamp-2",children:Oe})]}),a.jsx("div",{className:"mt-auto pt-4 flex justify-end",children:a.jsxs(Ie,{className:"sci-fi-button bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",onClick:()=>ue(_e),children:[a.jsx(uo,{className:"h-4 w-4 mr-2"}),"View Details"]})})]})},Ce)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/10 animate-ping opacity-75"}),a.jsx(r0,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Discover Delicious Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:"Enter a dish name, ingredient, or cuisine type to find amazing recipes tailored to your search"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-4",children:[a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),i("recipes"),he()},children:'Try "pasta"'}),a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),i("recipes"),he()},children:'Try "curry"'}),a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),i("recipes"),he()},children:'Try "chicken"'}),a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),i("recipes"),he()},children:'Try "vegetarian"'})]})]});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(vl,{userProfile:t}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-6",children:"Nutrition Search"}),a.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xi,{className:"h-5 w-5 text-safebite-text-secondary"})}),a.jsx(Jt,{type:"text",placeholder:n==="food"?"Search for food...":"Search for recipes...",className:"pl-10 bg-safebite-card-bg border-safebite-card-bg-alt focus:border-safebite-teal",value:s,onChange:_e=>o(_e.target.value),onKeyDown:_e=>_e.key==="Enter"&&Se()})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{onClick:Se,className:"bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",children:"Search"}),a.jsxs(Ie,{variant:"outline",className:"border-safebite-teal text-safebite-teal hover:bg-safebite-teal/20",onClick:ge,children:[a.jsx(YV,{className:"h-4 w-4 mr-2"}),"Scan"]})]})]}),a.jsxs(Nc,{defaultValue:n,onValueChange:i,className:"w-full",children:[a.jsxs(xl,{className:"grid grid-cols-2 mb-8 bg-safebite-card-bg rounded-lg overflow-hidden",children:[a.jsxs(kr,{value:"food",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Ih,{className:"mr-2 h-4 w-4"}),"Food Search"]}),a.jsxs(kr,{value:"recipes",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Dx,{className:"mr-2 h-4 w-4"}),"Recipes"]})]}),a.jsx(Dr,{value:"food",className:"mt-0",children:N?a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(OCe,{food:N,onClose:()=>C(null)})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:et()}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(ht,{className:"sci-fi-card h-full",children:[a.jsx(Qt,{children:a.jsx(Zt,{className:"text-safebite-text",children:"Food Details"})}),a.jsx(Mt,{className:"text-center py-12",children:a.jsxs("div",{className:"text-safebite-text-secondary",children:[a.jsx(JV,{className:"h-16 w-16 mx-auto mb-4 text-safebite-text-secondary opacity-50"}),a.jsx("p",{children:"Select a food item to view detailed nutrition information"})]})})]})})]})}),a.jsx(Dr,{value:"recipes",className:"mt-0",children:Ke()})]}),D&&a.jsx("div",{className:"mt-8 p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-center",children:[D.success?a.jsx(k_,{className:"h-5 w-5 text-green-500 mr-2"}):a.jsx(Ki,{className:"h-5 w-5 text-yellow-500 mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:D.success?"MongoDB API is connected and working properly":"MongoDB API is currently unavailable. Using backup data sources."})]})})]})}),U&&a.jsx(RCe,{onScan:ke,onUpload:ze,onClose:()=>K(!1)}),a.jsx(h0,{open:q,onOpenChange:V,children:A&&a.jsxs(Fy,{className:"max-w-4xl bg-safebite-card-bg border-safebite-teal/30",children:[a.jsx($y,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-4",children:a.jsx(Dx,{className:"h-6 w-6 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx(By,{className:"text-2xl font-bold text-safebite-text",children:A.title}),a.jsxs(Vy,{className:"text-safebite-text-secondary flex flex-wrap gap-2 mt-2",children:[a.jsxs(gt,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx(sl,{className:"h-3 w-3 mr-1"}),A.servings]}),a.jsxs(gt,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(pi,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]})]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),a.jsx("ul",{className:"space-y-2",children:A.ingredients.split("|").map((_e,Ce)=>a.jsxs("li",{className:"flex items-start text-safebite-text",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2"}),_e.trim()]},Ce))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),a.jsx("div",{className:"text-safebite-text space-y-2",children:A.instructions.split(".").filter(_e=>_e.trim()).map((_e,Ce)=>a.jsxs("p",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-purple-500/20 text-purple-500 text-xs font-medium mr-2 mt-0.5",children:Ce+1}),_e.trim(),"."]},Ce))})]})]}),a.jsx("div",{className:"p-4 flex justify-end border-t border-safebite-card-bg-alt",children:a.jsx(Ie,{onClick:()=>V(!1),className:"bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",children:"Close"})})]})})]})},UCe=()=>{const t=Gu();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safebite-dark-blue px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold gradient-text mb-4",children:"404"}),a.jsxs("div",{className:"mb-8 inline-block p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:[a.jsx("p",{className:"text-xl text-safebite-text mb-4",children:"Page not found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsx(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",asChild:!0,children:a.jsxs(Nr,{to:"/",children:[a.jsx(nz,{className:"mr-2 h-4 w-4"}),"Return to Home"]})})]})})},qCe=()=>{const t=Jn(),{toast:e}=hn(),r=Cr(At),n=On(At),i=new nl,[s,o]=P.useState(!1),[c,d]=P.useState(""),h=async()=>{o(!0),d("");try{const y=(await FI(r,i)).user;(await bn(ar(n,"adminUsers",y.email))).exists()?(localStorage.setItem("isAdmin","true"),t("/admin/panel")):(e({title:"Access Denied",description:"You are not authorized to access the admin panel.",variant:"destructive"}),d("Access Denied: You are not an admin."),await r.signOut())}catch(g){console.error("Admin login error:",g),e({title:"Login Failed",description:g.message,variant:"destructive"}),d(g.message)}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(ht,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Login"}),c&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Iu,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:c})]}),a.jsx("div",{children:a.jsxs(Ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:h,disabled:s,children:[s?a.jsx(bu,{size:"sm",className:"mr-2"}):null,"Sign In with Google"]})})]})})},HCe=()=>{const t=Jn(),{toast:e}=hn(),r=Cr(At),n=On(At),[i,s]=P.useState([]);P.useEffect(()=>{(async()=>{const d=Cg(n,"users"),g=(await che(d)).docs.map(y=>({id:y.id,...y.data()}));s(g)})()},[n]);const o=()=>{r.signOut().then(()=>{t("/auth/login")}).catch(c=>{e({title:"Error signing out",description:c.message,variant:"destructive"})})};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs(ht,{className:"sci-fi-card max-w-4xl w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Panel"}),a.jsx("p",{className:"text-safebite-text-secondary text-center mb-6",children:"Welcome, Admin1! Here you can manage users and their data."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"User ID"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Email"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Profile Data"})]})}),a.jsx("tbody",{children:i.map(c=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:c.id}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:c.email}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:JSON.stringify(c.profile)})]},c.id))})]})}),a.jsx(Ie,{className:"mt-6 w-full bg-red-500 text-white hover:bg-red-600",onClick:o,children:"Sign Out"})]})})})},WCe=()=>a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(qI,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"About SafeBite"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"A special project focused on helping people make informed food choices for better health"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Our Mission"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"SafeBite was created with a simple mission: to help people understand what's in their food and make healthier choices. In a world where processed foods dominate and nutrition labels can be confusing, we wanted to build a tool that makes food transparency accessible to everyone."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Our platform combines food data from multiple sources, personalized recommendations based on your health profile, and an intuitive interface to make healthy eating easier than ever."}),a.jsx("p",{className:"text-safebite-text-secondary",children:"This project is part of a special engineering project at IFHE Hyderabad, focused on applying technology to solve real-world health challenges."})]}),a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg p-6 border border-safebite-card-bg-alt",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Project Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Developer"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Aditya Shenvi"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Institution"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"IFHE Hyderabad"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Project Type"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Special Engineering Project"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Technologies Used"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Food APIs"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Recharts"})]})]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Meet the Developer"}),a.jsx(ht,{className:"sci-fi-card max-w-2xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center p-6",children:[a.jsx(iS,{size:"xl",className:"mb-4 md:mb-0 md:mr-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-1",children:"Aditya Shenvi"}),a.jsx("p",{className:"text-safebite-teal text-sm mb-3",children:"🚀 Developer | Tech Enthusiast"}),a.jsx("p",{className:"text-safebite-text-secondary mb-3",children:"Engineering Student at IFHE Hyderabad with a passion for creating technology that improves people's lives. SafeBite represents the intersection of my interests in health, nutrition, and software development."}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[a.jsx("span",{className:"text-safebite-teal",children:"🔹 Passionate about:"})," Frontend, Backend, DevOps, UI/UX, Cybersecurity, Open Source, Digital Marketing"]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(Ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(rz,{className:"mr-2 h-4 w-4"}),"GitHub"]}),a.jsxs(Ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(zQ,{className:"mr-2 h-4 w-4"}),"LinkedIn"]}),a.jsxs(Ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(qg,{className:"mr-2 h-4 w-4"}),"Contact"]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"About This Project"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"SafeBite is a special engineering project developed as part of my coursework at IFHE Hyderabad. It combines my interest in health technology with modern web development practices to create a platform that helps users make informed food choices."})]})]})]})})]}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Data Sources & Acknowledgements"}),a.jsx("p",{className:"text-safebite-text-secondary max-w-3xl mx-auto mb-6",children:"SafeBite uses publicly available data from multiple food databases and APIs. All data is used for educational purposes only under fair use principles."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-2xl mx-auto",children:[a.jsxs("a",{href:"https://www.edamam.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Edamam API",a.jsx(uo,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://www.calorieninjas.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["CalorieNinjas API",a.jsx(uo,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://platform.fatsecret.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["FatSecret API",a.jsx(uo,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://world.openfoodfacts.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Open Food Facts",a.jsx(uo,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx(Nr,{to:"/features",children:a.jsx(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore SafeBite Features"})})})]}),a.jsx(K_,{})]}),GCe=()=>{const t=[{title:"Food Search & Analysis",description:"Search for any food item across multiple databases to get comprehensive nutritional information. Scan barcodes for instant product details.",icon:a.jsx(xi,{className:"h-10 w-10 text-safebite-teal"}),color:"bg-safebite-teal/10",border:"border-safebite-teal/30"},{title:"Personalized Health Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals and dietary preferences.",icon:a.jsx(OC,{className:"h-10 w-10 text-purple-500"}),color:"bg-purple-500/10",border:"border-purple-500/30"},{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations based on your habits.",icon:a.jsx(oa,{className:"h-10 w-10 text-red-500"}),color:"bg-red-500/10",border:"border-red-500/30"},{title:"Food Safety Alerts",description:"Get warnings about ingredients that may affect your health goals or conflict with dietary restrictions and allergies.",icon:a.jsx(Nu,{className:"h-10 w-10 text-yellow-500"}),color:"bg-yellow-500/10",border:"border-yellow-500/30"},{title:"Barcode Scanner",description:"Quickly scan product barcodes to get instant nutritional information and safety alerts for packaged foods.",icon:a.jsx(YQ,{className:"h-10 w-10 text-blue-500"}),color:"bg-blue-500/10",border:"border-blue-500/30"},{title:"Recipe Recommendations",description:"Discover healthy recipes tailored to your dietary preferences, restrictions, and health goals.",icon:a.jsx(r0,{className:"h-10 w-10 text-green-500"}),color:"bg-green-500/10",border:"border-green-500/30"},{title:"Community Support",description:"Connect with others on similar health journeys, share experiences, and get motivation from the SafeBite community.",icon:a.jsx(sl,{className:"h-10 w-10 text-indigo-500"}),color:"bg-indigo-500/10",border:"border-indigo-500/30"},{title:"Smart Notifications",description:"Receive timely reminders for health check-ins, meal planning suggestions, and personalized health tips.",icon:a.jsx(A_,{className:"h-10 w-10 text-pink-500"}),color:"bg-pink-500/10",border:"border-pink-500/30"},{title:"Health Achievements",description:"Earn badges and track achievements as you make progress toward your health and nutrition goals.",icon:a.jsx(Xx,{className:"h-10 w-10 text-amber-500"}),color:"bg-amber-500/10",border:"border-amber-500/30"},{title:"AI-Powered Recommendations",description:"Get intelligent food and activity suggestions based on your profile, preferences, and progress data.",icon:a.jsx(ol,{className:"h-10 w-10 text-cyan-500"}),color:"bg-cyan-500/10",border:"border-cyan-500/30"},{title:"Comprehensive Reports",description:"Access detailed reports on your nutrition, activity, and progress over time with visual charts and insights.",icon:a.jsx(OC,{className:"h-10 w-10 text-emerald-500"}),color:"bg-emerald-500/10",border:"border-emerald-500/30"},{title:"Energy Tracking",description:"Monitor your energy levels in relation to your diet and activity to optimize your daily routine.",icon:a.jsx(Fa,{className:"h-10 w-10 text-orange-500"}),color:"bg-orange-500/10",border:"border-orange-500/30"}];return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(qI,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"SafeBite Features"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Discover all the powerful tools and features that make SafeBite your ultimate companion for healthier food choices"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:t.map((e,r)=>a.jsxs(ht,{className:`sci-fi-card border ${e.border} hover:shadow-lg transition-shadow`,children:[a.jsx(Qt,{className:`${e.color} rounded-t-lg`,children:a.jsxs("div",{className:"flex items-center",children:[e.icon,a.jsx(Zt,{className:"ml-3 text-xl",children:e.title})]})}),a.jsx(Mt,{className:"pt-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:e.description})})]},r))}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-8 mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:"Special Project Information"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"SafeBite is a special engineering project developed by Aditya Shenvi at IFHE Hyderabad"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Project Goals"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Create an intuitive platform for food nutrition analysis"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Provide personalized health recommendations based on user data"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Integrate multiple food databases for comprehensive information"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Develop a user-friendly interface with modern design principles"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Technical Implementation"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"React & TypeScript frontend with Tailwind CSS for styling"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Firebase authentication and Firestore database"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Integration with multiple food nutrition APIs"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Data visualization using Recharts library"})]})]})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Ready to experience all these features and start your journey to healthier eating?"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(Nr,{to:"/auth/signup",children:a.jsx(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto",children:"Sign Up Now"})}),a.jsx(Nr,{to:"/about",children:a.jsx(Ie,{variant:"outline",className:"sci-fi-button w-full sm:w-auto",children:"Learn About the Project"})})]})]})]}),a.jsx(K_,{})]})},KCe=()=>{const{toast:t}=hn(),{isGuest:e}=la(),r=Cr(At),n=On(At),[i,s]=P.useState(""),[o,c]=P.useState(""),[d,h]=P.useState(null),[g,y]=P.useState(!1),[x,N]=P.useState([]),[C,A]=P.useState(!1),[k,D]=P.useState(null),[M,$]=P.useState(null),L=["Pizza","Biryani","Burger","Sushi","Pasta","Curry","Tacos","Noodles"],U=["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad"];P.useEffect(()=>{(async()=>{try{const ee=r.currentUser;if(ee&&!e){const X=await bn(ar(n,"users",ee.uid));X.exists()&&$(X.data())}}catch(ee){console.error("Error fetching user data:",ee)}})()},[r,n,e]),P.useEffect(()=>{const J=localStorage.getItem("userCity");if(J){c(J);return}navigator.geolocation&&navigator.geolocation.getCurrentPosition(async ee=>{try{const{latitude:X,longitude:Y}=ee.coords,pe=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${X}&lon=${Y}&zoom=10`)).json();pe.address&&pe.address.city&&(c(pe.address.city),localStorage.setItem("userCity",pe.address.city))}catch(X){console.error("Error getting city from coordinates:",X)}},ee=>{console.error("Geolocation error:",ee)})},[]);const K=async J=>{if(J.preventDefault(),i.trim()&&o.trim()){A(!0),D(null),h({food:i.trim(),city:o.trim()});try{localStorage.setItem("userCity",o.trim()),await q(i.trim(),o.trim())}catch{D("Failed to fetch restaurant data. Please try again."),t({title:"Search Error",description:"There was a problem finding restaurants. Please try again.",variant:"destructive"})}finally{A(!1)}}},q=async(J,ee)=>{const{fetchNearbyRestaurants:X}=await Y2(async()=>{const{fetchNearbyRestaurants:se}=await Promise.resolve().then(()=>Ufe);return{fetchNearbyRestaurants:se}},void 0),Y=await X(J,ee);N(Y),y(!0)},V=J=>{s(J)},Q=J=>{c(J)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(vl,{userProfile:M||{}}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Find Food Delivery"}),a.jsx("p",{className:"text-safebite-text-secondary mb-8",children:"Search for your favorite food and find delivery options from Swiggy and Zomato"}),a.jsx(ht,{className:"p-6 bg-safebite-card-bg border-safebite-card-bg-alt mb-8",children:a.jsxs("form",{onSubmit:K,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"foodQuery",className:"text-safebite-text mb-2 block",children:"What are you craving?"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xi,{className:"h-5 w-5 text-safebite-text-secondary"})}),a.jsx(Jt,{id:"foodQuery",type:"text",value:i,onChange:J=>s(J.target.value),placeholder:"e.g., Paneer Butter Masala, Pizza",className:"pl-10 bg-safebite-card-bg-alt border-safebite-card-bg-alt focus:border-safebite-teal text-safebite-text",required:!0})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:L.slice(0,4).map(J=>a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>V(J),children:J},J))})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"cityQuery",className:"text-safebite-text mb-2 block",children:"Enter your city"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(iz,{className:"h-5 w-5 text-safebite-text-secondary"})}),a.jsx(Jt,{id:"cityQuery",type:"text",value:o,onChange:J=>c(J.target.value),placeholder:"e.g., Hyderabad, Mumbai",className:"pl-10 bg-safebite-card-bg-alt border-safebite-card-bg-alt focus:border-safebite-teal text-safebite-text",required:!0})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:U.slice(0,4).map(J=>a.jsx(gt,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>Q(J),children:J},J))})]})]}),a.jsx(Ie,{type:"submit",className:"w-full bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",disabled:!i.trim()||!o.trim()||C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(pi,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):"Search Restaurants"})]})}),d&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:['Results for "',d.food,'" in "',d.city,'"']}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Click on a restaurant to view delivery options"})]}),k&&a.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/30 text-center mb-6",children:[a.jsx(Ki,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-safebite-text",children:k})]}),a.jsx(pW,{isOpen:g,onClose:()=>y(!1),searchResults:x,userData:M,currentPage:"food-delivery"})]})})]})};var iM="Collapsible",[YCe,BY]=Ha(iM),[XCe,sM]=YCe(iM),VY=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...c}=t,[d=!1,h]=aa({prop:n,defaultProp:i,onChange:o});return a.jsx(XCe,{scope:r,disabled:s,contentId:ll(),open:d,onOpenToggle:P.useCallback(()=>h(g=>!g),[h]),children:a.jsx(_t.div,{"data-state":oM(d),"data-disabled":s?"":void 0,...c,ref:e})})});VY.displayName=iM;var zY="CollapsibleTrigger",UY=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=sM(zY,r);return a.jsx(_t.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":oM(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:bt(t.onClick,i.onOpenToggle)})});UY.displayName=zY;var aM="CollapsibleContent",qY=P.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=sM(aM,t.__scopeCollapsible);return a.jsx(_c,{present:r||i.open,children:({present:s})=>a.jsx(QCe,{...n,ref:e,present:s})})});qY.displayName=aM;var QCe=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=t,o=sM(aM,r),[c,d]=P.useState(n),h=P.useRef(null),g=mr(e,h),y=P.useRef(0),x=y.current,N=P.useRef(0),C=N.current,A=o.open||c,k=P.useRef(A),D=P.useRef();return P.useEffect(()=>{const M=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(M)},[]),vi(()=>{const M=h.current;if(M){D.current=D.current||{transitionDuration:M.style.transitionDuration,animationName:M.style.animationName},M.style.transitionDuration="0s",M.style.animationName="none";const $=M.getBoundingClientRect();y.current=$.height,N.current=$.width,k.current||(M.style.transitionDuration=D.current.transitionDuration,M.style.animationName=D.current.animationName),d(n)}},[o.open,n]),a.jsx(_t.div,{"data-state":oM(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!A,...s,ref:g,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...t.style},children:A&&i})});function oM(t){return t?"open":"closed"}var ZCe=VY,JCe=UY,ePe=qY,ed="Accordion",tPe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[lM,rPe,nPe]=Jb(ed),[uN,MPe]=Ha(ed,[nPe,BY]),cM=BY(),HY=de.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,s=n;return a.jsx(lM.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(oPe,{...s,ref:e}):a.jsx(aPe,{...i,ref:e})})});HY.displayName=ed;var[WY,iPe]=uN(ed),[GY,sPe]=uN(ed,{collapsible:!1}),aPe=de.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[c,d]=aa({prop:r,defaultProp:n,onChange:i});return a.jsx(WY,{scope:t.__scopeAccordion,value:c?[c]:[],onItemOpen:d,onItemClose:de.useCallback(()=>s&&d(""),[s,d]),children:a.jsx(GY,{scope:t.__scopeAccordion,collapsible:s,children:a.jsx(KY,{...o,ref:e})})})}),oPe=de.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[o=[],c]=aa({prop:r,defaultProp:n,onChange:i}),d=de.useCallback(g=>c((y=[])=>[...y,g]),[c]),h=de.useCallback(g=>c((y=[])=>y.filter(x=>x!==g)),[c]);return a.jsx(WY,{scope:t.__scopeAccordion,value:o,onItemOpen:d,onItemClose:h,children:a.jsx(GY,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(KY,{...s,ref:e})})})}),[lPe,dN]=uN(ed),KY=de.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=t,c=de.useRef(null),d=mr(c,e),h=rPe(r),y=Ky(i)==="ltr",x=bt(t.onKeyDown,N=>{var V;if(!tPe.includes(N.key))return;const C=N.target,A=h().filter(Q=>{var J;return!((J=Q.ref.current)!=null&&J.disabled)}),k=A.findIndex(Q=>Q.ref.current===C),D=A.length;if(k===-1)return;N.preventDefault();let M=k;const $=0,L=D-1,U=()=>{M=k+1,M>L&&(M=$)},K=()=>{M=k-1,M<$&&(M=L)};switch(N.key){case"Home":M=$;break;case"End":M=L;break;case"ArrowRight":s==="horizontal"&&(y?U():K());break;case"ArrowDown":s==="vertical"&&U();break;case"ArrowLeft":s==="horizontal"&&(y?K():U());break;case"ArrowUp":s==="vertical"&&K();break}const q=M%D;(V=A[q].ref.current)==null||V.focus()});return a.jsx(lPe,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(lM.Slot,{scope:r,children:a.jsx(_t.div,{...o,"data-orientation":s,ref:d,onKeyDown:n?void 0:x})})})}),w_="AccordionItem",[cPe,uM]=uN(w_),YY=de.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,s=dN(w_,r),o=iPe(w_,r),c=cM(r),d=ll(),h=n&&o.value.includes(n)||!1,g=s.disabled||t.disabled;return a.jsx(cPe,{scope:r,open:h,disabled:g,triggerId:d,children:a.jsx(ZCe,{"data-orientation":s.orientation,"data-state":tX(h),...c,...i,ref:e,disabled:g,open:h,onOpenChange:y=>{y?o.onItemOpen(n):o.onItemClose(n)}})})});YY.displayName=w_;var XY="AccordionHeader",QY=de.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=dN(ed,r),s=uM(XY,r);return a.jsx(_t.h3,{"data-orientation":i.orientation,"data-state":tX(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:e})});QY.displayName=XY;var rI="AccordionTrigger",ZY=de.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=dN(ed,r),s=uM(rI,r),o=sPe(rI,r),c=cM(r);return a.jsx(lM.ItemSlot,{scope:r,children:a.jsx(JCe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...c,...n,ref:e})})});ZY.displayName=rI;var JY="AccordionContent",eX=de.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=dN(ed,r),s=uM(JY,r),o=cM(r);return a.jsx(ePe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});eX.displayName=JY;function tX(t){return t?"open":"closed"}var uPe=HY,dPe=YY,hPe=QY,rX=ZY,nX=eX;const fPe=uPe,iX=P.forwardRef(({className:t,...e},r)=>a.jsx(dPe,{ref:r,className:Ot("border-b",t),...e}));iX.displayName="AccordionItem";const sX=P.forwardRef(({className:t,children:e,...r},n)=>a.jsx(hPe,{className:"flex",children:a.jsxs(rX,{ref:n,className:Ot("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(oI,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));sX.displayName=rX.displayName;const aX=P.forwardRef(({className:t,children:e,...r},n)=>a.jsx(nX,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:Ot("pb-4 pt-0",t),children:e})}));aX.displayName=nX.displayName;const pPe=()=>{Jn();const[t,e]=P.useState("");la(),Cr(At).currentUser;const n=[{id:"general",name:"General",icon:a.jsx(vh,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What is SafeBite?",answer:"SafeBite is a comprehensive food safety and nutrition platform designed to help you make informed decisions about the food you consume. It provides nutritional information, recipe suggestions, food safety alerts, and personalized health insights."},{question:"Is SafeBite free to use?",answer:"Yes, SafeBite offers a free tier with access to basic features. Premium features may require a subscription in future updates, but all current functionality is available for free."},{question:"How do I create an account?",answer:`Click on the "Sign Up" button in the top navigation bar, fill in your details, and follow the verification process. You can also use the guest mode to explore the platform without creating an account, but your data won't be saved.`},{question:"What's the difference between guest mode and a registered account?",answer:"Guest mode allows you to explore SafeBite without creating an account, but your data won't be saved between sessions and some features have usage limits. A registered account gives you full access to all features, saves your preferences, and provides personalized recommendations."},{question:"How does SafeBite handle my data?",answer:"SafeBite takes your privacy seriously. We only collect data necessary to provide our services and improve your experience. Your personal information is never sold to third parties. You can review our full privacy policy in the Settings page."}]},{id:"features",name:"Features",icon:a.jsx(ol,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What features does SafeBite offer?",answer:"SafeBite offers food search with nutritional information, recipe suggestions, food safety alerts, health tools, community features, personalized dashboard, weekly health check-ins, and an AI assistant to help with nutrition and health questions."},{question:"How do I use the AI assistant?",answer:"The AI assistant is available through the chat icon in the bottom right corner of the screen. Click on it to start a conversation. You can ask questions about nutrition, food safety, recipes, or navigate to different parts of the application."},{question:"What are Health Tools?",answer:"Health Tools is a collection of calculators and analyzers to help you track and understand various aspects of your health, including BMI calculator, calorie needs estimator, sleep quality analyzer, stress level assessment, and more."},{question:"How do I search for food information?",answer:"Navigate to the Nutrition tab in the sidebar, then use the search bar to look up any food item. You can search by name, scan barcodes (on mobile), or upload product images for analysis."},{question:"How accurate is the nutritional information?",answer:"SafeBite uses data from multiple reliable sources including government databases and verified third-party APIs. While we strive for accuracy, nutritional content can vary based on preparation methods and specific brands."}]},{id:"account",name:"Account",icon:a.jsx(Ap,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"How do I update my profile information?",answer:"Click on your profile picture in the sidebar to open the profile popup. From there, you can update your display name, email, password, and preferences."},{question:"Can I delete my account?",answer:"Yes, you can delete your account from the Settings page. Please note that this action is irreversible and all your data will be permanently deleted."},{question:"How do I change my password?",answer:"Click on your profile picture in the sidebar, go to the Account tab, and use the password update section to set a new password."},{question:"What happens if I forget my password?",answer:'On the login page, click "Forgot Password" and follow the instructions to reset your password via email.'},{question:"How do I switch between guest mode and my account?",answer:"If you're in guest mode, you can sign up or log in through the login page. If you're logged in, you can sign out using the button in the sidebar."}]},{id:"technical",name:"Technical",icon:a.jsx(lI,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"Which browsers are supported?",answer:"SafeBite works best on modern browsers like Chrome, Firefox, Safari, and Edge. We recommend keeping your browser updated to the latest version for optimal performance."},{question:"Is SafeBite available as a mobile app?",answer:"Currently, SafeBite is a web application optimized for both desktop and mobile browsers. A dedicated mobile app is planned for future releases."},{question:"Why am I experiencing slow performance?",answer:"Performance issues can be caused by slow internet connection, browser cache, or device limitations. Try clearing your browser cache, closing unnecessary tabs, and ensuring you have a stable internet connection."},{question:"How do I report a bug?",answer:"You can report bugs through the feedback form in the Settings page or by contacting our support team directly at support@safebite.example.com."},{question:"Does SafeBite work offline?",answer:"Some basic features may work offline if you've previously loaded them, but most functionality requires an internet connection to access our databases and APIs."}]}],i=[{id:"getting-started",title:"Getting Started with SafeBite",description:"Learn the basics of using SafeBite to improve your nutrition and food safety.",icon:a.jsx(XN,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/getting-started"},{id:"food-search",title:"How to Search for Food Information",description:"Master the food search feature to get detailed nutritional information.",icon:a.jsx(xi,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/food-search"},{id:"recipes",title:"Finding and Saving Recipes",description:"Discover healthy recipes and save your favorites for quick access.",icon:a.jsx(r0,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/recipes"},{id:"health-tools",title:"Using Health Tools",description:"Get the most out of the health calculators and analyzers.",icon:a.jsx(wp,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/health-tools"},{id:"weekly-check",title:"Weekly Health Check-ins",description:"Track your progress and get personalized insights with weekly check-ins.",icon:a.jsx(oa,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/weekly-check"},{id:"ai-assistant",title:"Chatting with the AI Assistant",description:"Learn how to effectively use the AI assistant for nutrition advice.",icon:a.jsx(Hw,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/ai-assistant"}],s=t.trim()===""?n:n.map(d=>({...d,faqs:d.faqs.filter(h=>h.question.toLowerCase().includes(t.toLowerCase())||h.answer.toLowerCase().includes(t.toLowerCase()))})).filter(d=>d.faqs.length>0),o=t.trim()===""?i:i.filter(d=>d.title.toLowerCase().includes(t.toLowerCase())||d.description.toLowerCase().includes(t.toLowerCase())),c=d=>{alert(`The "${d.title}" guide is coming soon!`)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(ol,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v2.5 - Production Ready"}),a.jsx(ol,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx(vl,{}),a.jsx(k0,{currentPage:"help",initialMessage:"Hi! I can help you find answers to your questions about SafeBite. What would you like to know?"}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-4 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"Help Center"})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(vh,{className:"h-5 w-5 mr-2 text-safebite-teal/70"}),"Find answers to your questions and learn how to use SafeBite effectively."]})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-safebite-text-secondary h-5 w-5"}),a.jsx(Jt,{type:"text",placeholder:"Search for help topics...",className:"pl-10 bg-safebite-card-bg/70 border-safebite-teal/20 focus:border-safebite-teal/60 text-safebite-text",value:t,onChange:d=>e(d.target.value)})]})}),a.jsxs(Nc,{defaultValue:"faqs",className:"w-full",children:[a.jsxs(xl,{className:"grid grid-cols-3 mb-6 bg-safebite-card-bg/70 border border-safebite-teal/20",children:[a.jsxs(kr,{value:"faqs",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(vh,{className:"h-4 w-4 mr-2"}),"FAQs"]}),a.jsxs(kr,{value:"guides",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(XN,{className:"h-4 w-4 mr-2"}),"Guides"]}),a.jsxs(kr,{value:"contact",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(Hw,{className:"h-4 w-4 mr-2"}),"Contact Us"]})]}),a.jsxs(Dr,{value:"faqs",className:"space-y-6",children:[t.trim()!==""&&s.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(vh,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No results found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any FAQs matching your search. Try different keywords or contact us for help."})]}),s.map(d=>a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(Qt,{className:"pb-2",children:a.jsxs(Zt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[d.icon,a.jsx("span",{className:"ml-2",children:d.name})]})}),a.jsx(Mt,{children:a.jsx(fPe,{type:"single",collapsible:!0,className:"w-full",children:d.faqs.map((h,g)=>a.jsxs(iX,{value:`item-${g}`,className:"border-safebite-teal/20",children:[a.jsx(sX,{className:"text-safebite-text hover:text-safebite-teal",children:h.question}),a.jsx(aX,{className:"text-safebite-text-secondary",children:h.answer})]},g))})})]},d.id))]}),a.jsxs(Dr,{value:"guides",className:"space-y-6",children:[t.trim()!==""&&o.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(XN,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No guides found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any guides matching your search. Try different keywords or check the FAQs section."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(d=>a.jsx(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 cursor-pointer",onClick:()=>c(d),children:a.jsx(Mt,{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"rounded-full p-2 bg-safebite-teal/10 mr-4",children:d.icon}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium mb-2 flex items-center",children:[d.title,a.jsx(gt,{className:"ml-2 bg-safebite-teal/20 text-safebite-teal text-[10px]",children:"Coming Soon"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-3",children:d.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-teal",children:[a.jsx("span",{children:"Read guide"}),a.jsx(QV,{className:"h-3 w-3 ml-1"})]})]})]})})},d.id))})]}),a.jsx(Dr,{value:"contact",className:"space-y-6",children:a.jsxs(ht,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(Qt,{children:a.jsxs(Zt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Hw,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Contact Us"]})}),a.jsxs(Mt,{className:"space-y-6",children:[a.jsxs("div",{className:"bg-safebite-teal/10 border border-safebite-teal/30 rounded-md p-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Need help with SafeBite?"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Our support team is here to help you with any questions or issues you may have."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(Hw,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Chat Support"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Use our AI assistant in the bottom right corner for immediate help."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(ez,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Documentation"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Check our comprehensive guides and FAQs for detailed information."})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Email:"}),a.jsxs("a",{href:"mailto:support@safebite.example.com",className:"text-safebite-teal hover:underline flex items-center",children:["support@safebite.example.com",a.jsx(uo,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Twitter:"}),a.jsxs("a",{href:"https://twitter.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["@safebite",a.jsx(uo,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"GitHub:"}),a.jsxs("a",{href:"https://github.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["github.com/safebite",a.jsx(uo,{className:"h-3 w-3 ml-1"})]})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Feedback"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're constantly improving SafeBite based on your feedback. Let us know what you think!"}),a.jsx(Ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Send Feedback"})]})]})]})})]})]})]})]})},oX=()=>{const t=window.location.pathname;return t.includes("/auth/login")||t.includes("/auth/signup")||t.includes("/auth/forgot-password")||t==="/"||t==="/SafeBite-V1/"||t.includes("/about")||t.includes("/features")},mPe=()=>{if(!oX()){const t=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${t}/auth/login`}},gPe=new lte,Qo=({children:t})=>{const e=Cr(At),[r,n]=P.useState("loading");return P.useEffect(()=>{const i=()=>{const o=e.currentUser,c=Ra.isGuestUser();console.log("ProtectedRoute - Auth check:",{user:o?"Logged in":"Not logged in",isGuestMode:c,userType:localStorage.getItem("userType"),guestMode:sessionStorage.getItem("safebite-guest-mode"),guestSessionExpires:localStorage.getItem("guestSessionExpires"),path:window.location.pathname}),o||c?(n("authenticated"),c&&!o&&(Ra.extendGuestSession(),console.log("Guest session extended in ProtectedRoute"))):(n("unauthenticated"),oX()||(console.log("Not authenticated and not on auth page, redirecting to login"),mPe()))};i();const s=e.onAuthStateChanged(()=>{i()});return()=>s()},[e]),r==="loading"?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal"})}):r==="authenticated"?a.jsx(a.Fragment,{children:t}):a.jsx(KC,{to:"/auth/login",replace:!0})},yPe=()=>{const t=Cr(At),e=On(At),[r,n]=P.useState(null);P.useEffect(()=>{const d=async()=>{const g=t.currentUser;if(g)try{const y=ar(e,"users",g.uid),x=await bn(y);x.exists()?n(x.data()):console.log("No user profile found in App component!")}catch(y){console.error("Error fetching user profile in App:",y)}else n(null)};d();const h=t.onAuthStateChanged(g=>{g?d():n(null)});return()=>h()},[t,e]),P.useEffect(()=>{const d=window.location.pathname,g=["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/community","/healthbox","/reports","/recipes","/settings","/tools","/features"].some(x=>d.toLowerCase().includes(x.toLowerCase())),y=d.includes("/auth/login")||d.includes("/auth/signup")||d.includes("/auth/forgot-password")||d==="/"||d==="/SafeBite-V1/"||d.includes("/about")||d.includes("/features");if(g&&!y){const x=t.currentUser,N=Ra.isGuestUser();if(!x&&!N){const C=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${C}/auth/login`}}},[t]);const[i,s]=de.useState(!1),[o,c]=P.useState(!1);return P.useEffect(()=>{(async()=>{const h=t.currentUser;if(h){const g=ar(e,"users",h.uid);try{const y=await bn(g);if(y.exists()){const x=y.data();if(x.weeklyCheckin&&x.weeklyCheckin.lastSubmitted){const N=x.weeklyCheckin.lastSubmitted.toDate(),A=Math.abs(new Date().getTime()-N.getTime()),D=Math.ceil(A/(1e3*60*60*24))<7;c(D),s(!D)}else s(!0)}else s(!0)}catch(y){console.error("Error checking weekly check-in status:",y)}}})()},[t,e]),a.jsx(Bee,{children:a.jsxs(ute,{client:gPe,children:[a.jsxs(bI,{children:[a.jsx(DZ,{}),a.jsx(dJ,{}),a.jsx(D9,{}),a.jsx(are,{basename:"/SafeBite-V1/",children:a.jsxs(Zte,{children:[a.jsx(yn,{path:"/",element:a.jsx(Hoe,{})}),a.jsx(yn,{path:"/about",element:a.jsx(WCe,{})}),a.jsx(yn,{path:"/features",element:a.jsx(GCe,{})}),a.jsx(yn,{path:"/help",element:a.jsx(pPe,{})}),a.jsx(yn,{path:"/auth/login",element:a.jsx(_fe,{})}),a.jsx(yn,{path:"/auth/signup",element:a.jsx(jfe,{})}),a.jsx(yn,{path:"/auth/forgot-password",element:a.jsx(Nfe,{})}),a.jsx(yn,{path:"/questionnaire",element:a.jsx(Ffe,{})}),a.jsx(yn,{path:"/health-check",element:a.jsx(Qo,{children:a.jsx(bfe,{})})}),a.jsx(yn,{path:"/dashboard",element:a.jsx(Qo,{children:a.jsx(wTe,{})})}),a.jsx(yn,{path:"/nutrition",element:a.jsx(Qo,{children:a.jsx(zCe,{userProfile:r})})}),a.jsx(yn,{path:"/food-search",element:a.jsx(KC,{to:"/nutrition",replace:!0})}),a.jsx(yn,{path:"/food-delivery",element:a.jsx(Qo,{children:a.jsx(KCe,{})})}),a.jsx(yn,{path:"/product-recommendations",element:a.jsx(Qo,{children:a.jsx(ECe,{})})}),a.jsx(yn,{path:"/products",element:a.jsx(KC,{to:"/grocery-products",replace:!0})}),a.jsx(yn,{path:"/grocery-products",element:a.jsx(Qo,{children:a.jsx(PCe,{})})}),a.jsx(yn,{path:"/community",element:a.jsx(Qo,{children:a.jsx(jTe,{})})}),a.jsx(yn,{path:"/healthbox",element:a.jsx(Qo,{children:a.jsx(SCe,{})})}),a.jsx(yn,{path:"/reports",element:a.jsx(Qo,{children:a.jsx(kTe,{})})}),a.jsx(yn,{path:"/recipes",element:a.jsx(Qo,{children:a.jsx(FTe,{})})}),a.jsx(yn,{path:"/settings",element:a.jsx(Qo,{children:a.jsx(gfe,{})})}),a.jsx(yn,{path:"/admin/login",element:a.jsx(qCe,{})}),a.jsx(yn,{path:"/admin/panel",element:a.jsx(HCe,{})}),a.jsx(yn,{path:"*",element:a.jsx(UCe,{})})]})})]}),a.jsx(k0,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or health!",currentPage:"global",userData:{profile:r,recentActivity:[]},autoOpen:!1}),a.jsx(h0,{open:i,onOpenChange:s,children:a.jsxs(Fy,{children:[a.jsxs($y,{children:[a.jsx(By,{children:"Weekly Health Check-in"}),a.jsx(Vy,{children:"Help us personalize your SafeBite experience by answering a few questions."})]}),a.jsx(aW,{onComplete:()=>s(!1)})]})})]})})};NX.createRoot(document.getElementById("root")).render(a.jsx(yPe,{}));export{Lr as g};
