var aK=Object.defineProperty;var k2=t=>{throw TypeError(t)};var sK=(t,e,r)=>e in t?aK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ga=(t,e,r)=>sK(t,typeof e!="symbol"?e+"":e,r),t_=(t,e,r)=>e.has(t)||k2("Cannot "+r);var me=(t,e,r)=>(t_(t,e,"read from private field"),r?r.call(t):e.get(t)),Ht=(t,e,r)=>e.has(t)?k2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),yt=(t,e,r,n)=>(t_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),wn=(t,e,r)=>(t_(t,e,"access private method"),r);var dv=(t,e,r,n)=>({set _(i){yt(t,e,i,r)},get _(){return me(t,e,n)}});function oK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r_={exports:{}},Ih={},n_={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function lK(){if(I2)return wt;I2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function x(q,X,ae){this.props=q,this.context=X,this.refs=b,this.updater=ae||y}x.prototype.isReactComponent={},x.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=x.prototype;function A(q,X,ae){this.props=q,this.context=X,this.refs=b,this.updater=ae||y}var j=A.prototype=new N;j.constructor=A,_(j,x.prototype),j.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(q,X,ae){var be,Ae={},Ne=null,ge=null;if(X!=null)for(be in X.ref!==void 0&&(ge=X.ref),X.key!==void 0&&(Ne=""+X.key),X)P.call(X,be)&&!C.hasOwnProperty(be)&&(Ae[be]=X[be]);var Pe=arguments.length-2;if(Pe===1)Ae.children=ae;else if(1<Pe){for(var de=Array(Pe),ve=0;ve<Pe;ve++)de[ve]=arguments[ve+2];Ae.children=de}if(q&&q.defaultProps)for(be in Pe=q.defaultProps,Pe)Ae[be]===void 0&&(Ae[be]=Pe[be]);return{$$typeof:t,type:q,key:Ne,ref:ge,props:Ae,_owner:R.current}}function M(q,X){return{$$typeof:t,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function D(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ae){return X[ae]})}var V=/\/+/g;function $(q,X){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):X.toString(36)}function H(q,X,ae,be,Ae){var Ne=typeof q;(Ne==="undefined"||Ne==="boolean")&&(q=null);var ge=!1;if(q===null)ge=!0;else switch(Ne){case"string":case"number":ge=!0;break;case"object":switch(q.$$typeof){case t:case e:ge=!0}}if(ge)return ge=q,Ae=Ae(ge),q=be===""?"."+$(ge,0):be,E(Ae)?(ae="",q!=null&&(ae=q.replace(V,"$&/")+"/"),H(Ae,X,ae,"",function(ve){return ve})):Ae!=null&&(F(Ae)&&(Ae=M(Ae,ae+(!Ae.key||ge&&ge.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+q)),X.push(Ae)),1;if(ge=0,be=be===""?".":be+":",E(q))for(var Pe=0;Pe<q.length;Pe++){Ne=q[Pe];var de=be+$(Ne,Pe);ge+=H(Ne,X,ae,de,Ae)}else if(de=m(q),typeof de=="function")for(q=de.call(q),Pe=0;!(Ne=q.next()).done;)Ne=Ne.value,de=be+$(Ne,Pe++),ge+=H(Ne,X,ae,de,Ae);else if(Ne==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ge}function G(q,X,ae){if(q==null)return q;var be=[],Ae=0;return H(q,be,"","",function(Ne){return X.call(ae,Ne,Ae++)}),be}function Y(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=ae)},function(ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=ae)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var Q={current:null},W={transition:null},J={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:W,ReactCurrentOwner:R};function ee(){throw Error("act(...) is not supported in production builds of React.")}return wt.Children={map:G,forEach:function(q,X,ae){G(q,function(){X.apply(this,arguments)},ae)},count:function(q){var X=0;return G(q,function(){X++}),X},toArray:function(q){return G(q,function(X){return X})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},wt.Component=x,wt.Fragment=r,wt.Profiler=i,wt.PureComponent=A,wt.StrictMode=n,wt.Suspense=u,wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,wt.act=ee,wt.cloneElement=function(q,X,ae){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var be=_({},q.props),Ae=q.key,Ne=q.ref,ge=q._owner;if(X!=null){if(X.ref!==void 0&&(Ne=X.ref,ge=R.current),X.key!==void 0&&(Ae=""+X.key),q.type&&q.type.defaultProps)var Pe=q.type.defaultProps;for(de in X)P.call(X,de)&&!C.hasOwnProperty(de)&&(be[de]=X[de]===void 0&&Pe!==void 0?Pe[de]:X[de])}var de=arguments.length-2;if(de===1)be.children=ae;else if(1<de){Pe=Array(de);for(var ve=0;ve<de;ve++)Pe[ve]=arguments[ve+2];be.children=Pe}return{$$typeof:t,type:q.type,key:Ae,ref:Ne,props:be,_owner:ge}},wt.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},wt.createElement=I,wt.createFactory=function(q){var X=I.bind(null,q);return X.type=q,X},wt.createRef=function(){return{current:null}},wt.forwardRef=function(q){return{$$typeof:l,render:q}},wt.isValidElement=F,wt.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:Y}},wt.memo=function(q,X){return{$$typeof:f,type:q,compare:X===void 0?null:X}},wt.startTransition=function(q){var X=W.transition;W.transition={};try{q()}finally{W.transition=X}},wt.unstable_act=ee,wt.useCallback=function(q,X){return Q.current.useCallback(q,X)},wt.useContext=function(q){return Q.current.useContext(q)},wt.useDebugValue=function(){},wt.useDeferredValue=function(q){return Q.current.useDeferredValue(q)},wt.useEffect=function(q,X){return Q.current.useEffect(q,X)},wt.useId=function(){return Q.current.useId()},wt.useImperativeHandle=function(q,X,ae){return Q.current.useImperativeHandle(q,X,ae)},wt.useInsertionEffect=function(q,X){return Q.current.useInsertionEffect(q,X)},wt.useLayoutEffect=function(q,X){return Q.current.useLayoutEffect(q,X)},wt.useMemo=function(q,X){return Q.current.useMemo(q,X)},wt.useReducer=function(q,X,ae){return Q.current.useReducer(q,X,ae)},wt.useRef=function(q){return Q.current.useRef(q)},wt.useState=function(q){return Q.current.useState(q)},wt.useSyncExternalStore=function(q,X,ae){return Q.current.useSyncExternalStore(q,X,ae)},wt.useTransition=function(){return Q.current.useTransition()},wt.version="18.3.1",wt}var O2;function gT(){return O2||(O2=1,n_.exports=lK()),n_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function cK(){if(R2)return Ih;R2=1;var t=gT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,f){var h,p={},m=null,y=null;f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)n.call(u,h)&&!a.hasOwnProperty(h)&&(p[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:e,type:l,key:m,ref:y,props:p,_owner:i.current}}return Ih.Fragment=r,Ih.jsx=s,Ih.jsxs=s,Ih}var M2;function uK(){return M2||(M2=1,r_.exports=cK()),r_.exports}var o=uK(),hv={},i_={exports:{}},ei={},a_={exports:{}},s_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function dK(){return D2||(D2=1,function(t){function e(W,J){var ee=W.length;W.push(J);e:for(;0<ee;){var q=ee-1>>>1,X=W[q];if(0<i(X,J))W[q]=J,W[ee]=X,ee=q;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var J=W[0],ee=W.pop();if(ee!==J){W[0]=ee;e:for(var q=0,X=W.length,ae=X>>>1;q<ae;){var be=2*(q+1)-1,Ae=W[be],Ne=be+1,ge=W[Ne];if(0>i(Ae,ee))Ne<X&&0>i(ge,Ae)?(W[q]=ge,W[Ne]=ee,q=Ne):(W[q]=Ae,W[be]=ee,q=be);else if(Ne<X&&0>i(ge,ee))W[q]=ge,W[Ne]=ee,q=Ne;else break e}}return J}function i(W,J){var ee=W.sortIndex-J.sortIndex;return ee!==0?ee:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],f=[],h=1,p=null,m=3,y=!1,_=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=W)n(f),J.sortIndex=J.expirationTime,e(u,J);else break;J=r(f)}}function E(W){if(b=!1,j(W),!_)if(r(u)!==null)_=!0,Y(P);else{var J=r(f);J!==null&&Q(E,J.startTime-W)}}function P(W,J){_=!1,b&&(b=!1,N(I),I=-1),y=!0;var ee=m;try{for(j(J),p=r(u);p!==null&&(!(p.expirationTime>J)||W&&!D());){var q=p.callback;if(typeof q=="function"){p.callback=null,m=p.priorityLevel;var X=q(p.expirationTime<=J);J=t.unstable_now(),typeof X=="function"?p.callback=X:p===r(u)&&n(u),j(J)}else n(u);p=r(u)}if(p!==null)var ae=!0;else{var be=r(f);be!==null&&Q(E,be.startTime-J),ae=!1}return ae}finally{p=null,m=ee,y=!1}}var R=!1,C=null,I=-1,M=5,F=-1;function D(){return!(t.unstable_now()-F<M)}function V(){if(C!==null){var W=t.unstable_now();F=W;var J=!0;try{J=C(!0,W)}finally{J?$():(R=!1,C=null)}}else R=!1}var $;if(typeof A=="function")$=function(){A(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=V,$=function(){G.postMessage(null)}}else $=function(){x(V,0)};function Y(W){C=W,R||(R=!0,$())}function Q(W,J){I=x(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,Y(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var J=3;break;default:J=m}var ee=m;m=J;try{return W()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=m;m=W;try{return J()}finally{m=ee}},t.unstable_scheduleCallback=function(W,J,ee){var q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?q+ee:q):ee=q,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ee+X,W={id:h++,callback:J,priorityLevel:W,startTime:ee,expirationTime:X,sortIndex:-1},ee>q?(W.sortIndex=ee,e(f,W),r(u)===null&&W===r(f)&&(b?(N(I),I=-1):b=!0,Q(E,ee-q))):(W.sortIndex=X,e(u,W),_||y||(_=!0,Y(P))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var J=m;return function(){var ee=m;m=J;try{return W.apply(this,arguments)}finally{m=ee}}}}(s_)),s_}var L2;function fK(){return L2||(L2=1,a_.exports=dK()),a_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function hK(){if($2)return ei;$2=1;var t=gT(),e=fK();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(c,d){s(c,d),s(c+"Capture",d)}function s(c,d){for(i[c]=d,c=0;c<d.length;c++)n.add(d[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(c){return u.call(p,c)?!0:u.call(h,c)?!1:f.test(c)?p[c]=!0:(h[c]=!0,!1)}function y(c,d,g,w){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function _(c,d,g,w){if(d===null||typeof d>"u"||y(c,d,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(c,d,g,w,T,O,B){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=O,this.removeEmptyString=B}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){x[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];x[d]=new b(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){x[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){x[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){x[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){x[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){x[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){x[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){x[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(N,A);x[d]=new b(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(N,A);x[d]=new b(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(N,A);x[d]=new b(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){x[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){x[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function j(c,d,g,w){var T=x.hasOwnProperty(d)?x[d]:null;(T!==null?T.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,g,T,w)&&(g=null),w||T===null?m(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):T.mustUseProperty?c[T.propertyName]=g===null?T.type===3?!1:"":g:(d=T.attributeName,w=T.attributeNamespace,g===null?c.removeAttribute(d):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,w?c.setAttributeNS(w,d,g):c.setAttribute(d,g))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),W=Symbol.iterator;function J(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var ee=Object.assign,q;function X(c){if(q===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);q=d&&d[1]||""}return`
`+q+c}var ae=!1;function be(c,d){if(!c||ae)return"";ae=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(se){var w=se}Reflect.construct(c,[],d)}else{try{d.call()}catch(se){w=se}c.call(d.prototype)}else{try{throw Error()}catch(se){w=se}c()}}catch(se){if(se&&w&&typeof se.stack=="string"){for(var T=se.stack.split(`
`),O=w.stack.split(`
`),B=T.length-1,K=O.length-1;1<=B&&0<=K&&T[B]!==O[K];)K--;for(;1<=B&&0<=K;B--,K--)if(T[B]!==O[K]){if(B!==1||K!==1)do if(B--,K--,0>K||T[B]!==O[K]){var Z=`
`+T[B].replace(" at new "," at ");return c.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",c.displayName)),Z}while(1<=B&&0<=K);break}}}finally{ae=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?X(c):""}function Ae(c){switch(c.tag){case 5:return X(c.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return c=be(c.type,!1),c;case 11:return c=be(c.type.render,!1),c;case 1:return c=be(c.type,!0),c;default:return""}}function Ne(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case C:return"Fragment";case R:return"Portal";case M:return"Profiler";case I:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case D:return(c.displayName||"Context")+".Consumer";case F:return(c._context.displayName||"Context")+".Provider";case V:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case G:return d=c.displayName||null,d!==null?d:Ne(c.type)||"Memo";case Y:d=c._payload,c=c._init;try{return Ne(c(d))}catch{}}return null}function ge(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(d);case 8:return d===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Pe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function de(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ve(c){var d=de(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),w=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,O=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return T.call(this)},set:function(B){w=""+B,O.call(this,B)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(B){w=""+B},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function we(c){c._valueTracker||(c._valueTracker=ve(c))}function le(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),w="";return c&&(w=de(c)?c.checked?"true":"false":c.value),c=w,c!==g?(d.setValue(c),!0):!1}function Ye(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function qe(c,d){var g=d.checked;return ee({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function pt(c,d){var g=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;g=Pe(d.value!=null?d.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ot(c,d){d=d.checked,d!=null&&j(c,"checked",d,!1)}function lt(c,d){ot(c,d);var g=Pe(d.value),w=d.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Tt(c,d.type,g):d.hasOwnProperty("defaultValue")&&Tt(c,d.type,Pe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function br(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Tt(c,d,g){(d!=="number"||Ye(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Lt=Array.isArray;function cr(c,d,g,w){if(c=c.options,d){d={};for(var T=0;T<g.length;T++)d["$"+g[T]]=!0;for(g=0;g<c.length;g++)T=d.hasOwnProperty("$"+c[g].value),c[g].selected!==T&&(c[g].selected=T),T&&w&&(c[g].defaultSelected=!0)}else{for(g=""+Pe(g),d=null,T=0;T<c.length;T++){if(c[T].value===g){c[T].selected=!0,w&&(c[T].defaultSelected=!0);return}d!==null||c[T].disabled||(d=c[T])}d!==null&&(d.selected=!0)}}function Me(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function st(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(Lt(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:Pe(g)}}function Ue(c,d){var g=Pe(d.value),w=Pe(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function Pt(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function tt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?tt(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var kn,Hn=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,w,T){MSApp.execUnsafeLocalFunction(function(){return c(d,g,w,T)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=kn.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function gn(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ti=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(c){Ti.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),ea[d]=ea[c]})});function La(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||ea.hasOwnProperty(c)&&ea[c]?(""+d).trim():d+"px"}function _s(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var w=g.indexOf("--")===0,T=La(g,d[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,T):c[g]=T}}var Pi=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(c,d){if(d){if(Pi[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Ss(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Je=null;function Ct(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Et=null,ur=null,wr=null;function fe(c){if(c=vh(c)){if(typeof Et!="function")throw Error(r(280));var d=c.stateNode;d&&(d=Ag(d),Et(c.stateNode,c.type,d))}}function ke(c){ur?wr?wr.push(c):wr=[c]:ur=c}function Ce(){if(ur){var c=ur,d=wr;if(wr=ur=null,fe(c),d)for(c=0;c<d.length;c++)fe(d[c])}}function vt(c,d){return c(d)}function rr(){}var Wn=!1;function So(c,d,g){if(Wn)return c(d,g);Wn=!0;try{return vt(c,d,g)}finally{Wn=!1,(ur!==null||wr!==null)&&(rr(),Ce())}}function gr(c,d){var g=c.stateNode;if(g===null)return null;var w=Ag(g);if(w===null)return null;g=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var li=!1;if(l)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){li=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{li=!1}function Yl(c,d,g,w,T,O,B,K,Z){var se=Array.prototype.slice.call(arguments,3);try{d.apply(g,se)}catch(xe){this.onError(xe)}}var Ql=!1,du=null,ra=!1,Xf=null,P0={onError:function(c){Ql=!0,du=c}};function fu(c,d,g,w,T,O,B,K,Z){Ql=!1,du=null,Yl.apply(P0,arguments)}function Xm(c,d,g,w,T,O,B,K,Z){if(fu.apply(this,arguments),Ql){if(Ql){var se=du;Ql=!1,du=null}else throw Error(r(198));ra||(ra=!0,Xf=se)}}function na(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function Xl(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function ia(c){if(na(c)!==c)throw Error(r(188))}function Jm(c){var d=c.alternate;if(!d){if(d=na(c),d===null)throw Error(r(188));return d!==c?null:c}for(var g=c,w=d;;){var T=g.return;if(T===null)break;var O=T.alternate;if(O===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===g)return ia(T),c;if(O===w)return ia(T),d;O=O.sibling}throw Error(r(188))}if(g.return!==w.return)g=T,w=O;else{for(var B=!1,K=T.child;K;){if(K===g){B=!0,g=T,w=O;break}if(K===w){B=!0,w=T,g=O;break}K=K.sibling}if(!B){for(K=O.child;K;){if(K===g){B=!0,g=O,w=T;break}if(K===w){B=!0,w=O,g=T;break}K=K.sibling}if(!B)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:d}function Jf(c){return c=Jm(c),c!==null?hu(c):null}function hu(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=hu(c);if(d!==null)return d;c=c.sibling}return null}var pu=e.unstable_scheduleCallback,Zf=e.unstable_cancelCallback,Zm=e.unstable_shouldYield,C0=e.unstable_requestPaint,nr=e.unstable_now,eg=e.unstable_getCurrentPriorityLevel,Jl=e.unstable_ImmediatePriority,Eo=e.unstable_UserBlockingPriority,Ci=e.unstable_NormalPriority,eh=e.unstable_LowPriority,tg=e.unstable_IdlePriority,Zl=null,ci=null;function rg(c){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(Zl,c,void 0,(c.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:ig,th=Math.log,ng=Math.LN2;function ig(c){return c>>>=0,c===0?32:31-(th(c)/ng|0)|0}var mu=64,gu=4194304;function jo(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ec(c,d){var g=c.pendingLanes;if(g===0)return 0;var w=0,T=c.suspendedLanes,O=c.pingedLanes,B=g&268435455;if(B!==0){var K=B&~T;K!==0?w=jo(K):(O&=B,O!==0&&(w=jo(O)))}else B=g&~T,B!==0?w=jo(B):O!==0&&(w=jo(O));if(w===0)return 0;if(d!==0&&d!==w&&(d&T)===0&&(T=w&-w,O=d&-d,T>=O||T===16&&(O&4194240)!==0))return d;if((w&4)!==0&&(w|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=w;0<d;)g=31-In(d),T=1<<g,w|=c[g],d&=~T;return w}function k0(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(c,d){for(var g=c.suspendedLanes,w=c.pingedLanes,T=c.expirationTimes,O=c.pendingLanes;0<O;){var B=31-In(O),K=1<<B,Z=T[B];Z===-1?((K&g)===0||(K&w)!==0)&&(T[B]=k0(K,d)):Z<=d&&(c.expiredLanes|=K),O&=~K}}function ui(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function tc(){var c=mu;return mu<<=1,(mu&4194240)===0&&(mu=64),c}function Ao(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function No(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-In(d),c[d]=g}function Zt(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var T=31-In(g),O=1<<T;d[T]=0,w[T]=-1,c[T]=-1,g&=~O}}function To(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var w=31-In(g),T=1<<w;T&d|c[w]&d&&(c[w]|=d),g&=~T}}var jt=0;function Po(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var ag,vu,sg,og,lg,rh=!1,$a=[],ln=null,aa=null,sa=null,Co=new Map,ki=new Map,Fa=[],I0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cg(c,d){switch(c){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Co.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(d.pointerId)}}function Gn(c,d,g,w,T,O){return c===null||c.nativeEvent!==O?(c={blockedOn:d,domEventName:g,eventSystemFlags:w,nativeEvent:O,targetContainers:[T]},d!==null&&(d=vh(d),d!==null&&vu(d)),c):(c.eventSystemFlags|=w,d=c.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),c)}function O0(c,d,g,w,T){switch(d){case"focusin":return ln=Gn(ln,c,d,g,w,T),!0;case"dragenter":return aa=Gn(aa,c,d,g,w,T),!0;case"mouseover":return sa=Gn(sa,c,d,g,w,T),!0;case"pointerover":var O=T.pointerId;return Co.set(O,Gn(Co.get(O)||null,c,d,g,w,T)),!0;case"gotpointercapture":return O=T.pointerId,ki.set(O,Gn(ki.get(O)||null,c,d,g,w,T)),!0}return!1}function ug(c){var d=sc(c.target);if(d!==null){var g=na(d);if(g!==null){if(d=g.tag,d===13){if(d=Xl(g),d!==null){c.blockedOn=d,lg(c.priority,function(){sg(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function js(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=yu(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);Je=w,g.target.dispatchEvent(w),Je=null}else return d=vh(g),d!==null&&vu(d),c.blockedOn=g,!1;d.shift()}return!0}function rc(c,d,g){js(c)&&g.delete(d)}function dg(){rh=!1,ln!==null&&js(ln)&&(ln=null),aa!==null&&js(aa)&&(aa=null),sa!==null&&js(sa)&&(sa=null),Co.forEach(rc),ki.forEach(rc)}function oa(c,d){c.blockedOn===d&&(c.blockedOn=null,rh||(rh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dg)))}function la(c){function d(T){return oa(T,c)}if(0<$a.length){oa($a[0],c);for(var g=1;g<$a.length;g++){var w=$a[g];w.blockedOn===c&&(w.blockedOn=null)}}for(ln!==null&&oa(ln,c),aa!==null&&oa(aa,c),sa!==null&&oa(sa,c),Co.forEach(d),ki.forEach(d),g=0;g<Fa.length;g++)w=Fa[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<Fa.length&&(g=Fa[0],g.blockedOn===null);)ug(g),g.blockedOn===null&&Fa.shift()}var As=E.ReactCurrentBatchConfig,ko=!0;function vr(c,d,g,w){var T=jt,O=As.transition;As.transition=null;try{jt=1,nh(c,d,g,w)}finally{jt=T,As.transition=O}}function R0(c,d,g,w){var T=jt,O=As.transition;As.transition=null;try{jt=4,nh(c,d,g,w)}finally{jt=T,As.transition=O}}function nh(c,d,g,w){if(ko){var T=yu(c,d,g,w);if(T===null)H0(c,d,w,nc,g),cg(c,w);else if(O0(T,c,d,g,w))w.stopPropagation();else if(cg(c,w),d&4&&-1<I0.indexOf(c)){for(;T!==null;){var O=vh(T);if(O!==null&&ag(O),O=yu(c,d,g,w),O===null&&H0(c,d,w,nc,g),O===T)break;T=O}T!==null&&w.stopPropagation()}else H0(c,d,w,null,g)}}var nc=null;function yu(c,d,g,w){if(nc=null,c=Ct(w),c=sc(c),c!==null)if(d=na(c),d===null)c=null;else if(g=d.tag,g===13){if(c=Xl(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return nc=c,null}function ih(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eg()){case Jl:return 1;case Eo:return 4;case Ci:case eh:return 16;case tg:return 536870912;default:return 16}default:return 16}}var di=null,xu=null,Kn=null;function ah(){if(Kn)return Kn;var c,d=xu,g=d.length,w,T="value"in di?di.value:di.textContent,O=T.length;for(c=0;c<g&&d[c]===T[c];c++);var B=g-c;for(w=1;w<=B&&d[g-w]===T[O-w];w++);return Kn=T.slice(c,1<w?1-w:void 0)}function bu(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Va(){return!0}function sh(){return!1}function cn(c){function d(g,w,T,O,B){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=O,this.target=B,this.currentTarget=null;for(var K in c)c.hasOwnProperty(K)&&(g=c[K],this[K]=g?g(O):O[K]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Va:sh,this.isPropagationStopped=sh,this}return ee(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),d}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=cn(ca),Ba=ee({},ca,{view:0,detail:0}),M0=cn(Ba),_u,Ns,Io,ic=ee({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Io&&(Io&&c.type==="mousemove"?(_u=c.screenX-Io.screenX,Ns=c.screenY-Io.screenY):Ns=_u=0,Io=c),_u)},movementY:function(c){return"movementY"in c?c.movementY:Ns}}),Su=cn(ic),oh=ee({},ic,{dataTransfer:0}),fg=cn(oh),Eu=ee({},Ba,{relatedTarget:0}),ju=cn(Eu),hg=ee({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=cn(hg),pg=ee({},ca,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),mg=cn(pg),gg=ee({},ca,{data:0}),lh=cn(gg),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},On={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=vg[c])?!!d[c]:!1}function Ua(){return yg}var v=ee({},Ba,{key:function(c){if(c.key){var d=Au[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=bu(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?On[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(c){return c.type==="keypress"?bu(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?bu(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),k=cn(v),L=ee({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=cn(L),re=ee({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),ce=cn(re),Te=ee({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yt=cn(Te),Br=ee({},ic,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),kt=cn(Br),Qr=[9,13,27,32],Ir=l&&"CompositionEvent"in window,Ii=null;l&&"documentMode"in document&&(Ii=document.documentMode);var fi=l&&"TextEvent"in window&&!Ii,ac=l&&(!Ir||Ii&&8<Ii&&11>=Ii),Nu=" ",jk=!1;function Ak(c,d){switch(c){case"keyup":return Qr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nk(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Tu=!1;function rG(c,d){switch(c){case"compositionend":return Nk(d);case"keypress":return d.which!==32?null:(jk=!0,Nu);case"textInput":return c=d.data,c===Nu&&jk?null:c;default:return null}}function nG(c,d){if(Tu)return c==="compositionend"||!Ir&&Ak(c,d)?(c=ah(),Kn=xu=di=null,Tu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return ac&&d.locale!=="ko"?null:d.data;default:return null}}var iG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tk(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!iG[c.type]:d==="textarea"}function Pk(c,d,g,w){ke(w),d=Sg(d,"onChange"),0<d.length&&(g=new wu("onChange","change",null,g,w),c.push({event:g,listeners:d}))}var ch=null,uh=null;function aG(c){Gk(c,0)}function xg(c){var d=Ou(c);if(le(d))return c}function sG(c,d){if(c==="change")return d}var Ck=!1;if(l){var D0;if(l){var L0="oninput"in document;if(!L0){var kk=document.createElement("div");kk.setAttribute("oninput","return;"),L0=typeof kk.oninput=="function"}D0=L0}else D0=!1;Ck=D0&&(!document.documentMode||9<document.documentMode)}function Ik(){ch&&(ch.detachEvent("onpropertychange",Ok),uh=ch=null)}function Ok(c){if(c.propertyName==="value"&&xg(uh)){var d=[];Pk(d,uh,c,Ct(c)),So(aG,d)}}function oG(c,d,g){c==="focusin"?(Ik(),ch=d,uh=g,ch.attachEvent("onpropertychange",Ok)):c==="focusout"&&Ik()}function lG(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return xg(uh)}function cG(c,d){if(c==="click")return xg(d)}function uG(c,d){if(c==="input"||c==="change")return xg(d)}function dG(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ua=typeof Object.is=="function"?Object.is:dG;function dh(c,d){if(ua(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),w=Object.keys(d);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!u.call(d,T)||!ua(c[T],d[T]))return!1}return!0}function Rk(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Mk(c,d){var g=Rk(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=d&&w>=d)return{node:g,offset:d-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Rk(g)}}function Dk(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?Dk(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Lk(){for(var c=window,d=Ye();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=Ye(c.document)}return d}function $0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function fG(c){var d=Lk(),g=c.focusedElem,w=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&Dk(g.ownerDocument.documentElement,g)){if(w!==null&&$0(g)){if(d=w.start,c=w.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var T=g.textContent.length,O=Math.min(w.start,T);w=w.end===void 0?O:Math.min(w.end,T),!c.extend&&O>w&&(T=w,w=O,O=T),T=Mk(g,O);var B=Mk(g,w);T&&B&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==B.node||c.focusOffset!==B.offset)&&(d=d.createRange(),d.setStart(T.node,T.offset),c.removeAllRanges(),O>w?(c.addRange(d),c.extend(B.node,B.offset)):(d.setEnd(B.node,B.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var hG=l&&"documentMode"in document&&11>=document.documentMode,Pu=null,F0=null,fh=null,V0=!1;function $k(c,d,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;V0||Pu==null||Pu!==Ye(w)||(w=Pu,"selectionStart"in w&&$0(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),fh&&dh(fh,w)||(fh=w,w=Sg(F0,"onSelect"),0<w.length&&(d=new wu("onSelect","select",null,d,g),c.push({event:d,listeners:w}),d.target=Pu)))}function bg(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var Cu={animationend:bg("Animation","AnimationEnd"),animationiteration:bg("Animation","AnimationIteration"),animationstart:bg("Animation","AnimationStart"),transitionend:bg("Transition","TransitionEnd")},B0={},Fk={};l&&(Fk=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function wg(c){if(B0[c])return B0[c];if(!Cu[c])return c;var d=Cu[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in Fk)return B0[c]=d[g];return c}var Vk=wg("animationend"),Bk=wg("animationiteration"),Uk=wg("animationstart"),zk=wg("transitionend"),qk=new Map,Hk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(c,d){qk.set(c,d),a(d,[c])}for(var U0=0;U0<Hk.length;U0++){var z0=Hk[U0],pG=z0.toLowerCase(),mG=z0[0].toUpperCase()+z0.slice(1);Oo(pG,"on"+mG)}Oo(Vk,"onAnimationEnd"),Oo(Bk,"onAnimationIteration"),Oo(Uk,"onAnimationStart"),Oo("dblclick","onDoubleClick"),Oo("focusin","onFocus"),Oo("focusout","onBlur"),Oo(zk,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gG=new Set("cancel close invalid load scroll toggle".split(" ").concat(hh));function Wk(c,d,g){var w=c.type||"unknown-event";c.currentTarget=g,Xm(w,d,void 0,c),c.currentTarget=null}function Gk(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],T=w.event;w=w.listeners;e:{var O=void 0;if(d)for(var B=w.length-1;0<=B;B--){var K=w[B],Z=K.instance,se=K.currentTarget;if(K=K.listener,Z!==O&&T.isPropagationStopped())break e;Wk(T,K,se),O=Z}else for(B=0;B<w.length;B++){if(K=w[B],Z=K.instance,se=K.currentTarget,K=K.listener,Z!==O&&T.isPropagationStopped())break e;Wk(T,K,se),O=Z}}}if(ra)throw c=Xf,ra=!1,Xf=null,c}function dr(c,d){var g=d[X0];g===void 0&&(g=d[X0]=new Set);var w=c+"__bubble";g.has(w)||(Kk(d,c,2,!1),g.add(w))}function q0(c,d,g){var w=0;d&&(w|=4),Kk(g,c,w,d)}var _g="_reactListening"+Math.random().toString(36).slice(2);function ph(c){if(!c[_g]){c[_g]=!0,n.forEach(function(g){g!=="selectionchange"&&(gG.has(g)||q0(g,!1,c),q0(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[_g]||(d[_g]=!0,q0("selectionchange",!1,d))}}function Kk(c,d,g,w){switch(ih(d)){case 1:var T=vr;break;case 4:T=R0;break;default:T=nh}g=T.bind(null,d,g,c),T=void 0,!li||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),w?T!==void 0?c.addEventListener(d,g,{capture:!0,passive:T}):c.addEventListener(d,g,!0):T!==void 0?c.addEventListener(d,g,{passive:T}):c.addEventListener(d,g,!1)}function H0(c,d,g,w,T){var O=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var B=w.tag;if(B===3||B===4){var K=w.stateNode.containerInfo;if(K===T||K.nodeType===8&&K.parentNode===T)break;if(B===4)for(B=w.return;B!==null;){var Z=B.tag;if((Z===3||Z===4)&&(Z=B.stateNode.containerInfo,Z===T||Z.nodeType===8&&Z.parentNode===T))return;B=B.return}for(;K!==null;){if(B=sc(K),B===null)return;if(Z=B.tag,Z===5||Z===6){w=O=B;continue e}K=K.parentNode}}w=w.return}So(function(){var se=O,xe=Ct(g),_e=[];e:{var ye=qk.get(c);if(ye!==void 0){var Ie=wu,$e=c;switch(c){case"keypress":if(bu(g)===0)break e;case"keydown":case"keyup":Ie=k;break;case"focusin":$e="focus",Ie=ju;break;case"focusout":$e="blur",Ie=ju;break;case"beforeblur":case"afterblur":Ie=ju;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=ce;break;case Vk:case Bk:case Uk:Ie=Ts;break;case zk:Ie=Yt;break;case"scroll":Ie=M0;break;case"wheel":Ie=kt;break;case"copy":case"cut":case"paste":Ie=mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=z}var Ve=(d&4)!==0,Cr=!Ve&&c==="scroll",ne=Ve?ye!==null?ye+"Capture":null:ye;Ve=[];for(var te=se,ie;te!==null;){ie=te;var je=ie.stateNode;if(ie.tag===5&&je!==null&&(ie=je,ne!==null&&(je=gr(te,ne),je!=null&&Ve.push(mh(te,je,ie)))),Cr)break;te=te.return}0<Ve.length&&(ye=new Ie(ye,$e,null,g,xe),_e.push({event:ye,listeners:Ve}))}}if((d&7)===0){e:{if(ye=c==="mouseover"||c==="pointerover",Ie=c==="mouseout"||c==="pointerout",ye&&g!==Je&&($e=g.relatedTarget||g.fromElement)&&(sc($e)||$e[Ps]))break e;if((Ie||ye)&&(ye=xe.window===xe?xe:(ye=xe.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ie?($e=g.relatedTarget||g.toElement,Ie=se,$e=$e?sc($e):null,$e!==null&&(Cr=na($e),$e!==Cr||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Ie=null,$e=se),Ie!==$e)){if(Ve=Su,je="onMouseLeave",ne="onMouseEnter",te="mouse",(c==="pointerout"||c==="pointerover")&&(Ve=z,je="onPointerLeave",ne="onPointerEnter",te="pointer"),Cr=Ie==null?ye:Ou(Ie),ie=$e==null?ye:Ou($e),ye=new Ve(je,te+"leave",Ie,g,xe),ye.target=Cr,ye.relatedTarget=ie,je=null,sc(xe)===se&&(Ve=new Ve(ne,te+"enter",$e,g,xe),Ve.target=ie,Ve.relatedTarget=Cr,je=Ve),Cr=je,Ie&&$e)t:{for(Ve=Ie,ne=$e,te=0,ie=Ve;ie;ie=ku(ie))te++;for(ie=0,je=ne;je;je=ku(je))ie++;for(;0<te-ie;)Ve=ku(Ve),te--;for(;0<ie-te;)ne=ku(ne),ie--;for(;te--;){if(Ve===ne||ne!==null&&Ve===ne.alternate)break t;Ve=ku(Ve),ne=ku(ne)}Ve=null}else Ve=null;Ie!==null&&Yk(_e,ye,Ie,Ve,!1),$e!==null&&Cr!==null&&Yk(_e,Cr,$e,Ve,!0)}}e:{if(ye=se?Ou(se):window,Ie=ye.nodeName&&ye.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ye.type==="file")var ze=sG;else if(Tk(ye))if(Ck)ze=uG;else{ze=lG;var Qe=oG}else(Ie=ye.nodeName)&&Ie.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(ze=cG);if(ze&&(ze=ze(c,se))){Pk(_e,ze,g,xe);break e}Qe&&Qe(c,ye,se),c==="focusout"&&(Qe=ye._wrapperState)&&Qe.controlled&&ye.type==="number"&&Tt(ye,"number",ye.value)}switch(Qe=se?Ou(se):window,c){case"focusin":(Tk(Qe)||Qe.contentEditable==="true")&&(Pu=Qe,F0=se,fh=null);break;case"focusout":fh=F0=Pu=null;break;case"mousedown":V0=!0;break;case"contextmenu":case"mouseup":case"dragend":V0=!1,$k(_e,g,xe);break;case"selectionchange":if(hG)break;case"keydown":case"keyup":$k(_e,g,xe)}var Xe;if(Ir)e:{switch(c){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Tu?Ak(c,g)&&(it="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(it="onCompositionStart");it&&(ac&&g.locale!=="ko"&&(Tu||it!=="onCompositionStart"?it==="onCompositionEnd"&&Tu&&(Xe=ah()):(di=xe,xu="value"in di?di.value:di.textContent,Tu=!0)),Qe=Sg(se,it),0<Qe.length&&(it=new lh(it,c,null,g,xe),_e.push({event:it,listeners:Qe}),Xe?it.data=Xe:(Xe=Nk(g),Xe!==null&&(it.data=Xe)))),(Xe=fi?rG(c,g):nG(c,g))&&(se=Sg(se,"onBeforeInput"),0<se.length&&(xe=new lh("onBeforeInput","beforeinput",null,g,xe),_e.push({event:xe,listeners:se}),xe.data=Xe))}Gk(_e,d)})}function mh(c,d,g){return{instance:c,listener:d,currentTarget:g}}function Sg(c,d){for(var g=d+"Capture",w=[];c!==null;){var T=c,O=T.stateNode;T.tag===5&&O!==null&&(T=O,O=gr(c,g),O!=null&&w.unshift(mh(c,O,T)),O=gr(c,d),O!=null&&w.push(mh(c,O,T))),c=c.return}return w}function ku(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Yk(c,d,g,w,T){for(var O=d._reactName,B=[];g!==null&&g!==w;){var K=g,Z=K.alternate,se=K.stateNode;if(Z!==null&&Z===w)break;K.tag===5&&se!==null&&(K=se,T?(Z=gr(g,O),Z!=null&&B.unshift(mh(g,Z,K))):T||(Z=gr(g,O),Z!=null&&B.push(mh(g,Z,K)))),g=g.return}B.length!==0&&c.push({event:d,listeners:B})}var vG=/\r\n?/g,yG=/\u0000|\uFFFD/g;function Qk(c){return(typeof c=="string"?c:""+c).replace(vG,`
`).replace(yG,"")}function Eg(c,d,g){if(d=Qk(d),Qk(c)!==d&&g)throw Error(r(425))}function jg(){}var W0=null,G0=null;function K0(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Y0=typeof setTimeout=="function"?setTimeout:void 0,xG=typeof clearTimeout=="function"?clearTimeout:void 0,Xk=typeof Promise=="function"?Promise:void 0,bG=typeof queueMicrotask=="function"?queueMicrotask:typeof Xk<"u"?function(c){return Xk.resolve(null).then(c).catch(wG)}:Y0;function wG(c){setTimeout(function(){throw c})}function Q0(c,d){var g=d,w=0;do{var T=g.nextSibling;if(c.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(w===0){c.removeChild(T),la(d);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=T}while(g);la(d)}function Ro(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function Jk(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),za="__reactFiber$"+Iu,gh="__reactProps$"+Iu,Ps="__reactContainer$"+Iu,X0="__reactEvents$"+Iu,_G="__reactListeners$"+Iu,SG="__reactHandles$"+Iu;function sc(c){var d=c[za];if(d)return d;for(var g=c.parentNode;g;){if(d=g[Ps]||g[za]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=Jk(c);c!==null;){if(g=c[za])return g;c=Jk(c)}return d}c=g,g=c.parentNode}return null}function vh(c){return c=c[za]||c[Ps],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Ou(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Ag(c){return c[gh]||null}var J0=[],Ru=-1;function Mo(c){return{current:c}}function fr(c){0>Ru||(c.current=J0[Ru],J0[Ru]=null,Ru--)}function ir(c,d){Ru++,J0[Ru]=c.current,c.current=d}var Do={},vn=Mo(Do),Yn=Mo(!1),oc=Do;function Mu(c,d){var g=c.type.contextTypes;if(!g)return Do;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var T={},O;for(O in g)T[O]=d[O];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=T),T}function Qn(c){return c=c.childContextTypes,c!=null}function Ng(){fr(Yn),fr(vn)}function Zk(c,d,g){if(vn.current!==Do)throw Error(r(168));ir(vn,d),ir(Yn,g)}function eI(c,d,g){var w=c.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var T in w)if(!(T in d))throw Error(r(108,ge(c)||"Unknown",T));return ee({},g,w)}function Tg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Do,oc=vn.current,ir(vn,c),ir(Yn,Yn.current),!0}function tI(c,d,g){var w=c.stateNode;if(!w)throw Error(r(169));g?(c=eI(c,d,oc),w.__reactInternalMemoizedMergedChildContext=c,fr(Yn),fr(vn),ir(vn,c)):fr(Yn),ir(Yn,g)}var Cs=null,Pg=!1,Z0=!1;function rI(c){Cs===null?Cs=[c]:Cs.push(c)}function EG(c){Pg=!0,rI(c)}function Lo(){if(!Z0&&Cs!==null){Z0=!0;var c=0,d=jt;try{var g=Cs;for(jt=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}Cs=null,Pg=!1}catch(T){throw Cs!==null&&(Cs=Cs.slice(c+1)),pu(Jl,Lo),T}finally{jt=d,Z0=!1}}return null}var Du=[],Lu=0,Cg=null,kg=0,Oi=[],Ri=0,lc=null,ks=1,Is="";function cc(c,d){Du[Lu++]=kg,Du[Lu++]=Cg,Cg=c,kg=d}function nI(c,d,g){Oi[Ri++]=ks,Oi[Ri++]=Is,Oi[Ri++]=lc,lc=c;var w=ks;c=Is;var T=32-In(w)-1;w&=~(1<<T),g+=1;var O=32-In(d)+T;if(30<O){var B=T-T%5;O=(w&(1<<B)-1).toString(32),w>>=B,T-=B,ks=1<<32-In(d)+T|g<<T|w,Is=O+c}else ks=1<<O|g<<T|w,Is=c}function ew(c){c.return!==null&&(cc(c,1),nI(c,1,0))}function tw(c){for(;c===Cg;)Cg=Du[--Lu],Du[Lu]=null,kg=Du[--Lu],Du[Lu]=null;for(;c===lc;)lc=Oi[--Ri],Oi[Ri]=null,Is=Oi[--Ri],Oi[Ri]=null,ks=Oi[--Ri],Oi[Ri]=null}var hi=null,pi=null,yr=!1,da=null;function iI(c,d){var g=$i(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function aI(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,hi=c,pi=Ro(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,hi=c,pi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=lc!==null?{id:ks,overflow:Is}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=$i(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,hi=c,pi=null,!0):!1;default:return!1}}function rw(c){return(c.mode&1)!==0&&(c.flags&128)===0}function nw(c){if(yr){var d=pi;if(d){var g=d;if(!aI(c,d)){if(rw(c))throw Error(r(418));d=Ro(g.nextSibling);var w=hi;d&&aI(c,d)?iI(w,g):(c.flags=c.flags&-4097|2,yr=!1,hi=c)}}else{if(rw(c))throw Error(r(418));c.flags=c.flags&-4097|2,yr=!1,hi=c}}}function sI(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;hi=c}function Ig(c){if(c!==hi)return!1;if(!yr)return sI(c),yr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!K0(c.type,c.memoizedProps)),d&&(d=pi)){if(rw(c))throw oI(),Error(r(418));for(;d;)iI(c,d),d=Ro(d.nextSibling)}if(sI(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){pi=Ro(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}pi=null}}else pi=hi?Ro(c.stateNode.nextSibling):null;return!0}function oI(){for(var c=pi;c;)c=Ro(c.nextSibling)}function $u(){pi=hi=null,yr=!1}function iw(c){da===null?da=[c]:da.push(c)}var jG=E.ReactCurrentBatchConfig;function yh(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,c));var T=w,O=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(B){var K=T.refs;B===null?delete K[O]:K[O]=B},d._stringRef=O,d)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function Og(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function lI(c){var d=c._init;return d(c._payload)}function cI(c){function d(ne,te){if(c){var ie=ne.deletions;ie===null?(ne.deletions=[te],ne.flags|=16):ie.push(te)}}function g(ne,te){if(!c)return null;for(;te!==null;)d(ne,te),te=te.sibling;return null}function w(ne,te){for(ne=new Map;te!==null;)te.key!==null?ne.set(te.key,te):ne.set(te.index,te),te=te.sibling;return ne}function T(ne,te){return ne=Ho(ne,te),ne.index=0,ne.sibling=null,ne}function O(ne,te,ie){return ne.index=ie,c?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<te?(ne.flags|=2,te):ie):(ne.flags|=2,te)):(ne.flags|=1048576,te)}function B(ne){return c&&ne.alternate===null&&(ne.flags|=2),ne}function K(ne,te,ie,je){return te===null||te.tag!==6?(te=Yw(ie,ne.mode,je),te.return=ne,te):(te=T(te,ie),te.return=ne,te)}function Z(ne,te,ie,je){var ze=ie.type;return ze===C?xe(ne,te,ie.props.children,je,ie.key):te!==null&&(te.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Y&&lI(ze)===te.type)?(je=T(te,ie.props),je.ref=yh(ne,te,ie),je.return=ne,je):(je=nv(ie.type,ie.key,ie.props,null,ne.mode,je),je.ref=yh(ne,te,ie),je.return=ne,je)}function se(ne,te,ie,je){return te===null||te.tag!==4||te.stateNode.containerInfo!==ie.containerInfo||te.stateNode.implementation!==ie.implementation?(te=Qw(ie,ne.mode,je),te.return=ne,te):(te=T(te,ie.children||[]),te.return=ne,te)}function xe(ne,te,ie,je,ze){return te===null||te.tag!==7?(te=vc(ie,ne.mode,je,ze),te.return=ne,te):(te=T(te,ie),te.return=ne,te)}function _e(ne,te,ie){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Yw(""+te,ne.mode,ie),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return ie=nv(te.type,te.key,te.props,null,ne.mode,ie),ie.ref=yh(ne,null,te),ie.return=ne,ie;case R:return te=Qw(te,ne.mode,ie),te.return=ne,te;case Y:var je=te._init;return _e(ne,je(te._payload),ie)}if(Lt(te)||J(te))return te=vc(te,ne.mode,ie,null),te.return=ne,te;Og(ne,te)}return null}function ye(ne,te,ie,je){var ze=te!==null?te.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ze!==null?null:K(ne,te,""+ie,je);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case P:return ie.key===ze?Z(ne,te,ie,je):null;case R:return ie.key===ze?se(ne,te,ie,je):null;case Y:return ze=ie._init,ye(ne,te,ze(ie._payload),je)}if(Lt(ie)||J(ie))return ze!==null?null:xe(ne,te,ie,je,null);Og(ne,ie)}return null}function Ie(ne,te,ie,je,ze){if(typeof je=="string"&&je!==""||typeof je=="number")return ne=ne.get(ie)||null,K(te,ne,""+je,ze);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case P:return ne=ne.get(je.key===null?ie:je.key)||null,Z(te,ne,je,ze);case R:return ne=ne.get(je.key===null?ie:je.key)||null,se(te,ne,je,ze);case Y:var Qe=je._init;return Ie(ne,te,ie,Qe(je._payload),ze)}if(Lt(je)||J(je))return ne=ne.get(ie)||null,xe(te,ne,je,ze,null);Og(te,je)}return null}function $e(ne,te,ie,je){for(var ze=null,Qe=null,Xe=te,it=te=0,Zr=null;Xe!==null&&it<ie.length;it++){Xe.index>it?(Zr=Xe,Xe=null):Zr=Xe.sibling;var $t=ye(ne,Xe,ie[it],je);if($t===null){Xe===null&&(Xe=Zr);break}c&&Xe&&$t.alternate===null&&d(ne,Xe),te=O($t,te,it),Qe===null?ze=$t:Qe.sibling=$t,Qe=$t,Xe=Zr}if(it===ie.length)return g(ne,Xe),yr&&cc(ne,it),ze;if(Xe===null){for(;it<ie.length;it++)Xe=_e(ne,ie[it],je),Xe!==null&&(te=O(Xe,te,it),Qe===null?ze=Xe:Qe.sibling=Xe,Qe=Xe);return yr&&cc(ne,it),ze}for(Xe=w(ne,Xe);it<ie.length;it++)Zr=Ie(Xe,ne,it,ie[it],je),Zr!==null&&(c&&Zr.alternate!==null&&Xe.delete(Zr.key===null?it:Zr.key),te=O(Zr,te,it),Qe===null?ze=Zr:Qe.sibling=Zr,Qe=Zr);return c&&Xe.forEach(function(Wo){return d(ne,Wo)}),yr&&cc(ne,it),ze}function Ve(ne,te,ie,je){var ze=J(ie);if(typeof ze!="function")throw Error(r(150));if(ie=ze.call(ie),ie==null)throw Error(r(151));for(var Qe=ze=null,Xe=te,it=te=0,Zr=null,$t=ie.next();Xe!==null&&!$t.done;it++,$t=ie.next()){Xe.index>it?(Zr=Xe,Xe=null):Zr=Xe.sibling;var Wo=ye(ne,Xe,$t.value,je);if(Wo===null){Xe===null&&(Xe=Zr);break}c&&Xe&&Wo.alternate===null&&d(ne,Xe),te=O(Wo,te,it),Qe===null?ze=Wo:Qe.sibling=Wo,Qe=Wo,Xe=Zr}if($t.done)return g(ne,Xe),yr&&cc(ne,it),ze;if(Xe===null){for(;!$t.done;it++,$t=ie.next())$t=_e(ne,$t.value,je),$t!==null&&(te=O($t,te,it),Qe===null?ze=$t:Qe.sibling=$t,Qe=$t);return yr&&cc(ne,it),ze}for(Xe=w(ne,Xe);!$t.done;it++,$t=ie.next())$t=Ie(Xe,ne,it,$t.value,je),$t!==null&&(c&&$t.alternate!==null&&Xe.delete($t.key===null?it:$t.key),te=O($t,te,it),Qe===null?ze=$t:Qe.sibling=$t,Qe=$t);return c&&Xe.forEach(function(iK){return d(ne,iK)}),yr&&cc(ne,it),ze}function Cr(ne,te,ie,je){if(typeof ie=="object"&&ie!==null&&ie.type===C&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case P:e:{for(var ze=ie.key,Qe=te;Qe!==null;){if(Qe.key===ze){if(ze=ie.type,ze===C){if(Qe.tag===7){g(ne,Qe.sibling),te=T(Qe,ie.props.children),te.return=ne,ne=te;break e}}else if(Qe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Y&&lI(ze)===Qe.type){g(ne,Qe.sibling),te=T(Qe,ie.props),te.ref=yh(ne,Qe,ie),te.return=ne,ne=te;break e}g(ne,Qe);break}else d(ne,Qe);Qe=Qe.sibling}ie.type===C?(te=vc(ie.props.children,ne.mode,je,ie.key),te.return=ne,ne=te):(je=nv(ie.type,ie.key,ie.props,null,ne.mode,je),je.ref=yh(ne,te,ie),je.return=ne,ne=je)}return B(ne);case R:e:{for(Qe=ie.key;te!==null;){if(te.key===Qe)if(te.tag===4&&te.stateNode.containerInfo===ie.containerInfo&&te.stateNode.implementation===ie.implementation){g(ne,te.sibling),te=T(te,ie.children||[]),te.return=ne,ne=te;break e}else{g(ne,te);break}else d(ne,te);te=te.sibling}te=Qw(ie,ne.mode,je),te.return=ne,ne=te}return B(ne);case Y:return Qe=ie._init,Cr(ne,te,Qe(ie._payload),je)}if(Lt(ie))return $e(ne,te,ie,je);if(J(ie))return Ve(ne,te,ie,je);Og(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,te!==null&&te.tag===6?(g(ne,te.sibling),te=T(te,ie),te.return=ne,ne=te):(g(ne,te),te=Yw(ie,ne.mode,je),te.return=ne,ne=te),B(ne)):g(ne,te)}return Cr}var Fu=cI(!0),uI=cI(!1),Rg=Mo(null),Mg=null,Vu=null,aw=null;function sw(){aw=Vu=Mg=null}function ow(c){var d=Rg.current;fr(Rg),c._currentValue=d}function lw(c,d,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),c===g)break;c=c.return}}function Bu(c,d){Mg=c,aw=Vu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(Xn=!0),c.firstContext=null)}function Mi(c){var d=c._currentValue;if(aw!==c)if(c={context:c,memoizedValue:d,next:null},Vu===null){if(Mg===null)throw Error(r(308));Vu=c,Mg.dependencies={lanes:0,firstContext:c}}else Vu=Vu.next=c;return d}var uc=null;function cw(c){uc===null?uc=[c]:uc.push(c)}function dI(c,d,g,w){var T=d.interleaved;return T===null?(g.next=g,cw(d)):(g.next=T.next,T.next=g),d.interleaved=g,Os(c,w)}function Os(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var $o=!1;function uw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fI(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Rs(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Fo(c,d,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(Rt&2)!==0){var T=w.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),w.pending=d,Os(c,g)}return T=w.interleaved,T===null?(d.next=d,cw(w)):(d.next=T.next,T.next=d),w.interleaved=d,Os(c,g)}function Dg(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,To(c,g)}}function hI(c,d){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};O===null?T=O=B:O=O.next=B,g=g.next}while(g!==null);O===null?T=O=d:O=O.next=d}else T=O=d;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function Lg(c,d,g,w){var T=c.updateQueue;$o=!1;var O=T.firstBaseUpdate,B=T.lastBaseUpdate,K=T.shared.pending;if(K!==null){T.shared.pending=null;var Z=K,se=Z.next;Z.next=null,B===null?O=se:B.next=se,B=Z;var xe=c.alternate;xe!==null&&(xe=xe.updateQueue,K=xe.lastBaseUpdate,K!==B&&(K===null?xe.firstBaseUpdate=se:K.next=se,xe.lastBaseUpdate=Z))}if(O!==null){var _e=T.baseState;B=0,xe=se=Z=null,K=O;do{var ye=K.lane,Ie=K.eventTime;if((w&ye)===ye){xe!==null&&(xe=xe.next={eventTime:Ie,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var $e=c,Ve=K;switch(ye=d,Ie=g,Ve.tag){case 1:if($e=Ve.payload,typeof $e=="function"){_e=$e.call(Ie,_e,ye);break e}_e=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Ve.payload,ye=typeof $e=="function"?$e.call(Ie,_e,ye):$e,ye==null)break e;_e=ee({},_e,ye);break e;case 2:$o=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,ye=T.effects,ye===null?T.effects=[K]:ye.push(K))}else Ie={eventTime:Ie,lane:ye,tag:K.tag,payload:K.payload,callback:K.callback,next:null},xe===null?(se=xe=Ie,Z=_e):xe=xe.next=Ie,B|=ye;if(K=K.next,K===null){if(K=T.shared.pending,K===null)break;ye=K,K=ye.next,ye.next=null,T.lastBaseUpdate=ye,T.shared.pending=null}}while(!0);if(xe===null&&(Z=_e),T.baseState=Z,T.firstBaseUpdate=se,T.lastBaseUpdate=xe,d=T.shared.interleaved,d!==null){T=d;do B|=T.lane,T=T.next;while(T!==d)}else O===null&&(T.shared.lanes=0);hc|=B,c.lanes=B,c.memoizedState=_e}}function pI(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var w=c[d],T=w.callback;if(T!==null){if(w.callback=null,w=g,typeof T!="function")throw Error(r(191,T));T.call(w)}}}var xh={},qa=Mo(xh),bh=Mo(xh),wh=Mo(xh);function dc(c){if(c===xh)throw Error(r(174));return c}function dw(c,d){switch(ir(wh,d),ir(bh,c),ir(qa,xh),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:bt(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=bt(d,c)}fr(qa),ir(qa,d)}function Uu(){fr(qa),fr(bh),fr(wh)}function mI(c){dc(wh.current);var d=dc(qa.current),g=bt(d,c.type);d!==g&&(ir(bh,c),ir(qa,g))}function fw(c){bh.current===c&&(fr(qa),fr(bh))}var _r=Mo(0);function $g(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var hw=[];function pw(){for(var c=0;c<hw.length;c++)hw[c]._workInProgressVersionPrimary=null;hw.length=0}var Fg=E.ReactCurrentDispatcher,mw=E.ReactCurrentBatchConfig,fc=0,Sr=null,Ur=null,Xr=null,Vg=!1,_h=!1,Sh=0,AG=0;function yn(){throw Error(r(321))}function gw(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!ua(c[g],d[g]))return!1;return!0}function vw(c,d,g,w,T,O){if(fc=O,Sr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Fg.current=c===null||c.memoizedState===null?CG:kG,c=g(w,T),_h){O=0;do{if(_h=!1,Sh=0,25<=O)throw Error(r(301));O+=1,Xr=Ur=null,d.updateQueue=null,Fg.current=IG,c=g(w,T)}while(_h)}if(Fg.current=zg,d=Ur!==null&&Ur.next!==null,fc=0,Xr=Ur=Sr=null,Vg=!1,d)throw Error(r(300));return c}function yw(){var c=Sh!==0;return Sh=0,c}function Ha(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?Sr.memoizedState=Xr=c:Xr=Xr.next=c,Xr}function Di(){if(Ur===null){var c=Sr.alternate;c=c!==null?c.memoizedState:null}else c=Ur.next;var d=Xr===null?Sr.memoizedState:Xr.next;if(d!==null)Xr=d,Ur=c;else{if(c===null)throw Error(r(310));Ur=c,c={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Xr===null?Sr.memoizedState=Xr=c:Xr=Xr.next=c}return Xr}function Eh(c,d){return typeof d=="function"?d(c):d}function xw(c){var d=Di(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=Ur,T=w.baseQueue,O=g.pending;if(O!==null){if(T!==null){var B=T.next;T.next=O.next,O.next=B}w.baseQueue=T=O,g.pending=null}if(T!==null){O=T.next,w=w.baseState;var K=B=null,Z=null,se=O;do{var xe=se.lane;if((fc&xe)===xe)Z!==null&&(Z=Z.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),w=se.hasEagerState?se.eagerState:c(w,se.action);else{var _e={lane:xe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Z===null?(K=Z=_e,B=w):Z=Z.next=_e,Sr.lanes|=xe,hc|=xe}se=se.next}while(se!==null&&se!==O);Z===null?B=w:Z.next=K,ua(w,d.memoizedState)||(Xn=!0),d.memoizedState=w,d.baseState=B,d.baseQueue=Z,g.lastRenderedState=w}if(c=g.interleaved,c!==null){T=c;do O=T.lane,Sr.lanes|=O,hc|=O,T=T.next;while(T!==c)}else T===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function bw(c){var d=Di(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=g.dispatch,T=g.pending,O=d.memoizedState;if(T!==null){g.pending=null;var B=T=T.next;do O=c(O,B.action),B=B.next;while(B!==T);ua(O,d.memoizedState)||(Xn=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),g.lastRenderedState=O}return[O,w]}function gI(){}function vI(c,d){var g=Sr,w=Di(),T=d(),O=!ua(w.memoizedState,T);if(O&&(w.memoizedState=T,Xn=!0),w=w.queue,ww(bI.bind(null,g,w,c),[c]),w.getSnapshot!==d||O||Xr!==null&&Xr.memoizedState.tag&1){if(g.flags|=2048,jh(9,xI.bind(null,g,w,T,d),void 0,null),Jr===null)throw Error(r(349));(fc&30)!==0||yI(g,d,T)}return T}function yI(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=Sr.updateQueue,d===null?(d={lastEffect:null,stores:null},Sr.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function xI(c,d,g,w){d.value=g,d.getSnapshot=w,wI(d)&&_I(c)}function bI(c,d,g){return g(function(){wI(d)&&_I(c)})}function wI(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!ua(c,g)}catch{return!0}}function _I(c){var d=Os(c,1);d!==null&&ma(d,c,1,-1)}function SI(c){var d=Ha();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:c},d.queue=c,c=c.dispatch=PG.bind(null,Sr,c),[d.memoizedState,c]}function jh(c,d,g,w){return c={tag:c,create:d,destroy:g,deps:w,next:null},d=Sr.updateQueue,d===null?(d={lastEffect:null,stores:null},Sr.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,d.lastEffect=c)),c}function EI(){return Di().memoizedState}function Bg(c,d,g,w){var T=Ha();Sr.flags|=c,T.memoizedState=jh(1|d,g,void 0,w===void 0?null:w)}function Ug(c,d,g,w){var T=Di();w=w===void 0?null:w;var O=void 0;if(Ur!==null){var B=Ur.memoizedState;if(O=B.destroy,w!==null&&gw(w,B.deps)){T.memoizedState=jh(d,g,O,w);return}}Sr.flags|=c,T.memoizedState=jh(1|d,g,O,w)}function jI(c,d){return Bg(8390656,8,c,d)}function ww(c,d){return Ug(2048,8,c,d)}function AI(c,d){return Ug(4,2,c,d)}function NI(c,d){return Ug(4,4,c,d)}function TI(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function PI(c,d,g){return g=g!=null?g.concat([c]):null,Ug(4,4,TI.bind(null,d,c),g)}function _w(){}function CI(c,d){var g=Di();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&gw(d,w[1])?w[0]:(g.memoizedState=[c,d],c)}function kI(c,d){var g=Di();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&gw(d,w[1])?w[0]:(c=c(),g.memoizedState=[c,d],c)}function II(c,d,g){return(fc&21)===0?(c.baseState&&(c.baseState=!1,Xn=!0),c.memoizedState=g):(ua(g,d)||(g=tc(),Sr.lanes|=g,hc|=g,c.baseState=!0),d)}function NG(c,d){var g=jt;jt=g!==0&&4>g?g:4,c(!0);var w=mw.transition;mw.transition={};try{c(!1),d()}finally{jt=g,mw.transition=w}}function OI(){return Di().memoizedState}function TG(c,d,g){var w=zo(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},RI(c))MI(d,g);else if(g=dI(c,d,g,w),g!==null){var T=Mn();ma(g,c,w,T),DI(g,d,w)}}function PG(c,d,g){var w=zo(c),T={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(RI(c))MI(d,T);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var B=d.lastRenderedState,K=O(B,g);if(T.hasEagerState=!0,T.eagerState=K,ua(K,B)){var Z=d.interleaved;Z===null?(T.next=T,cw(d)):(T.next=Z.next,Z.next=T),d.interleaved=T;return}}catch{}finally{}g=dI(c,d,T,w),g!==null&&(T=Mn(),ma(g,c,w,T),DI(g,d,w))}}function RI(c){var d=c.alternate;return c===Sr||d!==null&&d===Sr}function MI(c,d){_h=Vg=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function DI(c,d,g){if((g&4194240)!==0){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,To(c,g)}}var zg={readContext:Mi,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},CG={readContext:Mi,useCallback:function(c,d){return Ha().memoizedState=[c,d===void 0?null:d],c},useContext:Mi,useEffect:jI,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,Bg(4194308,4,TI.bind(null,d,c),g)},useLayoutEffect:function(c,d){return Bg(4194308,4,c,d)},useInsertionEffect:function(c,d){return Bg(4,2,c,d)},useMemo:function(c,d){var g=Ha();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var w=Ha();return d=g!==void 0?g(d):d,w.memoizedState=w.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},w.queue=c,c=c.dispatch=TG.bind(null,Sr,c),[w.memoizedState,c]},useRef:function(c){var d=Ha();return c={current:c},d.memoizedState=c},useState:SI,useDebugValue:_w,useDeferredValue:function(c){return Ha().memoizedState=c},useTransition:function(){var c=SI(!1),d=c[0];return c=NG.bind(null,c[1]),Ha().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var w=Sr,T=Ha();if(yr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),Jr===null)throw Error(r(349));(fc&30)!==0||yI(w,d,g)}T.memoizedState=g;var O={value:g,getSnapshot:d};return T.queue=O,jI(bI.bind(null,w,O,c),[c]),w.flags|=2048,jh(9,xI.bind(null,w,O,g,d),void 0,null),g},useId:function(){var c=Ha(),d=Jr.identifierPrefix;if(yr){var g=Is,w=ks;g=(w&~(1<<32-In(w)-1)).toString(32)+g,d=":"+d+"R"+g,g=Sh++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=AG++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},kG={readContext:Mi,useCallback:CI,useContext:Mi,useEffect:ww,useImperativeHandle:PI,useInsertionEffect:AI,useLayoutEffect:NI,useMemo:kI,useReducer:xw,useRef:EI,useState:function(){return xw(Eh)},useDebugValue:_w,useDeferredValue:function(c){var d=Di();return II(d,Ur.memoizedState,c)},useTransition:function(){var c=xw(Eh)[0],d=Di().memoizedState;return[c,d]},useMutableSource:gI,useSyncExternalStore:vI,useId:OI,unstable_isNewReconciler:!1},IG={readContext:Mi,useCallback:CI,useContext:Mi,useEffect:ww,useImperativeHandle:PI,useInsertionEffect:AI,useLayoutEffect:NI,useMemo:kI,useReducer:bw,useRef:EI,useState:function(){return bw(Eh)},useDebugValue:_w,useDeferredValue:function(c){var d=Di();return Ur===null?d.memoizedState=c:II(d,Ur.memoizedState,c)},useTransition:function(){var c=bw(Eh)[0],d=Di().memoizedState;return[c,d]},useMutableSource:gI,useSyncExternalStore:vI,useId:OI,unstable_isNewReconciler:!1};function fa(c,d){if(c&&c.defaultProps){d=ee({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}function Sw(c,d,g,w){d=c.memoizedState,g=g(w,d),g=g==null?d:ee({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var qg={isMounted:function(c){return(c=c._reactInternals)?na(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var w=Mn(),T=zo(c),O=Rs(w,T);O.payload=d,g!=null&&(O.callback=g),d=Fo(c,O,T),d!==null&&(ma(d,c,T,w),Dg(d,c,T))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var w=Mn(),T=zo(c),O=Rs(w,T);O.tag=1,O.payload=d,g!=null&&(O.callback=g),d=Fo(c,O,T),d!==null&&(ma(d,c,T,w),Dg(d,c,T))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=Mn(),w=zo(c),T=Rs(g,w);T.tag=2,d!=null&&(T.callback=d),d=Fo(c,T,w),d!==null&&(ma(d,c,w,g),Dg(d,c,w))}};function LI(c,d,g,w,T,O,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,O,B):d.prototype&&d.prototype.isPureReactComponent?!dh(g,w)||!dh(T,O):!0}function $I(c,d,g){var w=!1,T=Do,O=d.contextType;return typeof O=="object"&&O!==null?O=Mi(O):(T=Qn(d)?oc:vn.current,w=d.contextTypes,O=(w=w!=null)?Mu(c,T):Do),d=new d(g,O),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qg,c.stateNode=d,d._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=O),d}function FI(c,d,g,w){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,w),d.state!==c&&qg.enqueueReplaceState(d,d.state,null)}function Ew(c,d,g,w){var T=c.stateNode;T.props=g,T.state=c.memoizedState,T.refs={},uw(c);var O=d.contextType;typeof O=="object"&&O!==null?T.context=Mi(O):(O=Qn(d)?oc:vn.current,T.context=Mu(c,O)),T.state=c.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Sw(c,d,O,g),T.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&qg.enqueueReplaceState(T,T.state,null),Lg(c,g,T,w),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}function zu(c,d){try{var g="",w=d;do g+=Ae(w),w=w.return;while(w);var T=g}catch(O){T=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:d,stack:T,digest:null}}function jw(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function Aw(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var OG=typeof WeakMap=="function"?WeakMap:Map;function VI(c,d,g){g=Rs(-1,g),g.tag=3,g.payload={element:null};var w=d.value;return g.callback=function(){Xg||(Xg=!0,Bw=w),Aw(c,d)},g}function BI(c,d,g){g=Rs(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var T=d.value;g.payload=function(){return w(T)},g.callback=function(){Aw(c,d)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(g.callback=function(){Aw(c,d),typeof w!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var B=d.stack;this.componentDidCatch(d.value,{componentStack:B!==null?B:""})}),g}function UI(c,d,g){var w=c.pingCache;if(w===null){w=c.pingCache=new OG;var T=new Set;w.set(d,T)}else T=w.get(d),T===void 0&&(T=new Set,w.set(d,T));T.has(g)||(T.add(g),c=GG.bind(null,c,d,g),d.then(c,c))}function zI(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function qI(c,d,g,w,T){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=Rs(-1,1),d.tag=2,Fo(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=T,c)}var RG=E.ReactCurrentOwner,Xn=!1;function Rn(c,d,g,w){d.child=c===null?uI(d,null,g,w):Fu(d,c.child,g,w)}function HI(c,d,g,w,T){g=g.render;var O=d.ref;return Bu(d,T),w=vw(c,d,g,w,O,T),g=yw(),c!==null&&!Xn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,Ms(c,d,T)):(yr&&g&&ew(d),d.flags|=1,Rn(c,d,w,T),d.child)}function WI(c,d,g,w,T){if(c===null){var O=g.type;return typeof O=="function"&&!Kw(O)&&O.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=O,GI(c,d,O,w,T)):(c=nv(g.type,null,w,d,d.mode,T),c.ref=d.ref,c.return=d,d.child=c)}if(O=c.child,(c.lanes&T)===0){var B=O.memoizedProps;if(g=g.compare,g=g!==null?g:dh,g(B,w)&&c.ref===d.ref)return Ms(c,d,T)}return d.flags|=1,c=Ho(O,w),c.ref=d.ref,c.return=d,d.child=c}function GI(c,d,g,w,T){if(c!==null){var O=c.memoizedProps;if(dh(O,w)&&c.ref===d.ref)if(Xn=!1,d.pendingProps=w=O,(c.lanes&T)!==0)(c.flags&131072)!==0&&(Xn=!0);else return d.lanes=c.lanes,Ms(c,d,T)}return Nw(c,d,g,w,T)}function KI(c,d,g){var w=d.pendingProps,T=w.children,O=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Hu,mi),mi|=g;else{if((g&1073741824)===0)return c=O!==null?O.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,ir(Hu,mi),mi|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=O!==null?O.baseLanes:g,ir(Hu,mi),mi|=w}else O!==null?(w=O.baseLanes|g,d.memoizedState=null):w=g,ir(Hu,mi),mi|=w;return Rn(c,d,T,g),d.child}function YI(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Nw(c,d,g,w,T){var O=Qn(g)?oc:vn.current;return O=Mu(d,O),Bu(d,T),g=vw(c,d,g,w,O,T),w=yw(),c!==null&&!Xn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,Ms(c,d,T)):(yr&&w&&ew(d),d.flags|=1,Rn(c,d,g,T),d.child)}function QI(c,d,g,w,T){if(Qn(g)){var O=!0;Tg(d)}else O=!1;if(Bu(d,T),d.stateNode===null)Wg(c,d),$I(d,g,w),Ew(d,g,w,T),w=!0;else if(c===null){var B=d.stateNode,K=d.memoizedProps;B.props=K;var Z=B.context,se=g.contextType;typeof se=="object"&&se!==null?se=Mi(se):(se=Qn(g)?oc:vn.current,se=Mu(d,se));var xe=g.getDerivedStateFromProps,_e=typeof xe=="function"||typeof B.getSnapshotBeforeUpdate=="function";_e||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==w||Z!==se)&&FI(d,B,w,se),$o=!1;var ye=d.memoizedState;B.state=ye,Lg(d,w,B,T),Z=d.memoizedState,K!==w||ye!==Z||Yn.current||$o?(typeof xe=="function"&&(Sw(d,g,xe,w),Z=d.memoizedState),(K=$o||LI(d,g,K,w,ye,Z,se))?(_e||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(d.flags|=4194308)):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=Z),B.props=w,B.state=Z,B.context=se,w=K):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{B=d.stateNode,fI(c,d),K=d.memoizedProps,se=d.type===d.elementType?K:fa(d.type,K),B.props=se,_e=d.pendingProps,ye=B.context,Z=g.contextType,typeof Z=="object"&&Z!==null?Z=Mi(Z):(Z=Qn(g)?oc:vn.current,Z=Mu(d,Z));var Ie=g.getDerivedStateFromProps;(xe=typeof Ie=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==_e||ye!==Z)&&FI(d,B,w,Z),$o=!1,ye=d.memoizedState,B.state=ye,Lg(d,w,B,T);var $e=d.memoizedState;K!==_e||ye!==$e||Yn.current||$o?(typeof Ie=="function"&&(Sw(d,g,Ie,w),$e=d.memoizedState),(se=$o||LI(d,g,se,w,ye,$e,Z)||!1)?(xe||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,$e,Z),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,$e,Z)),typeof B.componentDidUpdate=="function"&&(d.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof B.componentDidUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=$e),B.props=w,B.state=$e,B.context=Z,w=se):(typeof B.componentDidUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=1024),w=!1)}return Tw(c,d,g,w,O,T)}function Tw(c,d,g,w,T,O){YI(c,d);var B=(d.flags&128)!==0;if(!w&&!B)return T&&tI(d,g,!1),Ms(c,d,O);w=d.stateNode,RG.current=d;var K=B&&typeof g.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,c!==null&&B?(d.child=Fu(d,c.child,null,O),d.child=Fu(d,null,K,O)):Rn(c,d,K,O),d.memoizedState=w.state,T&&tI(d,g,!0),d.child}function XI(c){var d=c.stateNode;d.pendingContext?Zk(c,d.pendingContext,d.pendingContext!==d.context):d.context&&Zk(c,d.context,!1),dw(c,d.containerInfo)}function JI(c,d,g,w,T){return $u(),iw(T),d.flags|=256,Rn(c,d,g,w),d.child}var Pw={dehydrated:null,treeContext:null,retryLane:0};function Cw(c){return{baseLanes:c,cachePool:null,transitions:null}}function ZI(c,d,g){var w=d.pendingProps,T=_r.current,O=!1,B=(d.flags&128)!==0,K;if((K=B)||(K=c!==null&&c.memoizedState===null?!1:(T&2)!==0),K?(O=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),ir(_r,T&1),c===null)return nw(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(B=w.children,c=w.fallback,O?(w=d.mode,O=d.child,B={mode:"hidden",children:B},(w&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=B):O=iv(B,w,0,null),c=vc(c,w,g,null),O.return=d,c.return=d,O.sibling=c,d.child=O,d.child.memoizedState=Cw(g),d.memoizedState=Pw,c):kw(d,B));if(T=c.memoizedState,T!==null&&(K=T.dehydrated,K!==null))return MG(c,d,B,w,K,T,g);if(O){O=w.fallback,B=d.mode,T=c.child,K=T.sibling;var Z={mode:"hidden",children:w.children};return(B&1)===0&&d.child!==T?(w=d.child,w.childLanes=0,w.pendingProps=Z,d.deletions=null):(w=Ho(T,Z),w.subtreeFlags=T.subtreeFlags&14680064),K!==null?O=Ho(K,O):(O=vc(O,B,g,null),O.flags|=2),O.return=d,w.return=d,w.sibling=O,d.child=w,w=O,O=d.child,B=c.child.memoizedState,B=B===null?Cw(g):{baseLanes:B.baseLanes|g,cachePool:null,transitions:B.transitions},O.memoizedState=B,O.childLanes=c.childLanes&~g,d.memoizedState=Pw,w}return O=c.child,c=O.sibling,w=Ho(O,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=g),w.return=d,w.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=w,d.memoizedState=null,w}function kw(c,d){return d=iv({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function Hg(c,d,g,w){return w!==null&&iw(w),Fu(d,c.child,null,g),c=kw(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function MG(c,d,g,w,T,O,B){if(g)return d.flags&256?(d.flags&=-257,w=jw(Error(r(422))),Hg(c,d,B,w)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(O=w.fallback,T=d.mode,w=iv({mode:"visible",children:w.children},T,0,null),O=vc(O,T,B,null),O.flags|=2,w.return=d,O.return=d,w.sibling=O,d.child=w,(d.mode&1)!==0&&Fu(d,c.child,null,B),d.child.memoizedState=Cw(B),d.memoizedState=Pw,O);if((d.mode&1)===0)return Hg(c,d,B,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var K=w.dgst;return w=K,O=Error(r(419)),w=jw(O,w,void 0),Hg(c,d,B,w)}if(K=(B&c.childLanes)!==0,Xn||K){if(w=Jr,w!==null){switch(B&-B){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|B))!==0?0:T,T!==0&&T!==O.retryLane&&(O.retryLane=T,Os(c,T),ma(w,c,T,-1))}return Gw(),w=jw(Error(r(421))),Hg(c,d,B,w)}return T.data==="$?"?(d.flags|=128,d.child=c.child,d=KG.bind(null,c),T._reactRetry=d,null):(c=O.treeContext,pi=Ro(T.nextSibling),hi=d,yr=!0,da=null,c!==null&&(Oi[Ri++]=ks,Oi[Ri++]=Is,Oi[Ri++]=lc,ks=c.id,Is=c.overflow,lc=d),d=kw(d,w.children),d.flags|=4096,d)}function e2(c,d,g){c.lanes|=d;var w=c.alternate;w!==null&&(w.lanes|=d),lw(c.return,d,g)}function Iw(c,d,g,w,T){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=g,O.tailMode=T)}function t2(c,d,g){var w=d.pendingProps,T=w.revealOrder,O=w.tail;if(Rn(c,d,w.children,g),w=_r.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&e2(c,g,d);else if(c.tag===19)e2(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(ir(_r,w),(d.mode&1)===0)d.memoizedState=null;else switch(T){case"forwards":for(g=d.child,T=null;g!==null;)c=g.alternate,c!==null&&$g(c)===null&&(T=g),g=g.sibling;g=T,g===null?(T=d.child,d.child=null):(T=g.sibling,g.sibling=null),Iw(d,!1,T,g,O);break;case"backwards":for(g=null,T=d.child,d.child=null;T!==null;){if(c=T.alternate,c!==null&&$g(c)===null){d.child=T;break}c=T.sibling,T.sibling=g,g=T,T=c}Iw(d,!0,g,null,O);break;case"together":Iw(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Wg(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Ms(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),hc|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,g=Ho(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=Ho(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function DG(c,d,g){switch(d.tag){case 3:XI(d),$u();break;case 5:mI(d);break;case 1:Qn(d.type)&&Tg(d);break;case 4:dw(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,T=d.memoizedProps.value;ir(Rg,w._currentValue),w._currentValue=T;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(ir(_r,_r.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?ZI(c,d,g):(ir(_r,_r.current&1),c=Ms(c,d,g),c!==null?c.sibling:null);ir(_r,_r.current&1);break;case 19:if(w=(g&d.childLanes)!==0,(c.flags&128)!==0){if(w)return t2(c,d,g);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ir(_r,_r.current),w)break;return null;case 22:case 23:return d.lanes=0,KI(c,d,g)}return Ms(c,d,g)}var r2,Ow,n2,i2;r2=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Ow=function(){},n2=function(c,d,g,w){var T=c.memoizedProps;if(T!==w){c=d.stateNode,dc(qa.current);var O=null;switch(g){case"input":T=qe(c,T),w=qe(c,w),O=[];break;case"select":T=ee({},T,{value:void 0}),w=ee({},w,{value:void 0}),O=[];break;case"textarea":T=Me(c,T),w=Me(c,w),O=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=jg)}on(g,w);var B;g=null;for(se in T)if(!w.hasOwnProperty(se)&&T.hasOwnProperty(se)&&T[se]!=null)if(se==="style"){var K=T[se];for(B in K)K.hasOwnProperty(B)&&(g||(g={}),g[B]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?O||(O=[]):(O=O||[]).push(se,null));for(se in w){var Z=w[se];if(K=T!=null?T[se]:void 0,w.hasOwnProperty(se)&&Z!==K&&(Z!=null||K!=null))if(se==="style")if(K){for(B in K)!K.hasOwnProperty(B)||Z&&Z.hasOwnProperty(B)||(g||(g={}),g[B]="");for(B in Z)Z.hasOwnProperty(B)&&K[B]!==Z[B]&&(g||(g={}),g[B]=Z[B])}else g||(O||(O=[]),O.push(se,g)),g=Z;else se==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(O=O||[]).push(se,Z)):se==="children"?typeof Z!="string"&&typeof Z!="number"||(O=O||[]).push(se,""+Z):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(Z!=null&&se==="onScroll"&&dr("scroll",c),O||K===Z||(O=[])):(O=O||[]).push(se,Z))}g&&(O=O||[]).push("style",g);var se=O;(d.updateQueue=se)&&(d.flags|=4)}},i2=function(c,d,g,w){g!==w&&(d.flags|=4)};function Ah(c,d){if(!yr)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function xn(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(d)for(var T=c.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=w,c.childLanes=g,d}function LG(c,d,g){var w=d.pendingProps;switch(tw(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(d),null;case 1:return Qn(d.type)&&Ng(),xn(d),null;case 3:return w=d.stateNode,Uu(),fr(Yn),fr(vn),pw(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Ig(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,da!==null&&(qw(da),da=null))),Ow(c,d),xn(d),null;case 5:fw(d);var T=dc(wh.current);if(g=d.type,c!==null&&d.stateNode!=null)n2(c,d,g,w,T),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(r(166));return xn(d),null}if(c=dc(qa.current),Ig(d)){w=d.stateNode,g=d.type;var O=d.memoizedProps;switch(w[za]=d,w[gh]=O,c=(d.mode&1)!==0,g){case"dialog":dr("cancel",w),dr("close",w);break;case"iframe":case"object":case"embed":dr("load",w);break;case"video":case"audio":for(T=0;T<hh.length;T++)dr(hh[T],w);break;case"source":dr("error",w);break;case"img":case"image":case"link":dr("error",w),dr("load",w);break;case"details":dr("toggle",w);break;case"input":pt(w,O),dr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!O.multiple},dr("invalid",w);break;case"textarea":st(w,O),dr("invalid",w)}on(g,O),T=null;for(var B in O)if(O.hasOwnProperty(B)){var K=O[B];B==="children"?typeof K=="string"?w.textContent!==K&&(O.suppressHydrationWarning!==!0&&Eg(w.textContent,K,c),T=["children",K]):typeof K=="number"&&w.textContent!==""+K&&(O.suppressHydrationWarning!==!0&&Eg(w.textContent,K,c),T=["children",""+K]):i.hasOwnProperty(B)&&K!=null&&B==="onScroll"&&dr("scroll",w)}switch(g){case"input":we(w),br(w,O,!0);break;case"textarea":we(w),Pt(w);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(w.onclick=jg)}w=T,d.updateQueue=w,w!==null&&(d.flags|=4)}else{B=T.nodeType===9?T:T.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=tt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=B.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=B.createElement(g,{is:w.is}):(c=B.createElement(g),g==="select"&&(B=c,w.multiple?B.multiple=!0:w.size&&(B.size=w.size))):c=B.createElementNS(c,g),c[za]=d,c[gh]=w,r2(c,d,!1,!1),d.stateNode=c;e:{switch(B=Ss(g,w),g){case"dialog":dr("cancel",c),dr("close",c),T=w;break;case"iframe":case"object":case"embed":dr("load",c),T=w;break;case"video":case"audio":for(T=0;T<hh.length;T++)dr(hh[T],c);T=w;break;case"source":dr("error",c),T=w;break;case"img":case"image":case"link":dr("error",c),dr("load",c),T=w;break;case"details":dr("toggle",c),T=w;break;case"input":pt(c,w),T=qe(c,w),dr("invalid",c);break;case"option":T=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},T=ee({},w,{value:void 0}),dr("invalid",c);break;case"textarea":st(c,w),T=Me(c,w),dr("invalid",c);break;default:T=w}on(g,T),K=T;for(O in K)if(K.hasOwnProperty(O)){var Z=K[O];O==="style"?_s(c,Z):O==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Hn(c,Z)):O==="children"?typeof Z=="string"?(g!=="textarea"||Z!=="")&&gn(c,Z):typeof Z=="number"&&gn(c,""+Z):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?Z!=null&&O==="onScroll"&&dr("scroll",c):Z!=null&&j(c,O,Z,B))}switch(g){case"input":we(c),br(c,w,!1);break;case"textarea":we(c),Pt(c);break;case"option":w.value!=null&&c.setAttribute("value",""+Pe(w.value));break;case"select":c.multiple=!!w.multiple,O=w.value,O!=null?cr(c,!!w.multiple,O,!1):w.defaultValue!=null&&cr(c,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(c.onclick=jg)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return xn(d),null;case 6:if(c&&d.stateNode!=null)i2(c,d,c.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(g=dc(wh.current),dc(qa.current),Ig(d)){if(w=d.stateNode,g=d.memoizedProps,w[za]=d,(O=w.nodeValue!==g)&&(c=hi,c!==null))switch(c.tag){case 3:Eg(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Eg(w.nodeValue,g,(c.mode&1)!==0)}O&&(d.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[za]=d,d.stateNode=w}return xn(d),null;case 13:if(fr(_r),w=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(yr&&pi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)oI(),$u(),d.flags|=98560,O=!1;else if(O=Ig(d),w!==null&&w.dehydrated!==null){if(c===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[za]=d}else $u(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;xn(d),O=!1}else da!==null&&(qw(da),da=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(_r.current&1)!==0?zr===0&&(zr=3):Gw())),d.updateQueue!==null&&(d.flags|=4),xn(d),null);case 4:return Uu(),Ow(c,d),c===null&&ph(d.stateNode.containerInfo),xn(d),null;case 10:return ow(d.type._context),xn(d),null;case 17:return Qn(d.type)&&Ng(),xn(d),null;case 19:if(fr(_r),O=d.memoizedState,O===null)return xn(d),null;if(w=(d.flags&128)!==0,B=O.rendering,B===null)if(w)Ah(O,!1);else{if(zr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(B=$g(c),B!==null){for(d.flags|=128,Ah(O,!1),w=B.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=g,g=d.child;g!==null;)O=g,c=w,O.flags&=14680066,B=O.alternate,B===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=B.childLanes,O.lanes=B.lanes,O.child=B.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=B.memoizedProps,O.memoizedState=B.memoizedState,O.updateQueue=B.updateQueue,O.type=B.type,c=B.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return ir(_r,_r.current&1|2),d.child}c=c.sibling}O.tail!==null&&nr()>Wu&&(d.flags|=128,w=!0,Ah(O,!1),d.lanes=4194304)}else{if(!w)if(c=$g(B),c!==null){if(d.flags|=128,w=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Ah(O,!0),O.tail===null&&O.tailMode==="hidden"&&!B.alternate&&!yr)return xn(d),null}else 2*nr()-O.renderingStartTime>Wu&&g!==1073741824&&(d.flags|=128,w=!0,Ah(O,!1),d.lanes=4194304);O.isBackwards?(B.sibling=d.child,d.child=B):(g=O.last,g!==null?g.sibling=B:d.child=B,O.last=B)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=nr(),d.sibling=null,g=_r.current,ir(_r,w?g&1|2:g&1),d):(xn(d),null);case 22:case 23:return Ww(),w=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(mi&1073741824)!==0&&(xn(d),d.subtreeFlags&6&&(d.flags|=8192)):xn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function $G(c,d){switch(tw(d),d.tag){case 1:return Qn(d.type)&&Ng(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Uu(),fr(Yn),fr(vn),pw(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return fw(d),null;case 13:if(fr(_r),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));$u()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return fr(_r),null;case 4:return Uu(),null;case 10:return ow(d.type._context),null;case 22:case 23:return Ww(),null;case 24:return null;default:return null}}var Gg=!1,bn=!1,FG=typeof WeakSet=="function"?WeakSet:Set,De=null;function qu(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Ar(c,d,w)}else g.current=null}function Rw(c,d,g){try{g()}catch(w){Ar(c,d,w)}}var a2=!1;function VG(c,d){if(W0=ko,c=Lk(),$0(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var B=0,K=-1,Z=-1,se=0,xe=0,_e=c,ye=null;t:for(;;){for(var Ie;_e!==g||T!==0&&_e.nodeType!==3||(K=B+T),_e!==O||w!==0&&_e.nodeType!==3||(Z=B+w),_e.nodeType===3&&(B+=_e.nodeValue.length),(Ie=_e.firstChild)!==null;)ye=_e,_e=Ie;for(;;){if(_e===c)break t;if(ye===g&&++se===T&&(K=B),ye===O&&++xe===w&&(Z=B),(Ie=_e.nextSibling)!==null)break;_e=ye,ye=_e.parentNode}_e=Ie}g=K===-1||Z===-1?null:{start:K,end:Z}}else g=null}g=g||{start:0,end:0}}else g=null;for(G0={focusedElem:c,selectionRange:g},ko=!1,De=d;De!==null;)if(d=De,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,De=c;else for(;De!==null;){d=De;try{var $e=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Ve=$e.memoizedProps,Cr=$e.memoizedState,ne=d.stateNode,te=ne.getSnapshotBeforeUpdate(d.elementType===d.type?Ve:fa(d.type,Ve),Cr);ne.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ie=d.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(je){Ar(d,d.return,je)}if(c=d.sibling,c!==null){c.return=d.return,De=c;break}De=d.return}return $e=a2,a2=!1,$e}function Nh(c,d,g){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&c)===c){var O=T.destroy;T.destroy=void 0,O!==void 0&&Rw(d,g,O)}T=T.next}while(T!==w)}}function Kg(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==d)}}function Mw(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function s2(c){var d=c.alternate;d!==null&&(c.alternate=null,s2(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[za],delete d[gh],delete d[X0],delete d[_G],delete d[SG])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function o2(c){return c.tag===5||c.tag===3||c.tag===4}function l2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||o2(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Dw(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=jg));else if(w!==4&&(c=c.child,c!==null))for(Dw(c,d,g),c=c.sibling;c!==null;)Dw(c,d,g),c=c.sibling}function Lw(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(Lw(c,d,g),c=c.sibling;c!==null;)Lw(c,d,g),c=c.sibling}var un=null,ha=!1;function Vo(c,d,g){for(g=g.child;g!==null;)c2(c,d,g),g=g.sibling}function c2(c,d,g){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(Zl,g)}catch{}switch(g.tag){case 5:bn||qu(g,d);case 6:var w=un,T=ha;un=null,Vo(c,d,g),un=w,ha=T,un!==null&&(ha?(c=un,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):un.removeChild(g.stateNode));break;case 18:un!==null&&(ha?(c=un,g=g.stateNode,c.nodeType===8?Q0(c.parentNode,g):c.nodeType===1&&Q0(c,g),la(c)):Q0(un,g.stateNode));break;case 4:w=un,T=ha,un=g.stateNode.containerInfo,ha=!0,Vo(c,d,g),un=w,ha=T;break;case 0:case 11:case 14:case 15:if(!bn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var O=T,B=O.destroy;O=O.tag,B!==void 0&&((O&2)!==0||(O&4)!==0)&&Rw(g,d,B),T=T.next}while(T!==w)}Vo(c,d,g);break;case 1:if(!bn&&(qu(g,d),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(K){Ar(g,d,K)}Vo(c,d,g);break;case 21:Vo(c,d,g);break;case 22:g.mode&1?(bn=(w=bn)||g.memoizedState!==null,Vo(c,d,g),bn=w):Vo(c,d,g);break;default:Vo(c,d,g)}}function u2(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new FG),d.forEach(function(w){var T=YG.bind(null,c,w);g.has(w)||(g.add(w),w.then(T,T))})}}function pa(c,d){var g=d.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w];try{var O=c,B=d,K=B;e:for(;K!==null;){switch(K.tag){case 5:un=K.stateNode,ha=!1;break e;case 3:un=K.stateNode.containerInfo,ha=!0;break e;case 4:un=K.stateNode.containerInfo,ha=!0;break e}K=K.return}if(un===null)throw Error(r(160));c2(O,B,T),un=null,ha=!1;var Z=T.alternate;Z!==null&&(Z.return=null),T.return=null}catch(se){Ar(T,d,se)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)d2(d,c),d=d.sibling}function d2(c,d){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(pa(d,c),Wa(c),w&4){try{Nh(3,c,c.return),Kg(3,c)}catch(Ve){Ar(c,c.return,Ve)}try{Nh(5,c,c.return)}catch(Ve){Ar(c,c.return,Ve)}}break;case 1:pa(d,c),Wa(c),w&512&&g!==null&&qu(g,g.return);break;case 5:if(pa(d,c),Wa(c),w&512&&g!==null&&qu(g,g.return),c.flags&32){var T=c.stateNode;try{gn(T,"")}catch(Ve){Ar(c,c.return,Ve)}}if(w&4&&(T=c.stateNode,T!=null)){var O=c.memoizedProps,B=g!==null?g.memoizedProps:O,K=c.type,Z=c.updateQueue;if(c.updateQueue=null,Z!==null)try{K==="input"&&O.type==="radio"&&O.name!=null&&ot(T,O),Ss(K,B);var se=Ss(K,O);for(B=0;B<Z.length;B+=2){var xe=Z[B],_e=Z[B+1];xe==="style"?_s(T,_e):xe==="dangerouslySetInnerHTML"?Hn(T,_e):xe==="children"?gn(T,_e):j(T,xe,_e,se)}switch(K){case"input":lt(T,O);break;case"textarea":Ue(T,O);break;case"select":var ye=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!O.multiple;var Ie=O.value;Ie!=null?cr(T,!!O.multiple,Ie,!1):ye!==!!O.multiple&&(O.defaultValue!=null?cr(T,!!O.multiple,O.defaultValue,!0):cr(T,!!O.multiple,O.multiple?[]:"",!1))}T[gh]=O}catch(Ve){Ar(c,c.return,Ve)}}break;case 6:if(pa(d,c),Wa(c),w&4){if(c.stateNode===null)throw Error(r(162));T=c.stateNode,O=c.memoizedProps;try{T.nodeValue=O}catch(Ve){Ar(c,c.return,Ve)}}break;case 3:if(pa(d,c),Wa(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{la(d.containerInfo)}catch(Ve){Ar(c,c.return,Ve)}break;case 4:pa(d,c),Wa(c);break;case 13:pa(d,c),Wa(c),T=c.child,T.flags&8192&&(O=T.memoizedState!==null,T.stateNode.isHidden=O,!O||T.alternate!==null&&T.alternate.memoizedState!==null||(Vw=nr())),w&4&&u2(c);break;case 22:if(xe=g!==null&&g.memoizedState!==null,c.mode&1?(bn=(se=bn)||xe,pa(d,c),bn=se):pa(d,c),Wa(c),w&8192){if(se=c.memoizedState!==null,(c.stateNode.isHidden=se)&&!xe&&(c.mode&1)!==0)for(De=c,xe=c.child;xe!==null;){for(_e=De=xe;De!==null;){switch(ye=De,Ie=ye.child,ye.tag){case 0:case 11:case 14:case 15:Nh(4,ye,ye.return);break;case 1:qu(ye,ye.return);var $e=ye.stateNode;if(typeof $e.componentWillUnmount=="function"){w=ye,g=ye.return;try{d=w,$e.props=d.memoizedProps,$e.state=d.memoizedState,$e.componentWillUnmount()}catch(Ve){Ar(w,g,Ve)}}break;case 5:qu(ye,ye.return);break;case 22:if(ye.memoizedState!==null){p2(_e);continue}}Ie!==null?(Ie.return=ye,De=Ie):p2(_e)}xe=xe.sibling}e:for(xe=null,_e=c;;){if(_e.tag===5){if(xe===null){xe=_e;try{T=_e.stateNode,se?(O=T.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(K=_e.stateNode,Z=_e.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=La("display",B))}catch(Ve){Ar(c,c.return,Ve)}}}else if(_e.tag===6){if(xe===null)try{_e.stateNode.nodeValue=se?"":_e.memoizedProps}catch(Ve){Ar(c,c.return,Ve)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===c)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===c)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===c)break e;xe===_e&&(xe=null),_e=_e.return}xe===_e&&(xe=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:pa(d,c),Wa(c),w&4&&u2(c);break;case 21:break;default:pa(d,c),Wa(c)}}function Wa(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(o2(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(gn(T,""),w.flags&=-33);var O=l2(c);Lw(c,O,T);break;case 3:case 4:var B=w.stateNode.containerInfo,K=l2(c);Dw(c,K,B);break;default:throw Error(r(161))}}catch(Z){Ar(c,c.return,Z)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function BG(c,d,g){De=c,f2(c)}function f2(c,d,g){for(var w=(c.mode&1)!==0;De!==null;){var T=De,O=T.child;if(T.tag===22&&w){var B=T.memoizedState!==null||Gg;if(!B){var K=T.alternate,Z=K!==null&&K.memoizedState!==null||bn;K=Gg;var se=bn;if(Gg=B,(bn=Z)&&!se)for(De=T;De!==null;)B=De,Z=B.child,B.tag===22&&B.memoizedState!==null?m2(T):Z!==null?(Z.return=B,De=Z):m2(T);for(;O!==null;)De=O,f2(O),O=O.sibling;De=T,Gg=K,bn=se}h2(c)}else(T.subtreeFlags&8772)!==0&&O!==null?(O.return=T,De=O):h2(c)}}function h2(c){for(;De!==null;){var d=De;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:bn||Kg(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!bn)if(g===null)w.componentDidMount();else{var T=d.elementType===d.type?g.memoizedProps:fa(d.type,g.memoizedProps);w.componentDidUpdate(T,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&pI(d,O,w);break;case 3:var B=d.updateQueue;if(B!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}pI(d,B,g)}break;case 5:var K=d.stateNode;if(g===null&&d.flags&4){g=K;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&g.focus();break;case"img":Z.src&&(g.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var se=d.alternate;if(se!==null){var xe=se.memoizedState;if(xe!==null){var _e=xe.dehydrated;_e!==null&&la(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}bn||d.flags&512&&Mw(d)}catch(ye){Ar(d,d.return,ye)}}if(d===c){De=null;break}if(g=d.sibling,g!==null){g.return=d.return,De=g;break}De=d.return}}function p2(c){for(;De!==null;){var d=De;if(d===c){De=null;break}var g=d.sibling;if(g!==null){g.return=d.return,De=g;break}De=d.return}}function m2(c){for(;De!==null;){var d=De;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{Kg(4,d)}catch(Z){Ar(d,g,Z)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var T=d.return;try{w.componentDidMount()}catch(Z){Ar(d,T,Z)}}var O=d.return;try{Mw(d)}catch(Z){Ar(d,O,Z)}break;case 5:var B=d.return;try{Mw(d)}catch(Z){Ar(d,B,Z)}}}catch(Z){Ar(d,d.return,Z)}if(d===c){De=null;break}var K=d.sibling;if(K!==null){K.return=d.return,De=K;break}De=d.return}}var UG=Math.ceil,Yg=E.ReactCurrentDispatcher,$w=E.ReactCurrentOwner,Li=E.ReactCurrentBatchConfig,Rt=0,Jr=null,Or=null,dn=0,mi=0,Hu=Mo(0),zr=0,Th=null,hc=0,Qg=0,Fw=0,Ph=null,Jn=null,Vw=0,Wu=1/0,Ds=null,Xg=!1,Bw=null,Bo=null,Jg=!1,Uo=null,Zg=0,Ch=0,Uw=null,ev=-1,tv=0;function Mn(){return(Rt&6)!==0?nr():ev!==-1?ev:ev=nr()}function zo(c){return(c.mode&1)===0?1:(Rt&2)!==0&&dn!==0?dn&-dn:jG.transition!==null?(tv===0&&(tv=tc()),tv):(c=jt,c!==0||(c=window.event,c=c===void 0?16:ih(c.type)),c)}function ma(c,d,g,w){if(50<Ch)throw Ch=0,Uw=null,Error(r(185));No(c,g,w),((Rt&2)===0||c!==Jr)&&(c===Jr&&((Rt&2)===0&&(Qg|=g),zr===4&&qo(c,dn)),Zn(c,w),g===1&&Rt===0&&(d.mode&1)===0&&(Wu=nr()+500,Pg&&Lo()))}function Zn(c,d){var g=c.callbackNode;Es(c,d);var w=ec(c,c===Jr?dn:0);if(w===0)g!==null&&Zf(g),c.callbackNode=null,c.callbackPriority=0;else if(d=w&-w,c.callbackPriority!==d){if(g!=null&&Zf(g),d===1)c.tag===0?EG(v2.bind(null,c)):rI(v2.bind(null,c)),bG(function(){(Rt&6)===0&&Lo()}),g=null;else{switch(Po(w)){case 1:g=Jl;break;case 4:g=Eo;break;case 16:g=Ci;break;case 536870912:g=tg;break;default:g=Ci}g=j2(g,g2.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function g2(c,d){if(ev=-1,tv=0,(Rt&6)!==0)throw Error(r(327));var g=c.callbackNode;if(Gu()&&c.callbackNode!==g)return null;var w=ec(c,c===Jr?dn:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||d)d=rv(c,w);else{d=w;var T=Rt;Rt|=2;var O=x2();(Jr!==c||dn!==d)&&(Ds=null,Wu=nr()+500,mc(c,d));do try{HG();break}catch(K){y2(c,K)}while(!0);sw(),Yg.current=O,Rt=T,Or!==null?d=0:(Jr=null,dn=0,d=zr)}if(d!==0){if(d===2&&(T=ui(c),T!==0&&(w=T,d=zw(c,T))),d===1)throw g=Th,mc(c,0),qo(c,w),Zn(c,nr()),g;if(d===6)qo(c,w);else{if(T=c.current.alternate,(w&30)===0&&!zG(T)&&(d=rv(c,w),d===2&&(O=ui(c),O!==0&&(w=O,d=zw(c,O))),d===1))throw g=Th,mc(c,0),qo(c,w),Zn(c,nr()),g;switch(c.finishedWork=T,c.finishedLanes=w,d){case 0:case 1:throw Error(r(345));case 2:gc(c,Jn,Ds);break;case 3:if(qo(c,w),(w&130023424)===w&&(d=Vw+500-nr(),10<d)){if(ec(c,0)!==0)break;if(T=c.suspendedLanes,(T&w)!==w){Mn(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=Y0(gc.bind(null,c,Jn,Ds),d);break}gc(c,Jn,Ds);break;case 4:if(qo(c,w),(w&4194240)===w)break;for(d=c.eventTimes,T=-1;0<w;){var B=31-In(w);O=1<<B,B=d[B],B>T&&(T=B),w&=~O}if(w=T,w=nr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*UG(w/1960))-w,10<w){c.timeoutHandle=Y0(gc.bind(null,c,Jn,Ds),w);break}gc(c,Jn,Ds);break;case 5:gc(c,Jn,Ds);break;default:throw Error(r(329))}}}return Zn(c,nr()),c.callbackNode===g?g2.bind(null,c):null}function zw(c,d){var g=Ph;return c.current.memoizedState.isDehydrated&&(mc(c,d).flags|=256),c=rv(c,d),c!==2&&(d=Jn,Jn=g,d!==null&&qw(d)),c}function qw(c){Jn===null?Jn=c:Jn.push.apply(Jn,c)}function zG(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var T=g[w],O=T.getSnapshot;T=T.value;try{if(!ua(O(),T))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function qo(c,d){for(d&=~Fw,d&=~Qg,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-In(d),w=1<<g;c[g]=-1,d&=~w}}function v2(c){if((Rt&6)!==0)throw Error(r(327));Gu();var d=ec(c,0);if((d&1)===0)return Zn(c,nr()),null;var g=rv(c,d);if(c.tag!==0&&g===2){var w=ui(c);w!==0&&(d=w,g=zw(c,w))}if(g===1)throw g=Th,mc(c,0),qo(c,d),Zn(c,nr()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,gc(c,Jn,Ds),Zn(c,nr()),null}function Hw(c,d){var g=Rt;Rt|=1;try{return c(d)}finally{Rt=g,Rt===0&&(Wu=nr()+500,Pg&&Lo())}}function pc(c){Uo!==null&&Uo.tag===0&&(Rt&6)===0&&Gu();var d=Rt;Rt|=1;var g=Li.transition,w=jt;try{if(Li.transition=null,jt=1,c)return c()}finally{jt=w,Li.transition=g,Rt=d,(Rt&6)===0&&Lo()}}function Ww(){mi=Hu.current,fr(Hu)}function mc(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,xG(g)),Or!==null)for(g=Or.return;g!==null;){var w=g;switch(tw(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ng();break;case 3:Uu(),fr(Yn),fr(vn),pw();break;case 5:fw(w);break;case 4:Uu();break;case 13:fr(_r);break;case 19:fr(_r);break;case 10:ow(w.type._context);break;case 22:case 23:Ww()}g=g.return}if(Jr=c,Or=c=Ho(c.current,null),dn=mi=d,zr=0,Th=null,Fw=Qg=hc=0,Jn=Ph=null,uc!==null){for(d=0;d<uc.length;d++)if(g=uc[d],w=g.interleaved,w!==null){g.interleaved=null;var T=w.next,O=g.pending;if(O!==null){var B=O.next;O.next=T,w.next=B}g.pending=w}uc=null}return c}function y2(c,d){do{var g=Or;try{if(sw(),Fg.current=zg,Vg){for(var w=Sr.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}Vg=!1}if(fc=0,Xr=Ur=Sr=null,_h=!1,Sh=0,$w.current=null,g===null||g.return===null){zr=1,Th=d,Or=null;break}e:{var O=c,B=g.return,K=g,Z=d;if(d=dn,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var se=Z,xe=K,_e=xe.tag;if((xe.mode&1)===0&&(_e===0||_e===11||_e===15)){var ye=xe.alternate;ye?(xe.updateQueue=ye.updateQueue,xe.memoizedState=ye.memoizedState,xe.lanes=ye.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Ie=zI(B);if(Ie!==null){Ie.flags&=-257,qI(Ie,B,K,O,d),Ie.mode&1&&UI(O,se,d),d=Ie,Z=se;var $e=d.updateQueue;if($e===null){var Ve=new Set;Ve.add(Z),d.updateQueue=Ve}else $e.add(Z);break e}else{if((d&1)===0){UI(O,se,d),Gw();break e}Z=Error(r(426))}}else if(yr&&K.mode&1){var Cr=zI(B);if(Cr!==null){(Cr.flags&65536)===0&&(Cr.flags|=256),qI(Cr,B,K,O,d),iw(zu(Z,K));break e}}O=Z=zu(Z,K),zr!==4&&(zr=2),Ph===null?Ph=[O]:Ph.push(O),O=B;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var ne=VI(O,Z,d);hI(O,ne);break e;case 1:K=Z;var te=O.type,ie=O.stateNode;if((O.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Bo===null||!Bo.has(ie)))){O.flags|=65536,d&=-d,O.lanes|=d;var je=BI(O,K,d);hI(O,je);break e}}O=O.return}while(O!==null)}w2(g)}catch(ze){d=ze,Or===g&&g!==null&&(Or=g=g.return);continue}break}while(!0)}function x2(){var c=Yg.current;return Yg.current=zg,c===null?zg:c}function Gw(){(zr===0||zr===3||zr===2)&&(zr=4),Jr===null||(hc&268435455)===0&&(Qg&268435455)===0||qo(Jr,dn)}function rv(c,d){var g=Rt;Rt|=2;var w=x2();(Jr!==c||dn!==d)&&(Ds=null,mc(c,d));do try{qG();break}catch(T){y2(c,T)}while(!0);if(sw(),Rt=g,Yg.current=w,Or!==null)throw Error(r(261));return Jr=null,dn=0,zr}function qG(){for(;Or!==null;)b2(Or)}function HG(){for(;Or!==null&&!Zm();)b2(Or)}function b2(c){var d=E2(c.alternate,c,mi);c.memoizedProps=c.pendingProps,d===null?w2(c):Or=d,$w.current=null}function w2(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=LG(g,d,mi),g!==null){Or=g;return}}else{if(g=$G(g,d),g!==null){g.flags&=32767,Or=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{zr=6,Or=null;return}}if(d=d.sibling,d!==null){Or=d;return}Or=d=c}while(d!==null);zr===0&&(zr=5)}function gc(c,d,g){var w=jt,T=Li.transition;try{Li.transition=null,jt=1,WG(c,d,g,w)}finally{Li.transition=T,jt=w}return null}function WG(c,d,g,w){do Gu();while(Uo!==null);if((Rt&6)!==0)throw Error(r(327));g=c.finishedWork;var T=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var O=g.lanes|g.childLanes;if(Zt(c,O),c===Jr&&(Or=Jr=null,dn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Jg||(Jg=!0,j2(Ci,function(){return Gu(),null})),O=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||O){O=Li.transition,Li.transition=null;var B=jt;jt=1;var K=Rt;Rt|=4,$w.current=null,VG(c,g),d2(g,c),fG(G0),ko=!!W0,G0=W0=null,c.current=g,BG(g),C0(),Rt=K,jt=B,Li.transition=O}else c.current=g;if(Jg&&(Jg=!1,Uo=c,Zg=T),O=c.pendingLanes,O===0&&(Bo=null),rg(g.stateNode),Zn(c,nr()),d!==null)for(w=c.onRecoverableError,g=0;g<d.length;g++)T=d[g],w(T.value,{componentStack:T.stack,digest:T.digest});if(Xg)throw Xg=!1,c=Bw,Bw=null,c;return(Zg&1)!==0&&c.tag!==0&&Gu(),O=c.pendingLanes,(O&1)!==0?c===Uw?Ch++:(Ch=0,Uw=c):Ch=0,Lo(),null}function Gu(){if(Uo!==null){var c=Po(Zg),d=Li.transition,g=jt;try{if(Li.transition=null,jt=16>c?16:c,Uo===null)var w=!1;else{if(c=Uo,Uo=null,Zg=0,(Rt&6)!==0)throw Error(r(331));var T=Rt;for(Rt|=4,De=c.current;De!==null;){var O=De,B=O.child;if((De.flags&16)!==0){var K=O.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var se=K[Z];for(De=se;De!==null;){var xe=De;switch(xe.tag){case 0:case 11:case 15:Nh(8,xe,O)}var _e=xe.child;if(_e!==null)_e.return=xe,De=_e;else for(;De!==null;){xe=De;var ye=xe.sibling,Ie=xe.return;if(s2(xe),xe===se){De=null;break}if(ye!==null){ye.return=Ie,De=ye;break}De=Ie}}}var $e=O.alternate;if($e!==null){var Ve=$e.child;if(Ve!==null){$e.child=null;do{var Cr=Ve.sibling;Ve.sibling=null,Ve=Cr}while(Ve!==null)}}De=O}}if((O.subtreeFlags&2064)!==0&&B!==null)B.return=O,De=B;else e:for(;De!==null;){if(O=De,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Nh(9,O,O.return)}var ne=O.sibling;if(ne!==null){ne.return=O.return,De=ne;break e}De=O.return}}var te=c.current;for(De=te;De!==null;){B=De;var ie=B.child;if((B.subtreeFlags&2064)!==0&&ie!==null)ie.return=B,De=ie;else e:for(B=te;De!==null;){if(K=De,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Kg(9,K)}}catch(ze){Ar(K,K.return,ze)}if(K===B){De=null;break e}var je=K.sibling;if(je!==null){je.return=K.return,De=je;break e}De=K.return}}if(Rt=T,Lo(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(Zl,c)}catch{}w=!0}return w}finally{jt=g,Li.transition=d}}return!1}function _2(c,d,g){d=zu(g,d),d=VI(c,d,1),c=Fo(c,d,1),d=Mn(),c!==null&&(No(c,1,d),Zn(c,d))}function Ar(c,d,g){if(c.tag===3)_2(c,c,g);else for(;d!==null;){if(d.tag===3){_2(d,c,g);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Bo===null||!Bo.has(w))){c=zu(g,c),c=BI(d,c,1),d=Fo(d,c,1),c=Mn(),d!==null&&(No(d,1,c),Zn(d,c));break}}d=d.return}}function GG(c,d,g){var w=c.pingCache;w!==null&&w.delete(d),d=Mn(),c.pingedLanes|=c.suspendedLanes&g,Jr===c&&(dn&g)===g&&(zr===4||zr===3&&(dn&130023424)===dn&&500>nr()-Vw?mc(c,0):Fw|=g),Zn(c,d)}function S2(c,d){d===0&&((c.mode&1)===0?d=1:(d=gu,gu<<=1,(gu&130023424)===0&&(gu=4194304)));var g=Mn();c=Os(c,d),c!==null&&(No(c,d,g),Zn(c,g))}function KG(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),S2(c,g)}function YG(c,d){var g=0;switch(c.tag){case 13:var w=c.stateNode,T=c.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(d),S2(c,g)}var E2;E2=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||Yn.current)Xn=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return Xn=!1,DG(c,d,g);Xn=(c.flags&131072)!==0}else Xn=!1,yr&&(d.flags&1048576)!==0&&nI(d,kg,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;Wg(c,d),c=d.pendingProps;var T=Mu(d,vn.current);Bu(d,g),T=vw(null,d,w,c,T,g);var O=yw();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Qn(w)?(O=!0,Tg(d)):O=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,uw(d),T.updater=qg,d.stateNode=T,T._reactInternals=d,Ew(d,w,c,g),d=Tw(null,d,w,!0,O,g)):(d.tag=0,yr&&O&&ew(d),Rn(null,d,T,g),d=d.child),d;case 16:w=d.elementType;e:{switch(Wg(c,d),c=d.pendingProps,T=w._init,w=T(w._payload),d.type=w,T=d.tag=XG(w),c=fa(w,c),T){case 0:d=Nw(null,d,w,c,g);break e;case 1:d=QI(null,d,w,c,g);break e;case 11:d=HI(null,d,w,c,g);break e;case 14:d=WI(null,d,w,fa(w.type,c),g);break e}throw Error(r(306,w,""))}return d;case 0:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:fa(w,T),Nw(c,d,w,T,g);case 1:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:fa(w,T),QI(c,d,w,T,g);case 3:e:{if(XI(d),c===null)throw Error(r(387));w=d.pendingProps,O=d.memoizedState,T=O.element,fI(c,d),Lg(d,w,null,g);var B=d.memoizedState;if(w=B.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){T=zu(Error(r(423)),d),d=JI(c,d,w,g,T);break e}else if(w!==T){T=zu(Error(r(424)),d),d=JI(c,d,w,g,T);break e}else for(pi=Ro(d.stateNode.containerInfo.firstChild),hi=d,yr=!0,da=null,g=uI(d,null,w,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if($u(),w===T){d=Ms(c,d,g);break e}Rn(c,d,w,g)}d=d.child}return d;case 5:return mI(d),c===null&&nw(d),w=d.type,T=d.pendingProps,O=c!==null?c.memoizedProps:null,B=T.children,K0(w,T)?B=null:O!==null&&K0(w,O)&&(d.flags|=32),YI(c,d),Rn(c,d,B,g),d.child;case 6:return c===null&&nw(d),null;case 13:return ZI(c,d,g);case 4:return dw(d,d.stateNode.containerInfo),w=d.pendingProps,c===null?d.child=Fu(d,null,w,g):Rn(c,d,w,g),d.child;case 11:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:fa(w,T),HI(c,d,w,T,g);case 7:return Rn(c,d,d.pendingProps,g),d.child;case 8:return Rn(c,d,d.pendingProps.children,g),d.child;case 12:return Rn(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(w=d.type._context,T=d.pendingProps,O=d.memoizedProps,B=T.value,ir(Rg,w._currentValue),w._currentValue=B,O!==null)if(ua(O.value,B)){if(O.children===T.children&&!Yn.current){d=Ms(c,d,g);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var K=O.dependencies;if(K!==null){B=O.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===w){if(O.tag===1){Z=Rs(-1,g&-g),Z.tag=2;var se=O.updateQueue;if(se!==null){se=se.shared;var xe=se.pending;xe===null?Z.next=Z:(Z.next=xe.next,xe.next=Z),se.pending=Z}}O.lanes|=g,Z=O.alternate,Z!==null&&(Z.lanes|=g),lw(O.return,g,d),K.lanes|=g;break}Z=Z.next}}else if(O.tag===10)B=O.type===d.type?null:O.child;else if(O.tag===18){if(B=O.return,B===null)throw Error(r(341));B.lanes|=g,K=B.alternate,K!==null&&(K.lanes|=g),lw(B,g,d),B=O.sibling}else B=O.child;if(B!==null)B.return=O;else for(B=O;B!==null;){if(B===d){B=null;break}if(O=B.sibling,O!==null){O.return=B.return,B=O;break}B=B.return}O=B}Rn(c,d,T.children,g),d=d.child}return d;case 9:return T=d.type,w=d.pendingProps.children,Bu(d,g),T=Mi(T),w=w(T),d.flags|=1,Rn(c,d,w,g),d.child;case 14:return w=d.type,T=fa(w,d.pendingProps),T=fa(w.type,T),WI(c,d,w,T,g);case 15:return GI(c,d,d.type,d.pendingProps,g);case 17:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:fa(w,T),Wg(c,d),d.tag=1,Qn(w)?(c=!0,Tg(d)):c=!1,Bu(d,g),$I(d,w,T),Ew(d,w,T,g),Tw(null,d,w,!0,c,g);case 19:return t2(c,d,g);case 22:return KI(c,d,g)}throw Error(r(156,d.tag))};function j2(c,d){return pu(c,d)}function QG(c,d,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(c,d,g,w){return new QG(c,d,g,w)}function Kw(c){return c=c.prototype,!(!c||!c.isReactComponent)}function XG(c){if(typeof c=="function")return Kw(c)?1:0;if(c!=null){if(c=c.$$typeof,c===V)return 11;if(c===G)return 14}return 2}function Ho(c,d){var g=c.alternate;return g===null?(g=$i(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function nv(c,d,g,w,T,O){var B=2;if(w=c,typeof c=="function")Kw(c)&&(B=1);else if(typeof c=="string")B=5;else e:switch(c){case C:return vc(g.children,T,O,d);case I:B=8,T|=8;break;case M:return c=$i(12,g,d,T|2),c.elementType=M,c.lanes=O,c;case $:return c=$i(13,g,d,T),c.elementType=$,c.lanes=O,c;case H:return c=$i(19,g,d,T),c.elementType=H,c.lanes=O,c;case Q:return iv(g,T,O,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case F:B=10;break e;case D:B=9;break e;case V:B=11;break e;case G:B=14;break e;case Y:B=16,w=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=$i(B,g,d,T),d.elementType=c,d.type=w,d.lanes=O,d}function vc(c,d,g,w){return c=$i(7,c,w,d),c.lanes=g,c}function iv(c,d,g,w){return c=$i(22,c,w,d),c.elementType=Q,c.lanes=g,c.stateNode={isHidden:!1},c}function Yw(c,d,g){return c=$i(6,c,null,d),c.lanes=g,c}function Qw(c,d,g){return d=$i(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function JG(c,d,g,w,T){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Xw(c,d,g,w,T,O,B,K,Z){return c=new JG(c,d,g,K,Z),d===1?(d=1,O===!0&&(d|=8)):d=0,O=$i(3,null,null,d),c.current=O,O.stateNode=c,O.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},uw(O),c}function ZG(c,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:w==null?null:""+w,children:c,containerInfo:d,implementation:g}}function A2(c){if(!c)return Do;c=c._reactInternals;e:{if(na(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Qn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(Qn(g))return eI(c,g,d)}return d}function N2(c,d,g,w,T,O,B,K,Z){return c=Xw(g,w,!0,c,T,O,B,K,Z),c.context=A2(null),g=c.current,w=Mn(),T=zo(g),O=Rs(w,T),O.callback=d??null,Fo(g,O,T),c.current.lanes=T,No(c,T,w),Zn(c,w),c}function av(c,d,g,w){var T=d.current,O=Mn(),B=zo(T);return g=A2(g),d.context===null?d.context=g:d.pendingContext=g,d=Rs(O,B),d.payload={element:c},w=w===void 0?null:w,w!==null&&(d.callback=w),c=Fo(T,d,B),c!==null&&(ma(c,T,B,O),Dg(c,T,B)),B}function sv(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function T2(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function Jw(c,d){T2(c,d),(c=c.alternate)&&T2(c,d)}function eK(){return null}var P2=typeof reportError=="function"?reportError:function(c){console.error(c)};function Zw(c){this._internalRoot=c}ov.prototype.render=Zw.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));av(c,d,null,null)},ov.prototype.unmount=Zw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;pc(function(){av(null,c,null,null)}),d[Ps]=null}};function ov(c){this._internalRoot=c}ov.prototype.unstable_scheduleHydration=function(c){if(c){var d=og();c={blockedOn:null,target:c,priority:d};for(var g=0;g<Fa.length&&d!==0&&d<Fa[g].priority;g++);Fa.splice(g,0,c),g===0&&ug(c)}};function e_(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function lv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function C2(){}function tK(c,d,g,w,T){if(T){if(typeof w=="function"){var O=w;w=function(){var se=sv(B);O.call(se)}}var B=N2(d,w,c,0,null,!1,!1,"",C2);return c._reactRootContainer=B,c[Ps]=B.current,ph(c.nodeType===8?c.parentNode:c),pc(),B}for(;T=c.lastChild;)c.removeChild(T);if(typeof w=="function"){var K=w;w=function(){var se=sv(Z);K.call(se)}}var Z=Xw(c,0,!1,null,null,!1,!1,"",C2);return c._reactRootContainer=Z,c[Ps]=Z.current,ph(c.nodeType===8?c.parentNode:c),pc(function(){av(d,Z,g,w)}),Z}function cv(c,d,g,w,T){var O=g._reactRootContainer;if(O){var B=O;if(typeof T=="function"){var K=T;T=function(){var Z=sv(B);K.call(Z)}}av(d,B,c,T)}else B=tK(g,d,c,T,w);return sv(B)}ag=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=jo(d.pendingLanes);g!==0&&(To(d,g|1),Zn(d,nr()),(Rt&6)===0&&(Wu=nr()+500,Lo()))}break;case 13:pc(function(){var w=Os(c,1);if(w!==null){var T=Mn();ma(w,c,1,T)}}),Jw(c,1)}},vu=function(c){if(c.tag===13){var d=Os(c,134217728);if(d!==null){var g=Mn();ma(d,c,134217728,g)}Jw(c,134217728)}},sg=function(c){if(c.tag===13){var d=zo(c),g=Os(c,d);if(g!==null){var w=Mn();ma(g,c,d,w)}Jw(c,d)}},og=function(){return jt},lg=function(c,d){var g=jt;try{return jt=c,d()}finally{jt=g}},Et=function(c,d,g){switch(d){case"input":if(lt(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var w=g[d];if(w!==c&&w.form===c.form){var T=Ag(w);if(!T)throw Error(r(90));le(w),lt(w,T)}}}break;case"textarea":Ue(c,g);break;case"select":d=g.value,d!=null&&cr(c,!!g.multiple,d,!1)}},vt=Hw,rr=pc;var rK={usingClientEntryPoint:!1,Events:[vh,Ou,Ag,ke,Ce,Hw]},kh={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nK={bundleType:kh.bundleType,version:kh.version,rendererPackageName:kh.rendererPackageName,rendererConfig:kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Jf(c),c===null?null:c.stateNode},findFiberByHostInstance:kh.findFiberByHostInstance||eK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uv.isDisabled&&uv.supportsFiber)try{Zl=uv.inject(nK),ci=uv}catch{}}return ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rK,ei.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e_(d))throw Error(r(200));return ZG(c,d,null,g)},ei.createRoot=function(c,d){if(!e_(c))throw Error(r(299));var g=!1,w="",T=P2;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),d=Xw(c,1,!1,null,null,g,!1,w,T),c[Ps]=d.current,ph(c.nodeType===8?c.parentNode:c),new Zw(d)},ei.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Jf(d),c=c===null?null:c.stateNode,c},ei.flushSync=function(c){return pc(c)},ei.hydrate=function(c,d,g){if(!lv(d))throw Error(r(200));return cv(null,c,d,!0,g)},ei.hydrateRoot=function(c,d,g){if(!e_(c))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,T=!1,O="",B=P2;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),d=N2(d,null,c,1,g??null,T,!1,O,B),c[Ps]=d.current,ph(c),w)for(c=0;c<w.length;c++)g=w[c],T=g._getVersion,T=T(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,T]:d.mutableSourceEagerHydrationData.push(g,T);return new ov(d)},ei.render=function(c,d,g){if(!lv(d))throw Error(r(200));return cv(null,c,d,!1,g)},ei.unmountComponentAtNode=function(c){if(!lv(c))throw Error(r(40));return c._reactRootContainer?(pc(function(){cv(null,null,c,!1,function(){c._reactRootContainer=null,c[Ps]=null})}),!0):!1},ei.unstable_batchedUpdates=Hw,ei.unstable_renderSubtreeIntoContainer=function(c,d,g,w){if(!lv(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return cv(c,d,g,!1,w)},ei.version="18.3.1-next-f1338f8080-20240426",ei}var F2;function DF(){if(F2)return i_.exports;F2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),i_.exports=hK(),i_.exports}var V2;function pK(){if(V2)return hv;V2=1;var t=DF();return hv.createRoot=t.createRoot,hv.hydrateRoot=t.hydrateRoot,hv}var mK=pK(),S=gT();const U=Kt(S),LF=oK({__proto__:null,default:U},[S]),gK=1,vK=1e6;let o_=0;function yK(){return o_=(o_+1)%Number.MAX_SAFE_INTEGER,o_.toString()}const l_=new Map,B2=t=>{if(l_.has(t))return;const e=setTimeout(()=>{l_.delete(t),ip({type:"REMOVE_TOAST",toastId:t})},vK);l_.set(t,e)},xK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,gK)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?B2(r):t.toasts.forEach(n=>{B2(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},qv=[];let Hv={toasts:[]};function ip(t){Hv=xK(Hv,t),qv.forEach(e=>{e(Hv)})}function bK({...t}){const e=yK(),r=i=>ip({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>ip({type:"DISMISS_TOAST",toastId:e});return ip({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Vr(){const[t,e]=S.useState(Hv);return S.useEffect(()=>(qv.push(e),()=>{const r=qv.indexOf(e);r>-1&&qv.splice(r,1)}),[t]),{...t,toast:bK,dismiss:r=>ip({type:"DISMISS_TOAST",toastId:r})}}var wf=DF();const $F=Kt(wf);function Be(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function FF(...t){return e=>t.forEach(r=>wK(r,e))}function Nt(...t){return S.useCallback(FF(...t),t)}function _K(t,e=[]){let r=[];function n(a,s){const l=S.createContext(s),u=r.length;r=[...r,s];function f(p){const{scope:m,children:y,..._}=p,b=(m==null?void 0:m[t][u])||l,x=S.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:x,children:y})}function h(p,m){const y=(m==null?void 0:m[t][u])||l,_=S.useContext(y);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,h]}const i=()=>{const a=r.map(s=>S.createContext(s));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,SK(i,...e)]}function SK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...l,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var Fc=S.forwardRef((t,e)=>{const{children:r,...n}=t,i=S.Children.toArray(r),a=i.find(EK);if(a){const s=a.props.children,l=i.map(u=>u===a?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:u);return o.jsx(Bj,{...n,ref:e,children:S.isValidElement(s)?S.cloneElement(s,void 0,l):null})}return o.jsx(Bj,{...n,ref:e,children:r})});Fc.displayName="Slot";var Bj=S.forwardRef((t,e)=>{const{children:r,...n}=t;if(S.isValidElement(r)){const i=AK(r);return S.cloneElement(r,{...jK(n,r.props),ref:e?FF(e,i):i})}return S.Children.count(r)>1?S.Children.only(null):null});Bj.displayName="SlotClone";var VF=({children:t})=>o.jsx(o.Fragment,{children:t});function EK(t){return S.isValidElement(t)&&t.type===VF}function jK(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{a(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function AK(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function qx(t){const e=t+"CollectionProvider",[r,n]=_K(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=y=>{const{scope:_,children:b}=y,x=U.useRef(null),N=U.useRef(new Map).current;return o.jsx(i,{scope:_,itemMap:N,collectionRef:x,children:b})};s.displayName=e;const l=t+"CollectionSlot",u=U.forwardRef((y,_)=>{const{scope:b,children:x}=y,N=a(l,b),A=Nt(_,N.collectionRef);return o.jsx(Fc,{ref:A,children:x})});u.displayName=l;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=U.forwardRef((y,_)=>{const{scope:b,children:x,...N}=y,A=U.useRef(null),j=Nt(_,A),E=a(f,b);return U.useEffect(()=>(E.itemMap.set(A,{ref:A,...N}),()=>void E.itemMap.delete(A))),o.jsx(Fc,{[h]:"",ref:j,children:x})});p.displayName=f;function m(y){const _=a(t+"CollectionConsumer",y);return U.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const N=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((E,P)=>N.indexOf(E.ref.current)-N.indexOf(P.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},m,n]}function NK(t,e){const r=S.createContext(e),n=a=>{const{children:s,...l}=a,u=S.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:u,children:s})};n.displayName=t+"Provider";function i(a){const s=S.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Oa(t,e=[]){let r=[];function n(a,s){const l=S.createContext(s),u=r.length;r=[...r,s];const f=p=>{var N;const{scope:m,children:y,..._}=p,b=((N=m==null?void 0:m[t])==null?void 0:N[u])||l,x=S.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:x,children:y})};f.displayName=a+"Provider";function h(p,m){var b;const y=((b=m==null?void 0:m[t])==null?void 0:b[u])||l,_=S.useContext(y);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,h]}const i=()=>{const a=r.map(s=>S.createContext(s));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,TK(i,...e)]}function TK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...l,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var PK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=PK.reduce((t,e)=>{const r=S.forwardRef((n,i)=>{const{asChild:a,...s}=n,l=a?Fc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...s,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function BF(t,e){t&&wf.flushSync(()=>t.dispatchEvent(e))}function qn(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function CK(t,e=globalThis==null?void 0:globalThis.document){const r=qn(t);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var kK="DismissableLayer",Uj="dismissableLayer.update",IK="dismissableLayer.pointerDownOutside",OK="dismissableLayer.focusOutside",U2,UF=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jm=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...u}=t,f=S.useContext(UF),[h,p]=S.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=S.useState({}),_=Nt(e,C=>p(C)),b=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(x),A=h?b.indexOf(h):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,E=A>=N,P=MK(C=>{const I=C.target,M=[...f.branches].some(F=>F.contains(I));!E||M||(i==null||i(C),s==null||s(C),C.defaultPrevented||l==null||l())},m),R=DK(C=>{const I=C.target;[...f.branches].some(F=>F.contains(I))||(a==null||a(C),s==null||s(C),C.defaultPrevented||l==null||l())},m);return CK(C=>{A===f.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),S.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(U2=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),z2(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=U2)}},[h,m,r,f]),S.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),z2())},[h,f]),S.useEffect(()=>{const C=()=>y({});return document.addEventListener(Uj,C),()=>document.removeEventListener(Uj,C)},[]),o.jsx(He.div,{...u,ref:_,style:{pointerEvents:j?E?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,P.onPointerDownCapture)})});jm.displayName=kK;var RK="DismissableLayerBranch",zF=S.forwardRef((t,e)=>{const r=S.useContext(UF),n=S.useRef(null),i=Nt(e,n);return S.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(He.div,{...t,ref:i})});zF.displayName=RK;function MK(t,e=globalThis==null?void 0:globalThis.document){const r=qn(t),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let u=function(){qF(IK,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function DK(t,e=globalThis==null?void 0:globalThis.document){const r=qn(t),n=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!n.current&&qF(OK,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function z2(){const t=new CustomEvent(Uj);document.dispatchEvent(t)}function qF(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?BF(i,a):i.dispatchEvent(a)}var LK=jm,$K=zF,nn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},FK="Portal",Hx=S.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,a]=S.useState(!1);nn(()=>a(!0),[]);const s=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?$F.createPortal(o.jsx(He.div,{...n,ref:e}),s):null});Hx.displayName=FK;function VK(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var mo=t=>{const{present:e,children:r}=t,n=BK(e),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),a=Nt(n.ref,UK(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:a}):null};mo.displayName="Presence";function BK(t){const[e,r]=S.useState(),n=S.useRef({}),i=S.useRef(t),a=S.useRef("none"),s=t?"mounted":"unmounted",[l,u]=VK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=pv(n.current);a.current=l==="mounted"?f:"none"},[l]),nn(()=>{const f=n.current,h=i.current;if(h!==t){const m=a.current,y=pv(f);t?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),nn(()=>{if(e){let f;const h=e.ownerDocument.defaultView??window,p=y=>{const b=pv(n.current).includes(y.animationName);if(y.target===e&&b&&(u("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",f=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=y=>{y.target===e&&(a.current=pv(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(f),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function pv(t){return(t==null?void 0:t.animationName)||"none"}function UK(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ta({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=zK({defaultProp:e,onChange:r}),a=t!==void 0,s=a?t:n,l=qn(r),u=S.useCallback(f=>{if(a){const p=typeof f=="function"?f(t):f;p!==t&&l(p)}else i(f)},[a,t,i,l]);return[s,u]}function zK({defaultProp:t,onChange:e}){const r=S.useState(t),[n]=r,i=S.useRef(n),a=qn(e);return S.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var qK="VisuallyHidden",Am=S.forwardRef((t,e)=>o.jsx(He.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Am.displayName=qK;var HK=Am,vT="ToastProvider",[yT,WK,GK]=qx("Toast"),[HF,UTe]=Oa("Toast",[GK]),[KK,Wx]=HF(vT),WF=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[l,u]=S.useState(null),[f,h]=S.useState(0),p=S.useRef(!1),m=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${vT}\`. Expected non-empty \`string\`.`),o.jsx(yT.Provider,{scope:e,children:o.jsx(KK,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:f,viewport:l,onViewportChange:u,onToastAdd:S.useCallback(()=>h(y=>y+1),[]),onToastRemove:S.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:s})})};WF.displayName=vT;var GF="ToastViewport",YK=["F8"],zj="toast.viewportPause",qj="toast.viewportResume",KF=S.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=YK,label:i="Notifications ({hotkey})",...a}=t,s=Wx(GF,r),l=WK(r),u=S.useRef(null),f=S.useRef(null),h=S.useRef(null),p=S.useRef(null),m=Nt(e,p,s.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=s.toastCount>0;S.useEffect(()=>{const x=N=>{var j;n.length!==0&&n.every(E=>N[E]||N.code===E)&&((j=p.current)==null||j.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),S.useEffect(()=>{const x=u.current,N=p.current;if(_&&x&&N){const A=()=>{if(!s.isClosePausedRef.current){const R=new CustomEvent(zj);N.dispatchEvent(R),s.isClosePausedRef.current=!0}},j=()=>{if(s.isClosePausedRef.current){const R=new CustomEvent(qj);N.dispatchEvent(R),s.isClosePausedRef.current=!1}},E=R=>{!x.contains(R.relatedTarget)&&j()},P=()=>{x.contains(document.activeElement)||j()};return x.addEventListener("focusin",A),x.addEventListener("focusout",E),x.addEventListener("pointermove",A),x.addEventListener("pointerleave",P),window.addEventListener("blur",A),window.addEventListener("focus",j),()=>{x.removeEventListener("focusin",A),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",A),x.removeEventListener("pointerleave",P),window.removeEventListener("blur",A),window.removeEventListener("focus",j)}}},[_,s.isClosePausedRef]);const b=S.useCallback(({tabbingDirection:x})=>{const A=l().map(j=>{const E=j.ref.current,P=[E,...lY(E)];return x==="forwards"?P:P.reverse()});return(x==="forwards"?A.reverse():A).flat()},[l]);return S.useEffect(()=>{const x=p.current;if(x){const N=A=>{var P,R,C;const j=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!j){const I=document.activeElement,M=A.shiftKey;if(A.target===x&&M){(P=f.current)==null||P.focus();return}const V=b({tabbingDirection:M?"backwards":"forwards"}),$=V.findIndex(H=>H===I);c_(V.slice($+1))?A.preventDefault():M?(R=f.current)==null||R.focus():(C=h.current)==null||C.focus()}};return x.addEventListener("keydown",N),()=>x.removeEventListener("keydown",N)}},[l,b]),o.jsxs($K,{ref:u,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&o.jsx(Hj,{ref:f,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});c_(x)}}),o.jsx(yT.Slot,{scope:r,children:o.jsx(He.ol,{tabIndex:-1,...a,ref:m})}),_&&o.jsx(Hj,{ref:h,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});c_(x)}})]})});KF.displayName=GF;var YF="ToastFocusProxy",Hj=S.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=Wx(YF,r);return o.jsx(Am,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var f;const l=s.relatedTarget;!((f=a.viewport)!=null&&f.contains(l))&&n()}})});Hj.displayName=YF;var Gx="Toast",QK="toast.swipeStart",XK="toast.swipeMove",JK="toast.swipeCancel",ZK="toast.swipeEnd",QF=S.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=t,[l=!0,u]=Ta({prop:n,defaultProp:i,onChange:a});return o.jsx(mo,{present:r||l,children:o.jsx(rY,{open:l,...s,ref:e,onClose:()=>u(!1),onPause:qn(t.onPause),onResume:qn(t.onResume),onSwipeStart:Be(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Be(t.onSwipeMove,f=>{const{x:h,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Be(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Be(t.onSwipeEnd,f=>{const{x:h,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});QF.displayName=Gx;var[eY,tY]=HF(Gx,{onClose(){}}),rY=S.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:l,onPause:u,onResume:f,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:y,..._}=t,b=Wx(Gx,r),[x,N]=S.useState(null),A=Nt(e,H=>N(H)),j=S.useRef(null),E=S.useRef(null),P=i||b.duration,R=S.useRef(0),C=S.useRef(P),I=S.useRef(0),{onToastAdd:M,onToastRemove:F}=b,D=qn(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=b.viewport)==null||G.focus()),s()}),V=S.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),R.current=new Date().getTime(),I.current=window.setTimeout(D,H))},[D]);S.useEffect(()=>{const H=b.viewport;if(H){const G=()=>{V(C.current),f==null||f()},Y=()=>{const Q=new Date().getTime()-R.current;C.current=C.current-Q,window.clearTimeout(I.current),u==null||u()};return H.addEventListener(zj,Y),H.addEventListener(qj,G),()=>{H.removeEventListener(zj,Y),H.removeEventListener(qj,G)}}},[b.viewport,P,u,f,V]),S.useEffect(()=>{a&&!b.isClosePausedRef.current&&V(P)},[a,P,b.isClosePausedRef,V]),S.useEffect(()=>(M(),()=>F()),[M,F]);const $=S.useMemo(()=>x?nV(x):null,[x]);return b.viewport?o.jsxs(o.Fragment,{children:[$&&o.jsx(nY,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),o.jsx(eY,{scope:r,onClose:D,children:wf.createPortal(o.jsx(yT.ItemSlot,{scope:r,children:o.jsx(LK,{asChild:!0,onEscapeKeyDown:Be(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||D(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,..._,ref:A,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Be(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Be(t.onPointerDown,H=>{H.button===0&&(j.current={x:H.clientX,y:H.clientY})}),onPointerMove:Be(t.onPointerMove,H=>{if(!j.current)return;const G=H.clientX-j.current.x,Y=H.clientY-j.current.y,Q=!!E.current,W=["left","right"].includes(b.swipeDirection),J=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ee=W?J(0,G):0,q=W?0:J(0,Y),X=H.pointerType==="touch"?10:2,ae={x:ee,y:q},be={originalEvent:H,delta:ae};Q?(E.current=ae,mv(XK,p,be,{discrete:!1})):q2(ae,b.swipeDirection,X)?(E.current=ae,mv(QK,h,be,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(G)>X||Math.abs(Y)>X)&&(j.current=null)}),onPointerUp:Be(t.onPointerUp,H=>{const G=E.current,Y=H.target;if(Y.hasPointerCapture(H.pointerId)&&Y.releasePointerCapture(H.pointerId),E.current=null,j.current=null,G){const Q=H.currentTarget,W={originalEvent:H,delta:G};q2(G,b.swipeDirection,b.swipeThreshold)?mv(ZK,y,W,{discrete:!0}):mv(JK,m,W,{discrete:!0}),Q.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),nY=t=>{const{__scopeToast:e,children:r,...n}=t,i=Wx(Gx,e),[a,s]=S.useState(!1),[l,u]=S.useState(!1);return sY(()=>s(!0)),S.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:o.jsx(Hx,{asChild:!0,children:o.jsx(Am,{...n,children:a&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},iY="ToastTitle",XF=S.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(He.div,{...n,ref:e})});XF.displayName=iY;var aY="ToastDescription",JF=S.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(He.div,{...n,ref:e})});JF.displayName=aY;var ZF="ToastAction",eV=S.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(rV,{altText:r,asChild:!0,children:o.jsx(xT,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZF}\`. Expected non-empty \`string\`.`),null)});eV.displayName=ZF;var tV="ToastClose",xT=S.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=tY(tV,r);return o.jsx(rV,{asChild:!0,children:o.jsx(He.button,{type:"button",...n,ref:e,onClick:Be(t.onClick,i.onClose)})})});xT.displayName=tV;var rV=S.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return o.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function nV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),oY(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...nV(n))}}),e}function mv(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?BF(i,a):i.dispatchEvent(a)}var q2=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function sY(t=()=>{}){const e=qn(t);nn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function oY(t){return t.nodeType===t.ELEMENT_NODE}function lY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function c_(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var cY=WF,iV=KF,aV=QF,sV=XF,oV=JF,lV=eV,cV=xT;function uV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=uV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=uV(t))&&(n&&(n+=" "),n+=e);return n}const H2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,W2=ht,Kx=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return W2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(f=>{const h=r==null?void 0:r[f],p=a==null?void 0:a[f];if(h===null)return null;const m=H2(h)||H2(p);return i[f][m]}),l=r&&Object.entries(r).reduce((f,h)=>{let[p,m]=h;return m===void 0||(f[p]=m),f},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,h)=>{let{class:p,className:m,...y}=h;return Object.entries(y).every(_=>{let[b,x]=_;return Array.isArray(x)?x.includes({...a,...l}[b]):{...a,...l}[b]===x})?[...f,p,m]:f},[]);return W2(t,s,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dV=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...l},u)=>S.createElement("svg",{ref:u,...dY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:dV("lucide",i),...l},[...s.map(([f,h])=>S.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=S.forwardRef(({className:n,...i},a)=>S.createElement(fY,{ref:a,iconNode:e,className:dV(`lucide-${uY(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Ee("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ee("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ee("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ee("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=Ee("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ee("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ee("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Ee("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=Ee("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ee("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Ee("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=Ee("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Ee("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=Ee("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Ee("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=Ee("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=Ee("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=Ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=Ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=Ee("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=Ee("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=Ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=Ee("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=Ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=Ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=Ee("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=Ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ee("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=Ee("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=Ee("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ee("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ST="-",HY=t=>{const e=GY(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(ST);return l[0]===""&&l.length!==1&&l.shift(),NV(l,e)||WY(s)},getConflictingClassGroupIds:(s,l)=>{const u=r[s]||[];return l&&n[s]?[...u,...n[s]]:u}}},NV=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?NV(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(ST);return(s=e.validators.find(({validator:l})=>l(a)))==null?void 0:s.classGroupId},J2=/^\[(.+)\]$/,WY=t=>{if(J2.test(t)){const e=J2.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},GY=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return YY(Object.entries(t.classGroups),r).forEach(([a,s])=>{Xj(s,n,a,e)}),n},Xj=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Z2(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(KY(i)){Xj(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{Xj(s,Z2(e,a),r,n)})})},Z2=(t,e)=>{let r=t;return e.split(ST).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KY=t=>t.isThemeGetter,YY=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,l])=>[e+s,l])):a);return[r,i]}):t,QY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},TV="!",XY=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=l=>{const u=[];let f=0,h=0,p;for(let x=0;x<l.length;x++){let N=l[x];if(f===0){if(N===i&&(n||l.slice(x,x+a)===e)){u.push(l.slice(h,x)),h=x+a;continue}if(N==="/"){p=x;continue}}N==="["?f++:N==="]"&&f--}const m=u.length===0?l:l.substring(h),y=m.startsWith(TV),_=y?m.substring(1):m,b=p&&p>h?p-h:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:s}):s},JY=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},ZY=t=>({cache:QY(t.cacheSize),parseClassName:XY(t),...HY(t)}),eQ=/\s+/,tQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(eQ);let l="";for(let u=s.length-1;u>=0;u-=1){const f=s[u],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}=r(f);let _=!!y,b=n(_?m.substring(0,y):m);if(!b){if(!_){l=f+(l.length>0?" "+l:l);continue}if(b=n(m),!b){l=f+(l.length>0?" "+l:l);continue}_=!1}const x=JY(h).join(":"),N=p?x+TV:x,A=N+b;if(a.includes(A))continue;a.push(A);const j=i(b,_);for(let E=0;E<j.length;++E){const P=j[E];a.push(N+P)}l=f+(l.length>0?" "+l:l)}return l};function rQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=PV(e))&&(n&&(n+=" "),n+=r);return n}const PV=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=PV(t[n]))&&(r&&(r+=" "),r+=e);return r};function nQ(t,...e){let r,n,i,a=s;function s(u){const f=e.reduce((h,p)=>p(h),t());return r=ZY(f),n=r.cache.get,i=r.cache.set,a=l,l(u)}function l(u){const f=n(u);if(f)return f;const h=tQ(u,r);return i(u,h),h}return function(){return a(rQ.apply(null,arguments))}}const hr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},CV=/^\[(?:([a-z-]+):)?(.+)\]$/i,iQ=/^\d+\/\d+$/,aQ=new Set(["px","full","screen"]),sQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ls=t=>hd(t)||aQ.has(t)||iQ.test(t),Go=t=>Sf(t,"length",yQ),hd=t=>!!t&&!Number.isNaN(Number(t)),d_=t=>Sf(t,"number",hd),Oh=t=>!!t&&Number.isInteger(Number(t)),dQ=t=>t.endsWith("%")&&hd(t.slice(0,-1)),mt=t=>CV.test(t),Ko=t=>sQ.test(t),fQ=new Set(["length","size","percentage"]),hQ=t=>Sf(t,fQ,kV),pQ=t=>Sf(t,"position",kV),mQ=new Set(["image","url"]),gQ=t=>Sf(t,mQ,bQ),vQ=t=>Sf(t,"",xQ),Rh=()=>!0,Sf=(t,e,r)=>{const n=CV.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},yQ=t=>oQ.test(t)&&!lQ.test(t),kV=()=>!1,xQ=t=>cQ.test(t),bQ=t=>uQ.test(t),wQ=()=>{const t=hr("colors"),e=hr("spacing"),r=hr("blur"),n=hr("brightness"),i=hr("borderColor"),a=hr("borderRadius"),s=hr("borderSpacing"),l=hr("borderWidth"),u=hr("contrast"),f=hr("grayscale"),h=hr("hueRotate"),p=hr("invert"),m=hr("gap"),y=hr("gradientColorStops"),_=hr("gradientColorStopPositions"),b=hr("inset"),x=hr("margin"),N=hr("opacity"),A=hr("padding"),j=hr("saturate"),E=hr("scale"),P=hr("sepia"),R=hr("skew"),C=hr("space"),I=hr("translate"),M=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",mt,e],V=()=>[mt,e],$=()=>["",Ls,Go],H=()=>["auto",hd,mt],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",mt],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[hd,mt];return{cacheSize:500,separator:":",theme:{colors:[Rh],spacing:[Ls,Go],blur:["none","",Ko,mt],brightness:q(),borderColor:[t],borderRadius:["none","","full",Ko,mt],borderSpacing:V(),borderWidth:$(),contrast:q(),grayscale:J(),hueRotate:q(),invert:J(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[dQ,Go],inset:D(),margin:D(),opacity:q(),padding:V(),saturate:q(),scale:q(),sepia:J(),skew:q(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[Ko]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),mt]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oh,mt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Oh,mt]}],"grid-cols":[{"grid-cols":[Rh]}],"col-start-end":[{col:["auto",{span:["full",Oh,mt]},mt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Rh]}],"row-start-end":[{row:["auto",{span:[Oh,mt]},mt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,e]}],"min-w":[{"min-w":[mt,e,"min","max","fit"]}],"max-w":[{"max-w":[mt,e,"none","full","min","max","fit","prose",{screen:[Ko]},Ko]}],h:[{h:[mt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ko,Go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",d_]}],"font-family":[{font:[Rh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",hd,d_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ls,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ls,Go]}],"underline-offset":[{"underline-offset":["auto",Ls,mt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),pQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Ls,mt]}],"outline-w":[{outline:[Ls,Go]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Ls,Go]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ko,vQ]}],"shadow-color":[{shadow:[Rh]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ko,mt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[j]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Oh,mt]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ls,Go,d_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_Q=nQ(wQ);function Ze(...t){return _Q(ht(t))}const SQ=cY,IV=S.forwardRef(({className:t,...e},r)=>o.jsx(iV,{ref:r,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));IV.displayName=iV.displayName;const EQ=Kx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),OV=S.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(aV,{ref:n,className:Ze(EQ({variant:e}),t),...r}));OV.displayName=aV.displayName;const jQ=S.forwardRef(({className:t,...e},r)=>o.jsx(lV,{ref:r,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jQ.displayName=lV.displayName;const RV=S.forwardRef(({className:t,...e},r)=>o.jsx(cV,{ref:r,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Qi,{className:"h-4 w-4"})}));RV.displayName=cV.displayName;const MV=S.forwardRef(({className:t,...e},r)=>o.jsx(sV,{ref:r,className:Ze("text-sm font-semibold",t),...e}));MV.displayName=sV.displayName;const DV=S.forwardRef(({className:t,...e},r)=>o.jsx(oV,{ref:r,className:Ze("text-sm opacity-90",t),...e}));DV.displayName=oV.displayName;function AQ(){const{toasts:t}=Vr();return o.jsxs(SQ,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return o.jsxs(OV,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(MV,{children:r}),n&&o.jsx(DV,{children:n})]}),i,o.jsx(RV,{})]},e)}),o.jsx(IV,{})]})}var eO=["light","dark"],NQ="(prefers-color-scheme: dark)",TQ=S.createContext(void 0),PQ={setTheme:t=>{},themes:[]},CQ=()=>{var t;return(t=S.useContext(TQ))!=null?t:PQ};S.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:l,nonce:u})=>{let f=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=i?eO.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(_,b=!1,x=!0)=>{let N=s?s[_]:_,A=b?_+"|| ''":`'${N}'`,j="";return i&&x&&!b&&eO.includes(_)&&(j+=`d.style.colorScheme = '${_}';`),r==="class"?b||N?j+=`c.add(${A})`:j+="null":N&&(j+=`d[s](n,${A})`),j},y=t?`!function(){${h}${m(t)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${f})){var t='${NQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}${f?"":"else{"+m(a,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${p}}catch(t){}}();`;return S.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var kQ=t=>{switch(t){case"success":return RQ;case"info":return DQ;case"warning":return MQ;case"error":return LQ;default:return null}},IQ=Array(12).fill(0),OQ=({visible:t})=>U.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},U.createElement("div",{className:"sonner-spinner"},IQ.map((e,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),RQ=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MQ=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),DQ=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LQ=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$Q=()=>{let[t,e]=U.useState(document.hidden);return U.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Jj=1,FQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Jj++,a=this.toasts.find(l=>l.id===i),s=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:s,title:r}):l):this.addToast({title:r,...n,dismissible:s,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0;return n.then(async a=>{if(BQ(a)&&!a.ok){i=!1;let s=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:r,type:"error",message:s,description:l})}else if(e.success!==void 0){i=!1;let s=typeof e.success=="function"?await e.success(a):e.success,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"success",message:s,description:l})}}).catch(async a=>{if(e.error!==void 0){i=!1;let s=typeof e.error=="function"?await e.error(a):e.error,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"error",message:s,description:l})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=e.finally)==null||a.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Jj++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},yi=new FQ,VQ=(t,e)=>{let r=(e==null?void 0:e.id)||Jj++;return yi.addToast({title:t,...e,id:r}),r},BQ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",UQ=VQ,zQ=()=>yi.toasts;Object.assign(UQ,{success:yi.success,info:yi.info,warning:yi.warning,error:yi.error,custom:yi.custom,message:yi.message,promise:yi.promise,dismiss:yi.dismiss,loading:yi.loading},{getHistory:zQ});function qQ(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}qQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gv(t){return t.label!==void 0}var HQ=3,WQ="32px",GQ=4e3,KQ=356,YQ=14,QQ=20,XQ=200;function JQ(...t){return t.filter(Boolean).join(" ")}var ZQ=t=>{var e,r,n,i,a,s,l,u,f,h;let{invert:p,toast:m,unstyled:y,interacting:_,setHeights:b,visibleToasts:x,heights:N,index:A,toasts:j,expanded:E,removeToast:P,defaultRichColors:R,closeButton:C,style:I,cancelButtonStyle:M,actionButtonStyle:F,className:D="",descriptionClassName:V="",duration:$,position:H,gap:G,loadingIcon:Y,expandByDefault:Q,classNames:W,icons:J,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:q,cn:X}=t,[ae,be]=U.useState(!1),[Ae,Ne]=U.useState(!1),[ge,Pe]=U.useState(!1),[de,ve]=U.useState(!1),[we,le]=U.useState(0),[Ye,qe]=U.useState(0),pt=U.useRef(null),ot=U.useRef(null),lt=A===0,br=A+1<=x,Tt=m.type,Lt=m.dismissible!==!1,cr=m.className||"",Me=m.descriptionClassName||"",st=U.useMemo(()=>N.findIndex(Je=>Je.toastId===m.id)||0,[N,m.id]),Ue=U.useMemo(()=>{var Je;return(Je=m.closeButton)!=null?Je:C},[m.closeButton,C]),Pt=U.useMemo(()=>m.duration||$||GQ,[m.duration,$]),tt=U.useRef(0),bt=U.useRef(0),kn=U.useRef(0),Hn=U.useRef(null),[gn,ea]=H.split("-"),Ti=U.useMemo(()=>N.reduce((Je,Ct,Et)=>Et>=st?Je:Je+Ct.height,0),[N,st]),La=$Q(),_s=m.invert||p,Pi=Tt==="loading";bt.current=U.useMemo(()=>st*G+Ti,[st,Ti]),U.useEffect(()=>{be(!0)},[]),U.useLayoutEffect(()=>{if(!ae)return;let Je=ot.current,Ct=Je.style.height;Je.style.height="auto";let Et=Je.getBoundingClientRect().height;Je.style.height=Ct,qe(Et),b(ur=>ur.find(wr=>wr.toastId===m.id)?ur.map(wr=>wr.toastId===m.id?{...wr,height:Et}:wr):[{toastId:m.id,height:Et,position:m.position},...ur])},[ae,m.title,m.description,b,m.id]);let on=U.useCallback(()=>{Ne(!0),le(bt.current),b(Je=>Je.filter(Ct=>Ct.toastId!==m.id)),setTimeout(()=>{P(m)},XQ)},[m,P,b,bt]);U.useEffect(()=>{if(m.promise&&Tt==="loading"||m.duration===1/0||m.type==="loading")return;let Je,Ct=Pt;return E||_||q&&La?(()=>{if(kn.current<tt.current){let Et=new Date().getTime()-tt.current;Ct=Ct-Et}kn.current=new Date().getTime()})():Ct!==1/0&&(tt.current=new Date().getTime(),Je=setTimeout(()=>{var Et;(Et=m.onAutoClose)==null||Et.call(m,m),on()},Ct)),()=>clearTimeout(Je)},[E,_,Q,m,Pt,on,m.promise,Tt,q,La]),U.useEffect(()=>{let Je=ot.current;if(Je){let Ct=Je.getBoundingClientRect().height;return qe(Ct),b(Et=>[{toastId:m.id,height:Ct,position:m.position},...Et]),()=>b(Et=>Et.filter(ur=>ur.toastId!==m.id))}},[b,m.id]),U.useEffect(()=>{m.delete&&on()},[on,m.delete]);function Ss(){return J!=null&&J.loading?U.createElement("div",{className:"sonner-loader","data-visible":Tt==="loading"},J.loading):Y?U.createElement("div",{className:"sonner-loader","data-visible":Tt==="loading"},Y):U.createElement(OQ,{visible:Tt==="loading"})}return U.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ot,className:X(D,cr,W==null?void 0:W.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,W==null?void 0:W.default,W==null?void 0:W[Tt],(r=m==null?void 0:m.classNames)==null?void 0:r[Tt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:R,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":ae,"data-promise":!!m.promise,"data-removed":Ae,"data-visible":br,"data-y-position":gn,"data-x-position":ea,"data-index":A,"data-front":lt,"data-swiping":ge,"data-dismissible":Lt,"data-type":Tt,"data-invert":_s,"data-swipe-out":de,"data-expanded":!!(E||Q&&ae),style:{"--index":A,"--toasts-before":A,"--z-index":j.length-A,"--offset":`${Ae?we:bt.current}px`,"--initial-height":Q?"auto":`${Ye}px`,...I,...m.style},onPointerDown:Je=>{Pi||!Lt||(pt.current=new Date,le(bt.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(Pe(!0),Hn.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,Ct,Et,ur;if(de||!Lt)return;Hn.current=null;let wr=Number(((Je=ot.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount").replace("px",""))||0),fe=new Date().getTime()-((Ct=pt.current)==null?void 0:Ct.getTime()),ke=Math.abs(wr)/fe;if(Math.abs(wr)>=QQ||ke>.11){le(bt.current),(Et=m.onDismiss)==null||Et.call(m,m),on(),ve(!0);return}(ur=ot.current)==null||ur.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:Je=>{var Ct;if(!Hn.current||!Lt)return;let Et=Je.clientY-Hn.current.y,ur=Je.clientX-Hn.current.x,wr=(gn==="top"?Math.min:Math.max)(0,Et),fe=Je.pointerType==="touch"?10:2;Math.abs(wr)>fe?(Ct=ot.current)==null||Ct.style.setProperty("--swipe-amount",`${Et}px`):Math.abs(ur)>fe&&(Hn.current=null)}},Ue&&!m.jsx?U.createElement("button",{"aria-label":ee,"data-disabled":Pi,"data-close-button":!0,onClick:Pi||!Lt?()=>{}:()=>{var Je;on(),(Je=m.onDismiss)==null||Je.call(m,m)},className:X(W==null?void 0:W.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||U.isValidElement(m.title)?m.jsx||m.title:U.createElement(U.Fragment,null,Tt||m.icon||m.promise?U.createElement("div",{"data-icon":"",className:X(W==null?void 0:W.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ss():null,m.type!=="loading"?m.icon||(J==null?void 0:J[Tt])||kQ(Tt):null):null,U.createElement("div",{"data-content":"",className:X(W==null?void 0:W.content,(s=m==null?void 0:m.classNames)==null?void 0:s.content)},U.createElement("div",{"data-title":"",className:X(W==null?void 0:W.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?U.createElement("div",{"data-description":"",className:X(V,Me,W==null?void 0:W.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},m.description):null),U.isValidElement(m.cancel)?m.cancel:m.cancel&&gv(m.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:Je=>{var Ct,Et;gv(m.cancel)&&Lt&&((Et=(Ct=m.cancel).onClick)==null||Et.call(Ct,Je),on())},className:X(W==null?void 0:W.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,U.isValidElement(m.action)?m.action:m.action&&gv(m.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||F,onClick:Je=>{var Ct,Et;gv(m.action)&&(Je.defaultPrevented||((Et=(Ct=m.action).onClick)==null||Et.call(Ct,Je),on()))},className:X(W==null?void 0:W.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function tO(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var eX=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:l,theme:u="light",richColors:f,duration:h,style:p,visibleToasts:m=HQ,toastOptions:y,dir:_=tO(),gap:b=YQ,loadingIcon:x,icons:N,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:j,cn:E=JQ}=t,[P,R]=U.useState([]),C=U.useMemo(()=>Array.from(new Set([r].concat(P.filter(q=>q.position).map(q=>q.position)))),[P,r]),[I,M]=U.useState([]),[F,D]=U.useState(!1),[V,$]=U.useState(!1),[H,G]=U.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=U.useRef(null),Q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=U.useRef(null),J=U.useRef(!1),ee=U.useCallback(q=>{var X;(X=P.find(ae=>ae.id===q.id))!=null&&X.delete||yi.dismiss(q.id),R(ae=>ae.filter(({id:be})=>be!==q.id))},[P]);return U.useEffect(()=>yi.subscribe(q=>{if(q.dismiss){R(X=>X.map(ae=>ae.id===q.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{$F.flushSync(()=>{R(X=>{let ae=X.findIndex(be=>be.id===q.id);return ae!==-1?[...X.slice(0,ae),{...X[ae],...q},...X.slice(ae+1)]:[q,...X]})})})}),[]),U.useEffect(()=>{if(u!=="system"){G(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{G(q?"dark":"light")})},[u]),U.useEffect(()=>{P.length<=1&&D(!1)},[P]),U.useEffect(()=>{let q=X=>{var ae,be;n.every(Ae=>X[Ae]||X.code===Ae)&&(D(!0),(ae=Y.current)==null||ae.focus()),X.code==="Escape"&&(document.activeElement===Y.current||(be=Y.current)!=null&&be.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[n]),U.useEffect(()=>{if(Y.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,J.current=!1)}},[Y.current]),P.length?U.createElement("section",{"aria-label":`${A} ${Q}`,tabIndex:-1},C.map((q,X)=>{var ae;let[be,Ae]=q.split("-");return U.createElement("ol",{key:q,dir:_==="auto"?tO():_,tabIndex:-1,ref:Y,className:s,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":be,"data-x-position":Ae,style:{"--front-toast-height":`${((ae=I[0])==null?void 0:ae.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||WQ,"--width":`${KQ}px`,"--gap":`${b}px`,...p},onBlur:Ne=>{J.current&&!Ne.currentTarget.contains(Ne.relatedTarget)&&(J.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||J.current||(J.current=!0,W.current=Ne.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{V||D(!1)},onPointerDown:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},P.filter(Ne=>!Ne.position&&X===0||Ne.position===q).map((Ne,ge)=>{var Pe,de;return U.createElement(ZQ,{key:Ne.id,icons:N,index:ge,toast:Ne,defaultRichColors:f,duration:(Pe=y==null?void 0:y.duration)!=null?Pe:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:m,closeButton:(de=y==null?void 0:y.closeButton)!=null?de:a,interacting:V,position:q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ee,toasts:P.filter(ve=>ve.position==Ne.position),heights:I.filter(ve=>ve.position==Ne.position),setHeights:M,expandByDefault:i,gap:b,loadingIcon:x,expanded:F,pauseWhenPageIsHidden:j,cn:E})}))})):null};const tX=({...t})=>{const{theme:e="system"}=CQ();return o.jsx(eX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var rX=LF.useId||(()=>{}),nX=0;function Ys(t){const[e,r]=S.useState(rX());return nn(()=>{r(n=>n??String(nX++))},[t]),e?`radix-${e}`:""}const iX=["top","right","bottom","left"],El=Math.min,bi=Math.max,fy=Math.round,vv=Math.floor,jl=t=>({x:t,y:t}),aX={left:"right",right:"left",bottom:"top",top:"bottom"},sX={start:"end",end:"start"};function Zj(t,e,r){return bi(t,El(e,r))}function ro(t,e){return typeof t=="function"?t(e):t}function no(t){return t.split("-")[0]}function Ef(t){return t.split("-")[1]}function ET(t){return t==="x"?"y":"x"}function jT(t){return t==="y"?"height":"width"}function Al(t){return["top","bottom"].includes(no(t))?"y":"x"}function AT(t){return ET(Al(t))}function oX(t,e,r){r===void 0&&(r=!1);const n=Ef(t),i=AT(t),a=jT(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=hy(s)),[s,hy(s)]}function lX(t){const e=hy(t);return[eA(t),e,eA(e)]}function eA(t){return t.replace(/start|end/g,e=>sX[e])}function cX(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function uX(t,e,r,n){const i=Ef(t);let a=cX(no(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(eA)))),a}function hy(t){return t.replace(/left|right|bottom|top/g,e=>aX[e])}function dX(t){return{top:0,right:0,bottom:0,left:0,...t}}function LV(t){return typeof t!="number"?dX(t):{top:t,right:t,bottom:t,left:t}}function py(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function rO(t,e,r){let{reference:n,floating:i}=t;const a=Al(e),s=AT(e),l=jT(s),u=no(e),f=a==="y",h=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let y;switch(u){case"top":y={x:h,y:n.y-i.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-i.width,y:p};break;default:y={x:n.x,y:n.y}}switch(Ef(e)){case"start":y[s]-=m*(r&&f?-1:1);break;case"end":y[s]+=m*(r&&f?-1:1);break}return y}const fX=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,l=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=rO(f,n,u),m=n,y={},_=0;for(let b=0;b<l.length;b++){const{name:x,fn:N}=l[b],{x:A,y:j,data:E,reset:P}=await N({x:h,y:p,initialPlacement:n,placement:m,strategy:i,middlewareData:y,rects:f,platform:s,elements:{reference:t,floating:e}});h=A??h,p=j??p,y={...y,[x]:{...y[x],...E}},P&&_<=50&&(_++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(f=P.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:h,y:p}=rO(f,m,u)),b=-1)}return{x:h,y:p,placement:m,strategy:i,middlewareData:y}};async function Ep(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:l,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=ro(e,t),_=LV(y),x=l[m?p==="floating"?"reference":"floating":p],N=py(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:h,strategy:u})),A=p==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},P=py(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:j,strategy:u}):A);return{top:(N.top-P.top+_.top)/E.y,bottom:(P.bottom-N.bottom+_.bottom)/E.y,left:(N.left-P.left+_.left)/E.x,right:(P.right-N.right+_.right)/E.x}}const hX=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:l,middlewareData:u}=e,{element:f,padding:h=0}=ro(t,e)||{};if(f==null)return{};const p=LV(h),m={x:r,y:n},y=AT(i),_=jT(y),b=await s.getDimensions(f),x=y==="y",N=x?"top":"left",A=x?"bottom":"right",j=x?"clientHeight":"clientWidth",E=a.reference[_]+a.reference[y]-m[y]-a.floating[_],P=m[y]-a.reference[y],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let C=R?R[j]:0;(!C||!await(s.isElement==null?void 0:s.isElement(R)))&&(C=l.floating[j]||a.floating[_]);const I=E/2-P/2,M=C/2-b[_]/2-1,F=El(p[N],M),D=El(p[A],M),V=F,$=C-b[_]-D,H=C/2-b[_]/2+I,G=Zj(V,H,$),Y=!u.arrow&&Ef(i)!=null&&H!==G&&a.reference[_]/2-(H<V?F:D)-b[_]/2<0,Q=Y?H<V?H-V:H-$:0;return{[y]:m[y]+Q,data:{[y]:G,centerOffset:H-G-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),pX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...x}=ro(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=no(i),A=Al(l),j=no(l)===l,E=await(u.isRTL==null?void 0:u.isRTL(f.floating)),P=m||(j||!b?[hy(l)]:lX(l)),R=_!=="none";!m&&R&&P.push(...uX(l,b,_,E));const C=[l,...P],I=await Ep(e,x),M=[];let F=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&M.push(I[N]),p){const H=oX(i,s,E);M.push(I[H[0]],I[H[1]])}if(F=[...F,{placement:i,overflows:M}],!M.every(H=>H<=0)){var D,V;const H=(((D=a.flip)==null?void 0:D.index)||0)+1,G=C[H];if(G)return{data:{index:H,overflows:F},reset:{placement:G}};let Y=(V=F.filter(Q=>Q.overflows[0]<=0).sort((Q,W)=>Q.overflows[1]-W.overflows[1])[0])==null?void 0:V.placement;if(!Y)switch(y){case"bestFit":{var $;const Q=($=F.filter(W=>{if(R){const J=Al(W.placement);return J===A||J==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,ee)=>J+ee,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:$[0];Q&&(Y=Q);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function nO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function iO(t){return iX.some(e=>t[e]>=0)}const mX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=ro(t,e);switch(n){case"referenceHidden":{const a=await Ep(e,{...i,elementContext:"reference"}),s=nO(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:iO(s)}}}case"escaped":{const a=await Ep(e,{...i,altBoundary:!0}),s=nO(a,r.floating);return{data:{escapedOffsets:s,escaped:iO(s)}}}default:return{}}}}};async function gX(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=no(r),l=Ef(r),u=Al(r)==="y",f=["left","top"].includes(s)?-1:1,h=a&&u?-1:1,p=ro(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof _=="number"&&(y=l==="end"?_*-1:_),u?{x:y*h,y:m*f}:{x:m*f,y:y*h}}const vX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:l}=e,u=await gX(e,t);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:s}}}}},yX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:N,y:A}=x;return{x:N,y:A}}},...u}=ro(t,e),f={x:r,y:n},h=await Ep(e,u),p=Al(no(i)),m=ET(p);let y=f[m],_=f[p];if(a){const x=m==="y"?"top":"left",N=m==="y"?"bottom":"right",A=y+h[x],j=y-h[N];y=Zj(A,y,j)}if(s){const x=p==="y"?"top":"left",N=p==="y"?"bottom":"right",A=_+h[x],j=_-h[N];_=Zj(A,_,j)}const b=l.fn({...e,[m]:y,[p]:_});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[m]:a,[p]:s}}}}}},xX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=ro(t,e),h={x:r,y:n},p=Al(i),m=ET(p);let y=h[m],_=h[p];const b=ro(l,e),x=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const j=m==="y"?"height":"width",E=a.reference[m]-a.floating[j]+x.mainAxis,P=a.reference[m]+a.reference[j]-x.mainAxis;y<E?y=E:y>P&&(y=P)}if(f){var N,A;const j=m==="y"?"width":"height",E=["top","left"].includes(no(i)),P=a.reference[p]-a.floating[j]+(E&&((N=s.offset)==null?void 0:N[p])||0)+(E?0:x.crossAxis),R=a.reference[p]+a.reference[j]+(E?0:((A=s.offset)==null?void 0:A[p])||0)-(E?x.crossAxis:0);_<P?_=P:_>R&&(_=R)}return{[m]:y,[p]:_}}}},bX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:l}=e,{apply:u=()=>{},...f}=ro(t,e),h=await Ep(e,f),p=no(i),m=Ef(i),y=Al(i)==="y",{width:_,height:b}=a.floating;let x,N;p==="top"||p==="bottom"?(x=p,N=m===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(N=p,x=m==="end"?"top":"bottom");const A=b-h.top-h.bottom,j=_-h.left-h.right,E=El(b-h[x],A),P=El(_-h[N],j),R=!e.middlewareData.shift;let C=E,I=P;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(I=j),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=A),R&&!m){const F=bi(h.left,0),D=bi(h.right,0),V=bi(h.top,0),$=bi(h.bottom,0);y?I=_-2*(F!==0||D!==0?F+D:bi(h.left,h.right)):C=b-2*(V!==0||$!==0?V+$:bi(h.top,h.bottom))}await u({...e,availableWidth:I,availableHeight:C});const M=await s.getDimensions(l.floating);return _!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function Qx(){return typeof window<"u"}function jf(t){return $V(t)?(t.nodeName||"").toLowerCase():"#document"}function Ei(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xs(t){var e;return(e=($V(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $V(t){return Qx()?t instanceof Node||t instanceof Ei(t).Node:!1}function Pa(t){return Qx()?t instanceof Element||t instanceof Ei(t).Element:!1}function fs(t){return Qx()?t instanceof HTMLElement||t instanceof Ei(t).HTMLElement:!1}function aO(t){return!Qx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ei(t).ShadowRoot}function Nm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ca(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function wX(t){return["table","td","th"].includes(jf(t))}function Xx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function NT(t){const e=TT(),r=Pa(t)?Ca(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function _X(t){let e=Nl(t);for(;fs(e)&&!Dd(e);){if(NT(e))return e;if(Xx(e))return null;e=Nl(e)}return null}function TT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dd(t){return["html","body","#document"].includes(jf(t))}function Ca(t){return Ei(t).getComputedStyle(t)}function Jx(t){return Pa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Nl(t){if(jf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||aO(t)&&t.host||xs(t);return aO(e)?e.host:e}function FV(t){const e=Nl(t);return Dd(e)?t.ownerDocument?t.ownerDocument.body:t.body:fs(e)&&Nm(e)?e:FV(e)}function jp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=FV(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=Ei(i);if(a){const l=tA(s);return e.concat(s,s.visualViewport||[],Nm(i)?i:[],l&&r?jp(l):[])}return e.concat(i,jp(i,[],r))}function tA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VV(t){const e=Ca(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=fs(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,l=fy(r)!==a||fy(n)!==s;return l&&(r=a,n=s),{width:r,height:n,$:l}}function PT(t){return Pa(t)?t:t.contextElement}function pd(t){const e=PT(t);if(!fs(e))return jl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=VV(e);let s=(a?fy(r.width):r.width)/n,l=(a?fy(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const SX=jl(0);function BV(t){const e=Ei(t);return!TT()||!e.visualViewport?SX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EX(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ei(t)?!1:e}function Vc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=PT(t);let s=jl(1);e&&(n?Pa(n)&&(s=pd(n)):s=pd(t));const l=EX(a,r,n)?BV(a):jl(0);let u=(i.left+l.x)/s.x,f=(i.top+l.y)/s.y,h=i.width/s.x,p=i.height/s.y;if(a){const m=Ei(a),y=n&&Pa(n)?Ei(n):n;let _=m,b=tA(_);for(;b&&n&&y!==_;){const x=pd(b),N=b.getBoundingClientRect(),A=Ca(b),j=N.left+(b.clientLeft+parseFloat(A.paddingLeft))*x.x,E=N.top+(b.clientTop+parseFloat(A.paddingTop))*x.y;u*=x.x,f*=x.y,h*=x.x,p*=x.y,u+=j,f+=E,_=Ei(b),b=tA(_)}}return py({width:h,height:p,x:u,y:f})}function jX(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=xs(n),l=e?Xx(e.floating):!1;if(n===s||l&&a)return r;let u={scrollLeft:0,scrollTop:0},f=jl(1);const h=jl(0),p=fs(n);if((p||!p&&!a)&&((jf(n)!=="body"||Nm(s))&&(u=Jx(n)),fs(n))){const m=Vc(n);f=pd(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+h.x,y:r.y*f.y-u.scrollTop*f.y+h.y}}function AX(t){return Array.from(t.getClientRects())}function rA(t,e){const r=Jx(t).scrollLeft;return e?e.left+r:Vc(xs(t)).left+r}function NX(t){const e=xs(t),r=Jx(t),n=t.ownerDocument.body,i=bi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=bi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+rA(t);const l=-r.scrollTop;return Ca(n).direction==="rtl"&&(s+=bi(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:l}}function TX(t,e){const r=Ei(t),n=xs(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,l=0,u=0;if(i){a=i.width,s=i.height;const f=TT();(!f||f&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:l,y:u}}function PX(t,e){const r=Vc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=fs(t)?pd(t):jl(1),s=t.clientWidth*a.x,l=t.clientHeight*a.y,u=i*a.x,f=n*a.y;return{width:s,height:l,x:u,y:f}}function sO(t,e,r){let n;if(e==="viewport")n=TX(t,r);else if(e==="document")n=NX(xs(t));else if(Pa(e))n=PX(e,r);else{const i=BV(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return py(n)}function UV(t,e){const r=Nl(t);return r===e||!Pa(r)||Dd(r)?!1:Ca(r).position==="fixed"||UV(r,e)}function CX(t,e){const r=e.get(t);if(r)return r;let n=jp(t,[],!1).filter(l=>Pa(l)&&jf(l)!=="body"),i=null;const a=Ca(t).position==="fixed";let s=a?Nl(t):t;for(;Pa(s)&&!Dd(s);){const l=Ca(s),u=NT(s);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Nm(s)&&!u&&UV(t,s))?n=n.filter(h=>h!==s):i=l,s=Nl(s)}return e.set(t,n),n}function kX(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?Xx(e)?[]:CX(e,this._c):[].concat(r),n],l=s[0],u=s.reduce((f,h)=>{const p=sO(e,h,i);return f.top=bi(p.top,f.top),f.right=El(p.right,f.right),f.bottom=El(p.bottom,f.bottom),f.left=bi(p.left,f.left),f},sO(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function IX(t){const{width:e,height:r}=VV(t);return{width:e,height:r}}function OX(t,e,r){const n=fs(e),i=xs(e),a=r==="fixed",s=Vc(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const u=jl(0);if(n||!n&&!a)if((jf(e)!=="body"||Nm(i))&&(l=Jx(e)),n){const y=Vc(e,!0,a,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&(u.x=rA(i));let f=0,h=0;if(i&&!n&&!a){const y=i.getBoundingClientRect();h=y.top+l.scrollTop,f=y.left+l.scrollLeft-rA(i,y)}const p=s.left+l.scrollLeft-u.x-f,m=s.top+l.scrollTop-u.y-h;return{x:p,y:m,width:s.width,height:s.height}}function f_(t){return Ca(t).position==="static"}function oO(t,e){if(!fs(t)||Ca(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return xs(t)===r&&(r=r.ownerDocument.body),r}function zV(t,e){const r=Ei(t);if(Xx(t))return r;if(!fs(t)){let i=Nl(t);for(;i&&!Dd(i);){if(Pa(i)&&!f_(i))return i;i=Nl(i)}return r}let n=oO(t,e);for(;n&&wX(n)&&f_(n);)n=oO(n,e);return n&&Dd(n)&&f_(n)&&!NT(n)?r:n||_X(t)||r}const RX=async function(t){const e=this.getOffsetParent||zV,r=this.getDimensions,n=await r(t.floating);return{reference:OX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function MX(t){return Ca(t).direction==="rtl"}const DX={convertOffsetParentRelativeRectToViewportRelativeRect:jX,getDocumentElement:xs,getClippingRect:kX,getOffsetParent:zV,getElementRects:RX,getClientRects:AX,getDimensions:IX,getScale:pd,isElement:Pa,isRTL:MX};function LX(t,e){let r=null,n;const i=xs(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const{left:f,top:h,width:p,height:m}=t.getBoundingClientRect();if(l||e(),!p||!m)return;const y=vv(h),_=vv(i.clientWidth-(f+p)),b=vv(i.clientHeight-(h+m)),x=vv(f),A={rootMargin:-y+"px "+-_+"px "+-b+"px "+-x+"px",threshold:bi(0,El(1,u))||1};let j=!0;function E(P){const R=P[0].intersectionRatio;if(R!==u){if(!j)return s();R?s(!1,R):n=setTimeout(()=>{s(!1,1e-7)},1e3)}j=!1}try{r=new IntersectionObserver(E,{...A,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,A)}r.observe(t)}return s(!0),a}function $X(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=PT(t),h=i||a?[...f?jp(f):[],...jp(e)]:[];h.forEach(N=>{i&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const p=f&&l?LX(f,r):null;let m=-1,y=null;s&&(y=new ResizeObserver(N=>{let[A]=N;A&&A.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(e)})),r()}),f&&!u&&y.observe(f),y.observe(e));let _,b=u?Vc(t):null;u&&x();function x(){const N=Vc(t);b&&(N.x!==b.x||N.y!==b.y||N.width!==b.width||N.height!==b.height)&&r(),b=N,_=requestAnimationFrame(x)}return r(),()=>{var N;h.forEach(A=>{i&&A.removeEventListener("scroll",r),a&&A.removeEventListener("resize",r)}),p==null||p(),(N=y)==null||N.disconnect(),y=null,u&&cancelAnimationFrame(_)}}const FX=vX,VX=yX,BX=pX,UX=bX,zX=mX,lO=hX,qX=xX,HX=(t,e,r)=>{const n=new Map,i={platform:DX,...r},a={...i.platform,_c:n};return fX(t,e,{...i,platform:a})};var Wv=typeof document<"u"?S.useLayoutEffect:S.useEffect;function my(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!my(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!my(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function qV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cO(t,e){const r=qV(t);return Math.round(e*r)/r}function h_(t){const e=S.useRef(t);return Wv(()=>{e.current=t}),e}function WX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:u,open:f}=t,[h,p]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=S.useState(n);my(m,n)||y(n);const[_,b]=S.useState(null),[x,N]=S.useState(null),A=S.useCallback(W=>{W!==R.current&&(R.current=W,b(W))},[]),j=S.useCallback(W=>{W!==C.current&&(C.current=W,N(W))},[]),E=a||_,P=s||x,R=S.useRef(null),C=S.useRef(null),I=S.useRef(h),M=u!=null,F=h_(u),D=h_(i),V=h_(f),$=S.useCallback(()=>{if(!R.current||!C.current)return;const W={placement:e,strategy:r,middleware:m};D.current&&(W.platform=D.current),HX(R.current,C.current,W).then(J=>{const ee={...J,isPositioned:V.current!==!1};H.current&&!my(I.current,ee)&&(I.current=ee,wf.flushSync(()=>{p(ee)}))})},[m,e,r,D,V]);Wv(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(W=>({...W,isPositioned:!1})))},[f]);const H=S.useRef(!1);Wv(()=>(H.current=!0,()=>{H.current=!1}),[]),Wv(()=>{if(E&&(R.current=E),P&&(C.current=P),E&&P){if(F.current)return F.current(E,P,$);$()}},[E,P,$,F,M]);const G=S.useMemo(()=>({reference:R,floating:C,setReference:A,setFloating:j}),[A,j]),Y=S.useMemo(()=>({reference:E,floating:P}),[E,P]),Q=S.useMemo(()=>{const W={position:r,left:0,top:0};if(!Y.floating)return W;const J=cO(Y.floating,h.x),ee=cO(Y.floating,h.y);return l?{...W,transform:"translate("+J+"px, "+ee+"px)",...qV(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:ee}},[r,l,Y.floating,h.x,h.y]);return S.useMemo(()=>({...h,update:$,refs:G,elements:Y,floatingStyles:Q}),[h,$,G,Y,Q])}const GX=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?lO({element:n.current,padding:i}).fn(r):{}:n?lO({element:n,padding:i}).fn(r):{}}}},KX=(t,e)=>({...FX(t),options:[t,e]}),YX=(t,e)=>({...VX(t),options:[t,e]}),QX=(t,e)=>({...qX(t),options:[t,e]}),XX=(t,e)=>({...BX(t),options:[t,e]}),JX=(t,e)=>({...UX(t),options:[t,e]}),ZX=(t,e)=>({...zX(t),options:[t,e]}),eJ=(t,e)=>({...GX(t),options:[t,e]});var tJ="Arrow",HV=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return o.jsx(He.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});HV.displayName=tJ;var rJ=HV;function nJ(t,e=[]){let r=[];function n(a,s){const l=S.createContext(s),u=r.length;r=[...r,s];function f(p){const{scope:m,children:y,..._}=p,b=(m==null?void 0:m[t][u])||l,x=S.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:x,children:y})}function h(p,m){const y=(m==null?void 0:m[t][u])||l,_=S.useContext(y);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,h]}const i=()=>{const a=r.map(s=>S.createContext(s));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,iJ(i,...e)]}function iJ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...l,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Tm(t){const[e,r]=S.useState(void 0);return nn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,l;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;s=f.inlineSize,l=f.blockSize}else s=t.offsetWidth,l=t.offsetHeight;r({width:s,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var CT="Popper",[WV,Zx]=nJ(CT),[aJ,GV]=WV(CT),KV=t=>{const{__scopePopper:e,children:r}=t,[n,i]=S.useState(null);return o.jsx(aJ,{scope:e,anchor:n,onAnchorChange:i,children:r})};KV.displayName=CT;var YV="PopperAnchor",QV=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=GV(YV,r),s=S.useRef(null),l=Nt(e,s);return S.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:o.jsx(He.div,{...i,ref:l})});QV.displayName=YV;var kT="PopperContent",[sJ,oJ]=WV(kT),XV=S.forwardRef((t,e)=>{var ge,Pe,de,ve,we,le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:_,...b}=t,x=GV(kT,r),[N,A]=S.useState(null),j=Nt(e,Ye=>A(Ye)),[E,P]=S.useState(null),R=Tm(E),C=(R==null?void 0:R.width)??0,I=(R==null?void 0:R.height)??0,M=n+(a!=="center"?"-"+a:""),F=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(f)?f:[f],V=D.length>0,$={padding:F,boundary:D.filter(cJ),altBoundary:V},{refs:H,floatingStyles:G,placement:Y,isPositioned:Q,middlewareData:W}=WX({strategy:"fixed",placement:M,whileElementsMounted:(...Ye)=>$X(...Ye,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[KX({mainAxis:i+I,alignmentAxis:s}),u&&YX({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?QX():void 0,...$}),u&&XX({...$}),JX({...$,apply:({elements:Ye,rects:qe,availableWidth:pt,availableHeight:ot})=>{const{width:lt,height:br}=qe.reference,Tt=Ye.floating.style;Tt.setProperty("--radix-popper-available-width",`${pt}px`),Tt.setProperty("--radix-popper-available-height",`${ot}px`),Tt.setProperty("--radix-popper-anchor-width",`${lt}px`),Tt.setProperty("--radix-popper-anchor-height",`${br}px`)}}),E&&eJ({element:E,padding:l}),uJ({arrowWidth:C,arrowHeight:I}),m&&ZX({strategy:"referenceHidden",...$})]}),[J,ee]=e6(Y),q=qn(_);nn(()=>{Q&&(q==null||q())},[Q,q]);const X=(ge=W.arrow)==null?void 0:ge.x,ae=(Pe=W.arrow)==null?void 0:Pe.y,be=((de=W.arrow)==null?void 0:de.centerOffset)!==0,[Ae,Ne]=S.useState();return nn(()=>{N&&Ne(window.getComputedStyle(N).zIndex)},[N]),o.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(ve=W.transformOrigin)==null?void 0:ve.x,(we=W.transformOrigin)==null?void 0:we.y].join(" "),...((le=W.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(sJ,{scope:r,placedSide:J,onArrowChange:P,arrowX:X,arrowY:ae,shouldHideArrow:be,children:o.jsx(He.div,{"data-side":J,"data-align":ee,...b,ref:j,style:{...b.style,animation:Q?void 0:"none"}})})})});XV.displayName=kT;var JV="PopperArrow",lJ={top:"bottom",right:"left",bottom:"top",left:"right"},ZV=S.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=oJ(JV,n),s=lJ[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(rJ,{...i,ref:r,style:{...i.style,display:"block"}})})});ZV.displayName=JV;function cJ(t){return t!==null}var uJ=t=>({name:"transformOrigin",options:t,fn(e){var x,N,A;const{placement:r,rects:n,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=s?0:t.arrowWidth,u=s?0:t.arrowHeight,[f,h]=e6(r),p={start:"0%",center:"50%",end:"100%"}[h],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,y=(((A=i.arrow)==null?void 0:A.y)??0)+u/2;let _="",b="";return f==="bottom"?(_=s?p:`${m}px`,b=`${-u}px`):f==="top"?(_=s?p:`${m}px`,b=`${n.floating.height+u}px`):f==="right"?(_=`${-u}px`,b=s?p:`${y}px`):f==="left"&&(_=`${n.floating.width+u}px`,b=s?p:`${y}px`),{data:{x:_,y:b}}}});function e6(t){const[e,r="center"]=t.split("-");return[e,r]}var t6=KV,r6=QV,n6=XV,i6=ZV,[eb,zTe]=Oa("Tooltip",[Zx]),tb=Zx(),a6="TooltipProvider",dJ=700,nA="tooltip.open",[fJ,IT]=eb(a6),s6=t=>{const{__scopeTooltip:e,delayDuration:r=dJ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,[s,l]=S.useState(!0),u=S.useRef(!1),f=S.useRef(0);return S.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),o.jsx(fJ,{scope:e,isOpenDelayed:s,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(f.current),l(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:S.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:a})};s6.displayName=a6;var rb="Tooltip",[hJ,nb]=eb(rb),o6=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:l}=t,u=IT(rb,t.__scopeTooltip),f=tb(e),[h,p]=S.useState(null),m=Ys(),y=S.useRef(0),_=s??u.disableHoverableContent,b=l??u.delayDuration,x=S.useRef(!1),[N=!1,A]=Ta({prop:n,defaultProp:i,onChange:C=>{C?(u.onOpen(),document.dispatchEvent(new CustomEvent(nA))):u.onClose(),a==null||a(C)}}),j=S.useMemo(()=>N?x.current?"delayed-open":"instant-open":"closed",[N]),E=S.useCallback(()=>{window.clearTimeout(y.current),y.current=0,x.current=!1,A(!0)},[A]),P=S.useCallback(()=>{window.clearTimeout(y.current),y.current=0,A(!1)},[A]),R=S.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{x.current=!0,A(!0),y.current=0},b)},[b,A]);return S.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),o.jsx(t6,{...f,children:o.jsx(hJ,{scope:e,contentId:m,open:N,stateAttribute:j,trigger:h,onTriggerChange:p,onTriggerEnter:S.useCallback(()=>{u.isOpenDelayed?R():E()},[u.isOpenDelayed,R,E]),onTriggerLeave:S.useCallback(()=>{_?P():(window.clearTimeout(y.current),y.current=0)},[P,_]),onOpen:E,onClose:P,disableHoverableContent:_,children:r})})};o6.displayName=rb;var iA="TooltipTrigger",l6=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=nb(iA,r),a=IT(iA,r),s=tb(r),l=S.useRef(null),u=Nt(e,l,i.onTriggerChange),f=S.useRef(!1),h=S.useRef(!1),p=S.useCallback(()=>f.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx(r6,{asChild:!0,...s,children:o.jsx(He.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:Be(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Be(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Be(t.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Be(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Be(t.onBlur,i.onClose),onClick:Be(t.onClick,i.onClose)})})});l6.displayName=iA;var pJ="TooltipPortal",[qTe,mJ]=eb(pJ,{forceMount:void 0}),Ld="TooltipContent",c6=S.forwardRef((t,e)=>{const r=mJ(Ld,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=nb(Ld,t.__scopeTooltip);return o.jsx(mo,{present:n||s.open,children:s.disableHoverableContent?o.jsx(u6,{side:i,...a,ref:e}):o.jsx(gJ,{side:i,...a,ref:e})})}),gJ=S.forwardRef((t,e)=>{const r=nb(Ld,t.__scopeTooltip),n=IT(Ld,t.__scopeTooltip),i=S.useRef(null),a=Nt(e,i),[s,l]=S.useState(null),{trigger:u,onClose:f}=r,h=i.current,{onPointerInTransitChange:p}=n,m=S.useCallback(()=>{l(null),p(!1)},[p]),y=S.useCallback((_,b)=>{const x=_.currentTarget,N={x:_.clientX,y:_.clientY},A=bJ(N,x.getBoundingClientRect()),j=wJ(N,A),E=_J(b.getBoundingClientRect()),P=EJ([...j,...E]);l(P),p(!0)},[p]);return S.useEffect(()=>()=>m(),[m]),S.useEffect(()=>{if(u&&h){const _=x=>y(x,h),b=x=>y(x,u);return u.addEventListener("pointerleave",_),h.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",b)}}},[u,h,y,m]),S.useEffect(()=>{if(s){const _=b=>{const x=b.target,N={x:b.clientX,y:b.clientY},A=(u==null?void 0:u.contains(x))||(h==null?void 0:h.contains(x)),j=!SJ(N,s);A?m():j&&(m(),f())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,h,s,f,m]),o.jsx(u6,{...t,ref:a})}),[vJ,yJ]=eb(rb,{isInside:!1}),u6=S.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=t,u=nb(Ld,r),f=tb(r),{onClose:h}=u;return S.useEffect(()=>(document.addEventListener(nA,h),()=>document.removeEventListener(nA,h)),[h]),S.useEffect(()=>{if(u.trigger){const p=m=>{const y=m.target;y!=null&&y.contains(u.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,h]),o.jsx(jm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:o.jsxs(n6,{"data-state":u.stateAttribute,...f,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(VF,{children:n}),o.jsx(vJ,{scope:r,isInside:!0,children:o.jsx(HK,{id:u.contentId,role:"tooltip",children:i||n})})]})})});c6.displayName=Ld;var d6="TooltipArrow",xJ=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=tb(r);return yJ(d6,r).isInside?null:o.jsx(i6,{...i,...n,ref:e})});xJ.displayName=d6;function bJ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function wJ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function _J(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function SJ(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const l=e[a].x,u=e[a].y,f=e[s].x,h=e[s].y;u>n!=h>n&&r<(f-l)*(n-u)/(h-u)+l&&(i=!i)}return i}function EJ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),jJ(e)}function jJ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var AJ=s6,NJ=o6,TJ=l6,f6=c6;const ap=AJ,Gv=NJ,Kv=TJ,sp=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(f6,{ref:n,sideOffset:e,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));sp.displayName=f6.displayName;const PJ=Kx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?Fc:"button";return o.jsx(s,{className:Ze(PJ({variant:e,size:r,className:t})),ref:a,...i})});oe.displayName="Button";const Fe=S.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Fe.displayName="Card";const zt=S.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ze("flex flex-col space-y-1.5 p-6",t),...e}));zt.displayName="CardHeader";const qt=S.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:Ze("text-2xl font-semibold leading-none tracking-tight",t),...e}));qt.displayName="CardTitle";const CJ=S.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:Ze("text-sm text-muted-foreground",t),...e}));CJ.displayName="CardDescription";const Vt=S.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ze("p-6 pt-0",t),...e}));Vt.displayName="CardContent";const OT=S.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ze("flex items-center p-6 pt-0",t),...e}));OT.displayName="CardFooter";class kJ extends S.Component{constructor(){super(...arguments);Ga(this,"state",{hasError:!1,error:null,errorInfo:null});Ga(this,"handleReload",()=>{window.location.reload()});Ga(this,"handleGoHome",()=>{window.location.href="/SafeBite-V1/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:o.jsxs(Fe,{className:"w-full max-w-md border-safebite-teal/50 bg-safebite-card-bg",children:[o.jsx(zt,{children:o.jsx(qt,{className:"text-safebite-text text-xl",children:"Something went wrong"})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-safebite-text-secondary",children:"We're sorry, but an error occurred while loading the application."}),this.state.error&&o.jsx("div",{className:"bg-safebite-card-bg-alt p-3 rounded-md overflow-auto max-h-40",children:o.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error.toString()})})]})}),o.jsxs(OT,{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",onClick:this.handleGoHome,children:"Go to Home"}),o.jsx(oe,{onClick:this.handleReload,children:"Reload Page"})]})]})}):this.props.children}}var ib=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ab=typeof window>"u"||"Deno"in globalThis;function xa(){}function IJ(t,e){return typeof t=="function"?t(e):t}function OJ(t){return typeof t=="number"&&t>=0&&t!==1/0}function RJ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uO(t,e){return typeof t=="function"?t(e):t}function MJ(t,e){return typeof t=="function"?t(e):t}function dO(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:l}=t;if(s){if(n){if(e.queryHash!==RT(s,e.options))return!1}else if(!Np(e.queryKey,s))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function fO(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ap(e.options.mutationKey)!==Ap(a))return!1}else if(!Np(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function RT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ap)(t)}function Ap(t){return JSON.stringify(t,(e,r)=>aA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Np(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Np(t[r],e[r])):!1}function h6(t,e){if(t===e)return t;const r=hO(t)&&hO(e);if(r||aA(t)&&aA(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,l=r?[]:{};let u=0;for(let f=0;f<s;f++){const h=r?f:a[f];(!r&&n.includes(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=h6(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return i===s&&u===i?t:l}return e}function hO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function aA(t){if(!pO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!pO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pO(t){return Object.prototype.toString.call(t)==="[object Object]"}function DJ(t){return new Promise(e=>{setTimeout(e,t)})}function LJ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?h6(t,e):e}function $J(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function FJ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var MT=Symbol();function p6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===MT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oc,ol,Ed,TF,VJ=(TF=class extends ib{constructor(){super();Ht(this,Oc);Ht(this,ol);Ht(this,Ed);yt(this,Ed,e=>{if(!ab&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){me(this,ol)||this.setEventListener(me(this,Ed))}onUnsubscribe(){var e;this.hasListeners()||((e=me(this,ol))==null||e.call(this),yt(this,ol,void 0))}setEventListener(e){var r;yt(this,Ed,e),(r=me(this,ol))==null||r.call(this),yt(this,ol,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){me(this,Oc)!==e&&(yt(this,Oc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof me(this,Oc)=="boolean"?me(this,Oc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oc=new WeakMap,ol=new WeakMap,Ed=new WeakMap,TF),m6=new VJ,jd,ll,Ad,PF,BJ=(PF=class extends ib{constructor(){super();Ht(this,jd,!0);Ht(this,ll);Ht(this,Ad);yt(this,Ad,e=>{if(!ab&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){me(this,ll)||this.setEventListener(me(this,Ad))}onUnsubscribe(){var e;this.hasListeners()||((e=me(this,ll))==null||e.call(this),yt(this,ll,void 0))}setEventListener(e){var r;yt(this,Ad,e),(r=me(this,ll))==null||r.call(this),yt(this,ll,e(this.setOnline.bind(this)))}setOnline(e){me(this,jd)!==e&&(yt(this,jd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return me(this,jd)}},jd=new WeakMap,ll=new WeakMap,Ad=new WeakMap,PF),gy=new BJ;function UJ(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function zJ(t){return Math.min(1e3*2**t,3e4)}function g6(t){return(t??"online")==="online"?gy.isOnline():!0}var v6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function p_(t){return t instanceof v6}function y6(t){let e=!1,r=0,n=!1,i;const a=UJ(),s=b=>{var x;n||(m(new v6(b)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},u=()=>{e=!1},f=()=>m6.isFocused()&&(t.networkMode==="always"||gy.isOnline())&&t.canRun(),h=()=>g6(t.networkMode)&&t.canRun(),p=b=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,b),i==null||i(),a.resolve(b))},m=b=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,b),i==null||i(),a.reject(b))},y=()=>new Promise(b=>{var x;i=N=>{(n||f())&&b(N)},(x=t.onPause)==null||x.call(t)}).then(()=>{var b;i=void 0,n||(b=t.onContinue)==null||b.call(t)}),_=()=>{if(n)return;let b;const x=r===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(N){b=Promise.reject(N)}Promise.resolve(b).then(p).catch(N=>{var R;if(n)return;const A=t.retry??(ab?0:3),j=t.retryDelay??zJ,E=typeof j=="function"?j(r,N):j,P=A===!0||typeof A=="number"&&r<A||typeof A=="function"&&A(r,N);if(e||!P){m(N);return}r++,(R=t.onFail)==null||R.call(t,r,N),DJ(E).then(()=>f()?void 0:y()).then(()=>{e?m(N):_()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?_():y().then(_),a)}}function qJ(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{r(l)})},s=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||s()}return u},batchCalls:l=>(...u)=>{a(()=>{l(...u)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var $n=qJ(),Rc,CF,x6=(CF=class{constructor(){Ht(this,Rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),OJ(this.gcTime)&&yt(this,Rc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ab?1/0:5*60*1e3))}clearGcTimeout(){me(this,Rc)&&(clearTimeout(me(this,Rc)),yt(this,Rc,void 0))}},Rc=new WeakMap,CF),Nd,Td,Bi,Sn,Sm,Mc,ba,Vs,kF,HJ=(kF=class extends x6{constructor(r){super();Ht(this,ba);Ht(this,Nd);Ht(this,Td);Ht(this,Bi);Ht(this,Sn);Ht(this,Sm);Ht(this,Mc);yt(this,Mc,!1),yt(this,Sm,r.defaultOptions),this.setOptions(r.options),this.observers=[],yt(this,Bi,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,yt(this,Nd,GJ(this.options)),this.state=r.state??me(this,Nd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=me(this,Sn))==null?void 0:r.promise}setOptions(r){this.options={...me(this,Sm),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&me(this,Bi).remove(this)}setData(r,n){const i=LJ(this.state.data,r,this.options);return wn(this,ba,Vs).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){wn(this,ba,Vs).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=me(this,Sn))==null?void 0:i.promise;return(a=me(this,Sn))==null||a.cancel(r),n?n.then(xa).catch(xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(me(this,Nd))}isActive(){return this.observers.some(r=>MJ(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===MT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!RJ(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=me(this,Sn))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=me(this,Sn))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),me(this,Bi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(me(this,Sn)&&(me(this,Mc)?me(this,Sn).cancel({revert:!0}):me(this,Sn).cancelRetry()),this.scheduleGc()),me(this,Bi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wn(this,ba,Vs).call(this,{type:"invalidate"})}fetch(r,n){var f,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(me(this,Sn))return me(this,Sn).continueRetry(),me(this,Sn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(yt(this,Mc,!0),i.signal)})},s=()=>{const m=p6(this.options,n),y={queryKey:this.queryKey,meta:this.meta};return a(y),yt(this,Mc,!1),this.options.persister?this.options.persister(m,y,this):m(y)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(l),(f=this.options.behavior)==null||f.onFetch(l,this),yt(this,Td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&wn(this,ba,Vs).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=m=>{var y,_,b,x;p_(m)&&m.silent||wn(this,ba,Vs).call(this,{type:"error",error:m}),p_(m)||((_=(y=me(this,Bi).config).onError)==null||_.call(y,m,this),(x=(b=me(this,Bi).config).onSettled)==null||x.call(b,this.state.data,m,this)),this.scheduleGc()};return yt(this,Sn,y6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var y,_,b,x;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(N){u(N);return}(_=(y=me(this,Bi).config).onSuccess)==null||_.call(y,m,this),(x=(b=me(this,Bi).config).onSettled)==null||x.call(b,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,y)=>{wn(this,ba,Vs).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{wn(this,ba,Vs).call(this,{type:"pause"})},onContinue:()=>{wn(this,ba,Vs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),me(this,Sn).start()}},Nd=new WeakMap,Td=new WeakMap,Bi=new WeakMap,Sn=new WeakMap,Sm=new WeakMap,Mc=new WeakMap,ba=new WeakSet,Vs=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...WJ(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return p_(a)&&a.revert&&me(this,Td)?{...me(this,Td),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),$n.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),me(this,Bi).notify({query:this,type:"updated",action:r})})},kF);function WJ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function GJ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qa,IF,KJ=(IF=class extends ib{constructor(e={}){super();Ht(this,Qa);this.config=e,yt(this,Qa,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??RT(i,r);let s=this.get(a);return s||(s=new HJ({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){me(this,Qa).has(e.queryHash)||(me(this,Qa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=me(this,Qa).get(e.queryHash);r&&(e.destroy(),r===e&&me(this,Qa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return me(this,Qa).get(e)}getAll(){return[...me(this,Qa).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>dO(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>dO(e,n)):r}notify(e){$n.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qa=new WeakMap,IF),Xa,Ln,Dc,Ja,Jo,OF,YJ=(OF=class extends x6{constructor(r){super();Ht(this,Ja);Ht(this,Xa);Ht(this,Ln);Ht(this,Dc);this.mutationId=r.mutationId,yt(this,Ln,r.mutationCache),yt(this,Xa,[]),this.state=r.state||QJ(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){me(this,Xa).includes(r)||(me(this,Xa).push(r),this.clearGcTimeout(),me(this,Ln).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){yt(this,Xa,me(this,Xa).filter(n=>n!==r)),this.scheduleGc(),me(this,Ln).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){me(this,Xa).length||(this.state.status==="pending"?this.scheduleGc():me(this,Ln).remove(this))}continue(){var r;return((r=me(this,Dc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,s,l,u,f,h,p,m,y,_,b,x,N,A,j,E,P,R,C,I;yt(this,Dc,y6({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(M,F)=>{wn(this,Ja,Jo).call(this,{type:"failed",failureCount:M,error:F})},onPause:()=>{wn(this,Ja,Jo).call(this,{type:"pause"})},onContinue:()=>{wn(this,Ja,Jo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>me(this,Ln).canRun(this)}));const n=this.state.status==="pending",i=!me(this,Dc).canStart();try{if(!n){wn(this,Ja,Jo).call(this,{type:"pending",variables:r,isPaused:i}),await((s=(a=me(this,Ln).config).onMutate)==null?void 0:s.call(a,r,this));const F=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,r));F!==this.state.context&&wn(this,Ja,Jo).call(this,{type:"pending",context:F,variables:r,isPaused:i})}const M=await me(this,Dc).start();return await((h=(f=me(this,Ln).config).onSuccess)==null?void 0:h.call(f,M,r,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,M,r,this.state.context)),await((_=(y=me(this,Ln).config).onSettled)==null?void 0:_.call(y,M,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,M,null,r,this.state.context)),wn(this,Ja,Jo).call(this,{type:"success",data:M}),M}catch(M){try{throw await((A=(N=me(this,Ln).config).onError)==null?void 0:A.call(N,M,r,this.state.context,this)),await((E=(j=this.options).onError)==null?void 0:E.call(j,M,r,this.state.context)),await((R=(P=me(this,Ln).config).onSettled)==null?void 0:R.call(P,void 0,M,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,M,r,this.state.context)),M}finally{wn(this,Ja,Jo).call(this,{type:"error",error:M})}}finally{me(this,Ln).runNext(this)}}},Xa=new WeakMap,Ln=new WeakMap,Dc=new WeakMap,Ja=new WeakSet,Jo=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$n.batch(()=>{me(this,Xa).forEach(i=>{i.onMutationUpdate(r)}),me(this,Ln).notify({mutation:this,type:"updated",action:r})})},OF);function QJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vi,Em,RF,XJ=(RF=class extends ib{constructor(e={}){super();Ht(this,vi);Ht(this,Em);this.config=e,yt(this,vi,new Map),yt(this,Em,Date.now())}build(e,r,n){const i=new YJ({mutationCache:this,mutationId:++dv(this,Em)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=yv(e),n=me(this,vi).get(r)??[];n.push(e),me(this,vi).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=yv(e);if(me(this,vi).has(r)){const i=(n=me(this,vi).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?me(this,vi).delete(r):me(this,vi).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=me(this,vi).get(yv(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=me(this,vi).get(yv(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...me(this,vi).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>fO(r,n))}findAll(e={}){return this.getAll().filter(r=>fO(e,r))}notify(e){$n.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return $n.batch(()=>Promise.all(e.map(r=>r.continue().catch(xa))))}},vi=new WeakMap,Em=new WeakMap,RF);function yv(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mO(t){return{onFetch:(e,r)=>{var h,p,m,y,_;const n=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],s=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let b=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},N=p6(e.options,e.fetchOptions),A=async(j,E,P)=>{if(b)return Promise.reject();if(E==null&&j.pages.length)return Promise.resolve(j);const R={queryKey:e.queryKey,pageParam:E,direction:P?"backward":"forward",meta:e.options.meta};x(R);const C=await N(R),{maxPages:I}=e.options,M=P?FJ:$J;return{pages:M(j.pages,C,I),pageParams:M(j.pageParams,E,I)}};if(i&&a.length){const j=i==="backward",E=j?JJ:gO,P={pages:a,pageParams:s},R=E(n,P);l=await A(P,R,j)}else{const j=t??a.length;do{const E=u===0?s[0]??n.initialPageParam:gO(n,l);if(u>0&&E==null)break;l=await A(l,E),u++}while(u<j)}return l};e.options.persister?e.fetchFn=()=>{var b,x;return(x=(b=e.options).persister)==null?void 0:x.call(b,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=f}}}function gO(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function JJ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Nr,cl,ul,Pd,Cd,dl,kd,Id,MF,ZJ=(MF=class{constructor(t={}){Ht(this,Nr);Ht(this,cl);Ht(this,ul);Ht(this,Pd);Ht(this,Cd);Ht(this,dl);Ht(this,kd);Ht(this,Id);yt(this,Nr,t.queryCache||new KJ),yt(this,cl,t.mutationCache||new XJ),yt(this,ul,t.defaultOptions||{}),yt(this,Pd,new Map),yt(this,Cd,new Map),yt(this,dl,0)}mount(){dv(this,dl)._++,me(this,dl)===1&&(yt(this,kd,m6.subscribe(async t=>{t&&(await this.resumePausedMutations(),me(this,Nr).onFocus())})),yt(this,Id,gy.subscribe(async t=>{t&&(await this.resumePausedMutations(),me(this,Nr).onOnline())})))}unmount(){var t,e;dv(this,dl)._--,me(this,dl)===0&&((t=me(this,kd))==null||t.call(this),yt(this,kd,void 0),(e=me(this,Id))==null||e.call(this),yt(this,Id,void 0))}isFetching(t){return me(this,Nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return me(this,cl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=me(this,Nr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=me(this,Nr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(uO(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return me(this,Nr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=me(this,Nr).get(n.queryHash),a=i==null?void 0:i.state.data,s=IJ(e,a);if(s!==void 0)return me(this,Nr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return $n.batch(()=>me(this,Nr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=me(this,Nr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=me(this,Nr);$n.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=me(this,Nr),n={type:"active",...t};return $n.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=$n.batch(()=>me(this,Nr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(xa).catch(xa)}invalidateQueries(t={},e={}){return $n.batch(()=>{if(me(this,Nr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=$n.batch(()=>me(this,Nr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(xa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(xa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=me(this,Nr).build(this,e);return r.isStaleByTime(uO(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xa).catch(xa)}fetchInfiniteQuery(t){return t.behavior=mO(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xa).catch(xa)}ensureInfiniteQueryData(t){return t.behavior=mO(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gy.isOnline()?me(this,cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return me(this,Nr)}getMutationCache(){return me(this,cl)}getDefaultOptions(){return me(this,ul)}setDefaultOptions(t){yt(this,ul,t)}setQueryDefaults(t,e){me(this,Pd).set(Ap(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...me(this,Pd).values()];let r={};return e.forEach(n=>{Np(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){me(this,Cd).set(Ap(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...me(this,Cd).values()];let r={};return e.forEach(n=>{Np(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...me(this,ul).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=RT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===MT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...me(this,ul).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){me(this,Nr).clear(),me(this,cl).clear()}},Nr=new WeakMap,cl=new WeakMap,ul=new WeakMap,Pd=new WeakMap,Cd=new WeakMap,dl=new WeakMap,kd=new WeakMap,Id=new WeakMap,MF),eZ=S.createContext(void 0),tZ=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(eZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(this,arguments)}var fl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fl||(fl={}));const vO="popstate";function rZ(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:l}=n.location;return sA("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:vy(i)}return iZ(e,r,null,t)}function Er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function b6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nZ(){return Math.random().toString(36).substr(2,8)}function yO(t,e){return{usr:t.state,key:t.key,idx:e}}function sA(t,e,r,n){return r===void 0&&(r=null),Tp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Af(e):e,{state:r,key:e&&e.key||n||nZ()})}function vy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Af(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function iZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l=fl.Pop,u=null,f=h();f==null&&(f=0,s.replaceState(Tp({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function p(){l=fl.Pop;let x=h(),N=x==null?null:x-f;f=x,u&&u({action:l,location:b.location,delta:N})}function m(x,N){l=fl.Push;let A=sA(b.location,x,N);f=h()+1;let j=yO(A,f),E=b.createHref(A);try{s.pushState(j,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}a&&u&&u({action:l,location:b.location,delta:1})}function y(x,N){l=fl.Replace;let A=sA(b.location,x,N);f=h();let j=yO(A,f),E=b.createHref(A);s.replaceState(j,"",E),a&&u&&u({action:l,location:b.location,delta:0})}function _(x){let N=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof x=="string"?x:vy(x);return A=A.replace(/ $/,"%20"),Er(N,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,N)}let b={get action(){return l},get location(){return t(i,s)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(vO,p),u=x,()=>{i.removeEventListener(vO,p),u=null}},createHref(x){return e(i,x)},createURL:_,encodeLocation(x){let N=_(x);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:y,go(x){return s.go(x)}};return b}var xO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xO||(xO={}));function aZ(t,e,r){return r===void 0&&(r="/"),sZ(t,e,r)}function sZ(t,e,r,n){let i=typeof e=="string"?Af(e):e,a=$d(i.pathname||"/",r);if(a==null)return null;let s=w6(t);oZ(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=yZ(a);l=gZ(s[u],f)}return l}function w6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Er(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=gl([n,u.relativePath]),h=r.concat(u);a.children&&a.children.length>0&&(Er(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),w6(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:pZ(f,a.index),routesMeta:h})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let u of _6(a.path))i(a,s,u)}),e}function _6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=_6(n.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function oZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:mZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lZ=/^:[\w-]+$/,cZ=3,uZ=2,dZ=1,fZ=10,hZ=-2,bO=t=>t==="*";function pZ(t,e){let r=t.split("/"),n=r.length;return r.some(bO)&&(n+=hZ),e&&(n+=uZ),r.filter(i=>!bO(i)).reduce((i,a)=>i+(lZ.test(a)?cZ:a===""?dZ:fZ),n)}function mZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function gZ(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=oA({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),m=u.route;if(!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:gl([a,p.pathname]),pathnameBase:_Z(gl([a,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(a=gl([a,p.pathnameBase]))}return s}function oA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,h,p)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let b=l[p]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const _=l[p];return y&&!_?f[m]=void 0:f[m]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function vZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),b6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function yZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return b6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $d(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function xZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Af(t):t;return{pathname:r?r.startsWith("/")?r:bZ(r,e):e,search:SZ(n),hash:EZ(i)}}function bZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function m_(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function DT(t,e){let r=wZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function LT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Af(t):(i=Tp({},t),Er(!i.pathname||!i.pathname.includes("?"),m_("?","pathname","search",i)),Er(!i.pathname||!i.pathname.includes("#"),m_("#","pathname","hash",i)),Er(!i.search||!i.search.includes("#"),m_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=xZ(i,l),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const gl=t=>t.join("/").replace(/\/\/+/g,"/"),_Z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S6=["post","put","patch","delete"];new Set(S6);const AZ=["get",...S6];new Set(AZ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pp.apply(this,arguments)}const sb=S.createContext(null),E6=S.createContext(null),go=S.createContext(null),ob=S.createContext(null),Ml=S.createContext({outlet:null,matches:[],isDataRoute:!1}),j6=S.createContext(null);function NZ(t,e){let{relative:r}=e===void 0?{}:e;Nf()||Er(!1);let{basename:n,navigator:i}=S.useContext(go),{hash:a,pathname:s,search:l}=lb(t,{relative:r}),u=s;return n!=="/"&&(u=s==="/"?n:gl([n,s])),i.createHref({pathname:u,search:l,hash:a})}function Nf(){return S.useContext(ob)!=null}function Dl(){return Nf()||Er(!1),S.useContext(ob).location}function A6(t){S.useContext(go).static||S.useLayoutEffect(t)}function Cn(){let{isDataRoute:t}=S.useContext(Ml);return t?VZ():TZ()}function TZ(){Nf()||Er(!1);let t=S.useContext(sb),{basename:e,future:r,navigator:n}=S.useContext(go),{matches:i}=S.useContext(Ml),{pathname:a}=Dl(),s=JSON.stringify(DT(i,r.v7_relativeSplatPath)),l=S.useRef(!1);return A6(()=>{l.current=!0}),S.useCallback(function(f,h){if(h===void 0&&(h={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=LT(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gl([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}function lb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=S.useContext(go),{matches:i}=S.useContext(Ml),{pathname:a}=Dl(),s=JSON.stringify(DT(i,n.v7_relativeSplatPath));return S.useMemo(()=>LT(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function PZ(t,e){return CZ(t,e)}function CZ(t,e,r,n){Nf()||Er(!1);let{navigator:i}=S.useContext(go),{matches:a}=S.useContext(Ml),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let f=Dl(),h;if(e){var p;let x=typeof e=="string"?Af(e):e;u==="/"||(p=x.pathname)!=null&&p.startsWith(u)||Er(!1),h=x}else h=f;let m=h.pathname||"/",y=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=aZ(t,{pathname:y}),b=MZ(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:gl([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:gl([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&b?S.createElement(ob.Provider,{value:{location:Pp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fl.Pop}},b):b}function kZ(){let t=FZ(),e=jZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:i},r):null,null)}const IZ=S.createElement(kZ,null);class OZ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(Ml.Provider,{value:this.props.routeContext},S.createElement(j6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RZ(t){let{routeContext:e,match:r,children:n}=t,i=S.useContext(sb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(Ml.Provider,{value:e},n)}function MZ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||Er(!1),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:m,errors:y}=r,_=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let y,_=!1,b=null,x=null;r&&(y=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||IZ,u&&(f<0&&m===0?(BZ("route-fallback"),_=!0,x=null):f===m&&(_=!0,x=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,m+1)),A=()=>{let j;return y?j=b:_?j=x:p.route.Component?j=S.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,S.createElement(RZ,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?S.createElement(OZ,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}var N6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(N6||{}),T6=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T6||{});function DZ(t){let e=S.useContext(sb);return e||Er(!1),e}function LZ(t){let e=S.useContext(E6);return e||Er(!1),e}function $Z(t){let e=S.useContext(Ml);return e||Er(!1),e}function P6(t){let e=$Z(),r=e.matches[e.matches.length-1];return r.route.id||Er(!1),r.route.id}function FZ(){var t;let e=S.useContext(j6),r=LZ(),n=P6();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function VZ(){let{router:t}=DZ(N6.UseNavigateStable),e=P6(T6.UseNavigateStable),r=S.useRef(!1);return A6(()=>{r.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pp({fromRouteId:e},a)))},[t,e])}const wO={};function BZ(t,e,r){wO[t]||(wO[t]=!0)}function UZ(t){let{to:e,replace:r,state:n,relative:i}=t;Nf()||Er(!1);let{future:a,static:s}=S.useContext(go),{matches:l}=S.useContext(Ml),{pathname:u}=Dl(),f=Cn(),h=LT(e,DT(l,a.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(h);return S.useEffect(()=>f(JSON.parse(p),{replace:r,state:n,relative:i}),[f,p,i,r,n]),null}function Rr(t){Er(!1)}function zZ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=fl.Pop,navigator:a,static:s=!1,future:l}=t;Nf()&&Er(!1);let u=e.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:u,navigator:a,static:s,future:Pp({v7_relativeSplatPath:!1},l)}),[u,l,a,s]);typeof n=="string"&&(n=Af(n));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:_="default"}=n,b=S.useMemo(()=>{let x=$d(h,u);return x==null?null:{location:{pathname:x,search:p,hash:m,state:y,key:_},navigationType:i}},[u,h,p,m,y,_,i]);return b==null?null:S.createElement(go.Provider,{value:f},S.createElement(ob.Provider,{children:r,value:b}))}function qZ(t){let{children:e,location:r}=t;return PZ(lA(e),r)}new Promise(()=>{});function lA(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(n,i)=>{if(!S.isValidElement(n))return;let a=[...e,i];if(n.type===S.Fragment){r.push.apply(r,lA(n.props.children,a));return}n.type!==Rr&&Er(!1),!n.props.index||!n.props.children||Er(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=lA(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yy.apply(this,arguments)}function C6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function HZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WZ(t,e){return t.button===0&&(!e||e==="_self")&&!HZ(t)}const GZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],YZ="6";try{window.__reactRouterVersion=YZ}catch{}const QZ=S.createContext({isTransitioning:!1}),XZ="startTransition",_O=LF[XZ];function JZ(t){let{basename:e,children:r,future:n,window:i}=t,a=S.useRef();a.current==null&&(a.current=rZ({window:i,v5Compat:!0}));let s=a.current,[l,u]=S.useState({action:s.action,location:s.location}),{v7_startTransition:f}=n||{},h=S.useCallback(p=>{f&&_O?_O(()=>u(p)):u(p)},[u,f]);return S.useLayoutEffect(()=>s.listen(h),[s,h]),S.createElement(zZ,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const ZZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=S.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:l,target:u,to:f,preventScrollReset:h,viewTransition:p}=e,m=C6(e,GZ),{basename:y}=S.useContext(go),_,b=!1;if(typeof f=="string"&&eee.test(f)&&(_=f,ZZ))try{let j=new URL(window.location.href),E=f.startsWith("//")?new URL(j.protocol+f):new URL(f),P=$d(E.pathname,y);E.origin===j.origin&&P!=null?f=P+E.search+E.hash:b=!0}catch{}let x=NZ(f,{relative:i}),N=nee(f,{replace:s,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p});function A(j){n&&n(j),j.defaultPrevented||N(j)}return S.createElement("a",yy({},m,{href:_||x,onClick:b||a?n:A,ref:r,target:u}))}),tee=S.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:u,viewTransition:f,children:h}=e,p=C6(e,KZ),m=lb(u,{relative:p.relative}),y=Dl(),_=S.useContext(E6),{navigator:b,basename:x}=S.useContext(go),N=_!=null&&iee(m)&&f===!0,A=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,j=y.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(j=j.toLowerCase(),E=E?E.toLowerCase():null,A=A.toLowerCase()),E&&x&&(E=$d(E,x)||E);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=j===A||!s&&j.startsWith(A)&&j.charAt(P)==="/",C=E!=null&&(E===A||!s&&E.startsWith(A)&&E.charAt(A.length)==="/"),I={isActive:R,isPending:C,isTransitioning:N},M=R?n:void 0,F;typeof a=="function"?F=a(I):F=[a,R?"active":null,C?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(I):l;return S.createElement(Ft,yy({},p,{"aria-current":M,className:F,ref:r,style:D,to:u,viewTransition:f}),typeof h=="function"?h(I):h)});var cA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cA||(cA={}));var SO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SO||(SO={}));function ree(t){let e=S.useContext(sb);return e||Er(!1),e}function nee(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l}=e===void 0?{}:e,u=Cn(),f=Dl(),h=lb(t,{relative:s});return S.useCallback(p=>{if(WZ(p,r)){p.preventDefault();let m=n!==void 0?n:vy(f)===vy(h);u(t,{replace:m,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[f,u,h,n,i,r,t,a,s,l])}function iee(t,e){e===void 0&&(e={});let r=S.useContext(QZ);r==null&&Er(!1);let{basename:n}=ree(cA.useViewTransitionState),i=lb(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=$d(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=$d(r.nextLocation.pathname,n)||r.nextLocation.pathname;return oA(i.pathname,s)!=null||oA(i.pathname,a)!=null}const xy=({size:t="md",className:e=""})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-24 h-24",xl:"w-32 h-32"};return o.jsxs("div",{className:`relative ${r[t]} ${e} aspect-square`,children:[o.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/30 blur-md animate-pulse"}),o.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-safebite-teal/20 to-transparent animate-spin-slow"})}),o.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:o.jsxs("svg",{className:"w-full h-full animate-spin-very-slow",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"50",cy:"50",r:"48",stroke:"rgba(20, 184, 166, 0.3)",strokeWidth:"0.5",strokeDasharray:"8 4"}),o.jsx("path",{d:"M50 2 L50 10 M2 50 L10 50 M50 90 L50 98 M90 50 L98 50",stroke:"rgba(20, 184, 166, 0.6)",strokeWidth:"0.5"}),o.jsx("circle",{cx:"50",cy:"10",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),o.jsx("circle",{cx:"10",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),o.jsx("circle",{cx:"50",cy:"90",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),o.jsx("circle",{cx:"90",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"})]})}),o.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:o.jsxs("svg",{className:"w-full h-full animate-spin-slow-reverse",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"rgba(20, 184, 166, 0.2)",strokeWidth:"0.5",strokeDasharray:"6 2"}),o.jsx("path",{d:"M50 15 L50 20 M15 50 L20 50 M50 80 L50 85 M80 50 L85 50",stroke:"rgba(20, 184, 166, 0.4)",strokeWidth:"0.5"}),o.jsx("circle",{cx:"50",cy:"20",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),o.jsx("circle",{cx:"20",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),o.jsx("circle",{cx:"50",cy:"80",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),o.jsx("circle",{cx:"80",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"})]})}),o.jsx("div",{className:"absolute inset-2 rounded-full overflow-hidden border-2 border-safebite-teal/50 z-10 shadow-[0_0_10px_rgba(20,184,166,0.5)]",children:o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:o.jsx("img",{src:"/SafeBite-V1/ProfilePic-AdityaShenvi.jpg",alt:"Aditya Shenvi",className:"w-[150%] h-[150%] object-cover",style:{objectPosition:"center 25%"}})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-safebite-teal/10 to-transparent"})]})}),o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),o.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"})]})},k6=({developerName:t="Aditya Shenvi",version:e="v2.1"})=>{const[r,n]=S.useState(!1),[i,a]=S.useState(!1);S.useEffect(()=>{if(!localStorage.getItem("safebite_popup_shown")){const p=setTimeout(()=>{n(!0),localStorage.setItem("safebite_popup_shown","true")},2e3);return()=>clearTimeout(p)}},[]);const s=()=>{n(!1)},l=()=>{a(!i)};if(!r)return null;const u=["Enhanced food search with multi-API integration","Added food tracker functionality","Improved questionnaire data processing","Added About Us and Features pages","Enhanced UI with developer information","Fixed dashboard data display issues","Added weekly check-in data visualization"],f=[{name:"Edamam Food Database API",url:"https://www.edamam.com/"},{name:"CalorieNinjas API",url:"https://calorieninjas.com/"},{name:"FatSecret Platform API",url:"https://platform.fatsecret.com/"},{name:"Open Food Facts",url:"https://world.openfoodfacts.org/"},{name:"Unsplash Images",url:"https://unsplash.com/"}];return o.jsx(o.Fragment,{children:i?o.jsx("div",{className:"fixed bottom-4 right-4 bg-safebite-teal text-safebite-dark-blue p-2 rounded-full cursor-pointer z-50 shadow-lg hover:bg-safebite-teal/90 transition-all",onClick:l,children:o.jsx(wp,{size:24})}):o.jsxs("div",{className:"fixed bottom-4 right-4 w-80 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg shadow-xl z-50 sci-fi-card overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-safebite-card-bg-alt border-b border-safebite-card-bg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(xy,{size:"sm",className:"mr-2"}),o.jsx("h3",{className:"text-safebite-text font-medium",children:"Developer Info"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:l,className:"text-safebite-text-secondary hover:text-safebite-teal p-1 rounded",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),o.jsx("button",{onClick:s,className:"text-safebite-text-secondary hover:text-red-500 p-1 rounded",children:o.jsx(Qi,{size:16})})]})]}),o.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"bg-safebite-teal/20 text-safebite-teal px-2 py-1 rounded text-xs mr-2",children:e}),o.jsx("div",{className:"bg-red-500/20 text-red-500 px-2 py-1 rounded text-xs",children:"Under Development"})]}),o.jsxs("p",{className:"text-safebite-text mb-3 font-medium",children:["Special Project by ",o.jsx("span",{className:"text-safebite-teal",children:t})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[o.jsx(qi,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"What's New in ",e]}),o.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:u.map((h,p)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),o.jsx("span",{children:h})]},p))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[o.jsx(wp,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Data & API Credits"]}),o.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:"SafeBite uses data from the following sources for educational purposes:"}),o.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:f.map((h,p)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),o.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-safebite-teal",children:[h.name,o.jsx(Wh,{className:"h-3 w-3 ml-1"})]})]},p))})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(oe,{variant:"outline",size:"sm",className:"text-xs",onClick:s,children:"Dismiss"})})]})]})})},cb=()=>{const[t,e]=S.useState(!1),r=Cn(),n=()=>{e(!t)};return o.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-safebite-dark-blue/90 backdrop-blur-md border-b border-safebite-card-bg-alt",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(Ft,{to:"/",className:"flex items-center",children:o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"SafeBite"})})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[o.jsx(Ft,{to:"/",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Home"}),o.jsx(Ft,{to:"/features",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Features"}),o.jsx(Ft,{to:"/about",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"About"}),o.jsxs(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>r("/auth/login"),children:[o.jsx(Y2,{className:"mr-2 h-4 w-4"}),"Login"]}),o.jsxs(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r("/auth/signup"),children:[o.jsx(dy,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]}),o.jsx("div",{className:"md:hidden flex items-center",children:o.jsx("button",{onClick:n,className:"text-safebite-text hover:text-safebite-teal focus:outline-none",children:t?o.jsx(Qi,{size:24}):o.jsx(bV,{size:24})})})]})}),t&&o.jsx("div",{className:"md:hidden bg-safebite-card-bg border-b border-safebite-card-bg-alt",children:o.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[o.jsx(Ft,{to:"/",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Home"}),o.jsx(Ft,{to:"/features",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Features"}),o.jsx(Ft,{to:"/about",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"About"}),o.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[o.jsxs(oe,{variant:"outline",className:"sci-fi-button w-full justify-center",onClick:()=>{r("/auth/login"),e(!1)},children:[o.jsx(Y2,{className:"mr-2 h-4 w-4"}),"Login"]}),o.jsxs(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full justify-center",onClick:()=>{r("/auth/signup"),e(!1)},children:[o.jsx(dy,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})})]})};var aee="Separator",EO="horizontal",see=["horizontal","vertical"],I6=S.forwardRef((t,e)=>{const{decorative:r,orientation:n=EO,...i}=t,a=oee(n)?n:EO,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(He.div,{"data-orientation":a,...l,...i,ref:e})});I6.displayName=aee;function oee(t){return see.includes(t)}var O6=I6;const $T=S.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>o.jsx(O6,{ref:i,decorative:r,orientation:e,className:Ze("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));$T.displayName=O6.displayName;const Pm=()=>o.jsx("footer",{className:"bg-safebite-dark-blue border-t border-safebite-card-bg-alt py-10",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold gradient-text mb-4",children:"SafeBite"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Your personal food safety and nutrition companion. Make informed choices for a healthier you."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:o.jsx(NY,{size:20})}),o.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:o.jsx(Qj,{size:20})}),o.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:o.jsx(Gj,{size:20})}),o.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:o.jsx(yV,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Company"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Ft,{to:"/about",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"About Us"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/team",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Our Team"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/careers",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Careers"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/contact",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Contact"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Resources"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Ft,{to:"/blog",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Blog"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/guides",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Nutrition Guides"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/faq",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"FAQs"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/community",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Community"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Legal"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Ft,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Terms of Service"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Cookie Policy"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/data",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Data Protection"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/admin/login",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Admin Login"})})]})]})]}),o.jsx($T,{className:"my-8 bg-safebite-card-bg-alt"}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs("div",{className:"text-safebite-text-secondary text-sm",children:[o.jsxs("p",{children:["© ",new Date().getFullYear()," SafeBite. All rights reserved."]}),o.jsxs("p",{className:"mt-1",children:["A Special Engineering Project by ",o.jsx("span",{className:"text-safebite-teal font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]}),o.jsx("div",{className:"mt-4 md:mt-0",children:o.jsxs("ul",{className:"flex space-x-6",children:[o.jsx("li",{children:o.jsx(Ft,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Privacy"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Terms"})}),o.jsx("li",{children:o.jsx(Ft,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Cookies"})})]})})]})]})}),$s=({title:t,description:e,icon:r,className:n})=>o.jsxs("div",{className:Ze("sci-fi-card group",n),children:[o.jsx("div",{className:"mb-4 inline-block p-3 rounded-full bg-safebite-card-bg-alt text-safebite-teal group-hover:text-safebite-dark-blue group-hover:bg-safebite-teal transition-colors duration-300",children:r}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:t}),o.jsx("p",{className:"text-safebite-text-secondary",children:e})]}),g_=({quote:t,author:e,role:r,avatar:n,className:i})=>o.jsxs("div",{className:Ze("sci-fi-card flex flex-col",i),children:[o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-safebite-text-secondary italic",children:['"',t,'"']})}),o.jsxs("div",{className:"flex items-center",children:[n?o.jsx("img",{src:n,alt:e,className:"w-12 h-12 rounded-full mr-4 border-2 border-safebite-teal"}):o.jsx("div",{className:"w-12 h-12 rounded-full mr-4 bg-safebite-card-bg-alt flex items-center justify-center border-2 border-safebite-teal",children:o.jsx("span",{className:"text-safebite-teal text-lg font-bold",children:e.charAt(0)})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-safebite-text font-semibold",children:e}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:r})]})]})]}),lee=()=>{const t=Cn();return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(cb,{}),o.jsx(k6,{}),o.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-32 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[o.jsxs("div",{className:"md:w-1/2 md:pr-8 mb-10 md:mb-0",children:[o.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[o.jsx("span",{className:"gradient-text",children:"Safe Food Choices"}),o.jsx("br",{}),o.jsx("span",{className:"text-safebite-text",children:"for a Healthier You"})]}),o.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8",children:"Know exactly what's in your food. Track nutrition, receive personalized recommendations, and make informed choices for your health journey."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(oe,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6",children:["Get Started Free",o.jsx(as,{className:"ml-2 h-5 w-5"})]}),o.jsx(oe,{variant:"outline",onClick:()=>t("/features"),className:"sci-fi-button text-lg px-8 py-6",children:"Learn More"})]})]}),o.jsxs("div",{className:"md:w-1/2 relative",children:[o.jsx("div",{className:"bg-gradient-radial from-safebite-teal/20 to-transparent absolute inset-0 rounded-full blur-3xl z-0"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1498837167922-ddd27525d352?q=80&w=2070",alt:"SafeBite Dashboard Preview",className:"relative z-10 rounded-lg border border-safebite-card-bg-alt shadow-xl object-cover h-full"}),o.jsx("div",{className:"absolute bottom-4 right-4 z-20 bg-safebite-dark-blue/80 px-3 py-1 rounded-full text-xs text-safebite-teal",children:"Special Project by Aditya Shenvi"})]})]})}),o.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"Intelligent Food Safety"}),o.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with nutritional science to help you make the best food choices."}),o.jsxs("div",{className:"flex items-center justify-center mt-4",children:[o.jsx(xy,{size:"sm",className:"mr-2"}),o.jsxs("p",{className:"text-safebite-teal text-sm",children:["A Special Engineering Project by ",o.jsx("span",{className:"font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"p-4 border border-safebite-card-bg-alt rounded-lg bg-safebite-card-bg mb-8",children:[o.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[o.jsx(qi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Featured Capabilities"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx($s,{title:"Food Safety Analysis",description:"Instantly analyze food products for additives, allergens, and harmful ingredients to make safe choices.",icon:o.jsx(EV,{size:24})}),o.jsx($s,{title:"AI-Powered Recommendations",description:"Receive personalized food suggestions based on your health profile, preferences, and goals.",icon:o.jsx(fV,{size:24})}),o.jsx($s,{title:"Nutritional Tracking",description:"Monitor your daily intake of calories, macros, vitamins, and minerals with detailed insights.",icon:o.jsx(rs,{size:24})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsx($s,{title:"Simple Food Search",description:"Search or scan barcodes to instantly access comprehensive food information and safety ratings.",icon:o.jsx(to,{size:24})}),o.jsx($s,{title:"Health Goal Setting",description:"Set personalized health goals and track your progress with interactive charts and reports.",icon:o.jsx(G2,{size:24})}),o.jsx($s,{title:"Community Support",description:"Connect with like-minded individuals, share experiences, and get motivation from our community.",icon:o.jsx(es,{size:24})}),o.jsx($s,{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations.",icon:o.jsx(ni,{size:24})}),o.jsx($s,{title:"Personalized Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals.",icon:o.jsx(G2,{size:24})}),o.jsx($s,{title:"Food Tracker",description:"Add foods to your daily tracker to monitor your nutrition intake and stay on target with your goals.",icon:o.jsx(ss,{size:24})})]})]}),o.jsx("div",{className:"mt-12 text-center",children:o.jsxs(oe,{onClick:()=>t("/features"),variant:"outline",className:"sci-fi-button",children:["View All Features",o.jsx(as,{className:"ml-2 h-5 w-5"})]})})]}),o.jsx("section",{className:"py-20 bg-safebite-card-bg",children:o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"How SafeBite Works"}),o.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Getting started is easy. Three simple steps to transform your food choices."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[o.jsxs("div",{className:"sci-fi-card text-center relative",children:[o.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl",children:"1"}),o.jsx("div",{className:"mb-6 mx-auto text-safebite-teal",children:o.jsx(es,{size:48})}),o.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:"Create Your Profile"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Sign up and complete a short questionnaire about your health, dietary needs, and personal goals."})]}),o.jsxs("div",{className:"sci-fi-card text-center relative",children:[o.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl",children:"2"}),o.jsx("div",{className:"mb-6 mx-auto text-safebite-teal",children:o.jsx(to,{size:48})}),o.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:"Search & Analyze"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food items or scan barcodes to instantly get detailed nutrition and safety information."})]}),o.jsxs("div",{className:"sci-fi-card text-center relative",children:[o.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl",children:"3"}),o.jsx("div",{className:"mb-6 mx-auto text-safebite-teal",children:o.jsx(ss,{size:48})}),o.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:"Track & Improve"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Track your nutrition, view progress charts, and receive personalized recommendations to improve your health."})]})]}),o.jsxs("div",{className:"bg-safebite-dark-blue p-6 rounded-lg border border-safebite-card-bg-alt sci-fi-card",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(xy,{size:"md",className:"mr-3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Developer's Note"}),o.jsx("p",{className:"text-safebite-teal text-sm",children:"Aditya Shenvi | IFHE Hyderabad"})]})]}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"SafeBite was developed as a special engineering project to demonstrate how technology can help people make better food choices. The application combines modern web technologies with nutritional science to create an intuitive platform for food analysis and health tracking."}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"React"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"TypeScript"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Firebase"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Tailwind CSS"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Food APIs"})]})]})]})}),o.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"What Our Users Say"}),o.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Join thousands of satisfied users who have transformed their health with SafeBite."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsx(g_,{quote:"SafeBite completely changed how I shop for groceries. I've discovered so many healthier alternatives to my favorite foods!",author:"Sarah M.",role:"SafeBite User"}),o.jsx(g_,{quote:"As someone with multiple food allergies, this app has been a lifesaver. I can quickly check if a product is safe for me to eat.",author:"James K.",role:"SafeBite User"}),o.jsx(g_,{quote:"The personalized recommendations are spot on! I've lost 15 pounds just by making smarter food choices with SafeBite.",author:"Monica R.",role:"SafeBite User"})]})]}),o.jsx("section",{className:"py-20 bg-safebite-card-bg border-y border-safebite-card-bg-alt",children:o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 gradient-text",children:"Ready to Transform Your Food Choices?"}),o.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8 max-w-2xl mx-auto",children:"Join SafeBite today and start your journey to better health through informed food choices. It's free to get started!"}),o.jsxs(oe,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6",children:["Sign Up Now",o.jsx(as,{className:"ml-2 h-5 w-5"})]})]})}),o.jsx(Pm,{})]})},cee=()=>{};var jO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},uee=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],l=t[r++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},M6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let m=(l&15)<<2|f>>6,y=f&63;u||(y=64,s||(m=64)),n.push(r[h],r[p],r[m],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new dee;const m=a<<2|l>>4;if(n.push(m),f!==64){const y=l<<4&240|f>>2;if(n.push(y),p!==64){const _=f<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fee=function(t){const e=R6(t);return M6.encodeByteArray(e,!0)},by=function(t){return fee(t).replace(/\./g,"")},D6=function(t){try{return M6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=()=>hee().__FIREBASE_DEFAULTS__,mee=()=>{if(typeof process>"u"||typeof jO>"u")return;const t=jO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D6(t[1]);return e&&JSON.parse(e)},ub=()=>{try{return cee()||pee()||mee()||gee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L6=t=>{var e,r;return(r=(e=ub())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},vee=t=>{const e=L6(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},$6=()=>{var t;return(t=ub())===null||t===void 0?void 0:t.config},F6=t=>{var e;return(e=ub())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[by(JSON.stringify(r)),by(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function wee(){var t;const e=(t=ub())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _ee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function See(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eee(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jee(){return!wee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B6(){try{return typeof indexedDB=="object"}catch{return!1}}function U6(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function Aee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee="FirebaseError";class Ra extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Nee,Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Tee(a,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ra(i,l,n)}}function Tee(t,e){return t.replace(Pee,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Pee=/\{\$([^}]+)}/g;function Cee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function io(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(AO(a)&&AO(s)){if(!io(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function AO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Gh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Kh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function kee(t,e){const r=new Iee(t,e);return r.subscribe.bind(r)}class Iee{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Oee(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=v_),i.error===void 0&&(i.error=v_),i.complete===void 0&&(i.complete=v_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oee(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function v_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=1e3,Mee=2,Dee=4*60*60*1e3,Lee=.5;function NO(t,e=Ree,r=Mee){const n=e*Math.pow(r,t),i=Math.round(Lee*n*(Math.random()-.5)*2);return Math.min(Dee,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){return t&&t._delegate?t._delegate:t}class ka{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new yee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vee(e))try{this.getOrInitializeService({instanceIdentifier:wc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=wc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wc){return this.instances.has(e)}getOptions(e=wc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Fee(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wc){return this.component?this.component.multipleInstances?e:wc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fee(t){return t===wc?void 0:t}function Vee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new $ee(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const Uee={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},zee=_t.INFO,qee={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},Hee=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=qee[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class db{constructor(e){this.name=e,this._logLevel=zee,this._logHandler=Hee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const Wee=(t,e)=>e.some(r=>t instanceof r);let TO,PO;function Gee(){return TO||(TO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kee(){return PO||(PO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z6=new WeakMap,uA=new WeakMap,q6=new WeakMap,y_=new WeakMap,FT=new WeakMap;function Yee(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(vl(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&z6.set(r,t)}).catch(()=>{}),FT.set(e,t),e}function Qee(t){if(uA.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});uA.set(t,e)}let dA={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return uA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q6.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xee(t){dA=t(dA)}function Jee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(x_(this),e,...r);return q6.set(n,e.sort?e.sort():[e]),vl(n)}:Kee().includes(t)?function(...e){return t.apply(x_(this),e),vl(z6.get(this))}:function(...e){return vl(t.apply(x_(this),e))}}function Zee(t){return typeof t=="function"?Jee(t):(t instanceof IDBTransaction&&Qee(t),Wee(t,Gee())?new Proxy(t,dA):t)}function vl(t){if(t instanceof IDBRequest)return Yee(t);if(y_.has(t))return y_.get(t);const e=Zee(t);return e!==t&&(y_.set(t,e),FT.set(e,t)),e}const x_=t=>FT.get(t);function H6(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=vl(s);return n&&s.addEventListener("upgradeneeded",u=>{n(vl(s.result),u.oldVersion,u.newVersion,vl(s.transaction),u)}),r&&s.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const ete=["get","getKey","getAll","getAllKeys","count"],tte=["put","add","delete","clear"],b_=new Map;function CO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(b_.get(e))return b_.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=tte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ete.includes(r)))return;const a=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&u.done]))[0]};return b_.set(e,a),a}Xee(t=>({...t,get:(e,r,n)=>CO(e,r)||t.get(e,r,n),has:(e,r)=>!!CO(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(nte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function nte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fA="@firebase/app",kO="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new db("@firebase/app"),ite="@firebase/app-compat",ate="@firebase/analytics-compat",ste="@firebase/analytics",ote="@firebase/app-check-compat",lte="@firebase/app-check",cte="@firebase/auth",ute="@firebase/auth-compat",dte="@firebase/database",fte="@firebase/data-connect",hte="@firebase/database-compat",pte="@firebase/functions",mte="@firebase/functions-compat",gte="@firebase/installations",vte="@firebase/installations-compat",yte="@firebase/messaging",xte="@firebase/messaging-compat",bte="@firebase/performance",wte="@firebase/performance-compat",_te="@firebase/remote-config",Ste="@firebase/remote-config-compat",Ete="@firebase/storage",jte="@firebase/storage-compat",Ate="@firebase/firestore",Nte="@firebase/vertexai",Tte="@firebase/firestore-compat",Pte="firebase",Cte="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="[DEFAULT]",kte={[fA]:"fire-core",[ite]:"fire-core-compat",[ste]:"fire-analytics",[ate]:"fire-analytics-compat",[lte]:"fire-app-check",[ote]:"fire-app-check-compat",[cte]:"fire-auth",[ute]:"fire-auth-compat",[dte]:"fire-rtdb",[fte]:"fire-data-connect",[hte]:"fire-rtdb-compat",[pte]:"fire-fn",[mte]:"fire-fn-compat",[gte]:"fire-iid",[vte]:"fire-iid-compat",[yte]:"fire-fcm",[xte]:"fire-fcm-compat",[bte]:"fire-perf",[wte]:"fire-perf-compat",[_te]:"fire-rc",[Ste]:"fire-rc-compat",[Ete]:"fire-gcs",[jte]:"fire-gcs-compat",[Ate]:"fire-fst",[Tte]:"fire-fst-compat",[Nte]:"fire-vertex","fire-js":"fire-js",[Pte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map,Ite=new Map,pA=new Map;function IO(t,e){try{t.container.addComponent(e)}catch(r){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function hs(t){const e=t.name;if(pA.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;pA.set(e,t);for(const r of wy.values())IO(r,t);for(const r of Ite.values())IO(r,t);return!0}function tu(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function wi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yl=new eu("app","Firebase",Ote);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=Cte;function W6(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:hA,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw yl.create("bad-app-name",{appName:String(i)});if(r||(r=$6()),!r)throw yl.create("no-options");const a=wy.get(i);if(a){if(io(r,a.options)&&io(n,a.config))return a;throw yl.create("duplicate-app",{appName:i})}const s=new Bee(i);for(const u of pA.values())s.addComponent(u);const l=new Rte(r,n,s);return wy.set(i,l),l}function VT(t=hA){const e=wy.get(t);if(!e&&t===hA&&$6())return W6();if(!e)throw yl.create("no-app",{appName:t});return e}function Gi(t,e,r){var n;let i=(n=kte[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ao.warn(l.join(" "));return}hs(new ka(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte="firebase-heartbeat-database",Dte=1,Cp="firebase-heartbeat-store";let w_=null;function G6(){return w_||(w_=H6(Mte,Dte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cp)}catch(r){console.warn(r)}}}}).catch(t=>{throw yl.create("idb-open",{originalErrorMessage:t.message})})),w_}async function Lte(t){try{const r=(await G6()).transaction(Cp),n=await r.objectStore(Cp).get(K6(t));return await r.done,n}catch(e){if(e instanceof Ra)ao.warn(e.message);else{const r=yl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ao.warn(r.message)}}}async function OO(t,e){try{const n=(await G6()).transaction(Cp,"readwrite");await n.objectStore(Cp).put(e,K6(t)),await n.done}catch(r){if(r instanceof Ra)ao.warn(r.message);else{const n=yl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ao.warn(n.message)}}}function K6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $te=1024,Fte=30;class Vte{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ute(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=RO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Fte){const s=zte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ao.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=RO(),{heartbeatsToSend:n,unsentEntries:i}=Bte(this._heartbeatsCache.heartbeats),a=by(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ao.warn(r),""}}}function RO(){return new Date().toISOString().substring(0,10)}function Bte(t,e=$te){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),MO(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),MO(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Ute{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B6()?U6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Lte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function MO(t){return by(JSON.stringify({version:2,heartbeats:t})).length}function zte(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qte(t){hs(new ka("platform-logger",e=>new rte(e),"PRIVATE")),hs(new ka("heartbeat",e=>new Vte(e),"PRIVATE")),Gi(fA,kO,t),Gi(fA,kO,"esm2017"),Gi("fire-js","")}qte("");var ts=function(){return ts=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ts.apply(this,arguments)};function km(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Hte(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Y6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wte=Y6,Q6=new eu("auth","Firebase",Y6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new db("@firebase/auth");function Gte(t,...e){_y.logLevel<=_t.WARN&&_y.warn(`Auth (${Tf}): ${t}`,...e)}function Yv(t,...e){_y.logLevel<=_t.ERROR&&_y.error(`Auth (${Tf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,...e){throw UT(t,...e)}function ja(t,...e){return UT(t,...e)}function BT(t,e,r){const n=Object.assign(Object.assign({},Wte()),{[e]:r});return new eu("auth","Firebase",n).create(e,{appName:t.name})}function Qs(t){return BT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kte(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Xi(t,"argument-error"),BT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function UT(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Q6.create(t,...e)}function et(t,e,...r){if(!t)throw UT(e,...r)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yv(e),new Error(e)}function so(t,e){t||zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Yte(){return DO()==="http:"||DO()==="https:"}function DO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yte()||V6()||"connection"in navigator)?navigator.onLine:!0}function Xte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r){this.shortDelay=e,this.longDelay=r,so(r>e,"Short delay should be less than long delay!"),this.isMobile=bee()||See()}get(){return Qte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e){so(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte=new Im(3e4,6e4);function Ll(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $l(t,e,r,n,i={}){return J6(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const l=Cm(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},a);return _ee()||(f.referrerPolicy="no-referrer"),X6.fetch()(Z6(t,t.config.apiHost,r,l),f)})}async function J6(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Jte),e);try{const i=new tre(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw xv(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xv(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw xv(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw xv(t,"user-disabled",s);const h=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw BT(t,h,f);Xi(t,h)}}catch(i){if(i instanceof Ra)throw i;Xi(t,"network-request-failed",{message:String(i)})}}async function Om(t,e,r,n,i={}){const a=await $l(t,e,r,n,i);return"mfaPendingCredential"in a&&Xi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Z6(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?zT(t.config,i):`${t.config.apiScheme}://${i}`}function ere(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ja(this.auth,"network-request-failed")),Zte.get())})}}function xv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ja(t,e,n);return i.customData._tokenResponse=r,i}function LO(t){return t!==void 0&&t.enterprise!==void 0}class rre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return ere(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nre(t,e){return $l(t,"GET","/v2/recaptchaConfig",Ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ire(t,e){return $l(t,"POST","/v1/accounts:delete",e)}async function eB(t,e){return $l(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function are(t,e=!1){const r=Fr(t),n=await r.getIdToken(e),i=qT(n);et(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:op(__(i.auth_time)),issuedAtTime:op(__(i.iat)),expirationTime:op(__(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function __(t){return Number(t)*1e3}function qT(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Yv("JWT malformed, contained fewer than 3 sections"),null;try{const i=D6(r);return i?JSON.parse(i):(Yv("Failed to decode base64 JWT payload"),null)}catch(i){return Yv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $O(t){const e=qT(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kp(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ra&&sre(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function sre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=op(this.lastLoginAt),this.creationTime=op(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(t){var e;const r=t.auth,n=await t.getIdToken(),i=await kp(t,eB(r,{idToken:n}));et(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?tB(a.providerUserInfo):[],l=cre(t.providerData,s),u=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=u?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gA(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function lre(t){const e=Fr(t);await Sy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cre(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function tB(t){return t.map(e=>{var{providerId:r}=e,n=km(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ure(t,e){const r=await J6(t,{},async()=>{const n=Cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=Z6(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",X6.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function dre(t,e){return $l(t,"POST","/v2/accounts:revokeToken",Ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$O(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){et(e.length!==0,"internal-error");const r=$O(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await ure(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new md;return n&&(et(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(et(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(et(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new md,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qs{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ore(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gA(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await kp(this,this.stsTokenManager.getToken(this.auth,e));return et(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return are(this,e)}reload(){return lre(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Sy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await kp(this,ire(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,l,u,f,h;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,m=(i=r.email)!==null&&i!==void 0?i:void 0,y=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,_=(s=r.photoURL)!==null&&s!==void 0?s:void 0,b=(l=r.tenantId)!==null&&l!==void 0?l:void 0,x=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,N=(f=r.createdAt)!==null&&f!==void 0?f:void 0,A=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:j,emailVerified:E,isAnonymous:P,providerData:R,stsTokenManager:C}=r;et(j&&C,e,"internal-error");const I=md.fromJSON(this.name,C);et(typeof j=="string",e,"internal-error"),Yo(p,e.name),Yo(m,e.name),et(typeof E=="boolean",e,"internal-error"),et(typeof P=="boolean",e,"internal-error"),Yo(y,e.name),Yo(_,e.name),Yo(b,e.name),Yo(x,e.name),Yo(N,e.name),Yo(A,e.name);const M=new qs({uid:j,auth:e,email:m,emailVerified:E,displayName:p,isAnonymous:P,photoURL:_,phoneNumber:y,tenantId:b,stsTokenManager:I,createdAt:N,lastLoginAt:A});return R&&Array.isArray(R)&&(M.providerData=R.map(F=>Object.assign({},F))),x&&(M._redirectEventId=x),M}static async _fromIdTokenResponse(e,r,n=!1){const i=new md;i.updateFromServerResponse(r);const a=new qs({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Sy(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];et(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?tB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new md;l.updateFromIdToken(n);const u=new qs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new Map;function Hs(t){so(t instanceof Function,"Expected a class definition");let e=FO.get(t);return e?(so(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}rB.type="NONE";const VO=rB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e,r){return`firebase:${t}:${e}:${r}`}class gd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Qv(this.userKey,i.apiKey,a),this.fullPersistenceKey=Qv("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new gd(Hs(VO),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Hs(VO);const s=Qv(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const h=await f._get(s);if(h){const p=qs._fromJSON(e,h);f!==a&&(l=p),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new gd(a,e,n):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new gd(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lB(e))return"Blackberry";if(cB(e))return"Webos";if(iB(e))return"Safari";if((e.includes("chrome/")||aB(e))&&!e.includes("edge/"))return"Chrome";if(oB(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function nB(t=Pn()){return/firefox\//i.test(t)}function iB(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aB(t=Pn()){return/crios\//i.test(t)}function sB(t=Pn()){return/iemobile/i.test(t)}function oB(t=Pn()){return/android/i.test(t)}function lB(t=Pn()){return/blackberry/i.test(t)}function cB(t=Pn()){return/webos/i.test(t)}function HT(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fre(t=Pn()){var e;return HT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hre(){return Eee()&&document.documentMode===10}function uB(t=Pn()){return HT(t)||oB(t)||cB(t)||lB(t)||/windows phone/i.test(t)||sB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e=[]){let r;switch(t){case"Browser":r=BO(Pn());break;case"Worker":r=`${BO(Pn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Tf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mre(t,e={}){return $l(t,"GET","/v2/passwordPolicy",Ll(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre=6;class vre{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:gre,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UO(this),this.idTokenSubscription=new UO(this),this.beforeStateQueue=new pre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Hs(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await gd.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await eB(this,{idToken:e}),n=await qs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(wi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Sy(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject(Qs(this));const r=e?Fr(e):null;return r&&et(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mre(this),r=new vre(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await dre(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Hs(e)||this._popupRedirectResolver;et(r,this,"argument-error"),this.redirectPersistenceManager=await gd.create(this,[Hs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{s=!0,u()}}else{const u=e.addObserver(r);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Gte(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Fl(t){return Fr(t)}class UO{constructor(e){this.auth=e,this.observer=null,this.addObserver=kee(r=>this.observer=r)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xre(t){fb=t}function fB(t){return fb.loadJS(t)}function bre(){return fb.recaptchaEnterpriseScript}function wre(){return fb.gapiScript}function _re(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Sre{constructor(){this.enterprise=new Ere}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Ere{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const jre="recaptcha-enterprise",hB="NO_RECAPTCHA";class Are{constructor(e){this.type=jre,this.auth=Fl(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{nre(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new rre(u);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(u=>{l(u)})})}function i(a,s,l){const u=window.grecaptcha;LO(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(hB)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sre().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(l=>{if(!r&&LO(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=bre();u.length!==0&&(u+=l),fB(u).then(()=>{i(l,a,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function zO(t,e,r,n=!1,i=!1){const a=new Are(t);let s;if(i)s=hB;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function vA(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await zO(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await zO(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(t,e){const r=tu(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(io(a,e??{}))return i;Xi(i,"already-initialized")}return r.initialize({options:e})}function Tre(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Pre(t,e,r){const n=Fl(t);et(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=pB(e),{host:s,port:l}=Cre(e),u=l===null?"":`:${l}`,f={url:`${a}//${s}${u}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){et(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),et(io(f,n.config.emulator)&&io(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,kre()}function pB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cre(t){const e=pB(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:qO(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:qO(s)}}}function qO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kre(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,r){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function Ire(t,e){return $l(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ore(t,e){return Om(t,"POST","/v1/accounts:signInWithPassword",Ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rre(t,e){return Om(t,"POST","/v1/accounts:signInWithEmailLink",Ll(t,e))}async function Mre(t,e){return Om(t,"POST","/v1/accounts:signInWithEmailLink",Ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends WT{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Ip(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ip(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vA(e,r,"signInWithPassword",Ore);case"emailLink":return Rre(e,{email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vA(e,n,"signUpPassword",Ire);case"emailLink":return Mre(e,{idToken:r,email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t,e){return Om(t,"POST","/v1/accounts:signInWithIdp",Ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dre="http://localhost";class Bc extends WT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Bc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Xi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=km(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Bc(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return vd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,vd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,vd(e,r)}buildRequest(){const e={requestUri:Dre,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Cm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $re(t){const e=Gh(Kh(t)).link,r=e?Gh(Kh(e)).deep_link_id:null,n=Gh(Kh(t)).deep_link_id;return(n?Gh(Kh(n)).link:null)||n||r||e||t}class GT{constructor(e){var r,n,i,a,s,l;const u=Gh(Kh(e)),f=(r=u.apiKey)!==null&&r!==void 0?r:null,h=(n=u.oobCode)!==null&&n!==void 0?n:null,p=Lre((i=u.mode)!==null&&i!==void 0?i:null);et(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=$re(e);try{return new GT(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.providerId=Pf.PROVIDER_ID}static credential(e,r){return Ip._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=GT.parseLink(r);return et(n,"argument-error"),Ip._fromEmailAndCode(e,n.code,n.tenantId)}}Pf.PROVIDER_ID="password";Pf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends KT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Rm{constructor(){super("facebook.com")}static credential(e){return Bc._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch{return null}}}rl.FACEBOOK_SIGN_IN_METHOD="facebook.com";rl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Rm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Bc._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Sa.credential(r,n)}catch{return null}}}Sa.GOOGLE_SIGN_IN_METHOD="google.com";Sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends Rm{constructor(){super("github.com")}static credential(e){return Bc._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nl.credential(e.oauthAccessToken)}catch{return null}}}nl.GITHUB_SIGN_IN_METHOD="github.com";nl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Rm{constructor(){super("twitter.com")}static credential(e,r){return Bc._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return il.credential(r,n)}catch{return null}}}il.TWITTER_SIGN_IN_METHOD="twitter.com";il.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fre(t,e){return Om(t,"POST","/v1/accounts:signUp",Ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await qs._fromIdTokenResponse(e,n,i),s=HO(n);return new Uc({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=HO(n);return new Uc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function HO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends Ra{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ey.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Ey(e,r,n,i)}}function mB(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ey._fromErrorAndOperation(t,a,e,n):a})}async function Vre(t,e,r=!1){const n=await kp(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Uc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bre(t,e,r=!1){const{auth:n}=t;if(wi(n.app))return Promise.reject(Qs(n));const i="reauthenticate";try{const a=await kp(t,mB(n,i,e,t),r);et(a.idToken,n,"internal-error");const s=qT(a.idToken);et(s,n,"internal-error");const{sub:l}=s;return et(t.uid===l,n,"user-mismatch"),Uc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Xi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e,r=!1){if(wi(t.app))return Promise.reject(Qs(t));const n="signIn",i=await mB(t,n,e),a=await Uc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Ure(t,e){return gB(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zre(t,e,r){if(wi(t.app))return Promise.reject(Qs(t));const n=Fl(t),s=await vA(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fre).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&vB(t),u}),l=await Uc._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(l.user),l}function qre(t,e,r){return wi(t.app)?Promise.reject(Qs(t)):Ure(Fr(t),Pf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&vB(t),n})}function Hre(t,e,r,n){return Fr(t).onIdTokenChanged(e,r,n)}function Wre(t,e,r){return Fr(t).beforeAuthStateChanged(e,r)}function Gre(t){return Fr(t).signOut()}const jy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(jy,"1"),this.storage.removeItem(jy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre=1e3,Yre=10;class xB extends yB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);hre()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Yre):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Kre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}xB.type="LOCAL";const Qre=xB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB extends yB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}bB.type="SESSION";const wB=bB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xre(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new hb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async f=>f(r.origin,a)),u=await Xre(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const f=YT("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===f)switch(m.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function Zre(t){os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function ene(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rne(){return _B()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="firebaseLocalStorageDb",nne=1,Ay="firebaseLocalStorage",EB="fbase_key";class Mm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function pb(t,e){return t.transaction([Ay],e?"readwrite":"readonly").objectStore(Ay)}function ine(){const t=indexedDB.deleteDatabase(SB);return new Mm(t).toPromise()}function yA(){const t=indexedDB.open(SB,nne);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ay,{keyPath:EB})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ay)?e(n):(n.close(),await ine(),e(await yA()))})})}async function WO(t,e,r){const n=pb(t,!0).put({[EB]:e,value:r});return new Mm(n).toPromise()}async function ane(t,e){const r=pb(t,!1).get(e),n=await new Mm(r).toPromise();return n===void 0?null:n.value}function GO(t,e){const r=pb(t,!0).delete(e);return new Mm(r).toPromise()}const sne=800,one=3;class jB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yA(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>one)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _B()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hb._getInstance(rne()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await ene(),!this.activeServiceWorker)return;this.sender=new Jre(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yA();return await WO(e,jy,"1"),await GO(e,jy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>WO(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>ane(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>GO(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=pb(i,!1).getAll();return new Mm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jB.type="LOCAL";const lne=jB;new Im(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t,e){return e?Hs(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends WT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return vd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return vd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function cne(t){return gB(t.auth,new QT(t),t.bypassAuthState)}function une(t){const{auth:e,user:r}=t;return et(r,e,"internal-error"),Bre(r,new QT(t),t.bypassAuthState)}async function dne(t){const{auth:e,user:r}=t;return et(r,e,"internal-error"),Vre(r,new QT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cne;case"linkViaPopup":case"linkViaRedirect":return dne;case"reauthViaPopup":case"reauthViaRedirect":return une;default:Xi(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne=new Im(2e3,1e4);async function XT(t,e,r){if(wi(t.app))return Promise.reject(ja(t,"operation-not-supported-in-this-environment"));const n=Fl(t);Kte(t,e,KT);const i=AB(n,r);return new jc(n,"signInViaPopup",e,i).executeNotNull()}class jc extends NB{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,jc.currentPopupAction&&jc.currentPopupAction.cancel(),jc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){so(this.filter.length===1,"Popup operations only handle one event");const e=YT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fne.get())};e()}}jc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hne="pendingRedirect",Xv=new Map;class pne extends NB{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Xv.get(this.auth._key());if(!e){try{const n=await mne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Xv.set(this.auth._key(),e)}return this.bypassAuthState||Xv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mne(t,e){const r=yne(e),n=vne(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function gne(t,e){Xv.set(t._key(),e)}function vne(t){return Hs(t._redirectPersistence)}function yne(t){return Qv(hne,t.config.apiKey,t.name)}async function xne(t,e,r=!1){if(wi(t.app))return Promise.reject(Qs(t));const n=Fl(t),i=AB(n,e),s=await new pne(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne=10*60*1e3;class wne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_ne(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!TB(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ja(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bne&&this.cachedEventUids.clear(),this.cachedEventUids.has(KO(e))}saveEventToCache(e){this.cachedEventUids.add(KO(e)),this.lastProcessedEventTime=Date.now()}}function KO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _ne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sne(t,e={}){return $l(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jne=/^https?/;async function Ane(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Sne(t);for(const r of e)try{if(Nne(r))return}catch{}Xi(t,"unauthorized-domain")}function Nne(t){const e=mA(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!jne.test(r))return!1;if(Ene.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne=new Im(3e4,6e4);function YO(){const t=os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Pne(t){return new Promise((e,r)=>{var n,i,a;function s(){YO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YO(),r(ja(t,"network-request-failed"))},timeout:Tne.get()})}if(!((i=(n=os().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=os().gapi)===null||a===void 0)&&a.load)s();else{const l=_re("iframefcb");return os()[l]=()=>{gapi.load?s():r(ja(t,"network-request-failed"))},fB(`${wre()}?onload=${l}`).catch(u=>r(u))}}).catch(e=>{throw Jv=null,e})}let Jv=null;function Cne(t){return Jv=Jv||Pne(t),Jv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=new Im(5e3,15e3),Ine="__/auth/iframe",One="emulator/auth/iframe",Rne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dne(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?zT(e,One):`https://${t.config.authDomain}/${Ine}`,n={apiKey:e.apiKey,appName:t.name,v:Tf},i=Mne.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Cm(n).slice(1)}`}async function Lne(t){const e=await Cne(t),r=os().gapi;return et(r,t,"internal-error"),e.open({where:document.body,url:Dne(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rne,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=ja(t,"network-request-failed"),l=os().setTimeout(()=>{a(s)},kne.get());function u(){os().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fne=500,Vne=600,Bne="_blank",Une="http://localhost";class QO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zne(t,e,r,n=Fne,i=Vne){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u=Object.assign(Object.assign({},$ne),{width:n.toString(),height:i.toString(),top:a,left:s}),f=Pn().toLowerCase();r&&(l=aB(f)?Bne:r),nB(f)&&(e=e||Une,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[y,_])=>`${m}${y}=${_},`,"");if(fre(f)&&l!=="_self")return qne(e||"",l),new QO(null);const p=window.open(e||"",l,h);et(p,t,"popup-blocked");try{p.focus()}catch{}return new QO(p)}function qne(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hne="__/auth/handler",Wne="emulator/auth/handler",Gne=encodeURIComponent("fac");async function XO(t,e,r,n,i,a){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Tf,eventId:i};if(e instanceof KT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Cee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof Rm){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),f=u?`#${Gne}=${encodeURIComponent(u)}`:"";return`${Kne(t)}?${Cm(l).slice(1)}${f}`}function Kne({config:t}){return t.emulator?zT(t,Wne):`https://${t.authDomain}/${Hne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="webStorageSupport";class Yne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wB,this._completeRedirectFn=xne,this._overrideRedirectResult=gne}async _openPopup(e,r,n,i){var a;so((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await XO(e,r,n,mA(),i);return zne(e,s,YT())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await XO(e,r,n,mA(),i);return Zre(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(so(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Lne(e),n=new wne(e);return r.register("authEvent",i=>(et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(S_,{type:S_},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[S_];s!==void 0&&r(!!s),Xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Ane(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return uB()||iB()||HT()}}const Qne=Yne;var JO="@firebase/auth",ZO="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zne(t){hs(new ka("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;et(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dB(t)},f=new yre(n,i,a,u);return Tre(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),hs(new ka("auth-internal",e=>{const r=Fl(e.getProvider("auth").getImmediate());return(n=>new Xne(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(JO,ZO,Jne(t)),Gi(JO,ZO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie=5*60,tie=F6("authIdTokenMaxAge")||eie;let eR=null;const rie=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>tie)return;const i=r==null?void 0:r.token;eR!==i&&(eR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Jt(t=VT()){const e=tu(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Nre(t,{popupRedirectResolver:Qne,persistence:[lne,Qre,wB]}),n=F6("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=rie(a.toString());Wre(r,s,()=>s(r.currentUser)),Hre(r,l=>s(l))}}const i=L6("auth");return i&&Pre(r,`http://${i}`),r}function nie(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xre({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ja("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",nie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zne("Browser");var iie="firebase",aie="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(iie,aie,"app");const PB="@firebase/installations",JT="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=1e4,kB=`w:${JT}`,IB="FIS_v2",sie="https://firebaseinstallations.googleapis.com/v1",oie=60*60*1e3,lie="installations",cie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zc=new eu(lie,cie,uie);function OB(t){return t instanceof Ra&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB({projectId:t}){return`${sie}/projects/${t}/installations`}function MB(t){return{token:t.token,requestStatus:2,expiresIn:fie(t.expiresIn),creationTime:Date.now()}}async function DB(t,e){const n=(await e.json()).error;return zc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function LB({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function die(t,{refreshToken:e}){const r=LB(t);return r.append("Authorization",hie(e)),r}async function $B(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fie(t){return Number(t.replace("s","000"))}function hie(t){return`${IB} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pie({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=RB(t),i=LB(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:r,authVersion:IB,appId:t.appId,sdkVersion:kB},l={method:"POST",headers:i,body:JSON.stringify(s)},u=await $B(()=>fetch(n,l));if(u.ok){const f=await u.json();return{fid:f.fid||r,registrationStatus:2,refreshToken:f.refreshToken,authToken:MB(f.authToken)}}else throw await DB("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gie=/^[cdef][\w-]{21}$/,xA="";function vie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=yie(t);return gie.test(r)?r:xA}catch{return xA}}function yie(t){return mie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=new Map;function BB(t,e){const r=mb(t);UB(r,e),xie(r,e)}function UB(t,e){const r=VB.get(t);if(r)for(const n of r)n(e)}function xie(t,e){const r=bie();r&&r.postMessage({key:t,fid:e}),wie()}let Ac=null;function bie(){return!Ac&&"BroadcastChannel"in self&&(Ac=new BroadcastChannel("[Firebase] FID Change"),Ac.onmessage=t=>{UB(t.data.key,t.data.fid)}),Ac}function wie(){VB.size===0&&Ac&&(Ac.close(),Ac=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie="firebase-installations-database",Sie=1,qc="firebase-installations-store";let E_=null;function ZT(){return E_||(E_=H6(_ie,Sie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qc)}}})),E_}async function Ny(t,e){const r=mb(t),i=(await ZT()).transaction(qc,"readwrite"),a=i.objectStore(qc),s=await a.get(r);return await a.put(e,r),await i.done,(!s||s.fid!==e.fid)&&BB(t,e.fid),e}async function zB(t){const e=mb(t),n=(await ZT()).transaction(qc,"readwrite");await n.objectStore(qc).delete(e),await n.done}async function gb(t,e){const r=mb(t),i=(await ZT()).transaction(qc,"readwrite"),a=i.objectStore(qc),s=await a.get(r),l=e(s);return l===void 0?await a.delete(r):await a.put(l,r),await i.done,l&&(!s||s.fid!==l.fid)&&BB(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t){let e;const r=await gb(t.appConfig,n=>{const i=Eie(n),a=jie(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===xA?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Eie(t){const e=t||{fid:vie(),registrationStatus:0};return qB(e)}function jie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(zc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Aie(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Nie(t)}:{installationEntry:e}}async function Aie(t,e){try{const r=await pie(t,e);return Ny(t.appConfig,r)}catch(r){throw OB(r)&&r.customData.serverCode===409?await zB(t.appConfig):await Ny(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Nie(t){let e=await tR(t.appConfig);for(;e.registrationStatus===1;)await FB(100),e=await tR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await eP(t);return n||r}return e}function tR(t){return gb(t,e=>{if(!e)throw zc.create("installation-not-found");return qB(e)})}function qB(t){return Tie(t)?{fid:t.fid,registrationStatus:0}:t}function Tie(t){return t.registrationStatus===1&&t.registrationTime+CB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pie({appConfig:t,heartbeatServiceProvider:e},r){const n=Cie(t,r),i=die(t,r),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:kB,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},u=await $B(()=>fetch(n,l));if(u.ok){const f=await u.json();return MB(f)}else throw await DB("Generate Auth Token",u)}function Cie(t,{fid:e}){return`${RB(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e=!1){let r;const n=await gb(t.appConfig,a=>{if(!HB(a))throw zc.create("not-registered");const s=a.authToken;if(!e&&Oie(s))return a;if(s.requestStatus===1)return r=kie(t,e),a;{if(!navigator.onLine)throw zc.create("app-offline");const l=Mie(a);return r=Iie(t,l),l}});return r?await r:n.authToken}async function kie(t,e){let r=await rR(t.appConfig);for(;r.authToken.requestStatus===1;)await FB(100),r=await rR(t.appConfig);const n=r.authToken;return n.requestStatus===0?tP(t,e):n}function rR(t){return gb(t,e=>{if(!HB(e))throw zc.create("not-registered");const r=e.authToken;return Die(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Iie(t,e){try{const r=await Pie(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Ny(t.appConfig,n),r}catch(r){if(OB(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await zB(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ny(t.appConfig,n)}throw r}}function HB(t){return t!==void 0&&t.registrationStatus===2}function Oie(t){return t.requestStatus===2&&!Rie(t)}function Rie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oie}function Mie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Die(t){return t.requestStatus===1&&t.requestTime+CB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lie(t){const e=t,{installationEntry:r,registrationPromise:n}=await eP(e);return n?n.catch(console.error):tP(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ie(t,e=!1){const r=t;return await Fie(r),(await tP(r,e)).token}async function Fie(t){const{registrationPromise:e}=await eP(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t){if(!t||!t.options)throw j_("App Configuration");if(!t.name)throw j_("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw j_(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function j_(t){return zc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="installations",Bie="installations-internal",Uie=t=>{const e=t.getProvider("app").getImmediate(),r=Vie(e),n=tu(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},zie=t=>{const e=t.getProvider("app").getImmediate(),r=tu(e,WB).getImmediate();return{getId:()=>Lie(r),getToken:i=>$ie(r,i)}};function qie(){hs(new ka(WB,Uie,"PUBLIC")),hs(new ka(Bie,zie,"PRIVATE"))}qie();Gi(PB,JT);Gi(PB,JT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="analytics",Hie="firebase_id",Wie="origin",Gie=60*1e3,Kie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rP="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new db("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ji=new eu("analytics","Analytics",Yie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qie(t){if(!t.startsWith(rP)){const e=ji.create("invalid-gtag-resource",{gtagURL:t});return si.warn(e.message),""}return t}function GB(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function Xie(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Jie(t,e){const r=Xie("firebase-js-sdk-policy",{createScriptURL:Qie}),n=document.createElement("script"),i=`${rP}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Zie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eae(t,e,r,n,i,a){const s=n[i];try{if(s)await e[s];else{const u=(await GB(r)).find(f=>f.measurementId===i);u&&await e[u.appId]}}catch(l){si.error(l)}t("config",i,a)}async function tae(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await GB(r);for(const u of s){const f=l.find(p=>p.measurementId===u),h=f&&e[f.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){si.error(a)}}function rae(t,e,r,n){async function i(a,...s){try{if(a==="event"){const[l,u]=s;await tae(t,e,r,l,u)}else if(a==="config"){const[l,u]=s;await eae(t,e,r,n,l,u)}else if(a==="consent"){const[l,u]=s;t("consent",l,u)}else if(a==="get"){const[l,u,f]=s;t("get",l,u,f)}else if(a==="set"){const[l]=s;t("set",l)}else t(a,...s)}catch(l){si.error(l)}}return i}function nae(t,e,r,n,i){let a=function(...s){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=rae(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function iae(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(rP)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae=30,sae=1e3;class oae{constructor(e={},r=sae){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const KB=new oae;function lae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function cae(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:lae(n)},a=Kie.replace("{app-id}",r),s=await fetch(a,i);if(s.status!==200&&s.status!==304){let l="";try{const u=await s.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw ji.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function uae(t,e=KB,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw ji.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw ji.create("no-api-key")}const s=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new hae;return setTimeout(async()=>{l.abort()},Gie),YB({appId:n,apiKey:i,measurementId:a},s,l,e)}async function YB(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=KB){var a;const{appId:s,measurementId:l}=t;try{await dae(n,e)}catch(u){if(l)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:l};throw u}try{const u=await cae(t);return i.deleteThrottleMetadata(s),u}catch(u){const f=u;if(!fae(f)){if(i.deleteThrottleMetadata(s),l)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:l};throw u}const h=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?NO(r,i.intervalMillis,aae):NO(r,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return i.setThrottleMetadata(s,p),si.debug(`Calling attemptFetch again in ${h} millis`),YB(t,p,n,i)}}function dae(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(ji.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fae(t){if(!(t instanceof Ra)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class hae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pae(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,s=Object.assign(Object.assign({},n),{send_to:a});t("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mae(){if(B6())try{await U6()}catch(t){return si.warn(ji.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return si.warn(ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gae(t,e,r,n,i,a,s){var l;const u=uae(t);u.then(y=>{r[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>si.error(y)),e.push(u);const f=mae().then(y=>{if(y)return n.getId()}),[h,p]=await Promise.all([u,f]);iae(a)||Jie(a,h.measurementId),i("js",new Date);const m=(l=s==null?void 0:s.config)!==null&&l!==void 0?l:{};return m[Wie]="firebase",m.update=!0,p!=null&&(m[Hie]=p),i("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e){this.app=e}_delete(){return delete lp[this.app.options.appId],Promise.resolve()}}let lp={},nR=[];const iR={};let A_="dataLayer",yae="gtag",aR,QB,sR=!1;function xae(){const t=[];if(V6()&&t.push("This is a browser extension environment."),Aee()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=ji.create("invalid-analytics-context",{errorInfo:e});si.warn(r.message)}}function bae(t,e,r){xae();const n=t.options.appId;if(!n)throw ji.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ji.create("no-api-key");if(lp[n]!=null)throw ji.create("already-exists",{id:n});if(!sR){Zie(A_);const{wrappedGtag:a,gtagCore:s}=nae(lp,nR,iR,A_,yae);QB=a,aR=s,sR=!0}return lp[n]=gae(t,nR,iR,e,aR,A_,r),new vae(t)}function wae(t=VT()){t=Fr(t);const e=tu(t,Ty);return e.isInitialized()?e.getImmediate():_ae(t)}function _ae(t,e={}){const r=tu(t,Ty);if(r.isInitialized()){const i=r.getImmediate();if(io(e,r.getOptions()))return i;throw ji.create("already-initialized")}return r.initialize({options:e})}function Sae(t,e,r,n){t=Fr(t),pae(QB,lp[t.app.options.appId],e,r,n).catch(i=>si.error(i))}const oR="@firebase/analytics",lR="0.10.12";function Eae(){hs(new ka(Ty,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return bae(n,i,r)},"PUBLIC")),hs(new ka("analytics-internal",t,"PRIVATE")),Gi(oR,lR),Gi(oR,lR,"esm2017");function t(e){try{const r=e.getProvider(Ty).getImmediate();return{logEvent:(n,i,a)=>Sae(r,n,i,a)}}catch(r){throw ji.create("interop-component-reg-failed",{reason:r})}}}Eae();const jae={apiKey:"AIzaSyBuaEOWCEYeV2AknrXhqzuTdIp0rApYPw0",authDomain:"safebite-a5a03.firebaseapp.com",projectId:"safebite-a5a03",storageBucket:"safebite-a5a03.firebasestorage.app",messagingSenderId:"203093821661",appId:"1:203093821661:web:127b2d80f7e08e6c23b334",measurementId:"G-P4KG3JTM4N"},We=W6(jae);wae(We);const ru=()=>{var f;const[t,e]=S.useState(!1),r=Cn(),{toast:n}=Vr(),i=Jt(We),a=i.currentUser,s=()=>{e(!t)},l=async()=>{try{await Gre(i),n({title:"Logged out successfully",description:"Thank you for using SafeBite!"}),r("/")}catch(h){n({title:"Logout failed",description:h.message,variant:"destructive"}),console.error("Logout error:",h)}},u=[{path:"/dashboard",name:"Dashboard",icon:o.jsx(xV,{size:20})},{path:"/food-search",name:"Food Search",icon:o.jsx(to,{size:20})},{path:"/recipes",name:"Recipes",icon:o.jsx(wV,{size:20})},{path:"/community",name:"Community",icon:o.jsx(es,{size:20})},{path:"/healthbox",name:"HealthBox",icon:o.jsx(dd,{size:20,className:"text-safebite-teal"})},{path:"/weekly-questions",name:"Health Check",icon:o.jsx(rs,{size:20})},{path:"/reports",name:"Reports",icon:o.jsx(Wj,{size:20})},{path:"/settings",name:"Settings",icon:o.jsx(Yj,{size:20})}];return o.jsxs(o.Fragment,{children:[o.jsx(oe,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-safebite-card-bg border-safebite-card-bg-alt",onClick:s,children:t?o.jsx(Qi,{size:20}):o.jsx(bV,{size:20})}),o.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-safebite-dark-blue border-r border-safebite-card-bg-alt transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-6 border-b border-safebite-card-bg-alt",children:[o.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"SafeBite"}),o.jsx("p",{className:"text-xs text-safebite-text-secondary mt-1",children:"Smart Food Safety"})]}),o.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:o.jsx("ul",{className:"space-y-2 px-4",children:u.map(h=>o.jsx("li",{children:o.jsxs(tee,{to:h.path,className:({isActive:p})=>`flex items-center py-2 px-4 rounded-md transition-colors ${p?"bg-safebite-teal text-safebite-dark-blue font-medium":"text-safebite-text hover:bg-safebite-card-bg-alt"}`,children:[o.jsx("span",{className:"mr-3",children:h.icon}),h.name]})},h.path))})}),o.jsxs("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-safebite-card-bg-alt flex items-center justify-center text-safebite-teal",children:((f=a==null?void 0:a.email)==null?void 0:f.charAt(0).toUpperCase())||"A"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-safebite-text font-medium",children:(a==null?void 0:a.displayName)||(a==null?void 0:a.email)||"Alex Smith"}),o.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Premium member"})]})]}),o.jsxs(oe,{variant:"outline",className:"w-full sci-fi-button flex items-center justify-center",onClick:l,children:[o.jsx(kY,{size:18,className:"mr-2"}),"Sign Out"]})]})]})})]})};var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xl,XB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function M(){}M.prototype=I.prototype,C.D=I.prototype,C.prototype=new M,C.prototype.constructor=C,C.C=function(F,D,V){for(var $=Array(arguments.length-2),H=2;H<arguments.length;H++)$[H-2]=arguments[H];return I.prototype[D].apply(F,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,M){M||(M=0);var F=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)F[D]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(D=0;16>D;++D)F[D]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=C.g[0],M=C.g[1],D=C.g[2];var V=C.g[3],$=I+(V^M&(D^V))+F[0]+3614090360&4294967295;I=M+($<<7&4294967295|$>>>25),$=V+(D^I&(M^D))+F[1]+3905402710&4294967295,V=I+($<<12&4294967295|$>>>20),$=D+(M^V&(I^M))+F[2]+606105819&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(I^D&(V^I))+F[3]+3250441966&4294967295,M=D+($<<22&4294967295|$>>>10),$=I+(V^M&(D^V))+F[4]+4118548399&4294967295,I=M+($<<7&4294967295|$>>>25),$=V+(D^I&(M^D))+F[5]+1200080426&4294967295,V=I+($<<12&4294967295|$>>>20),$=D+(M^V&(I^M))+F[6]+2821735955&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(I^D&(V^I))+F[7]+4249261313&4294967295,M=D+($<<22&4294967295|$>>>10),$=I+(V^M&(D^V))+F[8]+1770035416&4294967295,I=M+($<<7&4294967295|$>>>25),$=V+(D^I&(M^D))+F[9]+2336552879&4294967295,V=I+($<<12&4294967295|$>>>20),$=D+(M^V&(I^M))+F[10]+4294925233&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(I^D&(V^I))+F[11]+2304563134&4294967295,M=D+($<<22&4294967295|$>>>10),$=I+(V^M&(D^V))+F[12]+1804603682&4294967295,I=M+($<<7&4294967295|$>>>25),$=V+(D^I&(M^D))+F[13]+4254626195&4294967295,V=I+($<<12&4294967295|$>>>20),$=D+(M^V&(I^M))+F[14]+2792965006&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(I^D&(V^I))+F[15]+1236535329&4294967295,M=D+($<<22&4294967295|$>>>10),$=I+(D^V&(M^D))+F[1]+4129170786&4294967295,I=M+($<<5&4294967295|$>>>27),$=V+(M^D&(I^M))+F[6]+3225465664&4294967295,V=I+($<<9&4294967295|$>>>23),$=D+(I^M&(V^I))+F[11]+643717713&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^I&(D^V))+F[0]+3921069994&4294967295,M=D+($<<20&4294967295|$>>>12),$=I+(D^V&(M^D))+F[5]+3593408605&4294967295,I=M+($<<5&4294967295|$>>>27),$=V+(M^D&(I^M))+F[10]+38016083&4294967295,V=I+($<<9&4294967295|$>>>23),$=D+(I^M&(V^I))+F[15]+3634488961&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^I&(D^V))+F[4]+3889429448&4294967295,M=D+($<<20&4294967295|$>>>12),$=I+(D^V&(M^D))+F[9]+568446438&4294967295,I=M+($<<5&4294967295|$>>>27),$=V+(M^D&(I^M))+F[14]+3275163606&4294967295,V=I+($<<9&4294967295|$>>>23),$=D+(I^M&(V^I))+F[3]+4107603335&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^I&(D^V))+F[8]+1163531501&4294967295,M=D+($<<20&4294967295|$>>>12),$=I+(D^V&(M^D))+F[13]+2850285829&4294967295,I=M+($<<5&4294967295|$>>>27),$=V+(M^D&(I^M))+F[2]+4243563512&4294967295,V=I+($<<9&4294967295|$>>>23),$=D+(I^M&(V^I))+F[7]+1735328473&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^I&(D^V))+F[12]+2368359562&4294967295,M=D+($<<20&4294967295|$>>>12),$=I+(M^D^V)+F[5]+4294588738&4294967295,I=M+($<<4&4294967295|$>>>28),$=V+(I^M^D)+F[8]+2272392833&4294967295,V=I+($<<11&4294967295|$>>>21),$=D+(V^I^M)+F[11]+1839030562&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^I)+F[14]+4259657740&4294967295,M=D+($<<23&4294967295|$>>>9),$=I+(M^D^V)+F[1]+2763975236&4294967295,I=M+($<<4&4294967295|$>>>28),$=V+(I^M^D)+F[4]+1272893353&4294967295,V=I+($<<11&4294967295|$>>>21),$=D+(V^I^M)+F[7]+4139469664&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^I)+F[10]+3200236656&4294967295,M=D+($<<23&4294967295|$>>>9),$=I+(M^D^V)+F[13]+681279174&4294967295,I=M+($<<4&4294967295|$>>>28),$=V+(I^M^D)+F[0]+3936430074&4294967295,V=I+($<<11&4294967295|$>>>21),$=D+(V^I^M)+F[3]+3572445317&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^I)+F[6]+76029189&4294967295,M=D+($<<23&4294967295|$>>>9),$=I+(M^D^V)+F[9]+3654602809&4294967295,I=M+($<<4&4294967295|$>>>28),$=V+(I^M^D)+F[12]+3873151461&4294967295,V=I+($<<11&4294967295|$>>>21),$=D+(V^I^M)+F[15]+530742520&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^I)+F[2]+3299628645&4294967295,M=D+($<<23&4294967295|$>>>9),$=I+(D^(M|~V))+F[0]+4096336452&4294967295,I=M+($<<6&4294967295|$>>>26),$=V+(M^(I|~D))+F[7]+1126891415&4294967295,V=I+($<<10&4294967295|$>>>22),$=D+(I^(V|~M))+F[14]+2878612391&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~I))+F[5]+4237533241&4294967295,M=D+($<<21&4294967295|$>>>11),$=I+(D^(M|~V))+F[12]+1700485571&4294967295,I=M+($<<6&4294967295|$>>>26),$=V+(M^(I|~D))+F[3]+2399980690&4294967295,V=I+($<<10&4294967295|$>>>22),$=D+(I^(V|~M))+F[10]+4293915773&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~I))+F[1]+2240044497&4294967295,M=D+($<<21&4294967295|$>>>11),$=I+(D^(M|~V))+F[8]+1873313359&4294967295,I=M+($<<6&4294967295|$>>>26),$=V+(M^(I|~D))+F[15]+4264355552&4294967295,V=I+($<<10&4294967295|$>>>22),$=D+(I^(V|~M))+F[6]+2734768916&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~I))+F[13]+1309151649&4294967295,M=D+($<<21&4294967295|$>>>11),$=I+(D^(M|~V))+F[4]+4149444226&4294967295,I=M+($<<6&4294967295|$>>>26),$=V+(M^(I|~D))+F[11]+3174756917&4294967295,V=I+($<<10&4294967295|$>>>22),$=D+(I^(V|~M))+F[2]+718787259&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~I))+F[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+V&4294967295}n.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var M=I-this.blockSize,F=this.B,D=this.h,V=0;V<I;){if(D==0)for(;V<=M;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<I;)if(F[D++]=C.charCodeAt(V++),D==this.blockSize){i(this,F),D=0;break}}else for(;V<I;)if(F[D++]=C[V++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=I},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var M=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=M&255,M/=256;for(this.u(C),C=Array(16),I=M=0;4>I;++I)for(var F=0;32>F;F+=8)C[M++]=this.g[I]>>>F&255;return C};function a(C,I){var M=l;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=I(C)}function s(C,I){this.h=I;for(var M=[],F=!0,D=C.length-1;0<=D;D--){var V=C[D]|0;F&&V==I||(M[D]=V,F=!1)}this.g=M}var l={};function u(C){return-128<=C&&128>C?a(C,function(I){return new s([I|0],0>I?-1:0)}):new s([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return x(f(-C));for(var I=[],M=1,F=0;C>=M;F++)I[F]=C/M|0,M*=4294967296;return new s(I,0)}function h(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return x(h(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(I,8)),F=p,D=0;D<C.length;D+=8){var V=Math.min(8,C.length-D),$=parseInt(C.substring(D,D+V),I);8>V?(V=f(Math.pow(I,V)),F=F.j(V).add(f($))):(F=F.j(M),F=F.add(f($)))}return F}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var C=0,I=1,M=0;M<this.g.length;M++){var F=this.i(M);C+=(0<=F?F:4294967296+F)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(b(this))return"-"+x(this).toString(C);for(var I=f(Math.pow(C,6)),M=this,F="";;){var D=E(M,I).g;M=N(M,D.j(I));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(C);if(M=D,_(M))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=N(this,C),b(C)?-1:_(C)?0:1};function x(C){for(var I=C.g.length,M=[],F=0;F<I;F++)M[F]=~C.g[F];return new s(M,~C.h).add(m)}t.abs=function(){return b(this)?x(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],F=0,D=0;D<=I;D++){var V=F+(this.i(D)&65535)+(C.i(D)&65535),$=(V>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);F=$>>>16,V&=65535,$&=65535,M[D]=$<<16|V}return new s(M,M[M.length-1]&-2147483648?-1:0)};function N(C,I){return C.add(x(I))}t.j=function(C){if(_(this)||_(C))return p;if(b(this))return b(C)?x(this).j(x(C)):x(x(this).j(C));if(b(C))return x(this.j(x(C)));if(0>this.l(y)&&0>C.l(y))return f(this.m()*C.m());for(var I=this.g.length+C.g.length,M=[],F=0;F<2*I;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<C.g.length;D++){var V=this.i(F)>>>16,$=this.i(F)&65535,H=C.i(D)>>>16,G=C.i(D)&65535;M[2*F+2*D]+=$*G,A(M,2*F+2*D),M[2*F+2*D+1]+=V*G,A(M,2*F+2*D+1),M[2*F+2*D+1]+=$*H,A(M,2*F+2*D+1),M[2*F+2*D+2]+=V*H,A(M,2*F+2*D+2)}for(F=0;F<I;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=I;F<2*I;F++)M[F]=0;return new s(M,0)};function A(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function j(C,I){this.g=C,this.h=I}function E(C,I){if(_(I))throw Error("division by zero");if(_(C))return new j(p,p);if(b(C))return I=E(x(C),I),new j(x(I.g),x(I.h));if(b(I))return I=E(C,x(I)),new j(x(I.g),I.h);if(30<C.g.length){if(b(C)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var M=m,F=I;0>=F.l(C);)M=P(M),F=P(F);var D=R(M,1),V=R(F,1);for(F=R(F,2),M=R(M,2);!_(F);){var $=V.add(F);0>=$.l(C)&&(D=D.add(M),V=$),F=R(F,1),M=R(M,1)}return I=N(C,D.j(I)),new j(D,I)}for(D=p;0<=C.l(I);){for(M=Math.max(1,Math.floor(C.m()/I.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(M),$=V.j(I);b($)||0<$.l(C);)M-=F,V=f(M),$=V.j(I);_(V)&&(V=m),D=D.add(V),C=N(C,$)}return new j(D,C)}t.A=function(C){return E(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],F=0;F<I;F++)M[F]=this.i(F)&C.i(F);return new s(M,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],F=0;F<I;F++)M[F]=this.i(F)|C.i(F);return new s(M,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],F=0;F<I;F++)M[F]=this.i(F)^C.i(F);return new s(M,this.h^C.h)};function P(C){for(var I=C.g.length+1,M=[],F=0;F<I;F++)M[F]=C.i(F)<<1|C.i(F-1)>>>31;return new s(M,C.h)}function R(C,I){var M=I>>5;I%=32;for(var F=C.g.length-M,D=[],V=0;V<F;V++)D[V]=0<I?C.i(V+M)>>>I|C.i(V+M+1)<<32-I:C.i(V+M);return new s(D,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,XB=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,xl=s}).apply(typeof cR<"u"?cR:typeof self<"u"?self:typeof window<"u"?window:{});var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JB,Yh,ZB,Zv,bA,eU,tU,rU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,k,L){return v==Array.prototype||v==Object.prototype||(v[k]=L.value),v};function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof bv=="object"&&bv];for(var k=0;k<v.length;++k){var L=v[k];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var n=r(this);function i(v,k){if(k)e:{var L=n;v=v.split(".");for(var z=0;z<v.length-1;z++){var re=v[z];if(!(re in L))break e;L=L[re]}v=v[v.length-1],z=L[v],k=k(z),k!=z&&k!=null&&e(L,v,{configurable:!0,writable:!0,value:k})}}function a(v,k){v instanceof String&&(v+="");var L=0,z=!1,re={next:function(){if(!z&&L<v.length){var ce=L++;return{value:k(ce,v[ce]),done:!1}}return z=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(v){return v||function(){return a(this,function(k,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(v){var k=typeof v;return k=k!="object"?k:v?Array.isArray(v)?"array":k:"null",k=="array"||k=="object"&&typeof v.length=="number"}function f(v){var k=typeof v;return k=="object"&&v!=null||k=="function"}function h(v,k,L){return v.call.apply(v.bind,arguments)}function p(v,k,L){if(!v)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,z),v.apply(k,re)}}return function(){return v.apply(k,arguments)}}function m(v,k,L){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(v,k){var L=Array.prototype.slice.call(arguments,1);return function(){var z=L.slice();return z.push.apply(z,arguments),v.apply(this,z)}}function _(v,k){function L(){}L.prototype=k.prototype,v.aa=k.prototype,v.prototype=new L,v.prototype.constructor=v,v.Qb=function(z,re,ce){for(var Te=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Te[Yt-2]=arguments[Yt];return k.prototype[re].apply(z,Te)}}function b(v){const k=v.length;if(0<k){const L=Array(k);for(let z=0;z<k;z++)L[z]=v[z];return L}return[]}function x(v,k){for(let L=1;L<arguments.length;L++){const z=arguments[L];if(u(z)){const re=v.length||0,ce=z.length||0;v.length=re+ce;for(let Te=0;Te<ce;Te++)v[re+Te]=z[Te]}else v.push(z)}}class N{constructor(k,L){this.i=k,this.j=L,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function A(v){return/^[\s\xa0]*$/.test(v)}function j(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function E(v){return E[" "](v),v}E[" "]=function(){};var P=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function R(v,k,L){for(const z in v)k.call(L,v[z],z,v)}function C(v,k){for(const L in v)k.call(void 0,v[L],L,v)}function I(v){const k={};for(const L in v)k[L]=v[L];return k}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(v,k){let L,z;for(let re=1;re<arguments.length;re++){z=arguments[re];for(L in z)v[L]=z[L];for(let ce=0;ce<M.length;ce++)L=M[ce],Object.prototype.hasOwnProperty.call(z,L)&&(v[L]=z[L])}}function D(v){var k=1;v=v.split(":");const L=[];for(;0<k&&v.length;)L.push(v.shift()),k--;return v.length&&L.push(v.join(":")),L}function V(v){l.setTimeout(()=>{throw v},0)}function $(){var v=J;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}class H{constructor(){this.h=this.g=null}add(k,L){const z=G.get();z.set(k,L),this.h?this.h.next=z:this.g=z,this.h=z}}var G=new N(()=>new Y,v=>v.reset());class Y{constructor(){this.next=this.g=this.h=null}set(k,L){this.h=k,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,W=!1,J=new H,ee=()=>{const v=l.Promise.resolve(void 0);Q=()=>{v.then(q)}};var q=()=>{for(var v;v=$();){try{v.h.call(v.g)}catch(L){V(L)}var k=G;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}W=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const L=()=>{};l.addEventListener("test",L,k),l.removeEventListener("test",L,k)}catch{}return v}();function Ae(v,k){if(ae.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var L=this.type=v.type,z=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(P){e:{try{E(k.nodeName);var re=!0;break e}catch{}re=!1}re||(k=null)}}else L=="mouseover"?k=v.fromElement:L=="mouseout"&&(k=v.toElement);this.relatedTarget=k,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Ne[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ae.aa.h.call(this)}}_(Ae,ae);var Ne={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function de(v,k,L,z,re){this.listener=v,this.proxy=null,this.src=k,this.type=L,this.capture=!!z,this.ha=re,this.key=++Pe,this.da=this.fa=!1}function ve(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function we(v){this.src=v,this.g={},this.h=0}we.prototype.add=function(v,k,L,z,re){var ce=v.toString();v=this.g[ce],v||(v=this.g[ce]=[],this.h++);var Te=Ye(v,k,z,re);return-1<Te?(k=v[Te],L||(k.fa=!1)):(k=new de(k,this.src,ce,!!z,re),k.fa=L,v.push(k)),k};function le(v,k){var L=k.type;if(L in v.g){var z=v.g[L],re=Array.prototype.indexOf.call(z,k,void 0),ce;(ce=0<=re)&&Array.prototype.splice.call(z,re,1),ce&&(ve(k),v.g[L].length==0&&(delete v.g[L],v.h--))}}function Ye(v,k,L,z){for(var re=0;re<v.length;++re){var ce=v[re];if(!ce.da&&ce.listener==k&&ce.capture==!!L&&ce.ha==z)return re}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),pt={};function ot(v,k,L,z,re){if(Array.isArray(k)){for(var ce=0;ce<k.length;ce++)ot(v,k[ce],L,z,re);return null}return L=Pt(L),v&&v[ge]?v.K(k,L,f(z)?!!z.capture:!1,re):lt(v,k,L,!1,z,re)}function lt(v,k,L,z,re,ce){if(!k)throw Error("Invalid event type");var Te=f(re)?!!re.capture:!!re,Yt=st(v);if(Yt||(v[qe]=Yt=new we(v)),L=Yt.add(k,L,z,Te,ce),L.proxy)return L;if(z=br(),L.proxy=z,z.src=v,z.listener=L,v.addEventListener)be||(re=Te),re===void 0&&(re=!1),v.addEventListener(k.toString(),z,re);else if(v.attachEvent)v.attachEvent(cr(k.toString()),z);else if(v.addListener&&v.removeListener)v.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return L}function br(){function v(L){return k.call(v.src,v.listener,L)}const k=Me;return v}function Tt(v,k,L,z,re){if(Array.isArray(k))for(var ce=0;ce<k.length;ce++)Tt(v,k[ce],L,z,re);else z=f(z)?!!z.capture:!!z,L=Pt(L),v&&v[ge]?(v=v.i,k=String(k).toString(),k in v.g&&(ce=v.g[k],L=Ye(ce,L,z,re),-1<L&&(ve(ce[L]),Array.prototype.splice.call(ce,L,1),ce.length==0&&(delete v.g[k],v.h--)))):v&&(v=st(v))&&(k=v.g[k.toString()],v=-1,k&&(v=Ye(k,L,z,re)),(L=-1<v?k[v]:null)&&Lt(L))}function Lt(v){if(typeof v!="number"&&v&&!v.da){var k=v.src;if(k&&k[ge])le(k.i,v);else{var L=v.type,z=v.proxy;k.removeEventListener?k.removeEventListener(L,z,v.capture):k.detachEvent?k.detachEvent(cr(L),z):k.addListener&&k.removeListener&&k.removeListener(z),(L=st(k))?(le(L,v),L.h==0&&(L.src=null,k[qe]=null)):ve(v)}}}function cr(v){return v in pt?pt[v]:pt[v]="on"+v}function Me(v,k){if(v.da)v=!0;else{k=new Ae(k,this);var L=v.listener,z=v.ha||v.src;v.fa&&Lt(v),v=L.call(z,k)}return v}function st(v){return v=v[qe],v instanceof we?v:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(v){return typeof v=="function"?v:(v[Ue]||(v[Ue]=function(k){return v.handleEvent(k)}),v[Ue])}function tt(){X.call(this),this.i=new we(this),this.M=this,this.F=null}_(tt,X),tt.prototype[ge]=!0,tt.prototype.removeEventListener=function(v,k,L,z){Tt(this,v,k,L,z)};function bt(v,k){var L,z=v.F;if(z)for(L=[];z;z=z.F)L.push(z);if(v=v.M,z=k.type||k,typeof k=="string")k=new ae(k,v);else if(k instanceof ae)k.target=k.target||v;else{var re=k;k=new ae(z,v),F(k,re)}if(re=!0,L)for(var ce=L.length-1;0<=ce;ce--){var Te=k.g=L[ce];re=kn(Te,z,!0,k)&&re}if(Te=k.g=v,re=kn(Te,z,!0,k)&&re,re=kn(Te,z,!1,k)&&re,L)for(ce=0;ce<L.length;ce++)Te=k.g=L[ce],re=kn(Te,z,!1,k)&&re}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var v=this.i,k;for(k in v.g){for(var L=v.g[k],z=0;z<L.length;z++)ve(L[z]);delete v.g[k],v.h--}}this.F=null},tt.prototype.K=function(v,k,L,z){return this.i.add(String(v),k,!1,L,z)},tt.prototype.L=function(v,k,L,z){return this.i.add(String(v),k,!0,L,z)};function kn(v,k,L,z){if(k=v.i.g[String(k)],!k)return!0;k=k.concat();for(var re=!0,ce=0;ce<k.length;++ce){var Te=k[ce];if(Te&&!Te.da&&Te.capture==L){var Yt=Te.listener,Br=Te.ha||Te.src;Te.fa&&le(v.i,Te),re=Yt.call(Br,z)!==!1&&re}}return re&&!z.defaultPrevented}function Hn(v,k,L){if(typeof v=="function")L&&(v=m(v,L));else if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(v,k||0)}function gn(v){v.g=Hn(()=>{v.g=null,v.i&&(v.i=!1,gn(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}class ea extends X{constructor(k,L){super(),this.m=k,this.l=L,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:gn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(v){X.call(this),this.h=v,this.g={}}_(Ti,X);var La=[];function _s(v){R(v.g,function(k,L){this.g.hasOwnProperty(L)&&Lt(k)},v),v.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),_s(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=l.JSON.stringify,on=l.JSON.parse,Ss=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Je(){}Je.prototype.h=null;function Ct(v){return v.h||(v.h=v.i())}function Et(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){ae.call(this,"d")}_(wr,ae);function fe(){ae.call(this,"c")}_(fe,ae);var ke={},Ce=null;function vt(){return Ce=Ce||new tt}ke.La="serverreachability";function rr(v){ae.call(this,ke.La,v)}_(rr,ae);function Wn(v){const k=vt();bt(k,new rr(k))}ke.STAT_EVENT="statevent";function So(v,k){ae.call(this,ke.STAT_EVENT,v),this.stat=k}_(So,ae);function gr(v){const k=vt();bt(k,new So(k,v))}ke.Ma="timingevent";function li(v,k){ae.call(this,ke.Ma,v),this.size=k}_(li,ae);function ta(v,k){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},k)}function Yl(){this.g=!0}Yl.prototype.xa=function(){this.g=!1};function Ql(v,k,L,z,re,ce){v.info(function(){if(v.g)if(ce)for(var Te="",Yt=ce.split("&"),Br=0;Br<Yt.length;Br++){var kt=Yt[Br].split("=");if(1<kt.length){var Qr=kt[0];kt=kt[1];var Ir=Qr.split("_");Te=2<=Ir.length&&Ir[1]=="type"?Te+(Qr+"="+kt+"&"):Te+(Qr+"=redacted&")}}else Te=null;else Te=ce;return"XMLHTTP REQ ("+z+") [attempt "+re+"]: "+k+`
`+L+`
`+Te})}function du(v,k,L,z,re,ce,Te){v.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+re+"]: "+k+`
`+L+`
`+ce+" "+Te})}function ra(v,k,L,z){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+P0(v,L)+(z?" "+z:"")})}function Xf(v,k){v.info(function(){return"TIMEOUT: "+k})}Yl.prototype.info=function(){};function P0(v,k){if(!v.g)return k;if(!k)return null;try{var L=JSON.parse(k);if(L){for(v=0;v<L.length;v++)if(Array.isArray(L[v])){var z=L[v];if(!(2>z.length)){var re=z[1];if(Array.isArray(re)&&!(1>re.length)){var ce=re[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Te=1;Te<re.length;Te++)re[Te]=""}}}}return Pi(L)}catch{return k}}var fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},na;function Xl(){}_(Xl,Je),Xl.prototype.g=function(){return new XMLHttpRequest},Xl.prototype.i=function(){return{}},na=new Xl;function ia(v,k,L,z){this.j=v,this.i=k,this.l=L,this.R=z||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jm}function Jm(){this.i=null,this.g="",this.h=!1}var Jf={},hu={};function pu(v,k,L){v.L=1,v.v=To(ui(k)),v.m=L,v.P=!0,Zf(v,null)}function Zf(v,k){v.F=Date.now(),nr(v),v.A=ui(v.v);var L=v.A,z=v.R;Array.isArray(z)||(z=[String(z)]),Co(L.i,"t",z),v.C=0,L=v.j.J,v.h=new Jm,v.g=gg(v.j,L?k:null,!v.m),0<v.O&&(v.M=new ea(m(v.Y,v,v.g),v.O)),k=v.U,L=v.g,z=v.ca;var re="readystatechange";Array.isArray(re)||(re&&(La[0]=re.toString()),re=La);for(var ce=0;ce<re.length;ce++){var Te=ot(L,re[ce],z||k.handleEvent,!1,k.h||k);if(!Te)break;k.g[Te.key]=Te}k=v.H?I(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),Wn(),Ql(v.i,v.u,v.A,v.l,v.R,v.m)}ia.prototype.ca=function(v){v=v.target;const k=this.M;k&&Kn(v)==3?k.j():this.Y(v)},ia.prototype.Y=function(v){try{if(v==this.g)e:{const Ir=Kn(this.g);var k=this.g.Ba();const Ii=this.g.Z();if(!(3>Ir)&&(Ir!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||Ir!=4||k==7||(k==8||0>=Ii?Wn(3):Wn(2)),Jl(this);var L=this.g.Z();this.X=L;t:if(Zm(this)){var z=ah(this.g);v="";var re=z.length,ce=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),Eo(this);var Te="";break t}this.h.i=new l.TextDecoder}for(k=0;k<re;k++)this.h.h=!0,v+=this.h.i.decode(z[k],{stream:!(ce&&k==re-1)});z.length=0,this.h.g+=v,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=L==200,du(this.i,this.u,this.A,this.l,this.R,Ir,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,Br=this.g;if((Yt=Br.g?Br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Yt)){var kt=Yt;break t}}kt=null}if(L=kt)ra(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,L);else{this.o=!1,this.s=3,gr(12),Ci(this),Eo(this);break e}}if(this.P){L=!0;let fi;for(;!this.J&&this.C<Te.length;)if(fi=C0(this,Te),fi==hu){Ir==4&&(this.s=4,gr(14),L=!1),ra(this.i,this.l,null,"[Incomplete Response]");break}else if(fi==Jf){this.s=4,gr(15),ra(this.i,this.l,Te,"[Invalid Chunk]"),L=!1;break}else ra(this.i,this.l,fi,null),eh(this,fi);if(Zm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ir!=4||Te.length!=0||this.h.h||(this.s=1,gr(16),L=!1),this.o=this.o&&L,!L)ra(this.i,this.l,Te,"[Invalid Chunked Response]"),Ci(this),Eo(this);else if(0<Te.length&&!this.W){this.W=!0;var Qr=this.j;Qr.g==this&&Qr.ba&&!Qr.M&&(Qr.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),oh(Qr),Qr.M=!0,gr(11))}}else ra(this.i,this.l,Te,null),eh(this,Te);Ir==4&&Ci(this),this.o&&!this.J&&(Ir==4?ju(this.j,this):(this.o=!1,nr(this)))}else bu(this.g),L==400&&0<Te.indexOf("Unknown SID")?(this.s=3,gr(12)):(this.s=0,gr(13)),Ci(this),Eo(this)}}}catch{}finally{}};function Zm(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function C0(v,k){var L=v.C,z=k.indexOf(`
`,L);return z==-1?hu:(L=Number(k.substring(L,z)),isNaN(L)?Jf:(z+=1,z+L>k.length?hu:(k=k.slice(z,z+L),v.C=z+L,k)))}ia.prototype.cancel=function(){this.J=!0,Ci(this)};function nr(v){v.S=Date.now()+v.I,eg(v,v.I)}function eg(v,k){if(v.B!=null)throw Error("WatchDog timer not null");v.B=ta(m(v.ba,v),k)}function Jl(v){v.B&&(l.clearTimeout(v.B),v.B=null)}ia.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Xf(this.i,this.A),this.L!=2&&(Wn(),gr(17)),Ci(this),this.s=2,Eo(this)):eg(this,this.S-v)};function Eo(v){v.j.G==0||v.J||ju(v.j,v)}function Ci(v){Jl(v);var k=v.M;k&&typeof k.ma=="function"&&k.ma(),v.M=null,_s(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function eh(v,k){try{var L=v.j;if(L.G!=0&&(L.g==v||In(L.h,v))){if(!v.K&&In(L.h,v)&&L.G==3){try{var z=L.Da.g.parse(k)}catch{z=null}if(Array.isArray(z)&&z.length==3){var re=z;if(re[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<v.F)Eu(L),ca(L);else break e;Su(L),gr(18)}}else L.za=re[1],0<L.za-L.T&&37500>re[2]&&L.F&&L.v==0&&!L.C&&(L.C=ta(m(L.Za,L),6e3));if(1>=rg(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Ts(L,11)}else if((v.K||L.g==v)&&Eu(L),!A(k))for(re=L.Da.g.parse(k),k=0;k<re.length;k++){let kt=re[k];if(L.T=kt[0],kt=kt[1],L.G==2)if(kt[0]=="c"){L.K=kt[1],L.ia=kt[2];const Qr=kt[3];Qr!=null&&(L.la=Qr,L.j.info("VER="+L.la));const Ir=kt[4];Ir!=null&&(L.Aa=Ir,L.j.info("SVER="+L.Aa));const Ii=kt[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(z=1.5*Ii,L.L=z,L.j.info("backChannelRequestTimeoutMs_="+z)),z=L;const fi=v.g;if(fi){const ac=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ac){var ce=z.h;ce.g||ac.indexOf("spdy")==-1&&ac.indexOf("quic")==-1&&ac.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(th(ce,ce.h),ce.h=null))}if(z.D){const Nu=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Nu&&(z.ya=Nu,Zt(z.I,z.D,Nu))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-v.F,L.j.info("Handshake RTT: "+L.R+"ms")),z=L;var Te=v;if(z.qa=mg(z,z.J?z.ia:null,z.W),Te.K){ng(z.h,Te);var Yt=Te,Br=z.L;Br&&(Yt.I=Br),Yt.B&&(Jl(Yt),nr(Yt)),z.g=Te}else ic(z);0<L.i.length&&Ba(L)}else kt[0]!="stop"&&kt[0]!="close"||Ts(L,7);else L.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ts(L,7):cn(L):kt[0]!="noop"&&L.l&&L.l.ta(kt),L.v=0)}}Wn(4)}catch{}}var tg=class{constructor(v,k){this.g=v,this.map=k}};function Zl(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ci(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function rg(v){return v.h?1:v.g?v.g.size:0}function In(v,k){return v.h?v.h==k:v.g?v.g.has(k):!1}function th(v,k){v.g?v.g.add(k):v.h=k}function ng(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}Zl.prototype.cancel=function(){if(this.i=ig(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function ig(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let k=v.i;for(const L of v.g.values())k=k.concat(L.D);return k}return b(v.i)}function mu(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var k=[],L=v.length,z=0;z<L;z++)k.push(v[z]);return k}k=[],L=0;for(z in v)k[L++]=v[z];return k}function gu(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var k=[];v=v.length;for(var L=0;L<v;L++)k.push(L);return k}k=[],L=0;for(const z in v)k[L++]=z;return k}}}function jo(v,k){if(v.forEach&&typeof v.forEach=="function")v.forEach(k,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,k,void 0);else for(var L=gu(v),z=mu(v),re=z.length,ce=0;ce<re;ce++)k.call(void 0,z[ce],L&&L[ce],v)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k0(v,k){if(v){v=v.split("&");for(var L=0;L<v.length;L++){var z=v[L].indexOf("="),re=null;if(0<=z){var ce=v[L].substring(0,z);re=v[L].substring(z+1)}else ce=v[L];k(ce,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Es(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Es){this.h=v.h,tc(this,v.j),this.o=v.o,this.g=v.g,Ao(this,v.s),this.l=v.l;var k=v.i,L=new $a;L.i=k.i,k.g&&(L.g=new Map(k.g),L.h=k.h),No(this,L),this.m=v.m}else v&&(k=String(v).match(ec))?(this.h=!1,tc(this,k[1]||"",!0),this.o=jt(k[2]||""),this.g=jt(k[3]||"",!0),Ao(this,k[4]),this.l=jt(k[5]||"",!0),No(this,k[6]||"",!0),this.m=jt(k[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}Es.prototype.toString=function(){var v=[],k=this.j;k&&v.push(Po(k,vu,!0),":");var L=this.g;return(L||k=="file")&&(v.push("//"),(k=this.o)&&v.push(Po(k,vu,!0),"@"),v.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&v.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&v.push("/"),v.push(Po(L,L.charAt(0)=="/"?og:sg,!0))),(L=this.i.toString())&&v.push("?",L),(L=this.m)&&v.push("#",Po(L,rh)),v.join("")};function ui(v){return new Es(v)}function tc(v,k,L){v.j=L?jt(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function Ao(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function No(v,k,L){k instanceof $a?(v.i=k,Fa(v.i,v.h)):(L||(k=Po(k,lg)),v.i=new $a(k,v.h))}function Zt(v,k,L){v.i.set(k,L)}function To(v){return Zt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function jt(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Po(v,k,L){return typeof v=="string"?(v=encodeURI(v).replace(k,ag),L&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function ag(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var vu=/[#\/\?@]/g,sg=/[#\?:]/g,og=/[#\?]/g,lg=/[#\?@]/g,rh=/#/g;function $a(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function ln(v){v.g||(v.g=new Map,v.h=0,v.i&&k0(v.i,function(k,L){v.add(decodeURIComponent(k.replace(/\+/g," ")),L)}))}t=$a.prototype,t.add=function(v,k){ln(this),this.i=null,v=ki(this,v);var L=this.g.get(v);return L||this.g.set(v,L=[]),L.push(k),this.h+=1,this};function aa(v,k){ln(v),k=ki(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function sa(v,k){return ln(v),k=ki(v,k),v.g.has(k)}t.forEach=function(v,k){ln(this),this.g.forEach(function(L,z){L.forEach(function(re){v.call(k,re,z,this)},this)},this)},t.na=function(){ln(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),L=[];for(let z=0;z<k.length;z++){const re=v[z];for(let ce=0;ce<re.length;ce++)L.push(k[z])}return L},t.V=function(v){ln(this);let k=[];if(typeof v=="string")sa(this,v)&&(k=k.concat(this.g.get(ki(this,v))));else{v=Array.from(this.g.values());for(let L=0;L<v.length;L++)k=k.concat(v[L])}return k},t.set=function(v,k){return ln(this),this.i=null,v=ki(this,v),sa(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},t.get=function(v,k){return v?(v=this.V(v),0<v.length?String(v[0]):k):k};function Co(v,k,L){aa(v,k),0<L.length&&(v.i=null,v.g.set(ki(v,k),b(L)),v.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var L=0;L<k.length;L++){var z=k[L];const ce=encodeURIComponent(String(z)),Te=this.V(z);for(z=0;z<Te.length;z++){var re=ce;Te[z]!==""&&(re+="="+encodeURIComponent(String(Te[z]))),v.push(re)}}return this.i=v.join("&")};function ki(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function Fa(v,k){k&&!v.j&&(ln(v),v.i=null,v.g.forEach(function(L,z){var re=z.toLowerCase();z!=re&&(aa(this,z),Co(this,re,L))},v)),v.j=k}function I0(v,k){const L=new Yl;if(l.Image){const z=new Image;z.onload=y(Gn,L,"TestLoadImage: loaded",!0,k,z),z.onerror=y(Gn,L,"TestLoadImage: error",!1,k,z),z.onabort=y(Gn,L,"TestLoadImage: abort",!1,k,z),z.ontimeout=y(Gn,L,"TestLoadImage: timeout",!1,k,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=v}else k(!1)}function cg(v,k){const L=new Yl,z=new AbortController,re=setTimeout(()=>{z.abort(),Gn(L,"TestPingServer: timeout",!1,k)},1e4);fetch(v,{signal:z.signal}).then(ce=>{clearTimeout(re),ce.ok?Gn(L,"TestPingServer: ok",!0,k):Gn(L,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(re),Gn(L,"TestPingServer: error",!1,k)})}function Gn(v,k,L,z,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),z(L)}catch{}}function O0(){this.g=new Ss}function ug(v,k,L){const z=L||"";try{jo(v,function(re,ce){let Te=re;f(re)&&(Te=Pi(re)),k.push(z+ce+"="+encodeURIComponent(Te))})}catch(re){throw k.push(z+"type="+encodeURIComponent("_badmap")),re}}function js(v){this.l=v.Ub||null,this.j=v.eb||!1}_(js,Je),js.prototype.g=function(){return new rc(this.l,this.j)},js.prototype.i=function(v){return function(){return v}}({});function rc(v,k){tt.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(rc,tt),t=rc.prototype,t.open=function(v,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,la(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dg(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function dg(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?oa(this):la(this),this.readyState==3&&dg(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,oa(this))},t.Qa=function(v){this.g&&(this.response=v,oa(this))},t.ga=function(){this.g&&oa(this)};function oa(v){v.readyState=4,v.l=null,v.j=null,v.v=null,la(v)}t.setRequestHeader=function(v,k){this.u.append(v,k)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var L=k.next();!L.done;)L=L.value,v.push(L[0]+": "+L[1]),L=k.next();return v.join(`\r
`)};function la(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function As(v){let k="";return R(v,function(L,z){k+=z,k+=":",k+=L,k+=`\r
`}),k}function ko(v,k,L){e:{for(z in L){var z=!1;break e}z=!0}z||(L=As(L),typeof v=="string"?L!=null&&encodeURIComponent(String(L)):Zt(v,k,L))}function vr(v){tt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(vr,tt);var R0=/^https?$/i,nh=["POST","PUT"];t=vr.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,k,L,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():na.g(),this.v=this.o?Ct(this.o):Ct(na),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(ce){nc(this,ce);return}if(v=L||"",L=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var re in z)L.set(re,z[re]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ce of z.keys())L.set(ce,z.get(ce));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(L.keys()).find(ce=>ce.toLowerCase()=="content-type"),re=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(nh,k,void 0))||z||re||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Te]of L)this.g.setRequestHeader(ce,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xu(this),this.u=!0,this.g.send(v),this.u=!1}catch(ce){nc(this,ce)}};function nc(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,yu(v),di(v)}function yu(v){v.A||(v.A=!0,bt(v,"complete"),bt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,bt(this,"complete"),bt(this,"abort"),di(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),vr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ih(this):this.bb())},t.bb=function(){ih(this)};function ih(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Kn(v)!=4||v.Z()!=2)){if(v.u&&Kn(v)==4)Hn(v.Ea,0,v);else if(bt(v,"readystatechange"),Kn(v)==4){v.h=!1;try{const Te=v.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var L;if(!(L=k)){var z;if(z=Te===0){var re=String(v.D).match(ec)[1]||null;!re&&l.self&&l.self.location&&(re=l.self.location.protocol.slice(0,-1)),z=!R0.test(re?re.toLowerCase():"")}L=z}if(L)bt(v,"complete"),bt(v,"success");else{v.m=6;try{var ce=2<Kn(v)?v.g.statusText:""}catch{ce=""}v.l=ce+" ["+v.Z()+"]",yu(v)}}finally{di(v)}}}}function di(v,k){if(v.g){xu(v);const L=v.g,z=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||bt(v,"ready");try{L.onreadystatechange=z}catch{}}}function xu(v){v.I&&(l.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function Kn(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&k.indexOf(v)==0&&(k=k.substring(v.length)),on(k)}};function ah(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function bu(v){const k={};v=(v.g&&2<=Kn(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<v.length;z++){if(A(v[z]))continue;var L=D(v[z]);const re=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ce=k[re]||[];k[re]=ce,ce.push(L)}C(k,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(v,k,L){return L&&L.internalChannelParams&&L.internalChannelParams[v]||k}function sh(v){this.Aa=0,this.i=[],this.j=new Yl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,v),this.cb=Va("retryDelaySeedMs",1e4,v),this.Wa=Va("forwardChannelMaxRetries",2,v),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Zl(v&&v.concurrentRequestLimit),this.Da=new O0,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sh.prototype,t.la=8,t.G=1,t.connect=function(v,k,L,z){gr(0),this.W=v,this.H=k||{},L&&z!==void 0&&(this.H.OSID=L,this.H.OAID=z),this.F=this.X,this.I=mg(this,null,this.W),Ba(this)};function cn(v){if(wu(v),v.G==3){var k=v.U++,L=ui(v.I);if(Zt(L,"SID",v.K),Zt(L,"RID",k),Zt(L,"TYPE","terminate"),Ns(v,L),k=new ia(v,v.j,k),k.L=2,k.v=To(ui(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!L&&l.Image&&(new Image().src=k.v,L=!0),L||(k.g=gg(k.j,null),k.g.ea(k.v)),k.F=Date.now(),nr(k)}pg(v)}function ca(v){v.g&&(oh(v),v.g.cancel(),v.g=null)}function wu(v){ca(v),v.u&&(l.clearTimeout(v.u),v.u=null),Eu(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function Ba(v){if(!ci(v.h)&&!v.s){v.s=!0;var k=v.Ga;Q||ee(),W||(Q(),W=!0),J.add(k,v),v.B=0}}function M0(v,k){return rg(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=k.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=ta(m(v.Ga,v,k),hg(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const re=new ia(this,this.j,v);let ce=this.o;if(this.S&&(ce?(ce=I(ce),F(ce,this.S)):ce=this.S),this.m!==null||this.O||(re.H=ce,ce=null),this.P)e:{for(var k=0,L=0;L<this.i.length;L++){t:{var z=this.i[L];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(k+=z,4096<k){k=L;break e}if(k===4096||L===this.i.length-1){k=L+1;break e}}k=1e3}else k=1e3;k=Io(this,re,k),L=ui(this.I),Zt(L,"RID",v),Zt(L,"CVER",22),this.D&&Zt(L,"X-HTTP-Session-Id",this.D),Ns(this,L),ce&&(this.O?k="headers="+encodeURIComponent(String(As(ce)))+"&"+k:this.m&&ko(L,this.m,ce)),th(this.h,re),this.Ua&&Zt(L,"TYPE","init"),this.P?(Zt(L,"$req",k),Zt(L,"SID","null"),re.T=!0,pu(re,L,null)):pu(re,L,k),this.G=2}}else this.G==3&&(v?_u(this,v):this.i.length==0||ci(this.h)||_u(this))};function _u(v,k){var L;k?L=k.l:L=v.U++;const z=ui(v.I);Zt(z,"SID",v.K),Zt(z,"RID",L),Zt(z,"AID",v.T),Ns(v,z),v.m&&v.o&&ko(z,v.m,v.o),L=new ia(v,v.j,L,v.B+1),v.m===null&&(L.H=v.o),k&&(v.i=k.D.concat(v.i)),k=Io(v,L,1e3),L.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),th(v.h,L),pu(L,z,k)}function Ns(v,k){v.H&&R(v.H,function(L,z){Zt(k,z,L)}),v.l&&jo({},function(L,z){Zt(k,z,L)})}function Io(v,k,L){L=Math.min(v.i.length,L);var z=v.l?m(v.l.Na,v.l,v):null;e:{var re=v.i;let ce=-1;for(;;){const Te=["count="+L];ce==-1?0<L?(ce=re[0].g,Te.push("ofs="+ce)):ce=0:Te.push("ofs="+ce);let Yt=!0;for(let Br=0;Br<L;Br++){let kt=re[Br].g;const Qr=re[Br].map;if(kt-=ce,0>kt)ce=Math.max(0,re[Br].g-100),Yt=!1;else try{ug(Qr,Te,"req"+kt+"_")}catch{z&&z(Qr)}}if(Yt){z=Te.join("&");break e}}}return v=v.i.splice(0,L),k.D=v,z}function ic(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;Q||ee(),W||(Q(),W=!0),J.add(k,v),v.v=0}}function Su(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=ta(m(v.Fa,v),hg(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,fg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=ta(m(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gr(10),ca(this),fg(this))};function oh(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function fg(v){v.g=new ia(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var k=ui(v.qa);Zt(k,"RID","rpc"),Zt(k,"SID",v.K),Zt(k,"AID",v.T),Zt(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&Zt(k,"TO",v.ja),Zt(k,"TYPE","xmlhttp"),Ns(v,k),v.m&&v.o&&ko(k,v.m,v.o),v.L&&(v.g.I=v.L);var L=v.g;v=v.ia,L.L=1,L.v=To(ui(k)),L.m=null,L.P=!0,Zf(L,v)}t.Za=function(){this.C!=null&&(this.C=null,ca(this),Su(this),gr(19))};function Eu(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function ju(v,k){var L=null;if(v.g==k){Eu(v),oh(v),v.g=null;var z=2}else if(In(v.h,k))L=k.D,ng(v.h,k),z=1;else return;if(v.G!=0){if(k.o)if(z==1){L=k.m?k.m.length:0,k=Date.now()-k.F;var re=v.B;z=vt(),bt(z,new li(z,L)),Ba(v)}else ic(v);else if(re=k.s,re==3||re==0&&0<k.X||!(z==1&&M0(v,k)||z==2&&Su(v)))switch(L&&0<L.length&&(k=v.h,k.i=k.i.concat(L)),re){case 1:Ts(v,5);break;case 4:Ts(v,10);break;case 3:Ts(v,6);break;default:Ts(v,2)}}}function hg(v,k){let L=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(L*=2),L*k}function Ts(v,k){if(v.j.info("Error code "+k),k==2){var L=m(v.fb,v),z=v.Xa;const re=!z;z=new Es(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||tc(z,"https"),To(z),re?I0(z.toString(),L):cg(z.toString(),L)}else gr(2);v.G=0,v.l&&v.l.sa(k),pg(v),wu(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),gr(2)):(this.j.info("Failed to ping google.com"),gr(1))};function pg(v){if(v.G=0,v.ka=[],v.l){const k=ig(v.h);(k.length!=0||v.i.length!=0)&&(x(v.ka,k),x(v.ka,v.i),v.h.i.length=0,b(v.i),v.i.length=0),v.l.ra()}}function mg(v,k,L){var z=L instanceof Es?ui(L):new Es(L);if(z.g!="")k&&(z.g=k+"."+z.g),Ao(z,z.s);else{var re=l.location;z=re.protocol,k=k?k+"."+re.hostname:re.hostname,re=+re.port;var ce=new Es(null);z&&tc(ce,z),k&&(ce.g=k),re&&Ao(ce,re),L&&(ce.l=L),z=ce}return L=v.D,k=v.ya,L&&k&&Zt(z,L,k),Zt(z,"VER",v.la),Ns(v,z),z}function gg(v,k,L){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=v.Ca&&!v.pa?new vr(new js({eb:L})):new vr(v.pa),k.Ha(v.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}t=lh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Au(){}Au.prototype.g=function(v,k){return new On(v,k)};function On(v,k){tt.call(this),this.g=new sh(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!A(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!A(k)&&(this.g.D=k,v=this.h,v!==null&&k in v&&(v=this.h,k in v&&delete v[k])),this.j=new Ua(this)}_(On,tt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){cn(this.g)},On.prototype.o=function(v){var k=this.g;if(typeof v=="string"){var L={};L.__data__=v,v=L}else this.u&&(L={},L.__data__=Pi(v),v=L);k.i.push(new tg(k.Ya++,v)),k.G==3&&Ba(k)},On.prototype.N=function(){this.g.l=null,delete this.j,cn(this.g),delete this.g,On.aa.N.call(this)};function vg(v){wr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const L in k){v=L;break e}v=void 0}(this.i=v)&&(v=this.i,k=k!==null&&v in k?k[v]:void 0),this.data=k}else this.data=v}_(vg,wr);function yg(){fe.call(this),this.status=1}_(yg,fe);function Ua(v){this.g=v}_(Ua,lh),Ua.prototype.ua=function(){bt(this.g,"a")},Ua.prototype.ta=function(v){bt(this.g,new vg(v))},Ua.prototype.sa=function(v){bt(this.g,new yg)},Ua.prototype.ra=function(){bt(this.g,"b")},Au.prototype.createWebChannel=Au.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,rU=function(){return new Au},tU=function(){return vt()},eU=ke,bA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fu.NO_ERROR=0,fu.TIMEOUT=8,fu.HTTP_ERROR=6,Zv=fu,Xm.COMPLETE="complete",ZB=Xm,Et.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Yh=Et,vr.prototype.listenOnce=vr.prototype.L,vr.prototype.getLastError=vr.prototype.Ka,vr.prototype.getLastErrorCode=vr.prototype.Ba,vr.prototype.getStatus=vr.prototype.Z,vr.prototype.getResponseJson=vr.prototype.Oa,vr.prototype.getResponseText=vr.prototype.oa,vr.prototype.send=vr.prototype.ea,vr.prototype.setWithCredentials=vr.prototype.Ha,JB=vr}).apply(typeof bv<"u"?bv:typeof self<"u"?self:typeof window<"u"?window:{});const uR="@firebase/firestore",dR="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new db("@firebase/firestore");function td(){return Hc.logLevel}function Re(t,...e){if(Hc.logLevel<=_t.DEBUG){const r=e.map(nP);Hc.debug(`Firestore (${Cf}): ${t}`,...r)}}function oo(t,...e){if(Hc.logLevel<=_t.ERROR){const r=e.map(nP);Hc.error(`Firestore (${Cf}): ${t}`,...r)}}function Fd(t,...e){if(Hc.logLevel<=_t.WARN){const r=e.map(nP);Hc.warn(`Firestore (${Cf}): ${t}`,...r)}}function nP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t="Unexpected state"){const e=`FIRESTORE (${Cf}) INTERNAL ASSERTION FAILED: `+t;throw oo(e),new Error(e)}function Gt(t,e){t||nt()}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ra{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Aae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(jn.UNAUTHENTICATED))}shutdown(){}}class Nae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Tae{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Gt(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let a=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xs)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Gt(typeof n.accessToken=="string"),new nU(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new jn(e)}}class Pae{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Cae{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new Pae(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kae{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Gt(this.o===void 0);const n=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Gt(typeof r.token=="string"),this.R=r.token,new fR(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Iae(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function xt(t,e){return t<e?-1:t>e?1:0}function wA(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return xt(n,i);{const a=iU(),s=Oae(a.encode(hR(t,r)),a.encode(hR(e,r)));return s!==0?s:xt(n,i)}}r+=n>65535?2:1}return xt(t.length,e.length)}function hR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Oae(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return xt(t[r],e[r]);return xt(t.length,e.length)}function Vd(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=-62135596800,mR=1e6;class er{static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*mR);return new er(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<pR)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mR}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-pR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(e){return new ct(e)}static min(){return new ct(new er(0,0))}static max(){return new ct(new er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="__name__";class Ya{constructor(e,r,n){r===void 0?r=0:r>e.length&&nt(),n===void 0?n=e.length-r:n>e.length-r&&nt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Ya.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return xt(e.length,r.length)}static compareSegments(e,r){const n=Ya.isNumericId(e),i=Ya.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ya.extractNumericId(e).compare(Ya.extractNumericId(r)):wA(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xl.fromString(e.substring(4,e.length-2))}}class mr extends Ya{construct(e,r,n){return new mr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Oe(he.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new mr(r)}static emptyPath(){return new mr([])}}const Rae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Ya{construct(e,r,n){return new pn(e,r,n)}static isValidIdentifier(e){return Rae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gR}static keyField(){return new pn([gR])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Oe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Oe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Oe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(a(),i++)}if(a(),s)throw new Oe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(r)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(mr.fromString(e))}static fromName(e){return new Ke(mr.fromString(e).popFirst(5))}static empty(){return new Ke(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return mr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new mr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function Mae(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(n===1e9?new er(r+1,0):new er(r,n));return new Tl(i,Ke.empty(),e)}function Dae(t){return new Tl(t.readTime,t.key,Op)}class Tl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Tl(ct.min(),Ke.empty(),Op)}static max(){return new Tl(ct.max(),Ke.empty(),Op)}}function Lae(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ke.comparator(t.documentKey,e.documentKey),r!==0?r:xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==$ae)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,n)=>{r(e)})}static reject(e){return new pe((r,n)=>{n(e)})}static waitFor(e){return new pe((r,n)=>{let i=0,a=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++a,s&&a===i&&r()},u=>n(u))}),s=!0,a===i&&r()})}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next(i=>i?pe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new pe((n,i)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const f=u;r(e[f]).next(h=>{s[f]=h,++l,l===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new pe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function Vae(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function If(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}vb.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=-1;function yb(t){return t==null}function Py(t){return t===0&&1/t==-1/0}function Bae(t){return typeof t=="number"&&Number.isInteger(t)&&!Py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="";function Uae(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=vR(e)),e=zae(t.get(r),e);return vR(e)}function zae(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case sU:r+="";break;default:r+=a}}return r}function vR(t){return t+sU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Vl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function oU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,r){this.comparator=e,this.root=r||hn.EMPTY}insert(e,r){return new jr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wv(this.root,e,this.comparator,!1)}getReverseIterator(){return new wv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wv(this.root,e,this.comparator,!0)}}class wv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??hn.RED,this.left=i??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new hn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return hn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(e,r,n,i,a){return this}insert(e,r,n){return new hn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new xR(this.data.getIterator())}getIteratorFrom(e){return new xR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Kr(this.comparator);return r.data=e,r}}class xR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Si([])}unionWith(e){let r=new Kr(pn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Si(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new lU("Invalid base64 string: "+a):a}}(e);return new mn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new mn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const qae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pl(t){if(Gt(!!t),typeof t=="string"){let e=0;const r=qae.exec(t);if(Gt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:kr(t.seconds),nanos:kr(t.nanos)}}function kr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cl(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="server_timestamp",uU="__type__",dU="__previous_value__",fU="__local_write_time__";function aP(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uU])===null||r===void 0?void 0:r.stringValue)===cU}function xb(t){const e=t.mapValue.fields[dU];return aP(e)?xb(e):e}function Rp(t){const e=Pl(t.mapValue.fields[fU].timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(e,r,n,i,a,s,l,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f}}const Cy="(default)";class Mp{constructor(e,r){this.projectId=e,this.database=r||Cy}static empty(){return new Mp("","")}get isDefaultDatabase(){return this.database===Cy}isEqual(e){return e instanceof Mp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="__type__",Wae="__max__",_v={mapValue:{}},pU="__vector__",ky="value";function kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aP(t)?4:Kae(t)?9007199254740991:Gae(t)?10:11:nt()}function ps(t,e){if(t===e)return!0;const r=kl(t);if(r!==kl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rp(t).isEqual(Rp(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Pl(i.timestampValue),l=Pl(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Cl(i.bytesValue).isEqual(Cl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return kr(i.geoPointValue.latitude)===kr(a.geoPointValue.latitude)&&kr(i.geoPointValue.longitude)===kr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return kr(i.integerValue)===kr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=kr(i.doubleValue),l=kr(a.doubleValue);return s===l?Py(s)===Py(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Vd(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(yR(s)!==yR(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!ps(s[u],l[u])))return!1;return!0}(t,e);default:return nt()}}function Dp(t,e){return(t.values||[]).find(r=>ps(r,e))!==void 0}function Bd(t,e){if(t===e)return 0;const r=kl(t),n=kl(e);if(r!==n)return xt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=kr(a.integerValue||a.doubleValue),u=kr(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return bR(t.timestampValue,e.timestampValue);case 4:return bR(Rp(t),Rp(e));case 5:return wA(t.stringValue,e.stringValue);case 6:return function(a,s){const l=Cl(a),u=Cl(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),u=s.split("/");for(let f=0;f<l.length&&f<u.length;f++){const h=xt(l[f],u[f]);if(h!==0)return h}return xt(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=xt(kr(a.latitude),kr(s.latitude));return l!==0?l:xt(kr(a.longitude),kr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wR(t.arrayValue,e.arrayValue);case 10:return function(a,s){var l,u,f,h;const p=a.fields||{},m=s.fields||{},y=(l=p[ky])===null||l===void 0?void 0:l.arrayValue,_=(u=m[ky])===null||u===void 0?void 0:u.arrayValue,b=xt(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:wR(y,_)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===_v.mapValue&&s===_v.mapValue)return 0;if(a===_v.mapValue)return 1;if(s===_v.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),f=s.fields||{},h=Object.keys(f);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const m=wA(u[p],h[p]);if(m!==0)return m;const y=Bd(l[u[p]],f[h[p]]);if(y!==0)return y}return xt(u.length,h.length)}(t.mapValue,e.mapValue);default:throw nt()}}function bR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xt(t,e);const r=Pl(t),n=Pl(e),i=xt(r.seconds,n.seconds);return i!==0?i:xt(r.nanos,n.nanos)}function wR(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Bd(r[i],n[i]);if(a)return a}return xt(r.length,n.length)}function Ud(t){return _A(t)}function _A(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Pl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Cl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ke.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=_A(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${_A(r.fields[s])}`;return i+"}"}(t.mapValue):nt()}function ey(t){switch(kl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xb(t);return e?16+ey(e):16;case 5:return 2*t.stringValue.length;case 6:return Cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+ey(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Vl(n.fields,(a,s)=>{i+=a.length+ey(s)}),i}(t.mapValue);default:throw nt()}}function _R(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function SA(t){return!!t&&"integerValue"in t}function sP(t){return!!t&&"arrayValue"in t}function SR(t){return!!t&&"nullValue"in t}function ER(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ty(t){return!!t&&"mapValue"in t}function Gae(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hU])===null||r===void 0?void 0:r.stringValue)===pU}function cp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=cp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=cp(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Kae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Wae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ty(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=cp(r)}setAll(e){let r=pn.emptyPath(),n={},i=[];e.forEach((s,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=cp(s):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());ty(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ty(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Vl(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ii(cp(this.value))}}function mU(t){const e=[];return Vl(t.fields,(r,n)=>{const i=new pn([r]);if(ty(n)){const a=mU(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,r,n,i,a,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new An(e,0,ct.min(),ct.min(),ct.min(),ii.empty(),0)}static newFoundDocument(e,r,n,i){return new An(e,1,r,ct.min(),n,i,0)}static newNoDocument(e,r){return new An(e,2,r,ct.min(),ct.min(),ii.empty(),0)}static newUnknownDocument(e,r){return new An(e,3,r,ct.min(),ct.min(),ii.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,r){this.position=e,this.inclusive=r}}function jR(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Ke.comparator(Ke.fromName(s.referenceValue),r.key):n=Bd(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function AR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ps(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,r="asc"){this.field=e,this.dir=r}}function Yae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{}class Lr extends gU{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Xae(e,r,n):r==="array-contains"?new ese(e,n):r==="in"?new tse(e,n):r==="not-in"?new rse(e,n):r==="array-contains-any"?new nse(e,n):new Lr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Jae(e,n):new Zae(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Bd(r,this.value)):r!==null&&kl(this.value)===kl(r)&&this.matchesComparison(Bd(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ia extends gU{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Ia(e,r)}matches(e){return vU(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function vU(t){return t.op==="and"}function yU(t){return Qae(t)&&vU(t)}function Qae(t){for(const e of t.filters)if(e instanceof Ia)return!1;return!0}function EA(t){if(t instanceof Lr)return t.field.canonicalString()+t.op.toString()+Ud(t.value);if(yU(t))return t.filters.map(e=>EA(e)).join(",");{const e=t.filters.map(r=>EA(r)).join(",");return`${t.op}(${e})`}}function xU(t,e){return t instanceof Lr?function(n,i){return i instanceof Lr&&n.op===i.op&&n.field.isEqual(i.field)&&ps(n.value,i.value)}(t,e):t instanceof Ia?function(n,i){return i instanceof Ia&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,l)=>a&&xU(s,i.filters[l]),!0):!1}(t,e):void nt()}function bU(t){return t instanceof Lr?function(r){return`${r.field.canonicalString()} ${r.op} ${Ud(r.value)}`}(t):t instanceof Ia?function(r){return r.op.toString()+" {"+r.getFilters().map(bU).join(" ,")+"}"}(t):"Filter"}class Xae extends Lr{constructor(e,r,n){super(e,r,n),this.key=Ke.fromName(n.referenceValue)}matches(e){const r=Ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class Jae extends Lr{constructor(e,r){super(e,"in",r),this.keys=wU("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Zae extends Lr{constructor(e,r){super(e,"not-in",r),this.keys=wU("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function wU(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ke.fromName(n.referenceValue))}class ese extends Lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return sP(r)&&Dp(r.arrayValue,this.value)}}class tse extends Lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Dp(this.value.arrayValue,r)}}class rse extends Lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Dp(this.value.arrayValue,r)}}class nse extends Lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!sP(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Dp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e,r=null,n=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.le=null}}function NR(t,e=null,r=[],n=[],i=null,a=null,s=null){return new ise(t,e,r,n,i,a,s)}function oP(t){const e=ut(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>EA(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),yb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ud(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ud(n)).join(",")),e.le=r}return e.le}function lP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Yae(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!xU(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AR(t.startAt,e.startAt)&&AR(t.endAt,e.endAt)}function jA(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,r=null,n=[],i=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ase(t,e,r,n,i,a,s,l){return new Of(t,e,r,n,i,a,s,l)}function bb(t){return new Of(t)}function TR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _U(t){return t.collectionGroup!==null}function up(t){const e=ut(t);if(e.he===null){e.he=[];const r=new Set;for(const a of e.explicitOrderBy)e.he.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Kr(pn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.he.push(new Lp(a,n))}),r.has(pn.keyField().canonicalString())||e.he.push(new Lp(pn.keyField(),n))}return e.he}function ls(t){const e=ut(t);return e.Pe||(e.Pe=sse(e,up(t))),e.Pe}function sse(t,e){if(t.limitType==="F")return NR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Lp(i.field,a)});const r=t.endAt?new Iy(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Iy(t.startAt.position,t.startAt.inclusive):null;return NR(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function AA(t,e){const r=t.filters.concat([e]);return new Of(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Oy(t,e,r){return new Of(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function wb(t,e){return lP(ls(t),ls(e))&&t.limitType===e.limitType}function SU(t){return`${oP(ls(t))}|lt:${t.limitType}`}function rd(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>bU(i)).join(", ")}]`),yb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ud(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ud(i)).join(",")),`Target(${n})`}(ls(t))}; limitType=${t.limitType})`}function _b(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ke.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of up(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,l,u){const f=jR(s,l,u);return s.inclusive?f<=0:f<0}(n.startAt,up(n),i)||n.endAt&&!function(s,l,u){const f=jR(s,l,u);return s.inclusive?f>=0:f>0}(n.endAt,up(n),i))}(t,e)}function ose(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EU(t){return(e,r)=>{let n=!1;for(const i of up(t)){const a=lse(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function lse(t,e,r){const n=t.field.isKeyField()?Ke.comparator(e.key,r.key):function(a,s,l){const u=s.data.field(a),f=l.data.field(a);return u!==null&&f!==null?Bd(u,f):nt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return oU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cse=new jr(Ke.comparator);function lo(){return cse}const jU=new jr(Ke.comparator);function Qh(...t){let e=jU;for(const r of t)e=e.insert(r.key,r);return e}function AU(t){let e=jU;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Nc(){return dp()}function NU(){return dp()}function dp(){return new nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const use=new jr(Ke.comparator),dse=new Kr(Ke.comparator);function St(...t){let e=dse;for(const r of t)e=e.add(r);return e}const fse=new Kr(xt);function hse(){return fse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Py(e)?"-0":e}}function TU(t){return{integerValue:""+t}}function pse(t,e){return Bae(e)?TU(e):cP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this._=void 0}}function mse(t,e,r){return t instanceof $p?function(i,a){const s={fields:{[uU]:{stringValue:cU},[fU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&aP(a)&&(a=xb(a)),a&&(s.fields[dU]=a),{mapValue:s}}(r,e):t instanceof zd?CU(t,e):t instanceof Fp?kU(t,e):function(i,a){const s=PU(i,a),l=PR(s)+PR(i.Ie);return SA(s)&&SA(i.Ie)?TU(l):cP(i.serializer,l)}(t,e)}function gse(t,e,r){return t instanceof zd?CU(t,e):t instanceof Fp?kU(t,e):r}function PU(t,e){return t instanceof Ry?function(n){return SA(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class $p extends Sb{}class zd extends Sb{constructor(e){super(),this.elements=e}}function CU(t,e){const r=IU(e);for(const n of t.elements)r.some(i=>ps(i,n))||r.push(n);return{arrayValue:{values:r}}}class Fp extends Sb{constructor(e){super(),this.elements=e}}function kU(t,e){let r=IU(e);for(const n of t.elements)r=r.filter(i=>!ps(i,n));return{arrayValue:{values:r}}}class Ry extends Sb{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function PR(t){return kr(t.integerValue||t.doubleValue)}function IU(t){return sP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,r){this.field=e,this.transform=r}}function vse(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof zd&&i instanceof zd||n instanceof Fp&&i instanceof Fp?Vd(n.elements,i.elements,ps):n instanceof Ry&&i instanceof Ry?ps(n.Ie,i.Ie):n instanceof $p&&i instanceof $p}(t.transform,e.transform)}class yse{constructor(e,r){this.version=e,this.transformResults=r}}class Aa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Aa}static exists(e){return new Aa(void 0,e)}static updateTime(e){return new Aa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ry(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eb{}function RU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DU(t.key,Aa.none()):new Dm(t.key,t.data,Aa.none());{const r=t.data,n=ii.empty();let i=new Kr(pn.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Bl(t.key,n,new Si(i.toArray()),Aa.none())}}function xse(t,e,r){t instanceof Dm?function(i,a,s){const l=i.value.clone(),u=kR(i.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Bl?function(i,a,s){if(!ry(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=kR(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(MU(i)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function fp(t,e,r,n){return t instanceof Dm?function(a,s,l,u){if(!ry(a.precondition,s))return l;const f=a.value.clone(),h=IR(a.fieldTransforms,u,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Bl?function(a,s,l,u){if(!ry(a.precondition,s))return l;const f=IR(a.fieldTransforms,u,s),h=s.data;return h.setAll(MU(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(a,s,l){return ry(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,r)}function bse(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=PU(n.transform,i||null);a!=null&&(r===null&&(r=ii.empty()),r.set(n.field,a))}return r||null}function CR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vd(n,i,(a,s)=>vse(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dm extends Eb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bl extends Eb{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MU(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function kR(t,e,r){const n=new Map;Gt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);n.set(a.field,gse(s,l,r[i]))}return n}function IR(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,mse(a,s,e))}return n}class DU extends Eb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wse extends Eb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xse(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=fp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=fp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=NU();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=r.has(i.key)?null:l;const u=RU(s,l);u!==null&&n.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ct.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),St())}isEqual(e){return this.batchId===e.batchId&&Vd(this.mutations,e.mutations,(r,n)=>CR(r,n))&&Vd(this.baseMutations,e.baseMutations,(r,n)=>CR(r,n))}}class uP{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Gt(e.mutations.length===n.length);let i=function(){return use}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new uP(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sse=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,It;function jse(t){switch(t){case he.OK:return nt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return nt()}}function LU(t){if(t===void 0)return oo("GRPC error has no .code"),he.UNKNOWN;switch(t){case Mr.OK:return he.OK;case Mr.CANCELLED:return he.CANCELLED;case Mr.UNKNOWN:return he.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return he.INTERNAL;case Mr.UNAVAILABLE:return he.UNAVAILABLE;case Mr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Mr.NOT_FOUND:return he.NOT_FOUND;case Mr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Mr.ABORTED:return he.ABORTED;case Mr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Mr.DATA_LOSS:return he.DATA_LOSS;default:return nt()}}(It=Mr||(Mr={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ase=new xl([4294967295,4294967295],0);function OR(t){const e=iU().encode(t),r=new XB;return r.update(e),new Uint8Array(r.digest())}function RR(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xl([r,n],0),new xl([i,a],0)]}class dP{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Xh(`Invalid padding: ${r}`);if(n<0)throw new Xh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Xh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Xh(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=xl.fromNumber(this.Ee)}Ae(e,r,n){let i=e.add(r.multiply(xl.fromNumber(n)));return i.compare(Ase)===1&&(i=new xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=OR(e),[n,i]=RR(r);for(let a=0;a<this.hashCount;a++){const s=this.Ae(n,i,a);if(!this.Re(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new dP(a,i,r);return n.forEach(l=>s.insert(l)),s}insert(e){if(this.Ee===0)return;const r=OR(e),[n,i]=RR(r);for(let a=0;a<this.hashCount;a++){const s=this.Ae(n,i,a);this.Ve(s)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Xh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Lm.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new jb(ct.min(),i,new jr(xt),lo(),St())}}class Lm{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Lm(n,r,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,r,n,i){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=i}}class $U{constructor(e,r){this.targetId=e,this.ge=r}}class FU{constructor(e,r,n=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class MR{constructor(){this.pe=0,this.ye=DR(),this.we=mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=St(),r=St(),n=St();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:nt()}}),new Lm(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=DR()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Nse{constructor(e){this.ke=e,this.qe=new Map,this.Qe=lo(),this.$e=Sv(),this.Ue=Sv(),this.Ke=new jr(xt)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:nt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((n,i)=>{this.Je(i)&&r(i)})}Ze(e){const r=e.targetId,n=e.ge.count,i=this.Xe(r);if(i){const a=i.target;if(jA(a))if(n===0){const s=new Ke(a.path);this.ze(r,s,An.newNoDocument(s,ct.min()))}else Gt(n===1);else{const s=this.et(r);if(s!==n){const l=this.tt(e),u=l?this.nt(l,e,s):1;if(u!==0){this.Ye(r);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,f)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,l;try{s=Cl(n).toUint8Array()}catch(u){if(u instanceof lU)return Fd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new dP(s,i,a)}catch(u){return Fd(u instanceof Xh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.ke.it(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.ze(r,a,null),i++)}),i}ot(e){const r=new Map;this.qe.forEach((a,s)=>{const l=this.Xe(s);if(l){if(a.current&&jA(l.target)){const u=new Ke(l.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,An.newNoDocument(u,e))}a.ve&&(r.set(s,a.Fe()),a.Me())}});let n=St();this.Ue.forEach((a,s)=>{let l=!0;s.forEachWhile(u=>{const f=this.Xe(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.Qe.forEach((a,s)=>s.setReadTime(e));const i=new jb(e,r,this.Ke,this.Qe,n);return this.Qe=lo(),this.$e=Sv(),this.Ue=Sv(),this.Ke=new jr(xt),i}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new MR,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new Kr(xt),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new Kr(xt),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||Re("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new MR),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function Sv(){return new jr(Ke.comparator)}function DR(){return new jr(Ke.comparator)}const Tse={asc:"ASCENDING",desc:"DESCENDING"},Pse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cse={and:"AND",or:"OR"};class kse{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function NA(t,e){return t.useProto3Json||yb(e)?e:{value:e}}function My(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ise(t,e){return My(t,e.toTimestamp())}function cs(t){return Gt(!!t),ct.fromTimestamp(function(r){const n=Pl(r);return new er(n.seconds,n.nanos)}(t))}function fP(t,e){return TA(t,e).canonicalString()}function TA(t,e){const r=function(i){return new mr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function BU(t){const e=mr.fromString(t);return Gt(WU(e)),e}function PA(t,e){return fP(t.databaseId,e.path)}function N_(t,e){const r=BU(e);if(r.get(1)!==t.databaseId.projectId)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ke(zU(r))}function UU(t,e){return fP(t.databaseId,e)}function Ose(t){const e=BU(t);return e.length===4?mr.emptyPath():zU(e)}function CA(t){return new mr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zU(t){return Gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LR(t,e,r){return{name:PA(t,e),fields:r.value.mapValue.fields}}function Rse(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(Gt(h===void 0||typeof h=="string"),mn.fromBase64String(h||"")):(Gt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(f){const h=f.code===void 0?he.UNKNOWN:LU(f.code);return new Oe(h,f.message||"")}(s);r=new FU(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=N_(t,n.document.name),a=cs(n.document.updateTime),s=n.document.createTime?cs(n.document.createTime):ct.min(),l=new ii({mapValue:{fields:n.document.fields}}),u=An.newFoundDocument(i,a,s,l),f=n.targetIds||[],h=n.removedTargetIds||[];r=new ny(f,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=N_(t,n.document),a=n.readTime?cs(n.readTime):ct.min(),s=An.newNoDocument(i,a),l=n.removedTargetIds||[];r=new ny([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=N_(t,n.document),a=n.removedTargetIds||[];r=new ny([],a,i,null)}else{if(!("filter"in e))return nt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new Ese(i,a),l=n.targetId;r=new $U(l,s)}}return r}function Mse(t,e){let r;if(e instanceof Dm)r={update:LR(t,e.key,e.value)};else if(e instanceof DU)r={delete:PA(t,e.key)};else if(e instanceof Bl)r={update:LR(t,e.key,e.data),updateMask:qse(e.fieldMask)};else{if(!(e instanceof wse))return nt();r={verify:PA(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const l=s.transform;if(l instanceof $p)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ry)return{fieldPath:s.field.canonicalString(),increment:l.Ie};throw nt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Ise(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:nt()}(t,e.precondition)),r}function Dse(t,e){return t&&t.length>0?(Gt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?cs(i.updateTime):cs(a);return s.isEqual(ct.min())&&(s=cs(a)),new yse(s,i.transformResults||[])}(r,e))):[]}function Lse(t,e){return{documents:[UU(t,e.path)]}}function $se(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=UU(t,i);const a=function(f){if(f.length!==0)return HU(Ia.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(h=>function(m){return{field:nd(m.field),direction:Bse(m.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=NA(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:r,parent:i}}function Fse(t){let e=Ose(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Gt(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(p){const m=qU(p);return m instanceof Ia&&yU(m)?m.getFilters():[m]}(r.where));let s=[];r.orderBy&&(s=function(p){return p.map(m=>function(_){return new Lp(id(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(r.orderBy));let l=null;r.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,yb(m)?null:m}(r.limit));let u=null;r.startAt&&(u=function(p){const m=!!p.before,y=p.values||[];return new Iy(y,m)}(r.startAt));let f=null;return r.endAt&&(f=function(p){const m=!p.before,y=p.values||[];return new Iy(y,m)}(r.endAt)),ase(e,i,s,a,l,"F",u,f)}function Vse(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function qU(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=id(r.unaryFilter.field);return Lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=id(r.unaryFilter.field);return Lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=id(r.unaryFilter.field);return Lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=id(r.unaryFilter.field);return Lr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(t):t.fieldFilter!==void 0?function(r){return Lr.create(id(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Ia.create(r.compositeFilter.filters.map(n=>qU(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt()}}(r.compositeFilter.op))}(t):nt()}function Bse(t){return Tse[t]}function Use(t){return Pse[t]}function zse(t){return Cse[t]}function nd(t){return{fieldPath:t.canonicalString()}}function id(t){return pn.fromServerFormat(t.fieldPath)}function HU(t){return t instanceof Lr?function(r){if(r.op==="=="){if(ER(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NAN"}};if(SR(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ER(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NOT_NAN"}};if(SR(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(r.field),op:Use(r.op),value:r.value}}}(t):t instanceof Ia?function(r){const n=r.getFilters().map(i=>HU(i));return n.length===1?n[0]:{compositeFilter:{op:zse(r.op),filters:n}}}(t):nt()}function qse(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function WU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,r,n,i,a=ct.min(),s=ct.min(),l=mn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{constructor(e){this.Tt=e}}function Wse(t){const e=Fse({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse{constructor(){this.Tn=new Kse}addToCollectionParentIndex(e,r){return this.Tn.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(Tl.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(Tl.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class Kse{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Kr(mr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Kr(mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GU=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(GU,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new qd(0)}static Kn(){return new qd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="LruGarbageCollector",Yse=1048576;function VR([t,e],[r,n]){const i=xt(t,r);return i===0?xt(e,n):i}class Qse{constructor(e){this.Hn=e,this.buffer=new Kr(VR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();VR(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Xse{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(FR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){If(r)?Re(FR,"Ignoring IndexedDB error during garbage collection: ",r):await kf(r)}await this.er(3e5)})}}class Jse{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return pe.resolve(vb.ae);const n=new Qse(r);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve($R)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$R):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,i,a,s,l,u,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(n=p,l=Date.now(),this.removeTargets(e,n,r))).next(p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(p=>(f=Date.now(),td()<=_t.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-h}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p})))}}function Zse(t,e){return new Jse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(){this.changes=new nu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class toe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&fp(n.mutation,i,Si.empty(),er.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,St()).next(()=>n))}getLocalViewOfDocuments(e,r,n=St()){const i=Nc();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Qh();return a.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Nc();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,St()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,l)=>{r.set(s,l)})})}computeViews(e,r,n,i){let a=lo();const s=dp(),l=function(){return dp()}();return r.forEach((u,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Bl)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),fp(h.mutation,f,h.mutation.getFieldMask(),er.now())):s.set(f.key,Si.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var p;return l.set(f,new toe(h,(p=s.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,r){const n=dp();let i=new jr((s,l)=>s-l),a=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const l of s)l.keys().forEach(u=>{const f=r.get(u);if(f===null)return;let h=n.get(u)||Si.empty();h=l.applyToLocalView(f,h),n.set(u,h);const p=(i.get(l.batchId)||St()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,h=u.value,p=NU();h.forEach(m=>{if(!a.has(m)){const y=RU(r.get(m),n.get(m));y!==null&&p.set(m,y),a=a.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return pe.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Ke.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):_U(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):pe.resolve(Nc());let l=Op,u=a;return s.next(f=>pe.forEach(f,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?pe.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,u,f,St())).next(h=>({batchId:l,changes:AU(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ke(r)).next(n=>{let i=Qh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Qh();return this.indexManager.getCollectionParents(e,a).next(l=>pe.forEach(l,u=>{const f=function(p,m){return new Of(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((u,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,An.newInvalidDocument(h)))});let l=Qh();return s.forEach((u,f)=>{const h=a.get(u);h!==void 0&&fp(h.mutation,f,Si.empty(),er.now()),_b(r,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return pe.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:cs(i.createTime)}}(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:Wse(i.bundledQuery),readTime:cs(i.readTime)}}(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(){this.overlays=new jr(Ke.comparator),this.Rr=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Nc();return pe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.Et(e,r,a)}),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=Nc(),a=r.length+1,s=new Ke(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>n&&i.set(u.getKey(),u)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new jr((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=Nc(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Nc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return pe.resolve(l)}Et(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Sse(r,n));let a=this.Rr.get(r);a===void 0&&(a=St(),this.Rr.set(r,a)),this.Rr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Vr=new Kr(en.mr),this.gr=new Kr(en.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new en(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.wr(new en(e,r))}Sr(e,r){e.forEach(n=>this.removeReference(n,r))}br(e){const r=new Ke(new mr([])),n=new en(r,e),i=new en(r,e+1),a=[];return this.gr.forEachInRange([n,i],s=>{this.wr(s),a.push(s.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new Ke(new mr([])),n=new en(r,e),i=new en(r,e+1);let a=St();return this.gr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new en(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class en{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return Ke.comparator(e.key,r.key)||xt(e.Cr,r.Cr)}static pr(e,r){return xt(e.Cr,r.Cr)||Ke.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Kr(en.mr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new _se(a,r,n,i);this.mutationQueue.push(s);for(const l of i)this.Mr=this.Mr.add(new en(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,r){return pe.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Nr(n),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?iP:this.Fr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new en(r,0),i=new en(r,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,i],s=>{const l=this.Or(s.Cr);a.push(l)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Kr(xt);return r.forEach(i=>{const a=new en(i,0),s=new en(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,s],l=>{n=n.add(l.Cr)})}),pe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Ke.isDocumentKey(a)||(a=a.child(""));const s=new en(new Ke(a),0);let l=new Kr(xt);return this.Mr.forEachWhile(u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Cr)),!0)},s),pe.resolve(this.Br(l))}Br(e){const r=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Gt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return pe.forEach(r.mutations,i=>{const a=new en(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,r){const n=new en(r,0),i=this.Mr.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e){this.kr=e,this.docs=function(){return new jr(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():An.newInvalidDocument(r))}getEntries(e,r){let n=lo();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():An.newInvalidDocument(i))}),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=lo();const s=r.path,l=new Ke(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:h}}=u.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||Lae(Dae(h),n)<=0||(i.has(h.key)||_b(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){nt()}qr(e,r){return pe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new loe(this)}getSize(e){return pe.resolve(this.size)}}class loe extends eoe{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),pe.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class coe{constructor(e){this.persistence=e,this.Qr=new nu(r=>oP(r),lP),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.$r=0,this.Ur=new hP,this.targetCount=0,this.Kr=qd.Un()}forEachTarget(e,r){return this.Qr.forEach((n,i)=>r(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),pe.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new qd(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.zn(r),pe.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Qr.forEach((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Qr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new vb(0),this.zr=!1,this.zr=!0,this.jr=new aoe,this.referenceDelegate=e(this),this.Hr=new coe(this),this.indexManager=new Gse,this.remoteDocumentCache=function(i){return new ooe(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new Hse(r),this.Yr=new noe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ioe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new soe(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){Re("MemoryPersistence","Starting transaction:",e);const i=new uoe(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,r){return pe.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,r)))}}class uoe extends Fae{constructor(e){super(),this.currentSequenceNumber=e}}class pP{constructor(e){this.persistence=e,this.ti=new hP,this.ni=null}static ri(e){return new pP(e)}get ii(){if(this.ni)return this.ni;throw nt()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),pe.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ii,n=>{const i=Ke.fromPath(n);return this.si(e,i).next(a=>{a||r.removeEntry(i,ct.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return pe.or([()=>pe.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class Dy{constructor(e,r){this.persistence=e,this.oi=new nu(n=>Uae(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Zse(this,r)}static ri(e,r){return new Dy(e,r)}Zr(){}Xr(e){return pe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}rr(e,r){return pe.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(a=>a?pe.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,r).next(l=>{l||(n++,a.removeEntry(s,ct.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),pe.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ey(e.data.value)),r}ar(e,r,n){return pe.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.oi.get(r);return pe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=i}static Yi(e,r){let n=St(),i=St();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mP(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class doe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return jee()?8:Vae(Pn())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.rs(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ss(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new doe;return this._s(e,r,s).next(l=>{if(a.result=l,this.Xi)return this.us(e,r,s,l.size)})}).next(()=>a.result)}us(e,r,n,i){return n.documentReadCount<this.es?(td()<=_t.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",rd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pe.resolve()):(td()<=_t.DEBUG&&Re("QueryEngine","Query:",rd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(td()<=_t.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",rd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(r))):pe.resolve())}rs(e,r){if(TR(r))return pe.resolve(null);let n=ls(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Oy(r,null,"F"),n=ls(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=St(...a);return this.ns.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const f=this.cs(r,l);return this.ls(r,f,s,u.readTime)?this.rs(e,Oy(r,null,"F")):this.hs(e,f,r,u)}))})))}ss(e,r,n,i){return TR(r)||i.isEqual(ct.min())?pe.resolve(null):this.ns.getDocuments(e,n).next(a=>{const s=this.cs(r,a);return this.ls(r,s,n,i)?pe.resolve(null):(td()<=_t.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rd(r)),this.hs(e,s,r,Mae(i,Op)).next(l=>l))})}cs(e,r){let n=new Kr(EU(e));return r.forEach((i,a)=>{_b(e,a)&&(n=n.add(a))}),n}ls(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,r,n){return td()<=_t.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",rd(r)),this.ns.getDocumentsMatchingQuery(e,r,Tl.min(),n)}hs(e,r,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="LocalStore",hoe=3e8;class poe{constructor(e,r,n,i){this.persistence=e,this.Ps=r,this.serializer=i,this.Ts=new jr(xt),this.Is=new nu(a=>oP(a),lP),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new roe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function moe(t,e,r,n){return new poe(t,e,r,n)}async function YU(t,e){const r=ut(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.As(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],l=[];let u=St();for(const f of i){s.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}return r.localDocuments.getDocuments(n,u).next(f=>({Rs:f,removedBatchIds:s,addedBatchIds:l}))})})}function goe(t,e){const r=ut(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,f,h){const p=f.batch,m=p.keys();let y=pe.resolve();return m.forEach(_=>{y=y.next(()=>h.getEntry(u,_)).next(b=>{const x=f.docVersions.get(_);Gt(x!==null),b.version.compareTo(x)<0&&(p.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),h.addEntry(b)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=St();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function QU(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function voe(t,e){const r=ut(t),n=e.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const l=[];e.targetChanges.forEach((h,p)=>{const m=i.get(p);if(!m)return;l.push(r.Hr.removeMatchingKeys(a,h.removedDocuments,p).next(()=>r.Hr.addMatchingKeys(a,h.addedDocuments,p)));let y=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(mn.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,n)),i=i.insert(p,y),function(b,x,N){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=hoe?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,y,h)&&l.push(r.Hr.updateTargetData(a,y))});let u=lo(),f=St();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(yoe(a,s,e.documentUpdates).next(h=>{u=h.Vs,f=h.fs})),!n.isEqual(ct.min())){const h=r.Hr.getLastRemoteSnapshotVersion(a).next(p=>r.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(h)}return pe.waitFor(l).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,u,f)).next(()=>u)}).then(a=>(r.Ts=i,a))}function yoe(t,e,r){let n=St(),i=St();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=lo();return r.forEach((l,u)=>{const f=a.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ct.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Re(gP,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function xoe(t,e){const r=ut(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=iP),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function boe(t,e){const r=ut(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Hr.getTargetData(n,e).next(a=>a?(i=a,pe.resolve(i)):r.Hr.allocateTargetId(n).next(s=>(i=new hl(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n})}async function kA(t,e,r){const n=ut(t),i=n.Ts.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!If(s))throw s;Re(gP,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function BR(t,e,r){const n=ut(t);let i=ct.min(),a=St();return n.persistence.runTransaction("Execute query","readwrite",s=>function(u,f,h){const p=ut(u),m=p.Is.get(h);return m!==void 0?pe.resolve(p.Ts.get(m)):p.Hr.getTargetData(f,h)}(n,s,ls(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{a=u})}).next(()=>n.Ps.getDocumentsMatchingQuery(s,e,r?i:ct.min(),r?a:St())).next(l=>(woe(n,ose(e),l),{documents:l,gs:a})))}function woe(t,e,r){let n=t.Es.get(e)||ct.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Es.set(e,n)}class UR{constructor(){this.activeTargetIds=hse()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _oe{constructor(){this.ho=new UR,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new UR,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="ConnectivityMonitor";class qR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(zR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(zR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev=null;function IA(){return Ev===null?Ev=function(){return 268435456+Math.round(2147483648*Math.random())}():Ev++,"0x"+Ev.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="RestConnection",Eoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class joe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===Cy?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,r,n,i,a){const s=IA(),l=this.bo(e,r.toUriEncodedString());Re(T_,`Sending RPC '${e}' ${s}:`,l,n);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,a),this.vo(e,l,u,n).then(f=>(Re(T_,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Fd(T_,`RPC '${e}' ${s} failed with error: `,f,"url: ",l,"request:",n),f})}Co(e,r,n,i,a,s){return this.So(e,r,n,i,a)}Do(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}bo(e,r){const n=Eoe[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class Noe extends joe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,i){const a=IA();return new Promise((s,l)=>{const u=new JB;u.setWithCredentials(!0),u.listenOnce(ZB.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zv.NO_ERROR:const h=u.getResponseJson();Re(_n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case Zv.TIMEOUT:Re(_n,`RPC '${e}' ${a} timed out`),l(new Oe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Zv.HTTP_ERROR:const p=u.getStatus();if(Re(_n,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const _=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(N)>=0?N:he.UNKNOWN}(y.status);l(new Oe(_,y.message))}else l(new Oe(he.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Oe(he.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Re(_n,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Re(_n,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",f,n,15)})}Wo(e,r,n){const i=IA(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rU(),l=tU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const h=a.join("");Re(_n,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=s.createWebChannel(h,u);let m=!1,y=!1;const _=new Aoe({Fo:x=>{y?Re(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(Re(_n,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Re(_n,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Mo:()=>p.close()}),b=(x,N,A)=>{x.listen(N,j=>{try{A(j)}catch(E){setTimeout(()=>{throw E},0)}})};return b(p,Yh.EventType.OPEN,()=>{y||(Re(_n,`RPC '${e}' stream ${i} transport opened.`),_.Qo())}),b(p,Yh.EventType.CLOSE,()=>{y||(y=!0,Re(_n,`RPC '${e}' stream ${i} transport closed`),_.Uo())}),b(p,Yh.EventType.ERROR,x=>{y||(y=!0,Fd(_n,`RPC '${e}' stream ${i} transport errored:`,x),_.Uo(new Oe(he.UNAVAILABLE,"The operation could not be completed")))}),b(p,Yh.EventType.MESSAGE,x=>{var N;if(!y){const A=x.data[0];Gt(!!A);const j=A,E=(j==null?void 0:j.error)||((N=j[0])===null||N===void 0?void 0:N.error);if(E){Re(_n,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let R=function(M){const F=Mr[M];if(F!==void 0)return LU(F)}(P),C=E.message;R===void 0&&(R=he.INTERNAL,C="Unknown error status: "+P+" with message "+E.message),y=!0,_.Uo(new Oe(R,C)),p.close()}else Re(_n,`RPC '${e}' stream ${i} received:`,A),_.Ko(A)}}),b(l,eU.STAT_EVENT,x=>{x.stat===bA.PROXY?Re(_n,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===bA.NOPROXY&&Re(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function P_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){return new kse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-n);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="PersistentStream";class JU{constructor(e,r,n,i,a,s,l,u){this.Ti=e,this.n_=n,this.r_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new XU(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===he.RESOURCE_EXHAUSTED?(oo(r.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===r&&this.V_(n,i)},n=>{e(()=>{const i=new Oe(he.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(HR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(Re(HR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Toe extends JU{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=Rse(this.serializer,e),n=function(a){if(!("targetChange"in a))return ct.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ct.min():s.readTime?cs(s.readTime):ct.min()}(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=CA(this.serializer),r.addTarget=function(a,s){let l;const u=s.target;if(l=jA(u)?{documents:Lse(a,u)}:{query:$se(a,u).ht},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=VU(a,s.resumeToken);const f=NA(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(ct.min())>0){l.readTime=My(a,s.snapshotVersion.toTimestamp());const f=NA(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const n=Vse(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=CA(this.serializer),r.removeTarget=e,this.I_(r)}}class Poe extends JU{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=Dse(e.writeResults,e.commitTime),n=cs(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=CA(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Mse(this.serializer,n))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{}class koe extends Coe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.So(e,TA(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(he.UNKNOWN,a.toString())})}Co(e,r,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Co(e,TA(r,n),i,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(he.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Ioe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(oo(r),this.N_=!1):Re("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="RemoteStore";class Ooe{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(s=>{n.enqueueAndForget(async()=>{iu(this)&&(Re(Wc,"Restarting streams for network reachability change."),await async function(u){const f=ut(u);f.W_.add(4),await $m(f),f.j_.set("Unknown"),f.W_.delete(4),await Nb(f)}(this))})}),this.j_=new Ioe(n,i)}}async function Nb(t){if(iu(t))for(const e of t.G_)await e(!0)}async function $m(t){for(const e of t.G_)await e(!1)}function ZU(t,e){const r=ut(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),bP(r)?xP(r):Rf(r).c_()&&yP(r,e))}function vP(t,e){const r=ut(t),n=Rf(r);r.K_.delete(e),n.c_()&&e8(r,e),r.K_.size===0&&(n.c_()?n.P_():iu(r)&&r.j_.set("Unknown"))}function yP(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Rf(t).y_(e)}function e8(t,e){t.H_.Ne(e),Rf(t).w_(e)}function xP(t){t.H_=new Nse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Rf(t).start(),t.j_.B_()}function bP(t){return iu(t)&&!Rf(t).u_()&&t.K_.size>0}function iu(t){return ut(t).W_.size===0}function t8(t){t.H_=void 0}async function Roe(t){t.j_.set("Online")}async function Moe(t){t.K_.forEach((e,r)=>{yP(t,e)})}async function Doe(t,e){t8(t),bP(t)?(t.j_.q_(e),xP(t)):t.j_.set("Unknown")}async function Loe(t,e,r){if(t.j_.set("Online"),e instanceof FU&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const l of a.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.K_.delete(l),i.H_.removeTarget(l))}(t,e)}catch(n){Re(Wc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ly(t,n)}else if(e instanceof ny?t.H_.We(e):e instanceof $U?t.H_.Ze(e):t.H_.je(e),!r.isEqual(ct.min()))try{const n=await QU(t.localStore);r.compareTo(n)>=0&&await function(a,s){const l=a.H_.ot(s);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const h=a.K_.get(f);h&&a.K_.set(f,h.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,f)=>{const h=a.K_.get(u);if(!h)return;a.K_.set(u,h.withResumeToken(mn.EMPTY_BYTE_STRING,h.snapshotVersion)),e8(a,u);const p=new hl(h.target,u,f,h.sequenceNumber);yP(a,p)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Re(Wc,"Failed to raise snapshot:",n),await Ly(t,n)}}async function Ly(t,e,r){if(!If(e))throw e;t.W_.add(1),await $m(t),t.j_.set("Offline"),r||(r=()=>QU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(Wc,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await Nb(t)})}function r8(t,e){return e().catch(r=>Ly(t,r,e))}async function Tb(t){const e=ut(t),r=Il(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:iP;for(;$oe(e);)try{const i=await xoe(e.localStore,n);if(i===null){e.U_.length===0&&r.P_();break}n=i.batchId,Foe(e,i)}catch(i){await Ly(e,i)}n8(e)&&i8(e)}function $oe(t){return iu(t)&&t.U_.length<10}function Foe(t,e){t.U_.push(e);const r=Il(t);r.c_()&&r.S_&&r.b_(e.mutations)}function n8(t){return iu(t)&&!Il(t).u_()&&t.U_.length>0}function i8(t){Il(t).start()}async function Voe(t){Il(t).C_()}async function Boe(t){const e=Il(t);for(const r of t.U_)e.b_(r.mutations)}async function Uoe(t,e,r){const n=t.U_.shift(),i=uP.from(n,e,r);await r8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tb(t)}async function zoe(t,e){e&&Il(t).S_&&await async function(n,i){if(function(s){return jse(s)&&s!==he.ABORTED}(i.code)){const a=n.U_.shift();Il(n).h_(),await r8(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Tb(n)}}(t,e),n8(t)&&i8(t)}async function WR(t,e){const r=ut(t);r.asyncQueue.verifyOperationInProgress(),Re(Wc,"RemoteStore received new credentials");const n=iu(r);r.W_.add(3),await $m(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await Nb(r)}async function qoe(t,e){const r=ut(t);e?(r.W_.delete(2),await Nb(r)):e||(r.W_.add(2),await $m(r),r.j_.set("Unknown"))}function Rf(t){return t.J_||(t.J_=function(r,n,i){const a=ut(r);return a.M_(),new Toe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:Roe.bind(null,t),No:Moe.bind(null,t),Lo:Doe.bind(null,t),p_:Loe.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),bP(t)?xP(t):t.j_.set("Unknown")):(await t.J_.stop(),t8(t))})),t.J_}function Il(t){return t.Y_||(t.Y_=function(r,n,i){const a=ut(r);return a.M_(),new Poe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Voe.bind(null,t),Lo:zoe.bind(null,t),D_:Boe.bind(null,t),v_:Uoe.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Tb(t)):(await t.Y_.stop(),t.U_.length>0&&(Re(Wc,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,l=new wP(e,r,s,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _P(t,e){if(oo("AsyncQueue",`${e}: ${t}`),If(t))return new Oe(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ke.comparator(r.key,n.key):(r,n)=>Ke.comparator(r.key,n.key),this.keyedMap=Qh(),this.sortedSet=new jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new yd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Z_=new jr(Ke.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):nt():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Hd{constructor(e,r,n,i,a,s,l,u,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(l=>{s.push({type:0,doc:l})}),new Hd(e,r,yd.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Woe{constructor(){this.queries=KR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const i=ut(r),a=i.queries;i.queries=KR(),a.forEach((s,l)=>{for(const u of l.ta)u.onError(n)})})(this,new Oe(he.ABORTED,"Firestore shutting down"))}}function KR(){return new nu(t=>SU(t),wb)}async function SP(t,e){const r=ut(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.na()&&e.ra()&&(n=2):(a=new Hoe,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await r.onListen(i,!0);break;case 1:a.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=_P(s,`Initialization of query '${rd(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.ta.push(e),e.sa(r.onlineState),a.ea&&e.oa(a.ea)&&jP(r)}async function EP(t,e){const r=ut(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.ta.indexOf(e);s>=0&&(a.ta.splice(s,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Goe(t,e){const r=ut(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const l of s.ta)l.oa(i)&&(n=!0);s.ea=i}}n&&jP(r)}function Koe(t,e,r){const n=ut(t),i=n.queries.get(e);if(i)for(const a of i.ta)a.onError(r);n.queries.delete(e)}function jP(t){t.ia.forEach(e=>{e.next()})}var OA,YR;(YR=OA||(OA={}))._a="default",YR.Cache="cache";class AP{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Hd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=Hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==OA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e){this.key=e}}class s8{constructor(e){this.key=e}}class Yoe{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=St(),this.mutatedKeys=St(),this.ya=EU(e),this.wa=new yd(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new GR,i=r?r.wa:this.wa;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const m=i.get(h),y=_b(this.query,p)?p:null,_=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;m&&y?m.data.isEqual(y.data)?_!==b&&(n.track({type:3,doc:y}),x=!0):this.va(m,y)||(n.track({type:2,doc:y}),x=!0,(u&&this.ya(y,u)>0||f&&this.ya(y,f)<0)&&(l=!0)):!m&&y?(n.track({type:0,doc:y}),x=!0):m&&!y&&(n.track({type:1,doc:m}),x=!0,(u||f)&&(l=!0)),x&&(y?(s=s.add(y),a=b?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{wa:s,Da:n,ls:l,mutatedKeys:a}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((h,p)=>function(y,_){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return b(y)-b(_)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(n),i=i!=null&&i;const l=r&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,f=u!==this.ga;return this.ga=u,s.length!==0||f?{snapshot:new Hd(this.query,e.wa,a,s,e.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new GR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=St(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const r=[];return e.forEach(n=>{this.pa.has(n)||r.push(new s8(n))}),this.pa.forEach(n=>{e.has(n)||r.push(new a8(n))}),r}Oa(e){this.fa=e.gs,this.pa=St();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return Hd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const NP="SyncEngine";class Qoe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Xoe{constructor(e){this.key=e,this.Ba=!1}}class Joe{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new nu(l=>SU(l),wb),this.qa=new Map,this.Qa=new Set,this.$a=new jr(Ke.comparator),this.Ua=new Map,this.Ka=new hP,this.Wa={},this.Ga=new Map,this.za=qd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Zoe(t,e,r=!0){const n=f8(t);let i;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await o8(n,e,r,!0),i}async function ele(t,e){const r=f8(t);await o8(r,e,!0,!1)}async function o8(t,e,r,n){const i=await boe(t.localStore,ls(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await tle(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&ZU(t.remoteStore,i),l}async function tle(t,e,r,n,i){t.Ha=(p,m,y)=>async function(b,x,N,A){let j=x.view.ba(N);j.ls&&(j=await BR(b.localStore,x.query,!1).then(({documents:C})=>x.view.ba(C,j)));const E=A&&A.targetChanges.get(x.targetId),P=A&&A.targetMismatches.get(x.targetId)!=null,R=x.view.applyChanges(j,b.isPrimaryClient,E,P);return XR(b,x.targetId,R.Ma),R.snapshot}(t,p,m,y);const a=await BR(t.localStore,e,!0),s=new Yoe(e,a.gs),l=s.ba(a.documents),u=Lm.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,u);XR(t,r,f.Ma);const h=new Qoe(e,r,s);return t.ka.set(e,h),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),f.snapshot}async function rle(t,e,r){const n=ut(t),i=n.ka.get(e),a=n.qa.get(i.targetId);if(a.length>1)return n.qa.set(i.targetId,a.filter(s=>!wb(s,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await kA(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&vP(n.remoteStore,i.targetId),RA(n,i.targetId)}).catch(kf)):(RA(n,i.targetId),await kA(n.localStore,i.targetId,!0))}async function nle(t,e){const r=ut(t),n=r.ka.get(e),i=r.qa.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),vP(r.remoteStore,n.targetId))}async function ile(t,e,r){const n=dle(t);try{const i=await function(s,l){const u=ut(s),f=er.now(),h=l.reduce((y,_)=>y.add(_.key),St());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=lo(),b=St();return u.ds.getEntries(y,h).next(x=>{_=x,_.forEach((N,A)=>{A.isValidDocument()||(b=b.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(x=>{p=x;const N=[];for(const A of l){const j=bse(A,p.get(A.key).overlayedDocument);j!=null&&N.push(new Bl(A.key,j,mU(j.value.mapValue),Aa.exists(!0)))}return u.mutationQueue.addMutationBatch(y,f,N,l)}).next(x=>{m=x;const N=x.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(y,x.batchId,N)})}).then(()=>({batchId:m.batchId,changes:AU(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let f=s.Wa[s.currentUser.toKey()];f||(f=new jr(xt)),f=f.insert(l,u),s.Wa[s.currentUser.toKey()]=f}(n,i.batchId,r),await Fm(n,i.changes),await Tb(n.remoteStore)}catch(i){const a=_P(i,"Failed to persist write");r.reject(a)}}async function l8(t,e){const r=ut(t);try{const n=await voe(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Ua.get(a);s&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Gt(s.Ba):i.removedDocuments.size>0&&(Gt(s.Ba),s.Ba=!1))}),await Fm(r,n,e)}catch(n){await kf(n)}}function QR(t,e,r){const n=ut(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ka.forEach((a,s)=>{const l=s.view.sa(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ut(s);u.onlineState=l;let f=!1;u.queries.forEach((h,p)=>{for(const m of p.ta)m.sa(l)&&(f=!0)}),f&&jP(u)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ale(t,e,r){const n=ut(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ua.get(e),a=i&&i.key;if(a){let s=new jr(Ke.comparator);s=s.insert(a,An.newNoDocument(a,ct.min()));const l=St().add(a),u=new jb(ct.min(),new Map,new jr(xt),s,l);await l8(n,u),n.$a=n.$a.remove(a),n.Ua.delete(e),TP(n)}else await kA(n.localStore,e,!1).then(()=>RA(n,e,r)).catch(kf)}async function sle(t,e){const r=ut(t),n=e.batch.batchId;try{const i=await goe(r.localStore,e);u8(r,n,null),c8(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Fm(r,i)}catch(i){await kf(i)}}async function ole(t,e,r){const n=ut(t);try{const i=await function(s,l){const u=ut(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return u.mutationQueue.lookupMutationBatch(f,l).next(p=>(Gt(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(f,p))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>u.localDocuments.getDocuments(f,h))})}(n.localStore,e);u8(n,e,r),c8(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Fm(n,i)}catch(i){await kf(i)}}function c8(t,e){(t.Ga.get(e)||[]).forEach(r=>{r.resolve()}),t.Ga.delete(e)}function u8(t,e,r){const n=ut(t);let i=n.Wa[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function RA(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(n=>{t.Ka.containsKey(n)||d8(t,n)})}function d8(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(vP(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),TP(t))}function XR(t,e,r){for(const n of r)n instanceof a8?(t.Ka.addReference(n.key,e),lle(t,n)):n instanceof s8?(Re(NP,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||d8(t,n.key)):nt()}function lle(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(Re(NP,"New document in limbo: "+r),t.Qa.add(n),TP(t))}function TP(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new Ke(mr.fromString(e)),n=t.za.next();t.Ua.set(n,new Xoe(r)),t.$a=t.$a.insert(r,n),ZU(t.remoteStore,new hl(ls(bb(r.path)),n,"TargetPurposeLimboResolution",vb.ae))}}async function Fm(t,e,r){const n=ut(t),i=[],a=[],s=[];n.ka.isEmpty()||(n.ka.forEach((l,u)=>{s.push(n.Ha(u,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(h=r==null?void 0:r.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){i.push(f);const p=mP.Yi(u.targetId,f);a.push(p)}}))}),await Promise.all(s),n.La.p_(i),await async function(u,f){const h=ut(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>pe.forEach(f,m=>pe.forEach(m.Hi,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>pe.forEach(m.Ji,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!If(p))throw p;Re(gP,"Failed to update sequence numbers: "+p)}for(const p of f){const m=p.targetId;if(!p.fromCache){const y=h.Ts.get(m),_=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(_);h.Ts=h.Ts.insert(m,b)}}}(n.localStore,a))}async function cle(t,e){const r=ut(t);if(!r.currentUser.isEqual(e)){Re(NP,"User change. New user:",e.toKey());const n=await YU(r.localStore,e);r.currentUser=e,function(a,s){a.Ga.forEach(l=>{l.forEach(u=>{u.reject(new Oe(he.CANCELLED,s))})}),a.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Fm(r,n.Rs)}}function ule(t,e){const r=ut(t),n=r.Ua.get(e);if(n&&n.Ba)return St().add(n.key);{let i=St();const a=r.qa.get(e);if(!a)return i;for(const s of a){const l=r.ka.get(s);i=i.unionWith(l.view.Sa)}return i}}function f8(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ule.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ale.bind(null,e),e.La.p_=Goe.bind(null,e.eventManager),e.La.Ja=Koe.bind(null,e.eventManager),e}function dle(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ole.bind(null,e),e}class $y{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ab(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return moe(this.persistence,new foe,e.initialUser,this.serializer)}Xa(e){return new KU(pP.ri,this.serializer)}Za(e){return new _oe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$y.provider={build:()=>new $y};class fle extends $y{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Gt(this.persistence.referenceDelegate instanceof Dy);const n=this.persistence.referenceDelegate.garbageCollector;return new Xse(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new KU(n=>Dy.ri(n,r),this.serializer)}}class MA{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>QR(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=cle.bind(null,this.syncEngine),await qoe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Woe}()}createDatastore(e){const r=Ab(e.databaseInfo.databaseId),n=function(a){return new Noe(a)}(e.databaseInfo);return function(a,s,l,u){return new koe(a,s,l,u)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,l){return new Ooe(n,i,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,r=>QR(this.syncEngine,r,0),function(){return qR.D()?new qR:new Soe}())}createSyncEngine(e,r){return function(i,a,s,l,u,f,h){const p=new Joe(i,a,s,l,u,f);return h&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=ut(i);Re(Wc,"RemoteStore shutting down."),a.W_.add(5),await $m(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}MA.provider={build:()=>new MA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="FirestoreClient";class hle{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=jn.UNAUTHENTICATED,this.clientId=aU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Re(Ol,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Re(Ol,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=_P(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function C_(t,e){t.asyncQueue.verifyOperationInProgress(),Re(Ol,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await YU(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JR(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ple(t);Re(Ol,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>WR(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>WR(e.remoteStore,i)),t._onlineComponents=e}async function ple(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(Ol,"Using user provided OfflineComponentProvider");try{await C_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Fd("Error using user provided cache. Falling back to memory cache: "+r),await C_(t,new $y)}}else Re(Ol,"Using default OfflineComponentProvider"),await C_(t,new fle(void 0));return t._offlineComponents}async function h8(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(Ol,"Using user provided OnlineComponentProvider"),await JR(t,t._uninitializedComponentsProvider._online)):(Re(Ol,"Using default OnlineComponentProvider"),await JR(t,new MA))),t._onlineComponents}function mle(t){return h8(t).then(e=>e.syncEngine)}async function Fy(t){const e=await h8(t),r=e.eventManager;return r.onListen=Zoe.bind(null,e.syncEngine),r.onUnlisten=rle.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ele.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=nle.bind(null,e.syncEngine),r}function gle(t,e,r={}){const n=new Xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,u,f){const h=new PP({next:m=>{h.su(),s.enqueueAndForget(()=>EP(a,p));const y=m.docs.has(l);!y&&m.fromCache?f.reject(new Oe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?f.reject(new Oe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(m)},error:m=>f.reject(m)}),p=new AP(bb(l.path),h,{includeMetadataChanges:!0,Ta:!0});return SP(a,p)}(await Fy(t),t.asyncQueue,e,r,n)),n.promise}function vle(t,e,r={}){const n=new Xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,u,f){const h=new PP({next:m=>{h.su(),s.enqueueAndForget(()=>EP(a,p)),m.fromCache&&u.source==="server"?f.reject(new Oe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(m)},error:m=>f.reject(m)}),p=new AP(l,h,{includeMetadataChanges:!0,Ta:!0});return SP(a,p)}(await Fy(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t,e,r){if(!r)throw new Oe(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yle(t,e,r,n){if(e===!0&&n===!0)throw new Oe(he.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function eM(t){if(!Ke.isDocumentKey(t))throw new Oe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tM(t){if(Ke.isDocumentKey(t))throw new Oe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt()}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Pb(t);throw new Oe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function xle(t,e){if(e<=0)throw new Oe(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="firestore.googleapis.com",rM=!0;class nM{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g8,this.ssl=rM}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:rM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yse)throw new Oe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p8((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Aae;switch(n.type){case"firstParty":return new Cae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ZR.get(r);n&&(Re("ComponentProvider","Removing Datastore"),ZR.delete(r),n.terminate())}(this),Promise.resolve()}}function ble(t,e,r,n={}){var i;const a=(t=Ai(t,Cb))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;a.host!==g8&&a.host!==l&&Fd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:n});if(!io(u,s)&&(t._setSettings(u),n.mockUserToken)){let f,h;if(typeof n.mockUserToken=="string")f=n.mockUserToken,h=jn.MOCK_USER;else{f=xee(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Oe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jn(p)}t._authCredentials=new Nae(new nU(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Tn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class bl extends vo{constructor(e,r,n){super(e,r,bb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ke(e))}withConverter(e){return new bl(this.firestore,e,this._path)}}function Wd(t,e,...r){if(t=Fr(t),m8("collection","path",e),t instanceof Cb){const n=mr.fromString(e,...r);return tM(n),new bl(t,null,n)}{if(!(t instanceof Tn||t instanceof bl))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(mr.fromString(e,...r));return tM(n),new bl(t.firestore,null,n)}}function Dt(t,e,...r){if(t=Fr(t),arguments.length===1&&(e=aU.newId()),m8("doc","path",e),t instanceof Cb){const n=mr.fromString(e,...r);return eM(n),new Tn(t,null,new Ke(n))}{if(!(t instanceof Tn||t instanceof bl))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(mr.fromString(e,...r));return eM(n),new Tn(t.firestore,t instanceof bl?t.converter:null,new Ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="AsyncQueue";class aM{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new XU(this,"async_queue_retry"),this.Su=()=>{const n=P_();n&&Re(iM,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=P_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=P_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new Xs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!If(e))throw e;Re(iM,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(n);throw oo("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const i=wP.createAndSchedule(this,e,r,n,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&nt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function sM(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Rl extends Cb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new aM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aM(e),this._firestoreClient=void 0,await e}}}function lr(t,e){const r=typeof t=="object"?t:VT(),n=typeof t=="string"?t:Cy,i=tu(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=vee("firestore");a&&ble(i,...a)}return i}function kb(t){if(t._terminated)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wle(t),t._firestoreClient}function wle(t){var e,r,n;const i=t._freezeSettings(),a=function(l,u,f,h){return new Hae(l,u,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,p8(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new hle(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gd(mn.fromBase64String(e))}catch(r){throw new Oe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Gd(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Oe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _le=/^__.*__$/;class Sle{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Bl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Dm(e,this.data,r,this.fieldTransforms)}}class v8{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Bl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function y8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class Ob{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ob(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Vy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(y8(this.Lu)&&_le.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ele{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Ab(e)}ju(e,r,n,i=!1){return new Ob({Lu:e,methodName:r,zu:n,path:pn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rb(t){const e=t._freezeSettings(),r=Ab(t._databaseId);return new Ele(t._databaseId,!!e.ignoreUndefinedProperties,r)}function x8(t,e,r,n,i,a={}){const s=t.ju(a.merge||a.mergeFields?2:0,e,r,i);RP("Data must be an object, but it was:",s,n);const l=b8(n,s);let u,f;if(a.merge)u=new Si(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const m=DA(e,p,r);if(!s.contains(m))throw new Oe(he.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);_8(h,m)||h.push(m)}u=new Si(h),f=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,f=s.fieldTransforms;return new Sle(new ii(l),u,f)}class Mb extends Vm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mb}}function jle(t,e,r){return new Ob({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class IP extends Vm{_toFieldTransform(e){return new OU(e.path,new $p)}isEqual(e){return e instanceof IP}}class OP extends Vm{constructor(e,r){super(e),this.Hu=r}_toFieldTransform(e){const r=jle(this,e,!0),n=this.Hu.map(a=>Mf(a,r)),i=new zd(n);return new OU(e.path,i)}isEqual(e){return e instanceof OP&&io(this.Hu,e.Hu)}}function Ale(t,e,r,n){const i=t.ju(1,e,r);RP("Data must be an object, but it was:",i,n);const a=[],s=ii.empty();Vl(n,(u,f)=>{const h=MP(e,u,r);f=Fr(f);const p=i.Uu(h);if(f instanceof Mb)a.push(h);else{const m=Mf(f,p);m!=null&&(a.push(h),s.set(h,m))}});const l=new Si(a);return new v8(s,l,i.fieldTransforms)}function Nle(t,e,r,n,i,a){const s=t.ju(1,e,r),l=[DA(e,n,r)],u=[i];if(a.length%2!=0)throw new Oe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)l.push(DA(e,a[m])),u.push(a[m+1]);const f=[],h=ii.empty();for(let m=l.length-1;m>=0;--m)if(!_8(f,l[m])){const y=l[m];let _=u[m];_=Fr(_);const b=s.Uu(y);if(_ instanceof Mb)f.push(y);else{const x=Mf(_,b);x!=null&&(f.push(y),h.set(y,x))}}const p=new Si(f);return new v8(h,p,s.fieldTransforms)}function Tle(t,e,r,n=!1){return Mf(r,t.ju(n?4:3,e))}function Mf(t,e){if(w8(t=Fr(t)))return RP("Unsupported field value:",e,t),b8(t,e);if(t instanceof Vm)return function(n,i){if(!y8(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const l of n){let u=Mf(l,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Fr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pse(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=er.fromDate(n);return{timestampValue:My(i.serializer,a)}}if(n instanceof er){const a=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:My(i.serializer,a)}}if(n instanceof CP)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gd)return{bytesValue:VU(i.serializer,n._byteString)};if(n instanceof Tn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fP(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof kP)return function(s,l){return{mapValue:{fields:{[hU]:{stringValue:pU},[ky]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw l.Wu("VectorValues must only contain numeric values.");return cP(l.serializer,f)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${Pb(n)}`)}(t,e)}function b8(t,e){const r={};return oU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(t,(n,i)=>{const a=Mf(i,e.qu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function w8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof CP||t instanceof Gd||t instanceof Tn||t instanceof Vm||t instanceof kP)}function RP(t,e,r){if(!w8(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Pb(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function DA(t,e,r){if((e=Fr(e))instanceof Ib)return e._internalPath;if(typeof e=="string")return MP(t,e);throw Vy("Field path arguments must be of type string or ",t,!1,void 0,r)}const Ple=new RegExp("[~\\*/\\[\\]]");function MP(t,e,r){if(e.search(Ple)>=0)throw Vy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Ib(...e.split("."))._internalPath}catch{throw Vy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Vy(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${n}`),s&&(u+=` in document ${i}`),u+=")"),new Oe(he.INVALID_ARGUMENT,l+t+u)}function _8(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Db("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Cle extends S8{data(){return super.data()}}function Db(t,e){return typeof e=="string"?MP(t,e):e instanceof Ib?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DP{}class LP extends DP{}function $P(t,e,...r){let n=[];e instanceof DP&&n.push(e),n=n.concat(r),function(a){const s=a.filter(u=>u instanceof FP).length,l=a.filter(u=>u instanceof Lb).length;if(s>1||s>0&&l>0)throw new Oe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Lb extends LP{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Lb(e,r,n)}_apply(e){const r=this._parse(e);return j8(e._query,r),new vo(e.firestore,e.converter,AA(e._query,r))}_parse(e){const r=Rb(e.firestore);return function(a,s,l,u,f,h,p){let m;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){lM(p,h);const _=[];for(const b of p)_.push(oM(u,a,b));m={arrayValue:{values:_}}}else m=oM(u,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||lM(p,h),m=Tle(l,s,p,h==="in"||h==="not-in");return Lr.create(f,h,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function kle(t,e,r){const n=e,i=Db("where",t);return Lb._create(i,n,r)}class FP extends DP{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new FP(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Ia.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const l=a.getFlattenedFilters();for(const u of l)j8(s,u),s=AA(s,u)}(e._query,r),new vo(e.firestore,e.converter,AA(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class VP extends LP{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new VP(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lp(a,s)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Of(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function BP(t,e="asc"){const r=e,n=Db("orderBy",t);return VP._create(n,r)}class UP extends LP{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new UP(e,r,n)}_apply(e){return new vo(e.firestore,e.converter,Oy(e._query,this._limit,this._limitType))}}function zP(t){return xle("limit",t),UP._create("limit",t,"F")}function oM(t,e,r){if(typeof(r=Fr(r))=="string"){if(r==="")throw new Oe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_U(e)&&r.indexOf("/")!==-1)throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(mr.fromString(r));if(!Ke.isDocumentKey(n))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return _R(t,new Ke(n))}if(r instanceof Tn)return _R(t,r._key);throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pb(r)}.`)}function lM(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j8(t,e){const r=function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Oe(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Ile{convertValue(e,r="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw nt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Vl(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[ky].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>kr(s.doubleValue));return new kP(a)}convertGeoPoint(e){return new CP(kr(e.latitude),kr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xb(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rp(e));default:return null}}convertTimestamp(e){const r=Pl(e);return new er(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=mr.fromString(e);Gt(WU(n));const i=new Mp(n.get(1),n.get(3)),a=new Ke(n.popFirst(5));return i.isEqual(r)||oo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N8 extends S8{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Db("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class iy extends N8{data(e={}){return super.data(e)}}class T8{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Jh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new iy(this._firestore,this._userDataWriter,n.key,n,new Jh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new iy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Jh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new iy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Jh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:Ole(l.type),doc:u,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ole(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){t=Ai(t,Tn);const e=Ai(t.firestore,Rl);return gle(kb(e),t._key).then(r=>k8(e,t,r))}class qP extends Ile{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,r)}}function HP(t){t=Ai(t,vo);const e=Ai(t.firestore,Rl),r=kb(e),n=new qP(e);return E8(t._query),vle(r,t._query).then(i=>new T8(e,n,t,i))}function zn(t,e,r){t=Ai(t,Tn);const n=Ai(t.firestore,Rl),i=A8(t.converter,e,r);return WP(n,[x8(Rb(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Aa.none())])}function P8(t,e,r,...n){t=Ai(t,Tn);const i=Ai(t.firestore,Rl),a=Rb(i);let s;return s=typeof(e=Fr(e))=="string"||e instanceof Ib?Nle(a,"updateDoc",t._key,e,r,n):Ale(a,"updateDoc",t._key,e),WP(i,[s.toMutation(t._key,Aa.exists(!0))])}function C8(t,e){const r=Ai(t.firestore,Rl),n=Dt(t),i=A8(t.converter,e);return WP(r,[x8(Rb(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Aa.exists(!1))]).then(()=>n)}function Rle(t,...e){var r,n,i;t=Fr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sM(e[s])||(a=e[s],s++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(sM(e[s])){const p=e[s];e[s]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,f,h;if(t instanceof Tn)f=Ai(t.firestore,Rl),h=bb(t._key.path),u={next:p=>{e[s]&&e[s](k8(f,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Ai(t,vo);f=Ai(p.firestore,Rl),h=p._query;const m=new qP(f);u={next:y=>{e[s]&&e[s](new T8(f,m,p,y))},error:e[s+1],complete:e[s+2]},E8(t._query)}return function(m,y,_,b){const x=new PP(b),N=new AP(y,x,_);return m.asyncQueue.enqueueAndForget(async()=>SP(await Fy(m),N)),()=>{x.su(),m.asyncQueue.enqueueAndForget(async()=>EP(await Fy(m),N))}}(kb(f),h,l,u)}function WP(t,e){return function(n,i){const a=new Xs;return n.asyncQueue.enqueueAndForget(async()=>ile(await mle(n),i,a)),a.promise}(kb(t),e)}function k8(t,e,r){const n=r.docs.get(e._key),i=new qP(t);return new N8(t,i,e._key,n,new Jh(r.hasPendingWrites,r.fromCache),e.converter)}function LA(){return new IP("serverTimestamp")}function I8(...t){return new OP("arrayUnion",t)}(function(e,r=!0){(function(i){Cf=i})(Tf),hs(new ka("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),l=new Rl(new Tae(n.getProvider("auth-internal")),new kae(s,n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mp(f.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Gi(uR,dR,e),Gi(uR,dR,"esm2017")})();function Mle(t,e=[]){let r=[];function n(a,s){const l=S.createContext(s),u=r.length;r=[...r,s];function f(p){const{scope:m,children:y,..._}=p,b=(m==null?void 0:m[t][u])||l,x=S.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:x,children:y})}function h(p,m){const y=(m==null?void 0:m[t][u])||l,_=S.useContext(y);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,h]}const i=()=>{const a=r.map(s=>S.createContext(s));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,Dle(i,...e)]}function Dle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...l,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var Lle=S.createContext(void 0);function Bm(t){const e=S.useContext(Lle);return t||e||"ltr"}var k_="rovingFocusGroup.onEntryFocus",$le={bubbles:!1,cancelable:!0},$b="RovingFocusGroup",[$A,O8,Fle]=qx($b),[Vle,Fb]=Mle($b,[Fle]),[Ble,Ule]=Vle($b),R8=S.forwardRef((t,e)=>o.jsx($A.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx($A.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(zle,{...t,ref:e})})}));R8.displayName=$b;var zle=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...p}=t,m=S.useRef(null),y=Nt(e,m),_=Bm(a),[b=null,x]=Ta({prop:s,defaultProp:l,onChange:u}),[N,A]=S.useState(!1),j=qn(f),E=O8(r),P=S.useRef(!1),[R,C]=S.useState(0);return S.useEffect(()=>{const I=m.current;if(I)return I.addEventListener(k_,j),()=>I.removeEventListener(k_,j)},[j]),o.jsx(Ble,{scope:r,orientation:n,dir:_,loop:i,currentTabStopId:b,onItemFocus:S.useCallback(I=>x(I),[x]),onItemShiftTab:S.useCallback(()=>A(!0),[]),onFocusableItemAdd:S.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:S.useCallback(()=>C(I=>I-1),[]),children:o.jsx(He.div,{tabIndex:N||R===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:Be(t.onMouseDown,()=>{P.current=!0}),onFocus:Be(t.onFocus,I=>{const M=!P.current;if(I.target===I.currentTarget&&M&&!N){const F=new CustomEvent(k_,$le);if(I.currentTarget.dispatchEvent(F),!F.defaultPrevented){const D=E().filter(Y=>Y.focusable),V=D.find(Y=>Y.active),$=D.find(Y=>Y.id===b),G=[V,$,...D].filter(Boolean).map(Y=>Y.ref.current);L8(G,h)}}P.current=!1}),onBlur:Be(t.onBlur,()=>A(!1))})})}),M8="RovingFocusGroupItem",D8=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...s}=t,l=Ys(),u=a||l,f=Ule(M8,r),h=f.currentTabStopId===u,p=O8(r),{onFocusableItemAdd:m,onFocusableItemRemove:y}=f;return S.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),o.jsx($A.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:o.jsx(He.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...s,ref:e,onMouseDown:Be(t.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:Be(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:Be(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=Wle(_,f.orientation,f.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=p().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const A=N.indexOf(_.currentTarget);N=f.loop?Gle(N,A+1):N.slice(A+1)}setTimeout(()=>L8(N))}})})})});D8.displayName=M8;var qle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hle(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Wle(t,e,r){const n=Hle(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return qle[n]}function L8(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Gle(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $8=R8,F8=D8,GP="Tabs",[Kle,YTe]=Oa(GP,[Fb]),V8=Fb(),[Yle,KP]=Kle(GP),B8=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:u="automatic",...f}=t,h=Bm(l),[p,m]=Ta({prop:n,onChange:i,defaultProp:a});return o.jsx(Yle,{scope:r,baseId:Ys(),value:p,onValueChange:m,orientation:s,dir:h,activationMode:u,children:o.jsx(He.div,{dir:h,"data-orientation":s,...f,ref:e})})});B8.displayName=GP;var U8="TabsList",z8=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=KP(U8,r),s=V8(r);return o.jsx($8,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(He.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});z8.displayName=U8;var q8="TabsTrigger",H8=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=KP(q8,r),l=V8(r),u=K8(s.baseId,n),f=Y8(s.baseId,n),h=n===s.value;return o.jsx(F8,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(He.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:e,onMouseDown:Be(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?s.onValueChange(n):p.preventDefault()}),onKeyDown:Be(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&s.onValueChange(n)}),onFocus:Be(t.onFocus,()=>{const p=s.activationMode!=="manual";!h&&!i&&p&&s.onValueChange(n)})})})});H8.displayName=q8;var W8="TabsContent",G8=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,l=KP(W8,r),u=K8(l.baseId,n),f=Y8(l.baseId,n),h=n===l.value,p=S.useRef(h);return S.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(mo,{present:i||h,children:({present:m})=>o.jsx(He.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:f,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&a})})});G8.displayName=W8;function K8(t,e){return`${t}-trigger-${e}`}function Y8(t,e){return`${t}-content-${e}`}var Qle=B8,Q8=z8,X8=H8,J8=G8;const Df=Qle,au=S.forwardRef(({className:t,...e},r)=>o.jsx(Q8,{ref:r,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));au.displayName=Q8.displayName;const Pr=S.forwardRef(({className:t,...e},r)=>o.jsx(X8,{ref:r,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Pr.displayName=X8.displayName;const Hr=S.forwardRef(({className:t,...e},r)=>o.jsx(J8,{ref:r,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Hr.displayName=J8.displayName;const Xle=Kx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mt({className:t,variant:e,...r}){return o.jsx("div",{className:Ze(Xle({variant:e}),t),...r})}function Um(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var YP="Switch",[Jle,QTe]=Oa(YP),[Zle,ece]=Jle(YP),Z8=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:u="on",onCheckedChange:f,form:h,...p}=t,[m,y]=S.useState(null),_=Nt(e,j=>y(j)),b=S.useRef(!1),x=m?h||!!m.closest("form"):!0,[N=!1,A]=Ta({prop:i,defaultProp:a,onChange:f});return o.jsxs(Zle,{scope:r,checked:N,disabled:l,children:[o.jsx(He.button,{type:"button",role:"switch","aria-checked":N,"aria-required":s,"data-state":r9(N),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:_,onClick:Be(t.onClick,j=>{A(E=>!E),x&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),x&&o.jsx(tce,{control:m,bubbles:!b.current,name:n,value:u,checked:N,required:s,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Z8.displayName=YP;var e9="SwitchThumb",t9=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=ece(e9,r);return o.jsx(He.span,{"data-state":r9(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});t9.displayName=e9;var tce=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=S.useRef(null),s=Um(r),l=Tm(e);return S.useEffect(()=>{const u=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(m)}},[s,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function r9(t){return t?"checked":"unchecked"}var n9=Z8,rce=t9;const QP=S.forwardRef(({className:t,...e},r)=>o.jsx(n9,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:o.jsx(rce,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));QP.displayName=n9.displayName;const nce=({onIntegrationToggle:t,integrations:e={}})=>{const[r,n]=S.useState(null),i=async l=>{n(l);try{await new Promise(u=>setTimeout(u,1500)),await t(l,!0),console.log(`Successfully connected to ${l}`)}catch(u){console.error(`Error connecting to ${l}:`,u)}finally{n(null)}},a=async l=>{try{await t(l,!1),console.log(`Disconnected from ${l}`)}catch(u){console.error(`Error disconnecting from ${l}:`,u)}},s=[{id:"google_fit",name:"Google Fit",icon:o.jsx(wa,{className:"h-5 w-5 text-green-500"}),description:"Import steps, activity, and workout data from Google Fit",dataPoints:["Steps","Activity","Workouts","Heart Rate"],apiUrl:"https://developers.google.com/fit/rest/v1/get-started",free:!0},{id:"apple_health",name:"Apple Health",icon:o.jsx(rs,{className:"h-5 w-5 text-red-500"}),description:"Import health data from Apple Health",dataPoints:["Steps","Activity","Workouts","Heart Rate","Sleep"],apiUrl:"https://developer.apple.com/documentation/healthkit",free:!0},{id:"fitbit",name:"Fitbit",icon:o.jsx(X2,{className:"h-5 w-5 text-blue-500"}),description:"Import activity and sleep data from Fitbit",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://dev.fitbit.com/build/reference/web-api/",free:!0},{id:"samsung_health",name:"Samsung Health",icon:o.jsx(jV,{className:"h-5 w-5 text-blue-400"}),description:"Import health data from Samsung Health",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.samsung.com/health/android/overview.html",free:!0},{id:"strava",name:"Strava",icon:o.jsx(jY,{className:"h-5 w-5 text-orange-500"}),description:"Import running and cycling data from Strava",dataPoints:["Runs","Rides","Workouts"],apiUrl:"https://developers.strava.com/",free:!0},{id:"garmin",name:"Garmin Connect",icon:o.jsx(X2,{className:"h-5 w-5 text-purple-500"}),description:"Import activity data from Garmin devices",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.garmin.com/gc-developer-program/overview/",free:!0},{id:"myfitnesspal",name:"MyFitnessPal",icon:o.jsx(bT,{className:"h-5 w-5 text-blue-600"}),description:"Import nutrition and exercise data from MyFitnessPal",dataPoints:["Nutrition","Calories","Exercise"],apiUrl:"https://www.myfitnesspal.com/api",free:!0},{id:"oura",name:"Oura Ring",icon:o.jsx(MY,{className:"h-5 w-5 text-gray-400"}),description:"Import sleep and recovery data from Oura Ring",dataPoints:["Sleep","Readiness","Activity"],apiUrl:"https://cloud.ouraring.com/docs/",free:!0}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Health Data Integrations"}),o.jsx(Mt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal",children:"Beta Feature"})]}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Connect SafeBite with your favorite health apps and wearables to import your health data and get more personalized recommendations."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(l=>o.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[e[l.id]&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsxs(Mt,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[o.jsx(Rd,{className:"mr-1 h-3 w-3"}),"Connected"]})}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"mr-4 p-2 bg-safebite-card-bg-alt rounded-md",children:l.icon}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:l.name}),l.free&&o.jsx(Mt,{variant:"outline",className:"ml-2 text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:"Free API"})]}),o.jsx("p",{className:"text-sm text-safebite-text-secondary mb-2",children:l.description}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:l.dataPoints.map(u=>o.jsx(Mt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:u},u))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(QP,{checked:!!e[l.id],onCheckedChange:u=>{u?i(l.id):a(l.id)},disabled:r===l.id,className:"mr-2"}),o.jsx("span",{className:"text-sm text-safebite-text-secondary",children:e[l.id]?"Connected":"Disconnected"})]}),o.jsx(ap,{children:o.jsxs(Gv,{children:[o.jsx(Kv,{asChild:!0,children:o.jsx(oe,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>window.open(l.apiUrl,"_blank"),children:"API Docs"})}),o.jsx(sp,{children:o.jsx("p",{children:"View API documentation"})})]})})]})]})]}),r===l.id&&o.jsx("div",{className:"absolute inset-0 bg-safebite-dark-blue/80 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ss,{className:"h-8 w-8 text-safebite-teal animate-pulse mx-auto mb-2"}),o.jsxs("p",{className:"text-safebite-text",children:["Connecting to ",l.name,"..."]})]})})]},l.id))}),o.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-card-bg flex items-start",children:[o.jsx(_f,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-safebite-text-secondary",children:[o.jsx("span",{className:"font-medium text-safebite-text",children:"Note:"})," These integrations are currently in beta. To use them, you'll need to set up API keys for each service. The data will be integrated into your dashboard to provide more personalized nutrition recommendations based on your activity levels, sleep patterns, and more."]})})]})]})};class ice{constructor(){Ga(this,"userId",null);Ga(this,"db",null);Ga(this,"auth",null);Ga(this,"activityHistory",[]);Ga(this,"userPreferences",{});Ga(this,"initialized",!1);this.initialize()}async initialize(){try{if(this.initialized||(this.db=lr(We),this.auth=Jt(We),this.initialized=!0,console.log("Firebase services initialized in mlService")),this.auth){const e=this.auth.currentUser;e&&(this.userId=e.uid,await this.loadUserData()),this.auth.onAuthStateChanged(async r=>{r?(this.userId=r.uid,await this.loadUserData()):(this.userId=null,this.activityHistory=[],this.userPreferences={})})}}catch(e){console.error("Error initializing mlService:",e)}}async loadUserData(){if(!(!this.userId||!this.db))try{const e=Dt(this.db,"users",this.userId),r=await an(e);if(r.exists()){const n=r.data();n.profile&&(this.userPreferences={dietaryPreference:n.profile.dietary_preferences,healthGoal:n.profile.health_goals,activityLevel:n.profile.activity_level,foodPreferences:n.profile.food_preferences||[],allergies:n.profile.allergies||[]}),n.activityHistory&&(this.activityHistory=n.activityHistory)}}catch(e){console.error("Error loading user data:",e)}}async trackActivity(e,r){if(!(!this.userId||!this.db))try{const n={timestamp:Date.now(),action:e,data:r};this.activityHistory.push(n);const i=Dt(this.db,"users",this.userId);await P8(i,{activityHistory:I8(n)}),console.log(`Tracked activity: ${e}`)}catch(n){console.error("Error tracking activity:",n)}}async trackFoodSearch(e,r){await this.trackActivity("food_search",{query:e,selectedItems:r.map(n=>({id:n.id,name:n.name,category:n.category||"unknown"}))})}async trackRecipeSearch(e,r){await this.trackActivity("recipe_search",{query:e,selectedRecipes:r.map(n=>({id:n.id,title:n.title,healthLabels:n.healthLabels||[]}))})}async trackHealthBoxInteraction(e,r){await this.trackActivity("health_box",{boxType:e,action:r})}async trackPreferenceChange(e,r){await this.trackActivity("preference_change",{preference:e,value:r})}getDefaultRecommendations(){return["Spinach","Chicken Breast","Brown Rice","Greek Yogurt","Almonds"]}getCategoryRecommendations(e){switch(e){case"protein":return["Chicken Breast","Tofu","Lentils","Salmon","Greek Yogurt"];case"carbs":return["Brown Rice","Quinoa","Sweet Potato","Oats","Whole Wheat Bread"];case"vegetables":return["Spinach","Broccoli","Kale","Bell Peppers","Carrots"];case"fruits":return["Blueberries","Apples","Bananas","Oranges","Strawberries"];case"dairy":return["Greek Yogurt","Cottage Cheese","Milk","Cheese","Kefir"];default:return this.getDefaultRecommendations()}}getHealthGoalRecommendations(e){const r=e.toLowerCase();return r.includes("weight loss")?["Leafy Greens","Lean Protein","Berries","Green Tea","Chia Seeds"]:r.includes("muscle")||r.includes("gain")?["Chicken Breast","Eggs","Salmon","Greek Yogurt","Quinoa"]:r.includes("health")?["Spinach","Blueberries","Salmon","Walnuts","Sweet Potatoes"]:this.getDefaultRecommendations()}async getFoodRecommendations(){if(!this.initialized||!this.userId||!this.db)return this.getDefaultRecommendations();try{const e=[];if(this.userPreferences.dietaryPreference){const r=this.userPreferences.dietaryPreference.toLowerCase();r.includes("vegetarian")?e.push("Tofu","Lentils","Chickpeas"):r.includes("vegan")?e.push("Tofu","Tempeh","Nutritional Yeast"):r.includes("keto")?e.push("Avocado","Eggs","Salmon"):e.push("Chicken Breast","Salmon","Eggs")}if(this.userPreferences.healthGoal){const r=this.getHealthGoalRecommendations(this.userPreferences.healthGoal);e.push(...r.slice(0,2))}if(this.userPreferences.foodPreferences&&this.userPreferences.foodPreferences.length>0){const r=Math.floor(Math.random()*this.userPreferences.foodPreferences.length),n=this.userPreferences.foodPreferences[r].toLowerCase();n.includes("indian")?e.push("Lentils","Chickpeas","Basmati Rice"):n.includes("italian")?e.push("Whole Wheat Pasta","Tomatoes","Olive Oil"):n.includes("chinese")?e.push("Bok Choy","Brown Rice","Shiitake Mushrooms"):n.includes("mexican")&&e.push("Black Beans","Avocado","Bell Peppers")}return[...new Set(e)].slice(0,5)}catch(e){return console.error("Error getting food recommendations:",e),this.getDefaultRecommendations()}}}const XP=new ice,ace=(t,e)=>XP.trackRecipeSearch(t,e),Ki=(t,e)=>XP.trackHealthBoxInteraction(t,e),Mh=(t,e)=>XP.trackPreferenceChange(t,e),sce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(""),[s,l]=S.useState([]),[u,f]=S.useState([]),[h,p]=S.useState(!1),[m,y]=S.useState(!1),[_,b]=S.useState({}),[x,N]=S.useState(!1),[A,j]=S.useState(!1),E=Jt(We),P=lr(We),R=E.currentUser,{toast:C}=Vr();S.useEffect(()=>{(async()=>{var ee,q,X,ae,be,Ae,Ne,ge,Pe;if(R){const de=Dt(P,"users",R.uid);try{const ve=await an(de);if(ve.exists()){const we=ve.data();e(((ee=we.profile)==null?void 0:ee.health_goals)||""),n(((q=we.profile)==null?void 0:q.dietary_preferences)||""),a(((X=we.profile)==null?void 0:X.activity_level)||""),l(((ae=we.profile)==null?void 0:ae.food_preferences)||[]),f(((be=we.profile)==null?void 0:be.allergies)||[]),p(((Ae=we.profile)==null?void 0:Ae.notificationsEnabled)||!1),y(((Ne=we.profile)==null?void 0:Ne.foodSafetyAlertsEnabled)||!1),b(we.healthIntegrations||{}),N(((ge=we.profile)==null?void 0:ge.communityEnabled)||!1),j(((Pe=we.profile)==null?void 0:Pe.shareHealthData)||!1)}else console.log("No such document!")}catch(ve){console.error("Error fetching user profile:",ve)}}})()},[R,P]);const I=async J=>{const ee=J.target.value;e(ee),await Q({health_goals:ee}),Mh("health_goals",ee)},M=async J=>{const ee=J.target.checked;p(ee),await Q({notificationsEnabled:ee})},F=async J=>{const ee=J.target.checked;y(ee),await Q({foodSafetyAlertsEnabled:ee})},D=async J=>{const ee=J.target.value;n(ee),await Q({dietary_preferences:ee}),Mh("dietary_preferences",ee)},V=async J=>{const ee=J.target.value;a(ee),await Q({activity_level:ee}),Mh("activity_level",ee)},$=async J=>{let ee;s.includes(J)?ee=s.filter(q=>q!==J):ee=[...s,J],l(ee),await Q({food_preferences:ee}),Mh("food_preferences",ee)},H=async J=>{let ee;u.includes(J)?ee=u.filter(q=>q!==J):ee=[...u,J],f(ee),await Q({allergies:ee}),Mh("allergies",ee)},G=async J=>{const ee=J.target.checked;N(ee),await Q({communityEnabled:ee})},Y=async J=>{const ee=J.target.checked;j(ee),await Q({shareHealthData:ee})},Q=async J=>{if(R){const ee=Dt(P,"users",R.uid);try{await zn(ee,{profile:J},{merge:!0}),C({title:"Settings Updated",description:"Your settings have been updated."})}catch(q){C({title:"Error updating settings",description:q.message,variant:"destructive"}),console.error("Error updating user profile:",q)}}},W=async(J,ee)=>{if(R){const q=Dt(P,"users",R.uid);try{const X={..._,[J]:ee};b(X),await zn(q,{healthIntegrations:X},{merge:!0}),C({title:ee?"Integration Connected":"Integration Disconnected",description:`Successfully ${ee?"connected to":"disconnected from"} the health service.`})}catch(X){C({title:"Error updating integration",description:X.message,variant:"destructive"}),console.error("Error updating health integration:",X)}}};return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx(ru,{}),o.jsx("main",{className:"md:ml-64 min-h-screen",children:o.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-4",children:"Settings"}),o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Here you can manage your preferences and other settings."}),o.jsxs(Df,{defaultValue:"preferences",className:"w-full",children:[o.jsxs(au,{className:"grid grid-cols-4 mb-8",children:[o.jsxs(Pr,{value:"preferences",className:"flex items-center",children:[o.jsx(FY,{className:"mr-2 h-4 w-4"}),"Preferences"]}),o.jsxs(Pr,{value:"notifications",className:"flex items-center",children:[o.jsx(Od,{className:"mr-2 h-4 w-4"}),"Notifications"]}),o.jsxs(Pr,{value:"community",className:"flex items-center",children:[o.jsx(dy,{className:"mr-2 h-4 w-4"}),"Community"]}),o.jsxs(Pr,{value:"integrations",className:"flex items-center",children:[o.jsx(wa,{className:"mr-2 h-4 w-4"}),"Health Data"]})]}),o.jsx(Hr,{value:"preferences",className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Preferences"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Health Goal"}),o.jsxs("select",{className:"sci-fi-input w-full",value:t,onChange:I,children:[o.jsx("option",{value:"",children:"Select a goal"}),o.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),o.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),o.jsx("option",{value:"General Health",children:"General Health"}),o.jsx("option",{value:"No Goal",children:"No Goal"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Dietary Preference"}),o.jsxs("select",{className:"sci-fi-input w-full",value:r,onChange:D,children:[o.jsx("option",{value:"",children:"Select a preference"}),o.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),o.jsx("option",{value:"Vegan",children:"Vegan"}),o.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),o.jsx("option",{value:"Pescatarian",children:"Pescatarian"}),o.jsx("option",{value:"Keto",children:"Keto"}),o.jsx("option",{value:"Paleo",children:"Paleo"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Activity Level"}),o.jsxs("select",{className:"sci-fi-input w-full",value:i,onChange:V,children:[o.jsx("option",{value:"",children:"Select activity level"}),o.jsx("option",{value:"Sedentary",children:"Sedentary (little or no exercise)"}),o.jsx("option",{value:"Light",children:"Light (exercise 1-3 days/week)"}),o.jsx("option",{value:"Moderate",children:"Moderate (exercise 3-5 days/week)"}),o.jsx("option",{value:"Active",children:"Active (exercise 6-7 days/week)"}),o.jsx("option",{value:"Very Active",children:"Very Active (intense exercise daily)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Food Preferences"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Indian","Chinese","Italian","Mexican","Thai","Japanese","Mediterranean","American"].map(J=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`pref-${J}`,checked:s.includes(J),onChange:()=>$(J),className:"sci-fi-checkbox"}),o.jsx("label",{htmlFor:`pref-${J}`,className:"ml-2 text-safebite-text",children:J})]},J))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Allergies & Intolerances"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Gluten","Dairy","Nuts","Eggs","Soy","Shellfish","Fish","Wheat"].map(J=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`allergy-${J}`,checked:u.includes(J),onChange:()=>H(J),className:"sci-fi-checkbox"}),o.jsx("label",{htmlFor:`allergy-${J}`,className:"ml-2 text-safebite-text",children:J})]},J))})]})]})]})}),o.jsx(Hr,{value:"notifications",className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Notifications"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-safebite-text font-medium",children:"App Notifications"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Receive notifications about your health goals and progress"})]}),o.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:h,onChange:M})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-safebite-text font-medium",children:"Food Safety Alerts"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Get alerts about food safety issues for products you've searched"})]}),o.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:m,onChange:F})]})]})]})}),o.jsx(Hr,{value:"community",className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Community Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-safebite-text font-medium",children:"Enable Community Features"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Allow sharing and viewing community-contributed food products"})]}),o.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:x,onChange:G})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-safebite-text font-medium",children:"Share Health Data"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Share anonymized health data to help improve recommendations"})]}),o.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:A,onChange:Y})]}),o.jsxs("div",{className:"p-4 sci-fi-card",children:[o.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Community Contribution"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"You can contribute to the SafeBite community by sharing food products you've scanned or reviewed."}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"1"}),o.jsx("span",{className:"text-safebite-text-secondary",children:"Scan or search for a food product"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"2"}),o.jsx("span",{className:"text-safebite-text-secondary",children:"Add your review or additional information"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"3"}),o.jsx("span",{className:"text-safebite-text-secondary",children:"Share with the community"})]})]})]})]})]})}),o.jsx(Hr,{value:"integrations",className:"space-y-6",children:o.jsx(nce,{onIntegrationToggle:W,integrations:_})})]})]})})]})},At=S.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));At.displayName="Input";var oce="Label",i9=S.forwardRef((t,e)=>o.jsx(He.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i9.displayName=oce;var a9=i9;const lce=Kx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=S.forwardRef(({className:t,...e},r)=>o.jsx(a9,{ref:r,className:Ze(lce(),t),...e}));dt.displayName=a9.displayName;const Us=({size:t="md",text:e,className:r=""})=>{const n={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-16 w-16 border-4"};return o.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[o.jsx("div",{className:`animate-spin rounded-full border-t-transparent border-safebite-teal ${n[t]}`,"aria-label":"Loading"}),e&&o.jsx("p",{className:"mt-3 text-safebite-text-secondary",children:e})]})},cce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(!1),[s,l]=S.useState(!1),u=Cn(),{toast:f}=Vr(),h=Jt(We),p=async y=>{y.preventDefault(),l(!0);try{await qre(h,t,r),f({title:"Login successful",description:"Welcome back to SafeBite!"}),u("/dashboard")}catch(_){console.error("Login error:",_),f({title:"Login failed",description:_.message,variant:"destructive"})}finally{l(!1)}},m=async()=>{l(!0);const y=new Sa;try{await XT(h,y),f({title:"Google login successful",description:"Welcome to SafeBite!"}),u("/dashboard")}catch(_){console.error("Google login error:",_),f({title:"Google login failed",description:_.message,variant:"destructive"})}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:o.jsxs(Fe,{className:"sci-fi-card max-w-md w-full p-6",children:[o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"SafeBite"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Sign in to access your health dashboard"})]}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(dt,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(_p,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{id:"email",placeholder:"your.email@example.com",type:"email",className:"sci-fi-input pl-10",value:t,onChange:y=>e(y.target.value),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(dt,{htmlFor:"password",children:"Password"}),o.jsx(Ft,{to:"/auth/forgot-password",className:"text-xs text-safebite-teal hover:text-safebite-teal/80",children:"Forgot password?"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Kj,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{id:"password",placeholder:"••••••••",type:i?"text":"password",className:"sci-fi-input pl-10",value:r,onChange:y=>n(y.target.value),required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-2.5",children:i?o.jsx(SY,{className:"h-5 w-5 text-safebite-text-secondary"}):o.jsx(vV,{className:"h-5 w-5 text-safebite-text-secondary"})})]})]}),o.jsxs(oe,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:s,children:[s?o.jsx(Us,{size:"sm",className:"mr-2"}):null,"Sign In"]})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-safebite-card-bg-alt"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-safebite-card-bg px-2 text-safebite-text-secondary",children:"Or continue with"})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs(oe,{variant:"outline",className:"sci-fi-button",onClick:m,disabled:s,children:[o.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),o.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),o.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),o.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),"Google"]})}),o.jsxs("div",{className:"mt-6 text-center text-sm",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Don't have an account? "}),o.jsx(Ft,{to:"/auth/signup",className:"text-safebite-teal hover:text-safebite-teal/80",children:"Sign up"})]})]})})},uce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(""),[s,l]=S.useState(""),[u,f]=S.useState(!1),[h,p]=S.useState(""),m=Cn(),{toast:y}=Vr(),_=Jt(We),b=async N=>{if(N.preventDefault(),!t||!r||!i||!s){p("Please fill in all fields");return}if(i!==s){p("Passwords do not match");return}if(i.length<6){p("Password must be at least 6 characters long");return}f(!0),p("");try{await zre(_,r,i),y({title:"Account created",description:"Welcome to SafeBite! Please answer a few questions to personalize your experience."}),m("/questionnaire")}catch(A){console.error("Signup error:",A),p(A.message)}finally{f(!1)}},x=async()=>{f(!0),p("");const N=new Sa;try{await XT(_,N),y({title:"Account created",description:"Welcome to SafeBite! Let's get started with some questions."}),m("/questionnaire")}catch(A){console.error("Google signup error:",A),p(A.message)}finally{f(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Create Account"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Join SafeBite and start your health journey"})]}),o.jsxs("div",{className:"sci-fi-card",children:[h&&o.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[o.jsx(_f,{className:"h-5 w-5 mr-2 flex-shrink-0"}),o.jsx("p",{className:"text-sm",children:h})]}),o.jsx("form",{onSubmit:b,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(dt,{htmlFor:"name",className:"text-safebite-text",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(dy,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{id:"name",type:"text",placeholder:"Enter your full name",value:t,onChange:N=>e(N.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(dt,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(_p,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:N=>n(N.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(dt,{htmlFor:"password",className:"text-safebite-text",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Kj,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{id:"password",type:"password",placeholder:"Create a password",value:i,onChange:N=>a(N.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(dt,{htmlFor:"confirm-password",className:"text-safebite-text",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Kj,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:s,onChange:N=>l(N.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),o.jsx(oe,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:u,children:u?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating account..."]}):o.jsxs("span",{className:"flex items-center",children:[o.jsx(qY,{className:"mr-2 h-5 w-5"}),"Create Account"]})}),o.jsx($T,{className:"my-6 bg-safebite-card-bg-alt"}),o.jsxs(oe,{type:"button",variant:"outline",className:"w-full border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:x,disabled:u,children:[o.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})]})})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-safebite-text-secondary",children:["Already have an account?"," ",o.jsx(Ft,{to:"/auth/login",className:"text-safebite-teal hover:underline",children:"Sign in"})]})})]})})},dce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(!1),[i,a]=S.useState(!1),[s,l]=S.useState(""),{toast:u}=Vr(),f=async h=>{if(h.preventDefault(),!t){l("Please enter your email");return}n(!0),l("");try{setTimeout(()=>{console.log("Password reset email sent to:",t),a(!0),u({title:"Reset link sent",description:"If your email exists in our system, you'll receive a reset link shortly."})},1500)}catch(p){console.error("Password reset error:",p),l("Failed to send reset link. Please try again.")}finally{n(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Forgot Password"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"We'll send you a link to reset your password"})]}),o.jsxs("div",{className:"sci-fi-card",children:[s&&o.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[o.jsx(_f,{className:"h-5 w-5 mr-2 flex-shrink-0"}),o.jsx("p",{className:"text-sm",children:s})]}),i?o.jsxs("div",{className:"text-center py-6",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 text-green-400 mb-4",children:o.jsx(_p,{className:"h-8 w-8"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text",children:"Check Your Email"}),o.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["We've sent a password reset link to ",o.jsx("span",{className:"text-safebite-teal",children:t}),". Follow the instructions in the email to reset your password."]}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>a(!1),children:"Back to Reset"})]}):o.jsx("form",{onSubmit:f,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(dt,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(_p,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:h=>e(h.target.value),className:"sci-fi-input pl-10",disabled:r})]})]}),o.jsx(oe,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:r,children:r?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"Send Reset Link"})]})})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs(Ft,{to:"/auth/login",className:"inline-flex items-center text-safebite-teal hover:underline",children:[o.jsx(Yx,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})})};function fce(t,e=[]){let r=[];function n(a,s){const l=S.createContext(s),u=r.length;r=[...r,s];function f(p){const{scope:m,children:y,..._}=p,b=(m==null?void 0:m[t][u])||l,x=S.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:x,children:y})}function h(p,m){const y=(m==null?void 0:m[t][u])||l,_=S.useContext(y);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,h]}const i=()=>{const a=r.map(s=>S.createContext(s));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,hce(i,...e)]}function hce(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...l,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var JP="Progress",ZP=100,[pce,XTe]=fce(JP),[mce,gce]=pce(JP),s9=S.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=vce,...s}=t;(i||i===0)&&!cM(i)&&console.error(yce(`${i}`,"Progress"));const l=cM(i)?i:ZP;n!==null&&!uM(n,l)&&console.error(xce(`${n}`,"Progress"));const u=uM(n,l)?n:null,f=By(u)?a(u,l):void 0;return o.jsx(mce,{scope:r,value:u,max:l,children:o.jsx(He.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":By(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":c9(u,l),"data-value":u??void 0,"data-max":l,...s,ref:e})})});s9.displayName=JP;var o9="ProgressIndicator",l9=S.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=gce(o9,r);return o.jsx(He.div,{"data-state":c9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});l9.displayName=o9;function vce(t,e){return`${Math.round(t/e*100)}%`}function c9(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function By(t){return typeof t=="number"}function cM(t){return By(t)&&!isNaN(t)&&t>0}function uM(t,e){return By(t)&&!isNaN(t)&&t<=e&&t>=0}function yce(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ZP}\`.`}function xce(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ZP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var u9=s9,bce=l9;const Vp=S.forwardRef(({className:t,value:e,...r},n)=>o.jsx(u9,{ref:n,className:Ze("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:o.jsx(bce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Vp.displayName=u9.displayName;var eC="Radio",[wce,d9]=Oa(eC),[_ce,Sce]=wce(eC),f9=S.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:s,value:l="on",onCheck:u,form:f,...h}=t,[p,m]=S.useState(null),y=Nt(e,x=>m(x)),_=S.useRef(!1),b=p?f||!!p.closest("form"):!0;return o.jsxs(_ce,{scope:r,checked:i,disabled:s,children:[o.jsx(He.button,{type:"button",role:"radio","aria-checked":i,"data-state":m9(i),"data-disabled":s?"":void 0,disabled:s,value:l,...h,ref:y,onClick:Be(t.onClick,x=>{i||u==null||u(),b&&(_.current=x.isPropagationStopped(),_.current||x.stopPropagation())})}),b&&o.jsx(Ece,{control:p,bubbles:!_.current,name:n,value:l,checked:i,required:a,disabled:s,form:f,style:{transform:"translateX(-100%)"}})]})});f9.displayName=eC;var h9="RadioIndicator",p9=S.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=Sce(h9,r);return o.jsx(mo,{present:n||a.checked,children:o.jsx(He.span,{"data-state":m9(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});p9.displayName=h9;var Ece=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=S.useRef(null),s=Um(r),l=Tm(e);return S.useEffect(()=>{const u=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(m)}},[s,r,n]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m9(t){return t?"checked":"unchecked"}var jce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tC="RadioGroup",[Ace,JTe]=Oa(tC,[Fb,d9]),g9=Fb(),v9=d9(),[Nce,Tce]=Ace(tC),y9=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:s=!1,disabled:l=!1,orientation:u,dir:f,loop:h=!0,onValueChange:p,...m}=t,y=g9(r),_=Bm(f),[b,x]=Ta({prop:a,defaultProp:i,onChange:p});return o.jsx(Nce,{scope:r,name:n,required:s,disabled:l,value:b,onValueChange:x,children:o.jsx($8,{asChild:!0,...y,orientation:u,dir:_,loop:h,children:o.jsx(He.div,{role:"radiogroup","aria-required":s,"aria-orientation":u,"data-disabled":l?"":void 0,dir:_,...m,ref:e})})})});y9.displayName=tC;var x9="RadioGroupItem",b9=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=Tce(x9,r),s=a.disabled||n,l=g9(r),u=v9(r),f=S.useRef(null),h=Nt(e,f),p=a.value===i.value,m=S.useRef(!1);return S.useEffect(()=>{const y=b=>{jce.includes(b.key)&&(m.current=!0)},_=()=>m.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",_)}},[]),o.jsx(F8,{asChild:!0,...l,focusable:!s,active:p,children:o.jsx(f9,{disabled:s,required:a.required,checked:p,...u,...i,name:a.name,ref:h,onCheck:()=>a.onValueChange(i.value),onKeyDown:Be(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Be(i.onFocus,()=>{var y;m.current&&((y=f.current)==null||y.click())})})})});b9.displayName=x9;var Pce="RadioGroupIndicator",w9=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=v9(r);return o.jsx(p9,{...i,...n,ref:e})});w9.displayName=Pce;var _9=y9,S9=b9,Cce=w9;const E9=S.forwardRef(({className:t,...e},r)=>o.jsx(_9,{className:Ze("grid gap-2",t),...e,ref:r}));E9.displayName=_9.displayName;const j9=S.forwardRef(({className:t,...e},r)=>o.jsx(S9,{ref:r,className:Ze("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(Cce,{className:"flex items-center justify-center",children:o.jsx(bY,{className:"h-2.5 w-2.5 fill-current text-current"})})}));j9.displayName=S9.displayName;function Uy(t,[e,r]){return Math.min(r,Math.max(e,t))}var A9=["PageUp","PageDown"],N9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Lf="Slider",[FA,kce,Ice]=qx(Lf),[P9,ZTe]=Oa(Lf,[Ice]),[Oce,Vb]=P9(Lf),C9=S.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[n],value:h,onValueChange:p=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:_,...b}=t,x=S.useRef(new Set),N=S.useRef(0),j=s==="horizontal"?Rce:Mce,[E=[],P]=Ta({prop:h,defaultProp:f,onChange:D=>{var $;($=[...x.current][N.current])==null||$.focus(),p(D)}}),R=S.useRef(E);function C(D){const V=Vce(E,D);F(D,V)}function I(D){F(D,N.current)}function M(){const D=R.current[N.current];E[N.current]!==D&&m(E)}function F(D,V,{commit:$}={commit:!1}){const H=qce(a),G=Hce(Math.round((D-n)/a)*a+n,H),Y=Uy(G,[n,i]);P((Q=[])=>{const W=$ce(Q,Y,V);if(zce(W,u*a)){N.current=W.indexOf(Y);const J=String(W)!==String(Q);return J&&$&&m(W),J?W:Q}else return Q})}return o.jsx(Oce,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:N,thumbs:x.current,values:E,orientation:s,form:_,children:o.jsx(FA.Provider,{scope:t.__scopeSlider,children:o.jsx(FA.Slot,{scope:t.__scopeSlider,children:o.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:e,onPointerDown:Be(b.onPointerDown,()=>{l||(R.current=E)}),min:n,max:i,inverted:y,onSlideStart:l?void 0:C,onSlideMove:l?void 0:I,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&F(n,0,{commit:!0}),onEndKeyDown:()=>!l&&F(i,E.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:V})=>{if(!l){const G=A9.includes(D.key)||D.shiftKey&&N9.includes(D.key)?10:1,Y=N.current,Q=E[Y],W=a*G*V;F(Q+W,Y,{commit:!0})}}})})})})});C9.displayName=Lf;var[k9,I9]=P9(Lf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Rce=S.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:u,onStepKeyDown:f,...h}=t,[p,m]=S.useState(null),y=Nt(e,j=>m(j)),_=S.useRef(),b=Bm(i),x=b==="ltr",N=x&&!a||!x&&a;function A(j){const E=_.current||p.getBoundingClientRect(),P=[0,E.width],C=rC(P,N?[r,n]:[n,r]);return _.current=E,C(j-E.left)}return o.jsx(k9,{scope:t.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:o.jsx(O9,{dir:b,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const E=A(j.clientX);s==null||s(E)},onSlideMove:j=>{const E=A(j.clientX);l==null||l(E)},onSlideEnd:()=>{_.current=void 0,u==null||u()},onStepKeyDown:j=>{const P=T9[N?"from-left":"from-right"].includes(j.key);f==null||f({event:j,direction:P?-1:1})}})})}),Mce=S.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:u,...f}=t,h=S.useRef(null),p=Nt(e,h),m=S.useRef(),y=!i;function _(b){const x=m.current||h.current.getBoundingClientRect(),N=[0,x.height],j=rC(N,y?[n,r]:[r,n]);return m.current=x,j(b-x.top)}return o.jsx(k9,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(O9,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const x=_(b.clientY);a==null||a(x)},onSlideMove:b=>{const x=_(b.clientY);s==null||s(x)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:b=>{const N=T9[y?"from-bottom":"from-top"].includes(b.key);u==null||u({event:b,direction:N?-1:1})}})})}),O9=S.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:u,...f}=t,h=Vb(Lf,r);return o.jsx(He.span,{...f,ref:e,onKeyDown:Be(t.onKeyDown,p=>{p.key==="Home"?(s(p),p.preventDefault()):p.key==="End"?(l(p),p.preventDefault()):A9.concat(N9).includes(p.key)&&(u(p),p.preventDefault())}),onPointerDown:Be(t.onPointerDown,p=>{const m=p.target;m.setPointerCapture(p.pointerId),p.preventDefault(),h.thumbs.has(m)?m.focus():n(p)}),onPointerMove:Be(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&i(p)}),onPointerUp:Be(t.onPointerUp,p=>{const m=p.target;m.hasPointerCapture(p.pointerId)&&(m.releasePointerCapture(p.pointerId),a(p))})})}),R9="SliderTrack",M9=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Vb(R9,r);return o.jsx(He.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});M9.displayName=R9;var VA="SliderRange",D9=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Vb(VA,r),a=I9(VA,r),s=S.useRef(null),l=Nt(e,s),u=i.values.length,f=i.values.map(m=>$9(m,i.min,i.max)),h=u>1?Math.min(...f):0,p=100-Math.max(...f);return o.jsx(He.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:h+"%",[a.endEdge]:p+"%"}})});D9.displayName=VA;var BA="SliderThumb",L9=S.forwardRef((t,e)=>{const r=kce(t.__scopeSlider),[n,i]=S.useState(null),a=Nt(e,l=>i(l)),s=S.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(Dce,{...t,ref:a,index:s})}),Dce=S.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...a}=t,s=Vb(BA,r),l=I9(BA,r),[u,f]=S.useState(null),h=Nt(e,A=>f(A)),p=u?s.form||!!u.closest("form"):!0,m=Tm(u),y=s.values[n],_=y===void 0?0:$9(y,s.min,s.max),b=Fce(n,s.values.length),x=m==null?void 0:m[l.size],N=x?Bce(x,_,l.direction):0;return S.useEffect(()=>{if(u)return s.thumbs.add(u),()=>{s.thumbs.delete(u)}},[u,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${_}% + ${N}px)`},children:[o.jsx(FA.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(He.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":s.min,"aria-valuenow":y,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...a,ref:h,style:y===void 0?{display:"none"}:t.style,onFocus:Be(t.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),p&&o.jsx(Lce,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:y},n)]})});L9.displayName=BA;var Lce=t=>{const{value:e,...r}=t,n=S.useRef(null),i=Um(e);return S.useEffect(()=>{const a=n.current,s=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&u){const f=new Event("input",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[i,e]),o.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function $ce(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,a)=>i-a)}function $9(t,e,r){const a=100/(r-e)*(t-e);return Uy(a,[0,100])}function Fce(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Vce(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Bce(t,e,r){const n=t/2,a=rC([0,50],[0,n]);return(n-a(e)*r)*r}function Uce(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function zce(t,e){if(e>0){const r=Uce(t);return Math.min(...r)>=e}return!0}function rC(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function qce(t){return(String(t).split(".")[1]||"").length}function Hce(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var F9=C9,Wce=M9,Gce=D9,Kce=L9;const V9=S.forwardRef(({className:t,...e},r)=>o.jsxs(F9,{ref:r,className:Ze("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(Wce,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(Gce,{className:"absolute h-full bg-primary"})}),o.jsx(Kce,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));V9.displayName=F9.displayName;const Yce=({question:t,value:e,onChange:r,onNext:n,onBack:i,isFirst:a=!1,isLast:s=!1,isLoading:l=!1})=>{const[u,f]=S.useState(e),h=m=>{f(m),r(t.id,m)},p=()=>{var m;switch(t.type){case"radio":return o.jsx(E9,{value:u,onValueChange:h,children:o.jsx("div",{className:"space-y-3",children:(m=t.options)==null?void 0:m.map(y=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(j9,{value:y,id:`${t.id}-${y}`,className:"border-safebite-text-secondary text-safebite-teal"}),o.jsx(dt,{htmlFor:`${t.id}-${y}`,className:"text-safebite-text",children:y})]},y))})});case"text":return o.jsx(At,{type:"text",value:u||"",onChange:y=>h(y.target.value),className:"sci-fi-input mt-2"});case"slider":return o.jsxs("div",{className:"space-y-4 mt-6",children:[o.jsx(V9,{value:[u],min:t.min||0,max:t.max||100,step:t.step||1,onValueChange:y=>h(y[0]),className:"mt-2"}),o.jsxs("div",{className:"flex justify-between text-safebite-text-secondary text-sm",children:[o.jsx("span",{children:t.min}),o.jsxs("span",{className:"text-safebite-teal font-medium",children:["Current: ",u]}),o.jsx("span",{children:t.max})]})]});default:return null}};return o.jsxs("div",{className:"sci-fi-card",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:t.question}),p(),o.jsxs("div",{className:"flex justify-between mt-8",children:[a?o.jsx("div",{}):o.jsx(oe,{type:"button",variant:"outline",onClick:i,className:"sci-fi-button",children:"Back"}),o.jsx(oe,{type:"button",onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:l,children:l?s?"Submitting...":"Loading...":s?"Submit":"Next"})]})]})},Qce=({achievement:t,size:e="md",showXP:r=!0,className:n=""})=>{const i={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},a={sm:24,md:32,lg:48},s=()=>{const l=a[e];switch(t.icon){case"trophy":return o.jsx(fd,{size:l,className:"text-yellow-400"});case"award":return o.jsx(bp,{size:l,className:"text-blue-400"});case"star":return o.jsx(qi,{size:l,className:"text-purple-400"});case"medal":return o.jsx(OY,{size:l,className:"text-green-400"});case"zap":return o.jsx(ss,{size:l,className:"text-safebite-teal"});default:return o.jsx(fd,{size:l,className:"text-yellow-400"})}};return o.jsxs("div",{className:`flex flex-col items-center ${n}`,children:[o.jsxs("div",{className:`${i[e]} relative flex items-center justify-center`,children:[o.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/20 blur-md"}),o.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal flex items-center justify-center bg-safebite-card-bg",children:s()}),r&&o.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-safebite-teal text-safebite-dark-blue text-xs font-bold rounded-full px-2 py-1 border border-safebite-dark-blue",children:["+",t.xp," XP"]})]}),o.jsx("h3",{className:"mt-2 text-safebite-text font-medium text-center",children:t.title}),t.completed?o.jsx(Mt,{variant:"outline",className:"mt-1 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/50",children:"Completed"}):o.jsx(Mt,{variant:"outline",className:"mt-1 bg-safebite-card-bg-alt text-safebite-text-secondary",children:"In Progress"})]})},Xce=({onClose:t})=>{const[e,r]=S.useState(!1);S.useEffect(()=>{const a=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(a)},[]);const n=()=>{r(!1),setTimeout(t,300)},i={id:"questionnaire_complete",title:"Profile Complete",description:"Completed your health profile questionnaire",xp:10,icon:"trophy",completed:!0,date:new Date};return o.jsxs("div",{className:`fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:n}),o.jsxs("div",{className:"relative bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 max-w-md w-full transform transition-all duration-300 sci-fi-card",children:[o.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-safebite-text-secondary hover:text-safebite-text",children:o.jsx(Qi,{size:20})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Achievement Unlocked!"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"You've earned your first achievement badge and XP points."})]}),o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(Qce,{achievement:i,size:"lg",showXP:!0})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Continue using SafeBite to earn more achievements and XP points!"}),o.jsx(oe,{onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Continue to Dashboard"})]})]})]})},Qo=[{id:"age",type:"radio",question:"What is your age?",options:["18-25","26-35","36-45","46-55","55+"]},{id:"gender",type:"radio",question:"What is your gender?",options:["Male","Female","Other"]},{id:"height_weight",type:"text",question:"What is your height and weight? (e.g., 170cm, 70kg)"},{id:"activity_level",type:"radio",question:"What is your activity level?",options:["Sedentary","Lightly Active","Active","Very Active"]},{id:"health_conditions",type:"radio",question:"Do you have any known health conditions?",options:["Diabetes","Hypertension","Heart Issues","None"]},{id:"dietary_preferences",type:"radio",question:"Do you have any dietary preferences?",options:["Veg","Vegan","Non-Veg","Keto","Gluten-Free","Other"]},{id:"food_allergies",type:"text",question:"Do you have any food allergies? (Check common allergens or manually input)"},{id:"meals_per_day",type:"radio",question:"How many meals do you eat per day?",options:["2","3","4","5+"]},{id:"water_intake",type:"radio",question:"How much water do you drink daily?",options:["<1L","1-2L","2-3L","3L+"]},{id:"outside_food",type:"radio",question:"How often do you eat outside or order food?",options:["Rarely","Weekly","Daily"]},{id:"homemade_processed",type:"radio",question:"Do you prefer homemade or processed foods?",options:["Homemade","Processed","Mixed"]},{id:"packaged_food",type:"radio",question:"How often do you eat packaged food?",options:["Rarely","Weekly","Daily"]},{id:"food_priorities",type:"radio",question:"What do you prioritize while choosing food?",options:["Taste","Health","Price","Convenience"]},{id:"sugary_drinks",type:"radio",question:"Do you consume sugary drinks often?",options:["Yes","No","Occasionally"]},{id:"protein_source",type:"radio",question:"What’s your usual protein source?",options:["Veg","Dairy","Meat","Eggs","Mix"]},{id:"calorie_tracking",type:"radio",question:"Do you track your calorie intake?",options:["Yes","No","Sometimes"]},{id:"health_goals",type:"radio",question:"What are your health goals?",options:["Weight Loss","Muscle Gain","General Health","No Goal"]},{id:"exercise_frequency",type:"radio",question:"How often do you exercise?",options:["Never","Weekly","3-4 Times a Week","Daily"]},{id:"diet_recommendations",type:"radio",question:"Are you looking for diet & meal plan recommendations?",options:["Yes","No","Maybe Later"]},{id:"reminders",type:"radio",question:"Would you like reminders for healthy habits?",options:["Yes","No","Maybe Later"]},{id:"food_safety_alerts",type:"radio",question:"Would you like food safety alerts for the products you buy?",options:["Yes","No","Maybe Later"]},{id:"username",type:"text",question:"What name would you like us to call you?"}],Jce=()=>{const t=Cn(),{toast:e}=Vr(),[r,n]=S.useState(0),[i,a]=S.useState({}),[s,l]=S.useState(!1),[u,f]=S.useState(""),[h,p]=S.useState(!1),m=Jt(We),y=lr(We);S.useEffect(()=>{const E={};Qo.forEach(P=>{P.type==="radio"?E[P.id]=void 0:P.type==="text"?E[P.id]="":E[P.id]=null}),a(E)},[]);const _=(E,P)=>{a(R=>({...R,[E]:P})),f("")},b=E=>E?/^\d+(\.\d+)?cm, ?\d+(\.\d+)?kg$/.test(E.trim()):!1,x=async()=>{f("");const E=Qo[r],P=i[E.id];if(["diet_recommendations","reminders","food_safety_alerts"].includes(E.id))P===void 0&&onChange(E.id,"Yes");else{if(P===void 0||P===""){f("Please answer this question before proceeding."),e({title:"Missing Answer",description:"Please answer the current question.",variant:"destructive"});return}if(E.id==="height_weight"&&!b(P)){f("Please enter height and weight in the correct format (e.g., 170cm, 70kg)"),e({title:"Invalid Format",description:"Please enter height and weight in the format '170cm, 70kg'.",variant:"destructive"});return}}if(l(!0),r===Qo.length-1){const C=m.currentUser;if(C){const I=C.uid,M=Dt(y,"users",I);try{await zn(M,{profile:i,questionnaireCompleted:!0,lastWeeklyPrompt:null,achievements:{questionnaire:{completed:!0,date:new Date,xp:10}},xp:10},{merge:!0}),e({title:"Questionnaire completed!",description:"Your profile is set up. You earned 10 XP!"}),p(!0),l(!1)}catch(F){e({title:"Error saving profile",description:F.message,variant:"destructive"}),console.error("Error writing user profile to Firestore: ",F),f("Failed to save your profile. Please try again.")}finally{l(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),l(!1),t("/auth/login")}else n(C=>C+1),l(!1)},N=()=>{f(""),n(E=>Math.max(0,E-1))},A=(r+1)/Qo.length*100,j=()=>{p(!1),t("/dashboard")};return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:[h&&o.jsx(Xce,{onClose:j}),o.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Let's Get to Know You"}),o.jsx("p",{className:"text-safebite-text-secondary",children:s?"Saving your profile...":"Help us personalize your SafeBite experience."})]}),s?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Us,{size:"lg"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",r+1,"/",Qo.length]}),o.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(A),"% Complete"]})]}),o.jsx(Vp,{value:A,className:"h-2 bg-safebite-card-bg-alt"})]}),u&&o.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[o.jsx(_f,{className:"h-5 w-5 mr-2 flex-shrink-0"}),o.jsx("p",{className:"text-sm",children:u})]}),o.jsx(Yce,{question:Qo[r],value:i[Qo[r].id],onChange:_,onNext:x,onBack:N,isFirst:r===0,isLast:r===Qo.length-1,isLoading:s})]})]})})]})},jv=({title:t,value:e,icon:r,change:n,className:i})=>o.jsxs("div",{className:Ze("sci-fi-card flex flex-col",i),children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-safebite-text-secondary font-medium",children:t}),o.jsx("div",{className:"text-safebite-teal",children:r})]}),o.jsx("div",{className:"text-2xl font-bold text-safebite-text mb-2",children:e}),n&&o.jsxs("div",{className:`text-sm font-medium ${n.isPositive?"text-green-400":"text-red-400"}`,children:[n.isPositive?"↑":"↓"," ",n.value," from last week"]})]});var I_,dM;function oi(){if(dM)return I_;dM=1;var t=Array.isArray;return I_=t,I_}var O_,fM;function B9(){if(fM)return O_;fM=1;var t=typeof fv=="object"&&fv&&fv.Object===Object&&fv;return O_=t,O_}var R_,hM;function bs(){if(hM)return R_;hM=1;var t=B9(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return R_=r,R_}var M_,pM;function zm(){if(pM)return M_;pM=1;var t=bs(),e=t.Symbol;return M_=e,M_}var D_,mM;function Zce(){if(mM)return D_;mM=1;var t=zm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=r.call(s,i),u=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(l?s[i]=u:delete s[i]),h}return D_=a,D_}var L_,gM;function eue(){if(gM)return L_;gM=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return L_=r,L_}var $_,vM;function yo(){if(vM)return $_;vM=1;var t=zm(),e=Zce(),r=eue(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return $_=s,$_}var F_,yM;function xo(){if(yM)return F_;yM=1;function t(e){return e!=null&&typeof e=="object"}return F_=t,F_}var V_,xM;function $f(){if(xM)return V_;xM=1;var t=yo(),e=xo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return V_=n,V_}var B_,bM;function nC(){if(bM)return B_;bM=1;var t=oi(),e=$f(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return B_=i,B_}var U_,wM;function Ul(){if(wM)return U_;wM=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return U_=t,U_}var z_,_M;function iC(){if(_M)return z_;_M=1;var t=yo(),e=Ul(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var u=t(l);return u==n||u==i||u==r||u==a}return z_=s,z_}var q_,SM;function tue(){if(SM)return q_;SM=1;var t=bs(),e=t["__core-js_shared__"];return q_=e,q_}var H_,EM;function rue(){if(EM)return H_;EM=1;var t=tue(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return H_=r,H_}var W_,jM;function U9(){if(jM)return W_;jM=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return W_=r,W_}var G_,AM;function nue(){if(AM)return G_;AM=1;var t=iC(),e=rue(),r=Ul(),n=U9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,u=s.toString,f=l.hasOwnProperty,h=RegExp("^"+u.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!r(m)||e(m))return!1;var y=t(m)?h:a;return y.test(n(m))}return G_=p,G_}var K_,NM;function iue(){if(NM)return K_;NM=1;function t(e,r){return e==null?void 0:e[r]}return K_=t,K_}var Y_,TM;function su(){if(TM)return Y_;TM=1;var t=nue(),e=iue();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Y_=r,Y_}var Q_,PM;function Bb(){if(PM)return Q_;PM=1;var t=su(),e=t(Object,"create");return Q_=e,Q_}var X_,CM;function aue(){if(CM)return X_;CM=1;var t=Bb();function e(){this.__data__=t?t(null):{},this.size=0}return X_=e,X_}var J_,kM;function sue(){if(kM)return J_;kM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return J_=t,J_}var Z_,IM;function oue(){if(IM)return Z_;IM=1;var t=Bb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return n.call(s,a)?s[a]:void 0}return Z_=i,Z_}var e1,OM;function lue(){if(OM)return e1;OM=1;var t=Bb(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return e1=n,e1}var t1,RM;function cue(){if(RM)return t1;RM=1;var t=Bb(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return t1=r,t1}var r1,MM;function uue(){if(MM)return r1;MM=1;var t=aue(),e=sue(),r=oue(),n=lue(),i=cue();function a(s){var l=-1,u=s==null?0:s.length;for(this.clear();++l<u;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,r1=a,r1}var n1,DM;function due(){if(DM)return n1;DM=1;function t(){this.__data__=[],this.size=0}return n1=t,n1}var i1,LM;function aC(){if(LM)return i1;LM=1;function t(e,r){return e===r||e!==e&&r!==r}return i1=t,i1}var a1,$M;function Ub(){if($M)return a1;$M=1;var t=aC();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return a1=e,a1}var s1,FM;function fue(){if(FM)return s1;FM=1;var t=Ub(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():r.call(a,s,1),--this.size,!0}return s1=n,s1}var o1,VM;function hue(){if(VM)return o1;VM=1;var t=Ub();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return o1=e,o1}var l1,BM;function pue(){if(BM)return l1;BM=1;var t=Ub();function e(r){return t(this.__data__,r)>-1}return l1=e,l1}var c1,UM;function mue(){if(UM)return c1;UM=1;var t=Ub();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return c1=e,c1}var u1,zM;function zb(){if(zM)return u1;zM=1;var t=due(),e=fue(),r=hue(),n=pue(),i=mue();function a(s){var l=-1,u=s==null?0:s.length;for(this.clear();++l<u;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,u1=a,u1}var d1,qM;function sC(){if(qM)return d1;qM=1;var t=su(),e=bs(),r=t(e,"Map");return d1=r,d1}var f1,HM;function gue(){if(HM)return f1;HM=1;var t=uue(),e=zb(),r=sC();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return f1=n,f1}var h1,WM;function vue(){if(WM)return h1;WM=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return h1=t,h1}var p1,GM;function qb(){if(GM)return p1;GM=1;var t=vue();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return p1=e,p1}var m1,KM;function yue(){if(KM)return m1;KM=1;var t=qb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return m1=e,m1}var g1,YM;function xue(){if(YM)return g1;YM=1;var t=qb();function e(r){return t(this,r).get(r)}return g1=e,g1}var v1,QM;function bue(){if(QM)return v1;QM=1;var t=qb();function e(r){return t(this,r).has(r)}return v1=e,v1}var y1,XM;function wue(){if(XM)return y1;XM=1;var t=qb();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return y1=e,y1}var x1,JM;function oC(){if(JM)return x1;JM=1;var t=gue(),e=yue(),r=xue(),n=bue(),i=wue();function a(s){var l=-1,u=s==null?0:s.length;for(this.clear();++l<u;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,x1=a,x1}var b1,ZM;function z9(){if(ZM)return b1;ZM=1;var t=oC(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],u=a.cache;if(u.has(l))return u.get(l);var f=n.apply(this,s);return a.cache=u.set(l,f)||u,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,b1=r,b1}var w1,eD;function _ue(){if(eD)return w1;eD=1;var t=z9(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return w1=r,w1}var _1,tD;function Sue(){if(tD)return _1;tD=1;var t=_ue(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,u,f){a.push(u?f.replace(r,"$1"):l||s)}),a});return _1=n,_1}var S1,rD;function lC(){if(rD)return S1;rD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return S1=t,S1}var E1,nD;function Eue(){if(nD)return E1;nD=1;var t=zm(),e=lC(),r=oi(),n=$f(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return a?a.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return E1=s,E1}var j1,iD;function q9(){if(iD)return j1;iD=1;var t=Eue();function e(r){return r==null?"":t(r)}return j1=e,j1}var A1,aD;function H9(){if(aD)return A1;aD=1;var t=oi(),e=nC(),r=Sue(),n=q9();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return A1=i,A1}var N1,sD;function Hb(){if(sD)return N1;sD=1;var t=$f();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return N1=e,N1}var T1,oD;function cC(){if(oD)return T1;oD=1;var t=H9(),e=Hb();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return T1=r,T1}var P1,lD;function W9(){if(lD)return P1;lD=1;var t=cC();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return P1=e,P1}var jue=W9();const Ni=Kt(jue);var C1,cD;function Aue(){if(cD)return C1;cD=1;function t(e){return e==null}return C1=t,C1}var Nue=Aue();const ft=Kt(Nue);var k1,uD;function Tue(){if(uD)return k1;uD=1;var t=yo(),e=oi(),r=xo(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return k1=i,k1}var Pue=Tue();const qm=Kt(Pue);var Cue=iC();const at=Kt(Cue);var kue=Ul();const Ff=Kt(kue);var I1={exports:{}},Wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function Iue(){if(dD)return Wt;dD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function b(x){if(typeof x=="object"&&x!==null){var N=x.$$typeof;switch(N){case t:switch(x=x.type,x){case r:case i:case n:case f:case h:return x;default:switch(x=x&&x.$$typeof,x){case l:case s:case u:case m:case p:case a:return x;default:return N}}case e:return N}}}return Wt.ContextConsumer=s,Wt.ContextProvider=a,Wt.Element=t,Wt.ForwardRef=u,Wt.Fragment=r,Wt.Lazy=m,Wt.Memo=p,Wt.Portal=e,Wt.Profiler=i,Wt.StrictMode=n,Wt.Suspense=f,Wt.SuspenseList=h,Wt.isAsyncMode=function(){return!1},Wt.isConcurrentMode=function(){return!1},Wt.isContextConsumer=function(x){return b(x)===s},Wt.isContextProvider=function(x){return b(x)===a},Wt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Wt.isForwardRef=function(x){return b(x)===u},Wt.isFragment=function(x){return b(x)===r},Wt.isLazy=function(x){return b(x)===m},Wt.isMemo=function(x){return b(x)===p},Wt.isPortal=function(x){return b(x)===e},Wt.isProfiler=function(x){return b(x)===i},Wt.isStrictMode=function(x){return b(x)===n},Wt.isSuspense=function(x){return b(x)===f},Wt.isSuspenseList=function(x){return b(x)===h},Wt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===f||x===h||x===y||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===p||x.$$typeof===a||x.$$typeof===s||x.$$typeof===u||x.$$typeof===_||x.getModuleId!==void 0)},Wt.typeOf=b,Wt}var fD;function Oue(){return fD||(fD=1,I1.exports=Iue()),I1.exports}var G9=Oue(),O1,hD;function K9(){if(hD)return O1;hD=1;var t=yo(),e=xo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return O1=n,O1}var R1,pD;function Rue(){if(pD)return R1;pD=1;var t=K9();function e(r){return t(r)&&r!=+r}return R1=e,R1}var Mue=Rue();const Vf=Kt(Mue);var Due=K9();const Lue=Kt(Due);var Fn=function(e){return e===0?0:e>0?1:-1},Tc=function(e){return qm(e)&&e.indexOf("%")===e.length-1},Se=function(e){return Lue(e)&&!Vf(e)},Gr=function(e){return Se(e)||qm(e)},$ue=0,Bf=function(e){var r=++$ue;return"".concat(e||"").concat(r)},Vn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&!qm(e))return n;var a;if(Tc(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Vf(a)&&(a=n),i&&a>r&&(a=r),a},al=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Fue=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ri=function(e,r){return Se(e)&&Se(r)?function(n){return e+n*(r-e)}:function(){return r}};function zy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ni(n,e))===r})}function xd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function UA(t){"@babel/helpers - typeof";return UA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UA(t)}var Vue=["viewBox","children"],Bue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mD=["points","pathLength"],M1={svg:Vue,polygon:mD,polyline:mD},uC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qy=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!Ff(n))return null;var i={};return Object.keys(n).forEach(function(a){uC.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Uue=function(e,r,n){return function(i){return e(r,n,i),null}},Gc=function(e,r,n){if(!Ff(e)||UA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];uC.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Uue(s,r,n))}),i},zue=["children"],que=["children"];function gD(t,e){if(t==null)return{};var r=Hue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zA(t){"@babel/helpers - typeof";return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zA(t)}var vD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Js=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yD=null,D1=null,dC=function t(e){if(e===yD&&Array.isArray(D1))return D1;var r=[];return S.Children.forEach(e,function(n){ft(n)||(G9.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),D1=r,yD=e,r};function Yi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Js(i)}):n=[Js(e)],dC(t).forEach(function(i){var a=Ni(i,"type.displayName")||Ni(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function xi(t,e){var r=Yi(t,e);return r&&r[0]}var xD=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Se(n)||n<=0||!Se(i)||i<=0)},Wue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gue=function(e){return e&&e.type&&qm(e.type)&&Wue.indexOf(e.type)>=0},Kue=function(e){return e&&zA(e)==="object"&&"clipDot"in e},Yue=function(e,r,n,i){var a,s=(a=M1==null?void 0:M1[i])!==null&&a!==void 0?a:[];return!at(e)&&(i&&s.includes(r)||Bue.includes(r))||n&&uC.includes(r)},Ge=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Ff(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;Yue((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},qA=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return bD(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!bD(a,s))return!1}return!0},bD=function(e,r){if(ft(e)&&ft(r))return!0;if(!ft(e)&&!ft(r)){var n=e.props||{},i=n.children,a=gD(n,zue),s=r.props||{},l=s.children,u=gD(s,que);return i&&l?xd(a,u)&&qA(i,l):!i&&!l?xd(a,u):!1}return!1},wD=function(e,r){var n=[],i={};return dC(e).forEach(function(a,s){if(Gue(a))n.push(a);else if(a){var l=Js(a.type),u=r[l]||{},f=u.handler,h=u.once;if(f&&(!h||!i[l])){var p=f(a,l,s);n.push(p),i[l]=!0}}}),n},Que=function(e){var r=e&&e.type;return r&&vD[r]?vD[r]:null},Xue=function(e,r){return dC(r).indexOf(e)},Jue=["children","width","height","viewBox","className","style","title","desc"];function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HA.apply(this,arguments)}function Zue(t,e){if(t==null)return{};var r=ede(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ede(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,u=t.desc,f=Zue(t,Jue),h=i||{width:r,height:n,x:0,y:0},p=ht("recharts-surface",a);return U.createElement("svg",HA({},Ge(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),U.createElement("title",null,l),U.createElement("desc",null,u),e)}var tde=["children","className"];function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GA.apply(this,arguments)}function rde(t,e){if(t==null)return{};var r=nde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ot=U.forwardRef(function(t,e){var r=t.children,n=t.className,i=rde(t,tde),a=ht("recharts-layer",n);return U.createElement("g",GA({className:a},Ge(i,!0),{ref:e}),r)}),Na=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},L1,_D;function ide(){if(_D)return L1;_D=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return L1=t,L1}var $1,SD;function ade(){if(SD)return $1;SD=1;var t=ide();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return $1=e,$1}var F1,ED;function Y9(){if(ED)return F1;ED=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function u(f){return l.test(f)}return F1=u,F1}var V1,jD;function sde(){if(jD)return V1;jD=1;function t(e){return e.split("")}return V1=t,V1}var B1,AD;function ode(){if(AD)return B1;AD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+u+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",_=f+"?",b="["+a+"]?",x="(?:"+y+"(?:"+[h,p,m].join("|")+")"+b+_+")*",N=b+_+x,A="(?:"+[h+l+"?",l,p,m,s].join("|")+")",j=RegExp(u+"(?="+u+")|"+A+N,"g");function E(P){return P.match(j)||[]}return B1=E,B1}var U1,ND;function lde(){if(ND)return U1;ND=1;var t=sde(),e=Y9(),r=ode();function n(i){return e(i)?r(i):t(i)}return U1=n,U1}var z1,TD;function cde(){if(TD)return z1;TD=1;var t=ade(),e=Y9(),r=lde(),n=q9();function i(a){return function(s){s=n(s);var l=e(s)?r(s):void 0,u=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return u[a]()+f}}return z1=i,z1}var q1,PD;function ude(){if(PD)return q1;PD=1;var t=cde(),e=t("toUpperCase");return q1=e,q1}var dde=ude();const Wb=Kt(dde);function sr(t){return function(){return t}}const Q9=Math.cos,Hy=Math.sin,Ma=Math.sqrt,Wy=Math.PI,Gb=2*Wy,KA=Math.PI,YA=2*KA,_c=1e-6,fde=YA-_c;function X9(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function hde(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return X9;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class pde{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?X9:hde(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=n-e,f=i-r,h=s-e,p=l-r,m=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>_c)if(!(Math.abs(p*u-f*h)>_c)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-s,_=i-l,b=u*u+f*f,x=y*y+_*_,N=Math.sqrt(b),A=Math.sqrt(m),j=a*Math.tan((KA-Math.acos((b+m-x)/(2*N*A)))/2),E=j/A,P=j/N;Math.abs(E-1)>_c&&this._append`L${e+E*h},${r+E*p}`,this._append`A${a},${a},0,0,${+(p*y>h*_)},${this._x1=e+P*u},${this._y1=r+P*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),f=e+l,h=r+u,p=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>_c||Math.abs(this._y1-h)>_c)&&this._append`L${f},${h}`,n&&(m<0&&(m=m%YA+YA),m>fde?this._append`A${n},${n},0,1,${p},${e-l},${r-u}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:m>_c&&this._append`A${n},${n},0,${+(m>=KA)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function fC(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new pde(e)}function hC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J9(t){this._context=t}J9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kb(t){return new J9(t)}function Z9(t){return t[0]}function ez(t){return t[1]}function tz(t,e){var r=sr(!0),n=null,i=Kb,a=null,s=fC(l);t=typeof t=="function"?t:t===void 0?Z9:sr(t),e=typeof e=="function"?e:e===void 0?ez:sr(e);function l(u){var f,h=(u=hC(u)).length,p,m=!1,y;for(n==null&&(a=i(y=s())),f=0;f<=h;++f)!(f<h&&r(p=u[f],f,u))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(p,f,u),+e(p,f,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:sr(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:sr(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:sr(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}function Av(t,e,r){var n=null,i=sr(!0),a=null,s=Kb,l=null,u=fC(f);t=typeof t=="function"?t:t===void 0?Z9:sr(+t),e=typeof e=="function"?e:sr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?ez:sr(+r);function f(p){var m,y,_,b=(p=hC(p)).length,x,N=!1,A,j=new Array(b),E=new Array(b);for(a==null&&(l=s(A=u())),m=0;m<=b;++m){if(!(m<b&&i(x=p[m],m,p))===N)if(N=!N)y=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=m-1;_>=y;--_)l.point(j[_],E[_]);l.lineEnd(),l.areaEnd()}N&&(j[m]=+t(x,m,p),E[m]=+e(x,m,p),l.point(n?+n(x,m,p):j[m],r?+r(x,m,p):E[m]))}if(A)return l=null,A+""||null}function h(){return tz().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:sr(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:sr(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:sr(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:sr(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:sr(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:sr(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:sr(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),f):a},f}class rz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function mde(t){return new rz(t,!0)}function gde(t){return new rz(t,!1)}const pC={draw(t,e){const r=Ma(e/Wy);t.moveTo(r,0),t.arc(0,0,r,0,Gb)}},vde={draw(t,e){const r=Ma(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},nz=Ma(1/3),yde=nz*2,xde={draw(t,e){const r=Ma(e/yde),n=r*nz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},bde={draw(t,e){const r=Ma(e),n=-r/2;t.rect(n,n,r,r)}},wde=.8908130915292852,iz=Hy(Wy/10)/Hy(7*Wy/10),_de=Hy(Gb/10)*iz,Sde=-Q9(Gb/10)*iz,Ede={draw(t,e){const r=Ma(e*wde),n=_de*r,i=Sde*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Gb*a/5,l=Q9(s),u=Hy(s);t.lineTo(u*r,-l*r),t.lineTo(l*n-u*i,u*n+l*i)}t.closePath()}},H1=Ma(3),jde={draw(t,e){const r=-Ma(e/(H1*3));t.moveTo(0,r*2),t.lineTo(-H1*r,-r),t.lineTo(H1*r,-r),t.closePath()}},Fi=-.5,Vi=Ma(3)/2,QA=1/Ma(12),Ade=(QA/2+1)*3,Nde={draw(t,e){const r=Ma(e/Ade),n=r/2,i=r*QA,a=n,s=r*QA+r,l=-a,u=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(l,u),t.lineTo(Fi*n-Vi*i,Vi*n+Fi*i),t.lineTo(Fi*a-Vi*s,Vi*a+Fi*s),t.lineTo(Fi*l-Vi*u,Vi*l+Fi*u),t.lineTo(Fi*n+Vi*i,Fi*i-Vi*n),t.lineTo(Fi*a+Vi*s,Fi*s-Vi*a),t.lineTo(Fi*l+Vi*u,Fi*u-Vi*l),t.closePath()}};function Tde(t,e){let r=null,n=fC(i);t=typeof t=="function"?t:sr(t||pC),e=typeof e=="function"?e:sr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:sr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:sr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Gy(){}function Ky(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function az(t){this._context=t}az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ky(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ky(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pde(t){return new az(t)}function sz(t){this._context=t}sz.prototype={areaStart:Gy,areaEnd:Gy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ky(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cde(t){return new sz(t)}function oz(t){this._context=t}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ky(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kde(t){return new oz(t)}function lz(t){this._context=t}lz.prototype={areaStart:Gy,areaEnd:Gy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ide(t){return new lz(t)}function CD(t){return t<0?-1:1}function kD(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(CD(a)+CD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function ID(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function W1(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,s-l*r,a,s)}function Yy(t){this._context=t}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W1(this,this._t0,ID(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W1(this,ID(this,r=kD(this,t,e)),r);break;default:W1(this,this._t0,r=kD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function cz(t){this._context=new uz(t)}(cz.prototype=Object.create(Yy.prototype)).point=function(t,e){Yy.prototype.point.call(this,e,t)};function uz(t){this._context=t}uz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Ode(t){return new Yy(t)}function Rde(t){return new cz(t)}function dz(t){this._context=t}dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=OD(t),i=OD(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OD(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Mde(t){return new dz(t)}function Yb(t,e){this._context=t,this._t=e}Yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Dde(t){return new Yb(t,.5)}function Lde(t){return new Yb(t,0)}function $de(t){return new Yb(t,1)}function Kd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,l=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function XA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Fde(t,e){return t[e]}function Vde(t){const e=[];return e.key=t,e}function Bde(){var t=sr([]),e=XA,r=Kd,n=Fde;function i(a){var s=Array.from(t.apply(this,arguments),Vde),l,u=s.length,f=-1,h;for(const p of a)for(l=0,++f;l<u;++l)(s[l][f]=[0,+n(p,s[l].key,f,a)]).data=p;for(l=0,h=hC(e(s));l<u;++l)s[h[l]].index=l;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:sr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:sr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?XA:typeof a=="function"?a:sr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Kd,i):r},i}function Ude(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Kd(t,e)}}function zde(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Kd(t,e)}}function qde(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,u=0,f=0;l<s;++l){for(var h=t[e[l]],p=h[n][1]||0,m=h[n-1][1]||0,y=(p-m)/2,_=0;_<l;++_){var b=t[e[_]],x=b[n][1]||0,N=b[n-1][1]||0;y+=x-N}u+=p,f+=y*p}i[n-1][1]+=i[n-1][0]=r,u&&(r-=f/u)}i[n-1][1]+=i[n-1][0]=r,Kd(t,e)}}function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}var Hde=["type","size","sizeType"];function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JA.apply(this,arguments)}function RD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(r),!0).forEach(function(n){Wde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wde(t,e,r){return e=Gde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gde(t){var e=Kde(t,"string");return Bp(e)=="symbol"?e:e+""}function Kde(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){if(t==null)return{};var r=Qde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fz={symbolCircle:pC,symbolCross:vde,symbolDiamond:xde,symbolSquare:bde,symbolStar:Ede,symbolTriangle:jde,symbolWye:Nde},Xde=Math.PI/180,Jde=function(e){var r="symbol".concat(Wb(e));return fz[r]||pC},Zde=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Xde;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},efe=function(e,r){fz["symbol".concat(Wb(e))]=r},mC=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,u=Yde(e,Hde),f=MD(MD({},u),{},{type:n,size:a,sizeType:l}),h=function(){var x=Jde(n),N=Tde().type(x).size(Zde(a,l,n));return N()},p=f.className,m=f.cx,y=f.cy,_=Ge(f,!0);return m===+m&&y===+y&&a===+a?U.createElement("path",JA({},_,{className:ht("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(y,")"),d:h()})):null};mC.registerSymbol=efe;function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZA.apply(this,arguments)}function DD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(r),!0).forEach(function(n){Up(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pz(n.key),n)}}function ife(t,e,r){return e&&nfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function afe(t,e,r){return e=Qy(e),sfe(t,hz()?Reflect.construct(e,r||[],Qy(t).constructor):e.apply(t,r))}function sfe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ofe(t)}function ofe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hz=function(){return!!t})()}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(t)}function lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eN(t,e)}function Up(t,e,r){return e=pz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pz(t){var e=cfe(t,"string");return Yd(e)=="symbol"?e:e+""}function cfe(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ga=32,gC=function(t){function e(){return rfe(this,e),afe(this,e,arguments)}return lfe(e,t),ife(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ga/2,s=ga/6,l=ga/3,u=n.inactive?i:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ga,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ga,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ga/8,"h").concat(ga,"v").concat(ga*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var f=tfe({},n);return delete f.legendIcon,U.cloneElement(n.legendIcon,f)}return U.createElement(mC,{fill:u,cx:a,cy:a,size:ga,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,u=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:ga,height:ga},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,_){var b=y.formatter||u,x=ht(Up(Up({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",y.inactive));if(y.type==="none")return null;var N=at(y.value)?null:y.value;Na(!at(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=y.inactive?f:y.color;return U.createElement("li",ZA({className:x,style:p,key:"legend-item-".concat(_)},Gc(n.props,y,_)),U.createElement(WA,{width:s,height:s,viewBox:h,style:m},n.renderIcon(y)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},b?b(N,y,_):N))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);Up(gC,"displayName","Legend");Up(gC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var G1,LD;function ufe(){if(LD)return G1;LD=1;var t=zb();function e(){this.__data__=new t,this.size=0}return G1=e,G1}var K1,$D;function dfe(){if($D)return K1;$D=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return K1=t,K1}var Y1,FD;function ffe(){if(FD)return Y1;FD=1;function t(e){return this.__data__.get(e)}return Y1=t,Y1}var Q1,VD;function hfe(){if(VD)return Q1;VD=1;function t(e){return this.__data__.has(e)}return Q1=t,Q1}var X1,BD;function pfe(){if(BD)return X1;BD=1;var t=zb(),e=sC(),r=oC(),n=200;function i(a,s){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<n-1)return u.push([a,s]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(a,s),this.size=l.size,this}return X1=i,X1}var J1,UD;function mz(){if(UD)return J1;UD=1;var t=zb(),e=ufe(),r=dfe(),n=ffe(),i=hfe(),a=pfe();function s(l){var u=this.__data__=new t(l);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,J1=s,J1}var Z1,zD;function mfe(){if(zD)return Z1;zD=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Z1=e,Z1}var eS,qD;function gfe(){if(qD)return eS;qD=1;function t(e){return this.__data__.has(e)}return eS=t,eS}var tS,HD;function gz(){if(HD)return tS;HD=1;var t=oC(),e=mfe(),r=gfe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,tS=n,tS}var rS,WD;function vz(){if(WD)return rS;WD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return rS=t,rS}var nS,GD;function yz(){if(GD)return nS;GD=1;function t(e,r){return e.has(r)}return nS=t,nS}var iS,KD;function xz(){if(KD)return iS;KD=1;var t=gz(),e=vz(),r=yz(),n=1,i=2;function a(s,l,u,f,h,p){var m=u&n,y=s.length,_=l.length;if(y!=_&&!(m&&_>y))return!1;var b=p.get(s),x=p.get(l);if(b&&x)return b==l&&x==s;var N=-1,A=!0,j=u&i?new t:void 0;for(p.set(s,l),p.set(l,s);++N<y;){var E=s[N],P=l[N];if(f)var R=m?f(P,E,N,l,s,p):f(E,P,N,s,l,p);if(R!==void 0){if(R)continue;A=!1;break}if(j){if(!e(l,function(C,I){if(!r(j,I)&&(E===C||h(E,C,u,f,p)))return j.push(I)})){A=!1;break}}else if(!(E===P||h(E,P,u,f,p))){A=!1;break}}return p.delete(s),p.delete(l),A}return iS=a,iS}var aS,YD;function vfe(){if(YD)return aS;YD=1;var t=bs(),e=t.Uint8Array;return aS=e,aS}var sS,QD;function yfe(){if(QD)return sS;QD=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return sS=t,sS}var oS,XD;function vC(){if(XD)return oS;XD=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return oS=t,oS}var lS,JD;function xfe(){if(JD)return lS;JD=1;var t=zm(),e=vfe(),r=aC(),n=xz(),i=yfe(),a=vC(),s=1,l=2,u="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",_="[object Set]",b="[object String]",x="[object Symbol]",N="[object ArrayBuffer]",A="[object DataView]",j=t?t.prototype:void 0,E=j?j.valueOf:void 0;function P(R,C,I,M,F,D,V){switch(I){case A:if(R.byteLength!=C.byteLength||R.byteOffset!=C.byteOffset)return!1;R=R.buffer,C=C.buffer;case N:return!(R.byteLength!=C.byteLength||!D(new e(R),new e(C)));case u:case f:case m:return r(+R,+C);case h:return R.name==C.name&&R.message==C.message;case y:case b:return R==C+"";case p:var $=i;case _:var H=M&s;if($||($=a),R.size!=C.size&&!H)return!1;var G=V.get(R);if(G)return G==C;M|=l,V.set(R,C);var Y=n($(R),$(C),M,F,D,V);return V.delete(R),Y;case x:if(E)return E.call(R)==E.call(C)}return!1}return lS=P,lS}var cS,ZD;function bz(){if(ZD)return cS;ZD=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return cS=t,cS}var uS,e4;function bfe(){if(e4)return uS;e4=1;var t=bz(),e=oi();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return uS=r,uS}var dS,t4;function wfe(){if(t4)return dS;t4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[a++]=l)}return s}return dS=t,dS}var fS,r4;function _fe(){if(r4)return fS;r4=1;function t(){return[]}return fS=t,fS}var hS,n4;function Sfe(){if(n4)return hS;n4=1;var t=wfe(),e=_fe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return hS=a,hS}var pS,i4;function Efe(){if(i4)return pS;i4=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return pS=t,pS}var mS,a4;function jfe(){if(a4)return mS;a4=1;var t=yo(),e=xo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return mS=n,mS}var gS,s4;function yC(){if(s4)return gS;s4=1;var t=jfe(),e=xo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return gS=a,gS}var Zh={exports:{}},vS,o4;function Afe(){if(o4)return vS;o4=1;function t(){return!1}return vS=t,vS}Zh.exports;var l4;function wz(){return l4||(l4=1,function(t,e){var r=bs(),n=Afe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;t.exports=f}(Zh,Zh.exports)),Zh.exports}var yS,c4;function xC(){if(c4)return yS;c4=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return yS=r,yS}var xS,u4;function bC(){if(u4)return xS;u4=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return xS=e,xS}var bS,d4;function Nfe(){if(d4)return bS;d4=1;var t=yo(),e=bC(),r=xo(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",_="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",j="[object Float64Array]",E="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",C="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",D={};D[A]=D[j]=D[E]=D[P]=D[R]=D[C]=D[I]=D[M]=D[F]=!0,D[n]=D[i]=D[x]=D[a]=D[N]=D[s]=D[l]=D[u]=D[f]=D[h]=D[p]=D[m]=D[y]=D[_]=D[b]=!1;function V($){return r($)&&e($.length)&&!!D[t($)]}return bS=V,bS}var wS,f4;function _z(){if(f4)return wS;f4=1;function t(e){return function(r){return e(r)}}return wS=t,wS}var ep={exports:{}};ep.exports;var h4;function Tfe(){return h4||(h4=1,function(t,e){var r=B9(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(ep,ep.exports)),ep.exports}var _S,p4;function Sz(){if(p4)return _S;p4=1;var t=Nfe(),e=_z(),r=Tfe(),n=r&&r.isTypedArray,i=n?e(n):t;return _S=i,_S}var SS,m4;function Pfe(){if(m4)return SS;m4=1;var t=Efe(),e=yC(),r=oi(),n=wz(),i=xC(),a=Sz(),s=Object.prototype,l=s.hasOwnProperty;function u(f,h){var p=r(f),m=!p&&e(f),y=!p&&!m&&n(f),_=!p&&!m&&!y&&a(f),b=p||m||y||_,x=b?t(f.length,String):[],N=x.length;for(var A in f)(h||l.call(f,A))&&!(b&&(A=="length"||y&&(A=="offset"||A=="parent")||_&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,N)))&&x.push(A);return x}return SS=u,SS}var ES,g4;function Cfe(){if(g4)return ES;g4=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return ES=e,ES}var jS,v4;function Ez(){if(v4)return jS;v4=1;function t(e,r){return function(n){return e(r(n))}}return jS=t,jS}var AS,y4;function kfe(){if(y4)return AS;y4=1;var t=Ez(),e=t(Object.keys,Object);return AS=e,AS}var NS,x4;function Ife(){if(x4)return NS;x4=1;var t=Cfe(),e=kfe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&s.push(l);return s}return NS=i,NS}var TS,b4;function Hm(){if(b4)return TS;b4=1;var t=iC(),e=bC();function r(n){return n!=null&&e(n.length)&&!t(n)}return TS=r,TS}var PS,w4;function Qb(){if(w4)return PS;w4=1;var t=Pfe(),e=Ife(),r=Hm();function n(i){return r(i)?t(i):e(i)}return PS=n,PS}var CS,_4;function Ofe(){if(_4)return CS;_4=1;var t=bfe(),e=Sfe(),r=Qb();function n(i){return t(i,r,e)}return CS=n,CS}var kS,S4;function Rfe(){if(S4)return kS;S4=1;var t=Ofe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,l,u,f,h){var p=l&e,m=t(a),y=m.length,_=t(s),b=_.length;if(y!=b&&!p)return!1;for(var x=y;x--;){var N=m[x];if(!(p?N in s:n.call(s,N)))return!1}var A=h.get(a),j=h.get(s);if(A&&j)return A==s&&j==a;var E=!0;h.set(a,s),h.set(s,a);for(var P=p;++x<y;){N=m[x];var R=a[N],C=s[N];if(u)var I=p?u(C,R,N,s,a,h):u(R,C,N,a,s,h);if(!(I===void 0?R===C||f(R,C,l,u,h):I)){E=!1;break}P||(P=N=="constructor")}if(E&&!P){var M=a.constructor,F=s.constructor;M!=F&&"constructor"in a&&"constructor"in s&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(E=!1)}return h.delete(a),h.delete(s),E}return kS=i,kS}var IS,E4;function Mfe(){if(E4)return IS;E4=1;var t=su(),e=bs(),r=t(e,"DataView");return IS=r,IS}var OS,j4;function Dfe(){if(j4)return OS;j4=1;var t=su(),e=bs(),r=t(e,"Promise");return OS=r,OS}var RS,A4;function jz(){if(A4)return RS;A4=1;var t=su(),e=bs(),r=t(e,"Set");return RS=r,RS}var MS,N4;function Lfe(){if(N4)return MS;N4=1;var t=su(),e=bs(),r=t(e,"WeakMap");return MS=r,MS}var DS,T4;function $fe(){if(T4)return DS;T4=1;var t=Mfe(),e=sC(),r=Dfe(),n=jz(),i=Lfe(),a=yo(),s=U9(),l="[object Map]",u="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=s(t),_=s(e),b=s(r),x=s(n),N=s(i),A=a;return(t&&A(new t(new ArrayBuffer(1)))!=m||e&&A(new e)!=l||r&&A(r.resolve())!=f||n&&A(new n)!=h||i&&A(new i)!=p)&&(A=function(j){var E=a(j),P=E==u?j.constructor:void 0,R=P?s(P):"";if(R)switch(R){case y:return m;case _:return l;case b:return f;case x:return h;case N:return p}return E}),DS=A,DS}var LS,P4;function Ffe(){if(P4)return LS;P4=1;var t=mz(),e=xz(),r=xfe(),n=Rfe(),i=$fe(),a=oi(),s=wz(),l=Sz(),u=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function _(b,x,N,A,j,E){var P=a(b),R=a(x),C=P?h:i(b),I=R?h:i(x);C=C==f?p:C,I=I==f?p:I;var M=C==p,F=I==p,D=C==I;if(D&&s(b)){if(!s(x))return!1;P=!0,M=!1}if(D&&!M)return E||(E=new t),P||l(b)?e(b,x,N,A,j,E):r(b,x,C,N,A,j,E);if(!(N&u)){var V=M&&y.call(b,"__wrapped__"),$=F&&y.call(x,"__wrapped__");if(V||$){var H=V?b.value():b,G=$?x.value():x;return E||(E=new t),j(H,G,N,A,E)}}return D?(E||(E=new t),n(b,x,N,A,j,E)):!1}return LS=_,LS}var $S,C4;function wC(){if(C4)return $S;C4=1;var t=Ffe(),e=xo();function r(n,i,a,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,l)}return $S=r,$S}var FS,k4;function Vfe(){if(k4)return FS;k4=1;var t=mz(),e=wC(),r=1,n=2;function i(a,s,l,u){var f=l.length,h=f,p=!u;if(a==null)return!h;for(a=Object(a);f--;){var m=l[f];if(p&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++f<h;){m=l[f];var y=m[0],_=a[y],b=m[1];if(p&&m[2]){if(_===void 0&&!(y in a))return!1}else{var x=new t;if(u)var N=u(_,b,y,a,s,x);if(!(N===void 0?e(b,_,r|n,u,x):N))return!1}}return!0}return FS=i,FS}var VS,I4;function Az(){if(I4)return VS;I4=1;var t=Ul();function e(r){return r===r&&!t(r)}return VS=e,VS}var BS,O4;function Bfe(){if(O4)return BS;O4=1;var t=Az(),e=Qb();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],l=n[s];i[a]=[s,l,t(l)]}return i}return BS=r,BS}var US,R4;function Nz(){if(R4)return US;R4=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return US=t,US}var zS,M4;function Ufe(){if(M4)return zS;M4=1;var t=Vfe(),e=Bfe(),r=Nz();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return zS=n,zS}var qS,D4;function zfe(){if(D4)return qS;D4=1;function t(e,r){return e!=null&&r in Object(e)}return qS=t,qS}var HS,L4;function qfe(){if(L4)return HS;L4=1;var t=H9(),e=yC(),r=oi(),n=xC(),i=bC(),a=Hb();function s(l,u,f){u=t(u,l);for(var h=-1,p=u.length,m=!1;++h<p;){var y=a(u[h]);if(!(m=l!=null&&f(l,y)))break;l=l[y]}return m||++h!=p?m:(p=l==null?0:l.length,!!p&&i(p)&&n(y,p)&&(r(l)||e(l)))}return HS=s,HS}var WS,$4;function Hfe(){if($4)return WS;$4=1;var t=zfe(),e=qfe();function r(n,i){return n!=null&&e(n,i,t)}return WS=r,WS}var GS,F4;function Wfe(){if(F4)return GS;F4=1;var t=wC(),e=W9(),r=Hfe(),n=nC(),i=Az(),a=Nz(),s=Hb(),l=1,u=2;function f(h,p){return n(h)&&i(p)?a(s(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?r(m,h):t(p,y,l|u)}}return GS=f,GS}var KS,V4;function Uf(){if(V4)return KS;V4=1;function t(e){return e}return KS=t,KS}var YS,B4;function Gfe(){if(B4)return YS;B4=1;function t(e){return function(r){return r==null?void 0:r[e]}}return YS=t,YS}var QS,U4;function Kfe(){if(U4)return QS;U4=1;var t=cC();function e(r){return function(n){return t(n,r)}}return QS=e,QS}var XS,z4;function Yfe(){if(z4)return XS;z4=1;var t=Gfe(),e=Kfe(),r=nC(),n=Hb();function i(a){return r(a)?t(n(a)):e(a)}return XS=i,XS}var JS,q4;function ws(){if(q4)return JS;q4=1;var t=Ufe(),e=Wfe(),r=Uf(),n=oi(),i=Yfe();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return JS=a,JS}var ZS,H4;function Tz(){if(H4)return ZS;H4=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return ZS=t,ZS}var eE,W4;function Qfe(){if(W4)return eE;W4=1;function t(e){return e!==e}return eE=t,eE}var tE,G4;function Xfe(){if(G4)return tE;G4=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return tE=t,tE}var rE,K4;function Jfe(){if(K4)return rE;K4=1;var t=Tz(),e=Qfe(),r=Xfe();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return rE=n,rE}var nE,Y4;function Zfe(){if(Y4)return nE;Y4=1;var t=Jfe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return nE=e,nE}var iE,Q4;function ehe(){if(Q4)return iE;Q4=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return iE=t,iE}var aE,X4;function the(){if(X4)return aE;X4=1;function t(){}return aE=t,aE}var sE,J4;function rhe(){if(J4)return sE;J4=1;var t=jz(),e=the(),r=vC(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return sE=i,sE}var oE,Z4;function nhe(){if(Z4)return oE;Z4=1;var t=gz(),e=Zfe(),r=ehe(),n=yz(),i=rhe(),a=vC(),s=200;function l(u,f,h){var p=-1,m=e,y=u.length,_=!0,b=[],x=b;if(h)_=!1,m=r;else if(y>=s){var N=f?null:i(u);if(N)return a(N);_=!1,m=n,x=new t}else x=f?[]:b;e:for(;++p<y;){var A=u[p],j=f?f(A):A;if(A=h||A!==0?A:0,_&&j===j){for(var E=x.length;E--;)if(x[E]===j)continue e;f&&x.push(j),b.push(A)}else m(x,j,h)||(x!==b&&x.push(j),b.push(A))}return b}return oE=l,oE}var lE,eL;function ihe(){if(eL)return lE;eL=1;var t=ws(),e=nhe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return lE=r,lE}var ahe=ihe();const tL=Kt(ahe);function Pz(t,e,r){return e===!0?tL(t,r):at(e)?tL(t,e):t}function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}var she=["ref"];function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){Xb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ohe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kz(n.key),n)}}function lhe(t,e,r){return e&&nL(t.prototype,e),r&&nL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function che(t,e,r){return e=Xy(e),uhe(t,Cz()?Reflect.construct(e,r||[],Xy(t).constructor):e.apply(t,r))}function uhe(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dhe(t)}function dhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}function fhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tN(t,e)}function tN(t,e){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tN(t,e)}function Xb(t,e,r){return e=kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kz(t){var e=hhe(t,"string");return Qd(e)=="symbol"?e:e+""}function hhe(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function phe(t,e){if(t==null)return{};var r=mhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ghe(t){return t.value}function vhe(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var r=phe(e,she);return U.createElement(gC,r)}var iL=1,wl=function(t){function e(){var r;ohe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=che(this,e,[].concat(i)),Xb(r,"lastBoundingBox",{width:-1,height:-1}),r}return fhe(e,t),lhe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iL||Math.abs(i.height-this.lastBoundingBox.height)>iL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,u=i.margin,f=i.chartWidth,h=i.chartHeight,p,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();p={left:((f||0)-y.width)/2}}else p=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();m={top:((h||0)-_.height)/2}}else m=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Fs(Fs({},p),m)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,u=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Fs(Fs({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return U.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){n.wrapperNode=y}},vhe(a,Fs(Fs({},this.props),{},{payload:Pz(h,f,ghe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Fs(Fs({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Se(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(S.PureComponent);Xb(wl,"displayName","Legend");Xb(wl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cE,aL;function yhe(){if(aL)return cE;aL=1;var t=zm(),e=yC(),r=oi(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return cE=i,cE}var uE,sL;function Iz(){if(sL)return uE;sL=1;var t=bz(),e=yhe();function r(n,i,a,s,l){var u=-1,f=n.length;for(a||(a=e),l||(l=[]);++u<f;){var h=n[u];i>0&&a(h)?i>1?r(h,i-1,a,s,l):t(l,h):s||(l[l.length]=h)}return l}return uE=r,uE}var dE,oL;function xhe(){if(oL)return dE;oL=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),l=i(r),u=l.length;u--;){var f=l[e?u:++a];if(n(s[f],f,s)===!1)break}return r}}return dE=t,dE}var fE,lL;function bhe(){if(lL)return fE;lL=1;var t=xhe(),e=t();return fE=e,fE}var hE,cL;function Oz(){if(cL)return hE;cL=1;var t=bhe(),e=Qb();function r(n,i){return n&&t(n,i,e)}return hE=r,hE}var pE,uL;function whe(){if(uL)return pE;uL=1;var t=Hm();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,l=n?s:-1,u=Object(i);(n?l--:++l<s)&&a(u[l],l,u)!==!1;);return i}}return pE=e,pE}var mE,dL;function _C(){if(dL)return mE;dL=1;var t=Oz(),e=whe(),r=e(t);return mE=r,mE}var gE,fL;function Rz(){if(fL)return gE;fL=1;var t=_C(),e=Hm();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(l,u,f){s[++a]=i(l,u,f)}),s}return gE=r,gE}var vE,hL;function _he(){if(hL)return vE;hL=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return vE=t,vE}var yE,pL;function She(){if(pL)return yE;pL=1;var t=$f();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,l=t(r),u=n!==void 0,f=n===null,h=n===n,p=t(n);if(!f&&!p&&!l&&r>n||l&&u&&h&&!f&&!p||a&&u&&h||!i&&h||!s)return 1;if(!a&&!l&&!p&&r<n||p&&i&&s&&!a&&!l||f&&i&&s||!u&&s||!h)return-1}return 0}return yE=e,yE}var xE,mL;function Ehe(){if(mL)return xE;mL=1;var t=She();function e(r,n,i){for(var a=-1,s=r.criteria,l=n.criteria,u=s.length,f=i.length;++a<u;){var h=t(s[a],l[a]);if(h){if(a>=f)return h;var p=i[a];return h*(p=="desc"?-1:1)}}return r.index-n.index}return xE=e,xE}var bE,gL;function jhe(){if(gL)return bE;gL=1;var t=lC(),e=cC(),r=ws(),n=Rz(),i=_he(),a=_z(),s=Ehe(),l=Uf(),u=oi();function f(h,p,m){p.length?p=t(p,function(b){return u(b)?function(x){return e(x,b.length===1?b[0]:b)}:b}):p=[l];var y=-1;p=t(p,a(r));var _=n(h,function(b,x,N){var A=t(p,function(j){return j(b)});return{criteria:A,index:++y,value:b}});return i(_,function(b,x){return s(b,x,m)})}return bE=f,bE}var wE,vL;function Ahe(){if(vL)return wE;vL=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return wE=t,wE}var _E,yL;function Nhe(){if(yL)return _E;yL=1;var t=Ahe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,u=e(s.length-i,0),f=Array(u);++l<u;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(f),t(n,this,h)}}return _E=r,_E}var SE,xL;function The(){if(xL)return SE;xL=1;function t(e){return function(){return e}}return SE=t,SE}var EE,bL;function Mz(){if(bL)return EE;bL=1;var t=su(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return EE=e,EE}var jE,wL;function Phe(){if(wL)return jE;wL=1;var t=The(),e=Mz(),r=Uf(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return jE=n,jE}var AE,_L;function Che(){if(_L)return AE;_L=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var l=r(),u=e-(l-s);if(s=l,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return AE=n,AE}var NE,SL;function khe(){if(SL)return NE;SL=1;var t=Phe(),e=Che(),r=e(t);return NE=r,NE}var TE,EL;function Ihe(){if(EL)return TE;EL=1;var t=Uf(),e=Nhe(),r=khe();function n(i,a){return r(e(i,a,t),i+"")}return TE=n,TE}var PE,jL;function Jb(){if(jL)return PE;jL=1;var t=aC(),e=Hm(),r=xC(),n=Ul();function i(a,s,l){if(!n(l))return!1;var u=typeof s;return(u=="number"?e(l)&&r(s,l.length):u=="string"&&s in l)?t(l[s],a):!1}return PE=i,PE}var CE,AL;function Ohe(){if(AL)return CE;AL=1;var t=Iz(),e=jhe(),r=Ihe(),n=Jb(),i=r(function(a,s){if(a==null)return[];var l=s.length;return l>1&&n(a,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return CE=i,CE}var Rhe=Ohe();const SC=Kt(Rhe);function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rN.apply(this,arguments)}function Mhe(t,e){return Fhe(t)||$he(t,e)||Lhe(t,e)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lhe(t,e){if(t){if(typeof t=="string")return NL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NL(t,e)}}function NL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $he(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Fhe(t){if(Array.isArray(t))return t}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){Vhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vhe(t,e,r){return e=Bhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bhe(t){var e=Uhe(t,"string");return zp(e)=="symbol"?e:e+""}function Uhe(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zhe(t){return Array.isArray(t)&&Gr(t[0])&&Gr(t[1])?t.join(" ~ "):t}var qhe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,u=e.labelStyle,f=u===void 0?{}:u,h=e.payload,p=e.formatter,m=e.itemSorter,y=e.wrapperClassName,_=e.labelClassName,b=e.label,x=e.labelFormatter,N=e.accessibilityLayer,A=N===void 0?!1:N,j=function(){if(h&&h.length){var V={padding:0,margin:0},$=(m?SC(h,m):h).map(function(H,G){if(H.type==="none")return null;var Y=kE({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),Q=H.formatter||p||zhe,W=H.value,J=H.name,ee=W,q=J;if(Q&&ee!=null&&q!=null){var X=Q(W,J,H,G,h);if(Array.isArray(X)){var ae=Mhe(X,2);ee=ae[0],q=ae[1]}else ee=X}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Y},Gr(q)?U.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Gr(q)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},ee),U.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},E=kE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=kE({margin:0},f),R=!ft(b),C=R?b:"",I=ht("recharts-default-tooltip",y),M=ht("recharts-tooltip-label",_);R&&x&&h!==void 0&&h!==null&&(C=x(b,h));var F=A?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",rN({className:I,style:E},F),U.createElement("p",{className:M,style:P},U.isValidElement(C)?C:"".concat(C)),j())};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Nv(t,e,r){return e=Hhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hhe(t){var e=Whe(t,"string");return qp(e)=="symbol"?e:e+""}function Whe(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dh="recharts-tooltip-wrapper",Ghe={visibility:"hidden"};function Khe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ht(Dh,Nv(Nv(Nv(Nv({},"".concat(Dh,"-right"),Se(r)&&e&&Se(e.x)&&r>=e.x),"".concat(Dh,"-left"),Se(r)&&e&&Se(e.x)&&r<e.x),"".concat(Dh,"-bottom"),Se(n)&&e&&Se(e.y)&&n>=e.y),"".concat(Dh,"-top"),Se(n)&&e&&Se(e.y)&&n<e.y))}function PL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,f=t.viewBoxDimension;if(a&&Se(a[n]))return a[n];var h=r[n]-l-i,p=r[n]+i;if(e[n])return s[n]?h:p;if(s[n]){var m=h,y=u[n];return m<y?Math.max(p,u[n]):Math.max(h,u[n])}var _=p+l,b=u[n]+f;return _>b?Math.max(h,u[n]):Math.max(p,u[n])}function Yhe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Qhe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,f,h,p;return s.height>0&&s.width>0&&r?(h=PL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=PL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=Yhe({translateX:h,translateY:p,useTranslate3d:l})):f=Ghe,{cssProperties:f,cssClasses:Khe({translateX:h,translateY:p,coordinate:r})}}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){iN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lz(n.key),n)}}function Zhe(t,e,r){return e&&Jhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function epe(t,e,r){return e=Jy(e),tpe(t,Dz()?Reflect.construct(e,r||[],Jy(t).constructor):e.apply(t,r))}function tpe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rpe(t)}function rpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dz=function(){return!!t})()}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(t)}function npe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nN(t,e)}function iN(t,e,r){return e=Lz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lz(t){var e=ipe(t,"string");return Xd(e)=="symbol"?e:e+""}function ipe(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IL=1,ape=function(t){function e(){var r;Xhe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=epe(this,e,[].concat(i)),iN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iN(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,u,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return npe(e,t),Zhe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IL||Math.abs(n.height-this.state.lastBoundingBox.height)>IL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,m=i.isAnimationActive,y=i.offset,_=i.position,b=i.reverseDirection,x=i.useTranslate3d,N=i.viewBox,A=i.wrapperStyle,j=Qhe({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:y,position:_,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:N}),E=j.cssClasses,P=j.cssProperties,R=kL(kL({transition:m&&a?"transform ".concat(l,"ms ").concat(u):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return U.createElement("div",{tabIndex:-1,className:E,style:R,ref:function(I){n.wrapperNode=I}},f)}}])}(S.PureComponent),spe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ou={isSsr:spe()};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){EC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ope(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fz(n.key),n)}}function cpe(t,e,r){return e&&lpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function upe(t,e,r){return e=Zy(e),dpe(t,$z()?Reflect.construct(e,r||[],Zy(t).constructor):e.apply(t,r))}function dpe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fpe(t)}function fpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!t})()}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(t)}function hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aN(t,e)}function aN(t,e){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aN(t,e)}function EC(t,e,r){return e=Fz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fz(t){var e=ppe(t,"string");return Jd(e)=="symbol"?e:e+""}function ppe(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mpe(t){return t.dataKey}function gpe(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(qhe,e)}var Ui=function(t){function e(){return ope(this,e),upe(this,e,arguments)}return hpe(e,t),cpe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,m=i.isAnimationActive,y=i.offset,_=i.payload,b=i.payloadUniqBy,x=i.position,N=i.reverseDirection,A=i.useTranslate3d,j=i.viewBox,E=i.wrapperStyle,P=_??[];p&&P.length&&(P=Pz(_.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),b,mpe));var R=P.length>0;return U.createElement(ape,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:m,active:a,coordinate:h,hasPayload:R,offset:y,position:x,reverseDirection:N,useTranslate3d:A,viewBox:j,wrapperStyle:E},gpe(f,RL(RL({},this.props),{},{payload:P})))}}])}(S.PureComponent);EC(Ui,"displayName","Tooltip");EC(Ui,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ou.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IE,ML;function vpe(){if(ML)return IE;ML=1;var t=bs(),e=function(){return t.Date.now()};return IE=e,IE}var OE,DL;function ype(){if(DL)return OE;DL=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return OE=e,OE}var RE,LL;function xpe(){if(LL)return RE;LL=1;var t=ype(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return RE=r,RE}var ME,$L;function Vz(){if($L)return ME;$L=1;var t=xpe(),e=Ul(),r=$f(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?n:+f}return ME=u,ME}var DE,FL;function bpe(){if(FL)return DE;FL=1;var t=Ul(),e=vpe(),r=Vz(),n="Expected a function",i=Math.max,a=Math.min;function s(l,u,f){var h,p,m,y,_,b,x=0,N=!1,A=!1,j=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,t(f)&&(N=!!f.leading,A="maxWait"in f,m=A?i(r(f.maxWait)||0,u):m,j="trailing"in f?!!f.trailing:j);function E($){var H=h,G=p;return h=p=void 0,x=$,y=l.apply(G,H),y}function P($){return x=$,_=setTimeout(I,u),N?E($):y}function R($){var H=$-b,G=$-x,Y=u-H;return A?a(Y,m-G):Y}function C($){var H=$-b,G=$-x;return b===void 0||H>=u||H<0||A&&G>=m}function I(){var $=e();if(C($))return M($);_=setTimeout(I,R($))}function M($){return _=void 0,j&&h?E($):(h=p=void 0,y)}function F(){_!==void 0&&clearTimeout(_),x=0,h=b=p=_=void 0}function D(){return _===void 0?y:M(e())}function V(){var $=e(),H=C($);if(h=arguments,p=this,b=$,H){if(_===void 0)return P(b);if(A)return clearTimeout(_),_=setTimeout(I,u),E(b)}return _===void 0&&(_=setTimeout(I,u)),y}return V.cancel=F,V.flush=D,V}return DE=s,DE}var LE,VL;function wpe(){if(VL)return LE;VL=1;var t=bpe(),e=Ul(),r="Expected a function";function n(i,a,s){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,u="trailing"in s?!!s.trailing:u),t(i,a,{leading:l,maxWait:a,trailing:u})}return LE=n,LE}var _pe=wpe();const Bz=Kt(_pe);function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){Spe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Spe(t,e,r){return e=Epe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Epe(t){var e=jpe(t,"string");return Hp(e)=="symbol"?e:e+""}function jpe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ape(t,e){return Cpe(t)||Ppe(t,e)||Tpe(t,e)||Npe()}function Npe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(t,e){if(t){if(typeof t=="string")return UL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UL(t,e)}}function UL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ppe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Cpe(t){if(Array.isArray(t))return t}var jC=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,l=t.height,u=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,m=t.maxHeight,y=t.children,_=t.debounce,b=_===void 0?0:_,x=t.id,N=t.className,A=t.onResize,j=t.style,E=j===void 0?{}:j,P=S.useRef(null),R=S.useRef();R.current=A,S.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var C=S.useState({containerWidth:i.width,containerHeight:i.height}),I=Ape(C,2),M=I[0],F=I[1],D=S.useCallback(function($,H){F(function(G){var Y=Math.round($),Q=Math.round(H);return G.containerWidth===Y&&G.containerHeight===Q?G:{containerWidth:Y,containerHeight:Q}})},[]);S.useEffect(function(){var $=function(J){var ee,q=J[0].contentRect,X=q.width,ae=q.height;D(X,ae),(ee=R.current)===null||ee===void 0||ee.call(R,X,ae)};b>0&&($=Bz($,b,{trailing:!0,leading:!1}));var H=new ResizeObserver($),G=P.current.getBoundingClientRect(),Y=G.width,Q=G.height;return D(Y,Q),H.observe(P.current),function(){H.disconnect()}},[D,b]);var V=S.useMemo(function(){var $=M.containerWidth,H=M.containerHeight;if($<0||H<0)return null;Na(Tc(s)||Tc(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,u),Na(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Tc(s)?$:s,Y=Tc(u)?H:u;r&&r>0&&(G?Y=G/r:Y&&(G=Y*r),m&&Y>m&&(Y=m)),Na(G>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Y,s,u,h,p,r);var Q=!Array.isArray(y)&&Js(y.type).endsWith("Chart");return U.Children.map(y,function(W){return G9.isElement(W)?S.cloneElement(W,Tv({width:G,height:Y},Q?{style:Tv({height:"100%",width:"100%",maxHeight:Y,maxWidth:G},W.props.style)}:{})):W})},[r,y,u,m,p,h,M,s]);return U.createElement("div",{id:x?"".concat(x):void 0,className:ht("recharts-responsive-container",N),style:Tv(Tv({},E),{},{width:s,height:u,minWidth:h,minHeight:p,maxHeight:m}),ref:P},V)}),Zb=function(e){return null};Zb.displayName="Cell";function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){kpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kpe(t,e,r){return e=Ipe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ipe(t){var e=Ope(t,"string");return Wp(e)=="symbol"?e:e+""}function Ope(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ku={widthCache:{},cacheCount:0},Rpe=2e3,Mpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qL="recharts_measurement_span";function Dpe(t){var e=sN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var hp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ou.isSsr)return{width:0,height:0};var n=Dpe(r),i=JSON.stringify({text:e,copyStyle:n});if(Ku.widthCache[i])return Ku.widthCache[i];try{var a=document.getElementById(qL);a||(a=document.createElement("span"),a.setAttribute("id",qL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=sN(sN({},Mpe),n);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),u={width:l.width,height:l.height};return Ku.widthCache[i]=u,++Ku.cacheCount>Rpe&&(Ku.cacheCount=0,Ku.widthCache={}),u}catch{return{width:0,height:0}}},Lpe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function ex(t,e){return Bpe(t)||Vpe(t,e)||Fpe(t,e)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(t,e){if(t){if(typeof t=="string")return HL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HL(t,e)}}function HL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Bpe(t){if(Array.isArray(t))return t}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qpe(n.key),n)}}function zpe(t,e,r){return e&&WL(t.prototype,e),r&&WL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qpe(t){var e=Hpe(t,"string");return Gp(e)=="symbol"?e:e+""}function Hpe(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Uz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kpe=Object.keys(Uz),od="NaN";function Ype(t,e){return t*Uz[e]}var Pv=function(){function t(e,r){Upe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Wpe.test(r)&&(this.num=NaN,this.unit=""),Kpe.includes(r)&&(this.num=Ype(e,r),this.unit="px")}return zpe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Gpe.exec(r))!==null&&n!==void 0?n:[],a=ex(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])}();function zz(t){if(t.includes(od))return od;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=GL.exec(e))!==null&&r!==void 0?r:[],i=ex(n,4),a=i[1],s=i[2],l=i[3],u=Pv.parse(a??""),f=Pv.parse(l??""),h=s==="*"?u.multiply(f):u.divide(f);if(h.isNaN())return od;e=e.replace(GL,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,m=(p=KL.exec(e))!==null&&p!==void 0?p:[],y=ex(m,4),_=y[1],b=y[2],x=y[3],N=Pv.parse(_??""),A=Pv.parse(x??""),j=b==="+"?N.add(A):N.subtract(A);if(j.isNaN())return od;e=e.replace(KL,j.toString())}return e}var YL=/\(([^()]*)\)/;function Qpe(t){for(var e=t;e.includes("(");){var r=YL.exec(e),n=ex(r,2),i=n[1];e=e.replace(YL,zz(i))}return e}function Xpe(t){var e=t.replace(/\s+/g,"");return e=Qpe(e),e=zz(e),e}function Jpe(t){try{return Xpe(t)}catch{return od}}function $E(t){var e=Jpe(t.slice(5,-1));return e===od?"":e}var Zpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eme=["dx","dy","angle","className","breakAll"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oN.apply(this,arguments)}function QL(t,e){if(t==null)return{};var r=tme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XL(t,e){return ame(t)||ime(t,e)||nme(t,e)||rme()}function rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nme(t,e){if(t){if(typeof t=="string")return JL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JL(t,e)}}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ime(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ame(t){if(Array.isArray(t))return t}var qz=/[ \f\n\r\t\v\u2028\u2029]+/,Hz=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ft(r)||(n?a=r.toString().split(""):a=r.toString().split(qz));var s=a.map(function(u){return{word:u,width:hp(u,i).width}}),l=n?0:hp(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},sme=function(e,r,n,i,a){var s=e.maxLines,l=e.children,u=e.style,f=e.breakAll,h=Se(s),p=l,m=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Y,Q){var W=Q.word,J=Q.width,ee=Y[Y.length-1];if(ee&&(i==null||a||ee.width+J+n<Number(i)))ee.words.push(W),ee.width+=J+n;else{var q={words:[W],width:J};Y.push(q)}return Y},[])},y=m(r),_=function(G){return G.reduce(function(Y,Q){return Y.width>Q.width?Y:Q})};if(!h)return y;for(var b="…",x=function(G){var Y=p.slice(0,G),Q=Hz({breakAll:f,style:u,children:Y+b}).wordsWithComputedWidth,W=m(Q),J=W.length>s||_(W).width>Number(i);return[J,W]},N=0,A=p.length-1,j=0,E;N<=A&&j<=p.length-1;){var P=Math.floor((N+A)/2),R=P-1,C=x(R),I=XL(C,2),M=I[0],F=I[1],D=x(P),V=XL(D,1),$=V[0];if(!M&&!$&&(N=P+1),M&&$&&(A=P-1),!M&&$){E=F;break}j++}return E||y},ZL=function(e){var r=ft(e)?[]:e.toString().split(qz);return[{words:r}]},ome=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!ou.isSsr){var u,f,h=Hz({breakAll:s,children:i,style:a});if(h){var p=h.wordsWithComputedWidth,m=h.spaceWidth;u=p,f=m}else return ZL(i);return sme({breakAll:s,children:i,maxLines:l,style:a},u,f,r,n)}return ZL(i)},e5="#808080",Kc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,u=e.capHeight,f=u===void 0?"0.71em":u,h=e.scaleToFit,p=h===void 0?!1:h,m=e.textAnchor,y=m===void 0?"start":m,_=e.verticalAnchor,b=_===void 0?"end":_,x=e.fill,N=x===void 0?e5:x,A=QL(e,Zpe),j=S.useMemo(function(){return ome({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),E=A.dx,P=A.dy,R=A.angle,C=A.className,I=A.breakAll,M=QL(A,eme);if(!Gr(n)||!Gr(a))return null;var F=n+(Se(E)?E:0),D=a+(Se(P)?P:0),V;switch(b){case"start":V=$E("calc(".concat(f,")"));break;case"middle":V=$E("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:V=$E("calc(".concat(j.length-1," * -").concat(l,")"));break}var $=[];if(p){var H=j[0].width,G=A.width;$.push("scale(".concat((Se(G)?G/H:1)/H,")"))}return R&&$.push("rotate(".concat(R,", ").concat(F,", ").concat(D,")")),$.length&&(M.transform=$.join(" ")),U.createElement("text",oN({},Ge(M,!0),{x:F,y:D,className:ht("recharts-text",C),textAnchor:y,fill:N.includes("url")?e5:N}),j.map(function(Y,Q){var W=Y.words.join(I?"":" ");return U.createElement("tspan",{x:F,dy:Q===0?V:l,key:"".concat(W,"-").concat(Q)},W)}))};function _l(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AC(t){let e,r,n;t.length!==2?(e=_l,r=(l,u)=>_l(t(l),u),n=(l,u)=>t(l)-u):(e=t===_l||t===lme?t:cme,r=t,n=t);function i(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;r(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;r(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function s(l,u,f=0,h=l.length){const p=i(l,u,f,h-1);return p>f&&n(l[p-1],u)>-n(l[p],u)?p-1:p}return{left:i,center:s,right:a}}function cme(){return 0}function Wz(t){return t===null?NaN:+t}function*ume(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const dme=AC(_l),Wm=dme.right;AC(Wz).center;class t5 extends Map{constructor(e,r=pme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(r5(this,e))}has(e){return super.has(r5(this,e))}set(e,r){return super.set(fme(this,e),r)}delete(e){return super.delete(hme(this,e))}}function r5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function fme({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function hme({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function pme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mme(t=_l){if(t===_l)return Gz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Gz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gme=Math.sqrt(50),vme=Math.sqrt(10),yme=Math.sqrt(2);function tx(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=gme?10:a>=vme?5:a>=yme?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=r&&r<2?tx(t,e,r*2):[l,u,f]}function lN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?tx(e,t,r):tx(t,e,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)u[f]=(a-f)/-s;else for(let f=0;f<l;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(i+f)/-s;else for(let f=0;f<l;++f)u[f]=(i+f)*s;return u}function cN(t,e,r){return e=+e,t=+t,r=+r,tx(t,e,r)[2]}function uN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?cN(e,t,r):cN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function n5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Kz(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Gz:mme(i);n>r;){if(n-r>600){const u=n-r+1,f=e-r+1,h=Math.log(u),p=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),y=Math.max(r,Math.floor(e-f*p/u+m)),_=Math.min(n,Math.floor(e+(u-f)*p/u+m));Kz(t,e,y,_,i)}const a=t[e];let s=r,l=n;for(Lh(t,r,e),i(t[n],a)>0&&Lh(t,r,n);s<l;){for(Lh(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Lh(t,r,l):(++l,Lh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Lh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xme(t,e,r){if(t=Float64Array.from(ume(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return i5(t);if(e>=1)return n5(t);var n,i=(n-1)*e,a=Math.floor(i),s=n5(Kz(t,a).subarray(0,a+1)),l=i5(t.subarray(a+1));return s+(l-s)*(i-a)}}function bme(t,e,r=Wz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function wme(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dN=Symbol("implicit");function NC(){var t=new t5,e=[],r=[],n=dN;function i(a){let s=t.get(a);if(s===void 0){if(n!==dN)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new t5;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return NC(e,r).unknown(n)},Zi.apply(i,arguments),i}function Kp(){var t=NC().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,l=!1,u=0,f=0,h=.5;delete t.unknown;function p(){var m=e().length,y=i<n,_=y?i:n,b=y?n:i;a=(b-_)/Math.max(1,m-u+f*2),l&&(a=Math.floor(a)),_+=(b-_-a*(m-u))*h,s=a*(1-u),l&&(_=Math.round(_),s=Math.round(s));var x=wme(m).map(function(N){return _+a*N});return r(y?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(m){return arguments.length?(l=!!m,p()):l},t.padding=function(m){return arguments.length?(u=Math.min(1,f=+m),p()):u},t.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},t.paddingOuter=function(m){return arguments.length?(f=+m,p()):f},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),p()):h},t.copy=function(){return Kp(e(),[n,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},Zi.apply(p(),arguments)}function Yz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Yz(e())},t}function pp(){return Yz(Kp.apply(null,arguments).paddingInner(1))}function TC(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Qz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Gm(){}var Yp=.7,rx=1/Yp,bd="\\s*([+-]?\\d+)\\s*",Qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_me=/^#([0-9a-f]{3,8})$/,Sme=new RegExp(`^rgb\\(${bd},${bd},${bd}\\)$`),Eme=new RegExp(`^rgb\\(${us},${us},${us}\\)$`),jme=new RegExp(`^rgba\\(${bd},${bd},${bd},${Qp}\\)$`),Ame=new RegExp(`^rgba\\(${us},${us},${us},${Qp}\\)$`),Nme=new RegExp(`^hsl\\(${Qp},${us},${us}\\)$`),Tme=new RegExp(`^hsla\\(${Qp},${us},${us},${Qp}\\)$`),a5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TC(Gm,Xp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s5,formatHex:s5,formatHex8:Pme,formatHsl:Cme,formatRgb:o5,toString:o5});function s5(){return this.rgb().formatHex()}function Pme(){return this.rgb().formatHex8()}function Cme(){return Xz(this).formatHsl()}function o5(){return this.rgb().formatRgb()}function Xp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_me.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?l5(e):r===3?new ai(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Cv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Cv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Sme.exec(t))?new ai(e[1],e[2],e[3],1):(e=Eme.exec(t))?new ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jme.exec(t))?Cv(e[1],e[2],e[3],e[4]):(e=Ame.exec(t))?Cv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Nme.exec(t))?d5(e[1],e[2]/100,e[3]/100,1):(e=Tme.exec(t))?d5(e[1],e[2]/100,e[3]/100,e[4]):a5.hasOwnProperty(t)?l5(a5[t]):t==="transparent"?new ai(NaN,NaN,NaN,0):null}function l5(t){return new ai(t>>16&255,t>>8&255,t&255,1)}function Cv(t,e,r,n){return n<=0&&(t=e=r=NaN),new ai(t,e,r,n)}function kme(t){return t instanceof Gm||(t=Xp(t)),t?(t=t.rgb(),new ai(t.r,t.g,t.b,t.opacity)):new ai}function fN(t,e,r,n){return arguments.length===1?kme(t):new ai(t,e,r,n??1)}function ai(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}TC(ai,fN,Qz(Gm,{brighter(t){return t=t==null?rx:Math.pow(rx,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yp:Math.pow(Yp,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ai(Lc(this.r),Lc(this.g),Lc(this.b),nx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c5,formatHex:c5,formatHex8:Ime,formatRgb:u5,toString:u5}));function c5(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}`}function Ime(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}${Pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function u5(){const t=nx(this.opacity);return`${t===1?"rgb(":"rgba("}${Lc(this.r)}, ${Lc(this.g)}, ${Lc(this.b)}${t===1?")":`, ${t})`}`}function nx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pc(t){return t=Lc(t),(t<16?"0":"")+t.toString(16)}function d5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ea(t,e,r,n)}function Xz(t){if(t instanceof Ea)return new Ea(t.h,t.s,t.l,t.opacity);if(t instanceof Gm||(t=Xp(t)),!t)return new Ea;if(t instanceof Ea)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,l=a-i,u=(a+i)/2;return l?(e===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-e)/l+2:s=(e-r)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new Ea(s,l,u,t.opacity)}function Ome(t,e,r,n){return arguments.length===1?Xz(t):new Ea(t,e,r,n??1)}function Ea(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}TC(Ea,Ome,Qz(Gm,{brighter(t){return t=t==null?rx:Math.pow(rx,t),new Ea(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yp:Math.pow(Yp,t),new Ea(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ai(FE(t>=240?t-240:t+120,i,n),FE(t,i,n),FE(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ea(f5(this.h),kv(this.s),kv(this.l),nx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nx(this.opacity);return`${t===1?"hsl(":"hsla("}${f5(this.h)}, ${kv(this.s)*100}%, ${kv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f5(t){return t=(t||0)%360,t<0?t+360:t}function kv(t){return Math.max(0,Math.min(1,t||0))}function FE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const PC=t=>()=>t;function Rme(t,e){return function(r){return t+r*e}}function Mme(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Dme(t){return(t=+t)==1?Jz:function(e,r){return r-e?Mme(e,r,t):PC(isNaN(e)?r:e)}}function Jz(t,e){var r=e-t;return r?Rme(t,r):PC(isNaN(t)?e:t)}const h5=function t(e){var r=Dme(e);function n(i,a){var s=r((i=fN(i)).r,(a=fN(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),f=Jz(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function Lme(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function $me(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fme(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=zf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function Vme(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ix(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Bme(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=zf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var hN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VE=new RegExp(hN.source,"g");function Ume(t){return function(){return t}}function zme(t){return function(e){return t(e)+""}}function qme(t,e){var r=hN.lastIndex=VE.lastIndex=0,n,i,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(n=hN.exec(t))&&(i=VE.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:ix(n,i)})),r=VE.lastIndex;return r<e.length&&(a=e.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?zme(u[0].x):Ume(e):(e=u.length,function(f){for(var h=0,p;h<e;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function zf(t,e){var r=typeof e,n;return e==null||r==="boolean"?PC(e):(r==="number"?ix:r==="string"?(n=Xp(e))?(e=n,h5):qme:e instanceof Xp?h5:e instanceof Date?Vme:$me(e)?Lme:Array.isArray(e)?Fme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bme:ix)(t,e)}function CC(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Hme(t,e){e===void 0&&(e=t,t=zf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function Wme(t){return function(){return t}}function ax(t){return+t}var p5=[0,1];function Bn(t){return t}function pN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Wme(isNaN(e)?NaN:.5)}function Gme(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Kme(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=pN(i,n),a=r(s,a)):(n=pN(n,i),a=r(a,s)),function(l){return a(n(l))}}function Yme(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=pN(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(l){var u=Wm(t,l,1,n)-1;return a[u](i[u](l))}}function Km(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function e0(){var t=p5,e=p5,r=zf,n,i,a,s=Bn,l,u,f;function h(){var m=Math.min(t.length,e.length);return s!==Bn&&(s=Gme(t[0],t[m-1])),l=m>2?Yme:Kme,u=f=null,p}function p(m){return m==null||isNaN(m=+m)?a:(u||(u=l(t.map(n),e,r)))(n(s(m)))}return p.invert=function(m){return s(i((f||(f=l(e,t.map(n),ix)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,ax),h()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),r=CC,h()},p.clamp=function(m){return arguments.length?(s=m?!0:Bn,h()):s!==Bn},p.interpolate=function(m){return arguments.length?(r=m,h()):r},p.unknown=function(m){return arguments.length?(a=m,p):a},function(m,y){return n=m,i=y,h()}}function kC(){return e0()(Bn,Bn)}function Qme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Zd(t){return t=sx(Math.abs(t)),t?t[1]:NaN}function Xme(t,e){return function(r,n){for(var i=r.length,a=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Jme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Zme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jp(t){if(!(e=Zme.exec(t)))throw new Error("invalid format: "+t);var e;return new IC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jp.prototype=IC.prototype;function IC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ege(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Zz;function tge(t,e){var r=sx(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Zz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+sx(t,Math.max(0,e+a-1))[0]}function m5(t,e){var r=sx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const g5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>m5(t*100,e),r:m5,s:tge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v5(t){return t}var y5=Array.prototype.map,x5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rge(t){var e=t.grouping===void 0||t.thousands===void 0?v5:Xme(y5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?v5:Jme(y5.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Jp(p);var m=p.fill,y=p.align,_=p.sign,b=p.symbol,x=p.zero,N=p.width,A=p.comma,j=p.precision,E=p.trim,P=p.type;P==="n"?(A=!0,P="g"):g5[P]||(j===void 0&&(j=12),E=!0,P="g"),(x||m==="0"&&y==="=")&&(x=!0,m="0",y="=");var R=b==="$"?r:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",C=b==="$"?n:/[%p]/.test(P)?s:"",I=g5[P],M=/[defgprs%]/.test(P);j=j===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function F(D){var V=R,$=C,H,G,Y;if(P==="c")$=I(D)+$,D="";else{D=+D;var Q=D<0||1/D<0;if(D=isNaN(D)?u:I(Math.abs(D),j),E&&(D=ege(D)),Q&&+D==0&&_!=="+"&&(Q=!1),V=(Q?_==="("?_:l:_==="-"||_==="("?"":_)+V,$=(P==="s"?x5[8+Zz/3]:"")+$+(Q&&_==="("?")":""),M){for(H=-1,G=D.length;++H<G;)if(Y=D.charCodeAt(H),48>Y||Y>57){$=(Y===46?i+D.slice(H+1):D.slice(H))+$,D=D.slice(0,H);break}}}A&&!x&&(D=e(D,1/0));var W=V.length+D.length+$.length,J=W<N?new Array(N-W+1).join(m):"";switch(A&&x&&(D=e(J+D,J.length?N-$.length:1/0),J=""),y){case"<":D=V+D+$+J;break;case"=":D=V+J+D+$;break;case"^":D=J.slice(0,W=J.length>>1)+V+D+$+J.slice(W);break;default:D=J+V+D+$;break}return a(D)}return F.toString=function(){return p+""},F}function h(p,m){var y=f((p=Jp(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Zd(m)/3)))*3,b=Math.pow(10,-_),x=x5[8+_/3];return function(N){return y(b*N)+x}}return{format:f,formatPrefix:h}}var Iv,OC,eq;nge({thousands:",",grouping:[3],currency:["$",""]});function nge(t){return Iv=rge(t),OC=Iv.format,eq=Iv.formatPrefix,Iv}function ige(t){return Math.max(0,-Zd(Math.abs(t)))}function age(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zd(e)/3)))*3-Zd(Math.abs(t)))}function sge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zd(e)-Zd(t))+1}function tq(t,e,r,n){var i=uN(t,e,r),a;switch(n=Jp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=age(i,s))&&(n.precision=a),eq(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=sge(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=ige(i))&&(n.precision=a-(n.type==="%")*2);break}}return OC(n)}function zl(t){var e=t.domain;return t.ticks=function(r){var n=e();return lN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return tq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],l=n[a],u,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=cN(s,l,r),f===u)return n[i]=s,n[a]=l,e(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function ox(){var t=kC();return t.copy=function(){return Km(t,ox())},Zi.apply(t,arguments),zl(t)}function rq(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ax),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return rq(t).unknown(e)},t=arguments.length?Array.from(t,ax):[0,1],zl(r)}function nq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function b5(t){return Math.log(t)}function w5(t){return Math.exp(t)}function oge(t){return-Math.log(-t)}function lge(t){return-Math.exp(-t)}function cge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uge(t){return t===10?cge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _5(t){return(e,r)=>-t(-e,r)}function RC(t){const e=t(b5,w5),r=e.domain;let n=10,i,a;function s(){return i=dge(n),a=uge(n),r()[0]<0?(i=_5(i),a=_5(a),t(oge,lge)):t(b5,w5),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const u=r();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let m=i(f),y=i(h),_,b;const x=l==null?10:+l;let N=[];if(!(n%1)&&y-m<x){if(m=Math.floor(m),y=Math.ceil(y),f>0){for(;m<=y;++m)for(_=1;_<n;++_)if(b=m<0?_/a(-m):_*a(m),!(b<f)){if(b>h)break;N.push(b)}}else for(;m<=y;++m)for(_=n-1;_>=1;--_)if(b=m>0?_/a(-m):_*a(m),!(b<f)){if(b>h)break;N.push(b)}N.length*2<x&&(N=lN(f,h,x))}else N=lN(m,y,Math.min(y-m,x)).map(a);return p?N.reverse():N},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Jp(u)).precision==null&&(u.trim=!0),u=OC(u)),l===1/0)return u;const f=Math.max(1,n*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=f?u(h):""}},e.nice=()=>r(nq(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function iq(){const t=RC(e0()).domain([1,10]);return t.copy=()=>Km(t,iq()).base(t.base()),Zi.apply(t,arguments),t}function S5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function MC(t){var e=1,r=t(S5(e),E5(e));return r.constant=function(n){return arguments.length?t(S5(e=+n),E5(e)):e},zl(r)}function aq(){var t=MC(e0());return t.copy=function(){return Km(t,aq()).constant(t.constant())},Zi.apply(t,arguments)}function j5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hge(t){return t<0?-t*t:t*t}function DC(t){var e=t(Bn,Bn),r=1;function n(){return r===1?t(Bn,Bn):r===.5?t(fge,hge):t(j5(r),j5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},zl(e)}function LC(){var t=DC(e0());return t.copy=function(){return Km(t,LC()).exponent(t.exponent())},Zi.apply(t,arguments),t}function pge(){return LC.apply(null,arguments).exponent(.5)}function A5(t){return Math.sign(t)*t*t}function mge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function sq(){var t=kC(),e=[0,1],r=!1,n;function i(a){var s=mge(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(A5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ax)).map(A5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sq(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Zi.apply(i,arguments),zl(i)}function oq(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=bme(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Wm(r,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(_l),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return oq().domain(t).range(e).unknown(n)},Zi.apply(a,arguments)}function lq(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[Wm(n,u,0,r)]:a}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return lq().domain([t,e]).range(i).unknown(a)},Zi.apply(zl(s),arguments)}function cq(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Wm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cq().domain(t).range(e).unknown(r)},Zi.apply(i,arguments)}const BE=new Date,UE=new Date;function Yr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return u},i.filter=a=>Yr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(BE.setTime(+a),UE.setTime(+s),t(BE),t(UE),Math.floor(r(BE,UE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const lx=Yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):lx);lx.range;const Ws=1e3,Hi=Ws*60,Gs=Hi*60,co=Gs*24,$C=co*7,N5=co*30,zE=co*365,Cc=Yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ws)},(t,e)=>(e-t)/Ws,t=>t.getUTCSeconds());Cc.range;const FC=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ws)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getMinutes());FC.range;const VC=Yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getUTCMinutes());VC.range;const BC=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ws-t.getMinutes()*Hi)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getHours());BC.range;const UC=Yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getUTCHours());UC.range;const Ym=Yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hi)/co,t=>t.getDate()-1);Ym.range;const t0=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>t.getUTCDate()-1);t0.range;const uq=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>Math.floor(t/co));uq.range;function lu(t){return Yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Hi)/$C)}const r0=lu(0),cx=lu(1),gge=lu(2),vge=lu(3),ef=lu(4),yge=lu(5),xge=lu(6);r0.range;cx.range;gge.range;vge.range;ef.range;yge.range;xge.range;function cu(t){return Yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/$C)}const n0=cu(0),ux=cu(1),bge=cu(2),wge=cu(3),tf=cu(4),_ge=cu(5),Sge=cu(6);n0.range;ux.range;bge.range;wge.range;tf.range;_ge.range;Sge.range;const zC=Yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zC.range;const qC=Yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qC.range;const uo=Yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});uo.range;const fo=Yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});fo.range;function dq(t,e,r,n,i,a){const s=[[Cc,1,Ws],[Cc,5,5*Ws],[Cc,15,15*Ws],[Cc,30,30*Ws],[a,1,Hi],[a,5,5*Hi],[a,15,15*Hi],[a,30,30*Hi],[i,1,Gs],[i,3,3*Gs],[i,6,6*Gs],[i,12,12*Gs],[n,1,co],[n,2,2*co],[r,1,$C],[e,1,N5],[e,3,3*N5],[t,1,zE]];function l(f,h,p){const m=h<f;m&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:u(f,h,p),_=y?y.range(f,+h+1):[];return m?_.reverse():_}function u(f,h,p){const m=Math.abs(h-f)/p,y=AC(([,,x])=>x).right(s,m);if(y===s.length)return t.every(uN(f/zE,h/zE,p));if(y===0)return lx.every(Math.max(uN(f,h,p),1));const[_,b]=s[m/s[y-1][2]<s[y][2]/m?y-1:y];return _.every(b)}return[l,u]}const[Ege,jge]=dq(fo,qC,n0,uq,UC,VC),[Age,Nge]=dq(uo,zC,r0,Ym,BC,FC);function qE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function HE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $h(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Tge(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,f=Fh(i),h=Vh(i),p=Fh(a),m=Vh(a),y=Fh(s),_=Vh(s),b=Fh(l),x=Vh(l),N=Fh(u),A=Vh(u),j={a:Q,A:W,b:J,B:ee,c:null,d:O5,e:O5,f:Xge,g:ove,G:cve,H:Kge,I:Yge,j:Qge,L:fq,m:Jge,M:Zge,p:q,q:X,Q:D5,s:L5,S:eve,u:tve,U:rve,V:nve,w:ive,W:ave,x:null,X:null,y:sve,Y:lve,Z:uve,"%":M5},E={a:ae,A:be,b:Ae,B:Ne,c:null,d:R5,e:R5,f:pve,g:Eve,G:Ave,H:dve,I:fve,j:hve,L:pq,m:mve,M:gve,p:ge,q:Pe,Q:D5,s:L5,S:vve,u:yve,U:xve,V:bve,w:wve,W:_ve,x:null,X:null,y:Sve,Y:jve,Z:Nve,"%":M5},P={a:F,A:D,b:V,B:$,c:H,d:k5,e:k5,f:qge,g:C5,G:P5,H:I5,I:I5,j:Vge,L:zge,m:Fge,M:Bge,p:M,q:$ge,Q:Wge,s:Gge,S:Uge,u:Oge,U:Rge,V:Mge,w:Ige,W:Dge,x:G,X:Y,y:C5,Y:P5,Z:Lge,"%":Hge};j.x=R(r,j),j.X=R(n,j),j.c=R(e,j),E.x=R(r,E),E.X=R(n,E),E.c=R(e,E);function R(de,ve){return function(we){var le=[],Ye=-1,qe=0,pt=de.length,ot,lt,br;for(we instanceof Date||(we=new Date(+we));++Ye<pt;)de.charCodeAt(Ye)===37&&(le.push(de.slice(qe,Ye)),(lt=T5[ot=de.charAt(++Ye)])!=null?ot=de.charAt(++Ye):lt=ot==="e"?" ":"0",(br=ve[ot])&&(ot=br(we,lt)),le.push(ot),qe=Ye+1);return le.push(de.slice(qe,Ye)),le.join("")}}function C(de,ve){return function(we){var le=$h(1900,void 0,1),Ye=I(le,de,we+="",0),qe,pt;if(Ye!=we.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ve&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(qe=HE($h(le.y,0,1)),pt=qe.getUTCDay(),qe=pt>4||pt===0?ux.ceil(qe):ux(qe),qe=t0.offset(qe,(le.V-1)*7),le.y=qe.getUTCFullYear(),le.m=qe.getUTCMonth(),le.d=qe.getUTCDate()+(le.w+6)%7):(qe=qE($h(le.y,0,1)),pt=qe.getDay(),qe=pt>4||pt===0?cx.ceil(qe):cx(qe),qe=Ym.offset(qe,(le.V-1)*7),le.y=qe.getFullYear(),le.m=qe.getMonth(),le.d=qe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),pt="Z"in le?HE($h(le.y,0,1)).getUTCDay():qE($h(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(pt+5)%7:le.w+le.U*7-(pt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,HE(le)):qE(le)}}function I(de,ve,we,le){for(var Ye=0,qe=ve.length,pt=we.length,ot,lt;Ye<qe;){if(le>=pt)return-1;if(ot=ve.charCodeAt(Ye++),ot===37){if(ot=ve.charAt(Ye++),lt=P[ot in T5?ve.charAt(Ye++):ot],!lt||(le=lt(de,we,le))<0)return-1}else if(ot!=we.charCodeAt(le++))return-1}return le}function M(de,ve,we){var le=f.exec(ve.slice(we));return le?(de.p=h.get(le[0].toLowerCase()),we+le[0].length):-1}function F(de,ve,we){var le=y.exec(ve.slice(we));return le?(de.w=_.get(le[0].toLowerCase()),we+le[0].length):-1}function D(de,ve,we){var le=p.exec(ve.slice(we));return le?(de.w=m.get(le[0].toLowerCase()),we+le[0].length):-1}function V(de,ve,we){var le=N.exec(ve.slice(we));return le?(de.m=A.get(le[0].toLowerCase()),we+le[0].length):-1}function $(de,ve,we){var le=b.exec(ve.slice(we));return le?(de.m=x.get(le[0].toLowerCase()),we+le[0].length):-1}function H(de,ve,we){return I(de,e,ve,we)}function G(de,ve,we){return I(de,r,ve,we)}function Y(de,ve,we){return I(de,n,ve,we)}function Q(de){return s[de.getDay()]}function W(de){return a[de.getDay()]}function J(de){return u[de.getMonth()]}function ee(de){return l[de.getMonth()]}function q(de){return i[+(de.getHours()>=12)]}function X(de){return 1+~~(de.getMonth()/3)}function ae(de){return s[de.getUTCDay()]}function be(de){return a[de.getUTCDay()]}function Ae(de){return u[de.getUTCMonth()]}function Ne(de){return l[de.getUTCMonth()]}function ge(de){return i[+(de.getUTCHours()>=12)]}function Pe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var ve=R(de+="",j);return ve.toString=function(){return de},ve},parse:function(de){var ve=C(de+="",!1);return ve.toString=function(){return de},ve},utcFormat:function(de){var ve=R(de+="",E);return ve.toString=function(){return de},ve},utcParse:function(de){var ve=C(de+="",!0);return ve.toString=function(){return de},ve}}}var T5={"-":"",_:" ",0:"0"},sn=/^\s*\d+/,Pge=/^%/,Cge=/[\\^$*+?|[\]().{}]/g;function Bt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function kge(t){return t.replace(Cge,"\\$&")}function Fh(t){return new RegExp("^(?:"+t.map(kge).join("|")+")","i")}function Vh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Ige(t,e,r){var n=sn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Oge(t,e,r){var n=sn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Rge(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Mge(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Dge(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function P5(t,e,r){var n=sn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function C5(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lge(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $ge(t,e,r){var n=sn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Fge(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function k5(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Vge(t,e,r){var n=sn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function I5(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Bge(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Uge(t,e,r){var n=sn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function zge(t,e,r){var n=sn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function qge(t,e,r){var n=sn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hge(t,e,r){var n=Pge.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Wge(t,e,r){var n=sn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Gge(t,e,r){var n=sn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function O5(t,e){return Bt(t.getDate(),e,2)}function Kge(t,e){return Bt(t.getHours(),e,2)}function Yge(t,e){return Bt(t.getHours()%12||12,e,2)}function Qge(t,e){return Bt(1+Ym.count(uo(t),t),e,3)}function fq(t,e){return Bt(t.getMilliseconds(),e,3)}function Xge(t,e){return fq(t,e)+"000"}function Jge(t,e){return Bt(t.getMonth()+1,e,2)}function Zge(t,e){return Bt(t.getMinutes(),e,2)}function eve(t,e){return Bt(t.getSeconds(),e,2)}function tve(t){var e=t.getDay();return e===0?7:e}function rve(t,e){return Bt(r0.count(uo(t)-1,t),e,2)}function hq(t){var e=t.getDay();return e>=4||e===0?ef(t):ef.ceil(t)}function nve(t,e){return t=hq(t),Bt(ef.count(uo(t),t)+(uo(t).getDay()===4),e,2)}function ive(t){return t.getDay()}function ave(t,e){return Bt(cx.count(uo(t)-1,t),e,2)}function sve(t,e){return Bt(t.getFullYear()%100,e,2)}function ove(t,e){return t=hq(t),Bt(t.getFullYear()%100,e,2)}function lve(t,e){return Bt(t.getFullYear()%1e4,e,4)}function cve(t,e){var r=t.getDay();return t=r>=4||r===0?ef(t):ef.ceil(t),Bt(t.getFullYear()%1e4,e,4)}function uve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bt(e/60|0,"0",2)+Bt(e%60,"0",2)}function R5(t,e){return Bt(t.getUTCDate(),e,2)}function dve(t,e){return Bt(t.getUTCHours(),e,2)}function fve(t,e){return Bt(t.getUTCHours()%12||12,e,2)}function hve(t,e){return Bt(1+t0.count(fo(t),t),e,3)}function pq(t,e){return Bt(t.getUTCMilliseconds(),e,3)}function pve(t,e){return pq(t,e)+"000"}function mve(t,e){return Bt(t.getUTCMonth()+1,e,2)}function gve(t,e){return Bt(t.getUTCMinutes(),e,2)}function vve(t,e){return Bt(t.getUTCSeconds(),e,2)}function yve(t){var e=t.getUTCDay();return e===0?7:e}function xve(t,e){return Bt(n0.count(fo(t)-1,t),e,2)}function mq(t){var e=t.getUTCDay();return e>=4||e===0?tf(t):tf.ceil(t)}function bve(t,e){return t=mq(t),Bt(tf.count(fo(t),t)+(fo(t).getUTCDay()===4),e,2)}function wve(t){return t.getUTCDay()}function _ve(t,e){return Bt(ux.count(fo(t)-1,t),e,2)}function Sve(t,e){return Bt(t.getUTCFullYear()%100,e,2)}function Eve(t,e){return t=mq(t),Bt(t.getUTCFullYear()%100,e,2)}function jve(t,e){return Bt(t.getUTCFullYear()%1e4,e,4)}function Ave(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tf(t):tf.ceil(t),Bt(t.getUTCFullYear()%1e4,e,4)}function Nve(){return"+0000"}function M5(){return"%"}function D5(t){return+t}function L5(t){return Math.floor(+t/1e3)}var Yu,gq,vq;Tve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tve(t){return Yu=Tge(t),gq=Yu.format,Yu.parse,vq=Yu.utcFormat,Yu.utcParse,Yu}function Pve(t){return new Date(t)}function Cve(t){return t instanceof Date?+t:+new Date(+t)}function HC(t,e,r,n,i,a,s,l,u,f){var h=kC(),p=h.invert,m=h.domain,y=f(".%L"),_=f(":%S"),b=f("%I:%M"),x=f("%I %p"),N=f("%a %d"),A=f("%b %d"),j=f("%B"),E=f("%Y");function P(R){return(u(R)<R?y:l(R)<R?_:s(R)<R?b:a(R)<R?x:n(R)<R?i(R)<R?N:A:r(R)<R?j:E)(R)}return h.invert=function(R){return new Date(p(R))},h.domain=function(R){return arguments.length?m(Array.from(R,Cve)):m().map(Pve)},h.ticks=function(R){var C=m();return t(C[0],C[C.length-1],R??10)},h.tickFormat=function(R,C){return C==null?P:f(C)},h.nice=function(R){var C=m();return(!R||typeof R.range!="function")&&(R=e(C[0],C[C.length-1],R??10)),R?m(nq(C,R)):h},h.copy=function(){return Km(h,HC(t,e,r,n,i,a,s,l,u,f))},h}function kve(){return Zi.apply(HC(Age,Nge,uo,zC,r0,Ym,BC,FC,Cc,gq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ive(){return Zi.apply(HC(Ege,jge,fo,qC,n0,t0,UC,VC,Cc,vq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i0(){var t=0,e=1,r,n,i,a,s=Bn,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(m){var y,_;return arguments.length?([y,_]=m,s=p(y,_),f):[s(0),s(1)]}}return f.range=h(zf),f.rangeRound=h(CC),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function ql(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yq(){var t=zl(i0()(Bn));return t.copy=function(){return ql(t,yq())},bo.apply(t,arguments)}function xq(){var t=RC(i0()).domain([1,10]);return t.copy=function(){return ql(t,xq()).base(t.base())},bo.apply(t,arguments)}function bq(){var t=MC(i0());return t.copy=function(){return ql(t,bq()).constant(t.constant())},bo.apply(t,arguments)}function WC(){var t=DC(i0());return t.copy=function(){return ql(t,WC()).exponent(t.exponent())},bo.apply(t,arguments)}function Ove(){return WC.apply(null,arguments).exponent(.5)}function wq(){var t=[],e=Bn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Wm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_l),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>xme(t,a/n))},r.copy=function(){return wq(e).domain(t)},bo.apply(r,arguments)}function a0(){var t=0,e=.5,r=1,n=1,i,a,s,l,u,f=Bn,h,p=!1,m;function y(b){return isNaN(b=+b)?m:(b=.5+((b=+h(b))-a)*(n*b<n*a?l:u),f(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,r]=b,i=h(t=+t),a=h(e=+e),s=h(r=+r),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),n=a<i?-1:1,y):[t,e,r]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(f=b,y):f};function _(b){return function(x){var N,A,j;return arguments.length?([N,A,j]=x,f=Hme(b,[N,A,j]),y):[f(0),f(.5),f(1)]}}return y.range=_(zf),y.rangeRound=_(CC),y.unknown=function(b){return arguments.length?(m=b,y):m},function(b){return h=b,i=b(t),a=b(e),s=b(r),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),n=a<i?-1:1,y}}function _q(){var t=zl(a0()(Bn));return t.copy=function(){return ql(t,_q())},bo.apply(t,arguments)}function Sq(){var t=RC(a0()).domain([.1,1,10]);return t.copy=function(){return ql(t,Sq()).base(t.base())},bo.apply(t,arguments)}function Eq(){var t=MC(a0());return t.copy=function(){return ql(t,Eq()).constant(t.constant())},bo.apply(t,arguments)}function GC(){var t=DC(a0());return t.copy=function(){return ql(t,GC()).exponent(t.exponent())},bo.apply(t,arguments)}function Rve(){return GC.apply(null,arguments).exponent(.5)}const $5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kp,scaleDiverging:_q,scaleDivergingLog:Sq,scaleDivergingPow:GC,scaleDivergingSqrt:Rve,scaleDivergingSymlog:Eq,scaleIdentity:rq,scaleImplicit:dN,scaleLinear:ox,scaleLog:iq,scaleOrdinal:NC,scalePoint:pp,scalePow:LC,scaleQuantile:oq,scaleQuantize:lq,scaleRadial:sq,scaleSequential:yq,scaleSequentialLog:xq,scaleSequentialPow:WC,scaleSequentialQuantile:wq,scaleSequentialSqrt:Ove,scaleSequentialSymlog:bq,scaleSqrt:pge,scaleSymlog:aq,scaleThreshold:cq,scaleTime:kve,scaleUtc:Ive,tickFormat:tq},Symbol.toStringTag,{value:"Module"}));var WE,F5;function s0(){if(F5)return WE;F5=1;var t=$f();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var l=r[a],u=n(l);if(u!=null&&(f===void 0?u===u&&!t(u):i(u,f)))var f=u,h=l}return h}return WE=e,WE}var GE,V5;function jq(){if(V5)return GE;V5=1;function t(e,r){return e>r}return GE=t,GE}var KE,B5;function Mve(){if(B5)return KE;B5=1;var t=s0(),e=jq(),r=Uf();function n(i){return i&&i.length?t(i,r,e):void 0}return KE=n,KE}var Dve=Mve();const pl=Kt(Dve);var YE,U5;function Aq(){if(U5)return YE;U5=1;function t(e,r){return e<r}return YE=t,YE}var QE,z5;function Lve(){if(z5)return QE;z5=1;var t=s0(),e=Aq(),r=Uf();function n(i){return i&&i.length?t(i,r,e):void 0}return QE=n,QE}var $ve=Lve();const o0=Kt($ve);var XE,q5;function Fve(){if(q5)return XE;q5=1;var t=lC(),e=ws(),r=Rz(),n=oi();function i(a,s){var l=n(a)?t:r;return l(a,e(s,3))}return XE=i,XE}var JE,H5;function Vve(){if(H5)return JE;H5=1;var t=Iz(),e=Fve();function r(n,i){return t(e(n,i),1)}return JE=r,JE}var Bve=Vve();const Uve=Kt(Bve);var ZE,W5;function zve(){if(W5)return ZE;W5=1;var t=wC();function e(r,n){return t(r,n)}return ZE=e,ZE}var qve=zve();const rf=Kt(qve);var qf=1e9,Hve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},YC,xr=!0,Ji="[DecimalError] ",$c=Ji+"Invalid argument: ",KC=Ji+"Exponent out of range: ",Hf=Math.floor,Sc=Math.pow,Wve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_i,tn=1e7,pr=7,Nq=9007199254740991,dx=Hf(Nq/pr),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*pr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(t){return Zs(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,r=e.constructor;return tr(Zs(e,new r(t),0,1),r.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return $r(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_i))throw Error(Ji+"NaN");if(r.s<1)throw Error(Ji+(r.s?"NaN":"-Infinity"));return r.eq(_i)?new n(0):(xr=!1,e=Zs(Zp(r,a),Zp(t,a),a),xr=!0,tr(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Cq(e,t):Tq(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ji+"NaN");return r.s?(xr=!1,e=Zs(r,t,0,1).times(t),xr=!0,r.minus(e)):tr(new n(r),i)};Le.naturalExponential=Le.exp=function(){return Pq(this)};Le.naturalLogarithm=Le.ln=function(){return Zp(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Tq(e,t):Cq(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($c+t);if(e=$r(i)+1,n=i.d.length-1,r=n*pr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Le.squareRoot=Le.sqrt=function(){var t,e,r,n,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ji+"NaN")}for(t=$r(l),xr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ns(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=s=r+3;;)if(a=n,n=a.plus(Zs(l,a,s+2)).times(.5),ns(a.d).slice(0,s)===(e=ns(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(tr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;s+=4}return xr=!0,tr(n,r)};Le.times=Le.mul=function(t){var e,r,n,i,a,s,l,u,f,h=this,p=h.constructor,m=h.d,y=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,u=m.length,f=y.length,u<f&&(a=m,m=y,y=a,s=u,u=f,f=s),a=[],s=u+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+y[n]*m[i-n-1]+e,a[i--]=l%tn|0,e=l/tn|0;a[i]=(a[i]+e)%tn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,xr?tr(t,p.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ms(t,0,qf),e===void 0?e=n.rounding:ms(e,0,8),tr(r,t+$r(r)+1,e))};Le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Yc(n,!0):(ms(t,0,qf),e===void 0?e=i.rounding:ms(e,0,8),n=tr(new i(n),t+1,e),r=Yc(n,!0,t+1)),r};Le.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Yc(i):(ms(t,0,qf),e===void 0?e=a.rounding:ms(e,0,8),n=tr(new a(i),t+$r(i)+1,e),r=Yc(n.abs(),!1,t+$r(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return tr(new e(t),$r(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,r,n,i,a,s,l=this,u=l.constructor,f=12,h=+(t=new u(t));if(!t.s)return new u(_i);if(l=new u(l),!l.s){if(t.s<1)throw Error(Ji+"Infinity");return l}if(l.eq(_i))return l;if(n=u.precision,t.eq(_i))return tr(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=l.s,s){if((r=h<0?-h:h)<=Nq){for(i=new u(_i),e=Math.ceil(n/pr+4),xr=!1;r%2&&(i=i.times(l),K5(i.d,e)),r=Hf(r/2),r!==0;)l=l.times(l),K5(l.d,e);return xr=!0,t.s<0?new u(_i).div(i):tr(i,n)}}else if(a<0)throw Error(Ji+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,xr=!1,i=t.times(Zp(l,n+f)),xr=!0,i=Pq(i),i.s=a,i};Le.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=$r(i),n=Yc(i,r<=a.toExpNeg||r>=a.toExpPos)):(ms(t,1,qf),e===void 0?e=a.rounding:ms(e,0,8),i=tr(new a(i),t,e),r=$r(i),n=Yc(i,t<=r||r<=a.toExpNeg,t)),n};Le.toSignificantDigits=Le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ms(t,1,qf),e===void 0?e=n.rounding:ms(e,0,8)),tr(new n(r),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$r(t),r=t.constructor;return Yc(t,e<=r.toExpNeg||e>=r.toExpPos)};function Tq(t,e){var r,n,i,a,s,l,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),xr?tr(e,p):e;if(u=t.d,f=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(n=u,a=-a,l=f.length):(n=f,i=s,l=u.length),s=Math.ceil(p/pr),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,n=f,f=u,u=n),r=0;a;)r=(u[--a]=u[a]+f[a]+r)/tn|0,u[a]%=tn;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,xr?tr(e,p):e}function ms(t,e,r){if(t!==~~t||t<e||t>r)throw Error($c+t)}function ns(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=pr-n.length,r&&(a+=tl(r)),a+=n;s=t[e],n=s+"",r=pr-n.length,r&&(a+=tl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Zs=function(){function t(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%tn|0,s=a/tn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*tn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,u,f,h,p,m,y,_,b,x,N,A,j,E,P,R,C,I,M=n.constructor,F=n.s==i.s?1:-1,D=n.d,V=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(Ji+"Division by zero");for(u=n.e-i.e,C=V.length,P=D.length,y=new M(F),_=y.d=[],f=0;V[f]==(D[f]||0);)++f;if(V[f]>(D[f]||0)&&--u,a==null?A=a=M.precision:s?A=a+($r(n)-$r(i))+1:A=a,A<0)return new M(0);if(A=A/pr+2|0,f=0,C==1)for(h=0,V=V[0],A++;(f<P||h)&&A--;f++)j=h*tn+(D[f]||0),_[f]=j/V|0,h=j%V|0;else{for(h=tn/(V[0]+1)|0,h>1&&(V=t(V,h),D=t(D,h),C=V.length,P=D.length),E=C,b=D.slice(0,C),x=b.length;x<C;)b[x++]=0;I=V.slice(),I.unshift(0),R=V[0],V[1]>=tn/2&&++R;do h=0,l=e(V,b,C,x),l<0?(N=b[0],C!=x&&(N=N*tn+(b[1]||0)),h=N/R|0,h>1?(h>=tn&&(h=tn-1),p=t(V,h),m=p.length,x=b.length,l=e(p,b,m,x),l==1&&(h--,r(p,C<m?I:V,m))):(h==0&&(l=h=1),p=V.slice()),m=p.length,m<x&&p.unshift(0),r(b,p,x),l==-1&&(x=b.length,l=e(V,b,C,x),l<1&&(h++,r(b,C<x?I:V,x))),x=b.length):l===0&&(h++,b=[0]),_[f++]=h,l&&b[0]?b[x++]=D[E]||0:(b=[D[E]],x=1);while((E++<P||b[0]!==void 0)&&A--)}return _[0]||_.shift(),y.e=u,tr(y,s?a+$r(y)+1:a)}}();function Pq(t,e){var r,n,i,a,s,l,u=0,f=0,h=t.constructor,p=h.precision;if($r(t)>16)throw Error(KC+$r(t));if(!t.s)return new h(_i);for(xr=!1,l=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Sc(2,f))/Math.LN10*2+5|0,l+=n,r=i=a=new h(_i),h.precision=l;;){if(i=tr(i.times(t),l),r=r.times(++u),s=a.plus(Zs(i,r,l)),ns(s.d).slice(0,l)===ns(a.d).slice(0,l)){for(;f--;)a=tr(a.times(a),l);return h.precision=p,e==null?(xr=!0,tr(a,p)):a}a=s}}function $r(t){for(var e=t.e*pr,r=t.d[0];r>=10;r/=10)e++;return e}function ej(t,e,r){if(e>t.LN10.sd())throw xr=!0,r&&(t.precision=r),Error(Ji+"LN10 precision limit exceeded");return tr(new t(t.LN10),e)}function tl(t){for(var e="";t--;)e+="0";return e}function Zp(t,e){var r,n,i,a,s,l,u,f,h,p=1,m=10,y=t,_=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(Ji+(y.s?"NaN":"-Infinity"));if(y.eq(_i))return new b(0);if(e==null?(xr=!1,f=x):f=e,y.eq(10))return e==null&&(xr=!0),ej(b,f);if(f+=m,b.precision=f,r=ns(_),n=r.charAt(0),a=$r(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=ns(y.d),n=r.charAt(0),p++;a=$r(y),n>1?(y=new b("0."+r),a++):y=new b(n+"."+r.slice(1))}else return u=ej(b,f+2,x).times(a+""),y=Zp(new b(n+"."+r.slice(1)),f-m).plus(u),b.precision=x,e==null?(xr=!0,tr(y,x)):y;for(l=s=y=Zs(y.minus(_i),y.plus(_i),f),h=tr(y.times(y),f),i=3;;){if(s=tr(s.times(h),f),u=l.plus(Zs(s,new b(i),f)),ns(u.d).slice(0,f)===ns(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(ej(b,f+2,x).times(a+""))),l=Zs(l,new b(p),f),b.precision=x,e==null?(xr=!0,tr(l,x)):l;l=u,i+=2}}function G5(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Hf(r/pr),t.d=[],n=(r+1)%pr,r<0&&(n+=pr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=pr;n<i;)t.d.push(+e.slice(n,n+=pr));e=e.slice(n),n=pr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),xr&&(t.e>dx||t.e<-dx))throw Error(KC+r)}else t.s=0,t.e=0,t.d=[0];return t}function tr(t,e,r){var n,i,a,s,l,u,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=pr,i=e,f=p[h=0];else{if(h=Math.ceil((n+1)/pr),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;n%=pr,i=n-pr+s}if(r!==void 0&&(a=Sc(10,s-i-1),l=f/a%10|0,u=e<0||p[h+1]!==void 0||f%a,u=r<4?(l||u)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?f/Sc(10,s-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return u?(a=$r(t),p.length=1,e=e-a-1,p[0]=Sc(10,(pr-e%pr)%pr),t.e=Hf(-e/pr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,a=1,h--):(p.length=h+1,a=Sc(10,pr-n),p[h]=i>0?(f/Sc(10,s-i)%Sc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==tn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=tn)break;p[h--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(xr&&(t.e>dx||t.e<-dx))throw Error(KC+$r(t));return t}function Cq(t,e){var r,n,i,a,s,l,u,f,h,p,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),xr?tr(e,y):e;if(u=t.d,p=e.d,n=e.e,f=t.e,u=u.slice(),s=f-n,s){for(h=s<0,h?(r=u,s=-s,l=p.length):(r=p,n=f,l=u.length),i=Math.max(Math.ceil(y/pr),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}s=0}for(h&&(r=u,u=p,p=r,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=tn-1;--u[a],u[i]+=tn}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,xr?tr(e,y):e):new m(0)}function Yc(t,e,r){var n,i=$r(t),a=ns(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+tl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+tl(-i-1)+a,r&&(n=r-s)>0&&(a+=tl(n))):i>=s?(a+=tl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+tl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=tl(n))),t.s<0?"-"+a:a}function K5(t,e){if(t.length>e)return t.length=e,!0}function kq(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($c+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return G5(s,a.toString())}else if(typeof a!="string")throw Error($c+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Wve.test(a))G5(s,a);else throw Error($c+a)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kq,i.config=i.set=Gve,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Gve(t){if(!t||typeof t!="object")throw Error(Ji+"Object expected");var e,r,n,i=["precision",1,qf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Hf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error($c+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($c+r+": "+n);return this}var YC=kq(Hve);_i=new YC(1);const Xt=YC;function Kve(t){return Jve(t)||Xve(t)||Qve(t)||Yve()}function Yve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(t,e){if(t){if(typeof t=="string")return mN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mN(t,e)}}function Xve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Jve(t){if(Array.isArray(t))return mN(t)}function mN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Zve=function(e){return e},Iq={},Oq=function(e){return e===Iq},Y5=function(e){return function r(){return arguments.length===0||arguments.length===1&&Oq(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},eye=function t(e,r){return e===1?r:Y5(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==Iq}).length;return s>=e?r.apply(void 0,i):t(e-s,Y5(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=i.map(function(p){return Oq(p)?u.shift():p});return r.apply(void 0,Kve(h).concat(u))}))})},l0=function(e){return eye(e.length,e)},gN=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},tye=l0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),rye=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Zve;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,u){return u(l)},a.apply(void 0,arguments))}},vN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Rq=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,u){return l===r[u]})||(r=a,n=e.apply(void 0,a)),n}};function nye(t){var e;return t===0?e=1:e=Math.floor(new Xt(t).abs().log(10).toNumber())+1,e}function iye(t,e,r){for(var n=new Xt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var aye=l0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),sye=l0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),oye=l0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const c0={rangeStep:iye,getDigitCount:nye,interpolateNumber:aye,uninterpolateNumber:sye,uninterpolateTruncation:oye};function yN(t){return uye(t)||cye(t)||Mq(t)||lye()}function lye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uye(t){if(Array.isArray(t))return xN(t)}function em(t,e){return hye(t)||fye(t,e)||Mq(t,e)||dye()}function dye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(t,e){if(t){if(typeof t=="string")return xN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xN(t,e)}}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,a=u}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function hye(t){if(Array.isArray(t))return t}function Dq(t){var e=em(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Lq(t,e,r){if(t.lte(0))return new Xt(0);var n=c0.getDigitCount(t.toNumber()),i=new Xt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,l=new Xt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),u=l.mul(i);return e?u:new Xt(Math.ceil(u))}function pye(t,e,r){var n=1,i=new Xt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Xt(10).pow(c0.getDigitCount(t)-1),i=new Xt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Xt(Math.floor(t)))}else t===0?i=new Xt(Math.floor((e-1)/2)):r||(i=new Xt(Math.floor(t)));var s=Math.floor((e-1)/2),l=rye(tye(function(u){return i.add(new Xt(u-s).mul(n)).toNumber()}),gN);return l(0,e)}function $q(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xt(0),tickMin:new Xt(0),tickMax:new Xt(0)};var a=Lq(new Xt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Xt(0):(s=new Xt(t).add(e).div(2),s=s.sub(new Xt(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new Xt(e).sub(s).div(a).toNumber()),f=l+u+1;return f>r?$q(t,e,r,n,i+1):(f<r&&(u=e>0?u+(r-f):u,l=e>0?l:l+(r-f)),{step:a,tickMin:s.sub(new Xt(l).mul(a)),tickMax:s.add(new Xt(u).mul(a))})}function mye(t){var e=em(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=Dq([r,n]),u=em(l,2),f=u[0],h=u[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(yN(gN(0,i-1).map(function(){return 1/0}))):[].concat(yN(gN(0,i-1).map(function(){return-1/0})),[h]);return r>n?vN(p):p}if(f===h)return pye(f,i,a);var m=$q(f,h,s,a),y=m.step,_=m.tickMin,b=m.tickMax,x=c0.rangeStep(_,b.add(new Xt(.1).mul(y)),y);return r>n?vN(x):x}function gye(t,e){var r=em(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Dq([n,i]),l=em(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0)return[n,i];if(u===f)return[u];var h=Math.max(e,2),p=Lq(new Xt(f).sub(u).div(h-1),a,0),m=[].concat(yN(c0.rangeStep(new Xt(u),new Xt(f).sub(new Xt(.99).mul(p)),p)),[f]);return n>i?vN(m):m}var vye=Rq(mye),yye=Rq(gye),xye="Invariant failed";function Qc(t,e){throw new Error(xye)}var bye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}function wye(t,e){return jye(t)||Eye(t,e)||Sye(t,e)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sye(t,e){if(t){if(typeof t=="string")return Q5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(t,e)}}function Q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function jye(t){if(Array.isArray(t))return t}function Aye(t,e){if(t==null)return{};var r=Nye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bq(n.key),n)}}function Cye(t,e,r){return e&&Pye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kye(t,e,r){return e=hx(e),Iye(t,Fq()?Reflect.construct(e,r||[],hx(t).constructor):e.apply(t,r))}function Iye(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oye(t)}function Oye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function Rye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bN(t,e)}function bN(t,e){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bN(t,e)}function Vq(t,e,r){return e=Bq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bq(t){var e=Mye(t,"string");return nf(e)=="symbol"?e:e+""}function Mye(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u0=function(t){function e(){return Tye(this,e),kye(this,e,arguments)}return Rye(e,t),Cye(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,u=n.data,f=n.dataPointFormatter,h=n.xAxis,p=n.yAxis,m=Aye(n,bye),y=Ge(m,!1);this.props.direction==="x"&&h.type!=="number"&&Qc();var _=u.map(function(b){var x=f(b,l),N=x.x,A=x.y,j=x.value,E=x.errorVal;if(!E)return null;var P=[],R,C;if(Array.isArray(E)){var I=wye(E,2);R=I[0],C=I[1]}else R=C=E;if(a==="vertical"){var M=h.scale,F=A+i,D=F+s,V=F-s,$=M(j-R),H=M(j+C);P.push({x1:H,y1:D,x2:H,y2:V}),P.push({x1:$,y1:F,x2:H,y2:F}),P.push({x1:$,y1:D,x2:$,y2:V})}else if(a==="horizontal"){var G=p.scale,Y=N+i,Q=Y-s,W=Y+s,J=G(j-R),ee=G(j+C);P.push({x1:Q,y1:ee,x2:W,y2:ee}),P.push({x1:Y,y1:J,x2:Y,y2:ee}),P.push({x1:Q,y1:J,x2:W,y2:J})}return U.createElement(Ot,fx({className:"recharts-errorBar",key:"bar-".concat(P.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},y),P.map(function(q){return U.createElement("line",fx({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return U.createElement(Ot,{className:"recharts-errorBars"},_)}}])}(U.Component);Vq(u0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Vq(u0,"displayName","ErrorBar");function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function X5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(r),!0).forEach(function(n){Dye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dye(t,e,r){return e=Lye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lye(t){var e=$ye(t,"string");return tm(e)=="symbol"?e:e+""}function $ye(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uq=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=xi(r,wl);if(!s)return null;var l=wl.defaultProps,u=l!==void 0?yc(yc({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,p){var m=p.item,y=p.props,_=y.sectors||y.data||[];return h.concat(_.map(function(b){return{type:s.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(n||[]).map(function(h){var p=h.item,m=p.type.defaultProps,y=m!==void 0?yc(yc({},m),p.props):{},_=y.dataKey,b=y.name,x=y.legendType,N=y.hide;return{inactive:N,dataKey:_,type:u.iconType||x||"square",color:QC(p),value:b||_,payload:y}}),yc(yc(yc({},u),wl.getWithHeight(s,i)),{},{payload:f,item:s})};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function J5(t){return Uye(t)||Bye(t)||Vye(t)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vye(t,e){if(t){if(typeof t=="string")return wN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wN(t,e)}}function Bye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uye(t){if(Array.isArray(t))return wN(t)}function wN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){wd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wd(t,e,r){return e=zye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zye(t){var e=qye(t,"string");return rm(e)=="symbol"?e:e+""}function qye(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,r){return ft(t)||ft(e)?r:Gr(e)?Ni(t,e,r):at(e)?e(t):r}function mp(t,e,r,n){var i=Uve(t,function(l){return Wr(l,e)});if(r==="number"){var a=i.filter(function(l){return Se(l)||parseFloat(l)});return a.length?[o0(a),pl(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!ft(l)}):i;return s.map(function(l){return Gr(l)||l instanceof Date?l:""})}var Hye=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,m=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(Fn(p-h)!==Fn(m-p)){var _=[];if(Fn(m-p)===Fn(u[1]-u[0])){y=m;var b=p+u[1]-u[0];_[0]=Math.min(b,(b+h)/2),_[1]=Math.max(b,(b+h)/2)}else{y=h;var x=m+u[1]-u[0];_[0]=Math.min(p,(x+p)/2),_[1]=Math.max(p,(x+p)/2)}var N=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>N[0]&&e<=N[1]||e>=_[0]&&e<=_[1]){s=i[f].index;break}}else{var A=Math.min(h,m),j=Math.max(h,m);if(e>(A+p)/2&&e<=(j+p)/2){s=i[f].index;break}}}else for(var E=0;E<l;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<l-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===l-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){s=n[E].index;break}return s},QC=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,u;switch(i){case"Line":u=s;break;case"Area":case"Radar":u=s&&s!=="none"?s:l;break;default:u=l;break}return u},Wye=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),u=0,f=l.length;u<f;u++)for(var h=a[l[u]].stackGroups,p=Object.keys(h),m=0,y=p.length;m<y;m++){var _=h[p[m]],b=_.items,x=_.cateAxisId,N=b.filter(function(C){return Js(C.type).indexOf("Bar")>=0});if(N&&N.length){var A=N[0].type.defaultProps,j=A!==void 0?Tr(Tr({},A),N[0].props):N[0].props,E=j.barSize,P=j[x];s[P]||(s[P]=[]);var R=ft(E)?r:E;s[P].push({item:N[0],stackList:N.slice(1),barSize:ft(R)?void 0:Vn(R,n,0)})}}return s},Gye=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,u=s.length;if(u<1)return null;var f=Vn(r,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var m=!1,y=i/u,_=s.reduce(function(E,P){return E+P.barSize||0},0);_+=(u-1)*f,_>=i&&(_-=(u-1)*f,f=0),_>=i&&y>0&&(m=!0,y*=.9,_=u*y);var b=(i-_)/2>>0,x={offset:b-f,size:0};h=s.reduce(function(E,P){var R={item:P.item,position:{offset:x.offset+x.size+f,size:m?y:P.barSize}},C=[].concat(J5(E),[R]);return x=C[C.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){C.push({item:I,position:x})}),C},p)}else{var N=Vn(n,i,0,!0);i-2*N-(u-1)*f<=0&&(f=0);var A=(i-2*N-(u-1)*f)/u;A>1&&(A>>=0);var j=l===+l?Math.min(A,l):A;h=s.reduce(function(E,P,R){var C=[].concat(J5(E),[{item:P.item,position:{offset:N+(A+f)*R+(A-j)/2,size:j}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){C.push({item:I,position:C[C.length-1].position})}),C},p)}return h},Kye=function(e,r,n,i){var a=n.children,s=n.width,l=n.margin,u=s-(l.left||0)-(l.right||0),f=Uq({children:a,legendWidth:u});if(f){var h=i||{},p=h.width,m=h.height,y=f.align,_=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&_==="middle")&&y!=="center"&&Se(e[y]))return Tr(Tr({},e),{},wd({},y,e[y]+(p||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&_!=="middle"&&Se(e[_]))return Tr(Tr({},e),{},wd({},_,e[_]+(m||0)))}return e},Yye=function(e,r,n){return ft(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zq=function(e,r,n,i,a){var s=r.props.children,l=Yi(s,u0).filter(function(f){return Yye(i,a,f.props.direction)});if(l&&l.length){var u=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=Wr(h,n);if(ft(p))return f;var m=Array.isArray(p)?[o0(p),pl(p)]:[p,p],y=u.reduce(function(_,b){var x=Wr(h,b,0),N=m[0]-Math.abs(Array.isArray(x)?x[0]:x),A=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(N,_[0]),Math.max(A,_[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},Qye=function(e,r,n,i,a){var s=r.map(function(l){return zq(e,l,n,a,i)}).filter(function(l){return!ft(l)});return s&&s.length?s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},qq=function(e,r,n,i,a){var s=r.map(function(u){var f=u.props.dataKey;return n==="number"&&f&&zq(e,u,f,i)||mp(e,f,n,a)});if(n==="number")return s.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(u,f){for(var h=0,p=f.length;h<p;h++)l[f[h]]||(l[f[h]]=!0,u.push(f[h]));return u},[])},Hq=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Wq=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var a,s,l=e.map(function(u){return u.coordinate===r&&(a=!0),u.coordinate===n&&(s=!0),u.coordinate});return a||l.push(r),s||l.push(n),l},Ks=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/u:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fn(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var m=a?a.indexOf(p):p;return{coordinate:i(m)+f,value:p,offset:f}});return h.filter(function(p){return!Vf(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,m){return{coordinate:i(p)+f,value:p,index:m,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,m){return{coordinate:i(p)+f,value:a?a[p]:p,index:m,offset:f}})},tj=new WeakMap,Ov=function(e,r){if(typeof r!="function")return e;tj.has(e)||tj.set(e,new WeakMap);var n=tj.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Gq=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Kp(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:ox(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pp(),realScaleType:"point"}:a==="category"?{scale:Kp(),realScaleType:"band"}:{scale:ox(),realScaleType:"linear"};if(qm(i)){var u="scale".concat(Wb(i));return{scale:($5[u]||pp)(),realScaleType:$5[u]?u:"point"}}return at(i)?{scale:i}:{scale:pp(),realScaleType:"point"}},e$=1e-4,Kq=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-e$,s=Math.max(i[0],i[1])+e$,l=e(r[0]),u=e(r[n-1]);(l<a||l>s||u<a||u>s)&&e.domain([r[0],r[n-1]])}},Xye=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Jye=function(e,r){if(!r||r.length!==2||!Se(r[0])||!Se(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Se(e[0])||e[0]<n)&&(a[0]=n),(!Se(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Zye=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var u=Vf(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+u,s=e[l][n][1])}},exe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=Vf(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},txe={sign:Zye,expand:Ude,none:Kd,silhouette:zde,wiggle:qde,positive:exe},rxe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=txe[n],s=Bde().keys(i).value(function(l,u){return+Wr(l,u,0)}).order(XA).offset(a);return s(e)},nxe=function(e,r,n,i,a,s){if(!e)return null;var l=s?r.reverse():r,u={},f=l.reduce(function(p,m){var y,_=(y=m.type)!==null&&y!==void 0&&y.defaultProps?Tr(Tr({},m.type.defaultProps),m.props):m.props,b=_.stackId,x=_.hide;if(x)return p;var N=_[n],A=p[N]||{hasStack:!1,stackGroups:{}};if(Gr(b)){var j=A.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};j.items.push(m),A.hasStack=!0,A.stackGroups[b]=j}else A.stackGroups[Bf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Tr(Tr({},p),{},wd({},N,A))},u),h={};return Object.keys(f).reduce(function(p,m){var y=f[m];if(y.hasStack){var _={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var N=y.stackGroups[x];return Tr(Tr({},b),{},wd({},x,{numericAxisId:n,cateAxisId:i,items:N.items,stackedData:rxe(e,N.items,a)}))},_)}return Tr(Tr({},p),{},wd({},m,y))},h)},Yq=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=vye(f,a,l);return e.domain([o0(h),pl(h)]),{niceTicks:h}}if(a&&i==="number"){var p=e.domain(),m=yye(p,a,l);return{niceTicks:m}}return null};function t$(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var l=zy(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var u=Wr(i,ft(s)?e.dataKey:s);return ft(u)?null:e.scale(u)}var r$=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var u=Wr(s,r.dataKey,r.domain[l]);return ft(u)?null:r.scale(u)-a/2+i},ixe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},axe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Gr(a)){var s=r[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},sxe=function(e){return e.reduce(function(r,n){return[o0(n.concat([r[0]]).filter(Se)),pl(n.concat([r[1]]).filter(Se))]},[1/0,-1/0])},Qq=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,u=l.reduce(function(f,h){var p=sxe(h.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},n$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_N=function(e,r,n){if(at(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Se(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(n$.test(e[0])){var a=+n$.exec(e[0])[1];i[0]=r[0]-a}else at(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Se(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(i$.test(e[1])){var s=+i$.exec(e[1])[1];i[1]=r[1]+s}else at(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},px=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=SC(r,function(p){return p.coordinate}),s=1/0,l=1,u=a.length;l<u;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},a$=function(e,r,n){return!e||!e.length||rf(e,Ni(n,"type.defaultProps.domain"))?r:e},Xq=function(e,r){var n=e.type.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,u=n.tooltipType,f=n.chartType,h=n.hide;return Tr(Tr({},Ge(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:QC(e),value:Wr(r,i),type:u,payload:r,chartType:f,hide:h})};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function s$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(r),!0).forEach(function(n){Jq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jq(t,e,r){return e=oxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oxe(t){var e=lxe(t,"string");return nm(e)=="symbol"?e:e+""}function lxe(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cxe(t,e){return hxe(t)||fxe(t,e)||dxe(t,e)||uxe()}function uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dxe(t,e){if(t){if(typeof t=="string")return o$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o$(t,e)}}function o$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function hxe(t){if(Array.isArray(t))return t}var mx=Math.PI/180,pxe=function(e){return e*180/Math.PI},or=function(e,r,n,i){return{x:e+Math.cos(-mx*i)*n,y:r+Math.sin(-mx*i)*n}},Zq=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},mxe=function(e,r,n,i,a){var s=e.width,l=e.height,u=e.startAngle,f=e.endAngle,h=Vn(e.cx,s,s/2),p=Vn(e.cy,l,l/2),m=Zq(s,l,n),y=Vn(e.innerRadius,m,0),_=Vn(e.outerRadius,m,m*.8),b=Object.keys(r);return b.reduce(function(x,N){var A=r[N],j=A.domain,E=A.reversed,P;if(ft(A.range))i==="angleAxis"?P=[u,f]:i==="radiusAxis"&&(P=[y,_]),E&&(P=[P[1],P[0]]);else{P=A.range;var R=P,C=cxe(R,2);u=C[0],f=C[1]}var I=Gq(A,a),M=I.realScaleType,F=I.scale;F.domain(j).range(P),Kq(F);var D=Yq(F,Bs(Bs({},A),{},{realScaleType:M})),V=Bs(Bs(Bs({},A),D),{},{range:P,radius:_,realScaleType:M,scale:F,cx:h,cy:p,innerRadius:y,outerRadius:_,startAngle:u,endAngle:f});return Bs(Bs({},x),{},Jq({},N,V))},{})},gxe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},vxe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,l=gxe({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var u=(n-a)/l,f=Math.acos(u);return i>s&&(f=2*Math.PI-f),{radius:l,angle:pxe(f),angleInRadian:f}},yxe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},xxe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},l$=function(e,r){var n=e.x,i=e.y,a=vxe({x:n,y:i},r),s=a.radius,l=a.angle,u=r.innerRadius,f=r.outerRadius;if(s<u||s>f)return!1;if(s===0)return!0;var h=yxe(r),p=h.startAngle,m=h.endAngle,y=l,_;if(p<=m){for(;y>m;)y-=360;for(;y<p;)y+=360;_=y>=p&&y<=m}else{for(;y>p;)y-=360;for(;y<m;)y+=360;_=y>=m&&y<=p}return _?Bs(Bs({},r),{},{radius:s,angle:xxe(y,r)}):null},eH=function(e){return!S.isValidElement(e)&&!at(e)&&typeof e!="boolean"?e.className:""};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}var bxe=["offset"];function wxe(t){return jxe(t)||Exe(t)||Sxe(t)||_xe()}function _xe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sxe(t,e){if(t){if(typeof t=="string")return SN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SN(t,e)}}function Exe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jxe(t){if(Array.isArray(t))return SN(t)}function SN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Axe(t,e){if(t==null)return{};var r=Nxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){Txe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Txe(t,e,r){return e=Pxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pxe(t){var e=Cxe(t,"string");return im(e)=="symbol"?e:e+""}function Cxe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(this,arguments)}var kxe=function(e){var r=e.value,n=e.formatter,i=ft(e.children)?r:e.children;return at(n)?n(i):i},Ixe=function(e,r){var n=Fn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Oxe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,u=a,f=u.cx,h=u.cy,p=u.innerRadius,m=u.outerRadius,y=u.startAngle,_=u.endAngle,b=u.clockWise,x=(p+m)/2,N=Ixe(y,_),A=N>=0?1:-1,j,E;i==="insideStart"?(j=y+A*s,E=b):i==="insideEnd"?(j=_-A*s,E=!b):i==="end"&&(j=_+A*s,E=b),E=N<=0?E:!E;var P=or(f,h,x,j),R=or(f,h,x,j+(E?1:-1)*359),C="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(E?0:1,`,
    `).concat(R.x,",").concat(R.y),I=ft(e.id)?Bf("recharts-radial-line-"):e.id;return U.createElement("text",am({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:I,d:C})),U.createElement("textPath",{xlinkHref:"#".concat(I)},r))},Rxe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,l=a.cy,u=a.innerRadius,f=a.outerRadius,h=a.startAngle,p=a.endAngle,m=(h+p)/2;if(i==="outside"){var y=or(s,l,f+n,m),_=y.x,b=y.y;return{x:_,y:b,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+f)/2,N=or(s,l,x,m),A=N.x,j=N.y;return{x:A,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Mxe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,l=s.x,u=s.y,f=s.width,h=s.height,p=h>=0?1:-1,m=p*i,y=p>0?"end":"start",_=p>0?"start":"end",b=f>=0?1:-1,x=b*i,N=b>0?"end":"start",A=b>0?"start":"end";if(a==="top"){var j={x:l+f/2,y:u-p*i,textAnchor:"middle",verticalAnchor:y};return qr(qr({},j),n?{height:Math.max(u-n.y,0),width:f}:{})}if(a==="bottom"){var E={x:l+f/2,y:u+h+m,textAnchor:"middle",verticalAnchor:_};return qr(qr({},E),n?{height:Math.max(n.y+n.height-(u+h),0),width:f}:{})}if(a==="left"){var P={x:l-x,y:u+h/2,textAnchor:N,verticalAnchor:"middle"};return qr(qr({},P),n?{width:Math.max(P.x-n.x,0),height:h}:{})}if(a==="right"){var R={x:l+f+x,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return qr(qr({},R),n?{width:Math.max(n.x+n.width-R.x,0),height:h}:{})}var C=n?{width:f,height:h}:{};return a==="insideLeft"?qr({x:l+x,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},C):a==="insideRight"?qr({x:l+f-x,y:u+h/2,textAnchor:N,verticalAnchor:"middle"},C):a==="insideTop"?qr({x:l+f/2,y:u+m,textAnchor:"middle",verticalAnchor:_},C):a==="insideBottom"?qr({x:l+f/2,y:u+h-m,textAnchor:"middle",verticalAnchor:y},C):a==="insideTopLeft"?qr({x:l+x,y:u+m,textAnchor:A,verticalAnchor:_},C):a==="insideTopRight"?qr({x:l+f-x,y:u+m,textAnchor:N,verticalAnchor:_},C):a==="insideBottomLeft"?qr({x:l+x,y:u+h-m,textAnchor:A,verticalAnchor:y},C):a==="insideBottomRight"?qr({x:l+f-x,y:u+h-m,textAnchor:N,verticalAnchor:y},C):Ff(a)&&(Se(a.x)||Tc(a.x))&&(Se(a.y)||Tc(a.y))?qr({x:l+Vn(a.x,f),y:u+Vn(a.y,h),textAnchor:"end",verticalAnchor:"end"},C):qr({x:l+f/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Dxe=function(e){return"cx"in e&&Se(e.cx)};function rn(t){var e=t.offset,r=e===void 0?5:e,n=Axe(t,bxe),i=qr({offset:r},n),a=i.viewBox,s=i.position,l=i.value,u=i.children,f=i.content,h=i.className,p=h===void 0?"":h,m=i.textBreakAll;if(!a||ft(l)&&ft(u)&&!S.isValidElement(f)&&!at(f))return null;if(S.isValidElement(f))return S.cloneElement(f,i);var y;if(at(f)){if(y=S.createElement(f,i),S.isValidElement(y))return y}else y=kxe(i);var _=Dxe(a),b=Ge(i,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Oxe(i,y,b);var x=_?Rxe(i):Mxe(i);return U.createElement(Kc,am({className:ht("recharts-label",p)},b,x,{breakAll:m}),y)}rn.displayName="Label";var tH=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,u=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,m=e.y,y=e.top,_=e.left,b=e.width,x=e.height,N=e.clockWise,A=e.labelViewBox;if(A)return A;if(Se(b)&&Se(x)){if(Se(p)&&Se(m))return{x:p,y:m,width:b,height:x};if(Se(y)&&Se(_))return{x:y,y:_,width:b,height:x}}return Se(p)&&Se(m)?{x:p,y:m,width:0,height:0}:Se(r)&&Se(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||u||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},Lxe=function(e,r){return e?e===!0?U.createElement(rn,{key:"label-implicit",viewBox:r}):Gr(e)?U.createElement(rn,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===rn?S.cloneElement(e,{key:"label-implicit",viewBox:r}):U.createElement(rn,{key:"label-implicit",content:e,viewBox:r}):at(e)?U.createElement(rn,{key:"label-implicit",content:e,viewBox:r}):Ff(e)?U.createElement(rn,am({viewBox:r},e,{key:"label-implicit"})):null:null},$xe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=tH(e),s=Yi(i,rn).map(function(u,f){return S.cloneElement(u,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var l=Lxe(e.label,r||a);return[l].concat(wxe(s))};rn.parseViewBox=tH;rn.renderCallByParent=$xe;var rj,u$;function Fxe(){if(u$)return rj;u$=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return rj=t,rj}var Vxe=Fxe();const Bxe=Kt(Vxe);function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}var Uxe=["valueAccessor"],zxe=["data","dataKey","clockWise","id","textBreakAll"];function qxe(t){return Kxe(t)||Gxe(t)||Wxe(t)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return EN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(t,e)}}function Gxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kxe(t){if(Array.isArray(t))return EN(t)}function EN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function d$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(r),!0).forEach(function(n){Yxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yxe(t,e,r){return e=Qxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qxe(t){var e=Xxe(t,"string");return sm(e)=="symbol"?e:e+""}function Xxe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h$(t,e){if(t==null)return{};var r=Jxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zxe=function(e){return Array.isArray(e.value)?Bxe(e.value):e.value};function eo(t){var e=t.valueAccessor,r=e===void 0?Zxe:e,n=h$(t,Uxe),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,u=n.textBreakAll,f=h$(n,zxe);return!i||!i.length?null:U.createElement(Ot,{className:"recharts-label-list"},i.map(function(h,p){var m=ft(a)?r(h,p):Wr(h&&h.payload,a),y=ft(l)?{}:{id:"".concat(l,"-").concat(p)};return U.createElement(rn,gx({},Ge(h,!0),f,y,{parentViewBox:h.parentViewBox,value:m,textBreakAll:u,viewBox:rn.parseViewBox(ft(s)?h:f$(f$({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}eo.displayName="LabelList";function ebe(t,e){return t?t===!0?U.createElement(eo,{key:"labelList-implicit",data:e}):U.isValidElement(t)||at(t)?U.createElement(eo,{key:"labelList-implicit",data:e,content:t}):Ff(t)?U.createElement(eo,gx({data:e},t,{key:"labelList-implicit"})):null:null}function tbe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Yi(n,eo).map(function(s,l){return S.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=ebe(t.label,e);return[a].concat(qxe(i))}eo.renderCallByParent=tbe;function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jN.apply(this,arguments)}function p$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(r),!0).forEach(function(n){rbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rbe(t,e,r){return e=nbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nbe(t){var e=ibe(t,"string");return om(e)=="symbol"?e:e+""}function ibe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var abe=function(e,r){var n=Fn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Rv=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,u=e.cornerRadius,f=e.cornerIsExternal,h=u*(l?1:-1)+i,p=Math.asin(u/h)/mx,m=f?a:a+s*p,y=or(r,n,h,m),_=or(r,n,i,m),b=f?a-s*p:a,x=or(r,n,h*Math.cos(p*mx),b);return{center:y,circleTangency:_,lineTangency:x,theta:p}},rH=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,u=abe(s,l),f=s+u,h=or(r,n,a,s),p=or(r,n,a,f),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=or(r,n,i,s),_=or(r,n,i,f);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},sbe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=Fn(h-f),m=Rv({cx:r,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),y=m.circleTangency,_=m.lineTangency,b=m.theta,x=Rv({cx:r,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),N=x.circleTangency,A=x.lineTangency,j=x.theta,E=u?Math.abs(f-h):Math.abs(f-h)-b-j;if(E<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):rH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var P="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var R=Rv({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),C=R.circleTangency,I=R.lineTangency,M=R.theta,F=Rv({cx:r,cy:n,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),D=F.circleTangency,V=F.lineTangency,$=F.theta,H=u?Math.abs(f-h):Math.abs(f-h)-M-$;if(H<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},obe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nH=function(e){var r=m$(m$({},obe),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,m=r.className;if(s<a||h===p)return null;var y=ht("recharts-sector",m),_=s-a,b=Vn(l,_,0,!0),x;return b>0&&Math.abs(h-p)<360?x=sbe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):x=rH({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),U.createElement("path",jN({},Ge(r,!0),{className:y,d:x,role:"img"}))};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function AN(){return AN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AN.apply(this,arguments)}function g$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(r),!0).forEach(function(n){lbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lbe(t,e,r){return e=cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cbe(t){var e=ube(t,"string");return lm(e)=="symbol"?e:e+""}function ube(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y$={curveBasisClosed:Cde,curveBasisOpen:kde,curveBasis:Pde,curveBumpX:mde,curveBumpY:gde,curveLinearClosed:Ide,curveLinear:Kb,curveMonotoneX:Ode,curveMonotoneY:Rde,curveNatural:Mde,curveStep:Dde,curveStepAfter:$de,curveStepBefore:Lde},Mv=function(e){return e.x===+e.x&&e.y===+e.y},Bh=function(e){return e.x},Uh=function(e){return e.y},dbe=function(e,r){if(at(e))return e;var n="curve".concat(Wb(e));return(n==="curveMonotone"||n==="curveBump")&&r?y$["".concat(n).concat(r==="vertical"?"Y":"X")]:y$[n]||Kb},fbe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,u=e.connectNulls,f=u===void 0?!1:u,h=dbe(n,l),p=f?a.filter(function(b){return Mv(b)}):a,m;if(Array.isArray(s)){var y=f?s.filter(function(b){return Mv(b)}):s,_=p.map(function(b,x){return v$(v$({},b),{},{base:y[x]})});return l==="vertical"?m=Av().y(Uh).x1(Bh).x0(function(b){return b.base.x}):m=Av().x(Bh).y1(Uh).y0(function(b){return b.base.y}),m.defined(Mv).curve(h),m(_)}return l==="vertical"&&Se(s)?m=Av().y(Uh).x1(Bh).x0(s):Se(s)?m=Av().x(Bh).y1(Uh).y0(s):m=tz().x(Bh).y(Uh),m.defined(Mv).curve(h),m(p)},_d=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?fbe(e):i;return U.createElement("path",AN({},Ge(e,!1),qy(e),{className:ht("recharts-curve",r),d:s,ref:a}))},nj={exports:{}},ij,x$;function hbe(){if(x$)return ij;x$=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ij=t,ij}var aj,b$;function pbe(){if(b$)return aj;b$=1;var t=hbe();function e(){}function r(){}return r.resetWarningCache=e,aj=function(){function n(s,l,u,f,h,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},aj}var w$;function mbe(){return w$||(w$=1,nj.exports=pbe()()),nj.exports}var gbe=mbe();const gt=Kt(gbe);var vbe=Object.getOwnPropertyNames,ybe=Object.getOwnPropertySymbols,xbe=Object.prototype.hasOwnProperty;function _$(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Dv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);var u=t(r,n,i);return a.delete(r),a.delete(n),u}}function S$(t){return vbe(t).concat(ybe(t))}var iH=Object.hasOwn||function(t,e){return xbe.call(t,e)};function Wf(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var aH="_owner",E$=Object.getOwnPropertyDescriptor,j$=Object.keys;function bbe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function wbe(t,e){return Wf(t.getTime(),e.getTime())}function A$(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),a=0,s,l;(s=i.next())&&!s.done;){for(var u=e.entries(),f=!1,h=0;(l=u.next())&&!l.done;){var p=s.value,m=p[0],y=p[1],_=l.value,b=_[0],x=_[1];!f&&!n[h]&&(f=r.equals(m,b,a,h,t,e,r)&&r.equals(y,x,m,b,t,e,r))&&(n[h]=!0),h++}if(!f)return!1;a++}return!0}function _be(t,e,r){var n=j$(t),i=n.length;if(j$(e).length!==i)return!1;for(var a;i-- >0;)if(a=n[i],a===aH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!iH(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function zh(t,e,r){var n=S$(t),i=n.length;if(S$(e).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],a===aH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!iH(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(s=E$(t,a),l=E$(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Sbe(t,e){return Wf(t.valueOf(),e.valueOf())}function Ebe(t,e){return t.source===e.source&&t.flags===e.flags}function N$(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),a,s;(a=i.next())&&!a.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;)!u&&!n[f]&&(u=r.equals(a.value,s.value,a.value,s.value,t,e,r))&&(n[f]=!0),f++;if(!u)return!1}return!0}function jbe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var Abe="[object Arguments]",Nbe="[object Boolean]",Tbe="[object Date]",Pbe="[object Map]",Cbe="[object Number]",kbe="[object Object]",Ibe="[object RegExp]",Obe="[object Set]",Rbe="[object String]",Mbe=Array.isArray,T$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,P$=Object.assign,Dbe=Object.prototype.toString.call.bind(Object.prototype.toString);function Lbe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,l=t.areSetsEqual,u=t.areTypedArraysEqual;return function(h,p,m){if(h===p)return!0;if(h==null||p==null||typeof h!="object"||typeof p!="object")return h!==h&&p!==p;var y=h.constructor;if(y!==p.constructor)return!1;if(y===Object)return i(h,p,m);if(Mbe(h))return e(h,p,m);if(T$!=null&&T$(h))return u(h,p,m);if(y===Date)return r(h,p,m);if(y===RegExp)return s(h,p,m);if(y===Map)return n(h,p,m);if(y===Set)return l(h,p,m);var _=Dbe(h);return _===Tbe?r(h,p,m):_===Ibe?s(h,p,m):_===Pbe?n(h,p,m):_===Obe?l(h,p,m):_===kbe?typeof h.then!="function"&&typeof p.then!="function"&&i(h,p,m):_===Abe?i(h,p,m):_===Nbe||_===Cbe||_===Rbe?a(h,p,m):!1}}function $be(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?zh:bbe,areDatesEqual:wbe,areMapsEqual:n?_$(A$,zh):A$,areObjectsEqual:n?zh:_be,arePrimitiveWrappersEqual:Sbe,areRegExpsEqual:Ebe,areSetsEqual:n?_$(N$,zh):N$,areTypedArraysEqual:n?zh:jbe};if(r&&(i=P$({},i,r(i))),e){var a=Dv(i.areArraysEqual),s=Dv(i.areMapsEqual),l=Dv(i.areObjectsEqual),u=Dv(i.areSetsEqual);i=P$({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:u})}return i}function Fbe(t){return function(e,r,n,i,a,s,l){return t(e,r,l)}}function Vbe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(u,f){var h=n(),p=h.cache,m=p===void 0?e?new WeakMap:void 0:p,y=h.meta;return r(u,f,{cache:m,equals:i,meta:y,strict:a})};if(e)return function(u,f){return r(u,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(u,f){return r(u,f,s)}}var Bbe=Hl();Hl({strict:!0});Hl({circular:!0});Hl({circular:!0,strict:!0});Hl({createInternalComparator:function(){return Wf}});Hl({strict:!0,createInternalComparator:function(){return Wf}});Hl({circular:!0,createInternalComparator:function(){return Wf}});Hl({circular:!0,createInternalComparator:function(){return Wf},strict:!0});function Hl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,l=$be(t),u=Lbe(l),f=n?n(u):Fbe(u);return Vbe({circular:r,comparator:u,createState:i,equals:f,strict:s})}function Ube(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function C$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Ube(i)};requestAnimationFrame(n)}function NN(t){"@babel/helpers - typeof";return NN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NN(t)}function zbe(t){return Gbe(t)||Wbe(t)||Hbe(t)||qbe()}function qbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(t,e){if(t){if(typeof t=="string")return k$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k$(t,e)}}function k$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gbe(t){if(Array.isArray(t))return t}function Kbe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=zbe(s),u=l[0],f=l.slice(1);if(typeof u=="number"){C$(i.bind(null,f),u);return}i(u),C$(i.bind(null,f));return}NN(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function I$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(r),!0).forEach(function(n){sH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sH(t,e,r){return e=Ybe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ybe(t){var e=Qbe(t,"string");return cm(e)==="symbol"?e:String(e)}function Qbe(t,e){if(cm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xbe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Jbe=function(e){return e},Zbe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gp=function(e,r){return Object.keys(r).reduce(function(n,i){return O$(O$({},n),{},sH({},i,e(i,r[i])))},{})},R$=function(e,r,n){return e.map(function(i){return"".concat(Zbe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function e0e(t,e){return n0e(t)||r0e(t,e)||oH(t,e)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function n0e(t){if(Array.isArray(t))return t}function i0e(t){return o0e(t)||s0e(t)||oH(t)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(t,e){if(t){if(typeof t=="string")return TN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(t,e)}}function s0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o0e(t){if(Array.isArray(t))return TN(t)}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vx=1e-4,lH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},cH=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},M$=function(e,r){return function(n){var i=lH(e,r);return cH(i,n)}},l0e=function(e,r){return function(n){var i=lH(e,r),a=[].concat(i0e(i.map(function(s,l){return s*l}).slice(1)),[0]);return cH(a,n)}},D$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=e0e(f,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var p=M$(i,s),m=M$(a,l),y=l0e(i,s),_=function(N){return N>1?1:N<0?0:N},b=function(N){for(var A=N>1?1:N,j=A,E=0;E<8;++E){var P=p(j)-A,R=y(j);if(Math.abs(P-A)<vx||R<vx)return m(j);j=_(j-P/R)}return m(j)};return b.isStepper=!1,b},c0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,u=function(h,p,m){var y=-(h-p)*n,_=m*a,b=m+(y-_)*l/1e3,x=m*l/1e3+h;return Math.abs(x-p)<vx&&Math.abs(b)<vx?[p,0]:[x,b]};return u.isStepper=!0,u.dt=l,u},u0e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return D$(i);case"spring":return c0e();default:if(i.split("(")[0]==="cubic-bezier")return D$(i)}return typeof i=="function"?i:null};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function L$(t){return h0e(t)||f0e(t)||uH(t)||d0e()}function d0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h0e(t){if(Array.isArray(t))return CN(t)}function $$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(r),!0).forEach(function(n){PN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PN(t,e,r){return e=p0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p0e(t){var e=m0e(t,"string");return um(e)==="symbol"?e:String(e)}function m0e(t,e){if(um(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g0e(t,e){return x0e(t)||y0e(t,e)||uH(t,e)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(t,e){if(t){if(typeof t=="string")return CN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(t,e)}}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function x0e(t){if(Array.isArray(t))return t}var yx=function(e,r,n){return e+(r-e)*n},kN=function(e){var r=e.from,n=e.to;return r!==n},b0e=function t(e,r,n){var i=gp(function(a,s){if(kN(s)){var l=e(s.from,s.to,s.velocity),u=g0e(l,2),f=u[0],h=u[1];return fn(fn({},s),{},{from:f,velocity:h})}return s},r);return n<1?gp(function(a,s){return kN(s)?fn(fn({},s),{},{velocity:yx(s.velocity,i[a].velocity,n),from:yx(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const w0e=function(t,e,r,n,i){var a=Xbe(t,e),s=a.reduce(function(x,N){return fn(fn({},x),{},PN({},N,[t[N],e[N]]))},{}),l=a.reduce(function(x,N){return fn(fn({},x),{},PN({},N,{from:t[N],velocity:0,to:e[N]}))},{}),u=-1,f,h,p=function(){return null},m=function(){return gp(function(N,A){return A.from},l)},y=function(){return!Object.values(l).filter(kN).length},_=function(N){f||(f=N);var A=N-f,j=A/r.dt;l=b0e(r,l,j),i(fn(fn(fn({},t),e),m())),f=N,y()||(u=requestAnimationFrame(p))},b=function(N){h||(h=N);var A=(N-h)/n,j=gp(function(P,R){return yx.apply(void 0,L$(R).concat([r(A)]))},s);if(i(fn(fn(fn({},t),e),j)),A<1)u=requestAnimationFrame(p);else{var E=gp(function(P,R){return yx.apply(void 0,L$(R).concat([r(1)]))},s);i(fn(fn(fn({},t),e),E))}};return p=r.isStepper?_:b,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(u)}}};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}var _0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function S0e(t,e){if(t==null)return{};var r=E0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function sj(t){return T0e(t)||N0e(t)||A0e(t)||j0e()}function j0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A0e(t,e){if(t){if(typeof t=="string")return IN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IN(t,e)}}function N0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T0e(t){if(Array.isArray(t))return IN(t)}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(r),!0).forEach(function(n){tp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tp(t,e,r){return e=dH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dH(n.key),n)}}function k0e(t,e,r){return e&&C0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dH(t){var e=I0e(t,"string");return af(e)==="symbol"?e:String(e)}function I0e(t,e){if(af(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ON(t,e)}function ON(t,e){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ON(t,e)}function R0e(t){var e=M0e();return function(){var n=xx(t),i;if(e){var a=xx(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return RN(this,i)}}function RN(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MN(t)}function MN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}var gs=function(t){O0e(r,t);var e=R0e(r);function r(n,i){var a;P0e(this,r),a=e.call(this,n,i);var s=a.props,l=s.isActive,u=s.attributeName,f=s.from,h=s.to,p=s.steps,m=s.children,y=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(MN(a)),a.changeStyle=a.changeStyle.bind(MN(a)),!l||y<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:h}),RN(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof m=="function")return a.state={style:f},RN(a);a.state={style:u?tp({},u,f):f}}else a.state={style:{}};return a}return k0e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,u=a.attributeName,f=a.shouldReAnimate,h=a.to,p=a.from,m=this.state.style;if(l){if(!s){var y={style:u?tp({},u,h):h};this.state&&m&&(u&&m[u]!==h||!u&&m!==h)&&this.setState(y);return}if(!(Bbe(i.to,h)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=_||f?p:i.to;if(this.state&&m){var x={style:u?tp({},u,b):b};(u&&m[u]!==b||!u&&m!==b)&&this.setState(x)}this.runAnimation(va(va({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,u=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,m=i.onAnimationStart,y=w0e(s,l,u0e(f),u,this.changeStyle),_=function(){a.stopJSAnimation=y()};this.manager.start([m,h,_,u,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,u=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,m=p===void 0?0:p,y=function(b,x,N){if(N===0)return b;var A=x.duration,j=x.easing,E=j===void 0?"ease":j,P=x.style,R=x.properties,C=x.onAnimationEnd,I=N>0?s[N-1]:x,M=R||Object.keys(P);if(typeof E=="function"||E==="spring")return[].concat(sj(b),[a.runJSAnimation.bind(a,{from:I.style,to:P,duration:A,easing:E}),A]);var F=R$(M,A,E),D=va(va(va({},I.style),P),{},{transition:F});return[].concat(sj(b),[D,A,C]).filter(Jbe)};return this.manager.start([u].concat(sj(s.reduce(y,[h,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Kbe());var a=i.begin,s=i.duration,l=i.attributeName,u=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,m=i.steps,y=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var b=l?tp({},l,u):u,x=R$(Object.keys(b),s,f);_.start([h,a,va(va({},b),{},{transition:x}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=S0e(i,_0e),f=S.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||f===0||s<=0)return a;var p=function(y){var _=y.props,b=_.style,x=b===void 0?{}:b,N=_.className,A=S.cloneElement(y,va(va({},u),{},{style:va(va({},x),h),className:N}));return A};return f===1?p(S.Children.only(a)):U.createElement("div",null,S.Children.map(a,function(m){return p(m)}))}}]),r}(S.PureComponent);gs.displayName="Animate";gs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gs.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};gt.object,gt.object,gt.object,gt.element;gt.object,gt.object,gt.object,gt.oneOfType([gt.array,gt.element]),gt.any;function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function D0e(t,e){return V0e(t)||F0e(t,e)||$0e(t,e)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $0e(t,e){if(t){if(typeof t=="string")return V$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V$(t,e)}}function V$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function V0e(t){if(Array.isArray(t))return t}function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){B0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B0e(t,e,r){return e=U0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U0e(t){var e=z0e(t,"string");return dm(e)=="symbol"?e:e+""}function z0e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z$=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,u=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=a[m]>s?s:a[m];h="M".concat(e,",").concat(r+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+u*p[0],",").concat(r)),h+="L ".concat(e+n-u*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*p[1])),h+="L ".concat(e+n,",").concat(r+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-u*p[2],",").concat(r+i)),h+="L ".concat(e+u*p[3],",").concat(r+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var _=Math.min(s,a);h="M ".concat(e,",").concat(r+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+u*_,",").concat(r,`
            L `).concat(e+n-u*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*_,`
            L `).concat(e+n,",").concat(r+i-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n-u*_,",").concat(r+i,`
            L `).concat(e+u*_,",").concat(r+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*_," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},q0e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var f=Math.min(a,a+l),h=Math.max(a,a+l),p=Math.min(s,s+u),m=Math.max(s,s+u);return n>=f&&n<=h&&i>=p&&i<=m}return!1},H0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XC=function(e){var r=U$(U$({},H0e),e),n=S.useRef(),i=S.useState(-1),a=D0e(i,2),s=a[0],l=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var u=r.x,f=r.y,h=r.width,p=r.height,m=r.radius,y=r.className,_=r.animationEasing,b=r.animationDuration,x=r.animationBegin,N=r.isAnimationActive,A=r.isUpdateAnimationActive;if(u!==+u||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var j=ht("recharts-rectangle",y);return A?U.createElement(gs,{canBegin:s>0,from:{width:h,height:p,x:u,y:f},to:{width:h,height:p,x:u,y:f},duration:b,animationEasing:_,isActive:A},function(E){var P=E.width,R=E.height,C=E.x,I=E.y;return U.createElement(gs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:N,easing:_},U.createElement("path",bx({},Ge(r,!0),{className:j,d:z$(C,I,P,R,m),ref:n})))}):U.createElement("path",bx({},Ge(r,!0),{className:j,d:z$(u,f,h,p,m)}))},W0e=["points","className","baseLinePoints","connectNulls"];function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}function G0e(t,e){if(t==null)return{};var r=K0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q$(t){return J0e(t)||X0e(t)||Q0e(t)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(t,e){if(t){if(typeof t=="string")return DN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DN(t,e)}}function X0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J0e(t){if(Array.isArray(t))return DN(t)}function DN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var H$=function(e){return e&&e.x===+e.x&&e.y===+e.y},Z0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){H$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),H$(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vp=function(e,r){var n=Z0e(e);r&&(n=[n.reduce(function(a,s){return[].concat(q$(a),q$(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,u){return"".concat(s).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},ewe=function(e,r,n){var i=vp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vp(r.reverse(),n).slice(1))},twe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=G0e(e,W0e);if(!r||!r.length)return null;var l=ht("recharts-polygon",n);if(i&&i.length){var u=s.stroke&&s.stroke!=="none",f=ewe(r,i,a);return U.createElement("g",{className:l},U.createElement("path",ld({},Ge(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),u?U.createElement("path",ld({},Ge(s,!0),{fill:"none",d:vp(r,a)})):null,u?U.createElement("path",ld({},Ge(s,!0),{fill:"none",d:vp(i,a)})):null)}var h=vp(r,a);return U.createElement("path",ld({},Ge(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LN.apply(this,arguments)}var d0=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=ht("recharts-dot",a);return r===+r&&n===+n&&i===+i?U.createElement("circle",LN({},Ge(e,!1),qy(e),{className:s,cx:r,cy:n,r:i})):null};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var rwe=["x","y","top","left","width","height","className"];function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$N.apply(this,arguments)}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){iwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iwe(t,e,r){return e=awe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function awe(t){var e=swe(t,"string");return fm(e)=="symbol"?e:e+""}function swe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function owe(t,e){if(t==null)return{};var r=lwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cwe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},uwe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,u=e.left,f=u===void 0?0:u,h=e.width,p=h===void 0?0:h,m=e.height,y=m===void 0?0:m,_=e.className,b=owe(e,rwe),x=nwe({x:n,y:a,top:l,left:f,width:p,height:y},b);return!Se(n)||!Se(a)||!Se(p)||!Se(y)||!Se(l)||!Se(f)?null:U.createElement("path",$N({},Ge(x,!0),{className:ht("recharts-cross",_),d:cwe(n,a,p,y,l,f)}))},oj,G$;function dwe(){if(G$)return oj;G$=1;var t=s0(),e=jq(),r=ws();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return oj=n,oj}var fwe=dwe();const hwe=Kt(fwe);var lj,K$;function pwe(){if(K$)return lj;K$=1;var t=s0(),e=ws(),r=Aq();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return lj=n,lj}var mwe=pwe();const gwe=Kt(mwe);var vwe=["cx","cy","angle","ticks","axisLine"],ywe=["ticks","tick","angle","tickFormatter","stroke"];function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yp.apply(this,arguments)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){f0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q$(t,e){if(t==null)return{};var r=xwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hH(n.key),n)}}function wwe(t,e,r){return e&&X$(t.prototype,e),r&&X$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _we(t,e,r){return e=wx(e),Swe(t,fH()?Reflect.construct(e,r||[],wx(t).constructor):e.apply(t,r))}function Swe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ewe(t)}function Ewe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wx(t)}function jwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FN(t,e)}function FN(t,e){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FN(t,e)}function f0(t,e,r){return e=hH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hH(t){var e=Awe(t,"string");return sf(e)=="symbol"?e:e+""}function Awe(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h0=function(t){function e(){return bwe(this,e),_we(this,e,arguments)}return jwe(e,t),wwe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,u=a.cy;return or(l,u,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,u=hwe(l,function(h){return h.coordinate||0}),f=gwe(l,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,u=n.axisLine,f=Q$(n,vwe),h=l.reduce(function(_,b){return[Math.min(_[0],b.coordinate),Math.max(_[1],b.coordinate)]},[1/0,-1/0]),p=or(i,a,h[0],s),m=or(i,a,h[1],s),y=xc(xc(xc({},Ge(f,!1)),{},{fill:"none"},Ge(u,!1)),{},{x1:p.x,y1:p.y,x2:m.x,y2:m.y});return U.createElement("line",yp({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,u=i.tickFormatter,f=i.stroke,h=Q$(i,ywe),p=this.getTickTextAnchor(),m=Ge(h,!1),y=Ge(s,!1),_=a.map(function(b,x){var N=n.getTickValueCoord(b),A=xc(xc(xc(xc({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:f},y),{},{index:x},N),{},{payload:b});return U.createElement(Ot,yp({className:ht("recharts-polar-radius-axis-tick",eH(s)),key:"tick-".concat(b.coordinate)},Gc(n.props,b,x)),e.renderTickItem(s,A,u?u(b.value,x):b.value))});return U.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:U.createElement(Ot,{className:ht("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return U.isValidElement(n)?s=U.cloneElement(n,i):at(n)?s=n(i):s=U.createElement(Kc,yp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(S.PureComponent);f0(h0,"displayName","PolarRadiusAxis");f0(h0,"axisType","radiusAxis");f0(h0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ec.apply(this,arguments)}function J$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(r),!0).forEach(function(n){p0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mH(n.key),n)}}function Twe(t,e,r){return e&&Z$(t.prototype,e),r&&Z$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,r){return e=_x(e),Cwe(t,pH()?Reflect.construct(e,r||[],_x(t).constructor):e.apply(t,r))}function Cwe(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kwe(t)}function kwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!t})()}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_x(t)}function Iwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VN(t,e)}function p0(t,e,r){return e=mH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mH(t){var e=Owe(t,"string");return of(e)=="symbol"?e:e+""}function Owe(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rwe=Math.PI/180,Mwe=1e-5,m0=function(t){function e(){return Nwe(this,e),Pwe(this,e,arguments)}return Iwe(e,t),Twe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,u=i.orientation,f=i.tickSize,h=f||8,p=or(a,s,l,n.coordinate),m=or(a,s,l+(u==="inner"?-1:1)*h,n.coordinate);return{x1:p.x,y1:p.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Rwe),s;return a>Mwe?s=i==="outer"?"start":"end":a<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,u=n.axisLineType,f=bc(bc({},Ge(this.props,!1)),{},{fill:"none"},Ge(l,!1));if(u==="circle")return U.createElement(d0,Ec({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,p=h.map(function(m){return or(i,a,s,m.coordinate)});return U.createElement(twe,Ec({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,u=i.tickFormatter,f=i.stroke,h=Ge(this.props,!1),p=Ge(s,!1),m=bc(bc({},h),{},{fill:"none"},Ge(l,!1)),y=a.map(function(_,b){var x=n.getTickLineCoord(_),N=n.getTickTextAnchor(_),A=bc(bc(bc({textAnchor:N},h),{},{stroke:"none",fill:f},p),{},{index:b,payload:_,x:x.x2,y:x.y2});return U.createElement(Ot,Ec({className:ht("recharts-polar-angle-axis-tick",eH(s)),key:"tick-".concat(_.coordinate)},Gc(n.props,_,b)),l&&U.createElement("line",Ec({className:"recharts-polar-angle-axis-tick-line"},m,x)),s&&e.renderTickItem(s,A,u?u(_.value,b):_.value))});return U.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:U.createElement(Ot,{className:ht("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return U.isValidElement(n)?s=U.cloneElement(n,i):at(n)?s=n(i):s=U.createElement(Kc,Ec({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(S.PureComponent);p0(m0,"displayName","PolarAngleAxis");p0(m0,"axisType","angleAxis");p0(m0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cj,e3;function Dwe(){if(e3)return cj;e3=1;var t=Ez(),e=t(Object.getPrototypeOf,Object);return cj=e,cj}var uj,t3;function Lwe(){if(t3)return uj;t3=1;var t=yo(),e=Dwe(),r=xo(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,u=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var p=e(h);if(p===null)return!0;var m=l.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==u}return uj=f,uj}var $we=Lwe();const Fwe=Kt($we);var dj,r3;function Vwe(){if(r3)return dj;r3=1;var t=yo(),e=xo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return dj=n,dj}var Bwe=Vwe();const Uwe=Kt(Bwe);function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sx.apply(this,arguments)}function zwe(t,e){return Gwe(t)||Wwe(t,e)||Hwe(t,e)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hwe(t,e){if(t){if(typeof t=="string")return n3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(t,e)}}function n3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Gwe(t){if(Array.isArray(t))return t}function i3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(r),!0).forEach(function(n){Kwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kwe(t,e,r){return e=Ywe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ywe(t){var e=Qwe(t,"string");return hm(e)=="symbol"?e:e+""}function Qwe(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s3=function(e,r,n,i,a){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+a),l+="L ".concat(e+n-s/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},Xwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jwe=function(e){var r=a3(a3({},Xwe),e),n=S.useRef(),i=S.useState(-1),a=zwe(i,2),s=a[0],l=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var u=r.x,f=r.y,h=r.upperWidth,p=r.lowerWidth,m=r.height,y=r.className,_=r.animationEasing,b=r.animationDuration,x=r.animationBegin,N=r.isUpdateAnimationActive;if(u!==+u||f!==+f||h!==+h||p!==+p||m!==+m||h===0&&p===0||m===0)return null;var A=ht("recharts-trapezoid",y);return N?U.createElement(gs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:m,x:u,y:f},to:{upperWidth:h,lowerWidth:p,height:m,x:u,y:f},duration:b,animationEasing:_,isActive:N},function(j){var E=j.upperWidth,P=j.lowerWidth,R=j.height,C=j.x,I=j.y;return U.createElement(gs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:_},U.createElement("path",Sx({},Ge(r,!0),{className:A,d:s3(C,I,E,P,R),ref:n})))}):U.createElement("g",null,U.createElement("path",Sx({},Ge(r,!0),{className:A,d:s3(u,f,h,p,m)})))},Zwe=["option","shapeType","propTransformer","activeClassName","isActive"];function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function e_e(t,e){if(t==null)return{};var r=t_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(r),!0).forEach(function(n){r_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r_e(t,e,r){return e=n_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n_e(t){var e=i_e(t,"string");return pm(e)=="symbol"?e:e+""}function i_e(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a_e(t,e){return Ex(Ex({},e),t)}function s_e(t,e){return t==="symbols"}function l3(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return U.createElement(XC,r);case"trapezoid":return U.createElement(Jwe,r);case"sector":return U.createElement(nH,r);case"symbols":if(s_e(e))return U.createElement(mC,r);break;default:return null}}function o_e(t){return S.isValidElement(t)?t.props:t}function gH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?a_e:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,u=e_e(t,Zwe),f;if(S.isValidElement(e))f=S.cloneElement(e,Ex(Ex({},u),o_e(e)));else if(at(e))f=e(u);else if(Fwe(e)&&!Uwe(e)){var h=i(e,u);f=U.createElement(l3,{shapeType:r,elementProps:h})}else{var p=u;f=U.createElement(l3,{shapeType:r,elementProps:p})}return l?U.createElement(Ot,{className:s},f):f}function g0(t,e){return e!=null&&"trapezoids"in t.props}function v0(t,e){return e!=null&&"sectors"in t.props}function mm(t,e){return e!=null&&"points"in t.props}function l_e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function c_e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function u_e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function d_e(t,e){var r;return g0(t,e)?r=l_e:v0(t,e)?r=c_e:mm(t,e)&&(r=u_e),r}function f_e(t,e){var r;return g0(t,e)?r="trapezoids":v0(t,e)?r="sectors":mm(t,e)&&(r="points"),r}function h_e(t,e){if(g0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(v0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mm(t,e)?e.payload:{}}function p_e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=f_e(r,e),a=h_e(r,e),s=n.filter(function(u,f){var h=rf(a,u),p=r.props[i].filter(function(_){var b=d_e(r,e);return b(_,e)}),m=r.props[i].indexOf(p[p.length-1]),y=f===m;return h&&y}),l=n.indexOf(s[s.length-1]);return l}var ay;function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cd.apply(this,arguments)}function c3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(r),!0).forEach(function(n){zi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yH(n.key),n)}}function g_e(t,e,r){return e&&u3(t.prototype,e),r&&u3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_e(t,e,r){return e=jx(e),y_e(t,vH()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function y_e(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x_e(t)}function x_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function b_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BN(t,e)}function BN(t,e){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BN(t,e)}function zi(t,e,r){return e=yH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yH(t){var e=w_e(t,"string");return lf(e)=="symbol"?e:e+""}function w_e(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wo=function(t){function e(r){var n;return m_e(this,e),n=v_e(this,e,[r]),zi(n,"pieRef",null),zi(n,"sectorRefs",[]),zi(n,"id",Bf("recharts-pie-")),zi(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),at(i)&&i()}),zi(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),at(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return b_e(e,t),g_e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,u=a.dataKey,f=a.valueKey,h=Ge(this.props,!1),p=Ge(s,!1),m=Ge(l,!1),y=s&&s.offsetRadius||20,_=n.map(function(b,x){var N=(b.startAngle+b.endAngle)/2,A=or(b.cx,b.cy,b.outerRadius+y,N),j=ar(ar(ar(ar({},h),b),{},{stroke:"none"},p),{},{index:x,textAnchor:e.getTextAnchor(A.x,b.cx)},A),E=ar(ar(ar(ar({},h),b),{},{fill:"none",stroke:b.fill},m),{},{index:x,points:[or(b.cx,b.cy,b.outerRadius,N),A]}),P=u;return ft(u)&&ft(f)?P="value":ft(u)&&(P=f),U.createElement(Ot,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,E,"line"),e.renderLabelItem(s,j,Wr(b,P)))});return U.createElement(Ot,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,u=a.inactiveShape;return n.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(h),m=u&&i.hasActiveIndex()?u:null,y=p?s:m,_=ar(ar({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return U.createElement(Ot,cd({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Gc(i.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),U.createElement(gH,cd({option:y,isActive:p,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state,m=p.prevSectors,y=p.prevIsAnimationActive;return U.createElement(gs,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var b=_.t,x=[],N=a&&a[0],A=N.startAngle;return a.forEach(function(j,E){var P=m&&m[E],R=E>0?Ni(j,"paddingAngle",0):0;if(P){var C=ri(P.endAngle-P.startAngle,j.endAngle-j.startAngle),I=ar(ar({},j),{},{startAngle:A+R,endAngle:A+C(b)+R});x.push(I),A=I.endAngle}else{var M=j.endAngle,F=j.startAngle,D=ri(0,M-F),V=D(b),$=ar(ar({},j),{},{startAngle:A+R,endAngle:A+V+R});x.push($),A=$.endAngle}}),U.createElement(Ot,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!rf(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,u=i.label,f=i.cx,h=i.cy,p=i.innerRadius,m=i.outerRadius,y=i.isAnimationActive,_=this.state.isAnimationFinished;if(a||!s||!s.length||!Se(f)||!Se(h)||!Se(p)||!Se(m))return null;var b=ht("recharts-pie",l);return U.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:b,ref:function(N){n.pieRef=N}},this.renderSectors(),u&&this.renderLabels(s),rn.renderCallByParent(this.props,null,!1),(!y||_)&&eo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(U.isValidElement(n))return U.cloneElement(n,i);if(at(n))return n(i);var s=ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(_d,cd({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(U.isValidElement(n))return U.cloneElement(n,i);var s=a;if(at(n)&&(s=n(i),U.isValidElement(s)))return s;var l=ht("recharts-pie-label-text",typeof n!="boolean"&&!at(n)?n.className:"");return U.createElement(Kc,cd({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(S.PureComponent);ay=wo;zi(wo,"displayName","Pie");zi(wo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ou.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zi(wo,"parseDeltaAngle",function(t,e){var r=Fn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});zi(wo,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ge(t,!1),i=Yi(r,Zb);return e&&e.length?e.map(function(a,s){return ar(ar(ar({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ar(ar({},n),a.props)}):[]});zi(wo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=Zq(i,a),l=n+Vn(t.cx,i,i/2),u=r+Vn(t.cy,a,a/2),f=Vn(t.innerRadius,s,0),h=Vn(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:u,innerRadius:f,outerRadius:h,maxRadius:p}});zi(wo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?ar(ar({},e.type.defaultProps),e.props):e.props,i=ay.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,u=n.paddingAngle,f=n.dataKey,h=n.nameKey,p=n.valueKey,m=n.tooltipType,y=Math.abs(n.minAngle),_=ay.parseCoordinateOfPie(n,r),b=ay.parseDeltaAngle(s,l),x=Math.abs(b),N=f;ft(f)&&ft(p)?(Na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):ft(f)&&(Na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=p);var A=i.filter(function(I){return Wr(I,N,0)!==0}).length,j=(x>=360?A:A-1)*u,E=x-A*y-j,P=i.reduce(function(I,M){var F=Wr(M,N,0);return I+(Se(F)?F:0)},0),R;if(P>0){var C;R=i.map(function(I,M){var F=Wr(I,N,0),D=Wr(I,h,M),V=(Se(F)?F:0)/P,$;M?$=C.endAngle+Fn(b)*u*(F!==0?1:0):$=s;var H=$+Fn(b)*((F!==0?y:0)+V*E),G=($+H)/2,Y=(_.innerRadius+_.outerRadius)/2,Q=[{name:D,value:F,payload:I,dataKey:N,type:m}],W=or(_.cx,_.cy,Y,G);return C=ar(ar(ar({percent:V,cornerRadius:a,name:D,tooltipPayload:Q,midAngle:G,middleRadius:Y,tooltipPosition:W},I),_),{},{value:Wr(I,N),startAngle:$,endAngle:H,payload:I,paddingAngle:Fn(b)*u}),C})}return ar(ar({},_),{},{sectors:R,data:i})});var fj,d3;function __e(){if(d3)return fj;d3=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var l=-1,u=e(t((i-n)/(a||1)),0),f=Array(u);u--;)f[s?u:++l]=n,n+=a;return f}return fj=r,fj}var hj,f3;function xH(){if(f3)return hj;f3=1;var t=Vz(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return hj=n,hj}var pj,h3;function S_e(){if(h3)return pj;h3=1;var t=__e(),e=Jb(),r=xH();function n(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),l=l===void 0?a<s?1:-1:r(l),t(a,s,l,i)}}return pj=n,pj}var mj,p3;function E_e(){if(p3)return mj;p3=1;var t=S_e(),e=t();return mj=e,mj}var j_e=E_e();const Ax=Kt(j_e);function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function m3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(r),!0).forEach(function(n){bH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bH(t,e,r){return e=A_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A_e(t){var e=N_e(t,"string");return gm(e)=="symbol"?e:e+""}function N_e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T_e=["Webkit","Moz","O","ms"],P_e=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=T_e.reduce(function(a,s){return g3(g3({},a),{},bH({},s+n,r))},{});return i[e]=r,i};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){gi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_H(n.key),n)}}function k_e(t,e,r){return e&&y3(t.prototype,e),r&&y3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I_e(t,e,r){return e=Tx(e),O_e(t,wH()?Reflect.construct(e,r||[],Tx(t).constructor):e.apply(t,r))}function O_e(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R_e(t)}function R_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wH=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(t)}function M_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UN(t,e)}function UN(t,e){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UN(t,e)}function gi(t,e,r){return e=_H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _H(t){var e=D_e(t,"string");return cf(e)=="symbol"?e:e+""}function D_e(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L_e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=pp().domain(Ax(0,u)).range([a,a+s-l]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},x3=function(e){return e.changedTouches&&!!e.changedTouches.length},uf=function(t){function e(r){var n;return C_e(this,e),n=I_e(this,e,[r]),gi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),gi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),gi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),gi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),gi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),gi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),gi(n,"handleSlideDragStart",function(i){var a=x3(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return M_e(e,t),k_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,u=l.gap,f=l.data,h=f.length-1,p=Math.min(i,a),m=Math.max(i,a),y=e.getIndexInRange(s,p),_=e.getIndexInRange(s,m);return{startIndex:y-y%u,endIndex:_===h?h:_-_%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,u=Wr(a[n],l,n);return at(s)?s(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.startIndex,y=u.endIndex,_=u.onChange,b=n.pageX-a;b>0?b=Math.min(b,f+h-p-l,f+h-p-s):b<0&&(b=Math.max(b,f-s,f-l));var x=this.getIndex({startX:s+b,endX:l+b});(x.startIndex!==m||x.endIndex!==y)&&_&&_(x),this.setState({startX:s+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=x3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,u=i.startX,f=this.state[s],h=this.props,p=h.x,m=h.width,y=h.travellerWidth,_=h.onChange,b=h.gap,x=h.data,N={startX:this.state.startX,endX:this.state.endX},A=n.pageX-a;A>0?A=Math.min(A,p+m-y-f):A<0&&(A=Math.max(A,p-f)),N[s]=f+A;var j=this.getIndex(N),E=j.startIndex,P=j.endIndex,R=function(){var I=x.length-1;return s==="startX"&&(l>u?E%b===0:P%b===0)||l<u&&P===I||s==="endX"&&(l>u?P%b===0:E%b===0)||l>u&&P===I};this.setState(gi(gi({},s,f+A),"brushMoveStartX",n.pageX),function(){_&&R()&&_(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,u=s.startX,f=s.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var m=p+n;if(!(m===-1||m>=l.length)){var y=l[m];i==="startX"&&y>=f||i==="endX"&&y<=u||this.setState(gi({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,u=n.fill,f=n.stroke;return U.createElement("rect",{stroke:f,fill:u,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,u=n.data,f=n.children,h=n.padding,p=S.Children.only(f);return p?U.cloneElement(p,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,u=this.props,f=u.y,h=u.travellerWidth,p=u.height,m=u.traveller,y=u.ariaLabel,_=u.data,b=u.startIndex,x=u.endIndex,N=Math.max(n,this.props.x),A=gj(gj({},Ge(this.props,!1)),{},{x:N,y:f,width:h,height:p}),j=y||"Min value: ".concat((a=_[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=_[x])===null||s===void 0?void 0:s.name);return U.createElement(Ot,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,A))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,u=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:s,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,u=n.travellerWidth,f=n.stroke,h=this.state,p=h.startX,m=h.endX,y=5,_={pointerEvents:"none",fill:f};return U.createElement(Ot,{className:"recharts-brush-texts"},U.createElement(Kc,Nx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,m)-y,y:s+l/2},_),this.getTextOfTick(i)),U.createElement(Kc,Nx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,m)+u+y,y:s+l/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,u=n.y,f=n.width,h=n.height,p=n.alwaysShowText,m=this.state,y=m.startX,_=m.endX,b=m.isTextActive,x=m.isSlideMoving,N=m.isTravellerMoving,A=m.isTravellerFocused;if(!i||!i.length||!Se(l)||!Se(u)||!Se(f)||!Se(h)||f<=0||h<=0)return null;var j=ht("recharts-brush",a),E=U.Children.count(s)===1,P=P_e("userSelect","none");return U.createElement(Ot,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(y,_),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(_,"endX"),(b||x||N||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,u=n.stroke,f=Math.floor(a+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:s,height:l,fill:u,stroke:"none"}),U.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return U.isValidElement(n)?a=U.cloneElement(n,i):at(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,u=n.travellerWidth,f=n.updateId,h=n.startIndex,p=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return gj({prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s},a&&a.length?L_e({data:a,width:s,x:l,travellerWidth:u,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+s-u]);var m=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var u=Math.floor((s+l)/2);n[u]>i?l=u:s=u}return i>=n[l]?l:s}}])}(S.PureComponent);gi(uf,"displayName","Brush");gi(uf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vj,b3;function $_e(){if(b3)return vj;b3=1;var t=_C();function e(r,n){var i;return t(r,function(a,s,l){return i=n(a,s,l),!i}),!!i}return vj=e,vj}var yj,w3;function F_e(){if(w3)return yj;w3=1;var t=vz(),e=ws(),r=$_e(),n=oi(),i=Jb();function a(s,l,u){var f=n(s)?t:r;return u&&i(s,l,u)&&(l=void 0),f(s,e(l,3))}return yj=a,yj}var V_e=F_e();const B_e=Kt(V_e);var ds=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},xj,_3;function U_e(){if(_3)return xj;_3=1;var t=Mz();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return xj=e,xj}var bj,S3;function z_e(){if(S3)return bj;S3=1;var t=U_e(),e=Oz(),r=ws();function n(i,a){var s={};return a=r(a,3),e(i,function(l,u,f){t(s,u,a(l,u,f))}),s}return bj=n,bj}var q_e=z_e();const H_e=Kt(q_e);var wj,E3;function W_e(){if(E3)return wj;E3=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return wj=t,wj}var _j,j3;function G_e(){if(j3)return _j;j3=1;var t=_C();function e(r,n){var i=!0;return t(r,function(a,s,l){return i=!!n(a,s,l),i}),i}return _j=e,_j}var Sj,A3;function K_e(){if(A3)return Sj;A3=1;var t=W_e(),e=G_e(),r=ws(),n=oi(),i=Jb();function a(s,l,u){var f=n(s)?t:e;return u&&i(s,l,u)&&(l=void 0),f(s,r(l,3))}return Sj=a,Sj}var Y_e=K_e();const SH=Kt(Y_e);var Q_e=["x","y"];function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zN.apply(this,arguments)}function N3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(r),!0).forEach(function(n){X_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X_e(t,e,r){return e=J_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J_e(t){var e=Z_e(t,"string");return vm(e)=="symbol"?e:e+""}function Z_e(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t,e){if(t==null)return{};var r=t1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r1e(t,e){var r=t.x,n=t.y,i=e1e(t,Q_e),a="".concat(r),s=parseInt(a,10),l="".concat(n),u=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),m=parseInt(p,10);return qh(qh(qh(qh(qh({},e),i),s?{x:s}:{}),u?{y:u}:{}),{},{height:h,width:m,name:e.name,radius:e.radius})}function T3(t){return U.createElement(gH,zN({shapeType:"rectangle",propTransformer:r1e,activeClassName:"recharts-active-bar"},t))}var n1e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||Qc(),r)}},i1e=["value","background"],EH;function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function a1e(t,e){if(t==null)return{};var r=s1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Px.apply(this,arguments)}function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){ml(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AH(n.key),n)}}function l1e(t,e,r){return e&&C3(t.prototype,e),r&&C3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c1e(t,e,r){return e=Cx(e),u1e(t,jH()?Reflect.construct(e,r||[],Cx(t).constructor):e.apply(t,r))}function u1e(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1e(t)}function d1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jH=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cx(t)}function f1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qN(t,e)}function qN(t,e){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qN(t,e)}function ml(t,e,r){return e=AH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AH(t){var e=h1e(t,"string");return df(e)=="symbol"?e:e+""}function h1e(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uu=function(t){function e(){var r;o1e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=c1e(this,e,[].concat(i)),ml(r,"state",{isAnimationFinished:!1}),ml(r,"id",Bf("recharts-bar-")),ml(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),ml(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return f1e(e,t),l1e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,u=a.activeIndex,f=a.activeBar,h=Ge(this.props,!1);return n&&n.map(function(p,m){var y=m===u,_=y?f:s,b=Dr(Dr(Dr({},h),p),{},{isActive:y,option:_,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Ot,Px({className:"recharts-bar-rectangle"},Gc(i.props,p,m),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),U.createElement(T3,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state.prevData;return U.createElement(gs,{begin:u,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t,b=a.map(function(x,N){var A=m&&m[N];if(A){var j=ri(A.x,x.x),E=ri(A.y,x.y),P=ri(A.width,x.width),R=ri(A.height,x.height);return Dr(Dr({},x),{},{x:j(_),y:E(_),width:P(_),height:R(_)})}if(s==="horizontal"){var C=ri(0,x.height),I=C(_);return Dr(Dr({},x),{},{y:x.y+x.height-I,height:I})}var M=ri(0,x.width),F=M(_);return Dr(Dr({},x),{},{width:F})});return U.createElement(Ot,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!rf(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,u=Ge(this.props.background,!1);return a.map(function(f,h){f.value;var p=f.background,m=a1e(f,i1e);if(!p)return null;var y=Dr(Dr(Dr(Dr(Dr({},m),{},{fill:"#eee"},p),u),Gc(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return U.createElement(T3,Px({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,u=a.yAxis,f=a.layout,h=a.children,p=Yi(h,u0);if(!p)return null;var m=f==="vertical"?s[0].height/2:s[0].width/2,y=function(x,N){var A=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:A,errorVal:Wr(x,N)}},_={clipPath:n?"url(#clipPath-".concat(i,")"):null};return U.createElement(Ot,_,p.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:l,yAxis:u,layout:f,offset:m,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,u=n.yAxis,f=n.left,h=n.top,p=n.width,m=n.height,y=n.isAnimationActive,_=n.background,b=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,N=ht("recharts-bar",s),A=l&&l.allowDataOverflow,j=u&&u.allowDataOverflow,E=A||j,P=ft(b)?this.id:b;return U.createElement(Ot,{className:N},A||j?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(P)},U.createElement("rect",{x:A?f:f-p/2,y:j?h:h-m/2,width:A?p:p*2,height:j?m:m*2}))):null,U.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(P,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,P),(!y||x)&&eo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(S.PureComponent);EH=uu;ml(uu,"displayName","Bar");ml(uu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ou.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ml(uu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,m=t.offset,y=Xye(n,r);if(!y)return null;var _=e.layout,b=r.type.defaultProps,x=b!==void 0?Dr(Dr({},b),r.props):r.props,N=x.dataKey,A=x.children,j=x.minPointSize,E=_==="horizontal"?s:a,P=f?E.scale.domain():null,R=ixe({numericAxis:E}),C=Yi(A,Zb),I=p.map(function(M,F){var D,V,$,H,G,Y;f?D=Jye(f[h+F],P):(D=Wr(M,N),Array.isArray(D)||(D=[R,D]));var Q=n1e(j,EH.defaultProps.minPointSize)(D[1],F);if(_==="horizontal"){var W,J=[s.scale(D[0]),s.scale(D[1])],ee=J[0],q=J[1];V=r$({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:M,index:F}),$=(W=q??ee)!==null&&W!==void 0?W:void 0,H=y.size;var X=ee-q;if(G=Number.isNaN(X)?0:X,Y={x:V,y:s.y,width:H,height:s.height},Math.abs(Q)>0&&Math.abs(G)<Math.abs(Q)){var ae=Fn(G||Q)*(Math.abs(Q)-Math.abs(G));$-=ae,G+=ae}}else{var be=[a.scale(D[0]),a.scale(D[1])],Ae=be[0],Ne=be[1];if(V=Ae,$=r$({axis:s,ticks:u,bandSize:i,offset:y.offset,entry:M,index:F}),H=Ne-Ae,G=y.size,Y={x:a.x,y:$,width:a.width,height:G},Math.abs(Q)>0&&Math.abs(H)<Math.abs(Q)){var ge=Fn(H||Q)*(Math.abs(Q)-Math.abs(H));H+=ge}}return Dr(Dr(Dr({},M),{},{x:V,y:$,width:H,height:G,value:f?D:D[1],payload:M,background:Y},C&&C[F]&&C[F].props),{},{tooltipPayload:[Xq(r,M)],tooltipPosition:{x:V+H/2,y:$+G/2}})});return Dr({data:I,layout:_},m)});function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function p1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NH(n.key),n)}}function m1e(t,e,r){return e&&k3(t.prototype,e),r&&k3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(r),!0).forEach(function(n){y0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y0(t,e,r){return e=NH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NH(t){var e=g1e(t,"string");return ym(e)=="symbol"?e:e+""}function g1e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TH=function(e,r,n,i,a){var s=e.width,l=e.height,u=e.layout,f=e.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!xi(f,uu);return h.reduce(function(y,_){var b=r[_],x=b.orientation,N=b.domain,A=b.padding,j=A===void 0?{}:A,E=b.mirror,P=b.reversed,R="".concat(x).concat(E?"Mirror":""),C,I,M,F,D;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var V=N[1]-N[0],$=1/0,H=b.categoricalDomain.sort();if(H.forEach(function(be,Ae){Ae>0&&($=Math.min((be||0)-(H[Ae-1]||0),$))}),Number.isFinite($)){var G=$/V,Y=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(C=G*Y/2),b.padding==="no-gap"){var Q=Vn(e.barCategoryGap,G*Y),W=G*Y/2;C=W-Q-(W-Q)/Y*Q}}}i==="xAxis"?I=[n.left+(j.left||0)+(C||0),n.left+n.width-(j.right||0)-(C||0)]:i==="yAxis"?I=u==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(C||0),n.top+n.height-(j.bottom||0)-(C||0)]:I=b.range,P&&(I=[I[1],I[0]]);var J=Gq(b,a,m),ee=J.scale,q=J.realScaleType;ee.domain(N).range(I),Kq(ee);var X=Yq(ee,_a(_a({},b),{},{realScaleType:q}));i==="xAxis"?(D=x==="top"&&!E||x==="bottom"&&E,M=n.left,F=p[R]-D*b.height):i==="yAxis"&&(D=x==="left"&&!E||x==="right"&&E,M=p[R]-D*b.width,F=n.top);var ae=_a(_a(_a({},b),X),{},{realScaleType:q,x:M,y:F,scale:ee,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return ae.bandSize=px(ae,X),!b.hide&&i==="xAxis"?p[R]+=(D?-1:1)*ae.height:b.hide||(p[R]+=(D?-1:1)*ae.width),_a(_a({},y),{},y0({},_,ae))},{})},PH=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},v1e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return PH({x:r,y:n},{x:i,y:a})},CH=function(){function t(e){p1e(this,t),this.scale=e}return m1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();y0(CH,"EPS",1e-4);var JC=function(e){var r=Object.keys(e).reduce(function(n,i){return _a(_a({},n),{},y0({},i,CH.create(e[i])))},{});return _a(_a({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return H_e(i,function(u,f){return r[f].apply(u,{bandAware:s,position:l})})},isInRange:function(i){return SH(i,function(a,s){return r[s].isInRange(a)})}})};function y1e(t){return(t%180+180)%180}var x1e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=y1e(i),s=a*Math.PI/180,l=Math.atan(n/r),u=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},Ej,O3;function b1e(){if(O3)return Ej;O3=1;var t=ws(),e=Hm(),r=Qb();function n(i){return function(a,s,l){var u=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(p){return f(u[p],p,u)}}var h=i(a,s,l);return h>-1?u[f?a[h]:h]:void 0}}return Ej=n,Ej}var jj,R3;function w1e(){if(R3)return jj;R3=1;var t=xH();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return jj=e,jj}var Aj,M3;function _1e(){if(M3)return Aj;M3=1;var t=Tz(),e=ws(),r=w1e(),n=Math.max;function i(a,s,l){var u=a==null?0:a.length;if(!u)return-1;var f=l==null?0:r(l);return f<0&&(f=n(u+f,0)),t(a,e(s,3),f)}return Aj=i,Aj}var Nj,D3;function S1e(){if(D3)return Nj;D3=1;var t=b1e(),e=_1e(),r=t(e);return Nj=r,Nj}var E1e=S1e();const j1e=Kt(E1e);var A1e=z9();const N1e=Kt(A1e);var T1e=N1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ZC=S.createContext(void 0),ek=S.createContext(void 0),kH=S.createContext(void 0),IH=S.createContext({}),OH=S.createContext(void 0),RH=S.createContext(0),MH=S.createContext(0),L3=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,l=e.children,u=e.width,f=e.height,h=T1e(a);return U.createElement(ZC.Provider,{value:n},U.createElement(ek.Provider,{value:i},U.createElement(IH.Provider,{value:a},U.createElement(kH.Provider,{value:h},U.createElement(OH.Provider,{value:s},U.createElement(RH.Provider,{value:f},U.createElement(MH.Provider,{value:u},l)))))))},P1e=function(){return S.useContext(OH)},DH=function(e){var r=S.useContext(ZC);r==null&&Qc();var n=r[e];return n==null&&Qc(),n},C1e=function(){var e=S.useContext(ZC);return al(e)},k1e=function(){var e=S.useContext(ek),r=j1e(e,function(n){return SH(n.domain,Number.isFinite)});return r||al(e)},LH=function(e){var r=S.useContext(ek);r==null&&Qc();var n=r[e];return n==null&&Qc(),n},I1e=function(){var e=S.useContext(kH);return e},O1e=function(){return S.useContext(IH)},tk=function(){return S.useContext(MH)},rk=function(){return S.useContext(RH)};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function R1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FH(n.key),n)}}function D1e(t,e,r){return e&&M1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L1e(t,e,r){return e=kx(e),$1e(t,$H()?Reflect.construct(e,r||[],kx(t).constructor):e.apply(t,r))}function $1e(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F1e(t)}function F1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($H=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(t)}function V1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HN(t,e)}function HN(t,e){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HN(t,e)}function $3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(r),!0).forEach(function(n){nk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nk(t,e,r){return e=FH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FH(t){var e=B1e(t,"string");return ff(e)=="symbol"?e:e+""}function B1e(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U1e(t,e){return W1e(t)||H1e(t,e)||q1e(t,e)||z1e()}function z1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q1e(t,e){if(t){if(typeof t=="string")return V3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V3(t,e)}}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function W1e(t){if(Array.isArray(t))return t}function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WN.apply(this,arguments)}var G1e=function(e,r){var n;return U.isValidElement(e)?n=U.cloneElement(e,r):at(e)?n=e(r):n=U.createElement("line",WN({},r,{className:"recharts-reference-line-line"})),n},K1e=function(e,r,n,i,a,s,l,u,f){var h=a.x,p=a.y,m=a.width,y=a.height;if(n){var _=f.y,b=e.y.apply(_,{position:s});if(ds(f,"discard")&&!e.y.isInRange(b))return null;var x=[{x:h+m,y:b},{x:h,y:b}];return u==="left"?x.reverse():x}if(r){var N=f.x,A=e.x.apply(N,{position:s});if(ds(f,"discard")&&!e.x.isInRange(A))return null;var j=[{x:A,y:p+y},{x:A,y:p}];return l==="top"?j.reverse():j}if(i){var E=f.segment,P=E.map(function(R){return e.apply(R,{position:s})});return ds(f,"discard")&&B_e(P,function(R){return!e.isInRange(R)})?null:P}return null};function Y1e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,u=t.alwaysShow,f=P1e(),h=DH(i),p=LH(a),m=I1e();if(!f||!m)return null;Na(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=JC({x:h.scale,y:p.scale}),_=Gr(e),b=Gr(r),x=n&&n.length===2,N=K1e(y,_,b,x,m,t.position,h.orientation,p.orientation,t);if(!N)return null;var A=U1e(N,2),j=A[0],E=j.x,P=j.y,R=A[1],C=R.x,I=R.y,M=ds(t,"hidden")?"url(#".concat(f,")"):void 0,F=F3(F3({clipPath:M},Ge(t,!0)),{},{x1:E,y1:P,x2:C,y2:I});return U.createElement(Ot,{className:ht("recharts-reference-line",l)},G1e(s,F),rn.renderCallByParent(t,v1e({x1:E,y1:P,x2:C,y2:I})))}var ik=function(t){function e(){return R1e(this,e),L1e(this,e,arguments)}return V1e(e,t),D1e(e,[{key:"render",value:function(){return U.createElement(Y1e,this.props)}}])}(U.Component);nk(ik,"displayName","ReferenceLine");nk(ik,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GN.apply(this,arguments)}function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function B3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(r),!0).forEach(function(n){x0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BH(n.key),n)}}function J1e(t,e,r){return e&&X1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z1e(t,e,r){return e=Ix(e),eSe(t,VH()?Reflect.construct(e,r||[],Ix(t).constructor):e.apply(t,r))}function eSe(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tSe(t)}function tSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(t)}function rSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KN(t,e)}function KN(t,e){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KN(t,e)}function x0(t,e,r){return e=BH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BH(t){var e=nSe(t,"string");return hf(e)=="symbol"?e:e+""}function nSe(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iSe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=JC({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return ds(e,"discard")&&!s.isInRange(l)?null:l},b0=function(t){function e(){return Q1e(this,e),Z1e(this,e,arguments)}return rSe(e,t),J1e(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,u=n.clipPathId,f=Gr(i),h=Gr(a);if(Na(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=iSe(this.props);if(!p)return null;var m=p.x,y=p.y,_=this.props,b=_.shape,x=_.className,N=ds(this.props,"hidden")?"url(#".concat(u,")"):void 0,A=U3(U3({clipPath:N},Ge(this.props,!0)),{},{cx:m,cy:y});return U.createElement(Ot,{className:ht("recharts-reference-dot",x)},e.renderDot(b,A),rn.renderCallByParent(this.props,{x:m-s,y:y-s,width:2*s,height:2*s}))}}])}(U.Component);x0(b0,"displayName","ReferenceDot");x0(b0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});x0(b0,"renderDot",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):at(t)?r=t(e):r=U.createElement(d0,GN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function YN(){return YN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YN.apply(this,arguments)}function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(r),!0).forEach(function(n){w0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zH(n.key),n)}}function oSe(t,e,r){return e&&sSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lSe(t,e,r){return e=Ox(e),cSe(t,UH()?Reflect.construct(e,r||[],Ox(t).constructor):e.apply(t,r))}function cSe(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(t)}function uSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(t)}function dSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QN(t,e)}function QN(t,e){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QN(t,e)}function w0(t,e,r){return e=zH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zH(t){var e=fSe(t,"string");return pf(e)=="symbol"?e:e+""}function fSe(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hSe=function(e,r,n,i,a){var s=a.x1,l=a.x2,u=a.y1,f=a.y2,h=a.xAxis,p=a.yAxis;if(!h||!p)return null;var m=JC({x:h.scale,y:p.scale}),y={x:e?m.x.apply(s,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(u,{position:"start"}):m.y.rangeMin},_={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(f,{position:"end"}):m.y.rangeMax};return ds(a,"discard")&&(!m.isInRange(y)||!m.isInRange(_))?null:PH(y,_)},_0=function(t){function e(){return aSe(this,e),lSe(this,e,arguments)}return dSe(e,t),oSe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,u=n.className,f=n.alwaysShow,h=n.clipPathId;Na(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Gr(i),m=Gr(a),y=Gr(s),_=Gr(l),b=this.props.shape;if(!p&&!m&&!y&&!_&&!b)return null;var x=hSe(p,m,y,_,this.props);if(!x&&!b)return null;var N=ds(this.props,"hidden")?"url(#".concat(h,")"):void 0;return U.createElement(Ot,{className:ht("recharts-reference-area",u)},e.renderRect(b,q3(q3({clipPath:N},Ge(this.props,!0)),x)),rn.renderCallByParent(this.props,x))}}])}(U.Component);w0(_0,"displayName","ReferenceArea");w0(_0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});w0(_0,"renderRect",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):at(t)?r=t(e):r=U.createElement(XC,YN({},e,{className:"recharts-reference-area-rect"})),r});function qH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function pSe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return x1e(n,r)}function mSe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function Rx(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function gSe(t,e){return qH(t,e+1)}function vSe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,l=e.end,u=0,f=1,h=s,p=function(){var _=n==null?void 0:n[u];if(_===void 0)return{v:qH(n,f)};var b=u,x,N=function(){return x===void 0&&(x=r(_,b)),x},A=_.coordinate,j=u===0||Rx(t,A,N,h,l);j||(u=0,h=s,f+=1),j&&(h=A+t*(N()/2+i),u+=f)},m;f<=a.length;)if(m=p(),m)return m.v;return[]}function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function H3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(r),!0).forEach(function(n){ySe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ySe(t,e,r){return e=xSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xSe(t){var e=bSe(t,"string");return xm(e)=="symbol"?e:e+""}function bSe(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wSe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=e.start,u=e.end,f=function(m){var y=a[m],_,b=function(){return _===void 0&&(_=r(y,m)),_};if(m===s-1){var x=t*(y.coordinate+t*b()/2-u);a[m]=y=En(En({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else a[m]=y=En(En({},y),{},{tickCoord:y.coordinate});var N=Rx(t,y.tickCoord,b,l,u);N&&(u=y.tickCoord-t*(b()/2+i),a[m]=En(En({},y),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function _Se(t,e,r,n,i,a){var s=(n||[]).slice(),l=s.length,u=e.start,f=e.end;if(a){var h=n[l-1],p=r(h,l-1),m=t*(h.coordinate+t*p/2-f);s[l-1]=h=En(En({},h),{},{tickCoord:m>0?h.coordinate-m*t:h.coordinate});var y=Rx(t,h.tickCoord,function(){return p},u,f);y&&(f=h.tickCoord-t*(p/2+i),s[l-1]=En(En({},h),{},{isShow:!0}))}for(var _=a?l-1:l,b=function(A){var j=s[A],E,P=function(){return E===void 0&&(E=r(j,A)),E};if(A===0){var R=t*(j.coordinate-t*P()/2-u);s[A]=j=En(En({},j),{},{tickCoord:R<0?j.coordinate-R*t:j.coordinate})}else s[A]=j=En(En({},j),{},{tickCoord:j.coordinate});var C=Rx(t,j.tickCoord,P,u,f);C&&(u=j.tickCoord+t*(P()/2+i),s[A]=En(En({},j),{},{isShow:!0}))},x=0;x<_;x++)b(x);return s}function ak(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,u=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(Se(u)||ou.isSsr)return gSe(i,typeof u=="number"&&Se(u)?u:0);var m=[],y=l==="top"||l==="bottom"?"width":"height",_=h&&y==="width"?hp(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(j,E){var P=at(f)?f(j.value,E):j.value;return y==="width"?pSe(hp(P,{fontSize:e,letterSpacing:r}),_,p):hp(P,{fontSize:e,letterSpacing:r})[y]},x=i.length>=2?Fn(i[1].coordinate-i[0].coordinate):1,N=mSe(a,x,y);return u==="equidistantPreserveStart"?vSe(x,N,b,i,s):(u==="preserveStart"||u==="preserveStartEnd"?m=_Se(x,N,b,i,s,u==="preserveStartEnd"):m=wSe(x,N,b,i,s),m.filter(function(A){return A.isShow}))}var SSe=["viewBox"],ESe=["viewBox"],jSe=["ticks"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ud.apply(this,arguments)}function W3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(r),!0).forEach(function(n){sk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tj(t,e){if(t==null)return{};var r=ASe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ASe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WH(n.key),n)}}function TSe(t,e,r){return e&&G3(t.prototype,e),r&&G3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PSe(t,e,r){return e=Mx(e),CSe(t,HH()?Reflect.construct(e,r||[],Mx(t).constructor):e.apply(t,r))}function CSe(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kSe(t)}function kSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(t)}function ISe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XN(t,e)}function XN(t,e){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XN(t,e)}function sk(t,e,r){return e=WH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WH(t){var e=OSe(t,"string");return mf(e)=="symbol"?e:e+""}function OSe(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gf=function(t){function e(r){var n;return NSe(this,e),n=PSe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return ISe(e,t),TSe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Tj(n,SSe),l=this.props,u=l.viewBox,f=Tj(l,ESe);return!xd(a,u)||!xd(s,f)||!xd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,u=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,m=i.tickMargin,y,_,b,x,N,A,j=p?-1:1,E=n.tickSize||h,P=Se(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=_=n.coordinate,x=s+ +!p*u,b=x-j*E,A=b-j*m,N=P;break;case"left":b=x=n.coordinate,_=a+ +!p*l,y=_-j*E,N=y-j*m,A=P;break;case"right":b=x=n.coordinate,_=a+ +p*l,y=_+j*E,N=y+j*m,A=P;break;default:y=_=n.coordinate,x=s+ +p*u,b=x+j*E,A=b+j*m,N=P;break}return{line:{x1:y,y1:b,x2:_,y2:x},tick:{x:N,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,u=n.orientation,f=n.mirror,h=n.axisLine,p=Dn(Dn(Dn({},Ge(this.props,!1)),Ge(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var m=+(u==="top"&&!f||u==="bottom"&&f);p=Dn(Dn({},p),{},{x1:i,y1:a+m*l,x2:i+s,y2:a+m*l})}else{var y=+(u==="left"&&!f||u==="right"&&f);p=Dn(Dn({},p),{},{x1:i+y*s,y1:a,x2:i+y*s,y2:a+l})}return U.createElement("line",ud({},p,{className:ht("recharts-cartesian-axis-line",Ni(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,u=l.tickLine,f=l.stroke,h=l.tick,p=l.tickFormatter,m=l.unit,y=ak(Dn(Dn({},this.props),{},{ticks:n}),i,a),_=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Ge(this.props,!1),N=Ge(h,!1),A=Dn(Dn({},x),{},{fill:"none"},Ge(u,!1)),j=y.map(function(E,P){var R=s.getTickLineCoord(E),C=R.line,I=R.tick,M=Dn(Dn(Dn(Dn({textAnchor:_,verticalAnchor:b},x),{},{stroke:"none",fill:f},N),I),{},{index:P,payload:E,visibleTicksCount:y.length,tickFormatter:p});return U.createElement(Ot,ud({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Gc(s.props,E,P)),u&&U.createElement("line",ud({},A,C,{className:ht("recharts-cartesian-axis-tick-line",Ni(u,"className"))})),h&&e.renderTickItem(h,M,"".concat(at(p)?p(E.value,P):E.value).concat(m||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,u=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,m=p.ticks,y=Tj(p,jSe),_=m;return at(u)&&(_=m&&m.length>0?u(this.props):u(y)),s<=0||l<=0||!_||!_.length?null:U.createElement(Ot,{className:ht("recharts-cartesian-axis",f),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return U.isValidElement(n)?s=U.cloneElement(n,i):at(n)?s=n(i):s=U.createElement(Kc,ud({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(S.Component);sk(Gf,"displayName","CartesianAxis");sk(Gf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RSe=["x1","y1","x2","y2","key"],MSe=["offset"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function K3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(r),!0).forEach(function(n){DSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DSe(t,e,r){return e=LSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LSe(t){var e=$Se(t,"string");return Xc(e)=="symbol"?e:e+""}function $Se(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kc.apply(this,arguments)}function Y3(t,e){if(t==null)return{};var r=FSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VSe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,u=e.ry;return U.createElement("rect",{x:i,y:a,ry:u,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GH(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(at(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,u=Y3(e,RSe),f=Ge(u,!1);f.offset;var h=Y3(f,MSe);r=U.createElement("line",kc({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function BSe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,u){var f=Nn(Nn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(u),index:u});return GH(i,f)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function USe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,u){var f=Nn(Nn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(u),index:u});return GH(i,f)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function zSe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,u=t.horizontal,f=u===void 0?!0:u;if(!f||!e||!e.length)return null;var h=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,y){return m-y});i!==h[0]&&h.unshift(0);var p=h.map(function(m,y){var _=!h[y+1],b=_?i+s-m:h[y+1]-m;if(b<=0)return null;var x=y%e.length;return U.createElement("rect",{key:"react-".concat(y),y:m,x:n,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function qSe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,u=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(m){return Math.round(m+a-a)}).sort(function(m,y){return m-y});a!==h[0]&&h.unshift(0);var p=h.map(function(m,y){var _=!h[y+1],b=_?a+l-m:h[y+1]-m;if(b<=0)return null;var x=y%n.length;return U.createElement("rect",{key:"react-".concat(y),x:m,y:s,width:b,height:u,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var HSe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return Wq(ak(Nn(Nn(Nn({},Gf.defaultProps),n),{},{ticks:Ks(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},WSe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return Wq(ak(Nn(Nn(Nn({},Gf.defaultProps),n),{},{ticks:Ks(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Qu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ok(t){var e,r,n,i,a,s,l=tk(),u=rk(),f=O1e(),h=Nn(Nn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Qu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Qu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Qu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Qu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Qu.verticalFill,x:Se(t.x)?t.x:f.left,y:Se(t.y)?t.y:f.top,width:Se(t.width)?t.width:f.width,height:Se(t.height)?t.height:f.height}),p=h.x,m=h.y,y=h.width,_=h.height,b=h.syncWithTicks,x=h.horizontalValues,N=h.verticalValues,A=C1e(),j=k1e();if(!Se(y)||y<=0||!Se(_)||_<=0||!Se(p)||p!==+p||!Se(m)||m!==+m)return null;var E=h.verticalCoordinatesGenerator||HSe,P=h.horizontalCoordinatesGenerator||WSe,R=h.horizontalPoints,C=h.verticalPoints;if((!R||!R.length)&&at(P)){var I=x&&x.length,M=P({yAxis:j?Nn(Nn({},j),{},{ticks:I?x:j.ticks}):void 0,width:l,height:u,offset:f},I?!0:b);Na(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(M),"]")),Array.isArray(M)&&(R=M)}if((!C||!C.length)&&at(E)){var F=N&&N.length,D=E({xAxis:A?Nn(Nn({},A),{},{ticks:F?N:A.ticks}):void 0,width:l,height:u,offset:f},F?!0:b);Na(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(D),"]")),Array.isArray(D)&&(C=D)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(VSe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),U.createElement(BSe,kc({},h,{offset:f,horizontalPoints:R,xAxis:A,yAxis:j})),U.createElement(USe,kc({},h,{offset:f,verticalPoints:C,xAxis:A,yAxis:j})),U.createElement(zSe,kc({},h,{horizontalPoints:R})),U.createElement(qSe,kc({},h,{verticalPoints:C})))}ok.displayName="CartesianGrid";var GSe=["layout","type","stroke","connectNulls","isRange","ref"],KSe=["key"],KH;function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function YH(t,e){if(t==null)return{};var r=YSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ic.apply(this,arguments)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){is(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XH(n.key),n)}}function XSe(t,e,r){return e&&X3(t.prototype,e),r&&X3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JSe(t,e,r){return e=Dx(e),ZSe(t,QH()?Reflect.construct(e,r||[],Dx(t).constructor):e.apply(t,r))}function ZSe(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eEe(t)}function eEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(t)}function tEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JN(t,e)}function is(t,e,r){return e=XH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XH(t){var e=rEe(t,"string");return gf(e)=="symbol"?e:e+""}function rEe(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=function(t){function e(){var r;QSe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=JSe(this,e,[].concat(i)),is(r,"state",{isAnimationFinished:!0}),is(r,"id",Bf("recharts-area-")),is(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),at(s)&&s()}),is(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),at(s)&&s()}),r}return tEe(e,t),XSe(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var u=this.props,f=u.dot,h=u.points,p=u.dataKey,m=Ge(this.props,!1),y=Ge(f,!0),_=h.map(function(x,N){var A=Zo(Zo(Zo({key:"dot-".concat(N),r:3},m),y),{},{index:N,cx:x.x,cy:x.y,dataKey:p,value:x.value,payload:x.payload,points:h});return e.renderDotItem(f,A)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Ot,Ic({className:"recharts-area-dots"},b),_)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,u=s[0].x,f=s[s.length-1].x,h=n*Math.abs(u-f),p=pl(s.map(function(m){return m.y||0}));return Se(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(pl(a.map(function(m){return m.y||0})),p)),Se(p)?U.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,u=s[0].y,f=s[s.length-1].y,h=n*Math.abs(u-f),p=pl(s.map(function(m){return m.x||0}));return Se(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(pl(a.map(function(m){return m.x||0})),p)),Se(p)?U.createElement("rect",{x:0,y:u<f?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var l=this.props,u=l.layout,f=l.type,h=l.stroke,p=l.connectNulls,m=l.isRange;l.ref;var y=YH(l,GSe);return U.createElement(Ot,{clipPath:a?"url(#clipPath-".concat(s,")"):null},U.createElement(_d,Ic({},Ge(y,!0),{points:n,connectNulls:p,type:f,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&U.createElement(_d,Ic({},Ge(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:p,fill:"none",points:n})),h!=="none"&&m&&U.createElement(_d,Ic({},Ge(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,u=s.baseLine,f=s.isAnimationActive,h=s.animationBegin,p=s.animationDuration,m=s.animationEasing,y=s.animationId,_=this.state,b=_.prevPoints,x=_.prevBaseLine;return U.createElement(gs,{begin:h,duration:p,isActive:f,easing:m,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(b){var j=b.length/l.length,E=l.map(function(I,M){var F=Math.floor(M*j);if(b[F]){var D=b[F],V=ri(D.x,I.x),$=ri(D.y,I.y);return Zo(Zo({},I),{},{x:V(A),y:$(A)})}return I}),P;if(Se(u)&&typeof u=="number"){var R=ri(x,u);P=R(A)}else if(ft(u)||Vf(u)){var C=ri(x,0);P=C(A)}else P=u.map(function(I,M){var F=Math.floor(M*j);if(x[F]){var D=x[F],V=ri(D.x,I.x),$=ri(D.y,I.y);return Zo(Zo({},I),{},{x:V(A),y:$(A)})}return I});return a.renderAreaStatically(E,P,n,i)}return U.createElement(Ot,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(A))),U.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,u,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,f=this.state,h=f.prevPoints,p=f.prevBaseLine,m=f.totalLength;return u&&s&&s.length&&(!h&&m>0||!rf(h,s)||!rf(p,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,u=i.className,f=i.top,h=i.left,p=i.xAxis,m=i.yAxis,y=i.width,_=i.height,b=i.isAnimationActive,x=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,A=l.length===1,j=ht("recharts-area",u),E=p&&p.allowDataOverflow,P=m&&m.allowDataOverflow,R=E||P,C=ft(x)?this.id:x,I=(n=Ge(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=I.r,F=M===void 0?3:M,D=I.strokeWidth,V=D===void 0?2:D,$=Kue(s)?s:{},H=$.clipDot,G=H===void 0?!0:H,Y=F*2+V;return U.createElement(Ot,{className:j},E||P?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(C)},U.createElement("rect",{x:E?h:h-y/2,y:P?f:f-_/2,width:E?y:y*2,height:P?_:_*2})),!G&&U.createElement("clipPath",{id:"clipPath-dots-".concat(C)},U.createElement("rect",{x:h-Y/2,y:f-Y/2,width:y+Y,height:_+Y}))):null,A?null:this.renderArea(R,C),(s||A)&&this.renderDots(R,G,C),(!b||N)&&eo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);KH=Wl;is(Wl,"displayName","Area");is(Wl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ou.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});is(Wl,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(Se(l)&&typeof l=="number")return l;var u=i==="horizontal"?n:r,f=u.scale.domain();if(u.type==="number"){var h=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});is(Wl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,u=t.dataKey,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,m=t.offset,y=e.layout,_=f&&f.length,b=KH.getBaseValue(e,r,n,i),x=y==="horizontal",N=!1,A=p.map(function(E,P){var R;_?R=f[h+P]:(R=Wr(E,u),Array.isArray(R)?N=!0:R=[b,R]);var C=R[1]==null||_&&Wr(E,u)==null;return x?{x:t$({axis:n,ticks:a,bandSize:l,entry:E,index:P}),y:C?null:i.scale(R[1]),value:R,payload:E}:{x:C?null:n.scale(R[1]),y:t$({axis:i,ticks:s,bandSize:l,entry:E,index:P}),value:R,payload:E}}),j;return _||N?j=A.map(function(E){var P=Array.isArray(E.value)?E.value[0]:null;return x?{x:E.x,y:P!=null&&E.y!=null?i.scale(P):null}:{x:P!=null?n.scale(P):null,y:E.y}}):j=x?i.scale(b):n.scale(b),Zo({points:A,baseLine:j,layout:y,isRange:N},m)});is(Wl,"renderDotItem",function(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(at(t))r=t(e);else{var n=ht("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=YH(e,KSe);r=U.createElement(d0,Ic({},a,{key:i,className:n}))}return r});function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function nEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e7(n.key),n)}}function aEe(t,e,r){return e&&iEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,r){return e=Lx(e),oEe(t,JH()?Reflect.construct(e,r||[],Lx(t).constructor):e.apply(t,r))}function oEe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(t)}function cEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZN(t,e)}function ZH(t,e,r){return e=e7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e7(t){var e=uEe(t,"string");return vf(e)=="symbol"?e:e+""}function uEe(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eT.apply(this,arguments)}function dEe(t){var e=t.xAxisId,r=tk(),n=rk(),i=DH(e);return i==null?null:U.createElement(Gf,eT({},i,{className:ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ks(s,!0)}}))}var Kf=function(t){function e(){return nEe(this,e),sEe(this,e,arguments)}return cEe(e,t),aEe(e,[{key:"render",value:function(){return U.createElement(dEe,this.props)}}])}(U.Component);ZH(Kf,"displayName","XAxis");ZH(Kf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function fEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n7(n.key),n)}}function pEe(t,e,r){return e&&hEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mEe(t,e,r){return e=$x(e),gEe(t,t7()?Reflect.construct(e,r||[],$x(t).constructor):e.apply(t,r))}function gEe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vEe(t)}function vEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t7=function(){return!!t})()}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$x(t)}function yEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tT(t,e)}function tT(t,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tT(t,e)}function r7(t,e,r){return e=n7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n7(t){var e=xEe(t,"string");return yf(e)=="symbol"?e:e+""}function xEe(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rT.apply(this,arguments)}var bEe=function(e){var r=e.yAxisId,n=tk(),i=rk(),a=LH(r);return a==null?null:U.createElement(Gf,rT({},a,{className:ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Ks(l,!0)}}))},Yf=function(t){function e(){return fEe(this,e),mEe(this,e,arguments)}return yEe(e,t),pEe(e,[{key:"render",value:function(){return U.createElement(bEe,this.props)}}])}(U.Component);r7(Yf,"displayName","YAxis");r7(Yf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J3(t){return EEe(t)||SEe(t)||_Ee(t)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(t,e){if(t){if(typeof t=="string")return nT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nT(t,e)}}function SEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EEe(t){if(Array.isArray(t))return nT(t)}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var iT=function(e,r,n,i,a){var s=Yi(e,ik),l=Yi(e,b0),u=[].concat(J3(s),J3(l)),f=Yi(e,_0),h="".concat(i,"Id"),p=i[0],m=r;if(u.length&&(m=u.reduce(function(b,x){if(x.props[h]===n&&ds(x.props,"extendDomain")&&Se(x.props[p])){var N=x.props[p];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},m)),f.length){var y="".concat(p,"1"),_="".concat(p,"2");m=f.reduce(function(b,x){if(x.props[h]===n&&ds(x.props,"extendDomain")&&Se(x.props[y])&&Se(x.props[_])){var N=x.props[y],A=x.props[_];return[Math.min(b[0],N,A),Math.max(b[1],N,A)]}return b},m)}return a&&a.length&&(m=a.reduce(function(b,x){return Se(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},m)),m},Pj={exports:{}},Z3;function jEe(){return Z3||(Z3=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||u,m),_=r?r+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],y]:u._events[_].push(y):(u._events[_]=y,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,_=new Array(y);m<y;m++)_[m]=p[m].fn;return _},l.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,m,y,_){var b=r?r+f:f;if(!this._events[b])return!1;var x=this._events[b],N=arguments.length,A,j;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),N){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,m),!0;case 5:return x.fn.call(x.context,h,p,m,y),!0;case 6:return x.fn.call(x.context,h,p,m,y,_),!0}for(j=1,A=new Array(N-1);j<N;j++)A[j-1]=arguments[j];x.fn.apply(x.context,A)}else{var E=x.length,P;for(j=0;j<E;j++)switch(x[j].once&&this.removeListener(f,x[j].fn,void 0,!0),N){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,h);break;case 3:x[j].fn.call(x[j].context,h,p);break;case 4:x[j].fn.call(x[j].context,h,p,m);break;default:if(!A)for(P=1,A=new Array(N-1);P<N;P++)A[P-1]=arguments[P];x[j].fn.apply(x[j].context,A)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,m){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return s(this,y),this;var _=this._events[y];if(_.fn)_.fn===h&&(!m||_.once)&&(!p||_.context===p)&&s(this,y);else{for(var b=0,x=[],N=_.length;b<N;b++)(_[b].fn!==h||m&&!_[b].once||p&&_[b].context!==p)&&x.push(_[b]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(Pj)),Pj.exports}var AEe=jEe();const NEe=Kt(AEe);var Cj=new NEe,kj="recharts.syncMouseEvents";function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function TEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i7(n.key),n)}}function CEe(t,e,r){return e&&PEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ij(t,e,r){return e=i7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i7(t){var e=kEe(t,"string");return bm(e)=="symbol"?e:e+""}function kEe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IEe=function(){function t(){TEe(this,t),Ij(this,"activeIndex",0),Ij(this,"coordinateList",[]),Ij(this,"layout","horizontal")}return CEe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,u=r.layout,f=u===void 0?null:u,h=r.offset,p=h===void 0?null:h,m=r.mouseHandlerCallback,y=m===void 0?null:m;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=a+u+f,m=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:m})}}}])}();function OEe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Se(n)&&Se(i))return!0}return!1}function REe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function a7(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=or(e,r,n,i),l=or(e,r,n,a);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function MEe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,u=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,m=or(l,u,f,p),y=or(l,u,h,p);n=m.x,i=m.y,a=y.x,s=y.y}else return a7(e);return[{x:n,y:i},{x:a,y:s}]}function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function eF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(r),!0).forEach(function(n){DEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DEe(t,e,r){return e=LEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LEe(t){var e=$Ee(t,"string");return wm(e)=="symbol"?e:e+""}function $Ee(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FEe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,u=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,m=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!a||!s||m!=="ScatterChart"&&i!=="axis")return null;var _,b=_d;if(m==="ScatterChart")_=s,b=uwe;else if(m==="BarChart")_=REe(p,s,u,h),b=XC;else if(p==="radial"){var x=a7(s),N=x.cx,A=x.cy,j=x.radius,E=x.startAngle,P=x.endAngle;_={cx:N,cy:A,startAngle:E,endAngle:P,innerRadius:j,outerRadius:j},b=nH}else _={points:MEe(p,s,u)},b=_d;var R=Lv(Lv(Lv(Lv({stroke:"#ccc",pointerEvents:"none"},u),_),Ge(y,!1)),{},{payload:l,payloadIndex:f,className:ht("recharts-tooltip-cursor",y.className)});return S.isValidElement(y)?S.cloneElement(y,R):S.createElement(b,R)}var VEe=["item"],BEe=["children","className","width","height","style","compact","title","desc"];function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xp.apply(this,arguments)}function tF(t,e){return qEe(t)||zEe(t,e)||o7(t,e)||UEe()}function UEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function qEe(t){if(Array.isArray(t))return t}function rF(t,e){if(t==null)return{};var r=HEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l7(n.key),n)}}function KEe(t,e,r){return e&&GEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YEe(t,e,r){return e=Fx(e),QEe(t,s7()?Reflect.construct(e,r||[],Fx(t).constructor):e.apply(t,r))}function QEe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(t)}function XEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(t)}function JEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aT(t,e)}function bf(t){return tje(t)||eje(t)||o7(t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7(t,e){if(t){if(typeof t=="string")return sT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sT(t,e)}}function eje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tje(t){if(Array.isArray(t))return sT(t)}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){rt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rt(t,e,r){return e=l7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l7(t){var e=rje(t,"string");return xf(e)=="symbol"?e:e+""}function rje(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nje={xAxis:["bottom","top"],yAxis:["left","right"]},ije={width:"100%",height:"100%"},c7={x:0,y:0};function $v(t){return t}var aje=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},sje=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return ue(ue(ue({},i),or(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,f=i.angle;return ue(ue(ue({},i),or(i.cx,i.cy,u,f)),{},{angle:f,radius:u})}return c7},S0=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,u){var f=u.props.data;return f&&f.length?[].concat(bf(l),bf(f)):l},[]);return s.length>0?s:e&&e.length&&Se(i)&&Se(a)?e.slice(i,a+1):[]};function u7(t){return t==="number"?[0,"auto"]:void 0}var oT=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,l=S0(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(u,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(s.dataKey&&!s.allowDuplicatedCategory){var y=p===void 0?l:p;m=zy(y,s.dataKey,i)}else m=p&&p[n]||l[n];return m?[].concat(bf(u),[Xq(f,m)]):u},[])},iF=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=aje(a,n),l=e.orderedTooltipTicks,u=e.tooltipAxis,f=e.tooltipTicks,h=Hye(s,l,f,u);if(h>=0&&f){var p=f[h]&&f[h].value,m=oT(e,r,h,p),y=sje(n,l,h,a);return{activeTooltipIndex:h,activeLabel:p,activePayload:m,activeCoordinate:y}}return null},oje=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,m=e.stackOffset,y=Hq(h,a);return n.reduce(function(_,b){var x,N=b.type.defaultProps!==void 0?ue(ue({},b.type.defaultProps),b.props):b.props,A=N.type,j=N.dataKey,E=N.allowDataOverflow,P=N.allowDuplicatedCategory,R=N.scale,C=N.ticks,I=N.includeHidden,M=N[s];if(_[M])return _;var F=S0(e.data,{graphicalItems:i.filter(function(X){var ae,be=s in X.props?X.props[s]:(ae=X.type.defaultProps)===null||ae===void 0?void 0:ae[s];return be===M}),dataStartIndex:u,dataEndIndex:f}),D=F.length,V,$,H;OEe(N.domain,E,A)&&(V=_N(N.domain,null,E),y&&(A==="number"||R!=="auto")&&(H=mp(F,j,"category")));var G=u7(A);if(!V||V.length===0){var Y,Q=(Y=N.domain)!==null&&Y!==void 0?Y:G;if(j){if(V=mp(F,j,A),A==="category"&&y){var W=Fue(V);P&&W?($=V,V=Ax(0,D)):P||(V=a$(Q,V,b).reduce(function(X,ae){return X.indexOf(ae)>=0?X:[].concat(bf(X),[ae])},[]))}else if(A==="category")P?V=V.filter(function(X){return X!==""&&!ft(X)}):V=a$(Q,V,b).reduce(function(X,ae){return X.indexOf(ae)>=0||ae===""||ft(ae)?X:[].concat(bf(X),[ae])},[]);else if(A==="number"){var J=Qye(F,i.filter(function(X){var ae,be,Ae=s in X.props?X.props[s]:(ae=X.type.defaultProps)===null||ae===void 0?void 0:ae[s],Ne="hide"in X.props?X.props.hide:(be=X.type.defaultProps)===null||be===void 0?void 0:be.hide;return Ae===M&&(I||!Ne)}),j,a,h);J&&(V=J)}y&&(A==="number"||R!=="auto")&&(H=mp(F,j,"category"))}else y?V=Ax(0,D):l&&l[M]&&l[M].hasStack&&A==="number"?V=m==="expand"?[0,1]:Qq(l[M].stackGroups,u,f):V=qq(F,i.filter(function(X){var ae=s in X.props?X.props[s]:X.type.defaultProps[s],be="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ae===M&&(I||!be)}),A,h,!0);if(A==="number")V=iT(p,V,M,a,C),Q&&(V=_N(Q,V,E));else if(A==="category"&&Q){var ee=Q,q=V.every(function(X){return ee.indexOf(X)>=0});q&&(V=ee)}}return ue(ue({},_),{},rt({},M,ue(ue({},N),{},{axisType:a,domain:V,categoricalDomain:H,duplicateDomain:$,originalDomain:(x=N.domain)!==null&&x!==void 0?x:G,isCategorical:y,layout:h})))},{})},lje=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,m=S0(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:f}),y=m.length,_=Hq(h,a),b=-1;return n.reduce(function(x,N){var A=N.type.defaultProps!==void 0?ue(ue({},N.type.defaultProps),N.props):N.props,j=A[s],E=u7("number");if(!x[j]){b++;var P;return _?P=Ax(0,y):l&&l[j]&&l[j].hasStack?(P=Qq(l[j].stackGroups,u,f),P=iT(p,P,j,a)):(P=_N(E,qq(m,n.filter(function(R){var C,I,M=s in R.props?R.props[s]:(C=R.type.defaultProps)===null||C===void 0?void 0:C[s],F="hide"in R.props?R.props.hide:(I=R.type.defaultProps)===null||I===void 0?void 0:I.hide;return M===j&&!F}),"number",h),i.defaultProps.allowDataOverflow),P=iT(p,P,j,a)),ue(ue({},x),{},rt({},j,ue(ue({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ni(nje,"".concat(a,".").concat(b%2),null),domain:P,originalDomain:E,isCategorical:_,layout:h})))}return x},{})},cje=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.children,p="".concat(i,"Id"),m=Yi(h,a),y={};return m&&m.length?y=oje(e,{axes:m,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:f}):s&&s.length&&(y=lje(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:f})),y},uje=function(e){var r=al(e),n=Ks(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:SC(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:px(r,n)}},aF=function(e){var r=e.children,n=e.defaultShowTooltip,i=xi(r,uf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},dje=function(e){return!e||!e.length?!1:e.some(function(r){var n=Js(r&&r.type);return n&&n.indexOf("Bar")>=0})},sF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fje=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,u=l===void 0?{}:l,f=n.width,h=n.height,p=n.children,m=n.margin||{},y=xi(p,uf),_=xi(p,wl),b=Object.keys(u).reduce(function(P,R){var C=u[R],I=C.orientation;return!C.mirror&&!C.hide?ue(ue({},P),{},rt({},I,P[I]+C.width)):P},{left:m.left||0,right:m.right||0}),x=Object.keys(s).reduce(function(P,R){var C=s[R],I=C.orientation;return!C.mirror&&!C.hide?ue(ue({},P),{},rt({},I,Ni(P,"".concat(I))+C.height)):P},{top:m.top||0,bottom:m.bottom||0}),N=ue(ue({},x),b),A=N.bottom;y&&(N.bottom+=y.props.height||uf.defaultProps.height),_&&r&&(N=Kye(N,i,n,r));var j=f-N.left-N.right,E=h-N.top-N.bottom;return ue(ue({brushBottom:A},N),{},{width:Math.max(j,0),height:Math.max(E,0)})},hje=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},lk=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,m=function(x,N){var A=N.graphicalItems,j=N.stackGroups,E=N.offset,P=N.updateId,R=N.dataStartIndex,C=N.dataEndIndex,I=x.barSize,M=x.layout,F=x.barGap,D=x.barCategoryGap,V=x.maxBarSize,$=sF(M),H=$.numericAxisName,G=$.cateAxisName,Y=dje(A),Q=[];return A.forEach(function(W,J){var ee=S0(x.data,{graphicalItems:[W],dataStartIndex:R,dataEndIndex:C}),q=W.type.defaultProps!==void 0?ue(ue({},W.type.defaultProps),W.props):W.props,X=q.dataKey,ae=q.maxBarSize,be=q["".concat(H,"Id")],Ae=q["".concat(G,"Id")],Ne={},ge=u.reduce(function(Lt,cr){var Me=N["".concat(cr.axisType,"Map")],st=q["".concat(cr.axisType,"Id")];Me&&Me[st]||cr.axisType==="zAxis"||Qc();var Ue=Me[st];return ue(ue({},Lt),{},rt(rt({},cr.axisType,Ue),"".concat(cr.axisType,"Ticks"),Ks(Ue)))},Ne),Pe=ge[G],de=ge["".concat(G,"Ticks")],ve=j&&j[be]&&j[be].hasStack&&axe(W,j[be].stackGroups),we=Js(W.type).indexOf("Bar")>=0,le=px(Pe,de),Ye=[],qe=Y&&Wye({barSize:I,stackGroups:j,totalSize:hje(ge,G)});if(we){var pt,ot,lt=ft(ae)?V:ae,br=(pt=(ot=px(Pe,de,!0))!==null&&ot!==void 0?ot:lt)!==null&&pt!==void 0?pt:0;Ye=Gye({barGap:F,barCategoryGap:D,bandSize:br!==le?br:le,sizeList:qe[Ae],maxBarSize:lt}),br!==le&&(Ye=Ye.map(function(Lt){return ue(ue({},Lt),{},{position:ue(ue({},Lt.position),{},{offset:Lt.position.offset-br/2})})}))}var Tt=W&&W.type&&W.type.getComposedData;Tt&&Q.push({props:ue(ue({},Tt(ue(ue({},ge),{},{displayedData:ee,props:x,dataKey:X,item:W,bandSize:le,barPosition:Ye,offset:E,stackedData:ve,layout:M,dataStartIndex:R,dataEndIndex:C}))),{},rt(rt(rt({key:W.key||"item-".concat(J)},H,ge[H]),G,ge[G]),"animationId",P)),childIndex:Xue(W,x.children),item:W})}),Q},y=function(x,N){var A=x.props,j=x.dataStartIndex,E=x.dataEndIndex,P=x.updateId;if(!xD({props:A}))return null;var R=A.children,C=A.layout,I=A.stackOffset,M=A.data,F=A.reverseStackOrder,D=sF(C),V=D.numericAxisName,$=D.cateAxisName,H=Yi(R,n),G=nxe(M,H,"".concat(V,"Id"),"".concat($,"Id"),I,F),Y=u.reduce(function(q,X){var ae="".concat(X.axisType,"Map");return ue(ue({},q),{},rt({},ae,cje(A,ue(ue({},X),{},{graphicalItems:H,stackGroups:X.axisType===V&&G,dataStartIndex:j,dataEndIndex:E}))))},{}),Q=fje(ue(ue({},Y),{},{props:A,graphicalItems:H}),N==null?void 0:N.legendBBox);Object.keys(Y).forEach(function(q){Y[q]=h(A,Y[q],Q,q.replace("Map",""),r)});var W=Y["".concat($,"Map")],J=uje(W),ee=m(A,ue(ue({},Y),{},{dataStartIndex:j,dataEndIndex:E,updateId:P,graphicalItems:H,stackGroups:G,offset:Q}));return ue(ue({formattedGraphicalItems:ee,graphicalItems:H,offset:Q,stackGroups:G},J),Y)},_=function(b){function x(N){var A,j,E;return WEe(this,x),E=YEe(this,x,[N]),rt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(E,"accessibilityManager",new IEe),rt(E,"handleLegendBBoxUpdate",function(P){if(P){var R=E.state,C=R.dataStartIndex,I=R.dataEndIndex,M=R.updateId;E.setState(ue({legendBBox:P},y({props:E.props,dataStartIndex:C,dataEndIndex:I,updateId:M},ue(ue({},E.state),{},{legendBBox:P}))))}}),rt(E,"handleReceiveSyncEvent",function(P,R,C){if(E.props.syncId===P){if(C===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(R)}}),rt(E,"handleBrushChange",function(P){var R=P.startIndex,C=P.endIndex;if(R!==E.state.dataStartIndex||C!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return ue({dataStartIndex:R,dataEndIndex:C},y({props:E.props,dataStartIndex:R,dataEndIndex:C,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:R,dataEndIndex:C})}}),rt(E,"handleMouseEnter",function(P){var R=E.getMouseInfo(P);if(R){var C=ue(ue({},R),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var I=E.props.onMouseEnter;at(I)&&I(C,P)}}),rt(E,"triggeredAfterMouseMove",function(P){var R=E.getMouseInfo(P),C=R?ue(ue({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var I=E.props.onMouseMove;at(I)&&I(C,P)}),rt(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),rt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),rt(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),rt(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};E.setState(R),E.triggerSyncEvent(R);var C=E.props.onMouseLeave;at(C)&&C(R,P)}),rt(E,"handleOuterEvent",function(P){var R=Que(P),C=Ni(E.props,"".concat(R));if(R&&at(C)){var I,M;/.*touch.*/i.test(R)?M=E.getMouseInfo(P.changedTouches[0]):M=E.getMouseInfo(P),C((I=M)!==null&&I!==void 0?I:{},P)}}),rt(E,"handleClick",function(P){var R=E.getMouseInfo(P);if(R){var C=ue(ue({},R),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var I=E.props.onClick;at(I)&&I(C,P)}}),rt(E,"handleMouseDown",function(P){var R=E.props.onMouseDown;if(at(R)){var C=E.getMouseInfo(P);R(C,P)}}),rt(E,"handleMouseUp",function(P){var R=E.props.onMouseUp;if(at(R)){var C=E.getMouseInfo(P);R(C,P)}}),rt(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),rt(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),rt(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),rt(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&Cj.emit(kj,E.props.syncId,P,E.eventEmitterSymbol)}),rt(E,"applySyncEvent",function(P){var R=E.props,C=R.layout,I=R.syncMethod,M=E.state.updateId,F=P.dataStartIndex,D=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(ue({dataStartIndex:F,dataEndIndex:D},y({props:E.props,dataStartIndex:F,dataEndIndex:D,updateId:M},E.state)));else if(P.activeTooltipIndex!==void 0){var V=P.chartX,$=P.chartY,H=P.activeTooltipIndex,G=E.state,Y=G.offset,Q=G.tooltipTicks;if(!Y)return;if(typeof I=="function")H=I(Q,P);else if(I==="value"){H=-1;for(var W=0;W<Q.length;W++)if(Q[W].value===P.activeLabel){H=W;break}}var J=ue(ue({},Y),{},{x:Y.left,y:Y.top}),ee=Math.min(V,J.x+J.width),q=Math.min($,J.y+J.height),X=Q[H]&&Q[H].value,ae=oT(E.state,E.props.data,H),be=Q[H]?{x:C==="horizontal"?Q[H].coordinate:ee,y:C==="horizontal"?q:Q[H].coordinate}:c7;E.setState(ue(ue({},P),{},{activeLabel:X,activeCoordinate:be,activePayload:ae,activeTooltipIndex:H}))}else E.setState(P)}),rt(E,"renderCursor",function(P){var R,C=E.state,I=C.isTooltipActive,M=C.activeCoordinate,F=C.activePayload,D=C.offset,V=C.activeTooltipIndex,$=C.tooltipAxisBandSize,H=E.getTooltipEventType(),G=(R=P.props.active)!==null&&R!==void 0?R:I,Y=E.props.layout,Q=P.key||"_recharts-cursor";return U.createElement(FEe,{key:Q,activeCoordinate:M,activePayload:F,activeTooltipIndex:V,chartName:r,element:P,isActive:G,layout:Y,offset:D,tooltipAxisBandSize:$,tooltipEventType:H})}),rt(E,"renderPolarAxis",function(P,R,C){var I=Ni(P,"type.axisType"),M=Ni(E.state,"".concat(I,"Map")),F=P.type.defaultProps,D=F!==void 0?ue(ue({},F),P.props):P.props,V=M&&M[D["".concat(I,"Id")]];return S.cloneElement(P,ue(ue({},V),{},{className:ht(I,V.className),key:P.key||"".concat(R,"-").concat(C),ticks:Ks(V,!0)}))}),rt(E,"renderPolarGrid",function(P){var R=P.props,C=R.radialLines,I=R.polarAngles,M=R.polarRadius,F=E.state,D=F.radiusAxisMap,V=F.angleAxisMap,$=al(D),H=al(V),G=H.cx,Y=H.cy,Q=H.innerRadius,W=H.outerRadius;return S.cloneElement(P,{polarAngles:Array.isArray(I)?I:Ks(H,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(M)?M:Ks($,!0).map(function(J){return J.coordinate}),cx:G,cy:Y,innerRadius:Q,outerRadius:W,key:P.key||"polar-grid",radialLines:C})}),rt(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,R=E.props,C=R.children,I=R.width,M=R.height,F=E.props.margin||{},D=I-(F.left||0)-(F.right||0),V=Uq({children:C,formattedGraphicalItems:P,legendWidth:D,legendContent:f});if(!V)return null;var $=V.item,H=rF(V,VEe);return S.cloneElement($,ue(ue({},H),{},{chartWidth:I,chartHeight:M,margin:F,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),rt(E,"renderTooltip",function(){var P,R=E.props,C=R.children,I=R.accessibilityLayer,M=xi(C,Ui);if(!M)return null;var F=E.state,D=F.isTooltipActive,V=F.activeCoordinate,$=F.activePayload,H=F.activeLabel,G=F.offset,Y=(P=M.props.active)!==null&&P!==void 0?P:D;return S.cloneElement(M,{viewBox:ue(ue({},G),{},{x:G.left,y:G.top}),active:Y,label:H,payload:Y?$:[],coordinate:V,accessibilityLayer:I})}),rt(E,"renderBrush",function(P){var R=E.props,C=R.margin,I=R.data,M=E.state,F=M.offset,D=M.dataStartIndex,V=M.dataEndIndex,$=M.updateId;return S.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Ov(E.handleBrushChange,P.props.onChange),data:I,x:Se(P.props.x)?P.props.x:F.left,y:Se(P.props.y)?P.props.y:F.top+F.height+F.brushBottom-(C.bottom||0),width:Se(P.props.width)?P.props.width:F.width,startIndex:D,endIndex:V,updateId:"brush-".concat($)})}),rt(E,"renderReferenceElement",function(P,R,C){if(!P)return null;var I=E,M=I.clipPathId,F=E.state,D=F.xAxisMap,V=F.yAxisMap,$=F.offset,H=P.type.defaultProps||{},G=P.props,Y=G.xAxisId,Q=Y===void 0?H.xAxisId:Y,W=G.yAxisId,J=W===void 0?H.yAxisId:W;return S.cloneElement(P,{key:P.key||"".concat(R,"-").concat(C),xAxis:D[Q],yAxis:V[J],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:M})}),rt(E,"renderActivePoints",function(P){var R=P.item,C=P.activePoint,I=P.basePoint,M=P.childIndex,F=P.isRange,D=[],V=R.props.key,$=R.item.type.defaultProps!==void 0?ue(ue({},R.item.type.defaultProps),R.item.props):R.item.props,H=$.activeDot,G=$.dataKey,Y=ue(ue({index:M,dataKey:G,cx:C.x,cy:C.y,r:4,fill:QC(R.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ge(H,!1)),qy(H));return D.push(x.renderActiveDot(H,Y,"".concat(V,"-activePoint-").concat(M))),I?D.push(x.renderActiveDot(H,ue(ue({},Y),{},{cx:I.x,cy:I.y}),"".concat(V,"-basePoint-").concat(M))):F&&D.push(null),D}),rt(E,"renderGraphicChild",function(P,R,C){var I=E.filterFormatItem(P,R,C);if(!I)return null;var M=E.getTooltipEventType(),F=E.state,D=F.isTooltipActive,V=F.tooltipAxis,$=F.activeTooltipIndex,H=F.activeLabel,G=E.props.children,Y=xi(G,Ui),Q=I.props,W=Q.points,J=Q.isRange,ee=Q.baseLine,q=I.item.type.defaultProps!==void 0?ue(ue({},I.item.type.defaultProps),I.item.props):I.item.props,X=q.activeDot,ae=q.hide,be=q.activeBar,Ae=q.activeShape,Ne=!!(!ae&&D&&Y&&(X||be||Ae)),ge={};M!=="axis"&&Y&&Y.props.trigger==="click"?ge={onClick:Ov(E.handleItemMouseEnter,P.props.onClick)}:M!=="axis"&&(ge={onMouseLeave:Ov(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Ov(E.handleItemMouseEnter,P.props.onMouseEnter)});var Pe=S.cloneElement(P,ue(ue({},I.props),ge));function de(cr){return typeof V.dataKey=="function"?V.dataKey(cr.payload):null}if(Ne)if($>=0){var ve,we;if(V.dataKey&&!V.allowDuplicatedCategory){var le=typeof V.dataKey=="function"?de:"payload.".concat(V.dataKey.toString());ve=zy(W,le,H),we=J&&ee&&zy(ee,le,H)}else ve=W==null?void 0:W[$],we=J&&ee&&ee[$];if(Ae||be){var Ye=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[S.cloneElement(P,ue(ue(ue({},I.props),ge),{},{activeIndex:Ye})),null,null]}if(!ft(ve))return[Pe].concat(bf(E.renderActivePoints({item:I,activePoint:ve,basePoint:we,childIndex:$,isRange:J})))}else{var qe,pt=(qe=E.getItemByXY(E.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:Pe},ot=pt.graphicalItem,lt=ot.item,br=lt===void 0?P:lt,Tt=ot.childIndex,Lt=ue(ue(ue({},I.props),ge),{},{activeIndex:Tt});return[S.cloneElement(br,Lt),null,null]}return J?[Pe,null,null]:[Pe,null]}),rt(E,"renderCustomized",function(P,R,C){return S.cloneElement(P,ue(ue({key:"recharts-customized-".concat(C)},E.props),E.state))}),rt(E,"renderMap",{CartesianGrid:{handler:$v,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:$v},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:$v},YAxis:{handler:$v},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((A=N.id)!==null&&A!==void 0?A:Bf("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Bz(E.triggeredAfterMouseMove,(j=N.throttleDelay)!==null&&j!==void 0?j:1e3/60),E.state={},E}return JEe(x,b),KEe(x,[{key:"componentDidMount",value:function(){var A,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,j=A.children,E=A.data,P=A.height,R=A.layout,C=xi(j,Ui);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,F=oT(this.state,E,I,M),D=this.state.tooltipTicks[I].coordinate,V=(this.state.offset.top+P)/2,$=R==="horizontal",H=$?{x:D,y:V}:{y:D,x:V},G=this.state.formattedGraphicalItems.find(function(Q){var W=Q.item;return W.type.name==="Scatter"});G&&(H=ue(ue({},H),G.props.points[I].tooltipPosition),F=G.props.points[I].tooltipPayload);var Y={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:M,activePayload:F,activeCoordinate:H};this.setState(Y),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(A){qA([xi(A.children,Ui)],[xi(this.props.children,Ui)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=xi(this.props.children,Ui);if(A&&typeof A.props.shared=="boolean"){var j=A.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var j=this.container,E=j.getBoundingClientRect(),P=Lpe(E),R={chartX:Math.round(A.pageX-P.left),chartY:Math.round(A.pageY-P.top)},C=E.width/j.offsetWidth||1,I=this.inRange(R.chartX,R.chartY,C);if(!I)return null;var M=this.state,F=M.xAxisMap,D=M.yAxisMap,V=this.getTooltipEventType();if(V!=="axis"&&F&&D){var $=al(F).scale,H=al(D).scale,G=$&&$.invert?$.invert(R.chartX):null,Y=H&&H.invert?H.invert(R.chartY):null;return ue(ue({},R),{},{xValue:G,yValue:Y})}var Q=iF(this.state,this.props.data,this.props.layout,I);return Q?ue(ue({},R),Q):null}},{key:"inRange",value:function(A,j){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,R=A/E,C=j/E;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,M=R>=I.left&&R<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return M?{x:R,y:C}:null}var F=this.state,D=F.angleAxisMap,V=F.radiusAxisMap;if(D&&V){var $=al(D);return l$({x:R,y:C},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,j=this.getTooltipEventType(),E=xi(A,Ui),P={};E&&j==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var R=qy(this.props,this.handleOuterEvent);return ue(ue({},R),P)}},{key:"addListener",value:function(){Cj.on(kj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cj.removeListener(kj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,j,E){for(var P=this.state.formattedGraphicalItems,R=0,C=P.length;R<C;R++){var I=P[R];if(I.item===A||I.props.key===A.key||j===Js(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,j=this.state.offset,E=j.left,P=j.top,R=j.height,C=j.width;return U.createElement("defs",null,U.createElement("clipPath",{id:A},U.createElement("rect",{x:E,y:P,height:R,width:C})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(j,E){var P=tF(E,2),R=P[0],C=P[1];return ue(ue({},j),{},rt({},R,C.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(j,E){var P=tF(E,2),R=P[0],C=P[1];return ue(ue({},j),{},rt({},R,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[A])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(A){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[A])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(A){var j=this.state,E=j.formattedGraphicalItems,P=j.activeItem;if(E&&E.length)for(var R=0,C=E.length;R<C;R++){var I=E[R],M=I.props,F=I.item,D=F.type.defaultProps!==void 0?ue(ue({},F.type.defaultProps),F.props):F.props,V=Js(F.type);if(V==="Bar"){var $=(M.data||[]).find(function(Q){return q0e(A,Q)});if($)return{graphicalItem:I,payload:$}}else if(V==="RadialBar"){var H=(M.data||[]).find(function(Q){return l$(A,Q)});if(H)return{graphicalItem:I,payload:H}}else if(g0(I,P)||v0(I,P)||mm(I,P)){var G=p_e({graphicalItem:I,activeTooltipItem:P,itemData:D.data}),Y=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:ue(ue({},I),{},{childIndex:Y}),payload:mm(I,P)?D.data[G]:I.props.data[G]}}}return null}},{key:"render",value:function(){var A=this;if(!xD(this))return null;var j=this.props,E=j.children,P=j.className,R=j.width,C=j.height,I=j.style,M=j.compact,F=j.title,D=j.desc,V=rF(j,BEe),$=Ge(V,!1);if(M)return U.createElement(L3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(WA,xp({},$,{width:R,height:C,title:F,desc:D}),this.renderClipPath(),wD(E,this.renderMap)));if(this.props.accessibilityLayer){var H,G;$.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,$.role=(G=this.props.role)!==null&&G!==void 0?G:"application",$.onKeyDown=function(Q){A.accessibilityManager.keyboardEvent(Q)},$.onFocus=function(){A.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return U.createElement(L3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",xp({className:ht("recharts-wrapper",P),style:ue({position:"relative",cursor:"default",width:R,height:C},I)},Y,{ref:function(W){A.container=W}}),U.createElement(WA,xp({},$,{width:R,height:C,title:F,desc:D,style:ije}),this.renderClipPath(),wD(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);return rt(_,"displayName",r),rt(_,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),rt(_,"getDerivedStateFromProps",function(b,x){var N=b.dataKey,A=b.data,j=b.children,E=b.width,P=b.height,R=b.layout,C=b.stackOffset,I=b.margin,M=x.dataStartIndex,F=x.dataEndIndex;if(x.updateId===void 0){var D=aF(b);return ue(ue(ue({},D),{},{updateId:0},y(ue(ue({props:b},D),{},{updateId:0}),x)),{},{prevDataKey:N,prevData:A,prevWidth:E,prevHeight:P,prevLayout:R,prevStackOffset:C,prevMargin:I,prevChildren:j})}if(N!==x.prevDataKey||A!==x.prevData||E!==x.prevWidth||P!==x.prevHeight||R!==x.prevLayout||C!==x.prevStackOffset||!xd(I,x.prevMargin)){var V=aF(b),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},H=ue(ue({},iF(x,A,R)),{},{updateId:x.updateId+1}),G=ue(ue(ue({},V),$),H);return ue(ue(ue({},G),y(ue({props:b},G),x)),{},{prevDataKey:N,prevData:A,prevWidth:E,prevHeight:P,prevLayout:R,prevStackOffset:C,prevMargin:I,prevChildren:j})}if(!qA(j,x.prevChildren)){var Y,Q,W,J,ee=xi(j,uf),q=ee&&(Y=(Q=ee.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&Y!==void 0?Y:M,X=ee&&(W=(J=ee.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:F,ae=q!==M||X!==F,be=!ft(A),Ae=be&&!ae?x.updateId:x.updateId+1;return ue(ue({updateId:Ae},y(ue(ue({props:b},x),{},{updateId:Ae,dataStartIndex:q,dataEndIndex:X}),x)),{},{prevChildren:j,dataStartIndex:q,dataEndIndex:X})}return null}),rt(_,"renderActiveDot",function(b,x,N){var A;return S.isValidElement(b)?A=S.cloneElement(b,x):at(b)?A=b(x):A=U.createElement(d0,x),U.createElement(Ot,{className:"recharts-active-dot",key:N},A)}),function(x){return U.createElement(_,x)}},pje=lk({chartName:"BarChart",GraphicalChild:uu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kf},{axisType:"yAxis",AxisComp:Yf}],formatAxisMap:TH}),mje=lk({chartName:"PieChart",GraphicalChild:wo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:m0},{axisType:"radiusAxis",AxisComp:h0}],formatAxisMap:mxe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),gje=lk({chartName:"AreaChart",GraphicalChild:Wl,axisComponents:[{axisType:"xAxis",AxisComp:Kf},{axisType:"yAxis",AxisComp:Yf}],formatAxisMap:TH});const sl=({data:t,title:e,dataKey:r="value",color:n="#00ffcc",height:i=300})=>o.jsxs("div",{className:"sci-fi-card",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:e}),o.jsx("div",{style:{width:"100%",height:i},children:o.jsx(jC,{width:"100%",height:"100%",children:o.jsxs(gje,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`color${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:n,stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:n,stopOpacity:0})]})}),o.jsx(ok,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),o.jsx(Kf,{dataKey:"date",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),o.jsx(Yf,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),o.jsx(Ui,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),o.jsx(Wl,{type:"monotone",dataKey:r,stroke:n,fillOpacity:1,fill:`url(#color${r})`})]})})})]}),ck="AIzaSyDzRb8YtCnJxJAw-ke3qvh8Z-cIt5KyxDA";console.log("Google Gemini API Key loaded:","Available");const oF=async t=>{try{const e=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":ck},body:JSON.stringify({contents:[{role:"user",parts:[{text:`As a nutrition expert, please provide 3 healthy food recommendations based on this query: "${t}". 
                For each recommendation, include a brief explanation of its nutritional benefits. 
                Format your response in a concise, easy-to-read way.`}]}],generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!e.ok)throw new Error(`Gemini API error: ${e.status}`);const r=await e.json();if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts&&r.candidates[0].content.parts.length>0)return r.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error getting food recommendations from Gemini:",e),"I'm sorry, but I couldn't generate food recommendations at the moment. Please try again later."}},uk=async t=>{try{const e=t.map(i=>({role:i.role,parts:[{text:i.content}]})),r=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":ck},body:JSON.stringify({contents:e,generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!r.ok)throw new Error(`Gemini API error: ${r.status}`);const n=await r.json();if(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0)return n.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error chatting with Gemini:",e),"I'm sorry, but I couldn't process your message at the moment. Please try again later."}},d7=async t=>{var e,r,n,i,a,s,l,u,f,h,p;try{const m=`
      As a nutrition expert, please analyze this food item and provide health insights:
      
      Name: ${t.name}
      Brand: ${t.brand||"N/A"}
      Calories: ${t.calories||0} kcal
      
      Nutrients:
      - Protein: ${((e=t.nutrients)==null?void 0:e.protein)||0}g
      - Carbs: ${((r=t.nutrients)==null?void 0:r.carbs)||0}g
      - Fat: ${((n=t.nutrients)==null?void 0:n.fat)||0}g
      - Fiber: ${((i=t.nutrients)==null?void 0:i.fiber)||0}g
      - Sugar: ${((a=t.nutrients)==null?void 0:a.sugar)||0}g
      
      ${((l=(s=t.details)==null?void 0:s.ingredients)==null?void 0:l.length)>0?`Ingredients: ${t.details.ingredients.join(", ")}`:""}
      
      ${((f=(u=t.details)==null?void 0:u.allergens)==null?void 0:f.length)>0?`Allergens: ${t.details.allergens.join(", ")}`:""}
      
      ${((p=(h=t.details)==null?void 0:h.additives)==null?void 0:p.length)>0?`Additives: ${t.details.additives.join(", ")}`:""}
      
      Please provide:
      1. A brief nutritional assessment (is it healthy, balanced, etc.)
      2. Key health benefits
      3. Any potential concerns
      4. A suggestion for how this food could fit into a healthy diet
      
      Keep your response concise and easy to understand.
    `,y=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":ck},body:JSON.stringify({contents:[{role:"user",parts:[{text:m}]}],generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!y.ok)throw new Error(`Gemini API error: ${y.status}`);const _=await y.json();if(_.candidates&&_.candidates.length>0&&_.candidates[0].content&&_.candidates[0].content.parts&&_.candidates[0].content.parts.length>0)return _.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(m){return console.error("Error analyzing food item with Gemini:",m),"I'm sorry, but I couldn't analyze this food item at the moment. Please try again later."}},lF=({activityLevel:t,weeklyAnswers:e,userId:r})=>{const[n,i]=S.useState(""),[a,s]=S.useState(!0),[l,u]=S.useState(t),[f,h]=S.useState(e),p=Jt(We),m=lr(We);S.useEffect(()=>{(async()=>{var b;if(t&&e){u(t),h(e);return}try{const x=p.currentUser||(r?{uid:r}:null);if(x){const N=await an(Dt(m,"users",x.uid));if(N.exists()){const A=N.data();u(A.activity_level||A.activityLevel),h(((b=A.weeklyCheckin)==null?void 0:b.answers)||A.weeklyAnswers)}}}catch(x){console.error("Error fetching user data:",x)}})()},[p,m,t,e,r]),S.useEffect(()=>{(async()=>{s(!0);try{const b=`
          As a fitness expert, provide a personalized activity recommendation based on the following user data:
          - Activity Level: ${l||"Unknown"}
          - Weekly Exercise Minutes: ${(f==null?void 0:f.exerciseMinutes)||"Unknown"}
          - Sleep Hours: ${(f==null?void 0:f.sleepHours)||"Unknown"}
          - Stress Level: ${(f==null?void 0:f.stressLevel)||"Unknown"}

          Provide a specific, actionable recommendation in 2-3 sentences. Start with "Based on your profile, I recommend...".
          If information is limited, provide general advice for beginners.
        `,x=await uk([{role:"user",content:b}]);i(x)}catch(b){console.error("Error generating activity recommendation:",b),i(y(l))}finally{s(!1)}})()},[l,f]);const y=_=>_==="Sedentary"?"Based on your sedentary activity level, I recommend starting with 15-minute walks a few times a week and gradually increasing the duration and intensity. Try to incorporate simple stretching exercises in the morning to improve flexibility.":_==="Lightly Active"?"Based on your lightly active profile, I recommend incorporating more moderate-intensity activities like brisk walking or cycling into your routine. Aim for 30 minutes of activity 5 days a week, and consider adding basic strength training twice weekly.":_==="Active"?"Based on your active lifestyle, I recommend maintaining your current activity level and consider adding more challenging workouts to further improve your fitness. Try incorporating interval training and varying your routine to prevent plateaus.":_==="Very Active"?"Based on your very active profile, I recommend continuing your active lifestyle while focusing on recovery and injury prevention. Consider adding yoga or mobility work, and ensure you are getting adequate nutrition to support your activity level.":"Based on your profile, I recommend consulting with a healthcare professional or certified trainer to determine the best activity plan for you. Start with activities you enjoy and gradually increase intensity as your fitness improves.";return a?o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(wa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Personalized Activity Recommendation"]})}),o.jsx(Vt,{className:"flex justify-center items-center py-8",children:o.jsx(Un,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(bT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Personalized Activity Recommendation"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-safebite-card-bg-alt p-4 rounded-md",children:o.jsx("p",{className:"text-safebite-text",children:n})}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(oe,{variant:"outline",className:"text-safebite-teal border-safebite-teal hover:bg-safebite-teal hover:text-white",onClick:()=>window.location.href="/healthbox",children:["Explore Health Tools",o.jsx(as,{className:"ml-2 h-4 w-4"})]})})]})})]})},dk=()=>{const[t,e]=S.useState(!1);return S.useEffect(()=>{const n=localStorage.getItem("userType");e(n==="guest")},[]),{isGuest:t,exitGuestMode:()=>{localStorage.removeItem("userType"),e(!1)}}},vje=({data:t})=>o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{children:"Food Group Consumption"})}),o.jsx(Vt,{children:o.jsx("div",{style:{width:"100%",height:300},children:o.jsx(jC,{width:"100%",height:"100%",children:o.jsxs(pje,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(ok,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),o.jsx(Kf,{dataKey:"foodGroup",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),o.jsx(Yf,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),o.jsx(Ui,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),o.jsx(wl,{}),o.jsx(uu,{dataKey:"value",fill:"#8884d8"})]})})})})]}),yje=({data:t,colors:e})=>{const r=t.reduce((i,a)=>i+a.value,0),n=i=>{const{cx:a,cy:s,midAngle:l,innerRadius:u,outerRadius:f,percent:h}=i,p=Math.PI/180,m=u+(f-u)*.5,y=a+m*Math.cos(-l*p),_=s+m*Math.sin(-l*p);return o.jsx("text",{x:y,y:_,fill:"white",textAnchor:y>a?"start":"end",dominantBaseline:"central",fontSize:12,children:`${(h*100).toFixed(0)}%`})};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{children:"Macronutrient Ratio"})}),o.jsx(Vt,{children:o.jsx("div",{style:{width:"100%",height:300},children:o.jsx(jC,{width:"100%",height:"100%",children:o.jsxs(mje,{children:[o.jsx(Ui,{formatter:i=>[`${i}g (${(Number(i)/r*100).toFixed(1)}%)`,"Amount"],contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),o.jsx(wo,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:n,children:t.map((i,a)=>o.jsx(Zb,{fill:e[a%e.length]},`cell-${a}`))}),o.jsx(wl,{formatter:(i,a,s)=>{const l=t[s];return`${i}: ${l.value}g (${(l.value/r*100).toFixed(0)}%)`}})]})})})})]})},xje=()=>{const t=Cn();return o.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-safebite-purple bg-safebite-purple/10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wi,{className:"mr-3 h-5 w-5 text-safebite-purple"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-safebite-text font-medium",children:"You're using SafeBite in guest mode"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Some features are limited. Create an account to access all features."})]})]}),o.jsx(oe,{onClick:()=>t("/auth/signup"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white",children:"Sign Up"})]})},bje=[{color:"bg-green-500",text:"Your protein intake is on track with your goals"},{color:"bg-yellow-500",text:"Consider increasing water intake by 2 cups"},{color:"bg-blue-500",text:"Your nutrient score has improved by 5% this week"},{color:"bg-purple-500",text:"You're 15 minutes short of your weekly exercise goal"}],wje=({insights:t=bje})=>{const e=[...t].sort((r,n)=>r.priority!==void 0&&n.priority!==void 0?n.priority-r.priority:0);return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{children:"Health Insights"})}),o.jsx(Vt,{children:o.jsx("ul",{className:"space-y-2 text-safebite-text-secondary",children:e.map((r,n)=>o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${r.color} mr-2`}),r.text]},n))})})]})},fk="https://safebite-backend.onrender.com/api";console.log("Backend API URL:",fk);console.log("Using API URL:",fk);const hk=t=>{let e=t.nutritionScore||"yellow";return t.nutritionScore||(t.nutrients.protein>15&&(t.nutrients.fiber||0)>3&&(t.nutrients.sugar||0)<10?e="green":(t.nutrients.fat>20||(t.nutrients.sugar||0)>15)&&(e="red")),{id:`mongodb-${t._id}`,name:t.name,brand:t.brand,calories:t.calories,nutritionScore:e,image:t.image||`https://source.unsplash.com/random/100x100/?${encodeURIComponent(t.name)}`,nutrients:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,fiber:t.nutrients.fiber,sugar:t.nutrients.sugar},details:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,sodium:t.nutrients.sodium||0,sugar:t.nutrients.sugar||0,calories:t.calories,ingredients:t.ingredients||[],allergens:t.allergens||[],additives:t.additives||[]},source:"MongoDB"}},_m=async t=>{const e=await Promise.allSettled([_je(t),Sje(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.warn("All MongoDB search methods failed or returned no results"),[]},_je=async t=>{try{const e=`${fk}/products/search?query=${encodeURIComponent(t)}`;console.log("Searching MongoDB via API:",e);const r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Origin:window.location.origin},mode:"cors",credentials:"omit",signal:r.signal});if(console.log("API response status:",i.status),clearTimeout(n),!i.ok)throw console.warn(`API error: ${i.status} - ${i.statusText}`),new Error(`API error: ${i.status} - ${i.statusText}`);const a=await i.json();return console.log(`Found ${a.length} products from MongoDB via API`),Array.isArray(a)?a.map(s=>hk(s)):(console.warn("API did not return an array:",a),[])}catch(e){return console.error("Error searching MongoDB via API:",e),[]}},Sje=async t=>{try{console.log("Trying direct Render backend...");const e=`https://safebite-backend.onrender.com/api/products/search?query=${encodeURIComponent(t)}`,r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:r.signal});if(clearTimeout(n),!i.ok)throw new Error(`Render API error: ${i.status}`);const a=await i.json();return console.log(`Found ${a.length} products from MongoDB via Render backend`),Array.isArray(a)?a.map(s=>hk(s)):(console.warn("Render API did not return an array:",a),[])}catch(e){return console.error("Render backend search failed:",e),[]}},f7=Object.freeze(Object.defineProperty({__proto__:null,convertProductToFoodItem:hk,searchProductsInMongoDB:_m},Symbol.toStringTag,{value:"Module"})),Eje=({userId:t,preferences:e=[]})=>{const[r,n]=S.useState([]),[i,a]=S.useState(!0),[s,l]=S.useState(null),{toast:u}=Vr(),f=Jt(We),h=lr(We);return S.useEffect(()=>{(async()=>{a(!0),l(null);try{let m=[...e];if(m.length===0&&f.currentUser)try{const b=await an(Dt(h,"users",f.currentUser.uid));if(b.exists()&&b.data().preferences&&(m=b.data().preferences),m.length===0&&b.data().questionnaire){const x=b.data().questionnaire;x.dietaryRestrictions&&m.push(...x.dietaryRestrictions),x.healthGoals&&m.push(...x.healthGoals)}}catch(b){console.error("Error fetching user preferences:",b)}m.length===0&&(m=["healthy","organic","natural"]);const y=m.slice(0,2).join(" ");console.log("Searching for products with query:",y);const _=await _m(y);if(_.length>0)n(_.slice(0,4));else{const b=await _m("healthy food");n(b.slice(0,4))}}catch(m){console.error("Error fetching product recommendations:",m),l("Unable to load product recommendations"),u({title:"Error",description:"Failed to load product recommendations",variant:"destructive"})}finally{a(!1)}})()},[f,h,e,u]),i?o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{className:"text-xl font-semibold text-safebite-text",children:"Product Recommendations"})}),o.jsx(Vt,{className:"flex justify-center items-center py-8",children:o.jsx(Un,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):s?o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{className:"text-xl font-semibold text-safebite-text",children:"Product Recommendations"})}),o.jsxs(Vt,{className:"text-center py-4",children:[o.jsx(wp,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-2"}),o.jsx("p",{className:"text-safebite-text-secondary",children:s})]})]}):o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(Q2,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Product Recommendations"]})}),o.jsxs(Vt,{children:[r.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((p,m)=>o.jsx(Fe,{className:"overflow-hidden border-safebite-card-bg-alt hover:border-safebite-teal transition-colors",children:o.jsxs("div",{className:"flex items-center p-3",children:[o.jsx("div",{className:"h-16 w-16 rounded-md bg-safebite-card-bg-alt flex items-center justify-center mr-3",children:p.image?o.jsx("img",{src:p.image,alt:p.name,className:"h-14 w-14 object-cover rounded"}):o.jsx(Q2,{className:"h-8 w-8 text-safebite-text-secondary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-safebite-text line-clamp-1",children:p.name}),o.jsxs("div",{className:"flex items-center mt-1",children:[p.nutritionScore&&o.jsx(Mt,{className:`mr-2 ${p.nutritionScore==="green"?"bg-green-500":p.nutritionScore==="yellow"?"bg-yellow-500":"bg-red-500"}`,children:p.nutritionScore==="green"?"Healthy":p.nutritionScore==="yellow"?"Moderate":"Unhealthy"}),p.brand&&o.jsx("span",{className:"text-xs text-safebite-text-secondary",children:p.brand})]})]})]})},m))}):o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-safebite-text-secondary",children:"No product recommendations available"})}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(oe,{variant:"outline",className:"text-safebite-teal border-safebite-teal hover:bg-safebite-teal hover:text-white",onClick:()=>window.location.href="/food-search",children:["Explore More Products",o.jsx(as,{className:"ml-2 h-4 w-4"})]})})]})]})},jje=({userId:t})=>{const[e,r]=S.useState([]),[n,i]=S.useState(!0),[a,s]=S.useState(null),{toast:l}=Vr(),u=Jt(We),f=lr(We);return S.useEffect(()=>{(async()=>{var p,m,y;i(!0),s(null);try{let _={},b="there";if(u.currentUser)try{const E=await an(Dt(f,"users",u.currentUser.uid));E.exists()&&(_=E.data(),b=_.displayName||_.name||u.currentUser.displayName||"there")}catch(E){console.error("Error fetching user data:",E)}let x=`User name: ${b}
`;if(_.questionnaire){const E=_.questionnaire;x+=`Age: ${E.age||"Unknown"}
`,x+=`Gender: ${E.gender||"Unknown"}
`,x+=`Height: ${E.height||"Unknown"}
`,x+=`Weight: ${E.weight||"Unknown"}
`,x+=`Activity Level: ${E.activityLevel||"Unknown"}
`,x+=`Health Goals: ${((p=E.healthGoals)==null?void 0:p.join(", "))||"Unknown"}
`,x+=`Dietary Restrictions: ${((m=E.dietaryRestrictions)==null?void 0:m.join(", "))||"None"}
`,x+=`Medical Conditions: ${((y=E.medicalConditions)==null?void 0:y.join(", "))||"None"}
`}_.foodPreferences&&(x+=`Food Preferences: ${_.foodPreferences.join(", ")}
`),_.recentSearches&&(x+=`Recent Food Searches: ${_.recentSearches.join(", ")}
`);const N=`
        Based on the following user information, provide 3 personalized health and nutrition recommendations. 
        Format each recommendation as a concise, actionable bullet point that's friendly and encouraging.
        
        User Information:
        ${x}
        
        If information is limited, provide general healthy eating and lifestyle recommendations.
        
        Your response should ONLY include the 3 bullet points, nothing else.
        `,j=(await uk([{role:"user",content:N}])).split(`
`).map(E=>E.trim()).filter(E=>E.startsWith("•")||E.startsWith("-")||E.startsWith("*")||/^\d+\./.test(E)).map(E=>E.replace(/^[•\-*]\s*|^\d+\.\s*/,""));j.length>0?r(j):r(["Try to include more colorful vegetables in your meals for better nutrition.","Stay hydrated by drinking at least 8 glasses of water daily.","Consider adding more plant-based proteins to your diet for heart health."])}catch(_){console.error("Error generating AI recommendations:",_),s("Unable to generate personalized recommendations"),r(["Try to include more colorful vegetables in your meals for better nutrition.","Stay hydrated by drinking at least 8 glasses of water daily.","Consider adding more plant-based proteins to your diet for heart health."])}finally{i(!1)}})()},[u,f,l]),n?o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{className:"text-xl font-semibold text-safebite-text",children:"AI Health Insights"})}),o.jsx(Vt,{className:"flex justify-center items-center py-8",children:o.jsx(Un,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(fV,{className:"mr-2 h-5 w-5 text-safebite-purple"}),"AI Health Insights"]})}),o.jsxs(Vt,{children:[o.jsx("div",{className:"space-y-4",children:e.map((h,p)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"h-6 w-6 rounded-full bg-safebite-purple/20 flex items-center justify-center mr-3 mt-0.5",children:o.jsx(Md,{className:"h-3.5 w-3.5 text-safebite-purple"})}),o.jsx("p",{className:"text-safebite-text flex-1",children:h})]},p))}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsxs(oe,{variant:"outline",className:"text-safebite-purple border-safebite-purple hover:bg-safebite-purple hover:text-white",onClick:()=>window.location.href="/healthbox",children:["Explore Health Tools",o.jsx(as,{className:"ml-2 h-4 w-4"})]})})]})]})},cF={"Weight Loss":["Sprouts","Ragi","Daliya","Makhana","Moong Dal Chilla"],"Muscle Gain":["Eggs","Chicken Breast","Greek Yogurt","Salmon","Quinoa"],"Heart Health":["Walnuts","Almonds","Oats","Olive Oil","Berries"],"Diabetes Management":["Bitter Gourd","Fenugreek","Cinnamon","Amla","Flaxseeds"],"General Health":["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"],"Digestive Health":["Yogurt","Papaya","Ginger","Fennel Seeds","Banana"],"Immune Boost":["Citrus Fruits","Turmeric","Garlic","Spinach","Almonds"]},Aje=["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"],Nje=({userId:t,healthGoal:e})=>{const[r,n]=S.useState([]),[i,a]=S.useState(!0),[s,l]=S.useState(e);Vr();const u=Jt(We),f=lr(We);return S.useEffect(()=>{(async()=>{a(!0);try{if(e)l(e);else if(u.currentUser)try{const p=await an(Dt(f,"users",u.currentUser.uid));if(p.exists()){const m=p.data();l(m.health_goals||m.healthGoals||"General Health")}}catch(p){console.error("Error fetching user data:",p)}}catch(p){console.error("Error in food recommendations:",p)}finally{a(!1)}})()},[u,f,e]),S.useEffect(()=>{s&&cF[s]?n(cF[s]):n(Aje)},[s]),i?o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{className:"text-xl font-semibold text-safebite-text",children:"Food Recommendations"})}),o.jsx(Vt,{className:"flex justify-center items-center py-8",children:o.jsx(Un,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx($Y,{className:"mr-2 h-5 w-5 text-green-500"}),"Food Recommendations ",s?`for ${s}`:""]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Try these healthy options:"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:r.map((h,p)=>o.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 flex items-center",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-green-500/20 flex items-center justify-center mr-3",children:o.jsx(hY,{className:"h-4 w-4 text-green-500"})}),o.jsx("span",{className:"text-safebite-text",children:h})]},p))}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(oe,{variant:"outline",className:"text-green-500 border-green-500 hover:bg-green-500 hover:text-white",onClick:()=>window.location.href="/food-search",children:["Explore Foods",o.jsx(as,{className:"ml-2 h-4 w-4"})]})})]})})]})},Tje=(t,e)=>{const r=[];if(!t)return Pje();const n=t.activity_level||"",i=t.health_goals||"",a=t.health_conditions||"",s=t.dietary_restrictions||"",l=(e==null?void 0:e.home_cooked)||0,u=(e==null?void 0:e.water_intake)||0,f=(e==null?void 0:e.junk_food)||0,h=(e==null?void 0:e.exercise)||0,p=(e==null?void 0:e.energy_level)||"";return n==="Sedentary"?r.push({text:"Try to incorporate more movement into your day, even short walks help",color:"bg-yellow-500",priority:8}):n==="Lightly Active"&&r.push({text:"Consider adding 1-2 strength training sessions to your weekly routine",color:"bg-blue-500",priority:6}),i==="Weight Loss"?(r.push({text:"Focus on protein-rich foods to help maintain muscle while losing fat",color:"bg-green-500",priority:9}),f>5&&r.push({text:`You had ${f} junk food meals this week. Try to reduce by 2 next week`,color:"bg-red-500",priority:10})):i==="Muscle Gain"?r.push({text:"Ensure you're getting 1.6-2.2g of protein per kg of bodyweight daily",color:"bg-blue-500",priority:9}):i==="General Health"&&r.push({text:"Aim for 5+ servings of different colored vegetables and fruits daily",color:"bg-green-500",priority:7}),a==="Diabetes"?r.push({text:"Monitor your carbohydrate intake and focus on low glycemic index foods",color:"bg-purple-500",priority:10}):a==="Hypertension"?r.push({text:"Reduce sodium intake and increase potassium-rich foods like bananas",color:"bg-purple-500",priority:10}):a==="Heart Issues"&&r.push({text:"Include omega-3 rich foods like fatty fish, walnuts, and flaxseeds",color:"bg-purple-500",priority:10}),l<10&&r.push({text:`You only had ${l} home-cooked meals. Aim for 14+ per week`,color:"bg-yellow-500",priority:8}),u<8&&r.push({text:`Your water intake (${u} glasses/day) is below recommended. Aim for 8+`,color:"bg-yellow-500",priority:9}),h<150&&r.push({text:`You exercised for ${h} minutes this week. Aim for 150+ minutes`,color:"bg-red-500",priority:8}),(p==="Low"||p==="Very Low")&&r.push({text:"Your energy levels are low. Consider improving sleep quality and reducing stress",color:"bg-red-500",priority:7}),s==="Vegetarian"?r.push({text:"Ensure you're getting enough vitamin B12 and iron from plant sources",color:"bg-green-500",priority:6}):s==="Vegan"?r.push({text:"Consider supplementing with vitamin B12, D3, and omega-3 fatty acids",color:"bg-green-500",priority:7}):s==="Gluten-Free"&&r.push({text:"Focus on naturally gluten-free whole grains like rice, quinoa, and millet",color:"bg-green-500",priority:6}),r.sort((m,y)=>y.priority-m.priority).slice(0,4)},Pje=()=>[{text:"Stay hydrated by drinking at least 8 glasses of water daily",color:"bg-blue-500",priority:5},{text:"Aim for 5+ servings of vegetables and fruits each day",color:"bg-green-500",priority:5},{text:"Try to get at least 150 minutes of moderate exercise weekly",color:"bg-yellow-500",priority:5},{text:"Prioritize 7-9 hours of quality sleep each night",color:"bg-purple-500",priority:5}];var Oj="focusScope.autoFocusOnMount",Rj="focusScope.autoFocusOnUnmount",uF={bubbles:!1,cancelable:!0},Cje="FocusScope",pk=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[l,u]=S.useState(null),f=qn(i),h=qn(a),p=S.useRef(null),m=Nt(e,b=>u(b)),y=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let b=function(j){if(y.paused||!l)return;const E=j.target;l.contains(E)?p.current=E:el(p.current,{select:!0})},x=function(j){if(y.paused||!l)return;const E=j.relatedTarget;E!==null&&(l.contains(E)||el(p.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const P of j)P.removedNodes.length>0&&el(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const A=new MutationObserver(N);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),A.disconnect()}}},[n,l,y.paused]),S.useEffect(()=>{if(l){fF.add(y);const b=document.activeElement;if(!l.contains(b)){const N=new CustomEvent(Oj,uF);l.addEventListener(Oj,f),l.dispatchEvent(N),N.defaultPrevented||(kje(Dje(h7(l)),{select:!0}),document.activeElement===b&&el(l))}return()=>{l.removeEventListener(Oj,f),setTimeout(()=>{const N=new CustomEvent(Rj,uF);l.addEventListener(Rj,h),l.dispatchEvent(N),N.defaultPrevented||el(b??document.body,{select:!0}),l.removeEventListener(Rj,h),fF.remove(y)},0)}}},[l,f,h,y]);const _=S.useCallback(b=>{if(!r&&!n||y.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(x&&N){const A=b.currentTarget,[j,E]=Ije(A);j&&E?!b.shiftKey&&N===E?(b.preventDefault(),r&&el(j,{select:!0})):b.shiftKey&&N===j&&(b.preventDefault(),r&&el(E,{select:!0})):N===A&&b.preventDefault()}},[r,n,y.paused]);return o.jsx(He.div,{tabIndex:-1,...s,ref:m,onKeyDown:_})});pk.displayName=Cje;function kje(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(el(n,{select:e}),document.activeElement!==r)return}function Ije(t){const e=h7(t),r=dF(e,t),n=dF(e.reverse(),t);return[r,n]}function h7(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function dF(t,e){for(const r of t)if(!Oje(r,{upTo:e}))return r}function Oje(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rje(t){return t instanceof HTMLInputElement&&"select"in t}function el(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Rje(t)&&e&&t.select()}}var fF=Mje();function Mje(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=hF(t,e),t.unshift(e)},remove(e){var r;t=hF(t,e),(r=t[0])==null||r.resume()}}}function hF(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Dje(t){return t.filter(e=>e.tagName!=="A")}var Mj=0;function p7(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??pF()),document.body.insertAdjacentElement("beforeend",t[1]??pF()),Mj++,()=>{Mj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Mj--}},[])}function pF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sy="right-scroll-bar-position",oy="width-before-scroll-bar",Lje="with-scroll-bars-hidden",$je="--removed-body-scroll-bar-size";function Dj(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Fje(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Vje=typeof window<"u"?S.useLayoutEffect:S.useEffect,mF=new WeakMap;function Bje(t,e){var r=Fje(null,function(n){return t.forEach(function(i){return Dj(i,n)})});return Vje(function(){var n=mF.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(l){a.has(l)||Dj(l,null)}),a.forEach(function(l){i.has(l)||Dj(l,s)})}mF.set(r,t)},[t]),r}function Uje(t){return t}function zje(t,e){e===void 0&&(e=Uje);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(a),s=r}var u=function(){var h=s;s=[],h.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(h){s.push(h),f()},filter:function(h){return s=s.filter(h),r}}}};return i}function qje(t){t===void 0&&(t={});var e=zje(null);return e.options=ts({async:!0,ssr:!1},t),e}var m7=function(t){var e=t.sideCar,r=km(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,ts({},r))};m7.isSideCarExport=!0;function Hje(t,e){return t.useMedium(e),m7}var g7=qje(),Lj=function(){},E0=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:Lj,onWheelCapture:Lj,onTouchMoveCapture:Lj}),i=n[0],a=n[1],s=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,y=t.noIsolation,_=t.inert,b=t.allowPinchZoom,x=t.as,N=x===void 0?"div":x,A=t.gapMode,j=km(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,P=Bje([r,e]),R=ts(ts({},j),i);return S.createElement(S.Fragment,null,h&&S.createElement(E,{sideCar:g7,removeScrollBar:f,shards:p,noIsolation:y,inert:_,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:A}),s?S.cloneElement(S.Children.only(l),ts(ts({},R),{ref:P})):S.createElement(N,ts({},R,{className:u,ref:P}),l))});E0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};E0.classNames={fullWidth:oy,zeroRight:sy};var Wje=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gje(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Wje();return e&&t.setAttribute("nonce",e),t}function Kje(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Yje(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Qje=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Gje())&&(Kje(e,r),Yje(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Xje=function(){var t=Qje();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},v7=function(){var t=Xje(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Jje={left:0,top:0,right:0,gap:0},$j=function(t){return parseInt(t||"",10)||0},Zje=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[$j(r),$j(n),$j(i)]},eAe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Jje;var e=Zje(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},tAe=v7(),Sd="data-scroll-locked",rAe=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Lje,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Sd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(oy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sy," .").concat(sy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(oy," .").concat(oy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Sd,`] {
    `).concat($je,": ").concat(l,`px;
  }
`)},gF=function(){var t=parseInt(document.body.getAttribute(Sd)||"0",10);return isFinite(t)?t:0},nAe=function(){S.useEffect(function(){return document.body.setAttribute(Sd,(gF()+1).toString()),function(){var t=gF()-1;t<=0?document.body.removeAttribute(Sd):document.body.setAttribute(Sd,t.toString())}},[])},iAe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;nAe();var a=S.useMemo(function(){return eAe(i)},[i]);return S.createElement(tAe,{styles:rAe(a,!e,i,r?"":"!important")})},lT=!1;if(typeof window<"u")try{var Fv=Object.defineProperty({},"passive",{get:function(){return lT=!0,!0}});window.addEventListener("test",Fv,Fv),window.removeEventListener("test",Fv,Fv)}catch{lT=!1}var Xu=lT?{passive:!1}:!1,aAe=function(t){return t.tagName==="TEXTAREA"},y7=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!aAe(t)&&r[e]==="visible")},sAe=function(t){return y7(t,"overflowY")},oAe=function(t){return y7(t,"overflowX")},vF=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=x7(t,n);if(i){var a=b7(t,n),s=a[1],l=a[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lAe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},cAe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},x7=function(t,e){return t==="v"?sAe(e):oAe(e)},b7=function(t,e){return t==="v"?lAe(e):cAe(e)},uAe=function(t,e){return t==="h"&&e==="rtl"?-1:1},dAe=function(t,e,r,n,i){var a=uAe(t,window.getComputedStyle(e).direction),s=a*n,l=r.target,u=e.contains(l),f=!1,h=s>0,p=0,m=0;do{var y=b7(t,l),_=y[0],b=y[1],x=y[2],N=b-x-a*_;(_||N)&&x7(t,l)&&(p+=N,m+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(m)<1)&&(f=!0),f},Vv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yF=function(t){return[t.deltaX,t.deltaY]},xF=function(t){return t&&"current"in t?t.current:t},fAe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hAe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pAe=0,Ju=[];function mAe(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(pAe++)[0],a=S.useState(v7)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Hte([t.lockRef.current],(t.shards||[]).map(xF),!0).filter(Boolean);return b.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(b,x){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var N=Vv(b),A=r.current,j="deltaX"in b?b.deltaX:A[0]-N[0],E="deltaY"in b?b.deltaY:A[1]-N[1],P,R=b.target,C=Math.abs(j)>Math.abs(E)?"h":"v";if("touches"in b&&C==="h"&&R.type==="range")return!1;var I=vF(C,R);if(!I)return!0;if(I?P=C:(P=C==="v"?"h":"v",I=vF(C,R)),!I)return!1;if(!n.current&&"changedTouches"in b&&(j||E)&&(n.current=P),!P)return!0;var M=n.current||P;return dAe(M,x,b,M==="h"?j:E)},[]),u=S.useCallback(function(b){var x=b;if(!(!Ju.length||Ju[Ju.length-1]!==a)){var N="deltaY"in x?yF(x):Vv(x),A=e.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&fAe(P.delta,N)})[0];if(A&&A.should){x.cancelable&&x.preventDefault();return}if(!A){var j=(s.current.shards||[]).map(xF).filter(Boolean).filter(function(P){return P.contains(x.target)}),E=j.length>0?l(x,j[0]):!s.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),f=S.useCallback(function(b,x,N,A){var j={name:b,delta:x,target:N,should:A,shadowParent:gAe(N)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(E){return E!==j})},1)},[]),h=S.useCallback(function(b){r.current=Vv(b),n.current=void 0},[]),p=S.useCallback(function(b){f(b.type,yF(b),b.target,l(b,t.lockRef.current))},[]),m=S.useCallback(function(b){f(b.type,Vv(b),b.target,l(b,t.lockRef.current))},[]);S.useEffect(function(){return Ju.push(a),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Xu),document.addEventListener("touchmove",u,Xu),document.addEventListener("touchstart",h,Xu),function(){Ju=Ju.filter(function(b){return b!==a}),document.removeEventListener("wheel",u,Xu),document.removeEventListener("touchmove",u,Xu),document.removeEventListener("touchstart",h,Xu)}},[]);var y=t.removeScrollBar,_=t.inert;return S.createElement(S.Fragment,null,_?S.createElement(a,{styles:hAe(i)}):null,y?S.createElement(iAe,{gapMode:t.gapMode}):null)}function gAe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vAe=Hje(g7,mAe);var mk=S.forwardRef(function(t,e){return S.createElement(E0,ts({},t,{ref:e,sideCar:vAe}))});mk.classNames=E0.classNames;var yAe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zu=new WeakMap,Bv=new WeakMap,Uv={},Fj=0,w7=function(t){return t&&(t.host||w7(t.parentNode))},xAe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=w7(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},bAe=function(t,e,r,n){var i=xAe(e,Array.isArray(t)?t:[t]);Uv[r]||(Uv[r]=new WeakMap);var a=Uv[r],s=[],l=new Set,u=new Set(i),f=function(p){!p||l.has(p)||(l.add(p),f(p.parentNode))};i.forEach(f);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(n),_=y!==null&&y!=="false",b=(Zu.get(m)||0)+1,x=(a.get(m)||0)+1;Zu.set(m,b),a.set(m,x),s.push(m),b===1&&_&&Bv.set(m,!0),x===1&&m.setAttribute(r,"true"),_||m.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return h(e),l.clear(),Fj++,function(){s.forEach(function(p){var m=Zu.get(p)-1,y=a.get(p)-1;Zu.set(p,m),a.set(p,y),m||(Bv.has(p)||p.removeAttribute(n),Bv.delete(p)),y||p.removeAttribute(r)}),Fj--,Fj||(Zu=new WeakMap,Zu=new WeakMap,Bv=new WeakMap,Uv={})}},_7=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=yAe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),bAe(n,i,r,"aria-hidden")):function(){return null}},gk="Dialog",[S7,ePe]=Oa(gk),[wAe,Da]=S7(gk),E7=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,l=S.useRef(null),u=S.useRef(null),[f=!1,h]=Ta({prop:n,defaultProp:i,onChange:a});return o.jsx(wAe,{scope:e,triggerRef:l,contentRef:u,contentId:Ys(),titleId:Ys(),descriptionId:Ys(),open:f,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(p=>!p),[h]),modal:s,children:r})};E7.displayName=gk;var j7="DialogTrigger",_Ae=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Da(j7,r),a=Nt(e,i.triggerRef);return o.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xk(i.open),...n,ref:a,onClick:Be(t.onClick,i.onOpenToggle)})});_Ae.displayName=j7;var vk="DialogPortal",[SAe,A7]=S7(vk,{forceMount:void 0}),N7=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Da(vk,e);return o.jsx(SAe,{scope:e,forceMount:r,children:S.Children.map(n,s=>o.jsx(mo,{present:r||a.open,children:o.jsx(Hx,{asChild:!0,container:i,children:s})}))})};N7.displayName=vk;var Vx="DialogOverlay",T7=S.forwardRef((t,e)=>{const r=A7(Vx,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Da(Vx,t.__scopeDialog);return a.modal?o.jsx(mo,{present:n||a.open,children:o.jsx(EAe,{...i,ref:e})}):null});T7.displayName=Vx;var EAe=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Da(Vx,r);return o.jsx(mk,{as:Fc,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(He.div,{"data-state":xk(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Jc="DialogContent",P7=S.forwardRef((t,e)=>{const r=A7(Jc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Da(Jc,t.__scopeDialog);return o.jsx(mo,{present:n||a.open,children:a.modal?o.jsx(jAe,{...i,ref:e}):o.jsx(AAe,{...i,ref:e})})});P7.displayName=Jc;var jAe=S.forwardRef((t,e)=>{const r=Da(Jc,t.__scopeDialog),n=S.useRef(null),i=Nt(e,r.contentRef,n);return S.useEffect(()=>{const a=n.current;if(a)return _7(a)},[]),o.jsx(C7,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Be(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:Be(t.onFocusOutside,a=>a.preventDefault())})}),AAe=S.forwardRef((t,e)=>{const r=Da(Jc,t.__scopeDialog),n=S.useRef(!1),i=S.useRef(!1);return o.jsx(C7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((f=r.triggerRef.current)==null?void 0:f.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),C7=S.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,l=Da(Jc,r),u=S.useRef(null),f=Nt(e,u);return p7(),o.jsxs(o.Fragment,{children:[o.jsx(pk,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(jm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xk(l.open),...s,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(NAe,{titleId:l.titleId}),o.jsx(PAe,{contentRef:u,descriptionId:l.descriptionId})]})]})}),yk="DialogTitle",k7=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Da(yk,r);return o.jsx(He.h2,{id:i.titleId,...n,ref:e})});k7.displayName=yk;var I7="DialogDescription",O7=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Da(I7,r);return o.jsx(He.p,{id:i.descriptionId,...n,ref:e})});O7.displayName=I7;var R7="DialogClose",M7=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Da(R7,r);return o.jsx(He.button,{type:"button",...n,ref:e,onClick:Be(t.onClick,()=>i.onOpenChange(!1))})});M7.displayName=R7;function xk(t){return t?"open":"closed"}var D7="DialogTitleWarning",[tPe,L7]=NK(D7,{contentName:Jc,titleName:yk,docsSlug:"dialog"}),NAe=({titleId:t})=>{const e=L7(D7),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},TAe="DialogDescriptionWarning",PAe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L7(TAe).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},CAe=E7,kAe=N7,$7=T7,F7=P7,V7=k7,B7=O7,IAe=M7;const OAe=CAe,RAe=kAe,U7=S.forwardRef(({className:t,...e},r)=>o.jsx($7,{ref:r,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));U7.displayName=$7.displayName;const z7=S.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(RAe,{children:[o.jsx(U7,{}),o.jsxs(F7,{ref:n,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(IAe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Qi,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));z7.displayName=F7.displayName;const q7=({className:t,...e})=>o.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});q7.displayName="DialogHeader";const H7=({className:t,...e})=>o.jsx("div",{className:Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});H7.displayName="DialogFooter";const W7=S.forwardRef(({className:t,...e},r)=>o.jsx(V7,{ref:r,className:Ze("text-lg font-semibold leading-none tracking-tight",t),...e}));W7.displayName=V7.displayName;const G7=S.forwardRef(({className:t,...e},r)=>o.jsx(B7,{ref:r,className:Ze("text-sm text-muted-foreground",t),...e}));G7.displayName=B7.displayName;var bk="Checkbox",[MAe,rPe]=Oa(bk),[DAe,LAe]=MAe(bk),K7=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:u="on",onCheckedChange:f,form:h,...p}=t,[m,y]=S.useState(null),_=Nt(e,E=>y(E)),b=S.useRef(!1),x=m?h||!!m.closest("form"):!0,[N=!1,A]=Ta({prop:i,defaultProp:a,onChange:f}),j=S.useRef(N);return S.useEffect(()=>{const E=m==null?void 0:m.form;if(E){const P=()=>A(j.current);return E.addEventListener("reset",P),()=>E.removeEventListener("reset",P)}},[m,A]),o.jsxs(DAe,{scope:r,state:N,disabled:l,children:[o.jsx(He.button,{type:"button",role:"checkbox","aria-checked":Sl(N)?"mixed":N,"aria-required":s,"data-state":X7(N),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:_,onKeyDown:Be(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Be(t.onClick,E=>{A(P=>Sl(P)?!0:!P),x&&(b.current=E.isPropagationStopped(),b.current||E.stopPropagation())})}),x&&o.jsx($Ae,{control:m,bubbles:!b.current,name:n,value:u,checked:N,required:s,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Sl(a)?!1:a})]})});K7.displayName=bk;var Y7="CheckboxIndicator",Q7=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=LAe(Y7,r);return o.jsx(mo,{present:n||Sl(a.state)||a.state===!0,children:o.jsx(He.span,{"data-state":X7(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Q7.displayName=Y7;var $Ae=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,s=S.useRef(null),l=Um(r),u=Tm(e);S.useEffect(()=>{const h=s.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==r&&y){const _=new Event("click",{bubbles:n});h.indeterminate=Sl(r),y.call(h,Sl(r)?!1:r),h.dispatchEvent(_)}},[l,r,n]);const f=S.useRef(Sl(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...a,tabIndex:-1,ref:s,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sl(t){return t==="indeterminate"}function X7(t){return Sl(t)?"indeterminate":t?"checked":"unchecked"}var J7=K7,FAe=Q7;const wk=S.forwardRef(({className:t,...e},r)=>o.jsx(J7,{ref:r,className:Ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(FAe,{className:Ze("flex items-center justify-center text-current"),children:o.jsx(Rd,{className:"h-4 w-4"})})}));wk.displayName=J7.displayName;const VAe=({onAccept:t})=>{const[e,r]=S.useState(!1),[n,i]=S.useState(!1),[a,s]=S.useState(!1),l=Jt(We),u=lr(We),{toast:f}=Vr();S.useEffect(()=>{(async()=>{var _;const y=l.currentUser;if(!y){const b=localStorage.getItem("termsAcceptedDate"),x=new Date().toDateString();b!==x&&r(!0);return}try{const b=Dt(u,"users",y.uid),x=await an(b);if(x.exists()){const j=(_=(x.data().termsAcceptance||{}).lastAccepted)==null?void 0:_.toDate();(!j||!h(j,new Date))&&r(!0)}else r(!0)}catch(b){console.error("Error checking terms acceptance:",b);const x=localStorage.getItem("termsAcceptedDate"),N=new Date().toDateString();x!==N&&r(!0)}})()},[l,u]);const h=(m,y)=>m.getFullYear()===y.getFullYear()&&m.getMonth()===y.getMonth()&&m.getDate()===y.getDate(),p=async()=>{var m;if(n){s(!0);try{const y=l.currentUser,_=new Date;if(localStorage.setItem("termsAcceptedDate",_.toDateString()),y){const b=Dt(u,"users",y.uid),x=await an(b),N=x.exists()?x.data():{},A={lastAccepted:er.fromDate(_),acceptanceHistory:[...((m=N.termsAcceptance)==null?void 0:m.acceptanceHistory)||[],er.fromDate(_)],version:"1.0",userAgent:navigator.userAgent,ipAddress:"Collected server-side"};await zn(b,{termsAcceptance:A},{merge:!0}),f({title:"Terms Accepted",description:"Your acceptance has been recorded."})}r(!1),t()}catch(y){console.error("Error saving terms acceptance:",y),f({title:"Error",description:"Could not save your acceptance. Please try again.",variant:"destructive"})}finally{s(!1)}}};return o.jsx(OAe,{open:e,onOpenChange:r,children:o.jsxs(z7,{className:"sm:max-w-[500px]",children:[o.jsxs(q7,{children:[o.jsx(W7,{className:"text-xl font-bold text-safebite-text",children:"Important Notice"}),o.jsx(G7,{className:"text-safebite-text-secondary",children:"Please read and accept our terms before continuing"})]}),o.jsxs("div",{className:"space-y-4 my-4 text-safebite-text-secondary",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-bold text-red-400",children:"Development Notice:"})," This website is currently under development and is part of an engineering project at IFHE Hyderabad."]}),o.jsx("p",{className:"text-sm",children:"By using SafeBite, you acknowledge that:"}),o.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-2",children:[o.jsx("li",{children:"We collect and process your data to improve our product and services"}),o.jsx("li",{children:"All data used in this application is either publicly available or used under fair use principles"}),o.jsx("li",{children:"This is an educational project and not a commercial product"}),o.jsx("li",{children:"The nutritional information provided may not be 100% accurate and should not replace professional medical advice"})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[o.jsx(wk,{id:"terms",checked:n,onCheckedChange:m=>i(m)}),o.jsx(dt,{htmlFor:"terms",className:"text-sm font-medium leading-none cursor-pointer",children:"I accept the terms and conditions and privacy policy"})]})]}),o.jsx(H7,{children:o.jsx(oe,{onClick:p,disabled:!n||a,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:a?"Saving...":"Accept & Continue"})})]})})},BAe=async t=>{try{if(!t)return console.log("No user ID provided for notifications"),[];const e=lr(We),r=Wd(e,"users",t,"notifications"),n=$P(r,BP("timestamp","desc"),zP(10)),i=await HP(n),a=[];return i.forEach(s=>{var u;const l=s.data();a.push({id:s.id,title:l.title||"Notification",message:l.message||"",type:l.type||"info",timestamp:((u=l.timestamp)==null?void 0:u.toDate())||new Date,read:l.read||!1,link:l.link,icon:l.icon})}),a}catch(e){return console.error("Error getting user notifications:",e),[]}},UAe=async t=>{try{if(!t)return console.log("No user ID provided for food safety alerts"),[];const e=lr(We),r=Wd(e,"foodSafetyAlerts"),n=$P(r,kle("affectedUsers","array-contains",t),BP("timestamp","desc"),zP(5)),i=await HP(n),a=[];return i.forEach(s=>{var u;const l=s.data();a.push({id:s.id,title:l.title||"Food Safety Alert",message:l.message||"",type:"alert",timestamp:((u=l.timestamp)==null?void 0:u.toDate())||new Date,read:l.read||!1,link:l.link,icon:l.icon})}),a}catch(e){return console.error("Error getting food safety alerts:",e),[]}},zAe=t=>{var a,s,l,u;const e=[];(!((a=t==null?void 0:t.profile)!=null&&a.dietary_preferences)||!((s=t==null?void 0:t.profile)!=null&&s.health_goals))&&e.push({id:"system-profile",title:"Complete Your Profile",message:"Please complete your health profile to get personalized recommendations.",type:"info",timestamp:new Date,read:!1,link:"/settings"});const r=new Date,n=(u=(l=t==null?void 0:t.weeklyCheckin)==null?void 0:l.timestamp)==null?void 0:u.toDate(),i=new Date(r.getTime()-7*24*60*60*1e3);return(!n||n<i)&&e.push({id:"system-weekly-checkin",title:"Weekly Check-in",message:"It's time for your weekly health check-in.",type:"info",timestamp:new Date,read:!1,link:"/weekly-questions"}),e},Z7=async(t,e)=>{try{const r=await BAe(t),n=await UAe(t),i=zAe(e);return[...r,...n,...i]}catch(r){return console.error("Error getting all notifications:",r),[]}},qAe=({isOpen:t,onClose:e,userData:r})=>{const[n,i]=S.useState([]),[a,s]=S.useState(!0),l=Cn(),u=Jt(We),f=lr(We),h=u.currentUser;S.useEffect(()=>{(async()=>{if(h&&t){s(!0);try{const _=await Z7(h.uid,r);i(_)}catch(_){console.error("Error fetching notifications:",_)}finally{s(!1)}}})()},[h,t,r]);const p=async y=>{if(h&&!y.read)try{const _=Dt(f,"users",h.uid,"notifications",y.id);await P8(_,{read:!0}),i(b=>b.map(x=>x.id===y.id?{...x,read:!0}:x))}catch(_){console.error("Error marking notification as read:",_)}y.link&&(l(y.link),e())},m=y=>{switch(y){case"info":return o.jsx(wp,{className:"h-5 w-5 text-blue-400"});case"warning":return o.jsx(Wi,{className:"h-5 w-5 text-yellow-400"});case"alert":return o.jsx(Wi,{className:"h-5 w-5 text-red-400"});case"success":return o.jsx(cy,{className:"h-5 w-5 text-green-400"});default:return o.jsx(Od,{className:"h-5 w-5 text-safebite-text-secondary"})}};return t?o.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex justify-end",children:o.jsxs("div",{className:"w-full max-w-md bg-safebite-dark-blue h-full overflow-auto",children:[o.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-safebite-text",children:"Notifications"}),o.jsx(oe,{variant:"ghost",size:"icon",onClick:e,children:o.jsx(Qi,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"p-4",children:a?o.jsx("div",{className:"flex justify-center items-center h-40",children:o.jsx("div",{className:"w-8 h-8 border-4 border-safebite-teal border-t-transparent rounded-full animate-spin"})}):n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Od,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"No notifications yet"})]}):o.jsx("div",{className:"space-y-4",children:n.map(y=>o.jsx(Fe,{className:`sci-fi-card cursor-pointer transition-all hover:border-safebite-teal ${y.read?"opacity-70":""}`,onClick:()=>p(y),children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0 mr-3 mt-1",children:m(y.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-safebite-text",children:y.title}),o.jsx("span",{className:"text-xs text-safebite-text-secondary",children:y.timestamp.toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:y.message}),y.link&&o.jsx("div",{className:"mt-2 flex justify-end",children:o.jsxs(oe,{variant:"link",className:"p-0 h-auto text-xs text-safebite-teal",children:["View ",o.jsx(as,{className:"ml-1 h-3 w-3"})]})})]})]})})},y.id))})})]})}):null},bF={"Weight Loss":["Sprouts","Ragi","Daliya","Makhana","Moong Dal Chilla"],"Muscle Gain":["Paneer Bhurji","Soya Chunks","Egg Bhurji","Chicken Tikka","Rajma Rice"],"General Health":["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"],Diabetes:["Bitter Gourd Juice","Oats Upma","Chia Seeds","Flaxseeds","Dalia"],"Heart Issues":["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"]},HAe=()=>{var ot,lt,br,Tt,Lt,cr;const t=Cn(),{isGuest:e}=dk(),[r,n]=S.useState(!1),{toast:i}=Vr(),a=Jt(We),s=lr(We),l=a.currentUser,[u,f]=S.useState(null),[h,p]=S.useState(!0),[m,y]=S.useState(""),[_,b]=S.useState(!1),[x,N]=S.useState(""),[A,j]=S.useState([]),[E,P]=S.useState(0),[R,C]=S.useState(!1),[I,M]=S.useState(10),[F,D]=S.useState(1450),[V,$]=S.useState([{foodGroup:"Fruits",value:2},{foodGroup:"Vegetables",value:3},{foodGroup:"Grains",value:4},{foodGroup:"Protein",value:5},{foodGroup:"Dairy",value:2},{foodGroup:"Fats",value:1},{foodGroup:"Sugars",value:1}]),[H,G]=S.useState([{date:"Mon",value:75},{date:"Tue",value:82},{date:"Wed",value:78},{date:"Thu",value:85},{date:"Fri",value:80},{date:"Sat",value:72},{date:"Sun",value:79}]),[Y,Q]=S.useState([{date:"Mon",value:30},{date:"Tue",value:45},{date:"Wed",value:20},{date:"Thu",value:60},{date:"Fri",value:35},{date:"Sat",value:75},{date:"Sun",value:25}]),[W,J]=S.useState([{name:"Carbohydrates",value:400},{name:"Protein",value:300},{name:"Fat",value:200}]),[ee]=S.useState(["#8884d8","#82ca9d","#ffc658"]),[q]=S.useState([{date:"Mon",value:50},{date:"Tue",value:60},{date:"Wed",value:70},{date:"Thu",value:55},{date:"Fri",value:45},{date:"Sat",value:80},{date:"Sun",value:65}]),[X,ae]=S.useState("1.8L"),[be,Ae]=S.useState("85g"),[Ne,ge]=S.useState(45),Pe=(Me,st)=>{if(Me){let Ue=1450;Me.activity_level==="Sedentary"?Ue=1600:Me.activity_level==="Lightly Active"?Ue=1800:Me.activity_level==="Active"?Ue=2e3:Me.activity_level==="Very Active"&&(Ue=2200),Me.health_goals==="Weight Loss"?Ue=Math.round(Ue*.85):Me.health_goals==="Muscle Gain"&&(Ue=Math.round(Ue*1.1)),D(Me.calories_today||Ue);let Pt="1.8L";Me.water_intake&&(Me.water_intake==="<1L"?Pt="0.8L":Me.water_intake==="1-2L"?Pt="1.5L":Me.water_intake==="2-3L"?Pt="2.5L":Me.water_intake==="3L+"&&(Pt="3.5L")),ae(Pt);let tt="85g";Me.protein_source&&(Me.protein_source==="Veg"?tt="60g":Me.protein_source==="Dairy"?tt="70g":Me.protein_source==="Meat"?tt="100g":Me.protein_source==="Eggs"?tt="80g":Me.protein_source==="Mix"&&(tt="90g")),Ae(tt);let bt=45;Me.exercise_frequency&&(Me.exercise_frequency==="Never"?bt=15:Me.exercise_frequency==="Weekly"?bt=30:Me.exercise_frequency==="3-4 Times a Week"?bt=45:Me.exercise_frequency==="Daily"&&(bt=60)),ge(bt),Me.dietary_preferences&&(Me.dietary_preferences==="Veg"||Me.dietary_preferences==="Vegan"?$([{foodGroup:"Fruits",value:3},{foodGroup:"Vegetables",value:4},{foodGroup:"Grains",value:5},{foodGroup:"Plant Protein",value:4},{foodGroup:"Dairy",value:Me.dietary_preferences==="Vegan"?0:2},{foodGroup:"Fats",value:2},{foodGroup:"Sugars",value:1}]):Me.dietary_preferences==="Keto"?$([{foodGroup:"Fruits",value:1},{foodGroup:"Vegetables",value:3},{foodGroup:"Grains",value:1},{foodGroup:"Protein",value:5},{foodGroup:"Dairy",value:3},{foodGroup:"Fats",value:5},{foodGroup:"Sugars",value:0}]):Me.dietary_preferences==="Non-Veg"&&$([{foodGroup:"Fruits",value:2},{foodGroup:"Vegetables",value:3},{foodGroup:"Grains",value:4},{foodGroup:"Protein",value:5},{foodGroup:"Dairy",value:2},{foodGroup:"Fats",value:2},{foodGroup:"Sugars",value:1}])),Me.health_goals&&(Me.health_goals==="Weight Loss"?J([{name:"Carbohydrates",value:300},{name:"Protein",value:350},{name:"Fat",value:150}]):Me.health_goals==="Muscle Gain"?J([{name:"Carbohydrates",value:450},{name:"Protein",value:400},{name:"Fat",value:200}]):Me.health_goals==="General Health"&&J([{name:"Carbohydrates",value:400},{name:"Protein",value:300},{name:"Fat",value:200}]))}if(st&&st.answers){if(st.answers.home_cooked!==void 0&&st.answers.home_cooked>15&&G(Pt=>Pt.map(tt=>({...tt,value:Math.min(100,tt.value+5)}))),st.answers.water_intake!==void 0){const Ue=st.answers.water_intake;ae(Math.round(Ue*.25)+"L"),Ye([{date:"Mon",value:Math.max(0,Ue-1)},{date:"Tue",value:Ue},{date:"Wed",value:Math.max(0,Ue+1)},{date:"Thu",value:Math.max(0,Ue-2)},{date:"Fri",value:Math.max(0,Ue-1)},{date:"Sat",value:Math.max(0,Ue+2)},{date:"Sun",value:Ue}])}if(st.answers.exercise!==void 0){const Ue=st.answers.exercise;ge(Math.round(Ue/7)),Q([{date:"Mon",value:Math.round(Ue*.2)},{date:"Tue",value:Math.round(Ue*.15)},{date:"Wed",value:Math.round(Ue*.1)},{date:"Thu",value:Math.round(Ue*.25)},{date:"Fri",value:Math.round(Ue*.1)},{date:"Sat",value:Math.round(Ue*.15)},{date:"Sun",value:Math.round(Ue*.05)}])}if(st.answers.junk_food!==void 0){const Ue=st.answers.junk_food;Ue>5&&G(Pt=>Pt.map(tt=>({...tt,value:Math.max(50,tt.value-(Ue-5)*2)})))}if(st.answers.energy_level){const Ue=st.answers.energy_level;let Pt=1;Ue==="Very Low"?Pt=.8:Ue==="Low"?Pt=.9:Ue==="High"?Pt=1.1:Ue==="Very High"&&(Pt=1.2),we(tt=>tt.map(bt=>({...bt,value:Math.round(bt.value*Pt)})))}}};S.useEffect(()=>{(async()=>{if(l&&!e){p(!0),y("");const st=Dt(s,"users",l.uid);try{const Ue=await an(st);if(Ue.exists()){const Pt=Ue.data();f(Pt.profile),Pe(Pt.profile,Pt.weeklyCheckin),M(Pt.xp||10),Pt.questionnaireCompleted||t("/questionnaire")}else console.log("No such document! Redirecting to questionnaire."),t("/questionnaire")}catch(Ue){console.error("Error fetching user profile:",Ue),y("Failed to load your profile. Please try again later."),i({title:"Profile Load Error",description:"Could not load your profile data.",variant:"destructive"})}finally{p(!1)}}else e?p(!1):t("/auth/login")})()},[l,s,t,e,i]),S.useEffect(()=>{u&&(async()=>{if(!(e||!l))try{const st=await Z7(l.uid,u);j(st),P(st.filter(Ue=>!Ue.read).length)}catch(st){console.error("Error fetching notifications:",st)}})()},[l,u,e]),S.useEffect(()=>{if(!e&&u){const Me=localStorage.getItem("lastWeeklyPromptTime"),st=Date.now(),Ue=7*24*60*60*1e3;if(!Me||st-parseInt(Me,10)>Ue){const Pt=setTimeout(()=>{n(!0),localStorage.setItem("lastWeeklyPromptTime",st.toString())},3e3);return()=>clearTimeout(Pt)}}},[e,u]);const de=()=>{n(!1)},[ve,we]=S.useState([{date:"Mon",value:1200},{date:"Tue",value:1350},{date:"Wed",value:1500},{date:"Thu",value:1400},{date:"Fri",value:1800},{date:"Sat",value:1600},{date:"Sun",value:1450}]),[le,Ye]=S.useState([{date:"Mon",value:5},{date:"Tue",value:6},{date:"Wed",value:7},{date:"Thu",value:5},{date:"Fri",value:4},{date:"Sat",value:8},{date:"Sun",value:6}]),qe=u?Tje(u,((ot=u==null?void 0:u.weeklyCheckin)==null?void 0:ot.answers)||null):[];S.useEffect(()=>{console.log("Dashboard render state:",{isGuest:e,isLoadingProfile:h,userProfile:u?"exists":"null",profileError:m,user:l?"logged in":"not logged in"})},[e,h,u,m,l]);const pt=()=>{console.log("Terms accepted")};return m?(console.error("Profile error:",m),o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center",children:o.jsxs("div",{className:"bg-red-500/10 border border-red-500 p-6 rounded-lg max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold text-red-400 mb-2",children:"Error Loading Dashboard"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:m}),o.jsx(oe,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Retry"})]})})):h&&!e?o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-safebite-teal border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Loading your dashboard..."})]})}):o.jsxs(o.Fragment,{children:[o.jsx(VAe,{onAccept:pt}),o.jsx(qAe,{isOpen:R,onClose:()=>C(!1),userData:u}),o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1.5 px-4 flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium",children:[o.jsx(Md,{className:"h-4 w-4 text-yellow-300"}),o.jsx("span",{children:"SafeBite v2.1 - Under Active Development"}),o.jsx(Md,{className:"h-4 w-4 text-yellow-300"})]})}),o.jsx(ru,{}),o.jsx("main",{className:"md:ml-64 min-h-screen",children:o.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[e&&o.jsx(xje,{}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:e?"Welcome, Guest":o.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:["Welcome back, ",(u==null?void 0:u.displayName)||(l==null?void 0:l.displayName)||(u==null?void 0:u.name)||((lt=l==null?void 0:l.email)==null?void 0:lt.split("@")[0])||"Friend"]})}),o.jsx("p",{className:"text-safebite-text-secondary",children:h?"Loading your profile...":m||(e?"Explore SafeBite's features (limited in guest mode)":o.jsxs(o.Fragment,{children:["Your primary goal: ",(u==null?void 0:u.health_goals)||"No Goal",_?null:o.jsx(oe,{variant:"link",className:"ml-2",onClick:()=>{b(!0),N((u==null?void 0:u.health_goals)||"")},children:"Edit"})]}))})]}),o.jsx("div",{className:"mt-4 sm:mt-0",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"mr-4 flex items-center bg-safebite-card-bg-alt px-3 py-1 rounded-full",children:[o.jsx(fd,{className:"h-4 w-4 text-yellow-400 mr-1"}),o.jsxs("span",{className:"text-safebite-text font-medium",children:[I," XP"]})]}),o.jsxs(oe,{variant:"outline",className:"mr-2 border-safebite-card-bg-alt hover:border-safebite-teal",onClick:()=>C(!0),children:[o.jsx(Od,{className:"mr-2 h-5 w-5"}),E>0&&o.jsx(Mt,{className:"ml-1 bg-safebite-teal text-safebite-dark-blue",children:E})]})]})})]}),!e&&u&&_&&o.jsxs(Fe,{className:"mb-8 sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{children:"Update Your Health Goal"})}),o.jsxs(Vt,{children:[o.jsxs("select",{value:x,onChange:Me=>N(Me.target.value),className:"w-full sci-fi-input",children:[o.jsx("option",{value:"",children:"Select a goal"}),o.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),o.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),o.jsx("option",{value:"General Health",children:"General Health"}),o.jsx("option",{value:"No Goal",children:"No Goal"})]}),o.jsxs("div",{className:"flex justify-end mt-4",children:[o.jsx(oe,{variant:"ghost",onClick:()=>b(!1),children:"Cancel"}),o.jsx(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:async()=>{if(l){const Me=Dt(s,"users",l.uid);try{await zn(Me,{profile:{...u,health_goals:x}},{merge:!0}),f({...u,health_goals:x}),Pe({...u,health_goals:x},null),i({title:"Goal Updated",description:"Your health goal has been updated."})}catch(st){i({title:"Error",description:st.message,variant:"destructive"})}finally{b(!1)}}},children:"Save"})]})]})]}),r&&!e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(Fe,{className:"sci-fi-card max-w-md w-full",children:[o.jsx("h3",{className:"text-xl font-bold text-safebite-text mb-4",children:"Weekly Health Check"}),o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Please take a moment to answer a few questions about your health this week. This helps us provide better recommendations."}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx(oe,{variant:"ghost",onClick:de,className:"text-safebite-text-secondary hover:text-safebite-text",children:"Maybe Later"}),o.jsx(oe,{onClick:()=>{t("/weekly-questions"),de()},className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Start Now"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(jv,{title:"Calories Today",value:F.toString(),icon:o.jsx(ss,{size:24}),change:{value:"12%",isPositive:!0}}),o.jsx(jv,{title:"Water Intake",value:X,icon:o.jsx("div",{className:"text-blue-400",children:"💧"}),change:{value:"2 cups",isPositive:!1}}),o.jsx(jv,{title:"Protein",value:be,icon:o.jsx("div",{children:"🥩"}),change:{value:"10%",isPositive:!0}}),o.jsx(jv,{title:"Active Minutes",value:Ne.toString(),icon:o.jsx("div",{children:"⚡"}),change:{value:"5 min",isPositive:!0}})]}),A.some(Me=>Me.type==="alert")&&o.jsx(Fe,{className:"mb-8 border-red-500 shadow-md bg-red-500/10 p-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0 mr-4",children:o.jsx("div",{className:"h-12 w-12 rounded-full bg-red-500/20 flex items-center justify-center text-red-500",children:o.jsx(wp,{size:28})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-red-400",children:"Food Safety Alert"}),o.jsx("p",{className:"text-safebite-text-secondary mb-2",children:((br=A.find(Me=>Me.type==="alert"))==null?void 0:br.message)||"A recent product you scanned contains ingredients that may affect your health goals."}),o.jsxs(oe,{variant:"link",className:"text-red-400 hover:text-red-300 p-0",onClick:()=>C(!0),children:["View Details ",o.jsx(as,{className:"ml-1 h-4 w-4"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[o.jsx(jje,{userId:l==null?void 0:l.uid}),o.jsx(Eje,{userId:l==null?void 0:l.uid,preferences:u!=null&&u.dietary_preferences?[u.dietary_preferences]:[]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[o.jsx(Nje,{userId:l==null?void 0:l.uid,healthGoal:u==null?void 0:u.health_goals}),o.jsx(lF,{userId:l==null?void 0:l.uid,activityLevel:u==null?void 0:u.activity_level,weeklyAnswers:(Tt=u==null?void 0:u.weeklyCheckin)==null?void 0:Tt.answers})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text",children:"Your Health Tools"}),o.jsxs(oe,{variant:"outline",className:"border-safebite-card-bg-alt hover:border-safebite-teal",onClick:()=>t("/healthbox"),children:[o.jsx(dd,{className:"mr-2 h-4 w-4"}),"View All Tools"]})]}),u!=null&&u.favoriteHealthTools&&u.favoriteHealthTools.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.favoriteHealthTools.slice(0,4).map(Me=>o.jsx(Fe,{className:"sci-fi-card cursor-pointer hover:border-safebite-teal transition-colors",onClick:()=>t("/healthbox"),children:o.jsxs("div",{className:"p-4 flex flex-col items-center text-center",children:[o.jsx("div",{className:"h-12 w-12 rounded-full bg-safebite-teal/20 flex items-center justify-center mb-3",children:o.jsx(dd,{className:"h-6 w-6 text-safebite-teal"})}),o.jsx("h3",{className:"font-medium text-safebite-text mb-1",children:Me.id.split("-").map(st=>st.charAt(0).toUpperCase()+st.slice(1)).join(" ")}),o.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Last used: ",new Date(Me.addedAt).toLocaleDateString()]})]})},Me.id))}):o.jsxs(Fe,{className:"sci-fi-card p-6 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"h-16 w-16 rounded-full bg-safebite-card-bg-alt flex items-center justify-center mx-auto",children:o.jsx(dd,{className:"h-8 w-8 text-safebite-text-secondary"})})}),o.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-2",children:"No Favorite Health Tools"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Visit the HealthBox to explore and save your favorite health tools."}),o.jsx(oe,{onClick:()=>t("/healthbox"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore HealthBox"})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Your Health Profile"}),o.jsx("div",{className:"sci-fi-card",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Profile Information"}),o.jsx("div",{className:"space-y-3",children:u?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Age Group:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.age||"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Activity Level:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.activity_level||"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Health Goal:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.health_goals||"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Diet Preference:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.dietary_preferences||"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Health Conditions:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.health_conditions||"None"})]})]}):o.jsx("p",{className:"text-safebite-text-secondary",children:"Complete the initial questionnaire to see your profile data."})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Weekly Check-in"}),o.jsx("div",{className:"space-y-3",children:(Lt=u==null?void 0:u.weeklyCheckin)!=null&&Lt.answers?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Home-cooked Meals:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.weeklyCheckin.answers.home_cooked!==void 0?`${u.weeklyCheckin.answers.home_cooked} meals`:"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Water Intake:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.weeklyCheckin.answers.water_intake!==void 0?`${u.weeklyCheckin.answers.water_intake} glasses`:"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Junk Food:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.weeklyCheckin.answers.junk_food!==void 0?`${u.weeklyCheckin.answers.junk_food} times`:"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Exercise:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.weeklyCheckin.answers.exercise!==void 0?`${u.weeklyCheckin.answers.exercise} minutes`:"Not answered"})]}),o.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Energy Level:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:u.weeklyCheckin.answers.energy_level||"Not answered"})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Last updated: ",u.weeklyCheckin.timestamp?new Date(u.weeklyCheckin.timestamp.seconds*1e3).toLocaleDateString():"Unknown"]})})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"No weekly check-in data available."}),o.jsx(oe,{onClick:()=>t("/weekly-questions"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Complete Weekly Check-in"})]})})]})]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Your Health Dashboard"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsx(vje,{data:V}),o.jsx(yje,{data:W,colors:ee})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(sl,{title:"Weekly Calorie Intake",data:ve,color:"#00ffcc"}),o.jsx(sl,{title:"Water Intake (cups)",data:le,color:"#3b82f6"}),o.jsx(sl,{title:"Weekly Protein Intake (grams)",data:q,color:"#f472b6"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[o.jsx(sl,{title:"Nutrient Score",data:H,color:"#a855f7"}),o.jsx(sl,{title:"Exercise Minutes",data:Y,color:"#f97316"}),o.jsx(wje,{insights:qe.length>0?qe:[{color:"bg-green-500",text:"Your protein intake is on track with your goals"},{color:"bg-yellow-500",text:`Consider increasing water intake by ${u!=null&&u.water_target?u.water_target-parseInt(X):2} cups`},{color:"bg-blue-500",text:"Your nutrient score has improved by 5% this week"},{color:"bg-purple-500",text:`You're ${u!=null&&u.exercise_target?u.exercise_target-Ne:15} minutes short of your weekly exercise goal`}]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Coming Soon"}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 border-2 border-orange-500 rounded-lg opacity-50 animate-pulse"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 mr-6",children:o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center",children:o.jsx(ss,{className:"h-8 w-8 text-white"})})}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("h3",{className:"text-xl font-semibold text-orange-500 mb-2",children:"Zomato + Swiggy Integration"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with popular food delivery platforms to provide nutritional information and health recommendations for restaurant meals."}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Mt,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Coming Soon"}),o.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Working on dataset"})]}),o.jsxs(oe,{onClick:()=>t("/food-delivery"),className:"bg-gradient-to-r from-orange-500 to-red-600 text-white hover:from-orange-600 hover:to-red-700 shadow-lg shadow-orange-500/20 animate-pulse",children:[o.jsx(ss,{className:"mr-2 h-4 w-4"}),"Learn More"]})]})]})]})]})})]}),!e&&(u==null?void 0:u.health_goals)&&bF[u.health_goals]&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:["Food Recommendations for ",u.health_goals]}),o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{children:"Try these healthy options:"})}),o.jsx(Vt,{children:o.jsx("ul",{className:"list-disc list-inside text-safebite-text-secondary space-y-1",children:bF[u.health_goals].map((Me,st)=>o.jsx("li",{children:Me},st))})})]})]}),!e&&(u==null?void 0:u.activity_level)&&o.jsx("div",{className:"mt-8",children:o.jsx(lF,{activityLevel:u.activity_level,weeklyAnswers:(cr=u.weeklyCheckin)==null?void 0:cr.answers})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"AI Recommendations & Alerts"}),o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsx(qt,{children:"Coming Soon"})}),o.jsx(Vt,{children:o.jsx("p",{className:"text-safebite-text-secondary",children:"Smart AI-based recommendations and food safety alerts tailored to your profile are under development."})})]})]}),o.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"}),o.jsx(Pm,{})]})})]})]})},WAe=({onSearch:t,onScan:e,onUpload:r,onShowHistory:n,onApiSelect:i,className:a,activeApi:s="All APIs"})=>{const[l,u]=S.useState(""),f=p=>{p.preventDefault(),l.trim()&&t(l.trim())},h=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return o.jsx("form",{onSubmit:f,className:`relative ${a}`,children:o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(At,{type:"text",placeholder:"Search for food products...",value:l,onChange:p=>u(p.target.value),className:"sci-fi-input w-full pr-[140px]"}),o.jsxs("div",{className:"absolute right-0 flex",children:[o.jsx(ap,{children:o.jsxs(Gv,{children:[o.jsx(Kv,{asChild:!0,children:o.jsx(oe,{type:"button",variant:"ghost",onClick:n,className:"text-safebite-text-secondary hover:text-safebite-teal",children:o.jsx(AY,{size:18})})}),o.jsx(sp,{children:o.jsx("p",{children:"Search History"})})]})}),o.jsx(ap,{children:o.jsxs(Gv,{children:[o.jsx(Kv,{asChild:!0,children:o.jsx(oe,{type:"button",variant:"ghost",onClick:i,className:"text-safebite-text-secondary hover:text-safebite-teal",children:o.jsx(gV,{size:18})})}),o.jsx(sp,{children:o.jsxs("p",{children:["Select API Source (",s,")"]})})]})}),o.jsx(ap,{children:o.jsxs(Gv,{children:[o.jsx(Kv,{asChild:!0,children:o.jsx(oe,{type:"button",variant:"ghost",onClick:h()?e:r,className:"text-safebite-text-secondary hover:text-safebite-teal",children:h()?o.jsx(_V,{size:18}):o.jsx(AV,{size:18})})}),o.jsx(sp,{children:o.jsx("p",{children:h()?"Scan Barcode":"Upload Image"})})]})}),o.jsx(oe,{type:"submit",className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 ml-1",children:o.jsx(to,{size:18})})]})]})})},ed=({name:t,image:e,calories:r,nutritionScore:n,onClick:i,className:a})=>{const s={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return o.jsxs("div",{className:Ze("sci-fi-card flex cursor-pointer",a),onClick:i,children:[o.jsxs("div",{className:"relative flex-shrink-0 w-20 h-20 rounded-md overflow-hidden mr-4 border border-safebite-card-bg-alt",children:[e?o.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-safebite-card-bg-alt flex items-center justify-center",children:o.jsx("span",{className:"text-safebite-text-secondary text-xs",children:"No image"})}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 ${s[n]} h-2`})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-safebite-text font-semibold mb-1",children:t}),o.jsxs("p",{className:"text-safebite-text-secondary text-sm mb-2",children:[r," calories per serving"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-xs mr-2",children:"Nutrition Score:"}),o.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${s[n]}`})]})]})]})},GAe=({food:t,onBack:e,onAddToTracker:r,onAddTag:n,onToggleFavorite:i,isFavorite:a=!1,tags:s=[],aiAnalysis:l="",isAnalysisLoading:u=!1})=>{var C,I,M,F;const[f,h]=S.useState(""),[p,m]=S.useState(!1),{name:y,calories:_,nutritionScore:b,details:x,brand:N,apiSource:A,source:j}=t,E={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"},P={green:"Good Choice",yellow:"Moderate",red:"Use Caution"},R=()=>{f.trim()&&(n(t.id,f.trim()),h(""),m(!1))};return o.jsxs("div",{className:"sci-fi-card",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs(oe,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary -ml-2",onClick:e,children:[o.jsx(Yx,{className:"mr-1 h-4 w-4"}),"Back"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(oe,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>i(t.id),children:o.jsx(qi,{className:`h-4 w-4 ${a?"text-yellow-500 fill-yellow-500":""}`})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>m(!p),children:o.jsx(_T,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",children:o.jsx(uy,{className:"h-4 w-4"})})]})]}),p&&o.jsxs("div",{className:"mb-4 flex",children:[o.jsx("input",{type:"text",value:f,onChange:D=>h(D.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:D=>{D.key==="Enter"&&R()}}),o.jsx(oe,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:R,children:"Add"})]}),s.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:s.map(D=>o.jsx(Mt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:D},D))}),o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-semibold text-safebite-text",children:y}),N&&o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:N})]}),o.jsx(Mt,{className:`${E[b]} text-white`,children:P[b]})]}),o.jsxs(Df,{defaultValue:"nutrition",className:"w-full mb-6",children:[o.jsxs(au,{className:"grid grid-cols-4 mb-4",children:[o.jsx(Pr,{value:"nutrition",children:"Nutrition"}),o.jsx(Pr,{value:"ingredients",children:"Ingredients"}),o.jsx(Pr,{value:"health",children:"Health"}),o.jsx(Pr,{value:"ai-analysis",children:"AI Analysis"})]}),o.jsxs(Hr,{value:"nutrition",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Calories"}),o.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.calories)||_," kcal"]})]}),o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Protein"}),o.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.protein)||((C=t.nutrients)==null?void 0:C.protein)||0,"g"]})]}),o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Carbs"}),o.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.carbs)||((I=t.nutrients)==null?void 0:I.carbs)||0,"g"]})]}),o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fat"}),o.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.fat)||((M=t.nutrients)==null?void 0:M.fat)||0,"g"]})]}),o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sodium"}),o.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.sodium)||0,"mg"]})]}),o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sugar"}),o.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.sugar)||((F=t.nutrients)==null?void 0:F.sugar)||0,"g"]})]})]}),o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt/50 rounded-md",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm mb-1",children:"Nutrition Score"}),o.jsx("div",{className:"h-2 bg-safebite-card-bg-alt rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${b==="green"?"bg-green-500":b==="yellow"?"bg-yellow-500":"bg-red-500"}`,style:{width:b==="green"?"90%":b==="yellow"?"50%":"20%"}})}),o.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary mt-1",children:[o.jsx("span",{children:"Poor"}),o.jsx("span",{children:"Moderate"}),o.jsx("span",{children:"Excellent"})]})]}),o.jsxs("div",{className:"text-xs text-safebite-text-secondary text-right",children:["Data source: ",A||j||"Unknown"]})]}),o.jsxs(Hr,{value:"ingredients",className:"space-y-4",children:[x!=null&&x.ingredients&&x.ingredients.length>0?o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Ingredients List"}),o.jsx("p",{className:"text-safebite-text-secondary",children:x.ingredients.join(", ")})]}):o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-safebite-text-secondary",children:"No ingredient information available"})}),(x==null?void 0:x.additives)&&x.additives.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Additives"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:x.additives.map(D=>o.jsx(Mt,{variant:"outline",className:"border-red-500 text-red-500",children:D},D))})]})]}),o.jsxs(Hr,{value:"health",className:"space-y-4",children:[(x==null?void 0:x.allergens)&&x.allergens.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Allergens"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:x.allergens.map(D=>o.jsxs(Mt,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[o.jsx(Wi,{className:"mr-1 h-3 w-3"})," ",D]},D))})]}),b==="red"&&o.jsx(Fe,{className:"bg-red-500/10 border-red-500 p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Wi,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-md font-medium text-red-400 mb-1",children:"Health Concern"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product contains high levels of sugar and artificial additives which may impact your health goals."})]})]})}),b==="green"&&o.jsx(Fe,{className:"bg-green-500/10 border-green-500 p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(cy,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-md font-medium text-green-400 mb-1",children:"Healthy Choice"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is a great fit for your health goals. It contains nutritious ingredients and minimal processing."})]})]})}),b==="yellow"&&o.jsx(Fe,{className:"bg-yellow-500/10 border-yellow-500 p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Wi,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-md font-medium text-yellow-500 mb-1",children:"Moderate Choice"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is acceptable in moderation. Be mindful of portion sizes and frequency of consumption."})]})]})})]}),o.jsx(Hr,{value:"ai-analysis",className:"space-y-4",children:u?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx(Un,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Analyzing food item..."})]}):l?o.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-md",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ly,{className:"h-5 w-5 text-safebite-teal mr-2"}),o.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"AI Nutritional Analysis"})]}),o.jsx("div",{className:"text-safebite-text-secondary",children:l.split(`
`).map((D,V)=>/^\d+\.\s/.test(D)||D.includes(":")?o.jsx("h5",{className:"font-semibold text-safebite-teal mt-3 mb-1",children:D},V):D.trim().startsWith("•")||D.trim().startsWith("-")?o.jsxs("div",{className:"flex items-start ml-2 mb-1",children:[o.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),o.jsx("p",{children:D.replace(/^[•\-]\s*/,"")})]},V):D.trim()?o.jsx("p",{className:"mb-2",children:D},V):o.jsx("div",{className:"h-2"},V))})]}):o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-safebite-text-secondary",children:"No AI analysis available"})})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[o.jsxs(Fe,{className:"p-4 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:o.jsx(ss,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-md font-medium text-orange-500",children:"Zomato + Swiggy"}),o.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Find this food on delivery apps"})]})]}),o.jsxs(oe,{disabled:!0,className:"w-full mt-3 bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[o.jsx(ni,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})]}),o.jsxs(Fe,{className:"p-4 border border-safebite-teal/30 bg-safebite-card-bg",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-safebite-teal to-blue-500 flex items-center justify-center mr-3",children:o.jsx(ad,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-md font-medium text-safebite-teal",children:"Add to Tracker"}),o.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Track your daily nutrition"})]})]}),o.jsxs(oe,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:[o.jsx(LY,{className:"mr-2 h-4 w-4"}),"Add to Tracker"]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:e,children:"Back to Results"}),o.jsx(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:"Add to Tracker"})]})]})},KAe=({historyItems:t,recentFoods:e,onHistoryItemClick:r,onFoodItemClick:n,onToggleFavorite:i,onRemoveHistoryItem:a,onAddTag:s,onRemoveTag:l})=>{const[u,f]=U.useState(""),[h,p]=U.useState(null),m=_=>{u.trim()&&(s(_,u.trim()),f(""),p(null))},y=_=>{const b=new Date(_);return b.toLocaleDateString()+" "+b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[o.jsx(ni,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Search History"]}),t.length>0?o.jsx("div",{className:"space-y-3",children:t.map(_=>o.jsxs("div",{className:"sci-fi-card p-3 hover:bg-safebite-card-bg-alt/50 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>r(_.query),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(to,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),o.jsx("span",{className:"text-safebite-text font-medium",children:_.query}),_.isFavorite&&o.jsx(qi,{className:"h-4 w-4 text-yellow-500 ml-2 fill-yellow-500"})]}),o.jsx("div",{className:"text-xs text-safebite-text-secondary mt-1",children:y(_.timestamp)})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>i(_.id),children:o.jsx(qi,{className:`h-4 w-4 ${_.isFavorite?"text-yellow-500 fill-yellow-500":"text-safebite-text-secondary"}`})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>p(h===_.id?null:_.id),children:o.jsx(_T,{className:"h-4 w-4 text-safebite-text-secondary"})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>a(_.id),children:o.jsx(Qi,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),_.tags&&_.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:_.tags.map(b=>o.jsxs(Mt,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary flex items-center",children:[b,o.jsx(Qi,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:x=>{x.stopPropagation(),l(_.id,b)}})]},b))}),h===_.id&&o.jsxs("div",{className:"mt-2 flex",children:[o.jsx("input",{type:"text",value:u,onChange:b=>f(b.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:b=>{b.key==="Enter"&&m(_.id)}}),o.jsx(oe,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>m(_.id),children:"Add"})]})]},_.id))}):o.jsx("div",{className:"text-center py-6 bg-safebite-card-bg-alt/30 rounded-lg",children:o.jsx("p",{className:"text-safebite-text-secondary",children:"No search history yet"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recently Viewed Foods"}),e.length>0?o.jsx("div",{className:"space-y-2",children:e.map(_=>o.jsx("div",{className:"sci-fi-card p-3 cursor-pointer hover:bg-safebite-card-bg-alt/50 transition-colors",onClick:()=>n(_),children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-safebite-text font-medium",children:_.name}),o.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:[_.calories," kcal | ",_.apiSource||_.source]})]}),o.jsx(Mt,{className:`
                      ${_.nutritionScore==="green"?"bg-green-500":_.nutritionScore==="yellow"?"bg-yellow-500":"bg-red-500"} 
                      text-white
                    `,children:_.nutritionScore==="green"?"Healthy":_.nutritionScore==="yellow"?"Moderate":"Caution"})]})},_.id))}):o.jsx("div",{className:"text-center py-6 bg-safebite-card-bg-alt/30 rounded-lg",children:o.jsx("p",{className:"text-safebite-text-secondary",children:"No recently viewed foods"})})]})]})},YAe=({onScan:t,onUpload:e,onClose:r})=>{const[n,i]=S.useState("scanner"),[a,s]=S.useState(!1),[l,u]=S.useState(null),[f,h]=S.useState(!1),p=S.useRef(null),m=S.useRef(null),y=S.useRef(null),_=async()=>{try{u(null);const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});p.current&&(p.current.srcObject=E,s(!0))}catch(E){console.error("Error accessing camera:",E),u("Could not access camera. Please check permissions."),s(!1)}},b=()=>{p.current&&p.current.srcObject&&(p.current.srcObject.getTracks().forEach(R=>R.stop()),p.current.srcObject=null,s(!1))},x=()=>{if(p.current&&m.current){const E=p.current,P=m.current,R=P.getContext("2d");if(R){P.width=E.videoWidth,P.height=E.videoHeight,R.drawImage(E,0,0,P.width,P.height);const C=P.toDataURL("image/jpeg");b(),t(C)}}},N=E=>{E.target.files&&E.target.files[0]&&e(E.target.files[0])},A=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?h(!0):E.type==="dragleave"&&h(!1)},j=E=>{E.preventDefault(),E.stopPropagation(),h(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&e(E.dataTransfer.files[0])};return U.useEffect(()=>()=>{b()},[]),o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:n==="scanner"?"Scan Food Barcode":"Upload Food Image"}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:o.jsx(Qi,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsxs(oe,{variant:n==="scanner"?"default":"outline",className:n==="scanner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("scanner"),b()},children:[o.jsx(jV,{className:"mr-2 h-4 w-4"}),"Scanner"]}),o.jsxs(oe,{variant:n==="upload"?"default":"outline",className:n==="upload"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("upload"),b()},children:[o.jsx(TY,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),n==="scanner"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:a?o.jsxs(o.Fragment,{children:[o.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 border-2 border-safebite-teal/50 pointer-events-none",children:o.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-safebite-teal/50"})})]}):o.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Mt,{variant:"outline",className:"bg-red-500/10 text-red-500 mb-2",children:"Error"}),o.jsx("p",{className:"text-safebite-text-secondary",children:l})]}):o.jsxs(oe,{onClick:_,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[o.jsx(yY,{className:"mr-2 h-4 w-4"}),"Start Camera"]})})}),o.jsx("canvas",{ref:m,className:"hidden"}),a&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",onClick:b,children:"Cancel"}),o.jsx(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:x,children:"Scan Barcode"})]}),o.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:"Position the barcode within the frame and hold steady"})]}),n==="upload"&&o.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${f?"border-safebite-teal bg-safebite-teal/5":"border-safebite-card-bg-alt"}`,onDragEnter:A,onDragOver:A,onDragLeave:A,onDrop:j,children:[o.jsx(AV,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),o.jsx("p",{className:"text-safebite-text mb-2",children:"Drag and drop a food image here"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"or click to select a file"}),o.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:N,className:"hidden"}),o.jsx(oe,{variant:"outline",onClick:()=>{var E;return(E=y.current)==null?void 0:E.click()},children:"Select Image"}),o.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPG, PNG, WEBP"})]})]})]})})},QAe=({apiSources:t,onToggleApi:e,onClose:r})=>{const n=t.filter(i=>i.isActive).length;return o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(gV,{className:"h-5 w-5 text-safebite-teal mr-2"}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"API Sources"})]}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:o.jsx(Qi,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Select which nutrition databases to search. Using multiple sources provides more comprehensive results."}),o.jsx("div",{className:"space-y-3 mb-4",children:t.map(i=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-safebite-card-bg-alt/50 rounded-lg cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>e(i.id),children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-safebite-text font-medium",children:i.name}),i.isActive&&o.jsx(Mt,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:"Active"})]}),o.jsx("p",{className:"text-xs text-safebite-text-secondary mt-1",children:i.description})]}),o.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center ${i.isActive?"border-safebite-teal bg-safebite-teal/20":"border-safebite-text-secondary"}`,children:i.isActive&&o.jsx(Rd,{className:"h-4 w-4 text-safebite-teal"})})]},i.id))}),o.jsx("div",{className:"bg-safebite-card-bg-alt/30 p-3 rounded-lg text-center",children:o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:n===0?"No API sources selected. At least one is required.":`${n} API source${n>1?"s":""} selected`})}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(oe,{onClick:r,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Apply Changes"})})]})]})})};var _k="Avatar",[XAe,nPe]=Oa(_k),[JAe,eW]=XAe(_k),tW=S.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=S.useState("idle");return o.jsx(JAe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:o.jsx(He.span,{...n,ref:e})})});tW.displayName=_k;var rW="AvatarImage",nW=S.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,s=eW(rW,r),l=ZAe(n,a.referrerPolicy),u=qn(f=>{i(f),s.onImageLoadingStatusChange(f)});return nn(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?o.jsx(He.img,{...a,ref:e,src:n}):null});nW.displayName=rW;var iW="AvatarFallback",aW=S.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=eW(iW,r),[s,l]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),s&&a.imageLoadingStatus!=="loaded"?o.jsx(He.span,{...i,ref:e}):null});aW.displayName=iW;function ZAe(t,e){const[r,n]=S.useState("idle");return nn(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,s=l=>()=>{i&&n(l)};return n("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var sW=tW,oW=nW,lW=aW;const Bx=S.forwardRef(({className:t,...e},r)=>o.jsx(sW,{ref:r,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bx.displayName=sW.displayName;const cW=S.forwardRef(({className:t,...e},r)=>o.jsx(oW,{ref:r,className:Ze("aspect-square h-full w-full",t),...e}));cW.displayName=oW.displayName;const Ux=S.forwardRef(({className:t,...e},r)=>o.jsx(lW,{ref:r,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ux.displayName=lW.displayName;const uW=({initialMessage:t="Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or healthy eating!"})=>{const[e,r]=S.useState(!0),[n,i]=S.useState(!0),[a,s]=S.useState([{role:"assistant",content:t}]),[l,u]=S.useState(""),[f,h]=S.useState(!1),[p,m]=S.useState(!1),y=S.useRef(null),_=Jt(We),b=lr(We);Vr();const x=()=>{var R;(R=y.current)==null||R.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{x()},[a]),S.useEffect(()=>{const R=_.onAuthStateChanged(C=>{m(!!C)});return()=>R()},[_]);const N=async()=>{if(!l.trim())return;const R={role:"user",content:l};s(C=>[...C,R]),u(""),h(!0);try{const C=[...a,R],I=await uk(C),M={role:"assistant",content:I};if(s(F=>[...F,M]),p)try{const F=_.currentUser;if(F){const D=Wd(b,"users",F.uid,"chatHistory");await C8(D,{userMessage:R.content,aiResponse:I,timestamp:LA(),context:C.map($=>({role:$.role,content:$.content.substring(0,100)+($.content.length>100?"...":"")})),topics:A(R.content)});const V=Dt(b,"users",F.uid);await zn(V,{aiLearning:{lastInteraction:LA(),recentTopics:A(R.content),interactionCount:C.length/2}},{merge:!0})}}catch(F){console.error("Error saving chat to Firebase:",F)}}catch(C){console.error("Error sending message to Gemini:",C),s(I=>[...I,{role:"assistant",content:"I'm sorry, I'm having trouble connecting to my knowledge base right now. Please try again later."}])}finally{h(!1)}},A=R=>{const C=["nutrition","calories","protein","carbs","fat","diet","vegetarian","vegan","gluten","allergy","organic","healthy","recipe","meal","breakfast","lunch","dinner","snack","vitamin","mineral","supplement","weight","exercise","diabetes","heart","cholesterol","blood pressure"],I=[],M=R.toLowerCase();for(const F of C)M.includes(F)&&I.push(F);return I.length>0?I:["general"]},j=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),N())},E=()=>{r(!e),e||i(!1)},P=()=>{i(!n)};return o.jsxs(o.Fragment,{children:[!e&&o.jsx(oe,{onClick:E,className:"fixed bottom-4 right-4 rounded-full w-14 h-14 p-0 bg-safebite-teal hover:bg-safebite-teal/80 shadow-lg",children:o.jsx(ly,{size:24})}),e&&o.jsxs(Fe,{className:`fixed bottom-4 right-4 w-80 sm:w-96 shadow-lg transition-all duration-300 ease-in-out ${n?"h-16":"h-[500px]"}`,children:[o.jsxs(zt,{className:"p-3 border-b flex flex-row items-center justify-between space-y-0",children:[o.jsxs(qt,{className:"text-md flex items-center",children:[o.jsxs(Bx,{className:"h-8 w-8 mr-2",children:[o.jsx(cW,{src:"/bot-avatar.png",alt:"AI"}),o.jsx(Ux,{className:"bg-safebite-teal text-safebite-dark-blue",children:"AI"})]}),"SafeBite AI Assistant"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(oe,{variant:"ghost",size:"icon",onClick:P,className:"h-8 w-8 p-0",children:n?o.jsx(IY,{size:16}):o.jsx(RY,{size:16})}),o.jsx(oe,{variant:"ghost",size:"icon",onClick:E,className:"h-8 w-8 p-0",children:o.jsx(Qi,{size:16})})]})]}),!n&&o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"p-4 overflow-y-auto h-[380px] bg-safebite-card-bg",children:o.jsxs("div",{className:"space-y-4",children:[a.map((R,C)=>o.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${R.role==="user"?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg-alt text-safebite-text"}`,children:R.content.split(`
`).map((I,M)=>o.jsxs(U.Fragment,{children:[I,M<R.content.split(`
`).length-1&&o.jsx("br",{})]},M))})},C)),f&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-safebite-card-bg-alt text-safebite-text",children:o.jsx(Un,{className:"h-5 w-5 animate-spin"})})}),o.jsx("div",{ref:y})]})}),o.jsx(OT,{className:"p-3 border-t",children:o.jsxs("div",{className:"flex w-full items-center space-x-2",children:[o.jsx(At,{placeholder:"Ask about food or nutrition...",value:l,onChange:R=>u(R.target.value),onKeyDown:j,className:"flex-1",disabled:f}),o.jsx(oe,{size:"icon",onClick:N,disabled:f||!l.trim(),className:"bg-safebite-teal hover:bg-safebite-teal/80",children:f?o.jsx(Un,{className:"h-5 w-5 animate-spin"}):o.jsx(SV,{size:18})})]})})]})]})]})},eNe="modulepreload",tNe=function(t){return"/SafeBite-V1/"+t},wF={},_o=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=tNe(u),u in wF)return;wF[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":eNe,f||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},dW="64b66d05",fW="7598859c968254ec27441ad9ed9197d3",cT="xxtcYPKPQyJ4NascI0BlQZNMmleexcaUMxrIPOAJ",uT=["64b66d05","83bf3c12","a742d2c9"],rNe=["7598859c968254ec27441ad9ed9197d3","f5982d5d0f3c1c92a372f0c928617b56","0c3e9d7f9546b5be3b6405f0c9903f25"],hW="https://api.calorieninjas.com/v1",pW="https://world.openfoodfacts.org/api/v2",Za={edamam:{name:"Edamam",isWorking:!0,lastChecked:0,errorCount:0},calorieninjas:{name:"CalorieNinjas",isWorking:!0,lastChecked:0,errorCount:0},openfoodfacts:{name:"OpenFoodFacts",isWorking:!0,lastChecked:0,errorCount:0},mongodb:{name:"MongoDB",isWorking:!0,lastChecked:0,errorCount:0}};console.log("Edamam API Key loaded:","Available");console.log("CalorieNinjas API Key loaded:","Available");console.log("Backup API Keys available:",uT.length);const _F=(t,e,r)=>{Za[t]&&(Za[t].lastChecked=Date.now(),Za[t].isWorking=e,e?Za[t].errorCount=0:(Za[t].errorCount++,console.error(`${Za[t].name} API error:`,r)))},Hh=()=>({...Za}),rp=async(t,e)=>{if(!t)return[];try{console.log(`Searching for: ${t}`);let r=[];const n=nNe(e);for(const i of n)try{switch(i){case"mongodb":r=await iNe(t);break;case"calorieninjas":r=await sNe(t);break;case"openfoodfacts":r=await oNe(t);break;case"edamam":r=await aNe(t);break}if(r.length>0)return console.log(`Found ${r.length} results from ${Za[i].name}`),_F(i,!0),r.map(a=>({...a,apiSource:Za[i].name}))}catch(a){_F(i,!1,a)}return console.log("No results found from any API, using fallback data"),await EF(t)}catch(r){return console.error("Error searching foods:",r),await EF(t)}},nNe=t=>{var r;const e=["mongodb","calorieninjas","openfoodfacts","edamam"];return t&&(r=Za[t])!=null&&r.isWorking?[t,...e.filter(n=>n!==t)]:e},iNe=async t=>{try{const{searchProductsInMongoDB:e}=await _o(async()=>{const{searchProductsInMongoDB:r}=await Promise.resolve().then(()=>f7);return{searchProductsInMongoDB:r}},void 0);return await e(t)}catch(e){throw console.error("MongoDB search failed:",e),e}},aNe=async t=>{let e=await SF(t,dW,fW);if(e.length===0){console.log("Primary API key returned no results, trying backup keys");for(let r=0;r<uT.length;r++){const n=uT[r],i=rNe[r];try{if(e=await SF(t,n,i),e.length>0){console.log(`Got results using backup key ${r+1}`);break}}catch(a){console.error(`Backup key ${r+1} failed:`,a)}}}return e},sNe=async t=>{try{console.log(`Searching CalorieNinjas for: ${t}`);const e=await fetch(`${hW}/nutrition?query=${encodeURIComponent(t)}`,{method:"GET",headers:{"X-Api-Key":cT,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`CalorieNinjas API error: ${e.status}`);const r=await e.json();return!r.items||r.items.length===0?[]:mW(r.items)}catch(e){throw console.error("CalorieNinjas API error:",e),e}},oNe=async t=>{try{console.log(`Searching OpenFoodFacts for: ${t}`);const e=await Promise.allSettled([lNe(t),cNe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return[]}catch(e){return console.error("OpenFoodFacts API error:",e),[]}},lNe=async t=>{try{console.log(`Searching OpenFoodFacts V2 API for: ${t}`);const e=await fetch(`${pW}/search?search_terms=${encodeURIComponent(t)}&fields=code,product_name,brands,nutriments,image_url,ingredients_text,allergens,additives_tags,nutriscore_grade&page_size=15`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V2 API error: ${e.status}`);const r=await e.json();return!r.products||r.products.length===0?[]:j0(r.products)}catch(e){return console.error("OpenFoodFacts V2 API error:",e),[]}},cNe=async t=>{try{console.log(`Searching OpenFoodFacts V1 API for: ${t}`);const e=await fetch(`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(t)}&search_simple=1&action=process&json=1&page_size=15`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V1 API error: ${e.status}`);const r=await e.json();return!r.products||r.products.length===0?[]:j0(r.products)}catch(e){return console.error("OpenFoodFacts V1 API error:",e),[]}},uNe=async t=>{try{console.log(`Searching for barcode: ${t}`);const e=await Promise.allSettled([dNe(t),fNe(t),hNe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.log("No results found for barcode from any source"),[]}catch(e){return console.error("Error searching by barcode:",e),[]}},dNe=async t=>{try{console.log(`Searching OpenFoodFacts V2 API for barcode: ${t}`);const e=await fetch(`${pW}/product/${t}?fields=code,product_name,brands,nutriments,image_url,ingredients_text,allergens,additives_tags,nutriscore_grade`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V2 API barcode error: ${e.status}`);const r=await e.json();return r.product?j0([r.product]).map(i=>({...i,apiSource:"OpenFoodFacts V2 (Barcode)"})):[]}catch(e){return console.error("OpenFoodFacts V2 barcode search failed:",e),[]}},fNe=async t=>{try{console.log(`Searching OpenFoodFacts V1 API for barcode: ${t}`);const e=await fetch(`https://world.openfoodfacts.org/api/v0/product/${t}.json`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V1 API barcode error: ${e.status}`);const r=await e.json();return!r.product||r.status!==1?[]:j0([r.product]).map(i=>({...i,apiSource:"OpenFoodFacts V1 (Barcode)"}))}catch(e){return console.error("OpenFoodFacts V1 barcode search failed:",e),[]}},hNe=async t=>{try{console.log(`Searching Edamam for barcode: ${t}`);const e=await fetch(`https://api.edamam.com/api/food-database/v2/parser?app_id=${dW}&app_key=${fW}&upc=${t}`);if(!e.ok)throw new Error(`Edamam API barcode error: ${e.status}`);const r=await e.json();return!r.hints||r.hints.length===0?[]:gW(r.hints).map(i=>({...i,apiSource:"Edamam (Barcode)"}))}catch(e){return console.error("Edamam barcode search failed:",e),[]}},pNe=async t=>{try{console.log("Searching by image...");const e=new FormData;e.append("file",t);try{const u=await fetch(`${hW}/imagetextnutrition`,{method:"POST",headers:{"X-Api-Key":cT},body:e});if(!u.ok)throw new Error(`CalorieNinjas API error: ${u.status}`);const f=await u.json();if(f.items&&f.items.length>0)return mW(f.items).map(p=>({...p,apiSource:"CalorieNinjas (Image)"}))}catch(u){console.error("CalorieNinjas image search failed:",u)}const n=t.name.toLowerCase().replace(/\.(jpg|jpeg|png|gif)$/i,"").split(/[_\-\s]/),i=["image","photo","pic","img","food","scan"],a=n.filter(u=>u.length>2&&!i.includes(u)),s=a.length>0?a[0]:"food";return console.log(`Image search fallback: searching for "${s}"`),(await rp(s)).map(u=>({...u,apiSource:"Image Recognition (Fallback)"}))}catch(e){return console.error("Error searching by image:",e),[]}},mW=t=>t.map((e,r)=>{let n="yellow";return e.protein_g>15&&(e.fiber_g>3||!e.fiber_g)&&(e.sugar_g<10||!e.sugar_g)?n="green":(e.fat_total_g>20||!e.fat_total_g||e.sugar_g>15||!e.sugar_g)&&(n="red"),{id:`calorieninjas-${Date.now()}-${r}`,name:e.name||"Unknown Food",brand:"",calories:Math.round(e.calories)||0,image:"",nutritionScore:n,nutrients:{protein:Math.round(e.protein_g)||0,carbs:Math.round(e.carbohydrates_total_g)||0,fat:Math.round(e.fat_total_g)||0,fiber:Math.round(e.fiber_g)||0,sugar:Math.round(e.sugar_g)||0},details:{protein:Math.round(e.protein_g)||0,carbs:Math.round(e.carbohydrates_total_g)||0,fat:Math.round(e.fat_total_g)||0,sodium:Math.round(e.sodium_mg)||0,sugar:Math.round(e.sugar_g)||0,calories:Math.round(e.calories)||0,ingredients:[],allergens:[],additives:[]},servingSizes:[{label:"Serving",weight:e.serving_size_g||100}],source:"CalorieNinjas"}}),j0=t=>t.map(e=>{const r=e.nutriments||{},n=e.ingredients_text?e.ingredients_text.split(", "):[],i=e.allergens?e.allergens.split(",").map(l=>l.trim()):[],a=e.additives_tags?e.additives_tags.map(l=>l.replace("en:","")):[];let s="yellow";if(e.nutriscore_grade)switch(e.nutriscore_grade.toLowerCase()){case"a":case"b":s="green";break;case"c":s="yellow";break;case"d":case"e":s="red";break}return{id:`openfoodfacts-${e.code}`,name:e.product_name||"Unknown Product",brand:e.brands||"",calories:Math.round(r.energy_kcal)||0,image:e.image_url||"",nutritionScore:s,nutrients:{protein:Math.round(r.proteins)||0,carbs:Math.round(r.carbohydrates)||0,fat:Math.round(r.fat)||0,fiber:Math.round(r.fiber)||0,sugar:Math.round(r.sugars)||0},details:{protein:Math.round(r.proteins)||0,carbs:Math.round(r.carbohydrates)||0,fat:Math.round(r.fat)||0,sodium:Math.round(r.sodium)||0,sugar:Math.round(r.sugars)||0,calories:Math.round(r.energy_kcal)||0,ingredients:n,allergens:i,additives:a},source:"OpenFoodFacts"}}),SF=async(t,e,r)=>{try{const n=await fetch(`https://api.edamam.com/api/food-database/v2/parser?app_id=${e}&app_key=${r}&ingr=${encodeURIComponent(t)}&nutrition-type=logging`);if(!n.ok)throw new Error(`Edamam API error: ${n.status}`);const i=await n.json();return!i.hints||i.hints.length===0?[]:gW(i.hints)}catch(n){return console.error("Edamam API error:",n),[]}},gW=t=>t.slice(0,10).map(e=>{const r=e.food,n=r.nutrients||{},a=(e.measures||[]).map(h=>({label:h.label,weight:h.weight}));let s="yellow";n.PROCNT>15&&(n.FIBTG>3||!n.FIBTG)&&(n.SUGAR<10||!n.SUGAR)?s="green":(n.FAT>20||!n.FAT||n.SUGAR>15||!n.SUGAR)&&(s="red");const l=r.foodContentsLabel?r.foodContentsLabel.split(", "):[],u=[],f=["milk","egg","fish","shellfish","tree nuts","peanuts","wheat","soy","gluten"];return l.forEach(h=>{f.forEach(p=>{h.toLowerCase().includes(p.toLowerCase())&&!u.includes(p)&&u.push(p)})}),{id:`edamam-${r.foodId}`,name:r.label,brand:r.brand||"",calories:Math.round(n.ENERC_KCAL)||0,image:r.image,nutritionScore:s,nutrients:{protein:Math.round(n.PROCNT)||0,carbs:Math.round(n.CHOCDF)||0,fat:Math.round(n.FAT)||0,fiber:Math.round(n.FIBTG)||0,sugar:Math.round(n.SUGAR)||0},details:{protein:Math.round(n.PROCNT)||0,carbs:Math.round(n.CHOCDF)||0,fat:Math.round(n.FAT)||0,sodium:Math.round(n.NA)||0,sugar:Math.round(n.SUGAR)||0,calories:Math.round(n.ENERC_KCAL)||0,ingredients:l,allergens:u,additives:[]},servingSizes:a,source:"Edamam"}}),EF=async t=>{try{const{searchProductsInMongoDB:e}=await _o(async()=>{const{searchProductsInMongoDB:n}=await Promise.resolve().then(()=>f7);return{searchProductsInMongoDB:n}},void 0),r=await e(t);return r.length>0?r:[]}catch(e){return console.error("Error getting fallback results from MongoDB:",e),[]}},Vj=t=>{try{const e=`search-${Date.now()}`,r={id:e,query:t,timestamp:Date.now(),isFavorite:!1,tags:[]},n=localStorage.getItem("foodSearchHistory"),i=n?JSON.parse(n):[];i.unshift(r);const a=i.slice(0,20);return localStorage.setItem("foodSearchHistory",JSON.stringify(a)),e}catch(e){return console.error("Error saving search history:",e),""}},mNe=()=>{try{const t=localStorage.getItem("foodSearchHistory");return t?JSON.parse(t):[]}catch(t){return console.error("Error getting search history:",t),[]}},gNe=t=>{try{const e=localStorage.getItem("foodSearchHistory"),n=(e?JSON.parse(e):[]).map(a=>a.id===t?{...a,isFavorite:!a.isFavorite}:a);localStorage.setItem("foodSearchHistory",JSON.stringify(n));const i=n.find(a=>a.id===t);return i?i.isFavorite:!1}catch(e){return console.error("Error toggling favorite:",e),!1}},vNe=(t,e)=>{try{const r=localStorage.getItem("foodSearchHistory"),i=(r?JSON.parse(r):[]).map(a=>{if(a.id===t){const s=a.tags||[];if(!s.includes(e))return{...a,tags:[...s,e]}}return a});return localStorage.setItem("foodSearchHistory",JSON.stringify(i)),!0}catch(r){return console.error("Error adding tag:",r),!1}},yNe=(t,e)=>{try{const r=localStorage.getItem("foodSearchHistory"),i=(r?JSON.parse(r):[]).map(a=>a.id===t&&a.tags?{...a,tags:a.tags.filter(s=>s!==e)}:a);return localStorage.setItem("foodSearchHistory",JSON.stringify(i)),!0}catch(r){return console.error("Error removing tag:",r),!1}},xNe=t=>{try{const e=localStorage.getItem("foodSearchHistory"),n=(e?JSON.parse(e):[]).filter(i=>i.id!==t);return localStorage.setItem("foodSearchHistory",JSON.stringify(n)),!0}catch(e){return console.error("Error removing search history item:",e),!1}},bNe=async(t,e,r=1,n="",i="")=>{var a,s,l,u,f,h;try{const p=Jt(We),m=lr(We),y=p.currentUser;if(!y)return console.error("No user logged in"),!1;const _={...t,dateAdded:new Date,mealType:e,quantity:r,notes:n,aiAnalysis:i,tracked:!0},b=new Date().toISOString().split("T")[0],x=Dt(m,"users",y.uid),N=Dt(m,"users",y.uid,"foodTracker",b),A=await an(N);if(A.exists()){const j=A.data(),E=[...j[e],_],P=j.totalCalories+t.calories*r,R=j.totalProtein+(((a=t.nutrients)==null?void 0:a.protein)||0)*r,C=j.totalCarbs+(((s=t.nutrients)==null?void 0:s.carbs)||0)*r,I=j.totalFat+(((l=t.nutrients)==null?void 0:l.fat)||0)*r;await zn(N,{[e]:E,totalCalories:P,totalProtein:R,totalCarbs:C,totalFat:I,lastUpdated:er.now()},{merge:!0})}else{const j={date:b,breakfast:e==="breakfast"?[_]:[],lunch:e==="lunch"?[_]:[],dinner:e==="dinner"?[_]:[],snack:e==="snack"?[_]:[],totalCalories:t.calories*r,totalProtein:(((u=t.nutrients)==null?void 0:u.protein)||0)*r,totalCarbs:(((f=t.nutrients)==null?void 0:f.carbs)||0)*r,totalFat:(((h=t.nutrients)==null?void 0:h.fat)||0)*r};await zn(N,{...j,created:er.now(),lastUpdated:er.now()})}return await zn(x,{recentFoods:I8({id:t.id,name:t.name,calories:t.calories,nutritionScore:t.nutritionScore,dateAdded:er.now()})},{merge:!0}),!0}catch(p){return console.error("Error adding food to tracker:",p),!1}},wNe=async(t=5)=>{try{const e=Jt(We),r=lr(We),n=e.currentUser;if(!n)return console.error("No user logged in"),[];const i=Dt(r,"users",n.uid),a=await an(i);return a.exists()&&a.data().recentFoods?a.data().recentFoods.sort((l,u)=>u.dateAdded.seconds-l.dateAdded.seconds).slice(0,t):[]}catch(e){return console.error("Error getting recent foods:",e),[]}},_Ne=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(!1),[i,a]=S.useState([]),[s,l]=S.useState(null),[u,f]=S.useState(!1),[h,p]=S.useState(null),[m,y]=S.useState([]),[_,b]=S.useState([]),[x,N]=S.useState("breakfast"),[A,j]=S.useState(!1),[E,P]=S.useState(null),[R,C]=S.useState(1),[I,M]=S.useState(Hh()),[F,D]=S.useState(void 0),[V,$]=S.useState(""),[H,G]=S.useState(!1),[Y,Q]=S.useState(!1),[W,J]=S.useState(""),[ee,q]=S.useState(!1),[X,ae]=S.useState(!1),[be,Ae]=S.useState(!1),[Ne,ge]=S.useState([]),[Pe,de]=S.useState("Edamam"),[ve,we]=S.useState({}),[le,Ye]=S.useState({}),[qe,pt]=S.useState(""),ot=Dl();Cn();const{toast:lt}=Vr(),br=Jt(We),Tt=lr(We);S.useEffect(()=>{const fe=new URLSearchParams(ot.search),ke=fe.get("q");ke&&(e(ke),tt(ke)),fe.get("scan")==="true"&&kn(),Me(),cr(),Lt()},[ot.search]);const Lt=()=>{const fe=mNe();ge(fe);const ke={},Ce={};fe.forEach(vt=>{vt.isFavorite&&(ke[vt.id]=!0),vt.tags&&vt.tags.length>0&&(Ce[vt.id]=vt.tags)}),we(ke),Ye(Ce)},cr=async()=>{try{const fe=await wNe(4);b(fe)}catch(fe){console.error("Error fetching recent foods:",fe)}},Me=async()=>{const fe=br.currentUser;if(fe)try{const ke=Dt(Tt,"users",fe.uid),Ce=await an(ke);if(Ce.exists()){const vt=Ce.data();p(vt.profile),await st(vt.profile)}}catch(ke){console.error("Error fetching user profile:",ke)}},st=async fe=>{if(fe)try{const ke=await oF();if(ke&&ke.length>0){const vt=ke.slice(0,3).join(" ");Ue(vt);return}let Ce=[];if(fe.health_goals==="Weight Loss"?(Ce.push("low calorie"),Ce.push("high protein")):fe.health_goals==="Muscle Gain"?(Ce.push("high protein"),Ce.push("protein rich")):fe.health_goals==="General Health"&&(Ce.push("balanced meal"),Ce.push("nutrient rich")),fe.health_conditions==="Diabetes"?(Ce.push("low glycemic"),Ce.push("sugar free")):fe.health_conditions==="Hypertension"?(Ce.push("low sodium"),Ce.push("heart healthy")):fe.health_conditions==="Heart Issues"&&(Ce.push("heart healthy"),Ce.push("omega 3")),fe.dietary_preferences==="Veg"?Ce.push("vegetarian"):fe.dietary_preferences==="Vegan"?Ce.push("vegan"):fe.dietary_preferences==="Keto"?Ce.push("keto"):fe.dietary_preferences==="Gluten-Free"&&Ce.push("gluten free"),Ce.length>0){const vt=Math.floor(Math.random()*Ce.length),rr=Ce[vt];Ue(rr)}}catch(ke){console.error("Error generating ML recommendations:",ke),Ue("healthy food")}},Ue=async fe=>{try{const ke=await oF(fe);console.log("AI Recommendations:",ke);const Ce=Pt(ke);if(Ce.length>0){const Wn=Ce.map(li=>rp(li)),gr=(await Promise.all(Wn)).map(li=>li.length>0?li[0]:null).filter(li=>li!==null);if(gr.length>0){y(gr);return}}const rr=(await rp(fe)).filter(Wn=>Wn.nutritionScore==="green");y(rr.slice(0,3))}catch(ke){console.error("Error fetching recommendations:",ke);try{const Ce=await rp("healthy "+fe);y(Ce.slice(0,3))}catch(Ce){console.error("Fallback recommendation error:",Ce)}}},Pt=fe=>{const ke=fe.split(`
`),Ce=[];for(const vt of ke)if(/^\d+\.\s+([A-Za-z\s]+)/.test(vt)){const rr=vt.match(/^\d+\.\s+([A-Za-z\s]+)/);rr&&rr[1]&&Ce.push(rr[1].trim())}else if(vt.includes(":")){const rr=vt.split(":");rr.length>1&&rr[0].trim().length<20&&Ce.push(rr[0].trim())}if(Ce.length===0){for(const vt of ke)if(vt.trim().length>0){const rr=vt.trim().split(" ").slice(0,3).join(" ");rr.length>3&&!Ce.includes(rr)&&Ce.push(rr)}}return Ce.slice(0,3)},tt=async fe=>{e(fe),n(!0),l(null),f(!1),ae(!1),$("");try{const ke=Vj(fe);pt(ke),Lt(),M(Hh());const Ce=await rp(fe,F);M(Hh()),a(Ce),f(Ce.length===0),lt({title:"Search Complete",description:`Found ${Ce.length} results for "${fe}" using ${Ce.length>0?Ce[0].apiSource:"APIs"}`})}catch(ke){console.error("Search error:",ke),lt({title:"Search Error",description:"There was a problem with your search. Please try again.",variant:"destructive"}),f(!0),M(Hh())}finally{n(!1)}},bt=()=>{q(!0)},kn=async fe=>{n(!0),l(null),q(!1),lt({title:"Processing Barcode",description:"Analyzing the scanned barcode..."});try{const ke=Math.floor(Math.random()*1e12).toString(),Ce=await uNe(ke);if(Ce.length>0){const vt=Vj(`Barcode: ${ke}`);pt(vt),Lt(),a(Ce),f(!1),lt({title:"Product Found",description:`Scanned product identified as ${Ce[0].name}`})}else f(!0),lt({title:"Product Not Found",description:"Could not identify the scanned product",variant:"destructive"})}catch(ke){console.error("Scan error:",ke),f(!0),lt({title:"Scan Error",description:"There was a problem scanning the product",variant:"destructive"})}finally{n(!1)}},Hn=async fe=>{n(!0),l(null),q(!1),lt({title:"Processing Image",description:"Analyzing the uploaded food image..."});try{const ke=await pNe(fe);if(ke.length>0){const Ce=Vj(`Image: ${fe.name}`);pt(Ce),Lt(),a(ke),f(!1),lt({title:"Food Identified",description:`Image identified as ${ke[0].name}`})}else f(!0),lt({title:"Food Not Identified",description:"Could not identify food in the image",variant:"destructive"})}catch(ke){console.error("Image upload error:",ke),f(!0),lt({title:"Processing Error",description:"There was a problem analyzing the image",variant:"destructive"})}finally{n(!1)}},gn=async fe=>{if(l(fe),ae(!1),fe){G(!0);try{const ke=await d7(fe);$(ke),ea(fe,ke),lt({title:"AI Analysis Ready",description:"Check the AI Analysis tab for personalized insights",variant:"default"})}catch(ke){console.error("Error getting AI analysis:",ke),$("Unable to analyze this food item at the moment.")}finally{G(!1)}}},ea=async(fe,ke)=>{try{const vt=Jt(We).currentUser;if(!vt){console.log("User not logged in, skipping food selection tracking");return}const rr=lr(We),Wn=Dt(rr,"users",vt.uid),So=Dt(rr,"users",vt.uid,"foodSelections",`${Date.now()}`);await zn(So,{foodId:fe.id,foodName:fe.name,nutritionScore:fe.nutritionScore,calories:fe.calories,nutrients:fe.nutrients,aiAnalysis:ke,timestamp:new Date().toISOString(),source:fe.apiSource||fe.source}),console.log("Food selection saved to user profile")}catch(Ce){console.error("Error saving food selection:",Ce)}},Ti=()=>{ae(!X)},La=()=>{Ae(!be)},_s=fe=>{tt(fe)},Pi=fe=>{const ke=gNe(fe);we(Ce=>({...Ce,[fe]:ke}))},on=(fe,ke)=>{vNe(fe,ke)&&Ye(Ce=>{const vt=Ce[fe]||[];return{...Ce,[fe]:[...vt,ke]}})},Ss=(fe,ke)=>{yNe(fe,ke)&&Ye(Ce=>{const vt=Ce[fe]||[];return{...Ce,[fe]:vt.filter(rr=>rr!==ke)}})},Je=fe=>{xNe(fe)&&(ge(ke=>ke.filter(Ce=>Ce.id!==fe)),we(ke=>{const Ce={...ke};return delete Ce[fe],Ce}),Ye(ke=>{const Ce={...ke};return delete Ce[fe],Ce}))},Ct=fe=>{P(fe),j(!0),C(1),J("")},Et=async()=>{if(E){n(!0);try{await bNe(E,x,R,W,V)?(lt({title:"Added to Tracker",description:`${E.name} added to your ${x} tracker.`}),cr()):lt({title:"Error",description:"Could not add food to tracker. Please try again.",variant:"destructive"})}catch(fe){console.error("Error adding food to tracker:",fe),lt({title:"Error",description:"Could not add food to tracker. Please try again.",variant:"destructive"})}finally{n(!1),j(!1),P(null)}}},ur=()=>r?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-safebite-teal border-t-transparent rounded-full mb-4"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Searching for food data..."})]}):u?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(mV,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Results Found"}),o.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[`We couldn't find any food matching "`,t,'"']}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>f(!1),children:"Try a Different Search"})]}):i.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(fe=>o.jsx(ed,{name:fe.name,calories:fe.calories,nutritionScore:fe.nutritionScore,onClick:()=>gn(fe)},fe.id))}):null,wr=()=>!A||!E?null:o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full p-6 border border-safebite-card-bg-alt",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Add to Food Tracker"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Food:"}),o.jsx("span",{className:"text-safebite-text font-medium",children:E.name})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Calories:"}),o.jsxs("span",{className:"text-safebite-text font-medium",children:[E.calories," kcal"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Meal Type"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(oe,{variant:x==="breakfast"?"default":"outline",className:x==="breakfast"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("breakfast"),children:"Breakfast"}),o.jsx(oe,{variant:x==="lunch"?"default":"outline",className:x==="lunch"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("lunch"),children:"Lunch"}),o.jsx(oe,{variant:x==="dinner"?"default":"outline",className:x==="dinner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("dinner"),children:"Dinner"}),o.jsx(oe,{variant:x==="snack"?"default":"outline",className:x==="snack"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>N("snack"),children:"Snack"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Quantity"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(oe,{variant:"outline",size:"sm",onClick:()=>C(Math.max(1,R-1)),disabled:R<=1,children:"-"}),o.jsx("span",{className:"mx-4 text-safebite-text font-medium",children:R}),o.jsx(oe,{variant:"outline",size:"sm",onClick:()=>C(R+1),children:"+"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Notes (optional)"}),o.jsx("input",{type:"text",className:"w-full p-2 bg-safebite-card-bg-alt border border-safebite-card-bg rounded-md text-safebite-text",placeholder:"E.g., Before workout, With salad",value:W,onChange:fe=>J(fe.target.value)})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(oe,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),o.jsx(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:Et,disabled:r,children:r?"Adding...":"Add to Tracker"})]})]})});return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[wr(),o.jsx(ru,{}),o.jsx("main",{className:"md:ml-64 min-h-screen",children:o.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Food Search"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Search for foods, scan barcodes, and get detailed nutrition information"})]}),o.jsx("div",{className:"sci-fi-card mb-6",children:o.jsx(WAe,{onSearch:tt,onScan:bt,onUpload:bt,onShowHistory:Ti,onApiSelect:La,activeApi:Pe})}),s?o.jsx(GAe,{food:s,onBack:()=>l(null),onAddToTracker:Ct,onAddTag:(fe,ke)=>on(fe,ke),onToggleFavorite:fe=>Pi(fe),isFavorite:ve[s.id]||!1,tags:le[s.id]||[],aiAnalysis:V,isAnalysisLoading:H}):X?o.jsx("div",{className:"sci-fi-card",children:o.jsx(KAe,{historyItems:Ne,recentFoods:_,onHistoryItemClick:_s,onFoodItemClick:gn,onToggleFavorite:Pi,onRemoveHistoryItem:Je,onAddTag:on,onRemoveTag:Ss})}):o.jsxs("div",{className:"sci-fi-card",children:[o.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:i.length>0?"Search Results":"Popular Searches"}),ur(),!i.length&&!u&&!r&&o.jsxs(o.Fragment,{children:[m.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recommended for You"}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:m.map(fe=>o.jsx(ed,{name:fe.name,calories:fe.calories,nutritionScore:fe.nutritionScore,onClick:()=>gn(fe)},fe.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Popular Categories"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(Fe,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>tt("healthy breakfast"),children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"h-12 w-12 rounded-full bg-green-500/20 flex items-center justify-center mb-3",children:o.jsx(PY,{className:"h-6 w-6 text-green-500"})}),o.jsx("h4",{className:"font-medium text-safebite-text",children:"Healthy Breakfast"})]})}),o.jsx(Fe,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>tt("protein rich"),children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"h-12 w-12 rounded-full bg-red-500/20 flex items-center justify-center mb-3",children:o.jsx(sd,{className:"h-6 w-6 text-red-500"})}),o.jsx("h4",{className:"font-medium text-safebite-text",children:"Protein Rich"})]})}),o.jsx(Fe,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>tt("heart healthy"),children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-3",children:o.jsx(rs,{className:"h-6 w-6 text-purple-500"})}),o.jsx("h4",{className:"font-medium text-safebite-text",children:"Heart Healthy"})]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recent Foods"}),_.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-4",children:_.map(fe=>o.jsx(ed,{name:fe.name,calories:fe.calories,nutritionScore:fe.nutritionScore,onClick:()=>gn(fe)},fe.id))}):o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(ed,{name:"Breakfast Cereal",calories:120,nutritionScore:"yellow",onClick:()=>tt("cereal")}),o.jsx(ed,{name:"Protein Bars",calories:200,nutritionScore:"yellow",onClick:()=>tt("protein bar")}),o.jsx(ed,{name:"Greek Yogurt",calories:100,nutritionScore:"green",onClick:()=>tt("greek yogurt")})]})]})]})]})]})}),ee&&o.jsx(YAe,{onScan:kn,onUpload:Hn,onClose:()=>q(!1)}),o.jsx(uW,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or the foods you're searching for!"}),be&&o.jsx(QAe,{apiSources:[{id:"mongodb",name:"SafeBite Database",description:"Our curated database of food products and recipes",isActive:F==="mongodb"},{id:"calorieninjas",name:"CalorieNinjas API",description:"Detailed nutrition data with image recognition capabilities",isActive:F==="calorieninjas"},{id:"openfoodfacts",name:"Open Food Facts",description:"Global community-driven food product database",isActive:F==="openfoodfacts"},{id:"edamam",name:"Edamam Food Database",description:"Comprehensive nutrition data for packaged and whole foods",isActive:F==="edamam"}],onToggleApi:fe=>{D(fe),Ae(!1),M(Hh())},onClose:()=>Ae(!1)})]})},SNe=()=>{const[t,e]=S.useState("chat"),[r,n]=S.useState([]),[i,a]=S.useState(""),[s,l]=S.useState([]),[u,f]=S.useState(!1),h=S.useRef(null),{toast:p}=Vr();dk();const m=Jt(We),y=lr(We),_=m.currentUser;S.useEffect(()=>{let P;return(async()=>{const C=Wd(y,"community","general","messages"),I=$P(C,BP("timestamp","asc"),zP(50));P=Rle(I,M=>{const F=M.docs.map(D=>{var $;const V=D.data();return{id:D.id,username:V.username||"Anonymous",avatar:V.avatar||"",text:V.text||"",timestamp:(($=V.timestamp)==null?void 0:$.toDate())||new Date,isCurrentUser:_?V.userId===_.uid:!1,linkedProduct:V.linkedProduct}});n(F)})})(),()=>{P&&P()}},[y,_]),S.useEffect(()=>{var P;(P=h.current)==null||P.scrollIntoView({behavior:"smooth"})},[r]);const b=async()=>{if(!i.trim())return;const P={userId:_==null?void 0:_.uid,username:(_==null?void 0:_.displayName)||(_==null?void 0:_.email)||"Anonymous",text:i,timestamp:LA()};try{const R=Wd(y,"community","general","messages");await C8(R,P),a("")}catch(R){p({title:"Error sending message",description:R.message,variant:"destructive"}),console.error("Error sending message to Firestore: ",R)}},x=P=>{l(R=>R.map(C=>C.id===P?{...C,likes:C.likes+1}:C)),p({title:"Post liked",description:"Your engagement helps the community!"})},N=P=>{p({title:"Share link copied!",description:"You can now paste the link to share this post."})},A=()=>{f(!u),p({title:u?"Unsubscribed from notifications":"Subscribed to notifications",description:u?"You'll no longer receive community updates":"You'll receive notifications for new posts and replies"})},j=P=>P.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),E=P=>P.toLocaleDateString("en-US",{month:"short",day:"numeric"});return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),o.jsx(ru,{}),o.jsx("main",{className:"md:ml-64 min-h-screen",children:o.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Live Community Chat Beta"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Connect with other users, share food discoveries, and get advice"})]}),o.jsx("div",{className:"mt-4 sm:mt-0",children:o.jsxs(oe,{variant:u?"default":"outline",className:u?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"sci-fi-button",onClick:A,children:[o.jsx(Od,{className:"mr-2 h-4 w-4"}),u?"Subscribed":"Subscribe to Updates"]})})]}),o.jsxs(Df,{defaultValue:"chat",className:"mb-6",onValueChange:e,children:[o.jsx("div",{className:"sci-fi-card mb-2 p-4",children:o.jsxs(au,{className:"grid grid-cols-2 gap-2",children:[o.jsxs(Pr,{value:"chat",className:t==="chat"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(u_,{className:"mr-2 h-4 w-4"}),"Live Chat"]}),o.jsxs(Pr,{value:"forum",className:t==="forum"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(es,{className:"mr-2 h-4 w-4"}),"Forum Discussions"]})]})}),o.jsx(Hr,{value:"chat",className:"mt-0",children:o.jsxs(Fe,{className:"sci-fi-card min-h-[600px] flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:o.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(u_,{className:"mr-2 h-5 w-5"}),"Live Community Chat Beta",o.jsxs(Mt,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:[r.length," messages"]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[r.map(P=>o.jsx("div",{className:`flex ${P.isCurrentUser?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${P.isCurrentUser?"bg-safebite-teal text-safebite-dark-blue rounded-tl-lg rounded-tr-none":"bg-safebite-card-bg-alt text-safebite-text rounded-tr-lg rounded-tl-none"} rounded-bl-lg rounded-br-lg p-3`,children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx(Bx,{className:"h-6 w-6 mr-2",children:o.jsx(Ux,{className:P.isCurrentUser?"bg-safebite-dark-blue text-safebite-teal":"",children:P.username.charAt(0)})}),o.jsx("span",{className:"font-medium text-sm",children:P.username}),o.jsx("span",{className:"text-xs ml-2 opacity-70",children:j(P.timestamp)})]}),o.jsx("p",{children:P.text}),P.linkedProduct&&o.jsxs("div",{className:"mt-2 p-2 bg-safebite-card-bg rounded-md flex items-center",children:[o.jsx("img",{src:P.linkedProduct.image,alt:P.linkedProduct.name,className:"h-10 w-10 rounded-md object-cover mr-2"}),o.jsx("span",{className:"text-sm",children:P.linkedProduct.name})]})]})},P.id)),o.jsx("div",{ref:h})]})}),o.jsx("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(At,{placeholder:"Type your message...",className:"sci-fi-input",value:i,onChange:P=>a(P.target.value),onKeyPress:P=>P.key==="Enter"&&b()}),o.jsx(oe,{onClick:b,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:o.jsx(SV,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",children:o.jsx(_T,{className:"h-4 w-4"})})]})})]})}),o.jsx(Hr,{value:"forum",className:"mt-0",children:o.jsx("div",{className:"grid gap-6",children:s.map(P=>o.jsx(Fe,{className:"sci-fi-card",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Bx,{className:"h-10 w-10 mr-3",children:o.jsx(Ux,{children:P.username.charAt(0)})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-safebite-text",children:P.username}),o.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Posted on ",E(P.timestamp)]})]})]}),P.username==="DietSpecialist"&&o.jsxs(Mt,{className:"bg-safebite-purple",children:[o.jsx(bp,{className:"h-3 w-3 mr-1"})," Expert"]})]}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:P.title}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:P.content}),P.linkedProduct&&o.jsxs("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md flex items-center",children:[o.jsx("img",{src:P.linkedProduct.image,alt:P.linkedProduct.name,className:"h-12 w-12 rounded-md object-cover mr-3"}),o.jsx("span",{children:P.linkedProduct.name})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(oe,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>x(P.id),children:[o.jsx(zY,{className:"h-4 w-4 mr-1"}),P.likes]}),o.jsxs(oe,{variant:"outline",size:"sm",className:"sci-fi-button",children:[o.jsx(u_,{className:"h-4 w-4 mr-1"}),P.replies," Replies"]})]}),o.jsxs(oe,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>N(P.id),children:[o.jsx(uy,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})},P.id))})})]}),o.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})},zv=[{id:"home_cooked",text:"How many home-cooked meals did you have this week?",type:"slider",min:0,max:21,step:1},{id:"water_intake",text:"On average, how many glasses of water did you drink daily?",type:"slider",min:0,max:15,step:1},{id:"junk_food",text:"How many times did you consume processed/junk food this week?",type:"slider",min:0,max:20,step:1},{id:"exercise",text:"How many minutes did you exercise this week in total?",type:"slider",min:0,max:1e3,step:10},{id:"energy_level",text:"How would you rate your energy levels this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}],ENe=[{id:"stress_level",text:"How would you rate your stress levels this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]},{id:"sleep_quality",text:"How would you rate your sleep quality this week?",type:"radio",options:["Very Poor","Poor","Fair","Good","Excellent"]},{id:"sleep_hours",text:"On average, how many hours of sleep did you get each night?",type:"slider",min:0,max:12,step:.5},{id:"fruit_veg",text:"How many servings of fruits and vegetables did you eat daily on average?",type:"slider",min:0,max:10,step:1},{id:"protein_intake",text:"How many protein-rich meals did you have this week?",type:"slider",min:0,max:21,step:1},{id:"alcohol",text:"How many alcoholic drinks did you consume this week?",type:"slider",min:0,max:30,step:1},{id:"mindfulness",text:"How many minutes did you spend on mindfulness or meditation this week?",type:"slider",min:0,max:500,step:5},{id:"social_activity",text:"How many social activities did you participate in this week?",type:"slider",min:0,max:20,step:1},{id:"screen_time",text:"On average, how many hours of screen time did you have daily (excluding work)?",type:"slider",min:0,max:16,step:.5},{id:"outdoor_time",text:"How many hours did you spend outdoors this week?",type:"slider",min:0,max:100,step:1},{id:"new_foods",text:"How many new foods or recipes did you try this week?",type:"slider",min:0,max:20,step:1},{id:"supplement_use",text:"Did you take your supplements/medications as prescribed this week?",type:"radio",options:["Never","Rarely","Sometimes","Usually","Always"]},{id:"mood",text:"How would you describe your overall mood this week?",type:"radio",options:["Very Negative","Negative","Neutral","Positive","Very Positive"]},{id:"digestion",text:"How would you rate your digestive health this week?",type:"radio",options:["Very Poor","Poor","Fair","Good","Excellent"]},{id:"sugar_intake",text:"How many sugary foods or drinks did you consume this week?",type:"slider",min:0,max:30,step:1}],jF={Diabetes:[{id:"blood_sugar",text:"How many times did your blood sugar levels go outside your target range this week?",type:"slider",min:0,max:30,step:1},{id:"carb_tracking",text:"How consistently did you track your carbohydrate intake this week?",type:"radio",options:["Not at all","Rarely","Sometimes","Usually","Always"]}],Hypertension:[{id:"blood_pressure",text:"How many times did you check your blood pressure this week?",type:"slider",min:0,max:30,step:1},{id:"salt_intake",text:"How would you rate your salt intake this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}],"Heart Issues":[{id:"cardio_exercise",text:"How many minutes of cardiovascular exercise did you do this week?",type:"slider",min:0,max:500,step:5},{id:"heart_symptoms",text:"Did you experience any heart-related symptoms this week?",type:"radio",options:["None","Mild","Moderate","Severe"]}],"Digestive Issues":[{id:"digestive_symptoms",text:"How many days this week did you experience digestive discomfort?",type:"slider",min:0,max:7,step:1},{id:"fiber_intake",text:"How would you rate your fiber intake this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}]},AF={"Weight Loss":[{id:"calorie_tracking",text:"How consistently did you track your calories this week?",type:"radio",options:["Not at all","Rarely","Sometimes","Usually","Always"]},{id:"weight_change",text:"How has your weight changed this week?",type:"radio",options:["Decreased significantly","Decreased slightly","Stayed the same","Increased slightly","Increased significantly"]}],"Muscle Gain":[{id:"strength_training",text:"How many strength training sessions did you complete this week?",type:"slider",min:0,max:14,step:1},{id:"protein_goal",text:"How many days did you meet your protein intake goal this week?",type:"slider",min:0,max:7,step:1}],"General Health":[{id:"balanced_meals",text:"How many balanced meals (including protein, carbs, and healthy fats) did you have this week?",type:"slider",min:0,max:21,step:1},{id:"health_habits",text:"How many days did you maintain all your healthy habits this week?",type:"slider",min:0,max:7,step:1}]},jNe=async()=>{var t;try{const r=Jt(We).currentUser;if(!r)return console.log("User not logged in, returning base questions"),zv;const n=lr(We),i=Dt(n,"users",r.uid),a=await an(i);if(!a.exists())return console.log("User profile not found, returning base questions"),zv;const s=a.data(),l=s.profile||{},u=((t=s.weeklyCheckin)==null?void 0:t.answers)||{},f=s.previousWeeklyQuestions||[];let h=[...zv];const p=l.health_conditions;p&&jF[p]&&(h=[...h,...jF[p]]);const m=l.health_goals;m&&AF[m]&&(h=[...h,...AF[m]]);const _=ENe.filter(A=>!f.includes(A.id)).sort(()=>Math.random()-.5),b=Math.floor(Math.random()*2)+2,x=_.slice(0,b);h=[...h,...x];const N=h.map(A=>A.id);return await zn(i,{previousWeeklyQuestions:N},{merge:!0}),h}catch(e){return console.error("Error getting personalized weekly questions:",e),zv}},ANe=async t=>{try{const e={name:"Weekly Health Data",brand:"SafeBite Health Tracker",calories:0,nutrients:{protein:0,carbs:0,fat:0,fiber:0,sugar:0},details:{ingredients:[],allergens:[],additives:[]}};for(const[i,a]of Object.entries(t))e.details.ingredients.push(`${i.replace(/_/g," ")}: ${a}`);return(await d7(e)).replace(/nutritional assessment/gi,"weekly health assessment").replace(/food/gi,"health data").replace(/meal/gi,"week").replace(/eat/gi,"maintain").replace(/diet/gi,"lifestyle")}catch(e){return console.error("Error generating weekly insights:",e),"We couldn't generate insights from your weekly data at this time. Please try again later."}},NNe=()=>{const t=Cn(),{toast:e}=Vr(),[r,n]=S.useState(0),[i,a]=S.useState({}),[s,l]=S.useState(!1),[u,f]=S.useState(!1),[h,p]=S.useState(!0),[m,y]=S.useState([]),[_,b]=S.useState(""),[x,N]=S.useState(!1),A=Jt(We),j=lr(We),E=A.currentUser,[P,R]=S.useState(!1),C=m[r],I=m.length>0?(r+1)/m.length*100:0;S.useEffect(()=>{(async()=>{if(p(!0),E){const G=Dt(j,"users",E.uid);try{const Y=await an(G);if(Y.exists()){const W=Y.data();if(W.weeklyCheckin&&W.weeklyCheckin.timestamp){const J=W.weeklyCheckin.timestamp.toDate(),ee=new Date,q=J.getFullYear()===ee.getFullYear()&&J.getMonth()===ee.getMonth()&&J.getDate()>=ee.getDate()-ee.getDay()&&J.getDate()<=ee.getDate()+(6-ee.getDay());R(q),f(q),q&&W.weeklyCheckin.insights&&b(W.weeklyCheckin.insights)}}const Q=await jNe();y(Q)}catch(Y){e({title:"Error checking progress",description:Y.message,variant:"destructive"}),console.error("Error initializing weekly questions: ",Y)}finally{p(!1)}}else p(!1)})()},[E,j,e,t]),S.useEffect(()=>{const H={};m.forEach(G=>{G.type==="slider"?H[G.id]=G.min||0:G.type==="radio"&&G.options?H[G.id]=void 0:H[G.id]=""}),a(H)},[]);const M=()=>{if(i[C.id]===void 0||i[C.id]===""){e({title:"Missing Answer",description:"Please answer the current question before proceeding.",variant:"destructive"});return}r<m.length-1?n(H=>H+1):V()},F=()=>{r>0&&n(H=>H-1)},D=H=>{a(G=>({...G,[C.id]:H}))},V=async()=>{if(!m.every(G=>i[G.id]!==void 0&&i[G.id]!=="")){e({title:"Incomplete",description:"Please ensure all questions are answered.",variant:"destructive"});return}if(l(!0),console.log("Weekly answers submitted:",i),E){const G=E.uid,Y=Dt(j,"users",G);try{N(!0);let Q="";try{Q=await ANe(i),b(Q)}catch(W){console.error("Error generating insights:",W),Q="We couldn't generate personalized insights at this time."}await zn(Y,{weeklyCheckin:{answers:i,insights:Q,timestamp:er.now()},lastWeeklyPrompt:er.now()},{merge:!0}),f(!0),e({title:"Weekly check-in completed!",description:"Thank you for your updates. We've generated personalized insights for you."}),setTimeout(()=>{t("/dashboard")},3e3)}catch(Q){e({title:"Error saving check-in",description:Q.message,variant:"destructive"}),console.error("Error writing weekly check-in to Firestore: ",Q)}finally{l(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),l(!1),t("/auth/login")},$=()=>{var H;if(!C)return null;switch(C.type){case"slider":return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex justify-between text-sm text-safebite-text-secondary mb-2",children:[o.jsx("span",{children:C.min}),o.jsx("span",{children:C.max})]}),o.jsx("input",{type:"range",min:C.min,max:C.max,step:C.step,value:i[C.id]||C.min,onChange:G=>D(parseInt(G.target.value)),className:"w-full sci-fi-input accent-safebite-teal"}),o.jsx("div",{className:"mt-2 text-center text-xl font-semibold text-safebite-teal",children:i[C.id]||C.min})]});case"radio":return o.jsx("div",{className:"space-y-3 w-full",children:(H=C.options)==null?void 0:H.map(G=>o.jsx("div",{onClick:()=>D(G),className:`p-4 rounded-lg border cursor-pointer transition-all ${i[C.id]===G?"border-safebite-teal bg-safebite-teal/10 text-safebite-teal":"border-safebite-card-bg-alt bg-safebite-card-bg-alt text-safebite-text"}`,children:G},G))});default:return o.jsx("input",{type:"text",value:i[C.id]||"",onChange:G=>D(G.target.value),placeholder:"Type your answer here...",className:"sci-fi-input w-full"})}};return u?o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:o.jsxs(Fe,{className:"sci-fi-card max-w-2xl w-full text-center",children:[o.jsx("div",{className:"h-20 w-20 rounded-full bg-safebite-teal/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Rd,{className:"h-10 w-10 text-safebite-teal"})}),o.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Thank You!"}),o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Your weekly health check-in is complete. We've generated personalized insights based on your responses."}),x?o.jsxs("div",{className:"py-8 flex flex-col items-center",children:[o.jsx(Un,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Generating your personalized insights..."})]}):_?o.jsxs("div",{className:"bg-safebite-card-bg-alt p-6 rounded-md mb-6 text-left",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ly,{className:"h-6 w-6 text-safebite-teal mr-2"}),o.jsx("h3",{className:"text-xl font-medium text-safebite-text",children:"Your Weekly Health Insights"})]}),o.jsx("div",{className:"text-safebite-text-secondary whitespace-pre-line",children:_.split(`
`).map((H,G)=>o.jsx("p",{className:"mb-2",children:H},G))})]}):o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"We've updated your recommendations based on your responses."}),o.jsx(oe,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]})}):o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:o.jsxs(Fe,{className:"sci-fi-card max-w-md w-full",children:[o.jsx("div",{className:"absolute top-0 right-0 left-0 p-2 text-center bg-red-500 text-white text-xs",children:"Under Development"}),h?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Un,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 animate-spin"}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Loading your personalized questions..."}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're tailoring this week's questions based on your profile and previous responses."})]}):P?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rd,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"You've already completed this week's check-in!"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Check back next week for another opportunity to update your health information."}),_&&o.jsxs("div",{className:"bg-safebite-card-bg-alt p-6 rounded-md mb-6 text-left",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ly,{className:"h-6 w-6 text-safebite-teal mr-2"}),o.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Your Weekly Health Insights"})]}),o.jsx("div",{className:"text-safebite-text-secondary whitespace-pre-line",children:_.split(`
`).map((H,G)=>o.jsx("p",{className:"mb-2",children:H},G))})]}),o.jsx(oe,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]}):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-6",children:"Weekly Health Check-in"}),s?o.jsx("div",{className:"py-16 flex flex-col items-center",children:o.jsx(Us,{size:"lg",text:"Submitting your answers..."})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",r+1," of ",m.length]}),o.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(I),"% Complete"]})]}),o.jsx(Vp,{value:I,className:"h-2 bg-safebite-card-bg-alt"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-6",children:C==null?void 0:C.text}),$()]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(oe,{variant:"outline",onClick:F,disabled:r===0,className:"sci-fi-button",children:[o.jsx(Yx,{className:"mr-2 h-4 w-4"}),"Previous"]}),o.jsx(oe,{onClick:M,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:r<m.length-1?o.jsxs(o.Fragment,{children:["Next",o.jsx(as,{className:"ml-2 h-4 w-4"})]}):"Complete"})]})]})]}),o.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-safebite-text-secondary",children:"Created by Aditya Shenvi"})]})})},vW=[{id:"food_explorer",name:"Food Explorer",description:"Scan 10 different food products",icon:"🔍",level:"bronze",achieved:!1,progress:2,progressMax:10},{id:"water_tracker",name:"Hydration Hero",description:"Track your water intake for 7 consecutive days",icon:"💧",level:"silver",achieved:!1,progress:3,progressMax:7},{id:"recipe_master",name:"Recipe Master",description:"Save and try 5 healthy recipes",icon:"🍲",level:"gold",achieved:!1,progress:1,progressMax:5},{id:"community_helper",name:"Community Guide",description:"Help 3 users by answering their questions in the community",icon:"🤝",level:"bronze",achieved:!1,progress:0,progressMax:3},{id:"health_analyst",name:"Health Analyst",description:"Complete all health calculators in the HealthBox",icon:"📊",level:"silver",achieved:!0}],yW=[{id:"first_login",name:"First Steps",description:"Log in to SafeBite for the first time",completed:!0,date:new Date(Date.now()-864e5*3),reward:{points:100}},{id:"complete_profile",name:"Getting to Know You",description:"Complete your user profile with all health data",completed:!0,date:new Date(Date.now()-864e5*2),reward:{points:150}},{id:"first_scan",name:"Food Detective",description:"Scan your first food product",completed:!0,date:new Date(Date.now()-864e5),reward:{points:50,badges:[{id:"first_scan_badge",name:"Scanner Novice",description:"First food product scanned",icon:"🔎",level:"bronze",achieved:!0}]}},{id:"first_week",name:"One Week Strong",description:"Use SafeBite for 7 consecutive days",completed:!1,reward:{points:200}},{id:"health_guru",name:"Health Guru",description:"Achieve all health goals for one week",completed:!1,reward:{points:500,badges:[{id:"health_guru_badge",name:"Health Master",description:"Achieved all health goals for a week",icon:"🏆",level:"gold",achieved:!1}]}}];vW.filter(t=>t.achieved),yW.filter(t=>t.completed);const TNe=()=>vW,PNe=()=>yW,CNe=()=>{const[t,e]=S.useState("healthReport"),[r,n]=S.useState(null),[i,a]=S.useState(!0),[s,l]=S.useState(""),[u,f]=S.useState(null),{toast:h}=Vr(),{isGuest:p}=dk(),m=Jt(We),y=lr(We),_=TNe(),b=PNe();S.useEffect(()=>{(async()=>{if(p){a(!1);return}try{const G=m.currentUser;if(!G){a(!1);return}const Y=Dt(y,"users",G.uid),Q=await an(Y);if(Q.exists()){const W=Q.data();f(W),console.log("User profile loaded for reports:",W)}else console.log("No user profile found!")}catch(G){console.error("Error fetching user profile:",G),l(G.message)}finally{a(!1)}})()},[p,m,y]);const x=()=>{var H,G,Y;if((H=u==null?void 0:u.weeklyCheckin)!=null&&H.answers){const Q=u.weeklyCheckin.answers,W=((G=u.profile)==null?void 0:G.health_goals)==="Weight Loss"?1600:((Y=u.profile)==null?void 0:Y.health_goals)==="Muscle Gain"?2200:1800,J=Q.exercise>300?1.2:Q.exercise>150?1.1:1,ee=Q.home_cooked>15?.9:Q.home_cooked>10?.95:1,q=Q.junk_food>10?1.2:Q.junk_food>5?1.1:1,X=W*J*ee*q;return{calorieData:[{date:"Mon",value:Math.round(X*(.9+Math.random()*.2))},{date:"Tue",value:Math.round(X*(.9+Math.random()*.2))},{date:"Wed",value:Math.round(X*(.9+Math.random()*.2))},{date:"Thu",value:Math.round(X*(.9+Math.random()*.2))},{date:"Fri",value:Math.round(X*(.9+Math.random()*.2))},{date:"Sat",value:Math.round(X*(.9+Math.random()*.2))},{date:"Sun",value:Math.round(X*(.9+Math.random()*.2))}],waterData:[{date:"Mon",value:Q.water_intake?Math.max(1,Math.round(Q.water_intake*.8)):6},{date:"Tue",value:Q.water_intake?Math.max(1,Math.round(Q.water_intake*.9)):5},{date:"Wed",value:Q.water_intake?Math.max(1,Math.round(Q.water_intake*1.1)):8},{date:"Thu",value:Q.water_intake?Math.max(1,Math.round(Q.water_intake*1)):7},{date:"Fri",value:Q.water_intake?Math.max(1,Math.round(Q.water_intake*.7)):4},{date:"Sat",value:Q.water_intake?Math.max(1,Math.round(Q.water_intake*1.2)):9},{date:"Sun",value:Q.water_intake?Math.max(1,Math.round(Q.water_intake*.9)):6}],nutrientData:[{date:"Mon",value:Q.junk_food>5?70:85},{date:"Tue",value:Q.junk_food>5?65:78},{date:"Wed",value:Q.junk_food>5?75:92},{date:"Thu",value:Q.junk_food>5?68:76},{date:"Fri",value:Q.junk_food>5?72:82},{date:"Sat",value:Q.junk_food>5?74:89},{date:"Sun",value:Q.junk_food>5?71:86}]}}return{calorieData:[{date:"Mon",value:1800},{date:"Tue",value:1600},{date:"Wed",value:2100},{date:"Thu",value:1500},{date:"Fri",value:1900},{date:"Sat",value:2200},{date:"Sun",value:1700}],waterData:[{date:"Mon",value:6},{date:"Tue",value:5},{date:"Wed",value:8},{date:"Thu",value:7},{date:"Fri",value:4},{date:"Sat",value:9},{date:"Sun",value:6}],nutrientData:[{date:"Mon",value:85},{date:"Tue",value:78},{date:"Wed",value:92},{date:"Thu",value:76},{date:"Fri",value:82},{date:"Sat",value:89},{date:"Sun",value:86}]}},{calorieData:N,waterData:A,nutrientData:j}=x(),P=(()=>{var H;if(u!=null&&u.profile){const G=u.profile,Y=(H=u.weeklyCheckin)==null?void 0:H.answers;let Q=G.health_goals==="Weight Loss"?1600:G.health_goals==="Muscle Gain"?2200:1800,W=G.health_goals==="Muscle Gain"?120:G.health_goals==="Weight Loss"?100:80,J=G.health_goals==="Weight Loss"?150:G.health_goals==="Muscle Gain"?250:200,ee=G.health_goals==="Weight Loss"?50:G.health_goals==="Muscle Gain"?70:60;Y&&(Y.exercise>300?Q+=200:Y.exercise>150&&(Q+=100),Y.exercise>300?W+=20:Y.exercise>150&&(W+=10));const q=Math.round(Q*.9),X=Y!=null&&Y.water_intake?(Y.water_intake*.25).toFixed(1):"6.5",ae=Math.round(W*.9),be=Math.round(J*.92),Ae=Math.round(ee*.97),Ne=(Y==null?void 0:Y.junk_food)>5?32:22,ge=Y!=null&&Y.exercise?Math.round(Y.exercise/7):35;return[{name:"Daily Calories",value:q.toLocaleString(),target:Q.toLocaleString(),unit:"kcal",progress:Math.round(q/Q*100)},{name:"Water Intake",value:X,target:"8",unit:"cups",progress:Math.round(parseFloat(X)/8*100)},{name:"Protein",value:ae.toString(),target:W.toString(),unit:"g",progress:Math.round(ae/W*100)},{name:"Carbs",value:be.toString(),target:J.toString(),unit:"g",progress:Math.round(be/J*100)},{name:"Fat",value:Ae.toString(),target:ee.toString(),unit:"g",progress:Math.round(Ae/ee*100)},{name:"Sugar",value:Ne.toString(),target:"25",unit:"g",progress:Math.round(Ne/25*100)},{name:"Exercise",value:ge.toString(),target:"30",unit:"min",progress:Math.round(ge/30*100)}]}return[{name:"Daily Calories",value:"1,750",target:"2,000",unit:"kcal",progress:87},{name:"Water Intake",value:"6.5",target:"8",unit:"cups",progress:81},{name:"Protein",value:"72",target:"80",unit:"g",progress:90},{name:"Carbs",value:"230",target:"250",unit:"g",progress:92},{name:"Fat",value:"58",target:"60",unit:"g",progress:97},{name:"Sugar",value:"32",target:"25",unit:"g",progress:128},{name:"Exercise",value:"35",target:"30",unit:"min",progress:117}]})(),C=(()=>{var G,Y,Q,W,J,ee,q,X;const H=[{name:"High Sodium Foods",count:((G=u==null?void 0:u.profile)==null?void 0:G.health_conditions)==="Hypertension"?7:4,recommendation:"Try to reduce your sodium intake by choosing low-sodium alternatives."},{name:"Artificial Additives",count:((Q=(Y=u==null?void 0:u.weeklyCheckin)==null?void 0:Y.answers)==null?void 0:Q.junk_food)>5?10:7,recommendation:"Consider choosing more natural food options with fewer additives."},{name:"Added Sugar",count:((W=u==null?void 0:u.profile)==null?void 0:W.health_conditions)==="Diabetes"?8:5,recommendation:"Look for sugar-free or reduced sugar alternatives."}];return((J=u==null?void 0:u.profile)==null?void 0:J.health_conditions)==="Diabetes"&&H.push({name:"High Glycemic Index Foods",count:6,recommendation:"Choose low glycemic index foods to help manage blood sugar levels."}),((ee=u==null?void 0:u.profile)==null?void 0:ee.health_conditions)==="Heart Issues"&&H.push({name:"Trans Fats",count:3,recommendation:"Avoid foods with trans fats as they can increase risk of heart disease."}),(((q=u==null?void 0:u.profile)==null?void 0:q.dietary_preferences)==="Vegan"||((X=u==null?void 0:u.profile)==null?void 0:X.dietary_preferences)==="Vegetarian")&&H.push({name:"Hidden Animal Products",count:2,recommendation:"Watch for hidden animal-derived ingredients in processed foods."}),H})(),I=()=>{h({title:"Report Downloaded",description:"Your health report has been downloaded successfully."})},M=H=>{n(r===H?null:H)},F=(H,G)=>{h({title:"Shared successfully",description:`Your achievement has been shared to ${H}.`}),n(null)},D=x().calorieData,V=x().waterData,$=x().nutrientData;return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),o.jsx(ru,{}),o.jsx("main",{className:"md:ml-64 min-h-screen",children:o.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i&&o.jsxs("div",{className:"flex items-center justify-center h-64",children:[o.jsx(Un,{className:"h-8 w-8 text-safebite-teal animate-spin"}),o.jsx("span",{className:"ml-2 text-safebite-text-secondary",children:"Loading your reports..."})]}),!i&&s&&o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(_f,{className:"h-12 w-12 text-red-500 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Error Loading Reports"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:s}),o.jsx(oe,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Try Again"})]}),!i&&!s&&o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Reports & Achievements"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Track your health progress and earn badges for healthy habits"})]}),o.jsx("div",{className:"mt-4 sm:mt-0",children:o.jsxs(oe,{onClick:I,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[o.jsx(wY,{className:"mr-2 h-4 w-4"}),"Download Report"]})})]}),o.jsxs(Df,{defaultValue:"healthReport",className:"mb-6",onValueChange:e,children:[o.jsx("div",{className:"sci-fi-card mb-2 p-4",children:o.jsxs(au,{className:"grid grid-cols-3 gap-2",children:[o.jsxs(Pr,{value:"healthReport",className:t==="healthReport"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(vY,{className:"mr-2 h-4 w-4"}),"Health Report"]}),o.jsxs(Pr,{value:"badges",className:t==="badges"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(bp,{className:"mr-2 h-4 w-4"}),"Badges"]}),o.jsxs(Pr,{value:"achievements",className:t==="achievements"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(fd,{className:"mr-2 h-4 w-4"}),"Achievements"]})]})}),o.jsxs(Hr,{value:"healthReport",className:"mt-0",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:o.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(ni,{className:"mr-2 h-5 w-5"}),"Weekly Overview"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Health Score"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Your weekly health rating"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"text-3xl font-bold text-safebite-teal",children:"78"}),o.jsxs("div",{className:"ml-2 text-green-400 flex items-center text-sm",children:[o.jsx(pY,{className:"h-4 w-4 mr-1"}),"+12%"]})]})]}),o.jsx("div",{className:"space-y-4",children:P.map(H=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-safebite-text",children:H.name}),o.jsxs("span",{className:"text-safebite-text-secondary",children:[H.value," / ",H.target," ",H.unit]})]}),o.jsx(Vp,{value:H.progress,className:`h-2 ${H.progress>100?H.name==="Exercise"?"bg-green-600":"bg-amber-600":""}`})]},H.name))})]})]}),o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:o.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Food Safety Analysis"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Safety Score"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Based on scanned products"})]}),o.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500 flex items-center justify-center text-safebite-dark-blue text-2xl font-bold",children:"6.5"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-safebite-text-secondary",children:"Food safety issues found in your scanned products this week:"}),C.map((H,G)=>o.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("span",{className:"font-medium text-safebite-text",children:H.name}),o.jsxs(Mt,{className:"bg-amber-500 text-safebite-dark-blue",children:[H.count," items"]})]}),o.jsx("p",{className:"text-sm text-safebite-text-secondary",children:H.recommendation})]},G))]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(sl,{title:"Calorie Intake",data:D,color:"#00ffcc"}),o.jsx(sl,{title:"Water Intake (cups)",data:V,color:"#3b82f6"}),o.jsx(sl,{title:"Nutrient Score",data:$,color:"#a855f7"})]})]}),o.jsx(Hr,{value:"badges",className:"mt-0",children:o.jsx(Fe,{className:"sci-fi-card mb-6",children:o.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(bp,{className:"mr-2 h-5 w-5"}),"Your Badges"]})}),o.jsx("div",{className:"p-6",children:i?o.jsx("div",{className:"flex justify-center",children:o.jsx(Un,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):s?o.jsx("div",{className:"text-center text-red-500",children:"Error loading badges. Please try again."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:_&&_.map((H,G)=>o.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[o.jsx("div",{className:"mb-2 text-sm text-safebite-text-secondary",children:H.category}),o.jsx(Mt,{className:"mb-2 bg-amber-500 text-safebite-dark-blue",children:"Badge"}),o.jsx(qi,{className:"h-10 w-10 text-amber-500 mb-2"}),o.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:H.name}),o.jsx("p",{className:"text-safebite-text-secondary text-center",children:H.description}),o.jsx(oe,{onClick:()=>M("badge-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="badge-"+G&&o.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[o.jsx(oe,{onClick:()=>F("facebook"),variant:"ghost",size:"icon",children:o.jsx(Gj,{className:"h-5 w-5"})}),o.jsx(oe,{onClick:()=>F("twitter"),variant:"ghost",size:"icon",children:o.jsx(Qj,{className:"h-5 w-5"})}),o.jsx(oe,{onClick:()=>F("instagram"),variant:"ghost",size:"icon",children:o.jsx(uy,{className:"h-5 w-5"})})]})]},G))})})]})})}),o.jsx(Hr,{value:"achievements",className:"mt-0",children:o.jsx(Fe,{className:"sci-fi-card mb-6",children:o.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[o.jsx(fd,{className:"mr-2 h-5 w-5"}),"Achievements"]})}),o.jsx("div",{className:"p-6",children:i?o.jsx("div",{className:"flex justify-center",children:o.jsx(Un,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):s?o.jsx("div",{className:"text-center text-red-500",children:"Error loading achievements. Please try again."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b&&b.map((H,G)=>o.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[o.jsx(fd,{className:"h-10 w-10 text-amber-500 mb-2"}),o.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:H.name}),o.jsx("p",{className:"text-safebite-text-secondary text-center",children:H.description}),o.jsxs("p",{className:"text-safebite-text-secondary text-center mb-2",children:["Progress: ",H.progress,"%"]}),o.jsx(Vp,{value:H.progress,className:"w-full mb-2"}),o.jsx(oe,{onClick:()=>M("achievement-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="achievement-"+G&&o.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[o.jsx(oe,{onClick:()=>F("facebook"),variant:"ghost",size:"icon",children:o.jsx(Gj,{className:"h-5 w-5"})}),o.jsx(oe,{onClick:()=>F("twitter"),variant:"ghost",size:"icon",children:o.jsx(Qj,{className:"h-5 w-5"})}),o.jsx(oe,{onClick:()=>F("instagram"),variant:"ghost",size:"icon",children:o.jsx(uy,{className:"h-5 w-5"})})]})]},G))})})]})})})]})]})})]})},kNe=async t=>{try{console.log("Searching recipes from MongoDB:",t);const e=`${t} recipe`,r=await _m(e);let n=[...r];if(t.toLowerCase().indexOf("recipe")===-1){const s=await _m(t);n=[...r,...s]}return n.filter(s=>{var l,u,f,h;return((l=s.details)==null?void 0:l.ingredients)&&s.details.ingredients.length>0||((u=s.category)==null?void 0:u.toLowerCase().includes("recipe"))||((f=s.name)==null?void 0:f.toLowerCase().includes("recipe"))||t.toLowerCase().includes("recipe")&&((h=s.details)==null?void 0:h.ingredients)}).filter((s,l,u)=>l===u.findIndex(f=>f.id===s.id)).map(s=>{var u,f,h,p,m,y,_,b;let l=((u=s.details)==null?void 0:u.instructions)||[];return l.length===0&&((f=s.details)!=null&&f.ingredients)&&s.details.ingredients.length>0&&(l=Sk(s.name,s.details.ingredients)),{id:s.id,title:s.name,image:s.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(s.name+" food")}`,calories:s.calories||0,servings:s.servings||4,cookTime:s.cookTime||s.cook_time||30,prepTime:s.prepTime||s.prep_time||15,healthLabels:INe(s),source:s.source||"MongoDB",ingredients:((h=s.details)==null?void 0:h.ingredients)||[],instructions:l,nutrients:{protein:((p=s.nutrients)==null?void 0:p.protein)||0,carbs:((m=s.nutrients)==null?void 0:m.carbs)||0,fat:((y=s.nutrients)==null?void 0:y.fat)||0,fiber:((_=s.nutrients)==null?void 0:_.fiber)||0,sodium:((b=s.details)==null?void 0:b.sodium)||0}}})}catch(e){return console.error("Error searching recipes from MongoDB:",e),[]}},INe=t=>{var r,n,i,a;const e=[];if(t.nutritionScore==="green"?e.push("Healthy"):t.nutritionScore==="red"?e.push("High-Calorie"):e.push("Balanced"),((r=t.nutrients)==null?void 0:r.protein)>15&&e.push("High-Protein"),((n=t.nutrients)==null?void 0:n.fiber)>5&&e.push("High-Fiber"),((i=t.nutrients)==null?void 0:i.fat)<5&&e.push("Low-Fat"),(a=t.details)!=null&&a.ingredients){const s=t.details.ingredients.join(" ").toLowerCase(),l=["meat","chicken","beef","pork","fish","seafood","lamb"],u=["milk","cheese","yogurt","cream","butter"];l.some(f=>s.includes(f))||(e.push("Vegetarian"),u.some(f=>s.includes(f))||e.push("Vegan"))}return e},ONe="a522a439",RNe="636a3e9b2dd910c9b39f42bfdcbcf61a",MNe="07d50733",DNe="80fcb49b500737827a9a23f7049653b9",Ka=async t=>{try{console.log("Getting recipes for query:",t);try{const e=await NF(t);if(console.log(`Edamam returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("Edamam search failed:",e)}try{const e=await kNe(t);if(console.log(`MongoDB returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("MongoDB search failed:",e)}if(t.includes(" ")){const e=t.split(" ")[0];console.log(`Trying simplified query: ${e}`);try{const r=await NF(e);if(console.log(`Simplified query returned ${r.length} recipes`),r.length>0)return r}catch(r){console.error("Simplified query search failed:",r)}}return console.log("No recipes found for query:",t),[]}catch(e){return console.error("Error getting recipes:",e),[]}},NF=async t=>{try{console.log("Searching recipes from Edamam:",t);const e=await Promise.allSettled([LNe(t),$Ne(t)]);let r=[];for(const n of e)n.status==="fulfilled"&&n.value.length>0&&(r=[...r,...n.value]);return r}catch(e){return console.error("Error searching recipes from Edamam:",e),[]}},LNe=async t=>{try{console.log("Searching Edamam Recipe API:",t);const e=`https://api.edamam.com/api/recipes/v2?type=public&q=${encodeURIComponent(t)}&app_id=${ONe}&app_key=${RNe}`;console.log("Edamam Recipe API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Recipe API error: ${r.status}`),new Error(`Edamam Recipe API error: ${r.status}`);const n=await r.json();return!n.hits||n.hits.length===0?[]:n.hits.map(i=>{var s,l,u,f,h,p,m,y,_,b;const a=i.recipe;return{id:`edamam-${a.uri.split("#recipe_")[1]}`,title:a.label,image:a.image,calories:Math.round(a.calories/a.yield),servings:a.yield,cookTime:a.totalTime>0?a.totalTime:30,prepTime:Math.round(a.totalTime/3)||10,healthLabels:a.healthLabels||[],source:"Edamam",ingredients:a.ingredientLines||[],instructions:Sk(a.label,a.ingredientLines||[]),nutrients:{protein:Math.round(((l=(s=a.totalNutrients)==null?void 0:s.PROCNT)==null?void 0:l.quantity)/a.yield)||0,carbs:Math.round(((f=(u=a.totalNutrients)==null?void 0:u.CHOCDF)==null?void 0:f.quantity)/a.yield)||0,fat:Math.round(((p=(h=a.totalNutrients)==null?void 0:h.FAT)==null?void 0:p.quantity)/a.yield)||0,fiber:Math.round(((y=(m=a.totalNutrients)==null?void 0:m.FIBTG)==null?void 0:y.quantity)/a.yield)||0,sodium:Math.round(((b=(_=a.totalNutrients)==null?void 0:_.NA)==null?void 0:b.quantity)/a.yield)||0}}})}catch(e){return console.error("Error searching Edamam Recipe API:",e),[]}},$Ne=async t=>{try{console.log("Searching Edamam Food API for recipes:",t);const e=`https://api.edamam.com/api/food-database/v2/parser?app_id=${MNe}&app_key=${DNe}&ingr=${encodeURIComponent(t)}`;console.log("Edamam Food API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Food API error: ${r.status}`),new Error(`Edamam Food API error: ${r.status}`);const n=await r.json();return!n.hints||n.hints.length===0?[]:n.hints.filter(i=>{const a=i.food;return a.category==="Generic meals"||a.category==="Generic dishes"||a.foodContentsLabel}).map(i=>{const a=i.food,s=i.measures,l=s.find(f=>f.label==="Serving")||s[0],u=a.foodContentsLabel?a.foodContentsLabel.split(";").map(f=>f.trim()):[a.label];return{id:`edamam-food-${a.foodId}`,title:a.label,image:a.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(a.label+" food")}`,calories:Math.round(a.nutrients.ENERC_KCAL)||0,servings:4,cookTime:30,prepTime:15,healthLabels:a.healthLabels||[],source:"Edamam Food",ingredients:u,instructions:Sk(a.label,u),nutrients:{protein:Math.round(a.nutrients.PROCNT)||0,carbs:Math.round(a.nutrients.CHOCDF)||0,fat:Math.round(a.nutrients.FAT)||0,fiber:Math.round(a.nutrients.FIBTG)||0,sodium:Math.round(a.nutrients.NA)||0}}})}catch(e){return console.error("Error searching Edamam Food API for recipes:",e),[]}},Sk=(t,e)=>{const r=[`Prepare all ingredients for ${t}.`,"Wash and chop all vegetables and herbs as needed."],n=e.some(l=>/chicken|beef|pork|turkey|lamb|meat|fish|seafood|shrimp/i.test(l)),i=e.some(l=>/vegetable|carrot|onion|pepper|tomato|potato|broccoli|spinach|lettuce|kale|cabbage/i.test(l)),a=e.some(l=>/milk|cheese|cream|yogurt|butter/i.test(l)),s=e.some(l=>/rice|pasta|noodle|bread|flour|grain|wheat|oat|barley|quinoa/i.test(l));return n&&r.push("Season the meat with salt and pepper.","Cook the meat until it reaches the appropriate internal temperature."),i&&r.push("Sauté the vegetables until tender."),s&&r.push("Cook the grains according to package instructions."),n&&i&&r.push("Combine the cooked meat and vegetables."),a&&r.push("Add dairy ingredients and stir until well incorporated."),r.push("Adjust seasoning to taste.",`Serve ${t} hot and enjoy!`),r},FNe=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(!1),[i,a]=S.useState([]),[s,l]=S.useState("all"),[u,f]=S.useState(null),[h,p]=S.useState([]),{toast:m}=Vr(),y=Jt(We),_=lr(We);S.useEffect(()=>{(async()=>{n(!0),f(null);try{const E=y.currentUser;if(E)try{const R=Dt(_,"users",E.uid),C=await an(R);C.exists()&&C.data().favoriteRecipes&&p(C.data().favoriteRecipes)}catch(R){console.error("Error loading favorite recipes:",R)}const P=await Ka("");if(a(P),P.length===0){const R=await Ka("popular");a(R)}}catch(E){console.error("Error loading initial recipes:",E),a([]),f("Unable to load recipes. Please try again later.")}finally{n(!1)}})()},[y,_]);const b=async()=>{if(t.trim()){n(!0),f(null);try{console.log("Searching for recipes with query:",t);const j=await Ka(t);a(j),ace(t,j);const E=y.currentUser;if(E)try{const P=Dt(_,"users",E.uid);await zn(P,{recipeSearches:{recent:t,timestamp:new Date().toISOString(),resultCount:j.length}},{merge:!0})}catch(P){console.error("Error saving recipe search:",P)}if(j.length>0)m({title:`Found ${j.length} recipes`,description:"Here are your recipe results"});else{console.log("No results found, trying with a more generic search term");const P=t.split(" ")[0];if(P&&P!==t)try{const R=await Ka(P);if(R.length>0){a(R),m({title:`Found ${R.length} recipes`,description:`Showing results for "${P}" instead`});return}}catch(R){console.error("Error with generic search:",R)}m({title:"No recipes found",description:"Try a different search term or check our popular recipes",variant:"default"});try{console.log("Trying popular recipes as fallback");const R=await Ka("popular");R.length>0?(a(R),m({title:"Showing popular recipes instead",description:"We couldn't find recipes matching your search"})):f("No recipes found. Please try a different search term.")}catch(R){console.error("Error getting fallback recipes:",R),f("Unable to load recipes. Please try again later.")}}}catch(j){console.error("Error searching recipes:",j),a([]),f("Unable to fetch recipes. Please try again later."),m({title:"Search Error",description:"Unable to fetch recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}}},x=async j=>{l(j),n(!0),f(null);try{if(j==="all"){const E=await Ka("popular");a(E)}else if(j==="favorites")if(h.length>0)try{const P=(await Ka("popular")).filter(R=>h.includes(R.id));P.length>0?a(P):(a([]),f("Your favorite recipes could not be loaded. Please try again later."))}catch(E){console.error("Error loading favorite recipes:",E),a([]),f("Your favorite recipes could not be loaded. Please try again later.")}else a([]),f("You have no favorite recipes yet. Click the star icon to add recipes to your favorites.");else if(j==="edamam"){const E=await Ka("popular");a(E.filter(P=>P.source.includes("Edamam")))}else if(j==="edamam-food"){const E=await Ka("popular");a(E.filter(P=>P.source.includes("Edamam Food")))}else{const E=await Ka("popular");a(E)}i.length===0&&j!=="favorites"&&f("No recipes found. Please try searching for specific recipes.")}catch(E){console.error("Error changing tab:",E),a([]),f("Unable to load recipes. Please try again later."),m({title:"Error",description:"Unable to load recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}},N=async j=>{const E=y.currentUser;if(!E){m({title:"Sign in required",description:"Please sign in to save favorite recipes",variant:"default"});return}try{let P;h.includes(j)?(P=h.filter(C=>C!==j),m({title:"Removed from favorites",description:"Recipe removed from your favorites"})):(P=[...h,j],m({title:"Added to favorites",description:"Recipe added to your favorites"})),p(P);const R=Dt(_,"users",E.uid);await zn(R,{favoriteRecipes:P},{merge:!0})}catch(P){console.error("Error toggling favorite recipe:",P),m({title:"Error",description:"Unable to update favorites. Please try again.",variant:"destructive"})}},A=j=>{m({title:"Recipe saved",description:"Recipe added to your favorites"})};return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),o.jsx(ru,{}),o.jsx("main",{className:"md:ml-64 min-h-screen",children:o.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Healthy Recipes"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Discover nutritious and delicious Indian recipes tailored to your health goals"})]}),o.jsx("div",{className:"sci-fi-card mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(to,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),o.jsx(At,{placeholder:"Search for recipes (e.g., vegetarian curry, low-calorie)",className:"sci-fi-input pl-10",value:t,onChange:j=>e(j.target.value),onKeyPress:j=>j.key==="Enter"&&b()})]})}),o.jsxs(oe,{onClick:b,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[o.jsx(to,{className:"mr-2 h-4 w-4"}),"Search"]}),o.jsxs(oe,{variant:"outline",className:"sci-fi-button",children:[o.jsx(EY,{className:"mr-2 h-4 w-4"}),"Filters"]})]})}),o.jsxs(Df,{defaultValue:"all",className:"mb-6",children:[o.jsx("div",{className:"sci-fi-card mb-2 p-4",children:o.jsxs(au,{className:"grid grid-cols-3 gap-2",children:[o.jsxs(Pr,{value:"all",onClick:()=>x("all"),className:s==="all"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(K2,{className:"mr-2 h-4 w-4"}),"All Recipes"]}),o.jsxs(Pr,{value:"favorites",onClick:()=>x("favorites"),className:s==="favorites"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(qi,{className:"mr-2 h-4 w-4 text-yellow-400"}),"Favorites"]}),o.jsxs(Pr,{value:"edamam",onClick:()=>x("edamam"),className:s==="edamam"?"bg-safebite-teal text-safebite-dark-blue":"",children:[o.jsx(Sp,{className:"mr-2 h-4 w-4"}),"Edamam Recipes"]})]})}),o.jsx(Hr,{value:"all",className:"mt-0",children:r?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Us,{size:"lg"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(j=>o.jsxs(Fe,{className:"sci-fi-card overflow-hidden",children:[o.jsxs("div",{className:"relative h-48 w-full",children:[o.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),o.jsx(Mt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),o.jsx(oe,{variant:"ghost",size:"sm",className:`p-1 h-8 w-8 ${h.includes(j.id)?"text-yellow-500":"text-safebite-text-secondary"}`,onClick:E=>{E.stopPropagation(),N(j.id)},children:o.jsx(qi,{className:`h-5 w-5 ${h.includes(j.id)?"fill-yellow-500":""}`})})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.healthLabels.map((E,P)=>o.jsx(Mt,{variant:"outline",className:"border-safebite-teal text-safebite-teal",children:E},P))}),o.jsxs("div",{className:"flex justify-between text-safebite-text-secondary mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(ni,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:[j.cookTime," min"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(es,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:[j.servings," servings"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(K2,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:[j.calories," cal"]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>A(j.id),children:o.jsx(ad,{className:"h-4 w-4"})})]})]})]},j.id))})}),o.jsx(Hr,{value:"favorites",className:"mt-0",children:r?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Us,{size:"lg"})}):u?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wi,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Favorite Recipes"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:u})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(j=>o.jsxs(Fe,{className:"sci-fi-card overflow-hidden",children:[o.jsxs("div",{className:"relative h-48 w-full",children:[o.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),o.jsx(Mt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),o.jsx(oe,{variant:"ghost",size:"sm",className:"p-1 h-8 w-8 text-yellow-500",onClick:E=>{E.stopPropagation(),N(j.id)},children:o.jsx(qi,{className:"h-5 w-5 fill-yellow-500"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.healthLabels.map((E,P)=>o.jsx(Mt,{variant:"outline",className:"border-safebite-teal text-safebite-teal",children:E},P))}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-safebite-text-secondary mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(sd,{className:"h-4 w-4 mr-1 text-safebite-teal"}),j.calories," kcal"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ni,{className:"h-4 w-4 mr-1 text-safebite-teal"}),j.cookTime," min"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(es,{className:"h-4 w-4 mr-1 text-safebite-teal"}),j.servings," servings"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>N(j.id),children:o.jsx(qi,{className:"h-4 w-4 fill-yellow-500"})})]})]})]},j.id))})}),o.jsx(Hr,{value:"mongodb",className:"mt-0",children:r?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Us,{size:"lg"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(j=>j.source==="MongoDB").map(j=>o.jsxs(Fe,{className:"sci-fi-card overflow-hidden",children:[o.jsxs("div",{className:"relative h-48 w-full",children:[o.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),o.jsx(Mt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(sd,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.calories," kcal"]}),o.jsx(ni,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.cookTime," min"]}),o.jsx(es,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[j.servings," servings"]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.healthLabels.map((E,P)=>o.jsx(Mt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:E},P))}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>A(j.id),children:o.jsx(ad,{className:"h-4 w-4"})})]})]})]},j.id))})}),o.jsx(Hr,{value:"edamam",className:"mt-0",children:r?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Us,{size:"lg"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(j=>j.source==="Edamam").map(j=>o.jsxs(Fe,{className:"sci-fi-card overflow-hidden",children:[o.jsxs("div",{className:"relative h-48 w-full",children:[o.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),o.jsx(Mt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(sd,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.calories," kcal"]}),o.jsx(ni,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.cookTime," min"]}),o.jsx(es,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[j.servings," servings"]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.healthLabels.map((E,P)=>o.jsx(Mt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:E},P))}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>A(j.id),children:o.jsx(ad,{className:"h-4 w-4"})})]})]})]},j.id))})}),o.jsx(Hr,{value:"fatsecret",className:"mt-0",children:r?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Us,{size:"lg"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(j=>j.source==="FatSecret").map(j=>o.jsxs(Fe,{className:"sci-fi-card overflow-hidden",children:[o.jsxs("div",{className:"relative h-48 w-full",children:[o.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),o.jsx(Mt,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(sd,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.calories," kcal"]}),o.jsx(ni,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.cookTime," min"]}),o.jsx(es,{className:"h-4 w-4 text-safebite-teal mr-1"}),o.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[j.servings," servings"]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.healthLabels.map((E,P)=>o.jsx(Mt,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:E},P))}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(oe,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),o.jsx(oe,{variant:"outline",className:"sci-fi-button",onClick:()=>A(j.id),children:o.jsx(ad,{className:"h-4 w-4"})})]})]})]},j.id))})})]}),o.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})},VNe=()=>{const[t,e]=S.useState(170),[r,n]=S.useState(70),[i,a]=S.useState(null),[s,l]=S.useState(""),u=()=>{if(t&&r){const f=t/100,h=r/(f*f),p=Math.round(h*10)/10;let m="";h<18.5?m="Underweight":h>=18.5&&h<25?m="Normal weight":h>=25&&h<30?m="Overweight":m="Obesity",a(p),l(m),Ki("bmi","calculate")}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(wT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"BMI Calculator"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),o.jsx(At,{id:"height",type:"number",value:t,onChange:f=>e(Number(f.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),o.jsx(At,{id:"weight",type:"number",value:r,onChange:f=>n(Number(f.target.value)),className:"sci-fi-input"})]}),o.jsx(oe,{onClick:u,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate BMI"}),i!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Your BMI:"}),o.jsx("span",{className:"text-safebite-text font-semibold",children:i})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),o.jsx("span",{className:"text-safebite-teal font-semibold",children:s})]})]})]})})]})};var BNe=[" ","Enter","ArrowUp","ArrowDown"],UNe=[" ","Enter"],Qm="Select",[A0,N0,zNe]=qx(Qm),[Qf,iPe]=Oa(Qm,[zNe,Zx]),T0=Zx(),[qNe,Gl]=Qf(Qm),[HNe,WNe]=Qf(Qm),xW=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:u,dir:f,name:h,autoComplete:p,disabled:m,required:y,form:_}=t,b=T0(e),[x,N]=S.useState(null),[A,j]=S.useState(null),[E,P]=S.useState(!1),R=Bm(f),[C=!1,I]=Ta({prop:n,defaultProp:i,onChange:a}),[M,F]=Ta({prop:s,defaultProp:l,onChange:u}),D=S.useRef(null),V=x?_||!!x.closest("form"):!0,[$,H]=S.useState(new Set),G=Array.from($).map(Y=>Y.props.value).join(";");return o.jsx(t6,{...b,children:o.jsxs(qNe,{required:y,scope:e,trigger:x,onTriggerChange:N,valueNode:A,onValueNodeChange:j,valueNodeHasChildren:E,onValueNodeHasChildrenChange:P,contentId:Ys(),value:M,onValueChange:F,open:C,onOpenChange:I,dir:R,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(A0.Provider,{scope:e,children:o.jsx(HNe,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(Y=>{H(Q=>new Set(Q).add(Y))},[]),onNativeOptionRemove:S.useCallback(Y=>{H(Q=>{const W=new Set(Q);return W.delete(Y),W})},[]),children:r})}),V?o.jsxs(qW,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:p,value:M,onChange:Y=>F(Y.target.value),disabled:m,form:_,children:[M===void 0?o.jsx("option",{value:""}):null,Array.from($)]},G):null]})})};xW.displayName=Qm;var bW="SelectTrigger",wW=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=T0(r),s=Gl(bW,r),l=s.disabled||n,u=Nt(e,s.onTriggerChange),f=N0(r),h=S.useRef("touch"),[p,m,y]=HW(b=>{const x=f().filter(j=>!j.disabled),N=x.find(j=>j.value===s.value),A=WW(x,b,N);A!==void 0&&s.onValueChange(A.value)}),_=b=>{l||(s.onOpenChange(!0),y()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return o.jsx(r6,{asChild:!0,...a,children:o.jsx(He.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zW(s.value)?"":void 0,...i,ref:u,onClick:Be(i.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&_(b)}),onPointerDown:Be(i.onPointerDown,b=>{h.current=b.pointerType;const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:Be(i.onKeyDown,b=>{const x=p.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(x&&b.key===" ")&&BNe.includes(b.key)&&(_(),b.preventDefault())})})})});wW.displayName=bW;var _W="SelectValue",SW=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...l}=t,u=Gl(_W,r),{onValueNodeHasChildrenChange:f}=u,h=a!==void 0,p=Nt(e,u.onValueNodeChange);return nn(()=>{f(h)},[f,h]),o.jsx(He.span,{...l,ref:p,style:{pointerEvents:"none"},children:zW(u.value)?o.jsx(o.Fragment,{children:s}):a})});SW.displayName=_W;var GNe="SelectIcon",EW=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return o.jsx(He.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});EW.displayName=GNe;var KNe="SelectPortal",jW=t=>o.jsx(Hx,{asChild:!0,...t});jW.displayName=KNe;var Zc="SelectContent",AW=S.forwardRef((t,e)=>{const r=Gl(Zc,t.__scopeSelect),[n,i]=S.useState();if(nn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?wf.createPortal(o.jsx(NW,{scope:t.__scopeSelect,children:o.jsx(A0.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),a):null}return o.jsx(TW,{...t,ref:e})});AW.displayName=Zc;var ya=10,[NW,Kl]=Qf(Zc),YNe="SelectContentImpl",TW=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:b,avoidCollisions:x,...N}=t,A=Gl(Zc,r),[j,E]=S.useState(null),[P,R]=S.useState(null),C=Nt(e,ge=>E(ge)),[I,M]=S.useState(null),[F,D]=S.useState(null),V=N0(r),[$,H]=S.useState(!1),G=S.useRef(!1);S.useEffect(()=>{if(j)return _7(j)},[j]),p7();const Y=S.useCallback(ge=>{const[Pe,...de]=V().map(le=>le.ref.current),[ve]=de.slice(-1),we=document.activeElement;for(const le of ge)if(le===we||(le==null||le.scrollIntoView({block:"nearest"}),le===Pe&&P&&(P.scrollTop=0),le===ve&&P&&(P.scrollTop=P.scrollHeight),le==null||le.focus(),document.activeElement!==we))return},[V,P]),Q=S.useCallback(()=>Y([I,j]),[Y,I,j]);S.useEffect(()=>{$&&Q()},[$,Q]);const{onOpenChange:W,triggerPointerDownPosRef:J}=A;S.useEffect(()=>{if(j){let ge={x:0,y:0};const Pe=ve=>{var we,le;ge={x:Math.abs(Math.round(ve.pageX)-(((we=J.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((le=J.current)==null?void 0:le.y)??0))}},de=ve=>{ge.x<=10&&ge.y<=10?ve.preventDefault():j.contains(ve.target)||W(!1),document.removeEventListener("pointermove",Pe),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",de,{capture:!0})}}},[j,W,J]),S.useEffect(()=>{const ge=()=>W(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[W]);const[ee,q]=HW(ge=>{const Pe=V().filter(we=>!we.disabled),de=Pe.find(we=>we.ref.current===document.activeElement),ve=WW(Pe,ge,de);ve&&setTimeout(()=>ve.ref.current.focus())}),X=S.useCallback((ge,Pe,de)=>{const ve=!G.current&&!de;(A.value!==void 0&&A.value===Pe||ve)&&(M(ge),ve&&(G.current=!0))},[A.value]),ae=S.useCallback(()=>j==null?void 0:j.focus(),[j]),be=S.useCallback((ge,Pe,de)=>{const ve=!G.current&&!de;(A.value!==void 0&&A.value===Pe||ve)&&D(ge)},[A.value]),Ae=n==="popper"?dT:PW,Ne=Ae===dT?{side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:b,avoidCollisions:x}:{};return o.jsx(NW,{scope:r,content:j,viewport:P,onViewportChange:R,itemRefCallback:X,selectedItem:I,onItemLeave:ae,itemTextRefCallback:be,focusSelectedItem:Q,selectedItemText:F,position:n,isPositioned:$,searchRef:ee,children:o.jsx(mk,{as:Fc,allowPinchZoom:!0,children:o.jsx(pk,{asChild:!0,trapped:A.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Be(i,ge=>{var Pe;(Pe=A.trigger)==null||Pe.focus({preventScroll:!0}),ge.preventDefault()}),children:o.jsx(jm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:o.jsx(Ae,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:ge=>ge.preventDefault(),...N,...Ne,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Be(N.onKeyDown,ge=>{const Pe=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Pe&&ge.key.length===1&&q(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let ve=V().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const we=ge.target,le=ve.indexOf(we);ve=ve.slice(le+1)}setTimeout(()=>Y(ve)),ge.preventDefault()}})})})})})})});TW.displayName=YNe;var QNe="SelectItemAlignedPosition",PW=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Gl(Zc,r),s=Kl(Zc,r),[l,u]=S.useState(null),[f,h]=S.useState(null),p=Nt(e,C=>h(C)),m=N0(r),y=S.useRef(!1),_=S.useRef(!0),{viewport:b,selectedItem:x,selectedItemText:N,focusSelectedItem:A}=s,j=S.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&f&&b&&x&&N){const C=a.trigger.getBoundingClientRect(),I=f.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),F=N.getBoundingClientRect();if(a.dir!=="rtl"){const we=F.left-I.left,le=M.left-we,Ye=C.left-le,qe=C.width+Ye,pt=Math.max(qe,I.width),ot=window.innerWidth-ya,lt=Uy(le,[ya,Math.max(ya,ot-pt)]);l.style.minWidth=qe+"px",l.style.left=lt+"px"}else{const we=I.right-F.right,le=window.innerWidth-M.right-we,Ye=window.innerWidth-C.right-le,qe=C.width+Ye,pt=Math.max(qe,I.width),ot=window.innerWidth-ya,lt=Uy(le,[ya,Math.max(ya,ot-pt)]);l.style.minWidth=qe+"px",l.style.right=lt+"px"}const D=m(),V=window.innerHeight-ya*2,$=b.scrollHeight,H=window.getComputedStyle(f),G=parseInt(H.borderTopWidth,10),Y=parseInt(H.paddingTop,10),Q=parseInt(H.borderBottomWidth,10),W=parseInt(H.paddingBottom,10),J=G+Y+$+W+Q,ee=Math.min(x.offsetHeight*5,J),q=window.getComputedStyle(b),X=parseInt(q.paddingTop,10),ae=parseInt(q.paddingBottom,10),be=C.top+C.height/2-ya,Ae=V-be,Ne=x.offsetHeight/2,ge=x.offsetTop+Ne,Pe=G+Y+ge,de=J-Pe;if(Pe<=be){const we=D.length>0&&x===D[D.length-1].ref.current;l.style.bottom="0px";const le=f.clientHeight-b.offsetTop-b.offsetHeight,Ye=Math.max(Ae,Ne+(we?ae:0)+le+Q),qe=Pe+Ye;l.style.height=qe+"px"}else{const we=D.length>0&&x===D[0].ref.current;l.style.top="0px";const Ye=Math.max(be,G+b.offsetTop+(we?X:0)+Ne)+de;l.style.height=Ye+"px",b.scrollTop=Pe-be+b.offsetTop}l.style.margin=`${ya}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,a.trigger,a.valueNode,l,f,b,x,N,a.dir,n]);nn(()=>j(),[j]);const[E,P]=S.useState();nn(()=>{f&&P(window.getComputedStyle(f).zIndex)},[f]);const R=S.useCallback(C=>{C&&_.current===!0&&(j(),A==null||A(),_.current=!1)},[j,A]);return o.jsx(JNe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:o.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:o.jsx(He.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});PW.displayName=QNe;var XNe="SelectPopperPosition",dT=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ya,...a}=t,s=T0(r);return o.jsx(n6,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dT.displayName=XNe;var[JNe,Ek]=Qf(Zc,{}),fT="SelectViewport",CW=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Kl(fT,r),s=Ek(fT,r),l=Nt(e,a.onViewportChange),u=S.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(A0.Slot,{scope:r,children:o.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Be(i.onScroll,f=>{const h=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&p){const y=Math.abs(u.current-h.scrollTop);if(y>0){const _=window.innerHeight-ya*2,b=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),N=Math.max(b,x);if(N<_){const A=N+y,j=Math.min(_,A),E=A-j;p.style.height=j+"px",p.style.bottom==="0px"&&(h.scrollTop=E>0?E:0,p.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});CW.displayName=fT;var kW="SelectGroup",[ZNe,eTe]=Qf(kW),tTe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ys();return o.jsx(ZNe,{scope:r,id:i,children:o.jsx(He.div,{role:"group","aria-labelledby":i,...n,ref:e})})});tTe.displayName=kW;var IW="SelectLabel",OW=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=eTe(IW,r);return o.jsx(He.div,{id:i.id,...n,ref:e})});OW.displayName=IW;var zx="SelectItem",[rTe,RW]=Qf(zx),MW=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,l=Gl(zx,r),u=Kl(zx,r),f=l.value===n,[h,p]=S.useState(a??""),[m,y]=S.useState(!1),_=Nt(e,A=>{var j;return(j=u.itemRefCallback)==null?void 0:j.call(u,A,n,i)}),b=Ys(),x=S.useRef("touch"),N=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(rTe,{scope:r,value:n,disabled:i,textId:b,isSelected:f,onItemTextChange:S.useCallback(A=>{p(j=>j||((A==null?void 0:A.textContent)??"").trim())},[]),children:o.jsx(A0.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:o.jsx(He.div,{role:"option","aria-labelledby":b,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:_,onFocus:Be(s.onFocus,()=>y(!0)),onBlur:Be(s.onBlur,()=>y(!1)),onClick:Be(s.onClick,()=>{x.current!=="mouse"&&N()}),onPointerUp:Be(s.onPointerUp,()=>{x.current==="mouse"&&N()}),onPointerDown:Be(s.onPointerDown,A=>{x.current=A.pointerType}),onPointerMove:Be(s.onPointerMove,A=>{var j;x.current=A.pointerType,i?(j=u.onItemLeave)==null||j.call(u):x.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(s.onPointerLeave,A=>{var j;A.currentTarget===document.activeElement&&((j=u.onItemLeave)==null||j.call(u))}),onKeyDown:Be(s.onKeyDown,A=>{var E;((E=u.searchRef)==null?void 0:E.current)!==""&&A.key===" "||(UNe.includes(A.key)&&N(),A.key===" "&&A.preventDefault())})})})})});MW.displayName=zx;var np="SelectItemText",DW=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=Gl(np,r),l=Kl(np,r),u=RW(np,r),f=WNe(np,r),[h,p]=S.useState(null),m=Nt(e,N=>p(N),u.onItemTextChange,N=>{var A;return(A=l.itemTextRefCallback)==null?void 0:A.call(l,N,u.value,u.disabled)}),y=h==null?void 0:h.textContent,_=S.useMemo(()=>o.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:x}=f;return nn(()=>(b(_),()=>x(_)),[b,x,_]),o.jsxs(o.Fragment,{children:[o.jsx(He.span,{id:u.textId,...a,ref:m}),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?wf.createPortal(a.children,s.valueNode):null]})});DW.displayName=np;var LW="SelectItemIndicator",$W=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return RW(LW,r).isSelected?o.jsx(He.span,{"aria-hidden":!0,...n,ref:e}):null});$W.displayName=LW;var hT="SelectScrollUpButton",FW=S.forwardRef((t,e)=>{const r=Kl(hT,t.__scopeSelect),n=Ek(hT,t.__scopeSelect),[i,a]=S.useState(!1),s=Nt(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;a(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(BW,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});FW.displayName=hT;var pT="SelectScrollDownButton",VW=S.forwardRef((t,e)=>{const r=Kl(pT,t.__scopeSelect),n=Ek(pT,t.__scopeSelect),[i,a]=S.useState(!1),s=Nt(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<f;a(h)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(BW,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});VW.displayName=pT;var BW=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Kl("SelectScrollButton",r),s=S.useRef(null),l=N0(r),u=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>u(),[u]),nn(()=>{var h;const f=l().find(p=>p.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(He.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Be(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Be(i.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Be(i.onPointerLeave,()=>{u()})})}),nTe="SelectSeparator",UW=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(He.div,{"aria-hidden":!0,...n,ref:e})});UW.displayName=nTe;var mT="SelectArrow",iTe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=T0(r),a=Gl(mT,r),s=Kl(mT,r);return a.open&&s.position==="popper"?o.jsx(i6,{...i,...n,ref:e}):null});iTe.displayName=mT;function zW(t){return t===""||t===void 0}var qW=S.forwardRef((t,e)=>{const{value:r,...n}=t,i=S.useRef(null),a=Nt(e,i),s=Um(r);return S.useEffect(()=>{const l=i.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(s!==r&&h){const p=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(p)}},[s,r]),o.jsx(Am,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});qW.displayName="BubbleSelect";function HW(t){const e=qn(t),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(s=>{const l=r.current+s;e(l),function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),a=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function WW(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=aTe(t,Math.max(a,0));i.length===1&&(s=s.filter(f=>f!==r));const u=s.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function aTe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var sTe=xW,GW=wW,oTe=SW,lTe=EW,cTe=jW,KW=AW,uTe=CW,YW=OW,QW=MW,dTe=DW,fTe=$W,XW=FW,JW=VW,ZW=UW;const ho=sTe,po=oTe,vs=S.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(GW,{ref:n,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(lTe,{asChild:!0,children:o.jsx(pV,{className:"h-4 w-4 opacity-50"})})]}));vs.displayName=GW.displayName;const eG=S.forwardRef(({className:t,...e},r)=>o.jsx(XW,{ref:r,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(xY,{className:"h-4 w-4"})}));eG.displayName=XW.displayName;const tG=S.forwardRef(({className:t,...e},r)=>o.jsx(JW,{ref:r,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(pV,{className:"h-4 w-4"})}));tG.displayName=JW.displayName;const ys=S.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>o.jsx(cTe,{children:o.jsxs(KW,{ref:i,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(eG,{}),o.jsx(uTe,{className:Ze("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(tG,{})]})}));ys.displayName=KW.displayName;const hTe=S.forwardRef(({className:t,...e},r)=>o.jsx(YW,{ref:r,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));hTe.displayName=YW.displayName;const Ut=S.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(QW,{ref:n,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(fTe,{children:o.jsx(Rd,{className:"h-4 w-4"})})}),o.jsx(dTe,{children:e})]}));Ut.displayName=QW.displayName;const pTe=S.forwardRef(({className:t,...e},r)=>o.jsx(ZW,{ref:r,className:Ze("-mx-1 my-1 h-px bg-muted",t),...e}));pTe.displayName=ZW.displayName;const mTe=()=>{const[t,e]=S.useState(30),[r,n]=S.useState("male"),[i,a]=S.useState(70),[s,l]=S.useState(170),[u,f]=S.useState("moderate"),[h,p]=S.useState(null),m=()=>{if(t&&i&&s){let y=0;r==="male"?y=88.362+13.397*i+4.799*s-5.677*t:y=447.593+9.247*i+3.098*s-4.33*t;let _=1.2;switch(u){case"sedentary":_=1.2;break;case"light":_=1.375;break;case"moderate":_=1.55;break;case"active":_=1.725;break;case"very_active":_=1.9;break}const b=Math.round(y*_);p(b),Ki("calories","calculate")}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(sd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Calorie Calculator"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),o.jsx(At,{id:"age",type:"number",value:t,onChange:y=>e(Number(y.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),o.jsxs(ho,{value:r,onValueChange:n,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select gender"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"male",children:"Male"}),o.jsx(Ut,{value:"female",children:"Female"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),o.jsx(At,{id:"weight",type:"number",value:i,onChange:y=>a(Number(y.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),o.jsx(At,{id:"height",type:"number",value:s,onChange:y=>l(Number(y.target.value)),className:"sci-fi-input"})]})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),o.jsxs(ho,{value:u,onValueChange:f,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select activity level"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"sedentary",children:"Sedentary (little or no exercise)"}),o.jsx(Ut,{value:"light",children:"Light (exercise 1-3 days/week)"}),o.jsx(Ut,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),o.jsx(Ut,{value:"active",children:"Active (exercise 6-7 days/week)"}),o.jsx(Ut,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),o.jsx(oe,{onClick:m,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Calories"}),h!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Calories:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[h," kcal"]})]}),o.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[o.jsxs("p",{children:["Weight Loss: ",h-500," kcal"]}),o.jsxs("p",{children:["Weight Gain: ",h+500," kcal"]})]})]})]})})]})},gTe=()=>{const[t,e]=S.useState(70),[r,n]=S.useState("moderate"),[i,a]=S.useState("moderate"),[s,l]=S.useState(null),u=()=>{if(t){let f=t*30,h=1;switch(r){case"sedentary":h=1;break;case"light":h=1.1;break;case"moderate":h=1.2;break;case"active":h=1.3;break;case"very_active":h=1.4;break}let p=1;switch(i){case"cold":p=.9;break;case"moderate":p=1;break;case"hot":p=1.1;break;case"very_hot":p=1.2;break}const m=f*h*p,y=Math.round(m/100)/10;l(y),Ki("water","calculate")}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(_Y,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Water Intake Calculator"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),o.jsx(At,{id:"weight",type:"number",value:t,onChange:f=>e(Number(f.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),o.jsxs(ho,{value:r,onValueChange:n,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select activity level"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"sedentary",children:"Sedentary (little or no exercise)"}),o.jsx(Ut,{value:"light",children:"Light (exercise 1-3 days/week)"}),o.jsx(Ut,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),o.jsx(Ut,{value:"active",children:"Active (exercise 6-7 days/week)"}),o.jsx(Ut,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"climate",className:"text-safebite-text-secondary",children:"Climate"}),o.jsxs(ho,{value:i,onValueChange:a,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select climate"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"cold",children:"Cold"}),o.jsx(Ut,{value:"moderate",children:"Moderate"}),o.jsx(Ut,{value:"hot",children:"Hot"}),o.jsx(Ut,{value:"very_hot",children:"Very Hot"})]})]})]}),o.jsx(oe,{onClick:u,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Water Intake"}),s!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Water Intake:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[s," liters"]})]}),o.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:o.jsxs("p",{children:["That's approximately ",Math.round(s*4)," glasses of water (250ml each)"]})})]})]})})]})},vTe=()=>{const[t,e]=S.useState(2e3),[r,n]=S.useState("maintain"),[i,a]=S.useState(null),[s,l]=S.useState(null),[u,f]=S.useState(null),h=()=>{if(t){let p=.3,m=.3,y=.4;switch(r){case"lose":p=.4,m=.3,y=.3;break;case"maintain":p=.3,m=.3,y=.4;break;case"gain":p=.25,m=.25,y=.5;break}const _=t*p,b=t*m,x=t*y,N=Math.round(_/4),A=Math.round(b/9),j=Math.round(x/4);l(N),f(A),a(j),Ki("macros","calculate")}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(hV,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Macro Calculator"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"calories",className:"text-safebite-text-secondary",children:"Daily Calories"}),o.jsx(At,{id:"calories",type:"number",value:t,onChange:p=>e(Number(p.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"goal",className:"text-safebite-text-secondary",children:"Goal"}),o.jsxs(ho,{value:r,onValueChange:n,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select goal"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"lose",children:"Lose Weight"}),o.jsx(Ut,{value:"maintain",children:"Maintain Weight"}),o.jsx(Ut,{value:"gain",children:"Gain Weight"})]})]})]}),o.jsx(oe,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Macros"}),i!==null&&s!==null&&u!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Protein:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[s,"g"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Carbs:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[i,"g"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Fat:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[u,"g"]})]})]}),o.jsx("div",{className:"mt-3 h-4 bg-safebite-card-bg rounded-full overflow-hidden",children:o.jsxs("div",{className:"flex h-full",children:[o.jsx("div",{className:"bg-green-500",style:{width:`${s*4/t*100}%`}}),o.jsx("div",{className:"bg-blue-500",style:{width:`${i*4/t*100}%`}}),o.jsx("div",{className:"bg-red-500",style:{width:`${u*9/t*100}%`}})]})}),o.jsxs("div",{className:"flex justify-between text-xs mt-1 text-safebite-text-secondary",children:[o.jsx("span",{children:"Protein"}),o.jsx("span",{children:"Carbs"}),o.jsx("span",{children:"Fat"})]})]})]})})]})},yTe=()=>{const[t,e]=S.useState(15),[r,n]=S.useState(5),[i,a]=S.useState(10),[s,l]=S.useState(3),[u,f]=S.useState(400),[h,p]=S.useState(null),[m,y]=S.useState(""),[_,b]=S.useState(""),x=()=>{let A=0,j=0;t<=1.6?A+=0:t<=3.2?A+=1:t<=4.8?A+=2:t<=6.4?A+=3:t<=8?A+=4:A+=5,r<=.9?A+=0:r<=1.9?A+=1:r<=2.8?A+=2:r<=3.7?A+=3:r<=4.7?A+=4:A+=5,i<=4.5?j+=0:i<=9?j+=1:i<=13.5?j+=2:i<=18?j+=3:i<=22.5?j+=4:j+=5,s<=1?j+=0:s<=2?j+=1:s<=3?j+=2:s<=4?j+=3:s<=5?j+=4:j+=5,u<=90?j+=0:u<=180?j+=1:u<=270?j+=2:u<=360?j+=3:u<=450?j+=4:j+=5;const E=A-j;p(E),E>=4?(y("A"),b("green")):E>=2?(y("B"),b("light-green")):E>=0?(y("C"),b("yellow")):E>=-2?(y("D"),b("orange")):(y("E"),b("red")),Ki("nutrition_score","calculate")},N=()=>{switch(_){case"green":return"bg-green-500";case"light-green":return"bg-green-400";case"yellow":return"bg-yellow-400";case"orange":return"bg-orange-400";case"red":return"bg-red-500";default:return"bg-gray-400"}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(Sp,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Score"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"protein",className:"text-safebite-text-secondary",children:"Protein (g)"}),o.jsx(At,{id:"protein",type:"number",value:t,onChange:A=>e(Number(A.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"fiber",className:"text-safebite-text-secondary",children:"Fiber (g)"}),o.jsx(At,{id:"fiber",type:"number",value:r,onChange:A=>n(Number(A.target.value)),className:"sci-fi-input"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"sugar",className:"text-safebite-text-secondary",children:"Sugar (g)"}),o.jsx(At,{id:"sugar",type:"number",value:i,onChange:A=>a(Number(A.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"saturatedFat",className:"text-safebite-text-secondary",children:"Sat. Fat (g)"}),o.jsx(At,{id:"saturatedFat",type:"number",value:s,onChange:A=>l(Number(A.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"sodium",className:"text-safebite-text-secondary",children:"Sodium (mg)"}),o.jsx(At,{id:"sodium",type:"number",value:u,onChange:A=>f(Number(A.target.value)),className:"sci-fi-input"})]})]}),o.jsx(oe,{onClick:x,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Score"}),h!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Nutrition Score:"}),o.jsx("div",{className:`w-10 h-10 rounded-full ${N()} flex items-center justify-center text-white font-bold`,children:m})]}),o.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[o.jsx("p",{children:"A = Excellent nutritional quality"}),o.jsx("p",{children:"E = Poor nutritional quality"})]})]})]})})]})},xTe=()=>{const[t,e]=S.useState(170),[r,n]=S.useState("male"),[i,a]=S.useState("medium"),[s,l]=S.useState(null),[u,f]=S.useState(null),h=()=>{if(t){let p=0;r==="male"?p=50+2.3*((t-152.4)/2.54):p=45.5+2.3*((t-152.4)/2.54);let m=0;r==="male"?m=48+2.7*((t-152.4)/2.54):m=45.5+2.2*((t-152.4)/2.54);let y=0;r==="male"?y=56.2+1.41*((t-152.4)/2.54):y=53.1+1.36*((t-152.4)/2.54);const _=Math.round((p+m+y)/3);let b=1;switch(i){case"small":b=.9;break;case"medium":b=1;break;case"large":b=1.1;break}const x=Math.round(_*b);l(x);const N=Math.round(x*.9),A=Math.round(x*1.1);f({min:N,max:A}),Ki("ideal_weight","calculate")}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(wT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Ideal Weight Calculator"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),o.jsx(At,{id:"height",type:"number",value:t,onChange:p=>e(Number(p.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),o.jsxs(ho,{value:r,onValueChange:n,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select gender"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"male",children:"Male"}),o.jsx(Ut,{value:"female",children:"Female"})]})]})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"bodyFrame",className:"text-safebite-text-secondary",children:"Body Frame"}),o.jsxs(ho,{value:i,onValueChange:a,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select body frame"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"small",children:"Small"}),o.jsx(Ut,{value:"medium",children:"Medium"}),o.jsx(Ut,{value:"large",children:"Large"})]})]})]})]}),o.jsx(oe,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Ideal Weight"}),s!==null&&u!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Ideal Weight:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[s," kg"]})]}),o.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[o.jsxs("p",{children:["Healthy weight range: ",u.min," - ",u.max," kg"]}),o.jsx("p",{className:"mt-1",children:"Based on multiple medical formulas and adjusted for your body frame."})]})]})]})})]})},bTe=()=>{const[t,e]=S.useState(70),[r,n]=S.useState(170),[i,a]=S.useState(30),[s,l]=S.useState("male"),[u,f]=S.useState(80),[h,p]=S.useState(36),[m,y]=S.useState(90),[_,b]=S.useState(null),[x,N]=S.useState(""),A=()=>{if(t&&r&&i&&u&&h){let j=0;if(s==="male")j=495/(1.0324-.19077*Math.log10(u-h)+.15456*Math.log10(r))-450;else{if(!m)return;j=495/(1.29579-.35004*Math.log10(u+m-h)+.221*Math.log10(r))-450}const E=Math.round(j*10)/10;b(E),s==="male"?E<6?N("Essential Fat"):E<14?N("Athletic"):E<18?N("Fitness"):E<25?N("Average"):N("Obese"):E<14?N("Essential Fat"):E<21?N("Athletic"):E<25?N("Fitness"):E<32?N("Average"):N("Obese"),Ki("body_fat","calculate")}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(DY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Body Fat Calculator"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),o.jsxs(ho,{value:s,onValueChange:l,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select gender"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"male",children:"Male"}),o.jsx(Ut,{value:"female",children:"Female"})]})]})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),o.jsx(At,{id:"age",type:"number",value:i,onChange:j=>a(Number(j.target.value)),className:"sci-fi-input"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),o.jsx(At,{id:"height",type:"number",value:r,onChange:j=>n(Number(j.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),o.jsx(At,{id:"weight",type:"number",value:t,onChange:j=>e(Number(j.target.value)),className:"sci-fi-input"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"neck",className:"text-safebite-text-secondary",children:"Neck (cm)"}),o.jsx(At,{id:"neck",type:"number",value:h,onChange:j=>p(Number(j.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"waist",className:"text-safebite-text-secondary",children:"Waist (cm)"}),o.jsx(At,{id:"waist",type:"number",value:u,onChange:j=>f(Number(j.target.value)),className:"sci-fi-input"})]}),s==="female"&&o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"hip",className:"text-safebite-text-secondary",children:"Hip (cm)"}),o.jsx(At,{id:"hip",type:"number",value:m,onChange:j=>y(Number(j.target.value)),className:"sci-fi-input"})]})]}),o.jsx(oe,{onClick:A,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Body Fat"}),_!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Body Fat Percentage:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[_,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),o.jsx("span",{className:"text-safebite-teal font-semibold",children:x})]}),o.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:o.jsx("p",{children:"Based on U.S. Navy Method"})})]})]})})]})},wTe=()=>{const[t,e]=S.useState(30),[r,n]=S.useState(70),[i,a]=S.useState("average"),[s,l]=S.useState(null),[u,f]=S.useState(null),h=()=>{if(t){const p=220-t,m=208-.7*t,y=207-.7*t,_=Math.round((p+m+y)/3);let b=0;switch(i){case"sedentary":b=-5;break;case"average":b=0;break;case"active":b=5;break;case"athlete":b=10;break}const x=_+b;l(x);const N=x-r,A={Recovery:{min:Math.round(r+N*.5),max:Math.round(r+N*.6)},"Fat Burning":{min:Math.round(r+N*.6),max:Math.round(r+N*.7)},Aerobic:{min:Math.round(r+N*.7),max:Math.round(r+N*.8)},Anaerobic:{min:Math.round(r+N*.8),max:Math.round(r+N*.9)},Maximum:{min:Math.round(r+N*.9),max:x}};f(A),Ki("heart_rate","calculate")}};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(rs,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Heart Rate Zones"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),o.jsx(At,{id:"age",type:"number",value:t,onChange:p=>e(Number(p.target.value)),className:"sci-fi-input"})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"restingHeartRate",className:"text-safebite-text-secondary",children:"Resting HR (bpm)"}),o.jsx(At,{id:"restingHeartRate",type:"number",value:r,onChange:p=>n(Number(p.target.value)),className:"sci-fi-input"})]})]}),o.jsxs("div",{children:[o.jsx(dt,{htmlFor:"fitnessLevel",className:"text-safebite-text-secondary",children:"Fitness Level"}),o.jsxs(ho,{value:i,onValueChange:a,children:[o.jsx(vs,{className:"sci-fi-input",children:o.jsx(po,{placeholder:"Select fitness level"})}),o.jsxs(ys,{children:[o.jsx(Ut,{value:"sedentary",children:"Sedentary"}),o.jsx(Ut,{value:"average",children:"Average"}),o.jsx(Ut,{value:"active",children:"Active"}),o.jsx(Ut,{value:"athlete",children:"Athlete"})]})]})]}),o.jsx(oe,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Heart Rate Zones"}),s!==null&&u!==null&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-safebite-text-secondary",children:"Max Heart Rate:"}),o.jsxs("span",{className:"text-safebite-text font-semibold",children:[s," bpm"]})]}),o.jsx("div",{className:"text-safebite-text-secondary text-sm font-medium mt-3 mb-1",children:"Training Zones:"}),o.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([p,{min:m,max:y}])=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("span",{className:"text-safebite-text-secondary",children:[p,":"]}),o.jsxs("span",{className:"text-safebite-text",children:[m," - ",y," bpm"]})]},p))})]})]})})]})},_Te=[{id:"fever",label:"Fever"},{id:"cough",label:"Cough"},{id:"headache",label:"Headache"},{id:"sore_throat",label:"Sore Throat"},{id:"fatigue",label:"Fatigue"},{id:"body_aches",label:"Body Aches"},{id:"shortness_of_breath",label:"Shortness of Breath"},{id:"nausea",label:"Nausea"},{id:"diarrhea",label:"Diarrhea"},{id:"loss_of_taste",label:"Loss of Taste/Smell"}],STe={fever:["Common Cold","Flu","COVID-19"],cough:["Common Cold","Flu","COVID-19","Bronchitis"],headache:["Migraine","Tension Headache","Flu","Dehydration"],sore_throat:["Common Cold","Strep Throat","Flu"],fatigue:["Flu","Anemia","Depression","COVID-19"],body_aches:["Flu","COVID-19","Fibromyalgia"],shortness_of_breath:["Asthma","COVID-19","Anxiety","Pneumonia"],nausea:["Food Poisoning","Migraine","Pregnancy","Gastroenteritis"],diarrhea:["Food Poisoning","Gastroenteritis","IBS","COVID-19"],loss_of_taste:["COVID-19","Common Cold","Sinusitis"]},ETe=()=>{const[t,e]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState(!1),s=(u,f)=>{e(f?[...t,u]:t.filter(h=>h!==u))},l=()=>{if(t.length===0)return;const u={};t.forEach(h=>{(STe[h]||[]).forEach(m=>{u[m]=(u[m]||0)+1})});const f=Object.entries(u).sort((h,p)=>p[1]-h[1]).map(([h])=>h);n(f.slice(0,3)),a(!0),Ki("symptom_checker","check")};return o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[o.jsx(dd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Symptom Checker"]})}),o.jsx(Vt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-safebite-text-secondary text-sm mb-2",children:"Select the symptoms you're experiencing:"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:_Te.map(u=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wk,{id:u.id,checked:t.includes(u.id),onCheckedChange:f=>s(u.id,f===!0)}),o.jsx(dt,{htmlFor:u.id,className:"text-safebite-text-secondary cursor-pointer",children:u.label})]},u.id))}),o.jsx(oe,{onClick:l,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:t.length===0,children:"Check Symptoms"}),r.length>0&&o.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[o.jsx("div",{className:"text-safebite-text font-semibold mb-2",children:"Possible conditions:"}),o.jsx("ul",{className:"space-y-1",children:r.map((u,f)=>o.jsxs("li",{className:"text-safebite-text-secondary",children:["• ",u]},f))}),i&&o.jsxs("div",{className:"mt-3 flex items-start text-xs text-amber-400",children:[o.jsx(Wi,{className:"h-4 w-4 mr-1 flex-shrink-0"}),o.jsx("span",{children:"This is not a medical diagnosis. Please consult with a healthcare professional for proper evaluation."})]})]})]})})]})},jTe=U.lazy(()=>_o(()=>import("./BloodPressureAnalyzer-C8fXfW9q.js"),[]).catch(()=>({default:Qt}))),ATe=U.lazy(()=>_o(()=>import("./SleepCalculator-CdiuICBC.js"),[]).catch(()=>({default:Qt}))),NTe=U.lazy(()=>_o(()=>import("./StressAnalyzer-CVghpm3h.js"),[]).catch(()=>({default:Qt}))),TTe=U.lazy(()=>_o(()=>import("./ExerciseCalorieCalculator-D2hwiCEY.js"),[]).catch(()=>({default:Qt}))),PTe=U.lazy(()=>_o(()=>import("./DiseaseRiskAssessment-mpYq9vDp.js"),[]).catch(()=>({default:Qt}))),CTe=U.lazy(()=>_o(()=>import("./MedicationReminder-vdbobr3W.js"),[]).catch(()=>({default:Qt}))),kTe=U.lazy(()=>_o(()=>import("./FoodSafetyChecker-oxk6BqQ2.js"),[]).catch(()=>({default:Qt}))),Qt=({title:t,icon:e,description:r})=>o.jsxs(Fe,{className:"sci-fi-card",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"flex items-center text-safebite-text",children:[e||o.jsx(wa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),t||"Health Tool"]})}),o.jsxs(Vt,{children:[o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:r||"This health tool is currently under development and will be available soon."}),o.jsx("div",{className:"text-center p-4 bg-safebite-card-bg-alt rounded-md",children:o.jsx("p",{className:"text-safebite-teal",children:"Coming Soon"})})]})]}),ITe=()=>{const[t,e]=S.useState("fitness"),[r,n]=S.useState([]),[i,a]=S.useState(""),[s,l]=S.useState([]),{toast:u}=useToast(),[f,h]=S.useState(!1),[p,m]=S.useState(!1);S.useEffect(()=>{x()},[]);const y=E=>{e(E),Ki("tab",E)},_=E=>{r.includes(E)?n(r.filter(P=>P!==E)):n([...r,E]),Ki("tool",E)},b=async(E,P)=>{try{const C=Jt(We).currentUser;if(!C){console.log("User not logged in, cannot save favorites");return}const I=s.some(V=>V.id===E);let M;I?M=s.filter(V=>V.id!==E):M=[...s,{id:E,category:P,addedAt:Date.now()}],l(M);const F=lr(We),D=Dt(F,"users",C.uid);await zn(D,{favoriteHealthTools:M},{merge:!0}),Ki(I?"unfavorite":"favorite",E)}catch(R){console.error("Error toggling favorite tool:",R)}},x=async()=>{try{const P=Jt(We).currentUser;if(!P){console.log("User not logged in, cannot load favorites");return}const R=lr(We),C=Dt(R,"users",P.uid),I=await an(C);I.exists()&&I.data().favoriteHealthTools&&l(I.data().favoriteHealthTools)}catch(E){console.error("Error loading favorite tools:",E)}},N=E=>s.some(P=>P.id===E),A=(E,P)=>{const C=(j[P]||[]).find(I=>I.id===E);return C?C.name:"Unknown Tool"},j={fitness:[{id:"bmi",name:"BMI Calculator",component:o.jsx(VNe,{})},{id:"ideal-weight",name:"Ideal Weight",component:o.jsx(xTe,{})},{id:"body-fat",name:"Body Fat",component:o.jsx(bTe,{})},{id:"heart-rate",name:"Heart Rate Zones",component:o.jsx(wTe,{})},{id:"exercise-calories",name:"Exercise Calories",component:o.jsx(TTe,{})},{id:"sleep",name:"Sleep Calculator",component:o.jsx(ATe,{})},{id:"fitness-age",name:"Fitness Age",component:o.jsx(Qt,{title:"Fitness Age Calculator",icon:o.jsx(wa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your fitness age based on your physical activity, resting heart rate, and other metrics."})},{id:"vo2-max",name:"VO2 Max Estimator",component:o.jsx(Qt,{title:"VO2 Max Estimator",icon:o.jsx(wa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Estimate your VO2 max (maximal oxygen uptake) based on your fitness level and exercise performance."})},{id:"workout-planner",name:"Workout Planner",component:o.jsx(Qt,{title:"Workout Planner",icon:o.jsx(wa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Create personalized workout plans based on your fitness goals, available equipment, and time constraints."})},{id:"recovery-calculator",name:"Recovery Calculator",component:o.jsx(Qt,{title:"Recovery Calculator",icon:o.jsx(ni,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate optimal recovery time between workouts based on intensity, duration, and muscle groups targeted."})}],nutrition:[{id:"calories",name:"Calorie Calculator",component:o.jsx(mTe,{})},{id:"water",name:"Water Intake",component:o.jsx(gTe,{})},{id:"macros",name:"Macro Calculator",component:o.jsx(vTe,{})},{id:"nutrition-score",name:"Nutrition Score",component:o.jsx(yTe,{})},{id:"food-safety",name:"Food Safety Checker",component:o.jsx(kTe,{})},{id:"meal-planner",name:"Meal Planner",component:o.jsx(Qt,{title:"Meal Planner",icon:o.jsx(Sp,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Plan balanced meals based on your nutritional needs, preferences, and health goals."})},{id:"nutrient-deficiency",name:"Nutrient Deficiency",component:o.jsx(Qt,{title:"Nutrient Deficiency Analyzer",icon:o.jsx(Wi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Identify potential nutrient deficiencies based on your diet and symptoms."})},{id:"diet-comparison",name:"Diet Comparison",component:o.jsx(Qt,{title:"Diet Comparison Tool",icon:o.jsx(hV,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Compare different diets (keto, vegan, paleo, etc.) and see which one might be best for your health goals."})},{id:"grocery-list",name:"Healthy Grocery List",component:o.jsx(Qt,{title:"Healthy Grocery List Generator",icon:o.jsx(cy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Generate a healthy grocery list based on your nutritional needs and preferences."})}],health:[{id:"blood-pressure",name:"Blood Pressure",component:o.jsx(jTe,{})},{id:"stress",name:"Stress Analyzer",component:o.jsx(NTe,{})},{id:"disease-risk",name:"Disease Risk",component:o.jsx(PTe,{})},{id:"metabolic-age",name:"Metabolic Age",component:o.jsx(Qt,{title:"Metabolic Age Calculator",icon:o.jsx(ss,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your metabolic age based on your BMR (Basal Metabolic Rate) compared to the average for your age group."})},{id:"longevity",name:"Longevity Calculator",component:o.jsx(Qt,{title:"Longevity Calculator",icon:o.jsx(ni,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Estimate your life expectancy based on lifestyle factors, family history, and health metrics."})},{id:"biological-age",name:"Biological Age",component:o.jsx(Qt,{title:"Biological Age Calculator",icon:o.jsx(bT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your biological age based on various biomarkers and lifestyle factors."})},{id:"health-score",name:"Health Score",component:o.jsx(Qt,{title:"Health Score Calculator",icon:o.jsx(rs,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Get a comprehensive health score based on various health metrics and lifestyle factors."})},{id:"immunity-score",name:"Immunity Score",component:o.jsx(Qt,{title:"Immunity Score Calculator",icon:o.jsx(VY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Assess your immune system strength based on lifestyle, nutrition, and health factors."})}],medical:[{id:"symptom-checker",name:"Symptom Checker",component:o.jsx(ETe,{})},{id:"medication-reminder",name:"Medication Reminder",component:o.jsx(CTe,{})},{id:"covid-tracker",name:"COVID-19 Tracker",component:o.jsx(Qt,{title:"COVID-19 Tracker",icon:o.jsx(gY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Track COVID-19 statistics and vaccination data worldwide using Disease.sh API."})},{id:"drug-interaction",name:"Drug Interaction",component:o.jsx(Qt,{title:"Drug Interaction Checker",icon:o.jsx(Wi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Check for potential interactions between medications, supplements, and foods."})},{id:"first-aid",name:"First Aid Guide",component:o.jsx(Qt,{title:"First Aid Guide",icon:o.jsx(rs,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Step-by-step guides for common first aid situations and emergencies."})},{id:"vaccination-tracker",name:"Vaccination Tracker",component:o.jsx(Qt,{title:"Vaccination Tracker",icon:o.jsx(UY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Track your vaccinations and get reminders for boosters and recommended vaccines."})},{id:"medical-id",name:"Medical ID Card",component:o.jsx(Qt,{title:"Medical ID Card Generator",icon:o.jsx(ad,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Create a digital medical ID card with important health information for emergencies."})}],lifestyle:[{id:"habit-tracker",name:"Habit Tracker",component:o.jsx(Qt,{title:"Habit Tracker",icon:o.jsx(cy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Track your daily habits and build healthy routines with reminders and progress tracking."})},{id:"screen-time",name:"Screen Time",component:o.jsx(Qt,{title:"Screen Time Calculator",icon:o.jsx(ni,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate and track your screen time and get recommendations for digital wellbeing."})},{id:"posture-reminder",name:"Posture Reminder",component:o.jsx(Qt,{title:"Posture Reminder",icon:o.jsx(wa,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Set reminders to check and correct your posture throughout the day."})},{id:"blue-light",name:"Blue Light Calculator",component:o.jsx(Qt,{title:"Blue Light Exposure Calculator",icon:o.jsx(vV,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your daily blue light exposure and get recommendations for eye health."})}]};return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1.5 px-4 flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium",children:[o.jsx(Md,{className:"h-4 w-4 text-yellow-300"}),o.jsx("span",{children:"SafeBite v2.1 - Under Active Development"}),o.jsx(Md,{className:"h-4 w-4 text-yellow-300"})]})}),o.jsx(ru,{}),o.jsx("main",{className:"md:ml-64 min-h-screen",children:o.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[o.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"HealthBox"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"30+ health and wellness calculators and tools to help you achieve your health goals"})]}),o.jsx("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:o.jsxs(oe,{variant:"outline",className:"flex items-center",onClick:()=>m(!p),children:[o.jsx(Yj,{className:"mr-2 h-4 w-4"}),"Dashboard Settings"]})})]}),o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-safebite-text-secondary"}),o.jsx(At,{type:"text",placeholder:"Search health tools...",className:"pl-10 bg-safebite-card-bg border-safebite-card-bg-alt",value:i,onChange:E=>a(E.target.value)})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(QP,{id:"favorites-only",checked:f,onCheckedChange:h}),o.jsx(dt,{htmlFor:"favorites-only",className:"text-safebite-text",children:"Show favorites only"})]})]}),p&&o.jsxs(Fe,{className:"mb-6 border-safebite-teal/30 bg-safebite-card-bg",children:[o.jsx(zt,{children:o.jsxs(qt,{className:"text-safebite-text flex items-center",children:[o.jsx(Yj,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Dashboard Settings"]})}),o.jsxs(Vt,{children:[o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Select your favorite health tools to display on your dashboard. You can add up to 4 tools."}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.map(E=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("span",{className:"text-safebite-text",children:A(E.id,E.category)}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>b(E.id,E.category),className:"text-red-500 hover:text-red-600 hover:bg-red-500/10",children:o.jsx(mV,{className:"h-4 w-4"})})]},E.id)),s.length===0&&o.jsx("div",{className:"col-span-full text-center py-4 text-safebite-text-secondary",children:"No favorite tools selected. Add tools by clicking the star icon on any tool."})]})]})]}),o.jsxs(Df,{defaultValue:"fitness",className:"space-y-6",onValueChange:y,children:[o.jsx("div",{className:"sci-fi-card p-4 overflow-x-auto",children:o.jsxs(au,{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[o.jsxs(Pr,{value:"fitness",className:"flex items-center",children:[o.jsx(wa,{className:"mr-2 h-4 w-4"}),"Fitness"]}),o.jsxs(Pr,{value:"nutrition",className:"flex items-center",children:[o.jsx(Sp,{className:"mr-2 h-4 w-4"}),"Nutrition"]}),o.jsxs(Pr,{value:"health",className:"flex items-center",children:[o.jsx(rs,{className:"mr-2 h-4 w-4"}),"Health"]}),o.jsxs(Pr,{value:"medical",className:"flex items-center",children:[o.jsx(dd,{className:"mr-2 h-4 w-4"}),"Medical"]}),o.jsxs(Pr,{value:"lifestyle",className:"flex items-center",children:[o.jsx(mY,{className:"mr-2 h-4 w-4"}),"Lifestyle"]})]})}),o.jsxs("div",{className:"sci-fi-card p-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Available Tools"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[j[t].filter(E=>i?E.name.toLowerCase().includes(i.toLowerCase()):f?N(E.id):!0).map(E=>o.jsxs(Fe,{className:`border ${r.includes(E.id)?"border-safebite-teal":"border-safebite-card-bg-alt"} hover:border-safebite-teal/70 transition-colors cursor-pointer`,onClick:()=>_(E.id),children:[o.jsxs(zt,{className:"p-4 pb-2 flex flex-row items-center justify-between",children:[o.jsx(qt,{className:"text-md font-medium text-safebite-text",children:E.name}),o.jsx(oe,{variant:"ghost",size:"sm",className:`p-1 h-8 w-8 ${N(E.id)?"text-yellow-500":"text-safebite-text-secondary"}`,onClick:P=>{P.stopPropagation(),b(E.id,t)},children:o.jsx(qi,{className:`h-5 w-5 ${N(E.id)?"fill-yellow-500":""}`})})]}),o.jsx(Vt,{className:"p-4 pt-0",children:r.includes(E.id)&&o.jsx("div",{className:"mt-4",children:o.jsx(S.Suspense,{fallback:o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(Un,{className:"h-6 w-6 animate-spin text-safebite-teal"})}),children:E.component})})})]},E.id)),j[t].filter(E=>i?E.name.toLowerCase().includes(i.toLowerCase()):f?N(E.id):!0).length===0&&o.jsxs("div",{className:"col-span-full text-center py-8",children:[o.jsx("div",{className:"text-safebite-text-secondary mb-2",children:i?o.jsxs(o.Fragment,{children:['No tools match your search "',i,'"']}):f?o.jsx(o.Fragment,{children:"No favorite tools in this category. Add favorites by clicking the star icon."}):o.jsx(o.Fragment,{children:"No tools available in this category"})}),(i||f)&&o.jsx(oe,{variant:"outline",className:"mt-2",onClick:()=>{a(""),h(!1)},children:"Clear Filters"})]})]})]}),r.length>0&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(E=>{const P=j[t].find(R=>R.id===E);return P?o.jsx("div",{children:P.component},E):null})}),r.length===0&&o.jsxs("div",{className:"text-center p-12 sci-fi-card",children:[o.jsx(wa,{className:"h-12 w-12 text-safebite-teal mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Tools Selected"}),o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Select one or more tools from the options above to get started"})]})]}),o.jsxs("div",{className:"mt-8 p-4 sci-fi-card",children:[o.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Health Data Integration"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Connect your health devices and apps to get personalized recommendations and insights."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-safebite-card-bg-alt rounded-md flex items-center",children:[o.jsx(wa,{className:"h-5 w-5 text-safebite-teal mr-2"}),o.jsx("span",{className:"text-safebite-text-secondary",children:"Fitness Trackers"})]}),o.jsxs("div",{className:"p-4 bg-safebite-card-bg-alt rounded-md flex items-center",children:[o.jsx(rs,{className:"h-5 w-5 text-safebite-teal mr-2"}),o.jsx("span",{className:"text-safebite-text-secondary",children:"Heart Rate Monitors"})]}),o.jsxs("div",{className:"p-4 bg-safebite-card-bg-alt rounded-md flex items-center",children:[o.jsx(wT,{className:"h-5 w-5 text-safebite-teal mr-2"}),o.jsx("span",{className:"text-safebite-text-secondary",children:"Smart Scales"})]})]})]}),o.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})},OTe=()=>{const t=Dl();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safebite-dark-blue px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-6xl font-bold gradient-text mb-4",children:"404"}),o.jsxs("div",{className:"mb-8 inline-block p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:[o.jsx("p",{className:"text-xl text-safebite-text mb-4",children:"Page not found"}),o.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"The page you're looking for doesn't exist or has been moved."})]}),o.jsx(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",asChild:!0,children:o.jsxs(Ft,{to:"/",children:[o.jsx(xV,{className:"mr-2 h-4 w-4"}),"Return to Home"]})})]})})},RTe=()=>{const t=Cn(),{toast:e}=Vr(),r=Jt(We),n=lr(We),i=new Sa,[a,s]=S.useState(!1),[l,u]=S.useState(""),f=async()=>{s(!0),u("");try{const p=(await XT(r,i)).user;(await an(Dt(n,"adminUsers",p.email))).exists()?(localStorage.setItem("isAdmin","true"),t("/admin/panel")):(e({title:"Access Denied",description:"You are not authorized to access the admin panel.",variant:"destructive"}),u("Access Denied: You are not an admin."),await r.signOut())}catch(h){console.error("Admin login error:",h),e({title:"Login Failed",description:h.message,variant:"destructive"}),u(h.message)}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:o.jsxs(Fe,{className:"sci-fi-card max-w-md w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Login"}),l&&o.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[o.jsx(_f,{className:"h-5 w-5 mr-2 flex-shrink-0"}),o.jsx("p",{className:"text-sm",children:l})]}),o.jsx("div",{children:o.jsxs(oe,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:f,disabled:a,children:[a?o.jsx(Us,{size:"sm",className:"mr-2"}):null,"Sign In with Google"]})})]})})},MTe=()=>{const t=Cn(),{toast:e}=Vr(),r=Jt(We),n=lr(We),[i,a]=S.useState([]);S.useEffect(()=>{(async()=>{const u=Wd(n,"users"),h=(await HP(u)).docs.map(p=>({id:p.id,...p.data()}));a(h)})()},[n]);const s=()=>{r.signOut().then(()=>{t("/auth/login")}).catch(l=>{e({title:"Error signing out",description:l.message,variant:"destructive"})})};return o.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:o.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:o.jsxs(Fe,{className:"sci-fi-card max-w-4xl w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Panel"}),o.jsx("p",{className:"text-safebite-text-secondary text-center mb-6",children:"Welcome, Admin1! Here you can manage users and their data."}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"User ID"}),o.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Email"}),o.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Profile Data"})]})}),o.jsx("tbody",{children:i.map(l=>o.jsxs("tr",{children:[o.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.id}),o.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.email}),o.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:JSON.stringify(l.profile)})]},l.id))})]})}),o.jsx(oe,{className:"mt-6 w-full bg-red-500 text-white hover:bg-red-600",onClick:s,children:"Sign Out"})]})})})},DTe=()=>o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx(cb,{}),o.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:o.jsx("span",{className:"gradient-text",children:"About SafeBite"})}),o.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"A special project focused on helping people make informed food choices for better health"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Our Mission"}),o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"SafeBite was created with a simple mission: to help people understand what's in their food and make healthier choices. In a world where processed foods dominate and nutrition labels can be confusing, we wanted to build a tool that makes food transparency accessible to everyone."}),o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Our platform combines food data from multiple sources, personalized recommendations based on your health profile, and an intuitive interface to make healthy eating easier than ever."}),o.jsx("p",{className:"text-safebite-text-secondary",children:"This project is part of a special engineering project at IFHE Hyderabad, focused on applying technology to solve real-world health challenges."})]}),o.jsxs("div",{className:"bg-safebite-card-bg rounded-lg p-6 border border-safebite-card-bg-alt",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Project Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Developer"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Aditya Shenvi"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Institution"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"IFHE Hyderabad"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Project Type"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"Special Engineering Project"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Technologies Used"}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"React"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"TypeScript"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Firebase"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Tailwind CSS"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Food APIs"}),o.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Recharts"})]})]})]})]})]}),o.jsxs("div",{className:"mb-16",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Meet the Developer"}),o.jsx(Fe,{className:"sci-fi-card max-w-2xl mx-auto",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center p-6",children:[o.jsx(xy,{size:"xl",className:"mb-4 md:mb-0 md:mr-6"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-1",children:"Aditya Shenvi"}),o.jsx("p",{className:"text-safebite-teal text-sm mb-3",children:"🚀 Developer | Tech Enthusiast"}),o.jsx("p",{className:"text-safebite-text-secondary mb-3",children:"Engineering Student at IFHE Hyderabad with a passion for creating technology that improves people's lives. SafeBite represents the intersection of my interests in health, nutrition, and software development."}),o.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[o.jsx("span",{className:"text-safebite-teal",children:"🔹 Passionate about:"})," Frontend, Backend, DevOps, UI/UX, Cybersecurity, Open Source, Digital Marketing"]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(oe,{variant:"outline",size:"sm",className:"sci-fi-button",children:[o.jsx(yV,{className:"mr-2 h-4 w-4"}),"GitHub"]}),o.jsxs(oe,{variant:"outline",size:"sm",className:"sci-fi-button",children:[o.jsx(CY,{className:"mr-2 h-4 w-4"}),"LinkedIn"]}),o.jsxs(oe,{variant:"outline",size:"sm",className:"sci-fi-button",children:[o.jsx(_p,{className:"mr-2 h-4 w-4"}),"Contact"]})]}),o.jsxs("div",{className:"mt-4 p-3 bg-safebite-card-bg-alt rounded-md",children:[o.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"About This Project"}),o.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"SafeBite is a special engineering project developed as part of my coursework at IFHE Hyderabad. It combines my interest in health technology with modern web development practices to create a platform that helps users make informed food choices."})]})]})]})})]}),o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Data Sources & Acknowledgements"}),o.jsx("p",{className:"text-safebite-text-secondary max-w-3xl mx-auto mb-6",children:"SafeBite uses publicly available data from multiple food databases and APIs. All data is used for educational purposes only under fair use principles."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-2xl mx-auto",children:[o.jsxs("a",{href:"https://www.edamam.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Edamam API",o.jsx(Wh,{className:"ml-2 h-4 w-4"})]}),o.jsxs("a",{href:"https://www.calorieninjas.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["CalorieNinjas API",o.jsx(Wh,{className:"ml-2 h-4 w-4"})]}),o.jsxs("a",{href:"https://platform.fatsecret.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["FatSecret API",o.jsx(Wh,{className:"ml-2 h-4 w-4"})]}),o.jsxs("a",{href:"https://world.openfoodfacts.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Open Food Facts",o.jsx(Wh,{className:"ml-2 h-4 w-4"})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsx(Ft,{to:"/features",children:o.jsx(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore SafeBite Features"})})})]}),o.jsx(Pm,{})]}),LTe=()=>{const t=[{title:"Food Search & Analysis",description:"Search for any food item across multiple databases to get comprehensive nutritional information. Scan barcodes for instant product details.",icon:o.jsx(to,{className:"h-10 w-10 text-safebite-teal"}),color:"bg-safebite-teal/10",border:"border-safebite-teal/30"},{title:"Personalized Health Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals and dietary preferences.",icon:o.jsx(Wj,{className:"h-10 w-10 text-purple-500"}),color:"bg-purple-500/10",border:"border-purple-500/30"},{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations based on your habits.",icon:o.jsx(rs,{className:"h-10 w-10 text-red-500"}),color:"bg-red-500/10",border:"border-red-500/30"},{title:"Food Safety Alerts",description:"Get warnings about ingredients that may affect your health goals or conflict with dietary restrictions and allergies.",icon:o.jsx(EV,{className:"h-10 w-10 text-yellow-500"}),color:"bg-yellow-500/10",border:"border-yellow-500/30"},{title:"Barcode Scanner",description:"Quickly scan product barcodes to get instant nutritional information and safety alerts for packaged foods.",icon:o.jsx(_V,{className:"h-10 w-10 text-blue-500"}),color:"bg-blue-500/10",border:"border-blue-500/30"},{title:"Recipe Recommendations",description:"Discover healthy recipes tailored to your dietary preferences, restrictions, and health goals.",icon:o.jsx(wV,{className:"h-10 w-10 text-green-500"}),color:"bg-green-500/10",border:"border-green-500/30"},{title:"Community Support",description:"Connect with others on similar health journeys, share experiences, and get motivation from the SafeBite community.",icon:o.jsx(es,{className:"h-10 w-10 text-indigo-500"}),color:"bg-indigo-500/10",border:"border-indigo-500/30"},{title:"Smart Notifications",description:"Receive timely reminders for health check-ins, meal planning suggestions, and personalized health tips.",icon:o.jsx(Od,{className:"h-10 w-10 text-pink-500"}),color:"bg-pink-500/10",border:"border-pink-500/30"},{title:"Health Achievements",description:"Earn badges and track achievements as you make progress toward your health and nutrition goals.",icon:o.jsx(bp,{className:"h-10 w-10 text-amber-500"}),color:"bg-amber-500/10",border:"border-amber-500/30"},{title:"AI-Powered Recommendations",description:"Get intelligent food and activity suggestions based on your profile, preferences, and progress data.",icon:o.jsx(Md,{className:"h-10 w-10 text-cyan-500"}),color:"bg-cyan-500/10",border:"border-cyan-500/30"},{title:"Comprehensive Reports",description:"Access detailed reports on your nutrition, activity, and progress over time with visual charts and insights.",icon:o.jsx(Wj,{className:"h-10 w-10 text-emerald-500"}),color:"bg-emerald-500/10",border:"border-emerald-500/30"},{title:"Energy Tracking",description:"Monitor your energy levels in relation to your diet and activity to optimize your daily routine.",icon:o.jsx(ss,{className:"h-10 w-10 text-orange-500"}),color:"bg-orange-500/10",border:"border-orange-500/30"}];return o.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[o.jsx(cb,{}),o.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:o.jsx("span",{className:"gradient-text",children:"SafeBite Features"})}),o.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Discover all the powerful tools and features that make SafeBite your ultimate companion for healthier food choices"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:t.map((e,r)=>o.jsxs(Fe,{className:`sci-fi-card border ${e.border} hover:shadow-lg transition-shadow`,children:[o.jsx(zt,{className:`${e.color} rounded-t-lg`,children:o.jsxs("div",{className:"flex items-center",children:[e.icon,o.jsx(qt,{className:"ml-3 text-xl",children:e.title})]})}),o.jsx(Vt,{className:"pt-4",children:o.jsx("p",{className:"text-safebite-text-secondary",children:e.description})})]},r))}),o.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-8 mb-16",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:"Special Project Information"}),o.jsx("p",{className:"text-safebite-text-secondary",children:"SafeBite is a special engineering project developed by Aditya Shenvi at IFHE Hyderabad"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Project Goals"}),o.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"Create an intuitive platform for food nutrition analysis"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"Provide personalized health recommendations based on user data"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"Integrate multiple food databases for comprehensive information"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"Develop a user-friendly interface with modern design principles"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Technical Implementation"}),o.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"React & TypeScript frontend with Tailwind CSS for styling"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"Firebase authentication and Firestore database"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"Integration with multiple food nutrition APIs"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),o.jsx("span",{children:"Data visualization using Recharts library"})]})]})]})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Ready to experience all these features and start your journey to healthier eating?"}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[o.jsx(Ft,{to:"/auth/signup",children:o.jsx(oe,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto",children:"Sign Up Now"})}),o.jsx(Ft,{to:"/about",children:o.jsx(oe,{variant:"outline",className:"sci-fi-button w-full sm:w-auto",children:"Learn About the Project"})})]})]})]}),o.jsx(Pm,{})]})},$Te=()=>{const t=Cn();return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(cb,{}),o.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs(oe,{variant:"outline",className:"mb-4",onClick:()=>t("/dashboard"),children:[o.jsx(Yx,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Food Delivery Integration"}),o.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Get nutritional insights for your favorite restaurant meals from Zomato and Swiggy."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs(Fe,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-4",children:o.jsx(Sp,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-orange-500",children:"Zomato Integration"}),o.jsx(Mt,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Coming Soon"})]})]}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Zomato to provide nutritional information and health recommendations for your favorite restaurant meals."}),o.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(ni,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),o.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Un,{className:"h-4 w-4 text-orange-500 animate-spin mr-2"}),o.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (65%)"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(oe,{disabled:!0,className:"bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[o.jsx(Wi,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]}),o.jsxs(Fe,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center mr-4",children:o.jsx(BY,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-orange-400",children:"Swiggy Integration"}),o.jsx(Mt,{variant:"outline",className:"bg-orange-400/10 text-orange-400 border-orange-400/30",children:"Coming Soon"})]})]}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Swiggy to provide nutritional information and health recommendations for your favorite restaurant meals."}),o.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(ni,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),o.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Un,{className:"h-4 w-4 text-orange-400 animate-spin mr-2"}),o.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (42%)"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(oe,{disabled:!0,className:"bg-orange-400/20 text-orange-400 hover:bg-orange-400/30 cursor-not-allowed",children:[o.jsx(Wi,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]})]}),o.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Why We're Building This"}),o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Eating out shouldn't mean compromising on your health goals. Our integration with popular food delivery platforms will help you:"}),o.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),o.jsx("span",{children:"Get nutritional information for restaurant meals"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),o.jsx("span",{children:"Receive personalized recommendations based on your health profile"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),o.jsx("span",{children:"Track your nutrition even when eating out"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),o.jsx("span",{children:"Make informed choices that align with your health goals"})]})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working hard to bring this feature to you. Check back soon for updates!"}),o.jsx(oe,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]})]}),o.jsx(Pm,{})]})},FTe=new ZJ,Xo=({children:t})=>Jt(We).currentUser?o.jsx(o.Fragment,{children:t}):o.jsx(UZ,{to:"/auth/login",replace:!0}),VTe=()=>o.jsx(kJ,{children:o.jsxs(tZ,{client:FTe,children:[o.jsxs(ap,{children:[o.jsx(AQ,{}),o.jsx(tX,{}),o.jsx(k6,{}),o.jsx(JZ,{basename:"/SafeBite-V1/",children:o.jsxs(qZ,{children:[o.jsx(Rr,{path:"/",element:o.jsx(lee,{})}),o.jsx(Rr,{path:"/about",element:o.jsx(DTe,{})}),o.jsx(Rr,{path:"/features",element:o.jsx(LTe,{})}),o.jsx(Rr,{path:"/auth/login",element:o.jsx(cce,{})}),o.jsx(Rr,{path:"/auth/signup",element:o.jsx(uce,{})}),o.jsx(Rr,{path:"/auth/forgot-password",element:o.jsx(dce,{})}),o.jsx(Rr,{path:"/questionnaire",element:o.jsx(Jce,{})}),o.jsx(Rr,{path:"/weekly-questions",element:o.jsx(NNe,{})}),o.jsx(Rr,{path:"/dashboard",element:o.jsx(Xo,{children:o.jsx(HAe,{})})}),o.jsx(Rr,{path:"/food-search",element:o.jsx(Xo,{children:o.jsx(_Ne,{})})}),o.jsx(Rr,{path:"/food-delivery",element:o.jsx(Xo,{children:o.jsx($Te,{})})}),o.jsx(Rr,{path:"/community",element:o.jsx(Xo,{children:o.jsx(SNe,{})})}),o.jsx(Rr,{path:"/healthbox",element:o.jsx(Xo,{children:o.jsx(ITe,{})})}),o.jsx(Rr,{path:"/reports",element:o.jsx(Xo,{children:o.jsx(CNe,{})})}),o.jsx(Rr,{path:"/recipes",element:o.jsx(Xo,{children:o.jsx(FNe,{})})}),o.jsx(Rr,{path:"/settings",element:o.jsx(Xo,{children:o.jsx(sce,{})})}),o.jsx(Rr,{path:"/admin/login",element:o.jsx(RTe,{})}),o.jsx(Rr,{path:"/admin/panel",element:o.jsx(MTe,{})}),o.jsx(Rr,{path:"*",element:o.jsx(OTe,{})})]})})]}),o.jsx(uW,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or health!"})]})});mK.createRoot(document.getElementById("root")).render(o.jsx(VTe,{}));export{zn as A,oe as B,Fe as C,to as D,sd as F,rs as H,At as I,dt as L,MY as M,Vp as P,E9 as R,ho as S,Wi as T,Vt as a,cy as b,wp as c,Ee as d,vs as e,po as f,ys as g,Ut as h,j9 as i,o as j,fV as k,Df as l,au as m,Pr as n,Hr as o,Jt as p,We as q,S as r,lr as s,Dt as t,Vr as u,an as v,LY as w,ni as x,Od as y,Rd as z};
