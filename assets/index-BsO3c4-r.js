var UG=Object.defineProperty;var NI=t=>{throw TypeError(t)};var zG=(t,e,r)=>e in t?UG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rn=(t,e,r)=>zG(t,typeof e!="symbol"?e+"":e,r),Zw=(t,e,r)=>e.has(t)||NI("Cannot "+r);var be=(t,e,r)=>(Zw(t,e,"read from private field"),r?r.call(t):e.get(t)),Dt=(t,e,r)=>e.has(t)?NI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),dt=(t,e,r,n)=>(Zw(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),mn=(t,e,r)=>(Zw(t,e,"access private method"),r);var mv=(t,e,r,n)=>({set _(i){dt(t,e,i,r)},get _(){return be(t,e,n)}});function qG(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e1={exports:{}},Oh={},t1={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function HG(){if(EI)return pt;EI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function p(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function x(H,X,te){this.props=H,this.context=X,this.refs=b,this.updater=te||y}x.prototype.isReactComponent={},x.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},x.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=x.prototype;function S(H,X,te){this.props=H,this.context=X,this.refs=b,this.updater=te||y}var T=S.prototype=new E;T.constructor=S,_(T,x.prototype),T.isPureReactComponent=!0;var N=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(H,X,te){var ee,me={},ge=null,ue=null;if(X!=null)for(ee in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(ge=""+X.key),X)C.call(X,ee)&&!P.hasOwnProperty(ee)&&(me[ee]=X[ee]);var ve=arguments.length-2;if(ve===1)me.children=te;else if(1<ve){for(var de=Array(ve),he=0;he<ve;he++)de[he]=arguments[he+2];me.children=de}if(H&&H.defaultProps)for(ee in ve=H.defaultProps,ve)me[ee]===void 0&&(me[ee]=ve[ee]);return{$$typeof:t,type:H,key:ge,ref:ue,props:me,_owner:O.current}}function M(H,X){return{$$typeof:t,type:H.type,key:X,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(te){return X[te]})}var D=/\/+/g;function L(H,X){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):X.toString(36)}function B(H,X,te,ee,me){var ge=typeof H;(ge==="undefined"||ge==="boolean")&&(H=null);var ue=!1;if(H===null)ue=!0;else switch(ge){case"string":case"number":ue=!0;break;case"object":switch(H.$$typeof){case t:case e:ue=!0}}if(ue)return ue=H,me=me(ue),H=ee===""?"."+L(ue,0):ee,N(me)?(te="",H!=null&&(te=H.replace(D,"$&/")+"/"),B(me,X,te,"",function(he){return he})):me!=null&&(V(me)&&(me=M(me,te+(!me.key||ue&&ue.key===me.key?"":(""+me.key).replace(D,"$&/")+"/")+H)),X.push(me)),1;if(ue=0,ee=ee===""?".":ee+":",N(H))for(var ve=0;ve<H.length;ve++){ge=H[ve];var de=ee+L(ge,ve);ue+=B(ge,X,te,de,me)}else if(de=p(H),typeof de=="function")for(H=de.call(H),ve=0;!(ge=H.next()).done;)ge=ge.value,de=ee+L(ge,ve++),ue+=B(ge,X,te,de,me);else if(ge==="object")throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function G(H,X,te){if(H==null)return H;var ee=[],me=0;return B(H,ee,"","",function(ge){return X.call(te,ge,me++)}),ee}function q(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(te){(H._status===0||H._status===-1)&&(H._status=1,H._result=te)},function(te){(H._status===0||H._status===-1)&&(H._status=2,H._result=te)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var Y={current:null},z={transition:null},J={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:z,ReactCurrentOwner:O};function re(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:G,forEach:function(H,X,te){G(H,function(){X.apply(this,arguments)},te)},count:function(H){var X=0;return G(H,function(){X++}),X},toArray:function(H){return G(H,function(X){return X})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},pt.Component=x,pt.Fragment=r,pt.Profiler=i,pt.PureComponent=S,pt.StrictMode=n,pt.Suspense=u,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,pt.act=re,pt.cloneElement=function(H,X,te){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ee=_({},H.props),me=H.key,ge=H.ref,ue=H._owner;if(X!=null){if(X.ref!==void 0&&(ge=X.ref,ue=O.current),X.key!==void 0&&(me=""+X.key),H.type&&H.type.defaultProps)var ve=H.type.defaultProps;for(de in X)C.call(X,de)&&!P.hasOwnProperty(de)&&(ee[de]=X[de]===void 0&&ve!==void 0?ve[de]:X[de])}var de=arguments.length-2;if(de===1)ee.children=te;else if(1<de){ve=Array(de);for(var he=0;he<de;he++)ve[he]=arguments[he+2];ee.children=ve}return{$$typeof:t,type:H.type,key:me,ref:ge,props:ee,_owner:ue}},pt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},pt.createElement=R,pt.createFactory=function(H){var X=R.bind(null,H);return X.type=H,X},pt.createRef=function(){return{current:null}},pt.forwardRef=function(H){return{$$typeof:l,render:H}},pt.isValidElement=V,pt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:q}},pt.memo=function(H,X){return{$$typeof:f,type:H,compare:X===void 0?null:X}},pt.startTransition=function(H){var X=z.transition;z.transition={};try{H()}finally{z.transition=X}},pt.unstable_act=re,pt.useCallback=function(H,X){return Y.current.useCallback(H,X)},pt.useContext=function(H){return Y.current.useContext(H)},pt.useDebugValue=function(){},pt.useDeferredValue=function(H){return Y.current.useDeferredValue(H)},pt.useEffect=function(H,X){return Y.current.useEffect(H,X)},pt.useId=function(){return Y.current.useId()},pt.useImperativeHandle=function(H,X,te){return Y.current.useImperativeHandle(H,X,te)},pt.useInsertionEffect=function(H,X){return Y.current.useInsertionEffect(H,X)},pt.useLayoutEffect=function(H,X){return Y.current.useLayoutEffect(H,X)},pt.useMemo=function(H,X){return Y.current.useMemo(H,X)},pt.useReducer=function(H,X,te){return Y.current.useReducer(H,X,te)},pt.useRef=function(H){return Y.current.useRef(H)},pt.useState=function(H){return Y.current.useState(H)},pt.useSyncExternalStore=function(H,X,te){return Y.current.useSyncExternalStore(H,X,te)},pt.useTransition=function(){return Y.current.useTransition()},pt.version="18.3.1",pt}var AI;function uT(){return AI||(AI=1,t1.exports=HG()),t1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function WG(){if(TI)return Oh;TI=1;var t=uT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,f){var h,m={},p=null,y=null;f!==void 0&&(p=""+f),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)n.call(u,h)&&!s.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:e,type:l,key:p,ref:y,props:m,_owner:i.current}}return Oh.Fragment=r,Oh.jsx=o,Oh.jsxs=o,Oh}var CI;function GG(){return CI||(CI=1,e1.exports=WG()),e1.exports}var a=GG(),gv={},r1={exports:{}},qn={},n1={exports:{}},i1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function KG(){return kI||(kI=1,function(t){function e(z,J){var re=z.length;z.push(J);e:for(;0<re;){var H=re-1>>>1,X=z[H];if(0<i(X,J))z[H]=J,z[re]=X,re=H;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var J=z[0],re=z.pop();if(re!==J){z[0]=re;e:for(var H=0,X=z.length,te=X>>>1;H<te;){var ee=2*(H+1)-1,me=z[ee],ge=ee+1,ue=z[ge];if(0>i(me,re))ge<X&&0>i(ue,me)?(z[H]=ue,z[ge]=re,H=ge):(z[H]=me,z[ee]=re,H=ee);else if(ge<X&&0>i(ue,re))z[H]=ue,z[ge]=re,H=ge;else break e}}return J}function i(z,J){var re=z.sortIndex-J.sortIndex;return re!==0?re:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,m=null,p=3,y=!1,_=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=z)n(f),J.sortIndex=J.expirationTime,e(u,J);else break;J=r(f)}}function N(z){if(b=!1,T(z),!_)if(r(u)!==null)_=!0,q(C);else{var J=r(f);J!==null&&Y(N,J.startTime-z)}}function C(z,J){_=!1,b&&(b=!1,E(R),R=-1),y=!0;var re=p;try{for(T(J),m=r(u);m!==null&&(!(m.expirationTime>J)||z&&!$());){var H=m.callback;if(typeof H=="function"){m.callback=null,p=m.priorityLevel;var X=H(m.expirationTime<=J);J=t.unstable_now(),typeof X=="function"?m.callback=X:m===r(u)&&n(u),T(J)}else n(u);m=r(u)}if(m!==null)var te=!0;else{var ee=r(f);ee!==null&&Y(N,ee.startTime-J),te=!1}return te}finally{m=null,p=re,y=!1}}var O=!1,P=null,R=-1,M=5,V=-1;function $(){return!(t.unstable_now()-V<M)}function D(){if(P!==null){var z=t.unstable_now();V=z;var J=!0;try{J=P(!0,z)}finally{J?L():(O=!1,P=null)}}else O=!1}var L;if(typeof S=="function")L=function(){S(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=D,L=function(){G.postMessage(null)}}else L=function(){x(D,0)};function q(z){P=z,O||(O=!0,L())}function Y(z,J){R=x(function(){z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,q(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var re=p;p=J;try{return z()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=p;p=z;try{return J()}finally{p=re}},t.unstable_scheduleCallback=function(z,J,re){var H=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?H+re:H):re=H,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,z={id:h++,callback:J,priorityLevel:z,startTime:re,expirationTime:X,sortIndex:-1},re>H?(z.sortIndex=re,e(f,z),r(u)===null&&z===r(f)&&(b?(E(R),R=-1):b=!0,Y(N,re-H))):(z.sortIndex=X,e(u,z),_||y||(_=!0,q(C))),z},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(z){var J=p;return function(){var re=p;p=J;try{return z.apply(this,arguments)}finally{p=re}}}}(i1)),i1}var PI;function YG(){return PI||(PI=1,n1.exports=KG()),n1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II;function QG(){if(II)return qn;II=1;var t=uT(),e=YG();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)n.add(d[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function p(c){return u.call(m,c)?!0:u.call(h,c)?!1:f.test(c)?m[c]=!0:(h[c]=!0,!1)}function y(c,d,g,w){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function _(c,d,g,w){if(d===null||typeof d>"u"||y(c,d,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(c,d,g,w,A,I,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=I,this.removeEmptyString=U}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){x[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];x[d]=new b(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){x[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){x[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){x[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){x[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){x[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){x[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){x[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function S(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(E,S);x[d]=new b(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(E,S);x[d]=new b(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(E,S);x[d]=new b(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){x[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){x[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function T(c,d,g,w){var A=x.hasOwnProperty(d)?x[d]:null;(A!==null?A.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,g,A,w)&&(g=null),w||A===null?p(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):A.mustUseProperty?c[A.propertyName]=g===null?A.type===3?!1:"":g:(d=A.attributeName,w=A.attributeNamespace,g===null?c.removeAttribute(d):(A=A.type,g=A===3||A===4&&g===!0?"":""+g,w?c.setAttributeNS(w,d,g):c.setAttribute(d,g))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),z=Symbol.iterator;function J(c){return c===null||typeof c!="object"?null:(c=z&&c[z]||c["@@iterator"],typeof c=="function"?c:null)}var re=Object.assign,H;function X(c){if(H===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);H=d&&d[1]||""}return`
`+H+c}var te=!1;function ee(c,d){if(!c||te)return"";te=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ce){var w=ce}Reflect.construct(c,[],d)}else{try{d.call()}catch(ce){w=ce}c.call(d.prototype)}else{try{throw Error()}catch(ce){w=ce}c()}}catch(ce){if(ce&&w&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),I=w.stack.split(`
`),U=A.length-1,Q=I.length-1;1<=U&&0<=Q&&A[U]!==I[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(A[U]!==I[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||A[U]!==I[Q]){var Z=`
`+A[U].replace(" at new "," at ");return c.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",c.displayName)),Z}while(1<=U&&0<=Q);break}}}finally{te=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?X(c):""}function me(c){switch(c.tag){case 5:return X(c.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return c=ee(c.type,!1),c;case 11:return c=ee(c.type.render,!1),c;case 1:return c=ee(c.type,!0),c;default:return""}}function ge(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case P:return"Fragment";case O:return"Portal";case M:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case $:return(c.displayName||"Context")+".Consumer";case V:return(c._context.displayName||"Context")+".Provider";case D:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case G:return d=c.displayName||null,d!==null?d:ge(c.type)||"Memo";case q:d=c._payload,c=c._init;try{return ge(c(d))}catch{}}return null}function ue(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(d);case 8:return d===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ve(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function de(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function he(c){var d=de(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),w=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,I=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return A.call(this)},set:function(U){w=""+U,I.call(this,U)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(U){w=""+U},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Ne(c){c._valueTracker||(c._valueTracker=he(c))}function le(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),w="";return c&&(w=de(c)?c.checked?"true":"false":c.value),c=w,c!==g?(d.setValue(c),!0):!1}function qe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Re(c,d){var g=d.checked;return re({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function ze(c,d){var g=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;g=ve(d.value!=null?d.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function at(c,d){d=d.checked,d!=null&&T(c,"checked",d,!1)}function Bt(c,d){at(c,d);var g=ve(d.value),w=d.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Ce(c,d.type,g):d.hasOwnProperty("defaultValue")&&Ce(c,d.type,ve(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Ar(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Ce(c,d,g){(d!=="number"||qe(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Qe=Array.isArray;function ct(c,d,g,w){if(c=c.options,d){d={};for(var A=0;A<g.length;A++)d["$"+g[A]]=!0;for(g=0;g<c.length;g++)A=d.hasOwnProperty("$"+c[g].value),c[g].selected!==A&&(c[g].selected=A),A&&w&&(c[g].defaultSelected=!0)}else{for(g=""+ve(g),d=null,A=0;A<c.length;A++){if(c[A].value===g){c[A].selected=!0,w&&(c[A].defaultSelected=!0);return}d!==null||c[A].disabled||(d=c[A])}d!==null&&(d.selected=!0)}}function Ut(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function qt(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(Qe(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:ve(g)}}function cn(c,d){var g=ve(d.value),w=ve(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function Mn(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function ut(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?ut(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var wi,_i=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,w,A){MSApp.execUnsafeLocalFunction(function(){return c(d,g,w,A)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=wi.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function Wi(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ps=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(c){Ps.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),ha[d]=ha[c]})});function vo(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||ha.hasOwnProperty(c)&&ha[c]?(""+d).trim():d+"px"}function Ql(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var w=g.indexOf("--")===0,A=vo(g,d[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,A):c[g]=A}}var ma=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(c,d){if(d){if(ma[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Xl(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xe=null;function Pt(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ct=null,ur=null,wr=null;function Gi(c){if(c=xh(c)){if(typeof Ct!="function")throw Error(r(280));var d=c.stateNode;d&&(d=Cg(d),Ct(c.stateNode,c.type,d))}}function ji(c){ur?wr?wr.push(c):wr=[c]:ur=c}function Qf(){if(ur){var c=ur,d=wr;if(wr=ur=null,Gi(c),d)for(c=0;c<d.length;c++)Gi(d[c])}}function Jl(c,d){return c(d)}function Xf(){}var pa=!1;function Jf(c,d,g){if(pa)return c(d,g);pa=!0;try{return Jl(c,d,g)}finally{pa=!1,(ur!==null||wr!==null)&&(Xf(),Qf())}}function _r(c,d){var g=c.stateNode;if(g===null)return null;var w=Cg(g);if(w===null)return null;g=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var gu=!1;if(l)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){gu=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{gu=!1}function Zl(c,d,g,w,A,I,U,Q,Z){var ce=Array.prototype.slice.call(arguments,3);try{d.apply(g,ce)}catch(je){this.onError(je)}}var ec=!1,vu=null,Yi=!1,Zf=null,A0={onError:function(c){ec=!0,vu=c}};function yu(c,d,g,w,A,I,U,Q,Z){ec=!1,vu=null,Zl.apply(A0,arguments)}function eg(c,d,g,w,A,I,U,Q,Z){if(yu.apply(this,arguments),ec){if(ec){var ce=vu;ec=!1,vu=null}else throw Error(r(198));Yi||(Yi=!0,Zf=ce)}}function Qi(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function tc(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function Xi(c){if(Qi(c)!==c)throw Error(r(188))}function tg(c){var d=c.alternate;if(!d){if(d=Qi(c),d===null)throw Error(r(188));return d!==c?null:c}for(var g=c,w=d;;){var A=g.return;if(A===null)break;var I=A.alternate;if(I===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===g)return Xi(A),c;if(I===w)return Xi(A),d;I=I.sibling}throw Error(r(188))}if(g.return!==w.return)g=A,w=I;else{for(var U=!1,Q=A.child;Q;){if(Q===g){U=!0,g=A,w=I;break}if(Q===w){U=!0,w=A,g=I;break}Q=Q.sibling}if(!U){for(Q=I.child;Q;){if(Q===g){U=!0,g=I,w=A;break}if(Q===w){U=!0,w=I,g=A;break}Q=Q.sibling}if(!U)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:d}function eh(c){return c=tg(c),c!==null?xu(c):null}function xu(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=xu(c);if(d!==null)return d;c=c.sibling}return null}var bu=e.unstable_scheduleCallback,th=e.unstable_cancelCallback,rg=e.unstable_shouldYield,T0=e.unstable_requestPaint,Qt=e.unstable_now,ng=e.unstable_getCurrentPriorityLevel,rc=e.unstable_ImmediatePriority,yo=e.unstable_UserBlockingPriority,Si=e.unstable_NormalPriority,rh=e.unstable_LowPriority,ig=e.unstable_IdlePriority,nc=null,ei=null;function sg(c){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(nc,c,void 0,(c.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:og,nh=Math.log,ag=Math.LN2;function og(c){return c>>>=0,c===0?32:31-(nh(c)/ag|0)|0}var wu=64,_u=4194304;function xo(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ic(c,d){var g=c.pendingLanes;if(g===0)return 0;var w=0,A=c.suspendedLanes,I=c.pingedLanes,U=g&268435455;if(U!==0){var Q=U&~A;Q!==0?w=xo(Q):(I&=U,I!==0&&(w=xo(I)))}else U=g&~A,U!==0?w=xo(U):I!==0&&(w=xo(I));if(w===0)return 0;if(d!==0&&d!==w&&(d&A)===0&&(A=w&-w,I=d&-d,A>=I||A===16&&(I&4194240)!==0))return d;if((w&4)!==0&&(w|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=w;0<d;)g=31-Nn(d),A=1<<g,w|=c[g],d&=~A;return w}function C0(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ga(c,d){for(var g=c.suspendedLanes,w=c.pingedLanes,A=c.expirationTimes,I=c.pendingLanes;0<I;){var U=31-Nn(I),Q=1<<U,Z=A[U];Z===-1?((Q&g)===0||(Q&w)!==0)&&(A[U]=C0(Q,d)):Z<=d&&(c.expiredLanes|=Q),I&=~Q}}function ti(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function sc(){var c=wu;return wu<<=1,(wu&4194240)===0&&(wu=64),c}function bo(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function wo(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Nn(d),c[d]=g}function Kt(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var A=31-Nn(g),I=1<<A;d[A]=0,w[A]=-1,c[A]=-1,g&=~I}}function _o(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var w=31-Nn(g),A=1<<w;A&d|c[w]&d&&(c[w]|=d),g&=~A}}var jt=0;function jo(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var lg,ju,cg,ug,dg,ih=!1,Is=[],Jr=null,Ji=null,Zi=null,So=new Map,Ni=new Map,Rs=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fg(c,d){switch(c){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":So.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(d.pointerId)}}function Ln(c,d,g,w,A,I){return c===null||c.nativeEvent!==I?(c={blockedOn:d,domEventName:g,eventSystemFlags:w,nativeEvent:I,targetContainers:[A]},d!==null&&(d=xh(d),d!==null&&ju(d)),c):(c.eventSystemFlags|=w,d=c.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),c)}function P0(c,d,g,w,A){switch(d){case"focusin":return Jr=Ln(Jr,c,d,g,w,A),!0;case"dragenter":return Ji=Ln(Ji,c,d,g,w,A),!0;case"mouseover":return Zi=Ln(Zi,c,d,g,w,A),!0;case"pointerover":var I=A.pointerId;return So.set(I,Ln(So.get(I)||null,c,d,g,w,A)),!0;case"gotpointercapture":return I=A.pointerId,Ni.set(I,Ln(Ni.get(I)||null,c,d,g,w,A)),!0}return!1}function hg(c){var d=uc(c.target);if(d!==null){var g=Qi(d);if(g!==null){if(d=g.tag,d===13){if(d=tc(g),d!==null){c.blockedOn=d,dg(c.priority,function(){cg(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function va(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=Su(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);Xe=w,g.target.dispatchEvent(w),Xe=null}else return d=xh(g),d!==null&&ju(d),c.blockedOn=g,!1;d.shift()}return!0}function ac(c,d,g){va(c)&&g.delete(d)}function mg(){ih=!1,Jr!==null&&va(Jr)&&(Jr=null),Ji!==null&&va(Ji)&&(Ji=null),Zi!==null&&va(Zi)&&(Zi=null),So.forEach(ac),Ni.forEach(ac)}function es(c,d){c.blockedOn===d&&(c.blockedOn=null,ih||(ih=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mg)))}function ts(c){function d(A){return es(A,c)}if(0<Is.length){es(Is[0],c);for(var g=1;g<Is.length;g++){var w=Is[g];w.blockedOn===c&&(w.blockedOn=null)}}for(Jr!==null&&es(Jr,c),Ji!==null&&es(Ji,c),Zi!==null&&es(Zi,c),So.forEach(d),Ni.forEach(d),g=0;g<Rs.length;g++)w=Rs[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<Rs.length&&(g=Rs[0],g.blockedOn===null);)hg(g),g.blockedOn===null&&Rs.shift()}var ya=N.ReactCurrentBatchConfig,No=!0;function or(c,d,g,w){var A=jt,I=ya.transition;ya.transition=null;try{jt=1,sh(c,d,g,w)}finally{jt=A,ya.transition=I}}function I0(c,d,g,w){var A=jt,I=ya.transition;ya.transition=null;try{jt=4,sh(c,d,g,w)}finally{jt=A,ya.transition=I}}function sh(c,d,g,w){if(No){var A=Su(c,d,g,w);if(A===null)z0(c,d,w,oc,g),fg(c,w);else if(P0(A,c,d,g,w))w.stopPropagation();else if(fg(c,w),d&4&&-1<k0.indexOf(c)){for(;A!==null;){var I=xh(A);if(I!==null&&lg(I),I=Su(c,d,g,w),I===null&&z0(c,d,w,oc,g),I===A)break;A=I}A!==null&&w.stopPropagation()}else z0(c,d,w,null,g)}}var oc=null;function Su(c,d,g,w){if(oc=null,c=Pt(w),c=uc(c),c!==null)if(d=Qi(c),d===null)c=null;else if(g=d.tag,g===13){if(c=tc(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return oc=c,null}function ah(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ng()){case rc:return 1;case yo:return 4;case Si:case rh:return 16;case ig:return 536870912;default:return 16}default:return 16}}var ri=null,Nu=null,$n=null;function oh(){if($n)return $n;var c,d=Nu,g=d.length,w,A="value"in ri?ri.value:ri.textContent,I=A.length;for(c=0;c<g&&d[c]===A[c];c++);var U=g-c;for(w=1;w<=U&&d[g-w]===A[I-w];w++);return $n=A.slice(c,1<w?1-w:void 0)}function Eu(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Os(){return!0}function lh(){return!1}function Zr(c){function d(g,w,A,I,U){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=I,this.target=U,this.currentTarget=null;for(var Q in c)c.hasOwnProperty(Q)&&(g=c[Q],this[Q]=g?g(I):I[Q]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Os:lh,this.isPropagationStopped=lh,this}return re(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),d}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=Zr(rs),Ms=re({},rs,{view:0,detail:0}),R0=Zr(Ms),Tu,xa,Eo,lc=re({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Eo&&(Eo&&c.type==="mousemove"?(Tu=c.screenX-Eo.screenX,xa=c.screenY-Eo.screenY):xa=Tu=0,Eo=c),Tu)},movementY:function(c){return"movementY"in c?c.movementY:xa}}),Cu=Zr(lc),ch=re({},lc,{dataTransfer:0}),pg=Zr(ch),ku=re({},Ms,{relatedTarget:0}),Pu=Zr(ku),gg=re({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=Zr(gg),vg=re({},rs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),yg=Zr(vg),xg=re({},rs,{data:0}),uh=Zr(xg),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wg(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=bg[c])?!!d[c]:!1}function Ds(){return wg}var v=re({},Ms,{key:function(c){if(c.key){var d=Iu[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Eu(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?En[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(c){return c.type==="keypress"?Eu(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Eu(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),k=Zr(v),F=re({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=Zr(F),se=re({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),fe=Zr(se),Te=re({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zt=Zr(Te),Mr=re({},lc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Et=Zr(Mr),qr=[9,13,27,32],Tr=l&&"CompositionEvent"in window,Ei=null;l&&"documentMode"in document&&(Ei=document.documentMode);var ni=l&&"TextEvent"in window&&!Ei,cc=l&&(!Tr||Ei&&8<Ei&&11>=Ei),Ru=" ",xk=!1;function bk(c,d){switch(c){case"keyup":return qr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wk(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ou=!1;function FW(c,d){switch(c){case"compositionend":return wk(d);case"keypress":return d.which!==32?null:(xk=!0,Ru);case"textInput":return c=d.data,c===Ru&&xk?null:c;default:return null}}function VW(c,d){if(Ou)return c==="compositionend"||!Tr&&bk(c,d)?(c=oh(),$n=Nu=ri=null,Ou=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return cc&&d.locale!=="ko"?null:d.data;default:return null}}var BW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _k(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!BW[c.type]:d==="textarea"}function jk(c,d,g,w){ji(w),d=Eg(d,"onChange"),0<d.length&&(g=new Au("onChange","change",null,g,w),c.push({event:g,listeners:d}))}var dh=null,fh=null;function UW(c){Bk(c,0)}function _g(c){var d=Fu(c);if(le(d))return c}function zW(c,d){if(c==="change")return d}var Sk=!1;if(l){var O0;if(l){var M0="oninput"in document;if(!M0){var Nk=document.createElement("div");Nk.setAttribute("oninput","return;"),M0=typeof Nk.oninput=="function"}O0=M0}else O0=!1;Sk=O0&&(!document.documentMode||9<document.documentMode)}function Ek(){dh&&(dh.detachEvent("onpropertychange",Ak),fh=dh=null)}function Ak(c){if(c.propertyName==="value"&&_g(fh)){var d=[];jk(d,fh,c,Pt(c)),Jf(UW,d)}}function qW(c,d,g){c==="focusin"?(Ek(),dh=d,fh=g,dh.attachEvent("onpropertychange",Ak)):c==="focusout"&&Ek()}function HW(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return _g(fh)}function WW(c,d){if(c==="click")return _g(d)}function GW(c,d){if(c==="input"||c==="change")return _g(d)}function KW(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ns=typeof Object.is=="function"?Object.is:KW;function hh(c,d){if(ns(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),w=Object.keys(d);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!u.call(d,A)||!ns(c[A],d[A]))return!1}return!0}function Tk(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ck(c,d){var g=Tk(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=d&&w>=d)return{node:g,offset:d-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Tk(g)}}function kk(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?kk(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Pk(){for(var c=window,d=qe();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=qe(c.document)}return d}function D0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function YW(c){var d=Pk(),g=c.focusedElem,w=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&kk(g.ownerDocument.documentElement,g)){if(w!==null&&D0(g)){if(d=w.start,c=w.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var A=g.textContent.length,I=Math.min(w.start,A);w=w.end===void 0?I:Math.min(w.end,A),!c.extend&&I>w&&(A=w,w=I,I=A),A=Ck(g,I);var U=Ck(g,w);A&&U&&(c.rangeCount!==1||c.anchorNode!==A.node||c.anchorOffset!==A.offset||c.focusNode!==U.node||c.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),c.removeAllRanges(),I>w?(c.addRange(d),c.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var QW=l&&"documentMode"in document&&11>=document.documentMode,Mu=null,L0=null,mh=null,$0=!1;function Ik(c,d,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;$0||Mu==null||Mu!==qe(w)||(w=Mu,"selectionStart"in w&&D0(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),mh&&hh(mh,w)||(mh=w,w=Eg(L0,"onSelect"),0<w.length&&(d=new Au("onSelect","select",null,d,g),c.push({event:d,listeners:w}),d.target=Mu)))}function jg(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var Du={animationend:jg("Animation","AnimationEnd"),animationiteration:jg("Animation","AnimationIteration"),animationstart:jg("Animation","AnimationStart"),transitionend:jg("Transition","TransitionEnd")},F0={},Rk={};l&&(Rk=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function Sg(c){if(F0[c])return F0[c];if(!Du[c])return c;var d=Du[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in Rk)return F0[c]=d[g];return c}var Ok=Sg("animationend"),Mk=Sg("animationiteration"),Dk=Sg("animationstart"),Lk=Sg("transitionend"),$k=new Map,Fk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(c,d){$k.set(c,d),s(d,[c])}for(var V0=0;V0<Fk.length;V0++){var B0=Fk[V0],XW=B0.toLowerCase(),JW=B0[0].toUpperCase()+B0.slice(1);Ao(XW,"on"+JW)}Ao(Ok,"onAnimationEnd"),Ao(Mk,"onAnimationIteration"),Ao(Dk,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(Lk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZW=new Set("cancel close invalid load scroll toggle".split(" ").concat(ph));function Vk(c,d,g){var w=c.type||"unknown-event";c.currentTarget=g,eg(w,d,void 0,c),c.currentTarget=null}function Bk(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],A=w.event;w=w.listeners;e:{var I=void 0;if(d)for(var U=w.length-1;0<=U;U--){var Q=w[U],Z=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,Z!==I&&A.isPropagationStopped())break e;Vk(A,Q,ce),I=Z}else for(U=0;U<w.length;U++){if(Q=w[U],Z=Q.instance,ce=Q.currentTarget,Q=Q.listener,Z!==I&&A.isPropagationStopped())break e;Vk(A,Q,ce),I=Z}}}if(Yi)throw c=Zf,Yi=!1,Zf=null,c}function Zt(c,d){var g=d[Y0];g===void 0&&(g=d[Y0]=new Set);var w=c+"__bubble";g.has(w)||(Uk(d,c,2,!1),g.add(w))}function U0(c,d,g){var w=0;d&&(w|=4),Uk(g,c,w,d)}var Ng="_reactListening"+Math.random().toString(36).slice(2);function gh(c){if(!c[Ng]){c[Ng]=!0,n.forEach(function(g){g!=="selectionchange"&&(ZW.has(g)||U0(g,!1,c),U0(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Ng]||(d[Ng]=!0,U0("selectionchange",!1,d))}}function Uk(c,d,g,w){switch(ah(d)){case 1:var A=or;break;case 4:A=I0;break;default:A=sh}g=A.bind(null,d,g,c),A=void 0,!gu||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),w?A!==void 0?c.addEventListener(d,g,{capture:!0,passive:A}):c.addEventListener(d,g,!0):A!==void 0?c.addEventListener(d,g,{passive:A}):c.addEventListener(d,g,!1)}function z0(c,d,g,w,A){var I=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var U=w.tag;if(U===3||U===4){var Q=w.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(U===4)for(U=w.return;U!==null;){var Z=U.tag;if((Z===3||Z===4)&&(Z=U.stateNode.containerInfo,Z===A||Z.nodeType===8&&Z.parentNode===A))return;U=U.return}for(;Q!==null;){if(U=uc(Q),U===null)return;if(Z=U.tag,Z===5||Z===6){w=I=U;continue e}Q=Q.parentNode}}w=w.return}Jf(function(){var ce=I,je=Pt(g),Se=[];e:{var we=$k.get(c);if(we!==void 0){var ke=Au,Le=c;switch(c){case"keypress":if(Eu(g)===0)break e;case"keydown":case"keyup":ke=k;break;case"focusin":Le="focus",ke=Pu;break;case"focusout":Le="blur",ke=Pu;break;case"beforeblur":case"afterblur":ke=Pu;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=fe;break;case Ok:case Mk:case Dk:ke=ba;break;case Lk:ke=zt;break;case"scroll":ke=R0;break;case"wheel":ke=Et;break;case"copy":case"cut":case"paste":ke=yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=W}var Fe=(d&4)!==0,jr=!Fe&&c==="scroll",ae=Fe?we!==null?we+"Capture":null:we;Fe=[];for(var ne=ce,oe;ne!==null;){oe=ne;var Ee=oe.stateNode;if(oe.tag===5&&Ee!==null&&(oe=Ee,ae!==null&&(Ee=_r(ne,ae),Ee!=null&&Fe.push(vh(ne,Ee,oe)))),jr)break;ne=ne.return}0<Fe.length&&(we=new ke(we,Le,null,g,je),Se.push({event:we,listeners:Fe}))}}if((d&7)===0){e:{if(we=c==="mouseover"||c==="pointerover",ke=c==="mouseout"||c==="pointerout",we&&g!==Xe&&(Le=g.relatedTarget||g.fromElement)&&(uc(Le)||Le[wa]))break e;if((ke||we)&&(we=je.window===je?je:(we=je.ownerDocument)?we.defaultView||we.parentWindow:window,ke?(Le=g.relatedTarget||g.toElement,ke=ce,Le=Le?uc(Le):null,Le!==null&&(jr=Qi(Le),Le!==jr||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(ke=null,Le=ce),ke!==Le)){if(Fe=Cu,Ee="onMouseLeave",ae="onMouseEnter",ne="mouse",(c==="pointerout"||c==="pointerover")&&(Fe=W,Ee="onPointerLeave",ae="onPointerEnter",ne="pointer"),jr=ke==null?we:Fu(ke),oe=Le==null?we:Fu(Le),we=new Fe(Ee,ne+"leave",ke,g,je),we.target=jr,we.relatedTarget=oe,Ee=null,uc(je)===ce&&(Fe=new Fe(ae,ne+"enter",Le,g,je),Fe.target=oe,Fe.relatedTarget=jr,Ee=Fe),jr=Ee,ke&&Le)t:{for(Fe=ke,ae=Le,ne=0,oe=Fe;oe;oe=Lu(oe))ne++;for(oe=0,Ee=ae;Ee;Ee=Lu(Ee))oe++;for(;0<ne-oe;)Fe=Lu(Fe),ne--;for(;0<oe-ne;)ae=Lu(ae),oe--;for(;ne--;){if(Fe===ae||ae!==null&&Fe===ae.alternate)break t;Fe=Lu(Fe),ae=Lu(ae)}Fe=null}else Fe=null;ke!==null&&zk(Se,we,ke,Fe,!1),Le!==null&&jr!==null&&zk(Se,jr,Le,Fe,!0)}}e:{if(we=ce?Fu(ce):window,ke=we.nodeName&&we.nodeName.toLowerCase(),ke==="select"||ke==="input"&&we.type==="file")var Be=zW;else if(_k(we))if(Sk)Be=GW;else{Be=HW;var We=qW}else(ke=we.nodeName)&&ke.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Be=WW);if(Be&&(Be=Be(c,ce))){jk(Se,Be,g,je);break e}We&&We(c,we,ce),c==="focusout"&&(We=we._wrapperState)&&We.controlled&&we.type==="number"&&Ce(we,"number",we.value)}switch(We=ce?Fu(ce):window,c){case"focusin":(_k(We)||We.contentEditable==="true")&&(Mu=We,L0=ce,mh=null);break;case"focusout":mh=L0=Mu=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,Ik(Se,g,je);break;case"selectionchange":if(QW)break;case"keydown":case"keyup":Ik(Se,g,je)}var Ge;if(Tr)e:{switch(c){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Ou?bk(c,g)&&(rt="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(rt="onCompositionStart");rt&&(cc&&g.locale!=="ko"&&(Ou||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Ou&&(Ge=oh()):(ri=je,Nu="value"in ri?ri.value:ri.textContent,Ou=!0)),We=Eg(ce,rt),0<We.length&&(rt=new uh(rt,c,null,g,je),Se.push({event:rt,listeners:We}),Ge?rt.data=Ge:(Ge=wk(g),Ge!==null&&(rt.data=Ge)))),(Ge=ni?FW(c,g):VW(c,g))&&(ce=Eg(ce,"onBeforeInput"),0<ce.length&&(je=new uh("onBeforeInput","beforeinput",null,g,je),Se.push({event:je,listeners:ce}),je.data=Ge))}Bk(Se,d)})}function vh(c,d,g){return{instance:c,listener:d,currentTarget:g}}function Eg(c,d){for(var g=d+"Capture",w=[];c!==null;){var A=c,I=A.stateNode;A.tag===5&&I!==null&&(A=I,I=_r(c,g),I!=null&&w.unshift(vh(c,I,A)),I=_r(c,d),I!=null&&w.push(vh(c,I,A))),c=c.return}return w}function Lu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function zk(c,d,g,w,A){for(var I=d._reactName,U=[];g!==null&&g!==w;){var Q=g,Z=Q.alternate,ce=Q.stateNode;if(Z!==null&&Z===w)break;Q.tag===5&&ce!==null&&(Q=ce,A?(Z=_r(g,I),Z!=null&&U.unshift(vh(g,Z,Q))):A||(Z=_r(g,I),Z!=null&&U.push(vh(g,Z,Q)))),g=g.return}U.length!==0&&c.push({event:d,listeners:U})}var eG=/\r\n?/g,tG=/\u0000|\uFFFD/g;function qk(c){return(typeof c=="string"?c:""+c).replace(eG,`
`).replace(tG,"")}function Ag(c,d,g){if(d=qk(d),qk(c)!==d&&g)throw Error(r(425))}function Tg(){}var q0=null,H0=null;function W0(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,rG=typeof clearTimeout=="function"?clearTimeout:void 0,Hk=typeof Promise=="function"?Promise:void 0,nG=typeof queueMicrotask=="function"?queueMicrotask:typeof Hk<"u"?function(c){return Hk.resolve(null).then(c).catch(iG)}:G0;function iG(c){setTimeout(function(){throw c})}function K0(c,d){var g=d,w=0;do{var A=g.nextSibling;if(c.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(w===0){c.removeChild(A),ts(d);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=A}while(g);ts(d)}function To(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function Wk(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var $u=Math.random().toString(36).slice(2),Ls="__reactFiber$"+$u,yh="__reactProps$"+$u,wa="__reactContainer$"+$u,Y0="__reactEvents$"+$u,sG="__reactListeners$"+$u,aG="__reactHandles$"+$u;function uc(c){var d=c[Ls];if(d)return d;for(var g=c.parentNode;g;){if(d=g[wa]||g[Ls]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=Wk(c);c!==null;){if(g=c[Ls])return g;c=Wk(c)}return d}c=g,g=c.parentNode}return null}function xh(c){return c=c[Ls]||c[wa],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Fu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Cg(c){return c[yh]||null}var Q0=[],Vu=-1;function Co(c){return{current:c}}function er(c){0>Vu||(c.current=Q0[Vu],Q0[Vu]=null,Vu--)}function Xt(c,d){Vu++,Q0[Vu]=c.current,c.current=d}var ko={},un=Co(ko),Fn=Co(!1),dc=ko;function Bu(c,d){var g=c.type.contextTypes;if(!g)return ko;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var A={},I;for(I in g)A[I]=d[I];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=A),A}function Vn(c){return c=c.childContextTypes,c!=null}function kg(){er(Fn),er(un)}function Gk(c,d,g){if(un.current!==ko)throw Error(r(168));Xt(un,d),Xt(Fn,g)}function Kk(c,d,g){var w=c.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var A in w)if(!(A in d))throw Error(r(108,ue(c)||"Unknown",A));return re({},g,w)}function Pg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ko,dc=un.current,Xt(un,c),Xt(Fn,Fn.current),!0}function Yk(c,d,g){var w=c.stateNode;if(!w)throw Error(r(169));g?(c=Kk(c,d,dc),w.__reactInternalMemoizedMergedChildContext=c,er(Fn),er(un),Xt(un,c)):er(Fn),Xt(Fn,g)}var _a=null,Ig=!1,X0=!1;function Qk(c){_a===null?_a=[c]:_a.push(c)}function oG(c){Ig=!0,Qk(c)}function Po(){if(!X0&&_a!==null){X0=!0;var c=0,d=jt;try{var g=_a;for(jt=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}_a=null,Ig=!1}catch(A){throw _a!==null&&(_a=_a.slice(c+1)),bu(rc,Po),A}finally{jt=d,X0=!1}}return null}var Uu=[],zu=0,Rg=null,Og=0,Ai=[],Ti=0,fc=null,ja=1,Sa="";function hc(c,d){Uu[zu++]=Og,Uu[zu++]=Rg,Rg=c,Og=d}function Xk(c,d,g){Ai[Ti++]=ja,Ai[Ti++]=Sa,Ai[Ti++]=fc,fc=c;var w=ja;c=Sa;var A=32-Nn(w)-1;w&=~(1<<A),g+=1;var I=32-Nn(d)+A;if(30<I){var U=A-A%5;I=(w&(1<<U)-1).toString(32),w>>=U,A-=U,ja=1<<32-Nn(d)+A|g<<A|w,Sa=I+c}else ja=1<<I|g<<A|w,Sa=c}function J0(c){c.return!==null&&(hc(c,1),Xk(c,1,0))}function Z0(c){for(;c===Rg;)Rg=Uu[--zu],Uu[zu]=null,Og=Uu[--zu],Uu[zu]=null;for(;c===fc;)fc=Ai[--Ti],Ai[Ti]=null,Sa=Ai[--Ti],Ai[Ti]=null,ja=Ai[--Ti],Ai[Ti]=null}var ii=null,si=null,lr=!1,is=null;function Jk(c,d){var g=Ii(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function Zk(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,ii=c,si=To(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,ii=c,si=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=fc!==null?{id:ja,overflow:Sa}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=Ii(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,ii=c,si=null,!0):!1;default:return!1}}function ew(c){return(c.mode&1)!==0&&(c.flags&128)===0}function tw(c){if(lr){var d=si;if(d){var g=d;if(!Zk(c,d)){if(ew(c))throw Error(r(418));d=To(g.nextSibling);var w=ii;d&&Zk(c,d)?Jk(w,g):(c.flags=c.flags&-4097|2,lr=!1,ii=c)}}else{if(ew(c))throw Error(r(418));c.flags=c.flags&-4097|2,lr=!1,ii=c}}}function eP(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ii=c}function Mg(c){if(c!==ii)return!1;if(!lr)return eP(c),lr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!W0(c.type,c.memoizedProps)),d&&(d=si)){if(ew(c))throw tP(),Error(r(418));for(;d;)Jk(c,d),d=To(d.nextSibling)}if(eP(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){si=To(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}si=null}}else si=ii?To(c.stateNode.nextSibling):null;return!0}function tP(){for(var c=si;c;)c=To(c.nextSibling)}function qu(){si=ii=null,lr=!1}function rw(c){is===null?is=[c]:is.push(c)}var lG=N.ReactCurrentBatchConfig;function bh(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,c));var A=w,I=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(U){var Q=A.refs;U===null?delete Q[I]:Q[I]=U},d._stringRef=I,d)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function Dg(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function rP(c){var d=c._init;return d(c._payload)}function nP(c){function d(ae,ne){if(c){var oe=ae.deletions;oe===null?(ae.deletions=[ne],ae.flags|=16):oe.push(ne)}}function g(ae,ne){if(!c)return null;for(;ne!==null;)d(ae,ne),ne=ne.sibling;return null}function w(ae,ne){for(ae=new Map;ne!==null;)ne.key!==null?ae.set(ne.key,ne):ae.set(ne.index,ne),ne=ne.sibling;return ae}function A(ae,ne){return ae=Fo(ae,ne),ae.index=0,ae.sibling=null,ae}function I(ae,ne,oe){return ae.index=oe,c?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<ne?(ae.flags|=2,ne):oe):(ae.flags|=2,ne)):(ae.flags|=1048576,ne)}function U(ae){return c&&ae.alternate===null&&(ae.flags|=2),ae}function Q(ae,ne,oe,Ee){return ne===null||ne.tag!==6?(ne=Gw(oe,ae.mode,Ee),ne.return=ae,ne):(ne=A(ne,oe),ne.return=ae,ne)}function Z(ae,ne,oe,Ee){var Be=oe.type;return Be===P?je(ae,ne,oe.props.children,Ee,oe.key):ne!==null&&(ne.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===q&&rP(Be)===ne.type)?(Ee=A(ne,oe.props),Ee.ref=bh(ae,ne,oe),Ee.return=ae,Ee):(Ee=av(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=bh(ae,ne,oe),Ee.return=ae,Ee)}function ce(ae,ne,oe,Ee){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==oe.containerInfo||ne.stateNode.implementation!==oe.implementation?(ne=Kw(oe,ae.mode,Ee),ne.return=ae,ne):(ne=A(ne,oe.children||[]),ne.return=ae,ne)}function je(ae,ne,oe,Ee,Be){return ne===null||ne.tag!==7?(ne=wc(oe,ae.mode,Ee,Be),ne.return=ae,ne):(ne=A(ne,oe),ne.return=ae,ne)}function Se(ae,ne,oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Gw(""+ne,ae.mode,oe),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return oe=av(ne.type,ne.key,ne.props,null,ae.mode,oe),oe.ref=bh(ae,null,ne),oe.return=ae,oe;case O:return ne=Kw(ne,ae.mode,oe),ne.return=ae,ne;case q:var Ee=ne._init;return Se(ae,Ee(ne._payload),oe)}if(Qe(ne)||J(ne))return ne=wc(ne,ae.mode,oe,null),ne.return=ae,ne;Dg(ae,ne)}return null}function we(ae,ne,oe,Ee){var Be=ne!==null?ne.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Be!==null?null:Q(ae,ne,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:return oe.key===Be?Z(ae,ne,oe,Ee):null;case O:return oe.key===Be?ce(ae,ne,oe,Ee):null;case q:return Be=oe._init,we(ae,ne,Be(oe._payload),Ee)}if(Qe(oe)||J(oe))return Be!==null?null:je(ae,ne,oe,Ee,null);Dg(ae,oe)}return null}function ke(ae,ne,oe,Ee,Be){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(oe)||null,Q(ne,ae,""+Ee,Be);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case C:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,Z(ne,ae,Ee,Be);case O:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,ce(ne,ae,Ee,Be);case q:var We=Ee._init;return ke(ae,ne,oe,We(Ee._payload),Be)}if(Qe(Ee)||J(Ee))return ae=ae.get(oe)||null,je(ne,ae,Ee,Be,null);Dg(ne,Ee)}return null}function Le(ae,ne,oe,Ee){for(var Be=null,We=null,Ge=ne,rt=ne=0,Gr=null;Ge!==null&&rt<oe.length;rt++){Ge.index>rt?(Gr=Ge,Ge=null):Gr=Ge.sibling;var It=we(ae,Ge,oe[rt],Ee);if(It===null){Ge===null&&(Ge=Gr);break}c&&Ge&&It.alternate===null&&d(ae,Ge),ne=I(It,ne,rt),We===null?Be=It:We.sibling=It,We=It,Ge=Gr}if(rt===oe.length)return g(ae,Ge),lr&&hc(ae,rt),Be;if(Ge===null){for(;rt<oe.length;rt++)Ge=Se(ae,oe[rt],Ee),Ge!==null&&(ne=I(Ge,ne,rt),We===null?Be=Ge:We.sibling=Ge,We=Ge);return lr&&hc(ae,rt),Be}for(Ge=w(ae,Ge);rt<oe.length;rt++)Gr=ke(Ge,ae,rt,oe[rt],Ee),Gr!==null&&(c&&Gr.alternate!==null&&Ge.delete(Gr.key===null?rt:Gr.key),ne=I(Gr,ne,rt),We===null?Be=Gr:We.sibling=Gr,We=Gr);return c&&Ge.forEach(function(Vo){return d(ae,Vo)}),lr&&hc(ae,rt),Be}function Fe(ae,ne,oe,Ee){var Be=J(oe);if(typeof Be!="function")throw Error(r(150));if(oe=Be.call(oe),oe==null)throw Error(r(151));for(var We=Be=null,Ge=ne,rt=ne=0,Gr=null,It=oe.next();Ge!==null&&!It.done;rt++,It=oe.next()){Ge.index>rt?(Gr=Ge,Ge=null):Gr=Ge.sibling;var Vo=we(ae,Ge,It.value,Ee);if(Vo===null){Ge===null&&(Ge=Gr);break}c&&Ge&&Vo.alternate===null&&d(ae,Ge),ne=I(Vo,ne,rt),We===null?Be=Vo:We.sibling=Vo,We=Vo,Ge=Gr}if(It.done)return g(ae,Ge),lr&&hc(ae,rt),Be;if(Ge===null){for(;!It.done;rt++,It=oe.next())It=Se(ae,It.value,Ee),It!==null&&(ne=I(It,ne,rt),We===null?Be=It:We.sibling=It,We=It);return lr&&hc(ae,rt),Be}for(Ge=w(ae,Ge);!It.done;rt++,It=oe.next())It=ke(Ge,ae,rt,It.value,Ee),It!==null&&(c&&It.alternate!==null&&Ge.delete(It.key===null?rt:It.key),ne=I(It,ne,rt),We===null?Be=It:We.sibling=It,We=It);return c&&Ge.forEach(function(BG){return d(ae,BG)}),lr&&hc(ae,rt),Be}function jr(ae,ne,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===P&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:e:{for(var Be=oe.key,We=ne;We!==null;){if(We.key===Be){if(Be=oe.type,Be===P){if(We.tag===7){g(ae,We.sibling),ne=A(We,oe.props.children),ne.return=ae,ae=ne;break e}}else if(We.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===q&&rP(Be)===We.type){g(ae,We.sibling),ne=A(We,oe.props),ne.ref=bh(ae,We,oe),ne.return=ae,ae=ne;break e}g(ae,We);break}else d(ae,We);We=We.sibling}oe.type===P?(ne=wc(oe.props.children,ae.mode,Ee,oe.key),ne.return=ae,ae=ne):(Ee=av(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=bh(ae,ne,oe),Ee.return=ae,ae=Ee)}return U(ae);case O:e:{for(We=oe.key;ne!==null;){if(ne.key===We)if(ne.tag===4&&ne.stateNode.containerInfo===oe.containerInfo&&ne.stateNode.implementation===oe.implementation){g(ae,ne.sibling),ne=A(ne,oe.children||[]),ne.return=ae,ae=ne;break e}else{g(ae,ne);break}else d(ae,ne);ne=ne.sibling}ne=Kw(oe,ae.mode,Ee),ne.return=ae,ae=ne}return U(ae);case q:return We=oe._init,jr(ae,ne,We(oe._payload),Ee)}if(Qe(oe))return Le(ae,ne,oe,Ee);if(J(oe))return Fe(ae,ne,oe,Ee);Dg(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ne!==null&&ne.tag===6?(g(ae,ne.sibling),ne=A(ne,oe),ne.return=ae,ae=ne):(g(ae,ne),ne=Gw(oe,ae.mode,Ee),ne.return=ae,ae=ne),U(ae)):g(ae,ne)}return jr}var Hu=nP(!0),iP=nP(!1),Lg=Co(null),$g=null,Wu=null,nw=null;function iw(){nw=Wu=$g=null}function sw(c){var d=Lg.current;er(Lg),c._currentValue=d}function aw(c,d,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),c===g)break;c=c.return}}function Gu(c,d){$g=c,nw=Wu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(Bn=!0),c.firstContext=null)}function Ci(c){var d=c._currentValue;if(nw!==c)if(c={context:c,memoizedValue:d,next:null},Wu===null){if($g===null)throw Error(r(308));Wu=c,$g.dependencies={lanes:0,firstContext:c}}else Wu=Wu.next=c;return d}var mc=null;function ow(c){mc===null?mc=[c]:mc.push(c)}function sP(c,d,g,w){var A=d.interleaved;return A===null?(g.next=g,ow(d)):(g.next=A.next,A.next=g),d.interleaved=g,Na(c,w)}function Na(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Io=!1;function lw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aP(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ea(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Ro(c,d,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(kt&2)!==0){var A=w.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),w.pending=d,Na(c,g)}return A=w.interleaved,A===null?(d.next=d,ow(w)):(d.next=A.next,A.next=d),w.interleaved=d,Na(c,g)}function Fg(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,_o(c,g)}}function oP(c,d){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var U={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?A=I=U:I=I.next=U,g=g.next}while(g!==null);I===null?A=I=d:I=I.next=d}else A=I=d;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function Vg(c,d,g,w){var A=c.updateQueue;Io=!1;var I=A.firstBaseUpdate,U=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var Z=Q,ce=Z.next;Z.next=null,U===null?I=ce:U.next=ce,U=Z;var je=c.alternate;je!==null&&(je=je.updateQueue,Q=je.lastBaseUpdate,Q!==U&&(Q===null?je.firstBaseUpdate=ce:Q.next=ce,je.lastBaseUpdate=Z))}if(I!==null){var Se=A.baseState;U=0,je=ce=Z=null,Q=I;do{var we=Q.lane,ke=Q.eventTime;if((w&we)===we){je!==null&&(je=je.next={eventTime:ke,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Le=c,Fe=Q;switch(we=d,ke=g,Fe.tag){case 1:if(Le=Fe.payload,typeof Le=="function"){Se=Le.call(ke,Se,we);break e}Se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Fe.payload,we=typeof Le=="function"?Le.call(ke,Se,we):Le,we==null)break e;Se=re({},Se,we);break e;case 2:Io=!0}}Q.callback!==null&&Q.lane!==0&&(c.flags|=64,we=A.effects,we===null?A.effects=[Q]:we.push(Q))}else ke={eventTime:ke,lane:we,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},je===null?(ce=je=ke,Z=Se):je=je.next=ke,U|=we;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;we=Q,Q=we.next,we.next=null,A.lastBaseUpdate=we,A.shared.pending=null}}while(!0);if(je===null&&(Z=Se),A.baseState=Z,A.firstBaseUpdate=ce,A.lastBaseUpdate=je,d=A.shared.interleaved,d!==null){A=d;do U|=A.lane,A=A.next;while(A!==d)}else I===null&&(A.shared.lanes=0);vc|=U,c.lanes=U,c.memoizedState=Se}}function lP(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var w=c[d],A=w.callback;if(A!==null){if(w.callback=null,w=g,typeof A!="function")throw Error(r(191,A));A.call(w)}}}var wh={},$s=Co(wh),_h=Co(wh),jh=Co(wh);function pc(c){if(c===wh)throw Error(r(174));return c}function cw(c,d){switch(Xt(jh,d),Xt(_h,c),Xt($s,wh),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Nt(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Nt(d,c)}er($s),Xt($s,d)}function Ku(){er($s),er(_h),er(jh)}function cP(c){pc(jh.current);var d=pc($s.current),g=Nt(d,c.type);d!==g&&(Xt(_h,c),Xt($s,g))}function uw(c){_h.current===c&&(er($s),er(_h))}var dr=Co(0);function Bg(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var dw=[];function fw(){for(var c=0;c<dw.length;c++)dw[c]._workInProgressVersionPrimary=null;dw.length=0}var Ug=N.ReactCurrentDispatcher,hw=N.ReactCurrentBatchConfig,gc=0,fr=null,Dr=null,Hr=null,zg=!1,Sh=!1,Nh=0,cG=0;function dn(){throw Error(r(321))}function mw(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!ns(c[g],d[g]))return!1;return!0}function pw(c,d,g,w,A,I){if(gc=I,fr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ug.current=c===null||c.memoizedState===null?hG:mG,c=g(w,A),Sh){I=0;do{if(Sh=!1,Nh=0,25<=I)throw Error(r(301));I+=1,Hr=Dr=null,d.updateQueue=null,Ug.current=pG,c=g(w,A)}while(Sh)}if(Ug.current=Wg,d=Dr!==null&&Dr.next!==null,gc=0,Hr=Dr=fr=null,zg=!1,d)throw Error(r(300));return c}function gw(){var c=Nh!==0;return Nh=0,c}function Fs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?fr.memoizedState=Hr=c:Hr=Hr.next=c,Hr}function ki(){if(Dr===null){var c=fr.alternate;c=c!==null?c.memoizedState:null}else c=Dr.next;var d=Hr===null?fr.memoizedState:Hr.next;if(d!==null)Hr=d,Dr=c;else{if(c===null)throw Error(r(310));Dr=c,c={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Hr===null?fr.memoizedState=Hr=c:Hr=Hr.next=c}return Hr}function Eh(c,d){return typeof d=="function"?d(c):d}function vw(c){var d=ki(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=Dr,A=w.baseQueue,I=g.pending;if(I!==null){if(A!==null){var U=A.next;A.next=I.next,I.next=U}w.baseQueue=A=I,g.pending=null}if(A!==null){I=A.next,w=w.baseState;var Q=U=null,Z=null,ce=I;do{var je=ce.lane;if((gc&je)===je)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),w=ce.hasEagerState?ce.eagerState:c(w,ce.action);else{var Se={lane:je,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(Q=Z=Se,U=w):Z=Z.next=Se,fr.lanes|=je,vc|=je}ce=ce.next}while(ce!==null&&ce!==I);Z===null?U=w:Z.next=Q,ns(w,d.memoizedState)||(Bn=!0),d.memoizedState=w,d.baseState=U,d.baseQueue=Z,g.lastRenderedState=w}if(c=g.interleaved,c!==null){A=c;do I=A.lane,fr.lanes|=I,vc|=I,A=A.next;while(A!==c)}else A===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function yw(c){var d=ki(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=g.dispatch,A=g.pending,I=d.memoizedState;if(A!==null){g.pending=null;var U=A=A.next;do I=c(I,U.action),U=U.next;while(U!==A);ns(I,d.memoizedState)||(Bn=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),g.lastRenderedState=I}return[I,w]}function uP(){}function dP(c,d){var g=fr,w=ki(),A=d(),I=!ns(w.memoizedState,A);if(I&&(w.memoizedState=A,Bn=!0),w=w.queue,xw(mP.bind(null,g,w,c),[c]),w.getSnapshot!==d||I||Hr!==null&&Hr.memoizedState.tag&1){if(g.flags|=2048,Ah(9,hP.bind(null,g,w,A,d),void 0,null),Wr===null)throw Error(r(349));(gc&30)!==0||fP(g,d,A)}return A}function fP(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=fr.updateQueue,d===null?(d={lastEffect:null,stores:null},fr.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function hP(c,d,g,w){d.value=g,d.getSnapshot=w,pP(d)&&gP(c)}function mP(c,d,g){return g(function(){pP(d)&&gP(c)})}function pP(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!ns(c,g)}catch{return!0}}function gP(c){var d=Na(c,1);d!==null&&ls(d,c,1,-1)}function vP(c){var d=Fs();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:c},d.queue=c,c=c.dispatch=fG.bind(null,fr,c),[d.memoizedState,c]}function Ah(c,d,g,w){return c={tag:c,create:d,destroy:g,deps:w,next:null},d=fr.updateQueue,d===null?(d={lastEffect:null,stores:null},fr.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,d.lastEffect=c)),c}function yP(){return ki().memoizedState}function qg(c,d,g,w){var A=Fs();fr.flags|=c,A.memoizedState=Ah(1|d,g,void 0,w===void 0?null:w)}function Hg(c,d,g,w){var A=ki();w=w===void 0?null:w;var I=void 0;if(Dr!==null){var U=Dr.memoizedState;if(I=U.destroy,w!==null&&mw(w,U.deps)){A.memoizedState=Ah(d,g,I,w);return}}fr.flags|=c,A.memoizedState=Ah(1|d,g,I,w)}function xP(c,d){return qg(8390656,8,c,d)}function xw(c,d){return Hg(2048,8,c,d)}function bP(c,d){return Hg(4,2,c,d)}function wP(c,d){return Hg(4,4,c,d)}function _P(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function jP(c,d,g){return g=g!=null?g.concat([c]):null,Hg(4,4,_P.bind(null,d,c),g)}function bw(){}function SP(c,d){var g=ki();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&mw(d,w[1])?w[0]:(g.memoizedState=[c,d],c)}function NP(c,d){var g=ki();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&mw(d,w[1])?w[0]:(c=c(),g.memoizedState=[c,d],c)}function EP(c,d,g){return(gc&21)===0?(c.baseState&&(c.baseState=!1,Bn=!0),c.memoizedState=g):(ns(g,d)||(g=sc(),fr.lanes|=g,vc|=g,c.baseState=!0),d)}function uG(c,d){var g=jt;jt=g!==0&&4>g?g:4,c(!0);var w=hw.transition;hw.transition={};try{c(!1),d()}finally{jt=g,hw.transition=w}}function AP(){return ki().memoizedState}function dG(c,d,g){var w=Lo(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},TP(c))CP(d,g);else if(g=sP(c,d,g,w),g!==null){var A=Tn();ls(g,c,w,A),kP(g,d,w)}}function fG(c,d,g){var w=Lo(c),A={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(TP(c))CP(d,A);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer,I!==null))try{var U=d.lastRenderedState,Q=I(U,g);if(A.hasEagerState=!0,A.eagerState=Q,ns(Q,U)){var Z=d.interleaved;Z===null?(A.next=A,ow(d)):(A.next=Z.next,Z.next=A),d.interleaved=A;return}}catch{}finally{}g=sP(c,d,A,w),g!==null&&(A=Tn(),ls(g,c,w,A),kP(g,d,w))}}function TP(c){var d=c.alternate;return c===fr||d!==null&&d===fr}function CP(c,d){Sh=zg=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function kP(c,d,g){if((g&4194240)!==0){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,_o(c,g)}}var Wg={readContext:Ci,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},hG={readContext:Ci,useCallback:function(c,d){return Fs().memoizedState=[c,d===void 0?null:d],c},useContext:Ci,useEffect:xP,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,qg(4194308,4,_P.bind(null,d,c),g)},useLayoutEffect:function(c,d){return qg(4194308,4,c,d)},useInsertionEffect:function(c,d){return qg(4,2,c,d)},useMemo:function(c,d){var g=Fs();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var w=Fs();return d=g!==void 0?g(d):d,w.memoizedState=w.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},w.queue=c,c=c.dispatch=dG.bind(null,fr,c),[w.memoizedState,c]},useRef:function(c){var d=Fs();return c={current:c},d.memoizedState=c},useState:vP,useDebugValue:bw,useDeferredValue:function(c){return Fs().memoizedState=c},useTransition:function(){var c=vP(!1),d=c[0];return c=uG.bind(null,c[1]),Fs().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var w=fr,A=Fs();if(lr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),Wr===null)throw Error(r(349));(gc&30)!==0||fP(w,d,g)}A.memoizedState=g;var I={value:g,getSnapshot:d};return A.queue=I,xP(mP.bind(null,w,I,c),[c]),w.flags|=2048,Ah(9,hP.bind(null,w,I,g,d),void 0,null),g},useId:function(){var c=Fs(),d=Wr.identifierPrefix;if(lr){var g=Sa,w=ja;g=(w&~(1<<32-Nn(w)-1)).toString(32)+g,d=":"+d+"R"+g,g=Nh++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=cG++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},mG={readContext:Ci,useCallback:SP,useContext:Ci,useEffect:xw,useImperativeHandle:jP,useInsertionEffect:bP,useLayoutEffect:wP,useMemo:NP,useReducer:vw,useRef:yP,useState:function(){return vw(Eh)},useDebugValue:bw,useDeferredValue:function(c){var d=ki();return EP(d,Dr.memoizedState,c)},useTransition:function(){var c=vw(Eh)[0],d=ki().memoizedState;return[c,d]},useMutableSource:uP,useSyncExternalStore:dP,useId:AP,unstable_isNewReconciler:!1},pG={readContext:Ci,useCallback:SP,useContext:Ci,useEffect:xw,useImperativeHandle:jP,useInsertionEffect:bP,useLayoutEffect:wP,useMemo:NP,useReducer:yw,useRef:yP,useState:function(){return yw(Eh)},useDebugValue:bw,useDeferredValue:function(c){var d=ki();return Dr===null?d.memoizedState=c:EP(d,Dr.memoizedState,c)},useTransition:function(){var c=yw(Eh)[0],d=ki().memoizedState;return[c,d]},useMutableSource:uP,useSyncExternalStore:dP,useId:AP,unstable_isNewReconciler:!1};function ss(c,d){if(c&&c.defaultProps){d=re({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}function ww(c,d,g,w){d=c.memoizedState,g=g(w,d),g=g==null?d:re({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Gg={isMounted:function(c){return(c=c._reactInternals)?Qi(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var w=Tn(),A=Lo(c),I=Ea(w,A);I.payload=d,g!=null&&(I.callback=g),d=Ro(c,I,A),d!==null&&(ls(d,c,A,w),Fg(d,c,A))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var w=Tn(),A=Lo(c),I=Ea(w,A);I.tag=1,I.payload=d,g!=null&&(I.callback=g),d=Ro(c,I,A),d!==null&&(ls(d,c,A,w),Fg(d,c,A))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=Tn(),w=Lo(c),A=Ea(g,w);A.tag=2,d!=null&&(A.callback=d),d=Ro(c,A,w),d!==null&&(ls(d,c,w,g),Fg(d,c,w))}};function PP(c,d,g,w,A,I,U){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,I,U):d.prototype&&d.prototype.isPureReactComponent?!hh(g,w)||!hh(A,I):!0}function IP(c,d,g){var w=!1,A=ko,I=d.contextType;return typeof I=="object"&&I!==null?I=Ci(I):(A=Vn(d)?dc:un.current,w=d.contextTypes,I=(w=w!=null)?Bu(c,A):ko),d=new d(g,I),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gg,c.stateNode=d,d._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=A,c.__reactInternalMemoizedMaskedChildContext=I),d}function RP(c,d,g,w){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,w),d.state!==c&&Gg.enqueueReplaceState(d,d.state,null)}function _w(c,d,g,w){var A=c.stateNode;A.props=g,A.state=c.memoizedState,A.refs={},lw(c);var I=d.contextType;typeof I=="object"&&I!==null?A.context=Ci(I):(I=Vn(d)?dc:un.current,A.context=Bu(c,I)),A.state=c.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(ww(c,d,I,g),A.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&Gg.enqueueReplaceState(A,A.state,null),Vg(c,g,A,w),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308)}function Yu(c,d){try{var g="",w=d;do g+=me(w),w=w.return;while(w);var A=g}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:d,stack:A,digest:null}}function jw(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function Sw(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var gG=typeof WeakMap=="function"?WeakMap:Map;function OP(c,d,g){g=Ea(-1,g),g.tag=3,g.payload={element:null};var w=d.value;return g.callback=function(){ev||(ev=!0,Fw=w),Sw(c,d)},g}function MP(c,d,g){g=Ea(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var A=d.value;g.payload=function(){return w(A)},g.callback=function(){Sw(c,d)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Sw(c,d),typeof w!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),g}function DP(c,d,g){var w=c.pingCache;if(w===null){w=c.pingCache=new gG;var A=new Set;w.set(d,A)}else A=w.get(d),A===void 0&&(A=new Set,w.set(d,A));A.has(g)||(A.add(g),c=kG.bind(null,c,d,g),d.then(c,c))}function LP(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function $P(c,d,g,w,A){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=Ea(-1,1),d.tag=2,Ro(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=A,c)}var vG=N.ReactCurrentOwner,Bn=!1;function An(c,d,g,w){d.child=c===null?iP(d,null,g,w):Hu(d,c.child,g,w)}function FP(c,d,g,w,A){g=g.render;var I=d.ref;return Gu(d,A),w=pw(c,d,g,w,I,A),g=gw(),c!==null&&!Bn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~A,Aa(c,d,A)):(lr&&g&&J0(d),d.flags|=1,An(c,d,w,A),d.child)}function VP(c,d,g,w,A){if(c===null){var I=g.type;return typeof I=="function"&&!Ww(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=I,BP(c,d,I,w,A)):(c=av(g.type,null,w,d,d.mode,A),c.ref=d.ref,c.return=d,d.child=c)}if(I=c.child,(c.lanes&A)===0){var U=I.memoizedProps;if(g=g.compare,g=g!==null?g:hh,g(U,w)&&c.ref===d.ref)return Aa(c,d,A)}return d.flags|=1,c=Fo(I,w),c.ref=d.ref,c.return=d,d.child=c}function BP(c,d,g,w,A){if(c!==null){var I=c.memoizedProps;if(hh(I,w)&&c.ref===d.ref)if(Bn=!1,d.pendingProps=w=I,(c.lanes&A)!==0)(c.flags&131072)!==0&&(Bn=!0);else return d.lanes=c.lanes,Aa(c,d,A)}return Nw(c,d,g,w,A)}function UP(c,d,g){var w=d.pendingProps,A=w.children,I=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Xu,ai),ai|=g;else{if((g&1073741824)===0)return c=I!==null?I.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Xt(Xu,ai),ai|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=I!==null?I.baseLanes:g,Xt(Xu,ai),ai|=w}else I!==null?(w=I.baseLanes|g,d.memoizedState=null):w=g,Xt(Xu,ai),ai|=w;return An(c,d,A,g),d.child}function zP(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Nw(c,d,g,w,A){var I=Vn(g)?dc:un.current;return I=Bu(d,I),Gu(d,A),g=pw(c,d,g,w,I,A),w=gw(),c!==null&&!Bn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~A,Aa(c,d,A)):(lr&&w&&J0(d),d.flags|=1,An(c,d,g,A),d.child)}function qP(c,d,g,w,A){if(Vn(g)){var I=!0;Pg(d)}else I=!1;if(Gu(d,A),d.stateNode===null)Yg(c,d),IP(d,g,w),_w(d,g,w,A),w=!0;else if(c===null){var U=d.stateNode,Q=d.memoizedProps;U.props=Q;var Z=U.context,ce=g.contextType;typeof ce=="object"&&ce!==null?ce=Ci(ce):(ce=Vn(g)?dc:un.current,ce=Bu(d,ce));var je=g.getDerivedStateFromProps,Se=typeof je=="function"||typeof U.getSnapshotBeforeUpdate=="function";Se||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==w||Z!==ce)&&RP(d,U,w,ce),Io=!1;var we=d.memoizedState;U.state=we,Vg(d,w,U,A),Z=d.memoizedState,Q!==w||we!==Z||Fn.current||Io?(typeof je=="function"&&(ww(d,g,je,w),Z=d.memoizedState),(Q=Io||PP(d,g,Q,w,we,Z,ce))?(Se||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=Z),U.props=w,U.state=Z,U.context=ce,w=Q):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{U=d.stateNode,aP(c,d),Q=d.memoizedProps,ce=d.type===d.elementType?Q:ss(d.type,Q),U.props=ce,Se=d.pendingProps,we=U.context,Z=g.contextType,typeof Z=="object"&&Z!==null?Z=Ci(Z):(Z=Vn(g)?dc:un.current,Z=Bu(d,Z));var ke=g.getDerivedStateFromProps;(je=typeof ke=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==Se||we!==Z)&&RP(d,U,w,Z),Io=!1,we=d.memoizedState,U.state=we,Vg(d,w,U,A);var Le=d.memoizedState;Q!==Se||we!==Le||Fn.current||Io?(typeof ke=="function"&&(ww(d,g,ke,w),Le=d.memoizedState),(ce=Io||PP(d,g,ce,w,we,Le,Z)||!1)?(je||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(w,Le,Z),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(w,Le,Z)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Le),U.props=w,U.state=Le,U.context=Z,w=ce):(typeof U.componentDidUpdate!="function"||Q===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),w=!1)}return Ew(c,d,g,w,I,A)}function Ew(c,d,g,w,A,I){zP(c,d);var U=(d.flags&128)!==0;if(!w&&!U)return A&&Yk(d,g,!1),Aa(c,d,I);w=d.stateNode,vG.current=d;var Q=U&&typeof g.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,c!==null&&U?(d.child=Hu(d,c.child,null,I),d.child=Hu(d,null,Q,I)):An(c,d,Q,I),d.memoizedState=w.state,A&&Yk(d,g,!0),d.child}function HP(c){var d=c.stateNode;d.pendingContext?Gk(c,d.pendingContext,d.pendingContext!==d.context):d.context&&Gk(c,d.context,!1),cw(c,d.containerInfo)}function WP(c,d,g,w,A){return qu(),rw(A),d.flags|=256,An(c,d,g,w),d.child}var Aw={dehydrated:null,treeContext:null,retryLane:0};function Tw(c){return{baseLanes:c,cachePool:null,transitions:null}}function GP(c,d,g){var w=d.pendingProps,A=dr.current,I=!1,U=(d.flags&128)!==0,Q;if((Q=U)||(Q=c!==null&&c.memoizedState===null?!1:(A&2)!==0),Q?(I=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(A|=1),Xt(dr,A&1),c===null)return tw(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=w.children,c=w.fallback,I?(w=d.mode,I=d.child,U={mode:"hidden",children:U},(w&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=U):I=ov(U,w,0,null),c=wc(c,w,g,null),I.return=d,c.return=d,I.sibling=c,d.child=I,d.child.memoizedState=Tw(g),d.memoizedState=Aw,c):Cw(d,U));if(A=c.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return yG(c,d,U,w,Q,A,g);if(I){I=w.fallback,U=d.mode,A=c.child,Q=A.sibling;var Z={mode:"hidden",children:w.children};return(U&1)===0&&d.child!==A?(w=d.child,w.childLanes=0,w.pendingProps=Z,d.deletions=null):(w=Fo(A,Z),w.subtreeFlags=A.subtreeFlags&14680064),Q!==null?I=Fo(Q,I):(I=wc(I,U,g,null),I.flags|=2),I.return=d,w.return=d,w.sibling=I,d.child=w,w=I,I=d.child,U=c.child.memoizedState,U=U===null?Tw(g):{baseLanes:U.baseLanes|g,cachePool:null,transitions:U.transitions},I.memoizedState=U,I.childLanes=c.childLanes&~g,d.memoizedState=Aw,w}return I=c.child,c=I.sibling,w=Fo(I,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=g),w.return=d,w.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=w,d.memoizedState=null,w}function Cw(c,d){return d=ov({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function Kg(c,d,g,w){return w!==null&&rw(w),Hu(d,c.child,null,g),c=Cw(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function yG(c,d,g,w,A,I,U){if(g)return d.flags&256?(d.flags&=-257,w=jw(Error(r(422))),Kg(c,d,U,w)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(I=w.fallback,A=d.mode,w=ov({mode:"visible",children:w.children},A,0,null),I=wc(I,A,U,null),I.flags|=2,w.return=d,I.return=d,w.sibling=I,d.child=w,(d.mode&1)!==0&&Hu(d,c.child,null,U),d.child.memoizedState=Tw(U),d.memoizedState=Aw,I);if((d.mode&1)===0)return Kg(c,d,U,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Q=w.dgst;return w=Q,I=Error(r(419)),w=jw(I,w,void 0),Kg(c,d,U,w)}if(Q=(U&c.childLanes)!==0,Bn||Q){if(w=Wr,w!==null){switch(U&-U){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|U))!==0?0:A,A!==0&&A!==I.retryLane&&(I.retryLane=A,Na(c,A),ls(w,c,A,-1))}return Hw(),w=jw(Error(r(421))),Kg(c,d,U,w)}return A.data==="$?"?(d.flags|=128,d.child=c.child,d=PG.bind(null,c),A._reactRetry=d,null):(c=I.treeContext,si=To(A.nextSibling),ii=d,lr=!0,is=null,c!==null&&(Ai[Ti++]=ja,Ai[Ti++]=Sa,Ai[Ti++]=fc,ja=c.id,Sa=c.overflow,fc=d),d=Cw(d,w.children),d.flags|=4096,d)}function KP(c,d,g){c.lanes|=d;var w=c.alternate;w!==null&&(w.lanes|=d),aw(c.return,d,g)}function kw(c,d,g,w,A){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=g,I.tailMode=A)}function YP(c,d,g){var w=d.pendingProps,A=w.revealOrder,I=w.tail;if(An(c,d,w.children,g),w=dr.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&KP(c,g,d);else if(c.tag===19)KP(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Xt(dr,w),(d.mode&1)===0)d.memoizedState=null;else switch(A){case"forwards":for(g=d.child,A=null;g!==null;)c=g.alternate,c!==null&&Bg(c)===null&&(A=g),g=g.sibling;g=A,g===null?(A=d.child,d.child=null):(A=g.sibling,g.sibling=null),kw(d,!1,A,g,I);break;case"backwards":for(g=null,A=d.child,d.child=null;A!==null;){if(c=A.alternate,c!==null&&Bg(c)===null){d.child=A;break}c=A.sibling,A.sibling=g,g=A,A=c}kw(d,!0,g,null,I);break;case"together":kw(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Yg(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Aa(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),vc|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,g=Fo(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=Fo(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function xG(c,d,g){switch(d.tag){case 3:HP(d),qu();break;case 5:cP(d);break;case 1:Vn(d.type)&&Pg(d);break;case 4:cw(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,A=d.memoizedProps.value;Xt(Lg,w._currentValue),w._currentValue=A;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(Xt(dr,dr.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?GP(c,d,g):(Xt(dr,dr.current&1),c=Aa(c,d,g),c!==null?c.sibling:null);Xt(dr,dr.current&1);break;case 19:if(w=(g&d.childLanes)!==0,(c.flags&128)!==0){if(w)return YP(c,d,g);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Xt(dr,dr.current),w)break;return null;case 22:case 23:return d.lanes=0,UP(c,d,g)}return Aa(c,d,g)}var QP,Pw,XP,JP;QP=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Pw=function(){},XP=function(c,d,g,w){var A=c.memoizedProps;if(A!==w){c=d.stateNode,pc($s.current);var I=null;switch(g){case"input":A=Re(c,A),w=Re(c,w),I=[];break;case"select":A=re({},A,{value:void 0}),w=re({},w,{value:void 0}),I=[];break;case"textarea":A=Ut(c,A),w=Ut(c,w),I=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=Tg)}Dn(g,w);var U;g=null;for(ce in A)if(!w.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var Q=A[ce];for(U in Q)Q.hasOwnProperty(U)&&(g||(g={}),g[U]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?I||(I=[]):(I=I||[]).push(ce,null));for(ce in w){var Z=w[ce];if(Q=A!=null?A[ce]:void 0,w.hasOwnProperty(ce)&&Z!==Q&&(Z!=null||Q!=null))if(ce==="style")if(Q){for(U in Q)!Q.hasOwnProperty(U)||Z&&Z.hasOwnProperty(U)||(g||(g={}),g[U]="");for(U in Z)Z.hasOwnProperty(U)&&Q[U]!==Z[U]&&(g||(g={}),g[U]=Z[U])}else g||(I||(I=[]),I.push(ce,g)),g=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Q=Q?Q.__html:void 0,Z!=null&&Q!==Z&&(I=I||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(I=I||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&Zt("scroll",c),I||Q===Z||(I=[])):(I=I||[]).push(ce,Z))}g&&(I=I||[]).push("style",g);var ce=I;(d.updateQueue=ce)&&(d.flags|=4)}},JP=function(c,d,g,w){g!==w&&(d.flags|=4)};function Th(c,d){if(!lr)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function fn(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(d)for(var A=c.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=w,c.childLanes=g,d}function bG(c,d,g){var w=d.pendingProps;switch(Z0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(d),null;case 1:return Vn(d.type)&&kg(),fn(d),null;case 3:return w=d.stateNode,Ku(),er(Fn),er(un),fw(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Mg(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,is!==null&&(Uw(is),is=null))),Pw(c,d),fn(d),null;case 5:uw(d);var A=pc(jh.current);if(g=d.type,c!==null&&d.stateNode!=null)XP(c,d,g,w,A),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(r(166));return fn(d),null}if(c=pc($s.current),Mg(d)){w=d.stateNode,g=d.type;var I=d.memoizedProps;switch(w[Ls]=d,w[yh]=I,c=(d.mode&1)!==0,g){case"dialog":Zt("cancel",w),Zt("close",w);break;case"iframe":case"object":case"embed":Zt("load",w);break;case"video":case"audio":for(A=0;A<ph.length;A++)Zt(ph[A],w);break;case"source":Zt("error",w);break;case"img":case"image":case"link":Zt("error",w),Zt("load",w);break;case"details":Zt("toggle",w);break;case"input":ze(w,I),Zt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!I.multiple},Zt("invalid",w);break;case"textarea":qt(w,I),Zt("invalid",w)}Dn(g,I),A=null;for(var U in I)if(I.hasOwnProperty(U)){var Q=I[U];U==="children"?typeof Q=="string"?w.textContent!==Q&&(I.suppressHydrationWarning!==!0&&Ag(w.textContent,Q,c),A=["children",Q]):typeof Q=="number"&&w.textContent!==""+Q&&(I.suppressHydrationWarning!==!0&&Ag(w.textContent,Q,c),A=["children",""+Q]):i.hasOwnProperty(U)&&Q!=null&&U==="onScroll"&&Zt("scroll",w)}switch(g){case"input":Ne(w),Ar(w,I,!0);break;case"textarea":Ne(w),Mn(w);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(w.onclick=Tg)}w=A,d.updateQueue=w,w!==null&&(d.flags|=4)}else{U=A.nodeType===9?A:A.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=ut(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=U.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=U.createElement(g,{is:w.is}):(c=U.createElement(g),g==="select"&&(U=c,w.multiple?U.multiple=!0:w.size&&(U.size=w.size))):c=U.createElementNS(c,g),c[Ls]=d,c[yh]=w,QP(c,d,!1,!1),d.stateNode=c;e:{switch(U=Xl(g,w),g){case"dialog":Zt("cancel",c),Zt("close",c),A=w;break;case"iframe":case"object":case"embed":Zt("load",c),A=w;break;case"video":case"audio":for(A=0;A<ph.length;A++)Zt(ph[A],c);A=w;break;case"source":Zt("error",c),A=w;break;case"img":case"image":case"link":Zt("error",c),Zt("load",c),A=w;break;case"details":Zt("toggle",c),A=w;break;case"input":ze(c,w),A=Re(c,w),Zt("invalid",c);break;case"option":A=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},A=re({},w,{value:void 0}),Zt("invalid",c);break;case"textarea":qt(c,w),A=Ut(c,w),Zt("invalid",c);break;default:A=w}Dn(g,A),Q=A;for(I in Q)if(Q.hasOwnProperty(I)){var Z=Q[I];I==="style"?Ql(c,Z):I==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&_i(c,Z)):I==="children"?typeof Z=="string"?(g!=="textarea"||Z!=="")&&Wi(c,Z):typeof Z=="number"&&Wi(c,""+Z):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?Z!=null&&I==="onScroll"&&Zt("scroll",c):Z!=null&&T(c,I,Z,U))}switch(g){case"input":Ne(c),Ar(c,w,!1);break;case"textarea":Ne(c),Mn(c);break;case"option":w.value!=null&&c.setAttribute("value",""+ve(w.value));break;case"select":c.multiple=!!w.multiple,I=w.value,I!=null?ct(c,!!w.multiple,I,!1):w.defaultValue!=null&&ct(c,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(c.onclick=Tg)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return fn(d),null;case 6:if(c&&d.stateNode!=null)JP(c,d,c.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(g=pc(jh.current),pc($s.current),Mg(d)){if(w=d.stateNode,g=d.memoizedProps,w[Ls]=d,(I=w.nodeValue!==g)&&(c=ii,c!==null))switch(c.tag){case 3:Ag(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Ag(w.nodeValue,g,(c.mode&1)!==0)}I&&(d.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[Ls]=d,d.stateNode=w}return fn(d),null;case 13:if(er(dr),w=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(lr&&si!==null&&(d.mode&1)!==0&&(d.flags&128)===0)tP(),qu(),d.flags|=98560,I=!1;else if(I=Mg(d),w!==null&&w.dehydrated!==null){if(c===null){if(!I)throw Error(r(318));if(I=d.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[Ls]=d}else qu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;fn(d),I=!1}else is!==null&&(Uw(is),is=null),I=!0;if(!I)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(dr.current&1)!==0?Lr===0&&(Lr=3):Hw())),d.updateQueue!==null&&(d.flags|=4),fn(d),null);case 4:return Ku(),Pw(c,d),c===null&&gh(d.stateNode.containerInfo),fn(d),null;case 10:return sw(d.type._context),fn(d),null;case 17:return Vn(d.type)&&kg(),fn(d),null;case 19:if(er(dr),I=d.memoizedState,I===null)return fn(d),null;if(w=(d.flags&128)!==0,U=I.rendering,U===null)if(w)Th(I,!1);else{if(Lr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(U=Bg(c),U!==null){for(d.flags|=128,Th(I,!1),w=U.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=g,g=d.child;g!==null;)I=g,c=w,I.flags&=14680066,U=I.alternate,U===null?(I.childLanes=0,I.lanes=c,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=U.childLanes,I.lanes=U.lanes,I.child=U.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=U.memoizedProps,I.memoizedState=U.memoizedState,I.updateQueue=U.updateQueue,I.type=U.type,c=U.dependencies,I.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Xt(dr,dr.current&1|2),d.child}c=c.sibling}I.tail!==null&&Qt()>Ju&&(d.flags|=128,w=!0,Th(I,!1),d.lanes=4194304)}else{if(!w)if(c=Bg(U),c!==null){if(d.flags|=128,w=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Th(I,!0),I.tail===null&&I.tailMode==="hidden"&&!U.alternate&&!lr)return fn(d),null}else 2*Qt()-I.renderingStartTime>Ju&&g!==1073741824&&(d.flags|=128,w=!0,Th(I,!1),d.lanes=4194304);I.isBackwards?(U.sibling=d.child,d.child=U):(g=I.last,g!==null?g.sibling=U:d.child=U,I.last=U)}return I.tail!==null?(d=I.tail,I.rendering=d,I.tail=d.sibling,I.renderingStartTime=Qt(),d.sibling=null,g=dr.current,Xt(dr,w?g&1|2:g&1),d):(fn(d),null);case 22:case 23:return qw(),w=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(ai&1073741824)!==0&&(fn(d),d.subtreeFlags&6&&(d.flags|=8192)):fn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function wG(c,d){switch(Z0(d),d.tag){case 1:return Vn(d.type)&&kg(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Ku(),er(Fn),er(un),fw(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return uw(d),null;case 13:if(er(dr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));qu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return er(dr),null;case 4:return Ku(),null;case 10:return sw(d.type._context),null;case 22:case 23:return qw(),null;case 24:return null;default:return null}}var Qg=!1,hn=!1,_G=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Qu(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){vr(c,d,w)}else g.current=null}function Iw(c,d,g){try{g()}catch(w){vr(c,d,w)}}var ZP=!1;function jG(c,d){if(q0=No,c=Pk(),D0(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,I=w.focusNode;w=w.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break e}var U=0,Q=-1,Z=-1,ce=0,je=0,Se=c,we=null;t:for(;;){for(var ke;Se!==g||A!==0&&Se.nodeType!==3||(Q=U+A),Se!==I||w!==0&&Se.nodeType!==3||(Z=U+w),Se.nodeType===3&&(U+=Se.nodeValue.length),(ke=Se.firstChild)!==null;)we=Se,Se=ke;for(;;){if(Se===c)break t;if(we===g&&++ce===A&&(Q=U),we===I&&++je===w&&(Z=U),(ke=Se.nextSibling)!==null)break;Se=we,we=Se.parentNode}Se=ke}g=Q===-1||Z===-1?null:{start:Q,end:Z}}else g=null}g=g||{start:0,end:0}}else g=null;for(H0={focusedElem:c,selectionRange:g},No=!1,Oe=d;Oe!==null;)if(d=Oe,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Oe=c;else for(;Oe!==null;){d=Oe;try{var Le=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Fe=Le.memoizedProps,jr=Le.memoizedState,ae=d.stateNode,ne=ae.getSnapshotBeforeUpdate(d.elementType===d.type?Fe:ss(d.type,Fe),jr);ae.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var oe=d.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){vr(d,d.return,Ee)}if(c=d.sibling,c!==null){c.return=d.return,Oe=c;break}Oe=d.return}return Le=ZP,ZP=!1,Le}function Ch(c,d,g){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&c)===c){var I=A.destroy;A.destroy=void 0,I!==void 0&&Iw(d,g,I)}A=A.next}while(A!==w)}}function Xg(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==d)}}function Rw(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function eI(c){var d=c.alternate;d!==null&&(c.alternate=null,eI(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Ls],delete d[yh],delete d[Y0],delete d[sG],delete d[aG])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function tI(c){return c.tag===5||c.tag===3||c.tag===4}function rI(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||tI(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Ow(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Tg));else if(w!==4&&(c=c.child,c!==null))for(Ow(c,d,g),c=c.sibling;c!==null;)Ow(c,d,g),c=c.sibling}function Mw(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(Mw(c,d,g),c=c.sibling;c!==null;)Mw(c,d,g),c=c.sibling}var en=null,as=!1;function Oo(c,d,g){for(g=g.child;g!==null;)nI(c,d,g),g=g.sibling}function nI(c,d,g){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(nc,g)}catch{}switch(g.tag){case 5:hn||Qu(g,d);case 6:var w=en,A=as;en=null,Oo(c,d,g),en=w,as=A,en!==null&&(as?(c=en,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):en.removeChild(g.stateNode));break;case 18:en!==null&&(as?(c=en,g=g.stateNode,c.nodeType===8?K0(c.parentNode,g):c.nodeType===1&&K0(c,g),ts(c)):K0(en,g.stateNode));break;case 4:w=en,A=as,en=g.stateNode.containerInfo,as=!0,Oo(c,d,g),en=w,as=A;break;case 0:case 11:case 14:case 15:if(!hn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var I=A,U=I.destroy;I=I.tag,U!==void 0&&((I&2)!==0||(I&4)!==0)&&Iw(g,d,U),A=A.next}while(A!==w)}Oo(c,d,g);break;case 1:if(!hn&&(Qu(g,d),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(Q){vr(g,d,Q)}Oo(c,d,g);break;case 21:Oo(c,d,g);break;case 22:g.mode&1?(hn=(w=hn)||g.memoizedState!==null,Oo(c,d,g),hn=w):Oo(c,d,g);break;default:Oo(c,d,g)}}function iI(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new _G),d.forEach(function(w){var A=IG.bind(null,c,w);g.has(w)||(g.add(w),w.then(A,A))})}}function os(c,d){var g=d.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w];try{var I=c,U=d,Q=U;e:for(;Q!==null;){switch(Q.tag){case 5:en=Q.stateNode,as=!1;break e;case 3:en=Q.stateNode.containerInfo,as=!0;break e;case 4:en=Q.stateNode.containerInfo,as=!0;break e}Q=Q.return}if(en===null)throw Error(r(160));nI(I,U,A),en=null,as=!1;var Z=A.alternate;Z!==null&&(Z.return=null),A.return=null}catch(ce){vr(A,d,ce)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)sI(d,c),d=d.sibling}function sI(c,d){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(os(d,c),Vs(c),w&4){try{Ch(3,c,c.return),Xg(3,c)}catch(Fe){vr(c,c.return,Fe)}try{Ch(5,c,c.return)}catch(Fe){vr(c,c.return,Fe)}}break;case 1:os(d,c),Vs(c),w&512&&g!==null&&Qu(g,g.return);break;case 5:if(os(d,c),Vs(c),w&512&&g!==null&&Qu(g,g.return),c.flags&32){var A=c.stateNode;try{Wi(A,"")}catch(Fe){vr(c,c.return,Fe)}}if(w&4&&(A=c.stateNode,A!=null)){var I=c.memoizedProps,U=g!==null?g.memoizedProps:I,Q=c.type,Z=c.updateQueue;if(c.updateQueue=null,Z!==null)try{Q==="input"&&I.type==="radio"&&I.name!=null&&at(A,I),Xl(Q,U);var ce=Xl(Q,I);for(U=0;U<Z.length;U+=2){var je=Z[U],Se=Z[U+1];je==="style"?Ql(A,Se):je==="dangerouslySetInnerHTML"?_i(A,Se):je==="children"?Wi(A,Se):T(A,je,Se,ce)}switch(Q){case"input":Bt(A,I);break;case"textarea":cn(A,I);break;case"select":var we=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!I.multiple;var ke=I.value;ke!=null?ct(A,!!I.multiple,ke,!1):we!==!!I.multiple&&(I.defaultValue!=null?ct(A,!!I.multiple,I.defaultValue,!0):ct(A,!!I.multiple,I.multiple?[]:"",!1))}A[yh]=I}catch(Fe){vr(c,c.return,Fe)}}break;case 6:if(os(d,c),Vs(c),w&4){if(c.stateNode===null)throw Error(r(162));A=c.stateNode,I=c.memoizedProps;try{A.nodeValue=I}catch(Fe){vr(c,c.return,Fe)}}break;case 3:if(os(d,c),Vs(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{ts(d.containerInfo)}catch(Fe){vr(c,c.return,Fe)}break;case 4:os(d,c),Vs(c);break;case 13:os(d,c),Vs(c),A=c.child,A.flags&8192&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||($w=Qt())),w&4&&iI(c);break;case 22:if(je=g!==null&&g.memoizedState!==null,c.mode&1?(hn=(ce=hn)||je,os(d,c),hn=ce):os(d,c),Vs(c),w&8192){if(ce=c.memoizedState!==null,(c.stateNode.isHidden=ce)&&!je&&(c.mode&1)!==0)for(Oe=c,je=c.child;je!==null;){for(Se=Oe=je;Oe!==null;){switch(we=Oe,ke=we.child,we.tag){case 0:case 11:case 14:case 15:Ch(4,we,we.return);break;case 1:Qu(we,we.return);var Le=we.stateNode;if(typeof Le.componentWillUnmount=="function"){w=we,g=we.return;try{d=w,Le.props=d.memoizedProps,Le.state=d.memoizedState,Le.componentWillUnmount()}catch(Fe){vr(w,g,Fe)}}break;case 5:Qu(we,we.return);break;case 22:if(we.memoizedState!==null){lI(Se);continue}}ke!==null?(ke.return=we,Oe=ke):lI(Se)}je=je.sibling}e:for(je=null,Se=c;;){if(Se.tag===5){if(je===null){je=Se;try{A=Se.stateNode,ce?(I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(Q=Se.stateNode,Z=Se.memoizedProps.style,U=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Q.style.display=vo("display",U))}catch(Fe){vr(c,c.return,Fe)}}}else if(Se.tag===6){if(je===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch(Fe){vr(c,c.return,Fe)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===c)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===c)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===c)break e;je===Se&&(je=null),Se=Se.return}je===Se&&(je=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:os(d,c),Vs(c),w&4&&iI(c);break;case 21:break;default:os(d,c),Vs(c)}}function Vs(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(tI(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(Wi(A,""),w.flags&=-33);var I=rI(c);Mw(c,I,A);break;case 3:case 4:var U=w.stateNode.containerInfo,Q=rI(c);Ow(c,Q,U);break;default:throw Error(r(161))}}catch(Z){vr(c,c.return,Z)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function SG(c,d,g){Oe=c,aI(c)}function aI(c,d,g){for(var w=(c.mode&1)!==0;Oe!==null;){var A=Oe,I=A.child;if(A.tag===22&&w){var U=A.memoizedState!==null||Qg;if(!U){var Q=A.alternate,Z=Q!==null&&Q.memoizedState!==null||hn;Q=Qg;var ce=hn;if(Qg=U,(hn=Z)&&!ce)for(Oe=A;Oe!==null;)U=Oe,Z=U.child,U.tag===22&&U.memoizedState!==null?cI(A):Z!==null?(Z.return=U,Oe=Z):cI(A);for(;I!==null;)Oe=I,aI(I),I=I.sibling;Oe=A,Qg=Q,hn=ce}oI(c)}else(A.subtreeFlags&8772)!==0&&I!==null?(I.return=A,Oe=I):oI(c)}}function oI(c){for(;Oe!==null;){var d=Oe;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:hn||Xg(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!hn)if(g===null)w.componentDidMount();else{var A=d.elementType===d.type?g.memoizedProps:ss(d.type,g.memoizedProps);w.componentDidUpdate(A,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&lP(d,I,w);break;case 3:var U=d.updateQueue;if(U!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}lP(d,U,g)}break;case 5:var Q=d.stateNode;if(g===null&&d.flags&4){g=Q;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&g.focus();break;case"img":Z.src&&(g.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ce=d.alternate;if(ce!==null){var je=ce.memoizedState;if(je!==null){var Se=je.dehydrated;Se!==null&&ts(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}hn||d.flags&512&&Rw(d)}catch(we){vr(d,d.return,we)}}if(d===c){Oe=null;break}if(g=d.sibling,g!==null){g.return=d.return,Oe=g;break}Oe=d.return}}function lI(c){for(;Oe!==null;){var d=Oe;if(d===c){Oe=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Oe=g;break}Oe=d.return}}function cI(c){for(;Oe!==null;){var d=Oe;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{Xg(4,d)}catch(Z){vr(d,g,Z)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var A=d.return;try{w.componentDidMount()}catch(Z){vr(d,A,Z)}}var I=d.return;try{Rw(d)}catch(Z){vr(d,I,Z)}break;case 5:var U=d.return;try{Rw(d)}catch(Z){vr(d,U,Z)}}}catch(Z){vr(d,d.return,Z)}if(d===c){Oe=null;break}var Q=d.sibling;if(Q!==null){Q.return=d.return,Oe=Q;break}Oe=d.return}}var NG=Math.ceil,Jg=N.ReactCurrentDispatcher,Dw=N.ReactCurrentOwner,Pi=N.ReactCurrentBatchConfig,kt=0,Wr=null,Cr=null,tn=0,ai=0,Xu=Co(0),Lr=0,kh=null,vc=0,Zg=0,Lw=0,Ph=null,Un=null,$w=0,Ju=1/0,Ta=null,ev=!1,Fw=null,Mo=null,tv=!1,Do=null,rv=0,Ih=0,Vw=null,nv=-1,iv=0;function Tn(){return(kt&6)!==0?Qt():nv!==-1?nv:nv=Qt()}function Lo(c){return(c.mode&1)===0?1:(kt&2)!==0&&tn!==0?tn&-tn:lG.transition!==null?(iv===0&&(iv=sc()),iv):(c=jt,c!==0||(c=window.event,c=c===void 0?16:ah(c.type)),c)}function ls(c,d,g,w){if(50<Ih)throw Ih=0,Vw=null,Error(r(185));wo(c,g,w),((kt&2)===0||c!==Wr)&&(c===Wr&&((kt&2)===0&&(Zg|=g),Lr===4&&$o(c,tn)),zn(c,w),g===1&&kt===0&&(d.mode&1)===0&&(Ju=Qt()+500,Ig&&Po()))}function zn(c,d){var g=c.callbackNode;ga(c,d);var w=ic(c,c===Wr?tn:0);if(w===0)g!==null&&th(g),c.callbackNode=null,c.callbackPriority=0;else if(d=w&-w,c.callbackPriority!==d){if(g!=null&&th(g),d===1)c.tag===0?oG(dI.bind(null,c)):Qk(dI.bind(null,c)),nG(function(){(kt&6)===0&&Po()}),g=null;else{switch(jo(w)){case 1:g=rc;break;case 4:g=yo;break;case 16:g=Si;break;case 536870912:g=ig;break;default:g=Si}g=xI(g,uI.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function uI(c,d){if(nv=-1,iv=0,(kt&6)!==0)throw Error(r(327));var g=c.callbackNode;if(Zu()&&c.callbackNode!==g)return null;var w=ic(c,c===Wr?tn:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||d)d=sv(c,w);else{d=w;var A=kt;kt|=2;var I=hI();(Wr!==c||tn!==d)&&(Ta=null,Ju=Qt()+500,xc(c,d));do try{TG();break}catch(Q){fI(c,Q)}while(!0);iw(),Jg.current=I,kt=A,Cr!==null?d=0:(Wr=null,tn=0,d=Lr)}if(d!==0){if(d===2&&(A=ti(c),A!==0&&(w=A,d=Bw(c,A))),d===1)throw g=kh,xc(c,0),$o(c,w),zn(c,Qt()),g;if(d===6)$o(c,w);else{if(A=c.current.alternate,(w&30)===0&&!EG(A)&&(d=sv(c,w),d===2&&(I=ti(c),I!==0&&(w=I,d=Bw(c,I))),d===1))throw g=kh,xc(c,0),$o(c,w),zn(c,Qt()),g;switch(c.finishedWork=A,c.finishedLanes=w,d){case 0:case 1:throw Error(r(345));case 2:bc(c,Un,Ta);break;case 3:if($o(c,w),(w&130023424)===w&&(d=$w+500-Qt(),10<d)){if(ic(c,0)!==0)break;if(A=c.suspendedLanes,(A&w)!==w){Tn(),c.pingedLanes|=c.suspendedLanes&A;break}c.timeoutHandle=G0(bc.bind(null,c,Un,Ta),d);break}bc(c,Un,Ta);break;case 4:if($o(c,w),(w&4194240)===w)break;for(d=c.eventTimes,A=-1;0<w;){var U=31-Nn(w);I=1<<U,U=d[U],U>A&&(A=U),w&=~I}if(w=A,w=Qt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*NG(w/1960))-w,10<w){c.timeoutHandle=G0(bc.bind(null,c,Un,Ta),w);break}bc(c,Un,Ta);break;case 5:bc(c,Un,Ta);break;default:throw Error(r(329))}}}return zn(c,Qt()),c.callbackNode===g?uI.bind(null,c):null}function Bw(c,d){var g=Ph;return c.current.memoizedState.isDehydrated&&(xc(c,d).flags|=256),c=sv(c,d),c!==2&&(d=Un,Un=g,d!==null&&Uw(d)),c}function Uw(c){Un===null?Un=c:Un.push.apply(Un,c)}function EG(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var A=g[w],I=A.getSnapshot;A=A.value;try{if(!ns(I(),A))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function $o(c,d){for(d&=~Lw,d&=~Zg,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-Nn(d),w=1<<g;c[g]=-1,d&=~w}}function dI(c){if((kt&6)!==0)throw Error(r(327));Zu();var d=ic(c,0);if((d&1)===0)return zn(c,Qt()),null;var g=sv(c,d);if(c.tag!==0&&g===2){var w=ti(c);w!==0&&(d=w,g=Bw(c,w))}if(g===1)throw g=kh,xc(c,0),$o(c,d),zn(c,Qt()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,bc(c,Un,Ta),zn(c,Qt()),null}function zw(c,d){var g=kt;kt|=1;try{return c(d)}finally{kt=g,kt===0&&(Ju=Qt()+500,Ig&&Po())}}function yc(c){Do!==null&&Do.tag===0&&(kt&6)===0&&Zu();var d=kt;kt|=1;var g=Pi.transition,w=jt;try{if(Pi.transition=null,jt=1,c)return c()}finally{jt=w,Pi.transition=g,kt=d,(kt&6)===0&&Po()}}function qw(){ai=Xu.current,er(Xu)}function xc(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,rG(g)),Cr!==null)for(g=Cr.return;g!==null;){var w=g;switch(Z0(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&kg();break;case 3:Ku(),er(Fn),er(un),fw();break;case 5:uw(w);break;case 4:Ku();break;case 13:er(dr);break;case 19:er(dr);break;case 10:sw(w.type._context);break;case 22:case 23:qw()}g=g.return}if(Wr=c,Cr=c=Fo(c.current,null),tn=ai=d,Lr=0,kh=null,Lw=Zg=vc=0,Un=Ph=null,mc!==null){for(d=0;d<mc.length;d++)if(g=mc[d],w=g.interleaved,w!==null){g.interleaved=null;var A=w.next,I=g.pending;if(I!==null){var U=I.next;I.next=A,w.next=U}g.pending=w}mc=null}return c}function fI(c,d){do{var g=Cr;try{if(iw(),Ug.current=Wg,zg){for(var w=fr.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}zg=!1}if(gc=0,Hr=Dr=fr=null,Sh=!1,Nh=0,Dw.current=null,g===null||g.return===null){Lr=1,kh=d,Cr=null;break}e:{var I=c,U=g.return,Q=g,Z=d;if(d=tn,Q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,je=Q,Se=je.tag;if((je.mode&1)===0&&(Se===0||Se===11||Se===15)){var we=je.alternate;we?(je.updateQueue=we.updateQueue,je.memoizedState=we.memoizedState,je.lanes=we.lanes):(je.updateQueue=null,je.memoizedState=null)}var ke=LP(U);if(ke!==null){ke.flags&=-257,$P(ke,U,Q,I,d),ke.mode&1&&DP(I,ce,d),d=ke,Z=ce;var Le=d.updateQueue;if(Le===null){var Fe=new Set;Fe.add(Z),d.updateQueue=Fe}else Le.add(Z);break e}else{if((d&1)===0){DP(I,ce,d),Hw();break e}Z=Error(r(426))}}else if(lr&&Q.mode&1){var jr=LP(U);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),$P(jr,U,Q,I,d),rw(Yu(Z,Q));break e}}I=Z=Yu(Z,Q),Lr!==4&&(Lr=2),Ph===null?Ph=[I]:Ph.push(I),I=U;do{switch(I.tag){case 3:I.flags|=65536,d&=-d,I.lanes|=d;var ae=OP(I,Z,d);oP(I,ae);break e;case 1:Q=Z;var ne=I.type,oe=I.stateNode;if((I.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Mo===null||!Mo.has(oe)))){I.flags|=65536,d&=-d,I.lanes|=d;var Ee=MP(I,Q,d);oP(I,Ee);break e}}I=I.return}while(I!==null)}pI(g)}catch(Be){d=Be,Cr===g&&g!==null&&(Cr=g=g.return);continue}break}while(!0)}function hI(){var c=Jg.current;return Jg.current=Wg,c===null?Wg:c}function Hw(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Wr===null||(vc&268435455)===0&&(Zg&268435455)===0||$o(Wr,tn)}function sv(c,d){var g=kt;kt|=2;var w=hI();(Wr!==c||tn!==d)&&(Ta=null,xc(c,d));do try{AG();break}catch(A){fI(c,A)}while(!0);if(iw(),kt=g,Jg.current=w,Cr!==null)throw Error(r(261));return Wr=null,tn=0,Lr}function AG(){for(;Cr!==null;)mI(Cr)}function TG(){for(;Cr!==null&&!rg();)mI(Cr)}function mI(c){var d=yI(c.alternate,c,ai);c.memoizedProps=c.pendingProps,d===null?pI(c):Cr=d,Dw.current=null}function pI(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=bG(g,d,ai),g!==null){Cr=g;return}}else{if(g=wG(g,d),g!==null){g.flags&=32767,Cr=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Lr=6,Cr=null;return}}if(d=d.sibling,d!==null){Cr=d;return}Cr=d=c}while(d!==null);Lr===0&&(Lr=5)}function bc(c,d,g){var w=jt,A=Pi.transition;try{Pi.transition=null,jt=1,CG(c,d,g,w)}finally{Pi.transition=A,jt=w}return null}function CG(c,d,g,w){do Zu();while(Do!==null);if((kt&6)!==0)throw Error(r(327));g=c.finishedWork;var A=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var I=g.lanes|g.childLanes;if(Kt(c,I),c===Wr&&(Cr=Wr=null,tn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||tv||(tv=!0,xI(Si,function(){return Zu(),null})),I=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||I){I=Pi.transition,Pi.transition=null;var U=jt;jt=1;var Q=kt;kt|=4,Dw.current=null,jG(c,g),sI(g,c),YW(H0),No=!!q0,H0=q0=null,c.current=g,SG(g),T0(),kt=Q,jt=U,Pi.transition=I}else c.current=g;if(tv&&(tv=!1,Do=c,rv=A),I=c.pendingLanes,I===0&&(Mo=null),sg(g.stateNode),zn(c,Qt()),d!==null)for(w=c.onRecoverableError,g=0;g<d.length;g++)A=d[g],w(A.value,{componentStack:A.stack,digest:A.digest});if(ev)throw ev=!1,c=Fw,Fw=null,c;return(rv&1)!==0&&c.tag!==0&&Zu(),I=c.pendingLanes,(I&1)!==0?c===Vw?Ih++:(Ih=0,Vw=c):Ih=0,Po(),null}function Zu(){if(Do!==null){var c=jo(rv),d=Pi.transition,g=jt;try{if(Pi.transition=null,jt=16>c?16:c,Do===null)var w=!1;else{if(c=Do,Do=null,rv=0,(kt&6)!==0)throw Error(r(331));var A=kt;for(kt|=4,Oe=c.current;Oe!==null;){var I=Oe,U=I.child;if((Oe.flags&16)!==0){var Q=I.deletions;if(Q!==null){for(var Z=0;Z<Q.length;Z++){var ce=Q[Z];for(Oe=ce;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:Ch(8,je,I)}var Se=je.child;if(Se!==null)Se.return=je,Oe=Se;else for(;Oe!==null;){je=Oe;var we=je.sibling,ke=je.return;if(eI(je),je===ce){Oe=null;break}if(we!==null){we.return=ke,Oe=we;break}Oe=ke}}}var Le=I.alternate;if(Le!==null){var Fe=Le.child;if(Fe!==null){Le.child=null;do{var jr=Fe.sibling;Fe.sibling=null,Fe=jr}while(Fe!==null)}}Oe=I}}if((I.subtreeFlags&2064)!==0&&U!==null)U.return=I,Oe=U;else e:for(;Oe!==null;){if(I=Oe,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Ch(9,I,I.return)}var ae=I.sibling;if(ae!==null){ae.return=I.return,Oe=ae;break e}Oe=I.return}}var ne=c.current;for(Oe=ne;Oe!==null;){U=Oe;var oe=U.child;if((U.subtreeFlags&2064)!==0&&oe!==null)oe.return=U,Oe=oe;else e:for(U=ne;Oe!==null;){if(Q=Oe,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Xg(9,Q)}}catch(Be){vr(Q,Q.return,Be)}if(Q===U){Oe=null;break e}var Ee=Q.sibling;if(Ee!==null){Ee.return=Q.return,Oe=Ee;break e}Oe=Q.return}}if(kt=A,Po(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(nc,c)}catch{}w=!0}return w}finally{jt=g,Pi.transition=d}}return!1}function gI(c,d,g){d=Yu(g,d),d=OP(c,d,1),c=Ro(c,d,1),d=Tn(),c!==null&&(wo(c,1,d),zn(c,d))}function vr(c,d,g){if(c.tag===3)gI(c,c,g);else for(;d!==null;){if(d.tag===3){gI(d,c,g);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Mo===null||!Mo.has(w))){c=Yu(g,c),c=MP(d,c,1),d=Ro(d,c,1),c=Tn(),d!==null&&(wo(d,1,c),zn(d,c));break}}d=d.return}}function kG(c,d,g){var w=c.pingCache;w!==null&&w.delete(d),d=Tn(),c.pingedLanes|=c.suspendedLanes&g,Wr===c&&(tn&g)===g&&(Lr===4||Lr===3&&(tn&130023424)===tn&&500>Qt()-$w?xc(c,0):Lw|=g),zn(c,d)}function vI(c,d){d===0&&((c.mode&1)===0?d=1:(d=_u,_u<<=1,(_u&130023424)===0&&(_u=4194304)));var g=Tn();c=Na(c,d),c!==null&&(wo(c,d,g),zn(c,g))}function PG(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),vI(c,g)}function IG(c,d){var g=0;switch(c.tag){case 13:var w=c.stateNode,A=c.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(d),vI(c,g)}var yI;yI=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||Fn.current)Bn=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return Bn=!1,xG(c,d,g);Bn=(c.flags&131072)!==0}else Bn=!1,lr&&(d.flags&1048576)!==0&&Xk(d,Og,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;Yg(c,d),c=d.pendingProps;var A=Bu(d,un.current);Gu(d,g),A=pw(null,d,w,c,A,g);var I=gw();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Vn(w)?(I=!0,Pg(d)):I=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,lw(d),A.updater=Gg,d.stateNode=A,A._reactInternals=d,_w(d,w,c,g),d=Ew(null,d,w,!0,I,g)):(d.tag=0,lr&&I&&J0(d),An(null,d,A,g),d=d.child),d;case 16:w=d.elementType;e:{switch(Yg(c,d),c=d.pendingProps,A=w._init,w=A(w._payload),d.type=w,A=d.tag=OG(w),c=ss(w,c),A){case 0:d=Nw(null,d,w,c,g);break e;case 1:d=qP(null,d,w,c,g);break e;case 11:d=FP(null,d,w,c,g);break e;case 14:d=VP(null,d,w,ss(w.type,c),g);break e}throw Error(r(306,w,""))}return d;case 0:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:ss(w,A),Nw(c,d,w,A,g);case 1:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:ss(w,A),qP(c,d,w,A,g);case 3:e:{if(HP(d),c===null)throw Error(r(387));w=d.pendingProps,I=d.memoizedState,A=I.element,aP(c,d),Vg(d,w,null,g);var U=d.memoizedState;if(w=U.element,I.isDehydrated)if(I={element:w,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=I,d.memoizedState=I,d.flags&256){A=Yu(Error(r(423)),d),d=WP(c,d,w,g,A);break e}else if(w!==A){A=Yu(Error(r(424)),d),d=WP(c,d,w,g,A);break e}else for(si=To(d.stateNode.containerInfo.firstChild),ii=d,lr=!0,is=null,g=iP(d,null,w,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(qu(),w===A){d=Aa(c,d,g);break e}An(c,d,w,g)}d=d.child}return d;case 5:return cP(d),c===null&&tw(d),w=d.type,A=d.pendingProps,I=c!==null?c.memoizedProps:null,U=A.children,W0(w,A)?U=null:I!==null&&W0(w,I)&&(d.flags|=32),zP(c,d),An(c,d,U,g),d.child;case 6:return c===null&&tw(d),null;case 13:return GP(c,d,g);case 4:return cw(d,d.stateNode.containerInfo),w=d.pendingProps,c===null?d.child=Hu(d,null,w,g):An(c,d,w,g),d.child;case 11:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:ss(w,A),FP(c,d,w,A,g);case 7:return An(c,d,d.pendingProps,g),d.child;case 8:return An(c,d,d.pendingProps.children,g),d.child;case 12:return An(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(w=d.type._context,A=d.pendingProps,I=d.memoizedProps,U=A.value,Xt(Lg,w._currentValue),w._currentValue=U,I!==null)if(ns(I.value,U)){if(I.children===A.children&&!Fn.current){d=Aa(c,d,g);break e}}else for(I=d.child,I!==null&&(I.return=d);I!==null;){var Q=I.dependencies;if(Q!==null){U=I.child;for(var Z=Q.firstContext;Z!==null;){if(Z.context===w){if(I.tag===1){Z=Ea(-1,g&-g),Z.tag=2;var ce=I.updateQueue;if(ce!==null){ce=ce.shared;var je=ce.pending;je===null?Z.next=Z:(Z.next=je.next,je.next=Z),ce.pending=Z}}I.lanes|=g,Z=I.alternate,Z!==null&&(Z.lanes|=g),aw(I.return,g,d),Q.lanes|=g;break}Z=Z.next}}else if(I.tag===10)U=I.type===d.type?null:I.child;else if(I.tag===18){if(U=I.return,U===null)throw Error(r(341));U.lanes|=g,Q=U.alternate,Q!==null&&(Q.lanes|=g),aw(U,g,d),U=I.sibling}else U=I.child;if(U!==null)U.return=I;else for(U=I;U!==null;){if(U===d){U=null;break}if(I=U.sibling,I!==null){I.return=U.return,U=I;break}U=U.return}I=U}An(c,d,A.children,g),d=d.child}return d;case 9:return A=d.type,w=d.pendingProps.children,Gu(d,g),A=Ci(A),w=w(A),d.flags|=1,An(c,d,w,g),d.child;case 14:return w=d.type,A=ss(w,d.pendingProps),A=ss(w.type,A),VP(c,d,w,A,g);case 15:return BP(c,d,d.type,d.pendingProps,g);case 17:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:ss(w,A),Yg(c,d),d.tag=1,Vn(w)?(c=!0,Pg(d)):c=!1,Gu(d,g),IP(d,w,A),_w(d,w,A,g),Ew(null,d,w,!0,c,g);case 19:return YP(c,d,g);case 22:return UP(c,d,g)}throw Error(r(156,d.tag))};function xI(c,d){return bu(c,d)}function RG(c,d,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(c,d,g,w){return new RG(c,d,g,w)}function Ww(c){return c=c.prototype,!(!c||!c.isReactComponent)}function OG(c){if(typeof c=="function")return Ww(c)?1:0;if(c!=null){if(c=c.$$typeof,c===D)return 11;if(c===G)return 14}return 2}function Fo(c,d){var g=c.alternate;return g===null?(g=Ii(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function av(c,d,g,w,A,I){var U=2;if(w=c,typeof c=="function")Ww(c)&&(U=1);else if(typeof c=="string")U=5;else e:switch(c){case P:return wc(g.children,A,I,d);case R:U=8,A|=8;break;case M:return c=Ii(12,g,d,A|2),c.elementType=M,c.lanes=I,c;case L:return c=Ii(13,g,d,A),c.elementType=L,c.lanes=I,c;case B:return c=Ii(19,g,d,A),c.elementType=B,c.lanes=I,c;case Y:return ov(g,A,I,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case V:U=10;break e;case $:U=9;break e;case D:U=11;break e;case G:U=14;break e;case q:U=16,w=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=Ii(U,g,d,A),d.elementType=c,d.type=w,d.lanes=I,d}function wc(c,d,g,w){return c=Ii(7,c,w,d),c.lanes=g,c}function ov(c,d,g,w){return c=Ii(22,c,w,d),c.elementType=Y,c.lanes=g,c.stateNode={isHidden:!1},c}function Gw(c,d,g){return c=Ii(6,c,null,d),c.lanes=g,c}function Kw(c,d,g){return d=Ii(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function MG(c,d,g,w,A){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bo(0),this.expirationTimes=bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bo(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Yw(c,d,g,w,A,I,U,Q,Z){return c=new MG(c,d,g,Q,Z),d===1?(d=1,I===!0&&(d|=8)):d=0,I=Ii(3,null,null,d),c.current=I,I.stateNode=c,I.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},lw(I),c}function DG(c,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:w==null?null:""+w,children:c,containerInfo:d,implementation:g}}function bI(c){if(!c)return ko;c=c._reactInternals;e:{if(Qi(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Vn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(Vn(g))return Kk(c,g,d)}return d}function wI(c,d,g,w,A,I,U,Q,Z){return c=Yw(g,w,!0,c,A,I,U,Q,Z),c.context=bI(null),g=c.current,w=Tn(),A=Lo(g),I=Ea(w,A),I.callback=d??null,Ro(g,I,A),c.current.lanes=A,wo(c,A,w),zn(c,w),c}function lv(c,d,g,w){var A=d.current,I=Tn(),U=Lo(A);return g=bI(g),d.context===null?d.context=g:d.pendingContext=g,d=Ea(I,U),d.payload={element:c},w=w===void 0?null:w,w!==null&&(d.callback=w),c=Ro(A,d,U),c!==null&&(ls(c,A,U,I),Fg(c,A,U)),U}function cv(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function _I(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function Qw(c,d){_I(c,d),(c=c.alternate)&&_I(c,d)}function LG(){return null}var jI=typeof reportError=="function"?reportError:function(c){console.error(c)};function Xw(c){this._internalRoot=c}uv.prototype.render=Xw.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));lv(c,d,null,null)},uv.prototype.unmount=Xw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;yc(function(){lv(null,c,null,null)}),d[wa]=null}};function uv(c){this._internalRoot=c}uv.prototype.unstable_scheduleHydration=function(c){if(c){var d=ug();c={blockedOn:null,target:c,priority:d};for(var g=0;g<Rs.length&&d!==0&&d<Rs[g].priority;g++);Rs.splice(g,0,c),g===0&&hg(c)}};function Jw(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function dv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function SI(){}function $G(c,d,g,w,A){if(A){if(typeof w=="function"){var I=w;w=function(){var ce=cv(U);I.call(ce)}}var U=wI(d,w,c,0,null,!1,!1,"",SI);return c._reactRootContainer=U,c[wa]=U.current,gh(c.nodeType===8?c.parentNode:c),yc(),U}for(;A=c.lastChild;)c.removeChild(A);if(typeof w=="function"){var Q=w;w=function(){var ce=cv(Z);Q.call(ce)}}var Z=Yw(c,0,!1,null,null,!1,!1,"",SI);return c._reactRootContainer=Z,c[wa]=Z.current,gh(c.nodeType===8?c.parentNode:c),yc(function(){lv(d,Z,g,w)}),Z}function fv(c,d,g,w,A){var I=g._reactRootContainer;if(I){var U=I;if(typeof A=="function"){var Q=A;A=function(){var Z=cv(U);Q.call(Z)}}lv(d,U,c,A)}else U=$G(g,d,c,A,w);return cv(U)}lg=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=xo(d.pendingLanes);g!==0&&(_o(d,g|1),zn(d,Qt()),(kt&6)===0&&(Ju=Qt()+500,Po()))}break;case 13:yc(function(){var w=Na(c,1);if(w!==null){var A=Tn();ls(w,c,1,A)}}),Qw(c,1)}},ju=function(c){if(c.tag===13){var d=Na(c,134217728);if(d!==null){var g=Tn();ls(d,c,134217728,g)}Qw(c,134217728)}},cg=function(c){if(c.tag===13){var d=Lo(c),g=Na(c,d);if(g!==null){var w=Tn();ls(g,c,d,w)}Qw(c,d)}},ug=function(){return jt},dg=function(c,d){var g=jt;try{return jt=c,d()}finally{jt=g}},Ct=function(c,d,g){switch(d){case"input":if(Bt(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var w=g[d];if(w!==c&&w.form===c.form){var A=Cg(w);if(!A)throw Error(r(90));le(w),Bt(w,A)}}}break;case"textarea":cn(c,g);break;case"select":d=g.value,d!=null&&ct(c,!!g.multiple,d,!1)}},Jl=zw,Xf=yc;var FG={usingClientEntryPoint:!1,Events:[xh,Fu,Cg,ji,Qf,zw]},Rh={findFiberByHostInstance:uc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VG={bundleType:Rh.bundleType,version:Rh.version,rendererPackageName:Rh.rendererPackageName,rendererConfig:Rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=eh(c),c===null?null:c.stateNode},findFiberByHostInstance:Rh.findFiberByHostInstance||LG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hv.isDisabled&&hv.supportsFiber)try{nc=hv.inject(VG),ei=hv}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FG,qn.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(d))throw Error(r(200));return DG(c,d,null,g)},qn.createRoot=function(c,d){if(!Jw(c))throw Error(r(299));var g=!1,w="",A=jI;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=Yw(c,1,!1,null,null,g,!1,w,A),c[wa]=d.current,gh(c.nodeType===8?c.parentNode:c),new Xw(d)},qn.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=eh(d),c=c===null?null:c.stateNode,c},qn.flushSync=function(c){return yc(c)},qn.hydrate=function(c,d,g){if(!dv(d))throw Error(r(200));return fv(null,c,d,!0,g)},qn.hydrateRoot=function(c,d,g){if(!Jw(c))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,A=!1,I="",U=jI;if(g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(U=g.onRecoverableError)),d=wI(d,null,c,1,g??null,A,!1,I,U),c[wa]=d.current,gh(c),w)for(c=0;c<w.length;c++)g=w[c],A=g._getVersion,A=A(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,A]:d.mutableSourceEagerHydrationData.push(g,A);return new uv(d)},qn.render=function(c,d,g){if(!dv(d))throw Error(r(200));return fv(null,c,d,!1,g)},qn.unmountComponentAtNode=function(c){if(!dv(c))throw Error(r(40));return c._reactRootContainer?(yc(function(){fv(null,null,c,!1,function(){c._reactRootContainer=null,c[wa]=null})}),!0):!1},qn.unstable_batchedUpdates=zw,qn.unstable_renderSubtreeIntoContainer=function(c,d,g,w){if(!dv(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return fv(c,d,g,!1,w)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var RI;function pF(){if(RI)return r1.exports;RI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),r1.exports=QG(),r1.exports}var OI;function XG(){if(OI)return gv;OI=1;var t=pF();return gv.createRoot=t.createRoot,gv.hydrateRoot=t.hydrateRoot,gv}var JG=XG(),j=uT();const K=Gt(j),gF=qG({__proto__:null,default:K},[j]),ZG=1,eK=1e6;let s1=0;function tK(){return s1=(s1+1)%Number.MAX_SAFE_INTEGER,s1.toString()}const a1=new Map,MI=t=>{if(a1.has(t))return;const e=setTimeout(()=>{a1.delete(t),sm({type:"REMOVE_TOAST",toastId:t})},eK);a1.set(t,e)},rK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ZG)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?MI(r):t.toasts.forEach(n=>{MI(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Wv=[];let Gv={toasts:[]};function sm(t){Gv=rK(Gv,t),Wv.forEach(e=>{e(Gv)})}function nK({...t}){const e=tK(),r=i=>sm({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>sm({type:"DISMISS_TOAST",toastId:e});return sm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function ar(){const[t,e]=j.useState(Gv);return j.useEffect(()=>(Wv.push(e),()=>{const r=Wv.indexOf(e);r>-1&&Wv.splice(r,1)}),[t]),{...t,toast:nK,dismiss:r=>sm({type:"DISMISS_TOAST",toastId:r})}}var jf=pF();const vF=Gt(jf);function $e(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function iK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function yF(...t){return e=>t.forEach(r=>iK(r,e))}function yt(...t){return j.useCallback(yF(...t),t)}function sK(t,e=[]){let r=[];function n(s,o){const l=j.createContext(o),u=r.length;r=[...r,o];function f(m){const{scope:p,children:y,..._}=m,b=(p==null?void 0:p[t][u])||l,x=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:x,children:y})}function h(m,p){const y=(p==null?void 0:p[t][u])||l,_=j.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,h]}const i=()=>{const s=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,aK(i,...e)]}function aK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Gc=j.forwardRef((t,e)=>{const{children:r,...n}=t,i=j.Children.toArray(r),s=i.find(oK);if(s){const o=s.props.children,l=i.map(u=>u===s?j.Children.count(o)>1?j.Children.only(null):j.isValidElement(o)?o.props.children:null:u);return a.jsx($N,{...n,ref:e,children:j.isValidElement(o)?j.cloneElement(o,void 0,l):null})}return a.jsx($N,{...n,ref:e,children:r})});Gc.displayName="Slot";var $N=j.forwardRef((t,e)=>{const{children:r,...n}=t;if(j.isValidElement(r)){const i=cK(r);return j.cloneElement(r,{...lK(n,r.props),ref:e?yF(e,i):i})}return j.Children.count(r)>1?j.Children.only(null):null});$N.displayName="SlotClone";var xF=({children:t})=>a.jsx(a.Fragment,{children:t});function oK(t){return j.isValidElement(t)&&t.type===xF}function lK(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{s(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function cK(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ep(t){const e=t+"CollectionProvider",[r,n]=sK(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:b}=y,x=K.useRef(null),E=K.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:E,collectionRef:x,children:b})};o.displayName=e;const l=t+"CollectionSlot",u=K.forwardRef((y,_)=>{const{scope:b,children:x}=y,E=s(l,b),S=yt(_,E.collectionRef);return a.jsx(Gc,{ref:S,children:x})});u.displayName=l;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=K.forwardRef((y,_)=>{const{scope:b,children:x,...E}=y,S=K.useRef(null),T=yt(_,S),N=s(f,b);return K.useEffect(()=>(N.itemMap.set(S,{ref:S,...E}),()=>void N.itemMap.delete(S))),a.jsx(Gc,{[h]:"",ref:T,children:x})});m.displayName=f;function p(y){const _=s(t+"CollectionConsumer",y);return K.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const E=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((N,C)=>E.indexOf(N.ref.current)-E.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,n]}function uK(t,e){const r=j.createContext(e),n=s=>{const{children:o,...l}=s,u=j.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function i(s){const o=j.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function bi(t,e=[]){let r=[];function n(s,o){const l=j.createContext(o),u=r.length;r=[...r,o];const f=m=>{var E;const{scope:p,children:y,..._}=m,b=((E=p==null?void 0:p[t])==null?void 0:E[u])||l,x=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:x,children:y})};f.displayName=s+"Provider";function h(m,p){var b;const y=((b=p==null?void 0:p[t])==null?void 0:b[u])||l,_=j.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,h]}const i=()=>{const s=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,dK(i,...e)]}function dK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var fK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=fK.reduce((t,e)=>{const r=j.forwardRef((n,i)=>{const{asChild:s,...o}=n,l=s?Gc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function bF(t,e){t&&jf.flushSync(()=>t.dispatchEvent(e))}function On(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function hK(t,e=globalThis==null?void 0:globalThis.document){const r=On(t);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var mK="DismissableLayer",FN="dismissableLayer.update",pK="dismissableLayer.pointerDownOutside",gK="dismissableLayer.focusOutside",DI,wF=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ap=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,f=j.useContext(wF),[h,m]=j.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=j.useState({}),_=yt(e,P=>m(P)),b=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(x),S=h?b.indexOf(h):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,N=S>=E,C=yK(P=>{const R=P.target,M=[...f.branches].some(V=>V.contains(R));!N||M||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},p),O=xK(P=>{const R=P.target;[...f.branches].some(V=>V.contains(R))||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},p);return hK(P=>{S===f.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),j.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(DI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),LI(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=DI)}},[h,p,r,f]),j.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),LI())},[h,f]),j.useEffect(()=>{const P=()=>y({});return document.addEventListener(FN,P),()=>document.removeEventListener(FN,P)},[]),a.jsx(Ve.div,{...u,ref:_,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,O.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,C.onPointerDownCapture)})});Ap.displayName=mK;var vK="DismissableLayerBranch",_F=j.forwardRef((t,e)=>{const r=j.useContext(wF),n=j.useRef(null),i=yt(e,n);return j.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Ve.div,{...t,ref:i})});_F.displayName=vK;function yK(t,e=globalThis==null?void 0:globalThis.document){const r=On(t),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let u=function(){jF(pK,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function xK(t,e=globalThis==null?void 0:globalThis.document){const r=On(t),n=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!n.current&&jF(gK,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function LI(){const t=new CustomEvent(FN);document.dispatchEvent(t)}function jF(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?bF(i,s):i.dispatchEvent(s)}var bK=Ap,wK=_F,Ur=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},_K="Portal",Hx=j.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,s]=j.useState(!1);Ur(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?vF.createPortal(a.jsx(Ve.div,{...n,ref:e}),o):null});Hx.displayName=_K;function jK(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var la=t=>{const{present:e,children:r}=t,n=SK(e),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),s=yt(n.ref,NK(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:s}):null};la.displayName="Presence";function SK(t){const[e,r]=j.useState(),n=j.useRef({}),i=j.useRef(t),s=j.useRef("none"),o=t?"mounted":"unmounted",[l,u]=jK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const f=vv(n.current);s.current=l==="mounted"?f:"none"},[l]),Ur(()=>{const f=n.current,h=i.current;if(h!==t){const p=s.current,y=vv(f);t?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Ur(()=>{if(e){let f;const h=e.ownerDocument.defaultView??window,m=y=>{const b=vv(n.current).includes(y.animationName);if(y.target===e&&b&&(u("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",f=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=y=>{y.target===e&&(s.current=vv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(f),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function vv(t){return(t==null?void 0:t.animationName)||"none"}function NK(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Qn({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=EK({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,l=On(r),u=j.useCallback(f=>{if(s){const m=typeof f=="function"?f(t):f;m!==t&&l(m)}else i(f)},[s,t,i,l]);return[o,u]}function EK({defaultProp:t,onChange:e}){const r=j.useState(t),[n]=r,i=j.useRef(n),s=On(e);return j.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var AK="VisuallyHidden",Tp=j.forwardRef((t,e)=>a.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Tp.displayName=AK;var TK=Tp,dT="ToastProvider",[fT,CK,kK]=Ep("Toast"),[SF,KAe]=bi("Toast",[kK]),[PK,Wx]=SF(dT),NF=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,u]=j.useState(null),[f,h]=j.useState(0),m=j.useRef(!1),p=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${dT}\`. Expected non-empty \`string\`.`),a.jsx(fT.Provider,{scope:e,children:a.jsx(PK,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:f,viewport:l,onViewportChange:u,onToastAdd:j.useCallback(()=>h(y=>y+1),[]),onToastRemove:j.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};NF.displayName=dT;var EF="ToastViewport",IK=["F8"],VN="toast.viewportPause",BN="toast.viewportResume",AF=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=IK,label:i="Notifications ({hotkey})",...s}=t,o=Wx(EF,r),l=CK(r),u=j.useRef(null),f=j.useRef(null),h=j.useRef(null),m=j.useRef(null),p=yt(e,m,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;j.useEffect(()=>{const x=E=>{var T;n.length!==0&&n.every(N=>E[N]||E.code===N)&&((T=m.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),j.useEffect(()=>{const x=u.current,E=m.current;if(_&&x&&E){const S=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(VN);E.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(BN);E.dispatchEvent(O),o.isClosePausedRef.current=!1}},N=O=>{!x.contains(O.relatedTarget)&&T()},C=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",S),x.addEventListener("focusout",N),x.addEventListener("pointermove",S),x.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",S),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",S),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",T)}}},[_,o.isClosePausedRef]);const b=j.useCallback(({tabbingDirection:x})=>{const S=l().map(T=>{const N=T.ref.current,C=[N,...HK(N)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?S.reverse():S).flat()},[l]);return j.useEffect(()=>{const x=m.current;if(x){const E=S=>{var C,O,P;const T=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!T){const R=document.activeElement,M=S.shiftKey;if(S.target===x&&M){(C=f.current)==null||C.focus();return}const D=b({tabbingDirection:M?"backwards":"forwards"}),L=D.findIndex(B=>B===R);o1(D.slice(L+1))?S.preventDefault():M?(O=f.current)==null||O.focus():(P=h.current)==null||P.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[l,b]),a.jsxs(wK,{ref:u,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&a.jsx(UN,{ref:f,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});o1(x)}}),a.jsx(fT.Slot,{scope:r,children:a.jsx(Ve.ol,{tabIndex:-1,...s,ref:p})}),_&&a.jsx(UN,{ref:h,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});o1(x)}})]})});AF.displayName=EF;var TF="ToastFocusProxy",UN=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=Wx(TF,r);return a.jsx(Tp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var f;const l=o.relatedTarget;!((f=s.viewport)!=null&&f.contains(l))&&n()}})});UN.displayName=TF;var Gx="Toast",RK="toast.swipeStart",OK="toast.swipeMove",MK="toast.swipeCancel",DK="toast.swipeEnd",CF=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[l=!0,u]=Qn({prop:n,defaultProp:i,onChange:s});return a.jsx(la,{present:r||l,children:a.jsx(FK,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:On(t.onPause),onResume:On(t.onResume),onSwipeStart:$e(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(t.onSwipeMove,f=>{const{x:h,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:$e(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(t.onSwipeEnd,f=>{const{x:h,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});CF.displayName=Gx;var[LK,$K]=SF(Gx,{onClose(){}}),FK=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:f,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:y,..._}=t,b=Wx(Gx,r),[x,E]=j.useState(null),S=yt(e,B=>E(B)),T=j.useRef(null),N=j.useRef(null),C=i||b.duration,O=j.useRef(0),P=j.useRef(C),R=j.useRef(0),{onToastAdd:M,onToastRemove:V}=b,$=On(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=b.viewport)==null||G.focus()),o()}),D=j.useCallback(B=>{!B||B===1/0||(window.clearTimeout(R.current),O.current=new Date().getTime(),R.current=window.setTimeout($,B))},[$]);j.useEffect(()=>{const B=b.viewport;if(B){const G=()=>{D(P.current),f==null||f()},q=()=>{const Y=new Date().getTime()-O.current;P.current=P.current-Y,window.clearTimeout(R.current),u==null||u()};return B.addEventListener(VN,q),B.addEventListener(BN,G),()=>{B.removeEventListener(VN,q),B.removeEventListener(BN,G)}}},[b.viewport,C,u,f,D]),j.useEffect(()=>{s&&!b.isClosePausedRef.current&&D(C)},[s,C,b.isClosePausedRef,D]),j.useEffect(()=>(M(),()=>V()),[M,V]);const L=j.useMemo(()=>x?DF(x):null,[x]);return b.viewport?a.jsxs(a.Fragment,{children:[L&&a.jsx(VK,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),a.jsx(LK,{scope:r,onClose:$,children:jf.createPortal(a.jsx(fT.ItemSlot,{scope:r,children:a.jsx(bK,{asChild:!0,onEscapeKeyDown:$e(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||$(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":b.swipeDirection,..._,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:$e(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:$e(t.onPointerDown,B=>{B.button===0&&(T.current={x:B.clientX,y:B.clientY})}),onPointerMove:$e(t.onPointerMove,B=>{if(!T.current)return;const G=B.clientX-T.current.x,q=B.clientY-T.current.y,Y=!!N.current,z=["left","right"].includes(b.swipeDirection),J=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,re=z?J(0,G):0,H=z?0:J(0,q),X=B.pointerType==="touch"?10:2,te={x:re,y:H},ee={originalEvent:B,delta:te};Y?(N.current=te,yv(OK,m,ee,{discrete:!1})):$I(te,b.swipeDirection,X)?(N.current=te,yv(RK,h,ee,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(G)>X||Math.abs(q)>X)&&(T.current=null)}),onPointerUp:$e(t.onPointerUp,B=>{const G=N.current,q=B.target;if(q.hasPointerCapture(B.pointerId)&&q.releasePointerCapture(B.pointerId),N.current=null,T.current=null,G){const Y=B.currentTarget,z={originalEvent:B,delta:G};$I(G,b.swipeDirection,b.swipeThreshold)?yv(DK,y,z,{discrete:!0}):yv(MK,p,z,{discrete:!0}),Y.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),VK=t=>{const{__scopeToast:e,children:r,...n}=t,i=Wx(Gx,e),[s,o]=j.useState(!1),[l,u]=j.useState(!1);return zK(()=>o(!0)),j.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:a.jsx(Hx,{asChild:!0,children:a.jsx(Tp,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},BK="ToastTitle",kF=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Ve.div,{...n,ref:e})});kF.displayName=BK;var UK="ToastDescription",PF=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Ve.div,{...n,ref:e})});PF.displayName=UK;var IF="ToastAction",RF=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(MF,{altText:r,asChild:!0,children:a.jsx(hT,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${IF}\`. Expected non-empty \`string\`.`),null)});RF.displayName=IF;var OF="ToastClose",hT=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=$K(OF,r);return a.jsx(MF,{asChild:!0,children:a.jsx(Ve.button,{type:"button",...n,ref:e,onClick:$e(t.onClick,i.onClose)})})});hT.displayName=OF;var MF=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return a.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function DF(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),qK(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...DF(n))}}),e}function yv(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?bF(i,s):i.dispatchEvent(s)}var $I=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function zK(t=()=>{}){const e=On(t);Ur(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function qK(t){return t.nodeType===t.ELEMENT_NODE}function HK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function o1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var WK=NF,LF=AF,$F=CF,FF=kF,VF=PF,BF=RF,UF=hT;function zF(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=zF(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Tt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=zF(t))&&(n&&(n+=" "),n+=e);return n}const FI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VI=Tt,Kx=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return VI(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(f=>{const h=r==null?void 0:r[f],m=s==null?void 0:s[f];if(h===null)return null;const p=FI(h)||FI(m);return i[f][p]}),l=r&&Object.entries(r).reduce((f,h)=>{let[m,p]=h;return p===void 0||(f[m]=p),f},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,h)=>{let{class:m,className:p,...y}=h;return Object.entries(y).every(_=>{let[b,x]=_;return Array.isArray(x)?x.includes({...s,...l}[b]):{...s,...l}[b]===x})?[...f,m,p]:f},[]);return VI(t,o,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qF=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},u)=>j.createElement("svg",{ref:u,...KK,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:qF("lucide",i),...l},[...o.map(([f,h])=>j.createElement(f,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(YK,{ref:s,iconNode:e,className:qF(`lucide-${GK(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=_e("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=_e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=_e("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=_e("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=_e("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=_e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=_e("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=_e("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=_e("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=_e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=_e("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=_e("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=_e("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=_e("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=_e("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=_e("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=_e("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=_e("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=_e("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=_e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=_e("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=_e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=_e("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=_e("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=_e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=_e("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=_e("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=_e("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=_e("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=_e("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=_e("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=_e("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=_e("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=_e("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=_e("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=_e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=_e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=_e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=_e("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=_e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=_e("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=_e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=_e("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=_e("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vT="-",EY=t=>{const e=TY(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(vT);return l[0]===""&&l.length!==1&&l.shift(),o6(l,e)||AY(o)},getConflictingClassGroupIds:(o,l)=>{const u=r[o]||[];return l&&n[o]?[...u,...n[o]]:u}}},o6=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?o6(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(vT);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},WI=/^\[(.+)\]$/,AY=t=>{if(WI.test(t)){const e=WI.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},TY=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return kY(Object.entries(t.classGroups),r).forEach(([s,o])=>{YN(o,n,s,e)}),n},YN=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:GI(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(CY(i)){YN(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{YN(o,GI(e,s),r,n)})})},GI=(t,e)=>{let r=t;return e.split(vT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},CY=t=>t.isThemeGetter,kY=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,i]}):t,PY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},l6="!",IY=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let f=0,h=0,m;for(let x=0;x<l.length;x++){let E=l[x];if(f===0){if(E===i&&(n||l.slice(x,x+s)===e)){u.push(l.slice(h,x)),h=x+s;continue}if(E==="/"){m=x;continue}}E==="["?f++:E==="]"&&f--}const p=u.length===0?l:l.substring(h),y=p.startsWith(l6),_=y?p.substring(1):p,b=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},RY=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},OY=t=>({cache:PY(t.cacheSize),parseClassName:IY(t),...EY(t)}),MY=/\s+/,DY=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(MY);let l="";for(let u=o.length-1;u>=0;u-=1){const f=o[u],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:y}=r(f);let _=!!y,b=n(_?p.substring(0,y):p);if(!b){if(!_){l=f+(l.length>0?" "+l:l);continue}if(b=n(p),!b){l=f+(l.length>0?" "+l:l);continue}_=!1}const x=RY(h).join(":"),E=m?x+l6:x,S=E+b;if(s.includes(S))continue;s.push(S);const T=i(b,_);for(let N=0;N<T.length;++N){const C=T[N];s.push(E+C)}l=f+(l.length>0?" "+l:l)}return l};function LY(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=c6(e))&&(n&&(n+=" "),n+=r);return n}const c6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=c6(t[n]))&&(r&&(r+=" "),r+=e);return r};function $Y(t,...e){let r,n,i,s=o;function o(u){const f=e.reduce((h,m)=>m(h),t());return r=OY(f),n=r.cache.get,i=r.cache.set,s=l,l(u)}function l(u){const f=n(u);if(f)return f;const h=DY(u,r);return i(u,h),h}return function(){return s(LY.apply(null,arguments))}}const tr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},u6=/^\[(?:([a-z-]+):)?(.+)\]$/i,FY=/^\d+\/\d+$/,VY=new Set(["px","full","screen"]),BY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ca=t=>xd(t)||VY.has(t)||FY.test(t),Bo=t=>Sf(t,"length",ZY),xd=t=>!!t&&!Number.isNaN(Number(t)),u1=t=>Sf(t,"number",xd),Mh=t=>!!t&&Number.isInteger(Number(t)),WY=t=>t.endsWith("%")&&xd(t.slice(0,-1)),ot=t=>u6.test(t),Uo=t=>BY.test(t),GY=new Set(["length","size","percentage"]),KY=t=>Sf(t,GY,d6),YY=t=>Sf(t,"position",d6),QY=new Set(["image","url"]),XY=t=>Sf(t,QY,tQ),JY=t=>Sf(t,"",eQ),Dh=()=>!0,Sf=(t,e,r)=>{const n=u6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ZY=t=>UY.test(t)&&!zY.test(t),d6=()=>!1,eQ=t=>qY.test(t),tQ=t=>HY.test(t),rQ=()=>{const t=tr("colors"),e=tr("spacing"),r=tr("blur"),n=tr("brightness"),i=tr("borderColor"),s=tr("borderRadius"),o=tr("borderSpacing"),l=tr("borderWidth"),u=tr("contrast"),f=tr("grayscale"),h=tr("hueRotate"),m=tr("invert"),p=tr("gap"),y=tr("gradientColorStops"),_=tr("gradientColorStopPositions"),b=tr("inset"),x=tr("margin"),E=tr("opacity"),S=tr("padding"),T=tr("saturate"),N=tr("scale"),C=tr("sepia"),O=tr("skew"),P=tr("space"),R=tr("translate"),M=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",ot,e],D=()=>[ot,e],L=()=>["",Ca,Bo],B=()=>["auto",xd,ot],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",ot],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[xd,ot];return{cacheSize:500,separator:":",theme:{colors:[Dh],spacing:[Ca,Bo],blur:["none","",Uo,ot],brightness:H(),borderColor:[t],borderRadius:["none","","full",Uo,ot],borderSpacing:D(),borderWidth:L(),contrast:H(),grayscale:J(),hueRotate:H(),invert:J(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[WY,Bo],inset:$(),margin:$(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:J(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[Uo]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ot]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mh,ot]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Mh,ot]}],"grid-cols":[{"grid-cols":[Dh]}],"col-start-end":[{col:["auto",{span:["full",Mh,ot]},ot]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Dh]}],"row-start-end":[{row:["auto",{span:[Mh,ot]},ot]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,e]}],"min-w":[{"min-w":[ot,e,"min","max","fit"]}],"max-w":[{"max-w":[ot,e,"none","full","min","max","fit","prose",{screen:[Uo]},Uo]}],h:[{h:[ot,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Uo,Bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",u1]}],"font-family":[{font:[Dh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",xd,u1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ca,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ca,Bo]}],"underline-offset":[{"underline-offset":["auto",Ca,ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),YY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XY]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Ca,ot]}],"outline-w":[{outline:[Ca,Bo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ca,Bo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Uo,JY]}],"shadow-color":[{shadow:[Dh]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Uo,ot]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[T]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Mh,ot]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ca,Bo,u1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nQ=$Y(rQ);function Ye(...t){return nQ(Tt(t))}const iQ=WK,f6=j.forwardRef(({className:t,...e},r)=>a.jsx(LF,{ref:r,className:Ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));f6.displayName=LF.displayName;const sQ=Kx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),h6=j.forwardRef(({className:t,variant:e,...r},n)=>a.jsx($F,{ref:n,className:Ye(sQ({variant:e}),t),...r}));h6.displayName=$F.displayName;const aQ=j.forwardRef(({className:t,...e},r)=>a.jsx(BF,{ref:r,className:Ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));aQ.displayName=BF.displayName;const m6=j.forwardRef(({className:t,...e},r)=>a.jsx(UF,{ref:r,className:Ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Xn,{className:"h-4 w-4"})}));m6.displayName=UF.displayName;const p6=j.forwardRef(({className:t,...e},r)=>a.jsx(FF,{ref:r,className:Ye("text-sm font-semibold",t),...e}));p6.displayName=FF.displayName;const g6=j.forwardRef(({className:t,...e},r)=>a.jsx(VF,{ref:r,className:Ye("text-sm opacity-90",t),...e}));g6.displayName=VF.displayName;function oQ(){const{toasts:t}=ar();return a.jsxs(iQ,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return a.jsxs(h6,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(p6,{children:r}),n&&a.jsx(g6,{children:n})]}),i,a.jsx(m6,{})]},e)}),a.jsx(f6,{})]})}var KI=["light","dark"],lQ="(prefers-color-scheme: dark)",cQ=j.createContext(void 0),uQ={setTheme:t=>{},themes:[]},dQ=()=>{var t;return(t=j.useContext(cQ))!=null?t:uQ};j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:u})=>{let f=s==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=i?KI.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(_,b=!1,x=!0)=>{let E=o?o[_]:_,S=b?_+"|| ''":`'${E}'`,T="";return i&&x&&!b&&KI.includes(_)&&(T+=`d.style.colorScheme = '${_}';`),r==="class"?b||E?T+=`c.add(${S})`:T+="null":E&&(T+=`d[s](n,${S})`),T},y=t?`!function(){${h}${p(t)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${f})){var t='${lQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${f?"":"else{"+p(s,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${m}}catch(t){}}();`;return j.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var fQ=t=>{switch(t){case"success":return pQ;case"info":return vQ;case"warning":return gQ;case"error":return yQ;default:return null}},hQ=Array(12).fill(0),mQ=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},hQ.map((e,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yQ=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xQ=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},QN=1,bQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:QN++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0;return n.then(async s=>{if(_Q(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:r,type:"error",message:o,description:l})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,l=typeof e.description=="function"?await e.description(s):e.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,l=typeof e.description=="function"?await e.description(s):e.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var s;i&&(this.dismiss(r),r=void 0),(s=e.finally)==null||s.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||QN++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},ci=new bQ,wQ=(t,e)=>{let r=(e==null?void 0:e.id)||QN++;return ci.addToast({title:t,...e,id:r}),r},_Q=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jQ=wQ,SQ=()=>ci.toasts;Object.assign(jQ,{success:ci.success,info:ci.info,warning:ci.warning,error:ci.error,custom:ci.custom,message:ci.message,promise:ci.promise,dismiss:ci.dismiss,loading:ci.loading},{getHistory:SQ});function NQ(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}NQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bv(t){return t.label!==void 0}var EQ=3,AQ="32px",TQ=4e3,CQ=356,kQ=14,PQ=20,IQ=200;function RQ(...t){return t.filter(Boolean).join(" ")}var OQ=t=>{var e,r,n,i,s,o,l,u,f,h;let{invert:m,toast:p,unstyled:y,interacting:_,setHeights:b,visibleToasts:x,heights:E,index:S,toasts:T,expanded:N,removeToast:C,defaultRichColors:O,closeButton:P,style:R,cancelButtonStyle:M,actionButtonStyle:V,className:$="",descriptionClassName:D="",duration:L,position:B,gap:G,loadingIcon:q,expandByDefault:Y,classNames:z,icons:J,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:H,cn:X}=t,[te,ee]=K.useState(!1),[me,ge]=K.useState(!1),[ue,ve]=K.useState(!1),[de,he]=K.useState(!1),[Ne,le]=K.useState(0),[qe,Re]=K.useState(0),ze=K.useRef(null),at=K.useRef(null),Bt=S===0,Ar=S+1<=x,Ce=p.type,Qe=p.dismissible!==!1,ct=p.className||"",Ut=p.descriptionClassName||"",qt=K.useMemo(()=>E.findIndex(Xe=>Xe.toastId===p.id)||0,[E,p.id]),cn=K.useMemo(()=>{var Xe;return(Xe=p.closeButton)!=null?Xe:P},[p.closeButton,P]),Mn=K.useMemo(()=>p.duration||L||TQ,[p.duration,L]),ut=K.useRef(0),Nt=K.useRef(0),wi=K.useRef(0),_i=K.useRef(null),[Wi,ha]=B.split("-"),Ps=K.useMemo(()=>E.reduce((Xe,Pt,Ct)=>Ct>=qt?Xe:Xe+Pt.height,0),[E,qt]),vo=xQ(),Ql=p.invert||m,ma=Ce==="loading";Nt.current=K.useMemo(()=>qt*G+Ps,[qt,Ps]),K.useEffect(()=>{ee(!0)},[]),K.useLayoutEffect(()=>{if(!te)return;let Xe=at.current,Pt=Xe.style.height;Xe.style.height="auto";let Ct=Xe.getBoundingClientRect().height;Xe.style.height=Pt,Re(Ct),b(ur=>ur.find(wr=>wr.toastId===p.id)?ur.map(wr=>wr.toastId===p.id?{...wr,height:Ct}:wr):[{toastId:p.id,height:Ct,position:p.position},...ur])},[te,p.title,p.description,b,p.id]);let Dn=K.useCallback(()=>{ge(!0),le(Nt.current),b(Xe=>Xe.filter(Pt=>Pt.toastId!==p.id)),setTimeout(()=>{C(p)},IQ)},[p,C,b,Nt]);K.useEffect(()=>{if(p.promise&&Ce==="loading"||p.duration===1/0||p.type==="loading")return;let Xe,Pt=Mn;return N||_||H&&vo?(()=>{if(wi.current<ut.current){let Ct=new Date().getTime()-ut.current;Pt=Pt-Ct}wi.current=new Date().getTime()})():Pt!==1/0&&(ut.current=new Date().getTime(),Xe=setTimeout(()=>{var Ct;(Ct=p.onAutoClose)==null||Ct.call(p,p),Dn()},Pt)),()=>clearTimeout(Xe)},[N,_,Y,p,Mn,Dn,p.promise,Ce,H,vo]),K.useEffect(()=>{let Xe=at.current;if(Xe){let Pt=Xe.getBoundingClientRect().height;return Re(Pt),b(Ct=>[{toastId:p.id,height:Pt,position:p.position},...Ct]),()=>b(Ct=>Ct.filter(ur=>ur.toastId!==p.id))}},[b,p.id]),K.useEffect(()=>{p.delete&&Dn()},[Dn,p.delete]);function Xl(){return J!=null&&J.loading?K.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},J.loading):q?K.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},q):K.createElement(mQ,{visible:Ce==="loading"})}return K.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:at,className:X($,ct,z==null?void 0:z.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[Ce],(r=p==null?void 0:p.classNames)==null?void 0:r[Ce]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:O,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":te,"data-promise":!!p.promise,"data-removed":me,"data-visible":Ar,"data-y-position":Wi,"data-x-position":ha,"data-index":S,"data-front":Bt,"data-swiping":ue,"data-dismissible":Qe,"data-type":Ce,"data-invert":Ql,"data-swipe-out":de,"data-expanded":!!(N||Y&&te),style:{"--index":S,"--toasts-before":S,"--z-index":T.length-S,"--offset":`${me?Ne:Nt.current}px`,"--initial-height":Y?"auto":`${qe}px`,...R,...p.style},onPointerDown:Xe=>{ma||!Qe||(ze.current=new Date,le(Nt.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(ve(!0),_i.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,Pt,Ct,ur;if(de||!Qe)return;_i.current=null;let wr=Number(((Xe=at.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Gi=new Date().getTime()-((Pt=ze.current)==null?void 0:Pt.getTime()),ji=Math.abs(wr)/Gi;if(Math.abs(wr)>=PQ||ji>.11){le(Nt.current),(Ct=p.onDismiss)==null||Ct.call(p,p),Dn(),he(!0);return}(ur=at.current)==null||ur.style.setProperty("--swipe-amount","0px"),ve(!1)},onPointerMove:Xe=>{var Pt;if(!_i.current||!Qe)return;let Ct=Xe.clientY-_i.current.y,ur=Xe.clientX-_i.current.x,wr=(Wi==="top"?Math.min:Math.max)(0,Ct),Gi=Xe.pointerType==="touch"?10:2;Math.abs(wr)>Gi?(Pt=at.current)==null||Pt.style.setProperty("--swipe-amount",`${Ct}px`):Math.abs(ur)>Gi&&(_i.current=null)}},cn&&!p.jsx?K.createElement("button",{"aria-label":re,"data-disabled":ma,"data-close-button":!0,onClick:ma||!Qe?()=>{}:()=>{var Xe;Dn(),(Xe=p.onDismiss)==null||Xe.call(p,p)},className:X(z==null?void 0:z.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||K.isValidElement(p.title)?p.jsx||p.title:K.createElement(K.Fragment,null,Ce||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:X(z==null?void 0:z.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Xl():null,p.type!=="loading"?p.icon||(J==null?void 0:J[Ce])||fQ(Ce):null):null,K.createElement("div",{"data-content":"",className:X(z==null?void 0:z.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:X(z==null?void 0:z.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},p.title),p.description?K.createElement("div",{"data-description":"",className:X(D,Ut,z==null?void 0:z.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},p.description):null),K.isValidElement(p.cancel)?p.cancel:p.cancel&&bv(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||M,onClick:Xe=>{var Pt,Ct;bv(p.cancel)&&Qe&&((Ct=(Pt=p.cancel).onClick)==null||Ct.call(Pt,Xe),Dn())},className:X(z==null?void 0:z.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,K.isValidElement(p.action)?p.action:p.action&&bv(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||V,onClick:Xe=>{var Pt,Ct;bv(p.action)&&(Xe.defaultPrevented||((Ct=(Pt=p.action).onClick)==null||Ct.call(Pt,Xe),Dn()))},className:X(z==null?void 0:z.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function YI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var MQ=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:l,theme:u="light",richColors:f,duration:h,style:m,visibleToasts:p=EQ,toastOptions:y,dir:_=YI(),gap:b=kQ,loadingIcon:x,icons:E,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:T,cn:N=RQ}=t,[C,O]=K.useState([]),P=K.useMemo(()=>Array.from(new Set([r].concat(C.filter(H=>H.position).map(H=>H.position)))),[C,r]),[R,M]=K.useState([]),[V,$]=K.useState(!1),[D,L]=K.useState(!1),[B,G]=K.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=K.useRef(null),Y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=K.useRef(null),J=K.useRef(!1),re=K.useCallback(H=>{var X;(X=C.find(te=>te.id===H.id))!=null&&X.delete||ci.dismiss(H.id),O(te=>te.filter(({id:ee})=>ee!==H.id))},[C]);return K.useEffect(()=>ci.subscribe(H=>{if(H.dismiss){O(X=>X.map(te=>te.id===H.id?{...te,delete:!0}:te));return}setTimeout(()=>{vF.flushSync(()=>{O(X=>{let te=X.findIndex(ee=>ee.id===H.id);return te!==-1?[...X.slice(0,te),{...X[te],...H},...X.slice(te+1)]:[H,...X]})})})}),[]),K.useEffect(()=>{if(u!=="system"){G(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{G(H?"dark":"light")})},[u]),K.useEffect(()=>{C.length<=1&&$(!1)},[C]),K.useEffect(()=>{let H=X=>{var te,ee;n.every(me=>X[me]||X.code===me)&&($(!0),(te=q.current)==null||te.focus()),X.code==="Escape"&&(document.activeElement===q.current||(ee=q.current)!=null&&ee.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[n]),K.useEffect(()=>{if(q.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,J.current=!1)}},[q.current]),C.length?K.createElement("section",{"aria-label":`${S} ${Y}`,tabIndex:-1},P.map((H,X)=>{var te;let[ee,me]=H.split("-");return K.createElement("ol",{key:H,dir:_==="auto"?YI():_,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":ee,"data-x-position":me,style:{"--front-toast-height":`${((te=R[0])==null?void 0:te.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||AQ,"--width":`${CQ}px`,"--gap":`${b}px`,...m},onBlur:ge=>{J.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(J.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||J.current||(J.current=!0,z.current=ge.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{D||$(!1)},onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},C.filter(ge=>!ge.position&&X===0||ge.position===H).map((ge,ue)=>{var ve,de;return K.createElement(OQ,{key:ge.id,icons:E,index:ue,toast:ge,defaultRichColors:f,duration:(ve=y==null?void 0:y.duration)!=null?ve:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:p,closeButton:(de=y==null?void 0:y.closeButton)!=null?de:s,interacting:D,position:H,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:re,toasts:C.filter(he=>he.position==ge.position),heights:R.filter(he=>he.position==ge.position),setHeights:M,expandByDefault:i,gap:b,loadingIcon:x,expanded:V,pauseWhenPageIsHidden:T,cn:N})}))})):null};const DQ=({...t})=>{const{theme:e="system"}=dQ();return a.jsx(MQ,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var LQ=gF.useId||(()=>{}),$Q=0;function xs(t){const[e,r]=j.useState(LQ());return Ur(()=>{r(n=>n??String($Q++))},[t]),e?`radix-${e}`:""}const FQ=["top","right","bottom","left"],_l=Math.min,di=Math.max,hy=Math.round,wv=Math.floor,jl=t=>({x:t,y:t}),VQ={left:"right",right:"left",bottom:"top",top:"bottom"},BQ={start:"end",end:"start"};function XN(t,e,r){return di(t,_l(e,r))}function Qa(t,e){return typeof t=="function"?t(e):t}function Xa(t){return t.split("-")[0]}function Nf(t){return t.split("-")[1]}function yT(t){return t==="x"?"y":"x"}function xT(t){return t==="y"?"height":"width"}function Sl(t){return["top","bottom"].includes(Xa(t))?"y":"x"}function bT(t){return yT(Sl(t))}function UQ(t,e,r){r===void 0&&(r=!1);const n=Nf(t),i=bT(t),s=xT(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=my(o)),[o,my(o)]}function zQ(t){const e=my(t);return[JN(t),e,JN(e)]}function JN(t){return t.replace(/start|end/g,e=>BQ[e])}function qQ(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function HQ(t,e,r,n){const i=Nf(t);let s=qQ(Xa(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(JN)))),s}function my(t){return t.replace(/left|right|bottom|top/g,e=>VQ[e])}function WQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function v6(t){return typeof t!="number"?WQ(t):{top:t,right:t,bottom:t,left:t}}function py(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function QI(t,e,r){let{reference:n,floating:i}=t;const s=Sl(e),o=bT(e),l=xT(o),u=Xa(e),f=s==="y",h=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,p=n[l]/2-i[l]/2;let y;switch(u){case"top":y={x:h,y:n.y-i.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-i.width,y:m};break;default:y={x:n.x,y:n.y}}switch(Nf(e)){case"start":y[o]-=p*(r&&f?-1:1);break;case"end":y[o]+=p*(r&&f?-1:1);break}return y}const GQ=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:m}=QI(f,n,u),p=n,y={},_=0;for(let b=0;b<l.length;b++){const{name:x,fn:E}=l[b],{x:S,y:T,data:N,reset:C}=await E({x:h,y:m,initialPlacement:n,placement:p,strategy:i,middlewareData:y,rects:f,platform:o,elements:{reference:t,floating:e}});h=S??h,m=T??m,y={...y,[x]:{...y[x],...N}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(f=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:h,y:m}=QI(f,p,u)),b=-1)}return{x:h,y:m,placement:p,strategy:i,middlewareData:y}};async function _m(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:y=0}=Qa(e,t),_=v6(y),x=l[p?m==="floating"?"reference":"floating":m],E=py(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:h,strategy:u})),S=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},C=py(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:T,strategy:u}):S);return{top:(E.top-C.top+_.top)/N.y,bottom:(C.bottom-E.bottom+_.bottom)/N.y,left:(E.left-C.left+_.left)/N.x,right:(C.right-E.right+_.right)/N.x}}const KQ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:f,padding:h=0}=Qa(t,e)||{};if(f==null)return{};const m=v6(h),p={x:r,y:n},y=bT(i),_=xT(y),b=await o.getDimensions(f),x=y==="y",E=x?"top":"left",S=x?"bottom":"right",T=x?"clientHeight":"clientWidth",N=s.reference[_]+s.reference[y]-p[y]-s.floating[_],C=p[y]-s.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let P=O?O[T]:0;(!P||!await(o.isElement==null?void 0:o.isElement(O)))&&(P=l.floating[T]||s.floating[_]);const R=N/2-C/2,M=P/2-b[_]/2-1,V=_l(m[E],M),$=_l(m[S],M),D=V,L=P-b[_]-$,B=P/2-b[_]/2+R,G=XN(D,B,L),q=!u.arrow&&Nf(i)!=null&&B!==G&&s.reference[_]/2-(B<D?V:$)-b[_]/2<0,Y=q?B<D?B-D:B-L:0;return{[y]:p[y]+Y,data:{[y]:G,centerOffset:B-G-Y,...q&&{alignmentOffset:Y}},reset:q}}}),YQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...x}=Qa(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=Xa(i),S=Sl(l),T=Xa(l)===l,N=await(u.isRTL==null?void 0:u.isRTL(f.floating)),C=p||(T||!b?[my(l)]:zQ(l)),O=_!=="none";!p&&O&&C.push(...HQ(l,b,_,N));const P=[l,...C],R=await _m(e,x),M=[];let V=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&M.push(R[E]),m){const B=UQ(i,o,N);M.push(R[B[0]],R[B[1]])}if(V=[...V,{placement:i,overflows:M}],!M.every(B=>B<=0)){var $,D;const B=((($=s.flip)==null?void 0:$.index)||0)+1,G=P[B];if(G)return{data:{index:B,overflows:V},reset:{placement:G}};let q=(D=V.filter(Y=>Y.overflows[0]<=0).sort((Y,z)=>Y.overflows[1]-z.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(y){case"bestFit":{var L;const Y=(L=V.filter(z=>{if(O){const J=Sl(z.placement);return J===S||J==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(J=>J>0).reduce((J,re)=>J+re,0)]).sort((z,J)=>z[1]-J[1])[0])==null?void 0:L[0];Y&&(q=Y);break}case"initialPlacement":q=l;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function XI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function JI(t){return FQ.some(e=>t[e]>=0)}const QQ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Qa(t,e);switch(n){case"referenceHidden":{const s=await _m(e,{...i,elementContext:"reference"}),o=XI(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JI(o)}}}case"escaped":{const s=await _m(e,{...i,altBoundary:!0}),o=XI(s,r.floating);return{data:{escapedOffsets:o,escaped:JI(o)}}}default:return{}}}}};async function XQ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Xa(r),l=Nf(r),u=Sl(r)==="y",f=["left","top"].includes(o)?-1:1,h=s&&u?-1:1,m=Qa(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof _=="number"&&(y=l==="end"?_*-1:_),u?{x:y*h,y:p*f}:{x:p*f,y:y*h}}const JQ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await XQ(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},ZQ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:E,y:S}=x;return{x:E,y:S}}},...u}=Qa(t,e),f={x:r,y:n},h=await _m(e,u),m=Sl(Xa(i)),p=yT(m);let y=f[p],_=f[m];if(s){const x=p==="y"?"top":"left",E=p==="y"?"bottom":"right",S=y+h[x],T=y-h[E];y=XN(S,y,T)}if(o){const x=m==="y"?"top":"left",E=m==="y"?"bottom":"right",S=_+h[x],T=_-h[E];_=XN(S,_,T)}const b=l.fn({...e,[p]:y,[m]:_});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[p]:s,[m]:o}}}}}},eX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=Qa(t,e),h={x:r,y:n},m=Sl(i),p=yT(m);let y=h[p],_=h[m];const b=Qa(l,e),x=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const T=p==="y"?"height":"width",N=s.reference[p]-s.floating[T]+x.mainAxis,C=s.reference[p]+s.reference[T]-x.mainAxis;y<N?y=N:y>C&&(y=C)}if(f){var E,S;const T=p==="y"?"width":"height",N=["top","left"].includes(Xa(i)),C=s.reference[m]-s.floating[T]+(N&&((E=o.offset)==null?void 0:E[m])||0)+(N?0:x.crossAxis),O=s.reference[m]+s.reference[T]+(N?0:((S=o.offset)==null?void 0:S[m])||0)-(N?x.crossAxis:0);_<C?_=C:_>O&&(_=O)}return{[p]:y,[m]:_}}}},tX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...f}=Qa(t,e),h=await _m(e,f),m=Xa(i),p=Nf(i),y=Sl(i)==="y",{width:_,height:b}=s.floating;let x,E;m==="top"||m==="bottom"?(x=m,E=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(E=m,x=p==="end"?"top":"bottom");const S=b-h.top-h.bottom,T=_-h.left-h.right,N=_l(b-h[x],S),C=_l(_-h[E],T),O=!e.middlewareData.shift;let P=N,R=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(P=S),O&&!p){const V=di(h.left,0),$=di(h.right,0),D=di(h.top,0),L=di(h.bottom,0);y?R=_-2*(V!==0||$!==0?V+$:di(h.left,h.right)):P=b-2*(D!==0||L!==0?D+L:di(h.top,h.bottom))}await u({...e,availableWidth:R,availableHeight:P});const M=await o.getDimensions(l.floating);return _!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function Qx(){return typeof window<"u"}function Ef(t){return y6(t)?(t.nodeName||"").toLowerCase():"#document"}function pi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ca(t){var e;return(e=(y6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function y6(t){return Qx()?t instanceof Node||t instanceof pi(t).Node:!1}function js(t){return Qx()?t instanceof Element||t instanceof pi(t).Element:!1}function ra(t){return Qx()?t instanceof HTMLElement||t instanceof pi(t).HTMLElement:!1}function ZI(t){return!Qx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pi(t).ShadowRoot}function Cp(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ss(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function rX(t){return["table","td","th"].includes(Ef(t))}function Xx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wT(t){const e=_T(),r=js(t)?Ss(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function nX(t){let e=Nl(t);for(;ra(e)&&!Ud(e);){if(wT(e))return e;if(Xx(e))return null;e=Nl(e)}return null}function _T(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ud(t){return["html","body","#document"].includes(Ef(t))}function Ss(t){return pi(t).getComputedStyle(t)}function Jx(t){return js(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Nl(t){if(Ef(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZI(t)&&t.host||ca(t);return ZI(e)?e.host:e}function x6(t){const e=Nl(t);return Ud(e)?t.ownerDocument?t.ownerDocument.body:t.body:ra(e)&&Cp(e)?e:x6(e)}function jm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=x6(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=pi(i);if(s){const l=ZN(o);return e.concat(o,o.visualViewport||[],Cp(i)?i:[],l&&r?jm(l):[])}return e.concat(i,jm(i,[],r))}function ZN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function b6(t){const e=Ss(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ra(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=hy(r)!==s||hy(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function jT(t){return js(t)?t:t.contextElement}function bd(t){const e=jT(t);if(!ra(e))return jl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=b6(e);let o=(s?hy(r.width):r.width)/n,l=(s?hy(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const iX=jl(0);function w6(t){const e=pi(t);return!_T()||!e.visualViewport?iX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sX(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==pi(t)?!1:e}function Yc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=jT(t);let o=jl(1);e&&(n?js(n)&&(o=bd(n)):o=bd(t));const l=sX(s,r,n)?w6(s):jl(0);let u=(i.left+l.x)/o.x,f=(i.top+l.y)/o.y,h=i.width/o.x,m=i.height/o.y;if(s){const p=pi(s),y=n&&js(n)?pi(n):n;let _=p,b=ZN(_);for(;b&&n&&y!==_;){const x=bd(b),E=b.getBoundingClientRect(),S=Ss(b),T=E.left+(b.clientLeft+parseFloat(S.paddingLeft))*x.x,N=E.top+(b.clientTop+parseFloat(S.paddingTop))*x.y;u*=x.x,f*=x.y,h*=x.x,m*=x.y,u+=T,f+=N,_=pi(b),b=ZN(_)}}return py({width:h,height:m,x:u,y:f})}function aX(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=ca(n),l=e?Xx(e.floating):!1;if(n===o||l&&s)return r;let u={scrollLeft:0,scrollTop:0},f=jl(1);const h=jl(0),m=ra(n);if((m||!m&&!s)&&((Ef(n)!=="body"||Cp(o))&&(u=Jx(n)),ra(n))){const p=Yc(n);f=bd(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+h.x,y:r.y*f.y-u.scrollTop*f.y+h.y}}function oX(t){return Array.from(t.getClientRects())}function eE(t,e){const r=Jx(t).scrollLeft;return e?e.left+r:Yc(ca(t)).left+r}function lX(t){const e=ca(t),r=Jx(t),n=t.ownerDocument.body,i=di(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=di(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+eE(t);const l=-r.scrollTop;return Ss(n).direction==="rtl"&&(o+=di(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function cX(t,e){const r=pi(t),n=ca(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const f=_T();(!f||f&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function uX(t,e){const r=Yc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=ra(t)?bd(t):jl(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,f=n*s.y;return{width:o,height:l,x:u,y:f}}function eR(t,e,r){let n;if(e==="viewport")n=cX(t,r);else if(e==="document")n=lX(ca(t));else if(js(e))n=uX(e,r);else{const i=w6(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return py(n)}function _6(t,e){const r=Nl(t);return r===e||!js(r)||Ud(r)?!1:Ss(r).position==="fixed"||_6(r,e)}function dX(t,e){const r=e.get(t);if(r)return r;let n=jm(t,[],!1).filter(l=>js(l)&&Ef(l)!=="body"),i=null;const s=Ss(t).position==="fixed";let o=s?Nl(t):t;for(;js(o)&&!Ud(o);){const l=Ss(o),u=wT(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cp(o)&&!u&&_6(t,o))?n=n.filter(h=>h!==o):i=l,o=Nl(o)}return e.set(t,n),n}function fX(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Xx(e)?[]:dX(e,this._c):[].concat(r),n],l=o[0],u=o.reduce((f,h)=>{const m=eR(e,h,i);return f.top=di(m.top,f.top),f.right=_l(m.right,f.right),f.bottom=_l(m.bottom,f.bottom),f.left=di(m.left,f.left),f},eR(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function hX(t){const{width:e,height:r}=b6(t);return{width:e,height:r}}function mX(t,e,r){const n=ra(e),i=ca(e),s=r==="fixed",o=Yc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=jl(0);if(n||!n&&!s)if((Ef(e)!=="body"||Cp(i))&&(l=Jx(e)),n){const y=Yc(e,!0,s,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&(u.x=eE(i));let f=0,h=0;if(i&&!n&&!s){const y=i.getBoundingClientRect();h=y.top+l.scrollTop,f=y.left+l.scrollLeft-eE(i,y)}const m=o.left+l.scrollLeft-u.x-f,p=o.top+l.scrollTop-u.y-h;return{x:m,y:p,width:o.width,height:o.height}}function d1(t){return Ss(t).position==="static"}function tR(t,e){if(!ra(t)||Ss(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ca(t)===r&&(r=r.ownerDocument.body),r}function j6(t,e){const r=pi(t);if(Xx(t))return r;if(!ra(t)){let i=Nl(t);for(;i&&!Ud(i);){if(js(i)&&!d1(i))return i;i=Nl(i)}return r}let n=tR(t,e);for(;n&&rX(n)&&d1(n);)n=tR(n,e);return n&&Ud(n)&&d1(n)&&!wT(n)?r:n||nX(t)||r}const pX=async function(t){const e=this.getOffsetParent||j6,r=this.getDimensions,n=await r(t.floating);return{reference:mX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gX(t){return Ss(t).direction==="rtl"}const vX={convertOffsetParentRelativeRectToViewportRelativeRect:aX,getDocumentElement:ca,getClippingRect:fX,getOffsetParent:j6,getElementRects:pX,getClientRects:oX,getDimensions:hX,getScale:bd,isElement:js,isRTL:gX};function yX(t,e){let r=null,n;const i=ca(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:f,top:h,width:m,height:p}=t.getBoundingClientRect();if(l||e(),!m||!p)return;const y=wv(h),_=wv(i.clientWidth-(f+m)),b=wv(i.clientHeight-(h+p)),x=wv(f),S={rootMargin:-y+"px "+-_+"px "+-b+"px "+-x+"px",threshold:di(0,_l(1,u))||1};let T=!0;function N(C){const O=C[0].intersectionRatio;if(O!==u){if(!T)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{r=new IntersectionObserver(N,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,S)}r.observe(t)}return o(!0),s}function xX(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=jT(t),h=i||s?[...f?jm(f):[],...jm(e)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const m=f&&l?yX(f,r):null;let p=-1,y=null;o&&(y=new ResizeObserver(E=>{let[S]=E;S&&S.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),r()}),f&&!u&&y.observe(f),y.observe(e));let _,b=u?Yc(t):null;u&&x();function x(){const E=Yc(t);b&&(E.x!==b.x||E.y!==b.y||E.width!==b.width||E.height!==b.height)&&r(),b=E,_=requestAnimationFrame(x)}return r(),()=>{var E;h.forEach(S=>{i&&S.removeEventListener("scroll",r),s&&S.removeEventListener("resize",r)}),m==null||m(),(E=y)==null||E.disconnect(),y=null,u&&cancelAnimationFrame(_)}}const bX=JQ,wX=ZQ,_X=YQ,jX=tX,SX=QQ,rR=KQ,NX=eX,EX=(t,e,r)=>{const n=new Map,i={platform:vX,...r},s={...i.platform,_c:n};return GQ(t,e,{...i,platform:s})};var Yv=typeof document<"u"?j.useLayoutEffect:j.useEffect;function gy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gy(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!gy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function S6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nR(t,e){const r=S6(t);return Math.round(e*r)/r}function f1(t){const e=j.useRef(t);return Yv(()=>{e.current=t}),e}function AX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:f}=t,[h,m]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=j.useState(n);gy(p,n)||y(n);const[_,b]=j.useState(null),[x,E]=j.useState(null),S=j.useCallback(z=>{z!==O.current&&(O.current=z,b(z))},[]),T=j.useCallback(z=>{z!==P.current&&(P.current=z,E(z))},[]),N=s||_,C=o||x,O=j.useRef(null),P=j.useRef(null),R=j.useRef(h),M=u!=null,V=f1(u),$=f1(i),D=f1(f),L=j.useCallback(()=>{if(!O.current||!P.current)return;const z={placement:e,strategy:r,middleware:p};$.current&&(z.platform=$.current),EX(O.current,P.current,z).then(J=>{const re={...J,isPositioned:D.current!==!1};B.current&&!gy(R.current,re)&&(R.current=re,jf.flushSync(()=>{m(re)}))})},[p,e,r,$,D]);Yv(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[f]);const B=j.useRef(!1);Yv(()=>(B.current=!0,()=>{B.current=!1}),[]),Yv(()=>{if(N&&(O.current=N),C&&(P.current=C),N&&C){if(V.current)return V.current(N,C,L);L()}},[N,C,L,V,M]);const G=j.useMemo(()=>({reference:O,floating:P,setReference:S,setFloating:T}),[S,T]),q=j.useMemo(()=>({reference:N,floating:C}),[N,C]),Y=j.useMemo(()=>{const z={position:r,left:0,top:0};if(!q.floating)return z;const J=nR(q.floating,h.x),re=nR(q.floating,h.y);return l?{...z,transform:"translate("+J+"px, "+re+"px)",...S6(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:re}},[r,l,q.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:L,refs:G,elements:q,floatingStyles:Y}),[h,L,G,q,Y])}const TX=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?rR({element:n.current,padding:i}).fn(r):{}:n?rR({element:n,padding:i}).fn(r):{}}}},CX=(t,e)=>({...bX(t),options:[t,e]}),kX=(t,e)=>({...wX(t),options:[t,e]}),PX=(t,e)=>({...NX(t),options:[t,e]}),IX=(t,e)=>({..._X(t),options:[t,e]}),RX=(t,e)=>({...jX(t),options:[t,e]}),OX=(t,e)=>({...SX(t),options:[t,e]}),MX=(t,e)=>({...TX(t),options:[t,e]});var DX="Arrow",N6=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(Ve.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});N6.displayName=DX;var LX=N6;function $X(t,e=[]){let r=[];function n(s,o){const l=j.createContext(o),u=r.length;r=[...r,o];function f(m){const{scope:p,children:y,..._}=m,b=(p==null?void 0:p[t][u])||l,x=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:x,children:y})}function h(m,p){const y=(p==null?void 0:p[t][u])||l,_=j.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,h]}const i=()=>{const s=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,FX(i,...e)]}function FX(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function kp(t){const[e,r]=j.useState(void 0);return Ur(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,l=f.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var ST="Popper",[E6,Zx]=$X(ST),[VX,A6]=E6(ST),T6=t=>{const{__scopePopper:e,children:r}=t,[n,i]=j.useState(null);return a.jsx(VX,{scope:e,anchor:n,onAnchorChange:i,children:r})};T6.displayName=ST;var C6="PopperAnchor",k6=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=A6(C6,r),o=j.useRef(null),l=yt(e,o);return j.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Ve.div,{...i,ref:l})});k6.displayName=C6;var NT="PopperContent",[BX,UX]=E6(NT),P6=j.forwardRef((t,e)=>{var ue,ve,de,he,Ne,le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:_,...b}=t,x=A6(NT,r),[E,S]=j.useState(null),T=yt(e,qe=>S(qe)),[N,C]=j.useState(null),O=kp(N),P=(O==null?void 0:O.width)??0,R=(O==null?void 0:O.height)??0,M=n+(s!=="center"?"-"+s:""),V=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(f)?f:[f],D=$.length>0,L={padding:V,boundary:$.filter(qX),altBoundary:D},{refs:B,floatingStyles:G,placement:q,isPositioned:Y,middlewareData:z}=AX({strategy:"fixed",placement:M,whileElementsMounted:(...qe)=>xX(...qe,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[CX({mainAxis:i+R,alignmentAxis:o}),u&&kX({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?PX():void 0,...L}),u&&IX({...L}),RX({...L,apply:({elements:qe,rects:Re,availableWidth:ze,availableHeight:at})=>{const{width:Bt,height:Ar}=Re.reference,Ce=qe.floating.style;Ce.setProperty("--radix-popper-available-width",`${ze}px`),Ce.setProperty("--radix-popper-available-height",`${at}px`),Ce.setProperty("--radix-popper-anchor-width",`${Bt}px`),Ce.setProperty("--radix-popper-anchor-height",`${Ar}px`)}}),N&&MX({element:N,padding:l}),HX({arrowWidth:P,arrowHeight:R}),p&&OX({strategy:"referenceHidden",...L})]}),[J,re]=O6(q),H=On(_);Ur(()=>{Y&&(H==null||H())},[Y,H]);const X=(ue=z.arrow)==null?void 0:ue.x,te=(ve=z.arrow)==null?void 0:ve.y,ee=((de=z.arrow)==null?void 0:de.centerOffset)!==0,[me,ge]=j.useState();return Ur(()=>{E&&ge(window.getComputedStyle(E).zIndex)},[E]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Y?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(he=z.transformOrigin)==null?void 0:he.x,(Ne=z.transformOrigin)==null?void 0:Ne.y].join(" "),...((le=z.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(BX,{scope:r,placedSide:J,onArrowChange:C,arrowX:X,arrowY:te,shouldHideArrow:ee,children:a.jsx(Ve.div,{"data-side":J,"data-align":re,...b,ref:T,style:{...b.style,animation:Y?void 0:"none"}})})})});P6.displayName=NT;var I6="PopperArrow",zX={top:"bottom",right:"left",bottom:"top",left:"right"},R6=j.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=UX(I6,n),o=zX[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(LX,{...i,ref:r,style:{...i.style,display:"block"}})})});R6.displayName=I6;function qX(t){return t!==null}var HX=t=>({name:"transformOrigin",options:t,fn(e){var x,E,S;const{placement:r,rects:n,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,h]=O6(r),m={start:"0%",center:"50%",end:"100%"}[h],p=(((E=i.arrow)==null?void 0:E.x)??0)+l/2,y=(((S=i.arrow)==null?void 0:S.y)??0)+u/2;let _="",b="";return f==="bottom"?(_=o?m:`${p}px`,b=`${-u}px`):f==="top"?(_=o?m:`${p}px`,b=`${n.floating.height+u}px`):f==="right"?(_=`${-u}px`,b=o?m:`${y}px`):f==="left"&&(_=`${n.floating.width+u}px`,b=o?m:`${y}px`),{data:{x:_,y:b}}}});function O6(t){const[e,r="center"]=t.split("-");return[e,r]}var M6=T6,D6=k6,L6=P6,$6=R6,[eb,YAe]=bi("Tooltip",[Zx]),tb=Zx(),F6="TooltipProvider",WX=700,tE="tooltip.open",[GX,ET]=eb(F6),V6=t=>{const{__scopeTooltip:e,delayDuration:r=WX,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,[o,l]=j.useState(!0),u=j.useRef(!1),f=j.useRef(0);return j.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),a.jsx(GX,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(f.current),l(!1)},[]),onClose:j.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:j.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:s})};V6.displayName=F6;var rb="Tooltip",[KX,nb]=eb(rb),B6=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,u=ET(rb,t.__scopeTooltip),f=tb(e),[h,m]=j.useState(null),p=xs(),y=j.useRef(0),_=o??u.disableHoverableContent,b=l??u.delayDuration,x=j.useRef(!1),[E=!1,S]=Qn({prop:n,defaultProp:i,onChange:P=>{P?(u.onOpen(),document.dispatchEvent(new CustomEvent(tE))):u.onClose(),s==null||s(P)}}),T=j.useMemo(()=>E?x.current?"delayed-open":"instant-open":"closed",[E]),N=j.useCallback(()=>{window.clearTimeout(y.current),y.current=0,x.current=!1,S(!0)},[S]),C=j.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S(!1)},[S]),O=j.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{x.current=!0,S(!0),y.current=0},b)},[b,S]);return j.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),a.jsx(M6,{...f,children:a.jsx(KX,{scope:e,contentId:p,open:E,stateAttribute:T,trigger:h,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{u.isOpenDelayed?O():N()},[u.isOpenDelayed,O,N]),onTriggerLeave:j.useCallback(()=>{_?C():(window.clearTimeout(y.current),y.current=0)},[C,_]),onOpen:N,onClose:C,disableHoverableContent:_,children:r})})};B6.displayName=rb;var rE="TooltipTrigger",U6=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=nb(rE,r),s=ET(rE,r),o=tb(r),l=j.useRef(null),u=yt(e,l,i.onTriggerChange),f=j.useRef(!1),h=j.useRef(!1),m=j.useCallback(()=>f.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(D6,{asChild:!0,...o,children:a.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:$e(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:$e(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:$e(t.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:$e(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:$e(t.onBlur,i.onClose),onClick:$e(t.onClick,i.onClose)})})});U6.displayName=rE;var YX="TooltipPortal",[QAe,QX]=eb(YX,{forceMount:void 0}),zd="TooltipContent",z6=j.forwardRef((t,e)=>{const r=QX(zd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=nb(zd,t.__scopeTooltip);return a.jsx(la,{present:n||o.open,children:o.disableHoverableContent?a.jsx(q6,{side:i,...s,ref:e}):a.jsx(XX,{side:i,...s,ref:e})})}),XX=j.forwardRef((t,e)=>{const r=nb(zd,t.__scopeTooltip),n=ET(zd,t.__scopeTooltip),i=j.useRef(null),s=yt(e,i),[o,l]=j.useState(null),{trigger:u,onClose:f}=r,h=i.current,{onPointerInTransitChange:m}=n,p=j.useCallback(()=>{l(null),m(!1)},[m]),y=j.useCallback((_,b)=>{const x=_.currentTarget,E={x:_.clientX,y:_.clientY},S=tJ(E,x.getBoundingClientRect()),T=rJ(E,S),N=nJ(b.getBoundingClientRect()),C=sJ([...T,...N]);l(C),m(!0)},[m]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(u&&h){const _=x=>y(x,h),b=x=>y(x,u);return u.addEventListener("pointerleave",_),h.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",b)}}},[u,h,y,p]),j.useEffect(()=>{if(o){const _=b=>{const x=b.target,E={x:b.clientX,y:b.clientY},S=(u==null?void 0:u.contains(x))||(h==null?void 0:h.contains(x)),T=!iJ(E,o);S?p():T&&(p(),f())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,h,o,f,p]),a.jsx(q6,{...t,ref:s})}),[JX,ZX]=eb(rb,{isInside:!1}),q6=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,u=nb(zd,r),f=tb(r),{onClose:h}=u;return j.useEffect(()=>(document.addEventListener(tE,h),()=>document.removeEventListener(tE,h)),[h]),j.useEffect(()=>{if(u.trigger){const m=p=>{const y=p.target;y!=null&&y.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),a.jsx(Ap,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:a.jsxs(L6,{"data-state":u.stateAttribute,...f,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(xF,{children:n}),a.jsx(JX,{scope:r,isInside:!0,children:a.jsx(TK,{id:u.contentId,role:"tooltip",children:i||n})})]})})});z6.displayName=zd;var H6="TooltipArrow",eJ=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=tb(r);return ZX(H6,r).isInside?null:a.jsx($6,{...i,...n,ref:e})});eJ.displayName=H6;function tJ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function rJ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function nJ(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function iJ(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,u=e[s].y,f=e[o].x,h=e[o].y;u>n!=h>n&&r<(f-l)*(n-u)/(h-u)+l&&(i=!i)}return i}function sJ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),aJ(e)}function aJ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var oJ=V6,lJ=B6,cJ=U6,W6=z6;const AT=oJ,G6=lJ,K6=cJ,TT=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(W6,{ref:n,sideOffset:e,className:Ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));TT.displayName=W6.displayName;const uJ=Kx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?Gc:"button";return a.jsx(o,{className:Ye(uJ({variant:e,size:r,className:t})),ref:s,...i})});ie.displayName="Button";const Me=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Me.displayName="Card";const bt=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("flex flex-col space-y-1.5 p-6",t),...e}));bt.displayName="CardHeader";const wt=j.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:Ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));wt.displayName="CardTitle";const Sm=j.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));Sm.displayName="CardDescription";const it=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("p-6 pt-0",t),...e}));it.displayName="CardContent";const El=j.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("flex items-center p-6 pt-0",t),...e}));El.displayName="CardFooter";class dJ extends j.Component{constructor(){super(...arguments);rn(this,"state",{hasError:!1,error:null,errorInfo:null});rn(this,"handleReload",()=>{window.location.reload()});rn(this,"handleGoHome",()=>{window.location.href="/SafeBite-V1/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(Me,{className:"w-full max-w-md border-safebite-teal/50 bg-safebite-card-bg",children:[a.jsx(bt,{children:a.jsx(wt,{className:"text-safebite-text text-xl",children:"Something went wrong"})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"We're sorry, but an error occurred while loading the application."}),this.state.error&&a.jsx("div",{className:"bg-safebite-card-bg-alt p-3 rounded-md overflow-auto max-h-40",children:a.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error.toString()})})]})}),a.jsxs(El,{className:"flex justify-between",children:[a.jsx(ie,{variant:"outline",onClick:this.handleGoHome,children:"Go to Home"}),a.jsx(ie,{onClick:this.handleReload,children:"Reload Page"})]})]})}):this.props.children}}var ib=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sb=typeof window>"u"||"Deno"in globalThis;function fs(){}function fJ(t,e){return typeof t=="function"?t(e):t}function hJ(t){return typeof t=="number"&&t>=0&&t!==1/0}function mJ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function iR(t,e){return typeof t=="function"?t(e):t}function pJ(t,e){return typeof t=="function"?t(e):t}function sR(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==CT(o,e.options))return!1}else if(!Em(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function aR(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Nm(e.options.mutationKey)!==Nm(s))return!1}else if(!Em(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function CT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Nm)(t)}function Nm(t){return JSON.stringify(t,(e,r)=>nE(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Em(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Em(t[r],e[r])):!1}function Y6(t,e){if(t===e)return t;const r=oR(t)&&oR(e);if(r||nE(t)&&nE(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,l=r?[]:{};let u=0;for(let f=0;f<o;f++){const h=r?f:s[f];(!r&&n.includes(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=Y6(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function oR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nE(t){if(!lR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!lR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lR(t){return Object.prototype.toString.call(t)==="[object Object]"}function gJ(t){return new Promise(e=>{setTimeout(e,t)})}function vJ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Y6(t,e):e}function yJ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function xJ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var kT=Symbol();function Q6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Lc,tl,Id,oF,bJ=(oF=class extends ib{constructor(){super();Dt(this,Lc);Dt(this,tl);Dt(this,Id);dt(this,Id,e=>{if(!sb&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){be(this,tl)||this.setEventListener(be(this,Id))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,tl))==null||e.call(this),dt(this,tl,void 0))}setEventListener(e){var r;dt(this,Id,e),(r=be(this,tl))==null||r.call(this),dt(this,tl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){be(this,Lc)!==e&&(dt(this,Lc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof be(this,Lc)=="boolean"?be(this,Lc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Lc=new WeakMap,tl=new WeakMap,Id=new WeakMap,oF),X6=new bJ,Rd,rl,Od,lF,wJ=(lF=class extends ib{constructor(){super();Dt(this,Rd,!0);Dt(this,rl);Dt(this,Od);dt(this,Od,e=>{if(!sb&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){be(this,rl)||this.setEventListener(be(this,Od))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,rl))==null||e.call(this),dt(this,rl,void 0))}setEventListener(e){var r;dt(this,Od,e),(r=be(this,rl))==null||r.call(this),dt(this,rl,e(this.setOnline.bind(this)))}setOnline(e){be(this,Rd)!==e&&(dt(this,Rd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return be(this,Rd)}},Rd=new WeakMap,rl=new WeakMap,Od=new WeakMap,lF),vy=new wJ;function _J(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function jJ(t){return Math.min(1e3*2**t,3e4)}function J6(t){return(t??"online")==="online"?vy.isOnline():!0}var Z6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function h1(t){return t instanceof Z6}function eV(t){let e=!1,r=0,n=!1,i;const s=_J(),o=b=>{var x;n||(p(new Z6(b)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},u=()=>{e=!1},f=()=>X6.isFocused()&&(t.networkMode==="always"||vy.isOnline())&&t.canRun(),h=()=>J6(t.networkMode)&&t.canRun(),m=b=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,b),i==null||i(),s.resolve(b))},p=b=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,b),i==null||i(),s.reject(b))},y=()=>new Promise(b=>{var x;i=E=>{(n||f())&&b(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var b;i=void 0,n||(b=t.onContinue)==null||b.call(t)}),_=()=>{if(n)return;let b;const x=r===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(E){b=Promise.reject(E)}Promise.resolve(b).then(m).catch(E=>{var O;if(n)return;const S=t.retry??(sb?0:3),T=t.retryDelay??jJ,N=typeof T=="function"?T(r,E):T,C=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,E);if(e||!C){p(E);return}r++,(O=t.onFail)==null||O.call(t,r,E),gJ(N).then(()=>f()?void 0:y()).then(()=>{e?p(E):_()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?_():y().then(_),s)}}function SJ(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Pn=SJ(),$c,cF,tV=(cF=class{constructor(){Dt(this,$c)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hJ(this.gcTime)&&dt(this,$c,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sb?1/0:5*60*1e3))}clearGcTimeout(){be(this,$c)&&(clearTimeout(be(this,$c)),dt(this,$c,void 0))}},$c=new WeakMap,cF),Md,Dd,Mi,gn,Sp,Fc,hs,Ia,uF,NJ=(uF=class extends tV{constructor(r){super();Dt(this,hs);Dt(this,Md);Dt(this,Dd);Dt(this,Mi);Dt(this,gn);Dt(this,Sp);Dt(this,Fc);dt(this,Fc,!1),dt(this,Sp,r.defaultOptions),this.setOptions(r.options),this.observers=[],dt(this,Mi,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,dt(this,Md,AJ(this.options)),this.state=r.state??be(this,Md),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=be(this,gn))==null?void 0:r.promise}setOptions(r){this.options={...be(this,Sp),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,Mi).remove(this)}setData(r,n){const i=vJ(this.state.data,r,this.options);return mn(this,hs,Ia).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){mn(this,hs,Ia).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,s;const n=(i=be(this,gn))==null?void 0:i.promise;return(s=be(this,gn))==null||s.cancel(r),n?n.then(fs).catch(fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,Md))}isActive(){return this.observers.some(r=>pJ(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!mJ(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=be(this,gn))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=be(this,gn))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),be(this,Mi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(be(this,gn)&&(be(this,Fc)?be(this,gn).cancel({revert:!0}):be(this,gn).cancelRetry()),this.scheduleGc()),be(this,Mi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mn(this,hs,Ia).call(this,{type:"invalidate"})}fetch(r,n){var f,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(be(this,gn))return be(this,gn).continueRetry(),be(this,gn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(dt(this,Fc,!0),i.signal)})},o=()=>{const p=Q6(this.options,n),y={queryKey:this.queryKey,meta:this.meta};return s(y),dt(this,Fc,!1),this.options.persister?this.options.persister(p,y,this):p(y)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(f=this.options.behavior)==null||f.onFetch(l,this),dt(this,Dd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&mn(this,hs,Ia).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=p=>{var y,_,b,x;h1(p)&&p.silent||mn(this,hs,Ia).call(this,{type:"error",error:p}),h1(p)||((_=(y=be(this,Mi).config).onError)==null||_.call(y,p,this),(x=(b=be(this,Mi).config).onSettled)==null||x.call(b,this.state.data,p,this)),this.scheduleGc()};return dt(this,gn,eV({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var y,_,b,x;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){u(E);return}(_=(y=be(this,Mi).config).onSuccess)==null||_.call(y,p,this),(x=(b=be(this,Mi).config).onSettled)==null||x.call(b,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,y)=>{mn(this,hs,Ia).call(this,{type:"failed",failureCount:p,error:y})},onPause:()=>{mn(this,hs,Ia).call(this,{type:"pause"})},onContinue:()=>{mn(this,hs,Ia).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),be(this,gn).start()}},Md=new WeakMap,Dd=new WeakMap,Mi=new WeakMap,gn=new WeakMap,Sp=new WeakMap,Fc=new WeakMap,hs=new WeakSet,Ia=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...EJ(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return h1(s)&&s.revert&&be(this,Dd)?{...be(this,Dd),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Pn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),be(this,Mi).notify({query:this,type:"updated",action:r})})},uF);function EJ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AJ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hs,dF,TJ=(dF=class extends ib{constructor(e={}){super();Dt(this,Hs);this.config=e,dt(this,Hs,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??CT(i,r);let o=this.get(s);return o||(o=new NJ({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){be(this,Hs).has(e.queryHash)||(be(this,Hs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=be(this,Hs).get(e.queryHash);r&&(e.destroy(),r===e&&be(this,Hs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return be(this,Hs).get(e)}getAll(){return[...be(this,Hs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>sR(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>sR(e,n)):r}notify(e){Pn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Pn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hs=new WeakMap,dF),Ws,kn,Vc,Gs,Ho,fF,CJ=(fF=class extends tV{constructor(r){super();Dt(this,Gs);Dt(this,Ws);Dt(this,kn);Dt(this,Vc);this.mutationId=r.mutationId,dt(this,kn,r.mutationCache),dt(this,Ws,[]),this.state=r.state||kJ(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){be(this,Ws).includes(r)||(be(this,Ws).push(r),this.clearGcTimeout(),be(this,kn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){dt(this,Ws,be(this,Ws).filter(n=>n!==r)),this.scheduleGc(),be(this,kn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){be(this,Ws).length||(this.state.status==="pending"?this.scheduleGc():be(this,kn).remove(this))}continue(){var r;return((r=be(this,Vc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,l,u,f,h,m,p,y,_,b,x,E,S,T,N,C,O,P,R;dt(this,Vc,eV({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(M,V)=>{mn(this,Gs,Ho).call(this,{type:"failed",failureCount:M,error:V})},onPause:()=>{mn(this,Gs,Ho).call(this,{type:"pause"})},onContinue:()=>{mn(this,Gs,Ho).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,kn).canRun(this)}));const n=this.state.status==="pending",i=!be(this,Vc).canStart();try{if(!n){mn(this,Gs,Ho).call(this,{type:"pending",variables:r,isPaused:i}),await((o=(s=be(this,kn).config).onMutate)==null?void 0:o.call(s,r,this));const V=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,r));V!==this.state.context&&mn(this,Gs,Ho).call(this,{type:"pending",context:V,variables:r,isPaused:i})}const M=await be(this,Vc).start();return await((h=(f=be(this,kn).config).onSuccess)==null?void 0:h.call(f,M,r,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,M,r,this.state.context)),await((_=(y=be(this,kn).config).onSettled)==null?void 0:_.call(y,M,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,M,null,r,this.state.context)),mn(this,Gs,Ho).call(this,{type:"success",data:M}),M}catch(M){try{throw await((S=(E=be(this,kn).config).onError)==null?void 0:S.call(E,M,r,this.state.context,this)),await((N=(T=this.options).onError)==null?void 0:N.call(T,M,r,this.state.context)),await((O=(C=be(this,kn).config).onSettled)==null?void 0:O.call(C,void 0,M,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,M,r,this.state.context)),M}finally{mn(this,Gs,Ho).call(this,{type:"error",error:M})}}finally{be(this,kn).runNext(this)}}},Ws=new WeakMap,kn=new WeakMap,Vc=new WeakMap,Gs=new WeakSet,Ho=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pn.batch(()=>{be(this,Ws).forEach(i=>{i.onMutationUpdate(r)}),be(this,kn).notify({mutation:this,type:"updated",action:r})})},fF);function kJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var li,Np,hF,PJ=(hF=class extends ib{constructor(e={}){super();Dt(this,li);Dt(this,Np);this.config=e,dt(this,li,new Map),dt(this,Np,Date.now())}build(e,r,n){const i=new CJ({mutationCache:this,mutationId:++mv(this,Np)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=_v(e),n=be(this,li).get(r)??[];n.push(e),be(this,li).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=_v(e);if(be(this,li).has(r)){const i=(n=be(this,li).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?be(this,li).delete(r):be(this,li).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=be(this,li).get(_v(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=be(this,li).get(_v(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...be(this,li).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>aR(r,n))}findAll(e={}){return this.getAll().filter(r=>aR(e,r))}notify(e){Pn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Pn.batch(()=>Promise.all(e.map(r=>r.continue().catch(fs))))}},li=new WeakMap,Np=new WeakMap,hF);function _v(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function cR(t){return{onFetch:(e,r)=>{var h,m,p,y,_;const n=e.options,i=(p=(m=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let b=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},E=Q6(e.options,e.fetchOptions),S=async(T,N,C)=>{if(b)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const O={queryKey:e.queryKey,pageParam:N,direction:C?"backward":"forward",meta:e.options.meta};x(O);const P=await E(O),{maxPages:R}=e.options,M=C?xJ:yJ;return{pages:M(T.pages,P,R),pageParams:M(T.pageParams,N,R)}};if(i&&s.length){const T=i==="backward",N=T?IJ:uR,C={pages:s,pageParams:o},O=N(n,C);l=await S(C,O,T)}else{const T=t??s.length;do{const N=u===0?o[0]??n.initialPageParam:uR(n,l);if(u>0&&N==null)break;l=await S(l,N),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>{var b,x;return(x=(b=e.options).persister)==null?void 0:x.call(b,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=f}}}function uR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function IJ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var yr,nl,il,Ld,$d,sl,Fd,Vd,mF,RJ=(mF=class{constructor(t={}){Dt(this,yr);Dt(this,nl);Dt(this,il);Dt(this,Ld);Dt(this,$d);Dt(this,sl);Dt(this,Fd);Dt(this,Vd);dt(this,yr,t.queryCache||new TJ),dt(this,nl,t.mutationCache||new PJ),dt(this,il,t.defaultOptions||{}),dt(this,Ld,new Map),dt(this,$d,new Map),dt(this,sl,0)}mount(){mv(this,sl)._++,be(this,sl)===1&&(dt(this,Fd,X6.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,yr).onFocus())})),dt(this,Vd,vy.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,yr).onOnline())})))}unmount(){var t,e;mv(this,sl)._--,be(this,sl)===0&&((t=be(this,Fd))==null||t.call(this),dt(this,Fd,void 0),(e=be(this,Vd))==null||e.call(this),dt(this,Vd,void 0))}isFetching(t){return be(this,yr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return be(this,nl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=be(this,yr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=be(this,yr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(iR(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return be(this,yr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=be(this,yr).get(n.queryHash),s=i==null?void 0:i.state.data,o=fJ(e,s);if(o!==void 0)return be(this,yr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Pn.batch(()=>be(this,yr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=be(this,yr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=be(this,yr);Pn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=be(this,yr),n={type:"active",...t};return Pn.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Pn.batch(()=>be(this,yr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(fs).catch(fs)}invalidateQueries(t={},e={}){return Pn.batch(()=>{if(be(this,yr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Pn.batch(()=>be(this,yr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(fs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(fs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=be(this,yr).build(this,e);return r.isStaleByTime(iR(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fs).catch(fs)}fetchInfiniteQuery(t){return t.behavior=cR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fs).catch(fs)}ensureInfiniteQueryData(t){return t.behavior=cR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vy.isOnline()?be(this,nl).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,yr)}getMutationCache(){return be(this,nl)}getDefaultOptions(){return be(this,il)}setDefaultOptions(t){dt(this,il,t)}setQueryDefaults(t,e){be(this,Ld).set(Nm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...be(this,Ld).values()];let r={};return e.forEach(n=>{Em(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){be(this,$d).set(Nm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...be(this,$d).values()];let r={};return e.forEach(n=>{Em(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...be(this,il).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=CT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===kT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...be(this,il).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){be(this,yr).clear(),be(this,nl).clear()}},yr=new WeakMap,nl=new WeakMap,il=new WeakMap,Ld=new WeakMap,$d=new WeakMap,sl=new WeakMap,Fd=new WeakMap,Vd=new WeakMap,mF),OJ=j.createContext(void 0),MJ=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(OJ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Am.apply(this,arguments)}var ll;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ll||(ll={}));const dR="popstate";function DJ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return iE("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:yy(i)}return $J(e,r,null,t)}function mr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rV(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LJ(){return Math.random().toString(36).substr(2,8)}function fR(t,e){return{usr:t.state,key:t.key,idx:e}}function iE(t,e,r,n){return r===void 0&&(r=null),Am({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Af(e):e,{state:r,key:e&&e.key||n||LJ()})}function yy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Af(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function $J(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=ll.Pop,u=null,f=h();f==null&&(f=0,o.replaceState(Am({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=ll.Pop;let x=h(),E=x==null?null:x-f;f=x,u&&u({action:l,location:b.location,delta:E})}function p(x,E){l=ll.Push;let S=iE(b.location,x,E);f=h()+1;let T=fR(S,f),N=b.createHref(S);try{o.pushState(T,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(N)}s&&u&&u({action:l,location:b.location,delta:1})}function y(x,E){l=ll.Replace;let S=iE(b.location,x,E);f=h();let T=fR(S,f),N=b.createHref(S);o.replaceState(T,"",N),s&&u&&u({action:l,location:b.location,delta:0})}function _(x){let E=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:yy(x);return S=S.replace(/ $/,"%20"),mr(E,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,E)}let b={get action(){return l},get location(){return t(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(dR,m),u=x,()=>{i.removeEventListener(dR,m),u=null}},createHref(x){return e(i,x)},createURL:_,encodeLocation(x){let E=_(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:y,go(x){return o.go(x)}};return b}var hR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hR||(hR={}));function FJ(t,e,r){return r===void 0&&(r="/"),VJ(t,e,r)}function VJ(t,e,r,n){let i=typeof e=="string"?Af(e):e,s=qd(i.pathname||"/",r);if(s==null)return null;let o=nV(t);BJ(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=JJ(s);l=QJ(o[u],f)}return l}function nV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(mr(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=fl([n,u.relativePath]),h=r.concat(u);s.children&&s.children.length>0&&(mr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),nV(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:KJ(f,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of iV(s.path))i(s,o,u)}),e}function iV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=iV(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function BJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:YJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UJ=/^:[\w-]+$/,zJ=3,qJ=2,HJ=1,WJ=10,GJ=-2,mR=t=>t==="*";function KJ(t,e){let r=t.split("/"),n=r.length;return r.some(mR)&&(n+=GJ),e&&(n+=qJ),r.filter(i=>!mR(i)).reduce((i,s)=>i+(UJ.test(s)?zJ:s===""?HJ:WJ),n)}function YJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function QJ(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=sE({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),p=u.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:fl([s,m.pathname]),pathnameBase:rZ(fl([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=fl([s,m.pathnameBase]))}return o}function sE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=XJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,h,m)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let b=l[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const _=l[m];return y&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:t}}function XJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),rV(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function JJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rV(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ZJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Af(t):t;return{pathname:r?r.startsWith("/")?r:eZ(r,e):e,search:nZ(n),hash:iZ(i)}}function eZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function m1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function PT(t,e){let r=tZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Af(t):(i=Am({},t),mr(!i.pathname||!i.pathname.includes("?"),m1("?","pathname","search",i)),mr(!i.pathname||!i.pathname.includes("#"),m1("#","pathname","hash",i)),mr(!i.search||!i.search.includes("#"),m1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?e[m]:"/"}let u=ZJ(i,l),f=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const fl=t=>t.join("/").replace(/\/\/+/g,"/"),rZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sV=["post","put","patch","delete"];new Set(sV);const aZ=["get",...sV];new Set(aZ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}const ab=j.createContext(null),aV=j.createContext(null),co=j.createContext(null),ob=j.createContext(null),Ol=j.createContext({outlet:null,matches:[],isDataRoute:!1}),oV=j.createContext(null);function oZ(t,e){let{relative:r}=e===void 0?{}:e;Tf()||mr(!1);let{basename:n,navigator:i}=j.useContext(co),{hash:s,pathname:o,search:l}=lb(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:fl([n,o])),i.createHref({pathname:u,search:l,hash:s})}function Tf(){return j.useContext(ob)!=null}function Ml(){return Tf()||mr(!1),j.useContext(ob).location}function lV(t){j.useContext(co).static||j.useLayoutEffect(t)}function gr(){let{isDataRoute:t}=j.useContext(Ol);return t?bZ():lZ()}function lZ(){Tf()||mr(!1);let t=j.useContext(ab),{basename:e,future:r,navigator:n}=j.useContext(co),{matches:i}=j.useContext(Ol),{pathname:s}=Ml(),o=JSON.stringify(PT(i,r.v7_relativeSplatPath)),l=j.useRef(!1);return lV(()=>{l.current=!0}),j.useCallback(function(f,h){if(h===void 0&&(h={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=IT(f,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:fl([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,s,t])}function lb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(co),{matches:i}=j.useContext(Ol),{pathname:s}=Ml(),o=JSON.stringify(PT(i,n.v7_relativeSplatPath));return j.useMemo(()=>IT(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function cZ(t,e){return uZ(t,e)}function uZ(t,e,r,n){Tf()||mr(!1);let{navigator:i}=j.useContext(co),{matches:s}=j.useContext(Ol),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=Ml(),h;if(e){var m;let x=typeof e=="string"?Af(e):e;u==="/"||(m=x.pathname)!=null&&m.startsWith(u)||mr(!1),h=x}else h=f;let p=h.pathname||"/",y=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=FJ(t,{pathname:y}),b=pZ(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:fl([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:fl([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&b?j.createElement(ob.Provider,{value:{location:Tm({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ll.Pop}},b):b}function dZ(){let t=xZ(),e=sZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const fZ=j.createElement(dZ,null);class hZ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Ol.Provider,{value:this.props.routeContext},j.createElement(oV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mZ(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(ab);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ol.Provider,{value:e},n)}function pZ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||mr(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:p,errors:y}=r,_=m.route.loader&&p[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,p)=>{let y,_=!1,b=null,x=null;r&&(y=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||fZ,u&&(f<0&&p===0?(wZ("route-fallback"),_=!0,x=null):f===p&&(_=!0,x=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),S=()=>{let T;return y?T=b:_?T=x:m.route.Component?T=j.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,j.createElement(mZ,{match:m,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:T})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?j.createElement(hZ,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}var cV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cV||{}),uV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uV||{});function gZ(t){let e=j.useContext(ab);return e||mr(!1),e}function vZ(t){let e=j.useContext(aV);return e||mr(!1),e}function yZ(t){let e=j.useContext(Ol);return e||mr(!1),e}function dV(t){let e=yZ(),r=e.matches[e.matches.length-1];return r.route.id||mr(!1),r.route.id}function xZ(){var t;let e=j.useContext(oV),r=vZ(),n=dV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function bZ(){let{router:t}=gZ(cV.UseNavigateStable),e=dV(uV.UseNavigateStable),r=j.useRef(!1);return lV(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tm({fromRouteId:e},s)))},[t,e])}const pR={};function wZ(t,e,r){pR[t]||(pR[t]=!0)}function aE(t){let{to:e,replace:r,state:n,relative:i}=t;Tf()||mr(!1);let{future:s,static:o}=j.useContext(co),{matches:l}=j.useContext(Ol),{pathname:u}=Ml(),f=gr(),h=IT(e,PT(l,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(h);return j.useEffect(()=>f(JSON.parse(m),{replace:r,state:n,relative:i}),[f,m,i,r,n]),null}function rr(t){mr(!1)}function _Z(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ll.Pop,navigator:s,static:o=!1,future:l}=t;Tf()&&mr(!1);let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:s,static:o,future:Tm({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof n=="string"&&(n=Af(n));let{pathname:h="/",search:m="",hash:p="",state:y=null,key:_="default"}=n,b=j.useMemo(()=>{let x=qd(h,u);return x==null?null:{location:{pathname:x,search:m,hash:p,state:y,key:_},navigationType:i}},[u,h,m,p,y,_,i]);return b==null?null:j.createElement(co.Provider,{value:f},j.createElement(ob.Provider,{children:r,value:b}))}function jZ(t){let{children:e,location:r}=t;return cZ(oE(e),r)}new Promise(()=>{});function oE(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,oE(n.props.children,s));return}n.type!==rr&&mr(!1),!n.props.index||!n.props.children||mr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=oE(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xy.apply(this,arguments)}function fV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function SZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NZ(t,e){return t.button===0&&(!e||e==="_self")&&!SZ(t)}const EZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],TZ="6";try{window.__reactRouterVersion=TZ}catch{}const CZ=j.createContext({isTransitioning:!1}),kZ="startTransition",gR=gF[kZ];function PZ(t){let{basename:e,children:r,future:n,window:i}=t,s=j.useRef();s.current==null&&(s.current=DJ({window:i,v5Compat:!0}));let o=s.current,[l,u]=j.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},h=j.useCallback(m=>{f&&gR?gR(()=>u(m)):u(m)},[u,f]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.createElement(_Z,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const IZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:f,preventScrollReset:h,viewTransition:m}=e,p=fV(e,EZ),{basename:y}=j.useContext(co),_,b=!1;if(typeof f=="string"&&RZ.test(f)&&(_=f,IZ))try{let T=new URL(window.location.href),N=f.startsWith("//")?new URL(T.protocol+f):new URL(f),C=qd(N.pathname,y);N.origin===T.origin&&C!=null?f=C+N.search+N.hash:b=!0}catch{}let x=oZ(f,{relative:i}),E=DZ(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:m});function S(T){n&&n(T),T.defaultPrevented||E(T)}return j.createElement("a",xy({},p,{href:_||x,onClick:b||s?n:S,ref:r,target:u}))}),OZ=j.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:f,children:h}=e,m=fV(e,AZ),p=lb(u,{relative:m.relative}),y=Ml(),_=j.useContext(aV),{navigator:b,basename:x}=j.useContext(co),E=_!=null&&LZ(p)&&f===!0,S=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,T=y.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(T=T.toLowerCase(),N=N?N.toLowerCase():null,S=S.toLowerCase()),N&&x&&(N=qd(N,x)||N);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=T===S||!o&&T.startsWith(S)&&T.charAt(C)==="/",P=N!=null&&(N===S||!o&&N.startsWith(S)&&N.charAt(S.length)==="/"),R={isActive:O,isPending:P,isTransitioning:E},M=O?n:void 0,V;typeof s=="function"?V=s(R):V=[s,O?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(R):l;return j.createElement(Rt,xy({},m,{"aria-current":M,className:V,ref:r,style:$,to:u,viewTransition:f}),typeof h=="function"?h(R):h)});var lE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lE||(lE={}));var vR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vR||(vR={}));function MZ(t){let e=j.useContext(ab);return e||mr(!1),e}function DZ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=gr(),f=Ml(),h=lb(t,{relative:o});return j.useCallback(m=>{if(NZ(m,r)){m.preventDefault();let p=n!==void 0?n:yy(f)===yy(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[f,u,h,n,i,r,t,s,o,l])}function LZ(t,e){e===void 0&&(e={});let r=j.useContext(CZ);r==null&&mr(!1);let{basename:n}=MZ(lE.useViewTransitionState),i=lb(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=qd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=qd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return sE(i.pathname,o)!=null||sE(i.pathname,s)!=null}const $Z=()=>{};var yR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},FZ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],l=t[r++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,h=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|f>>6,y=f&63;u||(y=64,o||(p=64)),n.push(r[h],r[m],r[p],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||m==null)throw new VZ;const p=s<<2|l>>4;if(n.push(p),f!==64){const y=l<<4&240|f>>2;if(n.push(y),m!==64){const _=f<<6&192|m;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BZ=function(t){const e=hV(t);return mV.encodeByteArray(e,!0)},by=function(t){return BZ(t).replace(/\./g,"")},pV=function(t){try{return mV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ=()=>UZ().__FIREBASE_DEFAULTS__,qZ=()=>{if(typeof process>"u"||typeof yR>"u")return;const t=yR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pV(t[1]);return e&&JSON.parse(e)},cb=()=>{try{return $Z()||zZ()||qZ()||HZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gV=t=>{var e,r;return(r=(e=cb())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},WZ=t=>{const e=gV(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},vV=()=>{var t;return(t=cb())===null||t===void 0?void 0:t.config},yV=t=>{var e;return(e=cb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[by(JSON.stringify(r)),by(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function QZ(){var t;const e=(t=cb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZZ(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eee(){return!QZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bV(){try{return typeof indexedDB=="object"}catch{return!1}}function wV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function tee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree="FirebaseError";class Ts extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=ree,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nee(s,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,l,n)}}function nee(t,e){return t.replace(iee,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const iee=/\{\$([^}]+)}/g;function see(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(xR(s)&&xR(o)){if(!Ja(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function xR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Kh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function aee(t,e){const r=new oee(t,e);return r.subscribe.bind(r)}class oee{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");lee(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=p1),i.error===void 0&&(i.error=p1),i.complete===void 0&&(i.complete=p1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lee(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function p1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee=1e3,uee=2,dee=4*60*60*1e3,fee=.5;function bR(t,e=cee,r=uee){const n=e*Math.pow(r,t),i=Math.round(fee*n*(Math.random()-.5)*2);return Math.min(dee,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new GZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pee(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mee(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mee(t){return t===Sc?void 0:t}function pee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new hee(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const vee={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},yee=xt.INFO,xee={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},bee=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=xee[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ub{constructor(e){this.name=e,this._logLevel=yee,this._logHandler=bee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const wee=(t,e)=>e.some(r=>t instanceof r);let wR,_R;function _ee(){return wR||(wR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jee(){return _R||(_R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _V=new WeakMap,cE=new WeakMap,jV=new WeakMap,g1=new WeakMap,RT=new WeakMap;function See(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(hl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&_V.set(r,t)}).catch(()=>{}),RT.set(e,t),e}function Nee(t){if(cE.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cE.set(t,e)}let uE={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return cE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jV.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return hl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eee(t){uE=t(uE)}function Aee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(v1(this),e,...r);return jV.set(n,e.sort?e.sort():[e]),hl(n)}:jee().includes(t)?function(...e){return t.apply(v1(this),e),hl(_V.get(this))}:function(...e){return hl(t.apply(v1(this),e))}}function Tee(t){return typeof t=="function"?Aee(t):(t instanceof IDBTransaction&&Nee(t),wee(t,_ee())?new Proxy(t,uE):t)}function hl(t){if(t instanceof IDBRequest)return See(t);if(g1.has(t))return g1.get(t);const e=Tee(t);return e!==t&&(g1.set(t,e),RT.set(e,t)),e}const v1=t=>RT.get(t);function SV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=hl(o);return n&&o.addEventListener("upgradeneeded",u=>{n(hl(o.result),u.oldVersion,u.newVersion,hl(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Cee=["get","getKey","getAll","getAllKeys","count"],kee=["put","add","delete","clear"],y1=new Map;function jR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y1.get(e))return y1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=kee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Cee.includes(r)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&u.done]))[0]};return y1.set(e,s),s}Eee(t=>({...t,get:(e,r,n)=>jR(e,r)||t.get(e,r,n),has:(e,r)=>!!jR(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Iee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Iee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dE="@firebase/app",SR="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new ub("@firebase/app"),Ree="@firebase/app-compat",Oee="@firebase/analytics-compat",Mee="@firebase/analytics",Dee="@firebase/app-check-compat",Lee="@firebase/app-check",$ee="@firebase/auth",Fee="@firebase/auth-compat",Vee="@firebase/database",Bee="@firebase/data-connect",Uee="@firebase/database-compat",zee="@firebase/functions",qee="@firebase/functions-compat",Hee="@firebase/installations",Wee="@firebase/installations-compat",Gee="@firebase/messaging",Kee="@firebase/messaging-compat",Yee="@firebase/performance",Qee="@firebase/performance-compat",Xee="@firebase/remote-config",Jee="@firebase/remote-config-compat",Zee="@firebase/storage",ete="@firebase/storage-compat",tte="@firebase/firestore",rte="@firebase/vertexai",nte="@firebase/firestore-compat",ite="firebase",ste="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="[DEFAULT]",ate={[dE]:"fire-core",[Ree]:"fire-core-compat",[Mee]:"fire-analytics",[Oee]:"fire-analytics-compat",[Lee]:"fire-app-check",[Dee]:"fire-app-check-compat",[$ee]:"fire-auth",[Fee]:"fire-auth-compat",[Vee]:"fire-rtdb",[Bee]:"fire-data-connect",[Uee]:"fire-rtdb-compat",[zee]:"fire-fn",[qee]:"fire-fn-compat",[Hee]:"fire-iid",[Wee]:"fire-iid-compat",[Gee]:"fire-fcm",[Kee]:"fire-fcm-compat",[Yee]:"fire-perf",[Qee]:"fire-perf-compat",[Xee]:"fire-rc",[Jee]:"fire-rc-compat",[Zee]:"fire-gcs",[ete]:"fire-gcs-compat",[tte]:"fire-fst",[nte]:"fire-fst-compat",[rte]:"fire-vertex","fire-js":"fire-js",[ite]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map,ote=new Map,hE=new Map;function NR(t,e){try{t.container.addComponent(e)}catch(r){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function na(t){const e=t.name;if(hE.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;hE.set(e,t);for(const r of wy.values())NR(r,t);for(const r of ote.values())NR(r,t);return!0}function uu(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function fi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ml=new cu("app","Firebase",lte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ml.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=ste;function NV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:fE,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ml.create("bad-app-name",{appName:String(i)});if(r||(r=vV()),!r)throw ml.create("no-options");const s=wy.get(i);if(s){if(Ja(r,s.options)&&Ja(n,s.config))return s;throw ml.create("duplicate-app",{appName:i})}const o=new gee(i);for(const u of hE.values())o.addComponent(u);const l=new cte(r,n,o);return wy.set(i,l),l}function OT(t=fE){const e=wy.get(t);if(!e&&t===fE&&vV())return NV();if(!e)throw ml.create("no-app",{appName:t});return e}function Bi(t,e,r){var n;let i=(n=ate[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Za.warn(l.join(" "));return}na(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute="firebase-heartbeat-database",dte=1,Cm="firebase-heartbeat-store";let x1=null;function EV(){return x1||(x1=SV(ute,dte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cm)}catch(r){console.warn(r)}}}}).catch(t=>{throw ml.create("idb-open",{originalErrorMessage:t.message})})),x1}async function fte(t){try{const r=(await EV()).transaction(Cm),n=await r.objectStore(Cm).get(AV(t));return await r.done,n}catch(e){if(e instanceof Ts)Za.warn(e.message);else{const r=ml.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Za.warn(r.message)}}}async function ER(t,e){try{const n=(await EV()).transaction(Cm,"readwrite");await n.objectStore(Cm).put(e,AV(t)),await n.done}catch(r){if(r instanceof Ts)Za.warn(r.message);else{const n=ml.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Za.warn(n.message)}}}function AV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=1024,mte=30;class pte{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>mte){const o=yte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Za.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=AR(),{heartbeatsToSend:n,unsentEntries:i}=gte(this._heartbeatsCache.heartbeats),s=by(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Za.warn(r),""}}}function AR(){return new Date().toISOString().substring(0,10)}function gte(t,e=hte){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TR(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),TR(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class vte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bV()?wV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await fte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ER(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ER(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TR(t){return by(JSON.stringify({version:2,heartbeats:t})).length}function yte(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xte(t){na(new Ns("platform-logger",e=>new Pee(e),"PRIVATE")),na(new Ns("heartbeat",e=>new pte(e),"PRIVATE")),Bi(dE,SR,t),Bi(dE,SR,"esm2017"),Bi("fire-js","")}xte("");var Ks=function(){return Ks=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ks.apply(this,arguments)};function Ip(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function bte(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function TV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wte=TV,CV=new cu("auth","Firebase",TV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new ub("@firebase/auth");function _te(t,...e){_y.logLevel<=xt.WARN&&_y.warn(`Auth (${Cf}): ${t}`,...e)}function Qv(t,...e){_y.logLevel<=xt.ERROR&&_y.error(`Auth (${Cf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,...e){throw DT(t,...e)}function bs(t,...e){return DT(t,...e)}function MT(t,e,r){const n=Object.assign(Object.assign({},wte()),{[e]:r});return new cu("auth","Firebase",n).create(e,{appName:t.name})}function za(t){return MT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jte(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&zi(t,"argument-error"),MT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function DT(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return CV.create(t,...e)}function Je(t,e,...r){if(!t)throw DT(e,...r)}function Ra(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qv(e),new Error(e)}function eo(t,e){t||Ra(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ste(){return CR()==="http:"||CR()==="https:"}function CR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ste()||xV()||"connection"in navigator)?navigator.onLine:!0}function Ete(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,r){this.shortDelay=e,this.longDelay=r,eo(r>e,"Short delay should be less than long delay!"),this.isMobile=YZ()||JZ()}get(){return Nte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){eo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=new Rp(3e4,6e4);function Dl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ll(t,e,r,n,i={}){return PV(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const l=Pp(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},s);return XZ()||(f.referrerPolicy="no-referrer"),kV.fetch()(IV(t,t.config.apiHost,r,l),f)})}async function PV(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Ate),e);try{const i=new kte(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jv(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jv(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw jv(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw jv(t,"user-disabled",o);const h=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw MT(t,h,f);zi(t,h)}}catch(i){if(i instanceof Ts)throw i;zi(t,"network-request-failed",{message:String(i)})}}async function Op(t,e,r,n,i={}){const s=await Ll(t,e,r,n,i);return"mfaPendingCredential"in s&&zi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function IV(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?LT(t.config,i):`${t.config.apiScheme}://${i}`}function Cte(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(bs(this.auth,"network-request-failed")),Tte.get())})}}function jv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=bs(t,e,n);return i.customData._tokenResponse=r,i}function kR(t){return t!==void 0&&t.enterprise!==void 0}class Pte{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Cte(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ite(t,e){return Ll(t,"GET","/v2/recaptchaConfig",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rte(t,e){return Ll(t,"POST","/v1/accounts:delete",e)}async function RV(t,e){return Ll(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ote(t,e=!1){const r=Nr(t),n=await r.getIdToken(e),i=$T(n);Je(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:om(b1(i.auth_time)),issuedAtTime:om(b1(i.iat)),expirationTime:om(b1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function b1(t){return Number(t)*1e3}function $T(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Qv("JWT malformed, contained fewer than 3 sections"),null;try{const i=pV(r);return i?JSON.parse(i):(Qv("Failed to decode base64 JWT payload"),null)}catch(i){return Qv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PR(t){const e=$T(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ts&&Mte(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Mte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=om(this.lastLoginAt),this.creationTime=om(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jy(t){var e;const r=t.auth,n=await t.getIdToken(),i=await km(t,RV(r,{idToken:n}));Je(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?OV(s.providerUserInfo):[],l=$te(t.providerData,o),u=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=u?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new pE(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Lte(t){const e=Nr(t);await jy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $te(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function OV(t){return t.map(e=>{var{providerId:r}=e,n=Ip(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fte(t,e){const r=await PV(t,{},async()=>{const n=Pp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=IV(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",kV.fetch()(o,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Vte(t,e){return Ll(t,"POST","/v2/accounts:revokeToken",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const r=PR(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await Fte(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new wd;return n&&(Je(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wd,this.toJSON())}_performRefresh(){return Ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oa{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=Ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await km(this,this.stsTokenManager.getToken(this.auth,e));return Je(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Ote(this,e)}reload(){return Lte(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Oa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await jy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await km(this,Rte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,o,l,u,f,h;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,y=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(l=r.tenantId)!==null&&l!==void 0?l:void 0,x=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,E=(f=r.createdAt)!==null&&f!==void 0?f:void 0,S=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:N,isAnonymous:C,providerData:O,stsTokenManager:P}=r;Je(T&&P,e,"internal-error");const R=wd.fromJSON(this.name,P);Je(typeof T=="string",e,"internal-error"),zo(m,e.name),zo(p,e.name),Je(typeof N=="boolean",e,"internal-error"),Je(typeof C=="boolean",e,"internal-error"),zo(y,e.name),zo(_,e.name),zo(b,e.name),zo(x,e.name),zo(E,e.name),zo(S,e.name);const M=new Oa({uid:T,auth:e,email:p,emailVerified:N,displayName:m,isAnonymous:C,photoURL:_,phoneNumber:y,tenantId:b,stsTokenManager:R,createdAt:E,lastLoginAt:S});return O&&Array.isArray(O)&&(M.providerData=O.map(V=>Object.assign({},V))),x&&(M._redirectEventId=x),M}static async _fromIdTokenResponse(e,r,n=!1){const i=new wd;i.updateFromServerResponse(r);const s=new Oa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await jy(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?OV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new wd;l.updateFromIdToken(n);const u=new Oa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Map;function Ma(t){eo(t instanceof Function,"Expected a class definition");let e=IR.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}MV.type="NONE";const RR=MV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e,r){return`firebase:${t}:${e}:${r}`}class _d{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Xv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xv("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new _d(Ma(RR),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ma(RR);const o=Xv(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const h=await f._get(o);if(h){const m=Oa._fromJSON(e,h);f!==s&&(l=m),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new _d(s,e,n):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new _d(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BV(e))return"Blackberry";if(UV(e))return"Webos";if(LV(e))return"Safari";if((e.includes("chrome/")||$V(e))&&!e.includes("edge/"))return"Chrome";if(VV(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function DV(t=Sn()){return/firefox\//i.test(t)}function LV(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $V(t=Sn()){return/crios\//i.test(t)}function FV(t=Sn()){return/iemobile/i.test(t)}function VV(t=Sn()){return/android/i.test(t)}function BV(t=Sn()){return/blackberry/i.test(t)}function UV(t=Sn()){return/webos/i.test(t)}function FT(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Bte(t=Sn()){var e;return FT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ute(){return ZZ()&&document.documentMode===10}function zV(t=Sn()){return FT(t)||VV(t)||UV(t)||BV(t)||/windows phone/i.test(t)||FV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e=[]){let r;switch(t){case"Browser":r=OR(Sn());break;case"Worker":r=`${OR(Sn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Cf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qte(t,e={}){return Ll(t,"GET","/v2/passwordPolicy",Dl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte=6;class Wte{constructor(e){var r,n,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:Hte,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MR(this),this.idTokenSubscription=new MR(this),this.beforeStateQueue=new zte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ma(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await _d.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await RV(this,{idToken:e}),n=await Oa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await jy(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ete()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(za(this));const r=e?Nr(e):null;return r&&Je(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ma(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qte(this),r=new Wte(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Vte(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ma(e)||this._popupRedirectResolver;Je(r,this,"argument-error"),this.redirectPersistenceManager=await _d.create(this,[Ma(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{o=!0,u()}}else{const u=e.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&_te(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function $l(t){return Nr(t)}class MR{constructor(e){this.auth=e,this.observer=null,this.addObserver=aee(r=>this.observer=r)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kte(t){fb=t}function HV(t){return fb.loadJS(t)}function Yte(){return fb.recaptchaEnterpriseScript}function Qte(){return fb.gapiScript}function Xte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Jte{constructor(){this.enterprise=new Zte}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Zte{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const ere="recaptcha-enterprise",WV="NO_RECAPTCHA";class tre{constructor(e){this.type=ere,this.auth=$l(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Ite(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Pte(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;kR(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(f=>{o(f)}).catch(()=>{o(WV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jte().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(l=>{if(!r&&kR(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Yte();u.length!==0&&(u+=l),HV(u).then(()=>{i(l,s,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function DR(t,e,r,n=!1,i=!1){const s=new tre(t);let o;if(i)o=WV;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function gE(t,e,r,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await DR(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await DR(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(t,e){const r=uu(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Ja(s,e??{}))return i;zi(i,"already-initialized")}return r.initialize({options:e})}function nre(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ma);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ire(t,e,r){const n=$l(t);Je(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=GV(e),{host:o,port:l}=sre(e),u=l===null?"":`:${l}`,f={url:`${s}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Je(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Je(Ja(f,n.config.emulator)&&Ja(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,are()}function GV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sre(t){const e=GV(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:LR(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:LR(o)}}}function LR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function are(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ra("not implemented")}_getIdTokenResponse(e){return Ra("not implemented")}_linkToIdToken(e,r){return Ra("not implemented")}_getReauthenticationResolver(e){return Ra("not implemented")}}async function ore(t,e){return Ll(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lre(t,e){return Op(t,"POST","/v1/accounts:signInWithPassword",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cre(t,e){return Op(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}async function ure(t,e){return Op(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends VT{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Pm(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pm(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gE(e,r,"signInWithPassword",lre);case"emailLink":return cre(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gE(e,n,"signUpPassword",ore);case"emailLink":return ure(e,{idToken:r,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t,e){return Op(t,"POST","/v1/accounts:signInWithIdp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre="http://localhost";class Qc extends VT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Qc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):zi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=Ip(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Qc(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return jd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,jd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,jd(e,r)}buildRequest(){const e={requestUri:dre,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Pp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hre(t){const e=Kh(Yh(t)).link,r=e?Kh(Yh(e)).deep_link_id:null,n=Kh(Yh(t)).deep_link_id;return(n?Kh(Yh(n)).link:null)||n||r||e||t}class BT{constructor(e){var r,n,i,s,o,l;const u=Kh(Yh(e)),f=(r=u.apiKey)!==null&&r!==void 0?r:null,h=(n=u.oobCode)!==null&&n!==void 0?n:null,m=fre((i=u.mode)!==null&&i!==void 0?i:null);Je(f&&h&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=hre(e);try{return new BT(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.providerId=kf.PROVIDER_ID}static credential(e,r){return Pm._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=BT.parseLink(r);return Je(n,"argument-error"),Pm._fromEmailAndCode(e,n.code,n.tenantId)}}kf.PROVIDER_ID="password";kf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends UT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Mp{constructor(){super("facebook.com")}static credential(e){return Qc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Mp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Qc._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ps.credential(r,n)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Mp{constructor(){super("github.com")}static credential(e){return Qc._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jo.credential(e.oauthAccessToken)}catch{return null}}}Jo.GITHUB_SIGN_IN_METHOD="github.com";Jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Mp{constructor(){super("twitter.com")}static credential(e,r){return Qc._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Zo.credential(r,n)}catch{return null}}}Zo.TWITTER_SIGN_IN_METHOD="twitter.com";Zo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mre(t,e){return Op(t,"POST","/v1/accounts:signUp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Oa._fromIdTokenResponse(e,n,i),o=$R(n);return new Xc({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=$R(n);return new Xc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function $R(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends Ts{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Sy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Sy(e,r,n,i)}}function KV(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sy._fromErrorAndOperation(t,s,e,n):s})}async function pre(t,e,r=!1){const n=await km(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Xc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gre(t,e,r=!1){const{auth:n}=t;if(fi(n.app))return Promise.reject(za(n));const i="reauthenticate";try{const s=await km(t,KV(n,i,e,t),r);Je(s.idToken,n,"internal-error");const o=$T(s.idToken);Je(o,n,"internal-error");const{sub:l}=o;return Je(t.uid===l,n,"user-mismatch"),Xc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e,r=!1){if(fi(t.app))return Promise.reject(za(t));const n="signIn",i=await KV(t,n,e),s=await Xc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function vre(t,e){return YV($l(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t){const e=$l(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yre(t,e,r){if(fi(t.app))return Promise.reject(za(t));const n=$l(t),o=await gE(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mre).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QV(t),u}),l=await Xc._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function xre(t,e,r){return fi(t.app)?Promise.reject(za(t)):vre(Nr(t),kf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&QV(t),n})}function bre(t,e,r,n){return Nr(t).onIdTokenChanged(e,r,n)}function wre(t,e,r){return Nr(t).beforeAuthStateChanged(e,r)}function _re(t,e,r,n){return Nr(t).onAuthStateChanged(e,r,n)}function jre(t){return Nr(t).signOut()}const Ny="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ny,"1"),this.storage.removeItem(Ny),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sre=1e3,Nre=10;class JV extends XV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);Ute()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Nre):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Sre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}JV.type="LOCAL";const Ere=JV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV extends XV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}ZV.type="SESSION";const eB=ZV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new hb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async f=>f(r.origin,s)),u=await Are(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const f=zT("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===f)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return window}function Cre(t){Xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function kre(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pre(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ire(){return tB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="firebaseLocalStorageDb",Rre=1,Ey="firebaseLocalStorage",nB="fbase_key";class Dp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function mb(t,e){return t.transaction([Ey],e?"readwrite":"readonly").objectStore(Ey)}function Ore(){const t=indexedDB.deleteDatabase(rB);return new Dp(t).toPromise()}function vE(){const t=indexedDB.open(rB,Rre);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ey,{keyPath:nB})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ey)?e(n):(n.close(),await Ore(),e(await vE()))})})}async function FR(t,e,r){const n=mb(t,!0).put({[nB]:e,value:r});return new Dp(n).toPromise()}async function Mre(t,e){const r=mb(t,!1).get(e),n=await new Dp(r).toPromise();return n===void 0?null:n.value}function VR(t,e){const r=mb(t,!0).delete(e);return new Dp(r).toPromise()}const Dre=800,Lre=3;class iB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Lre)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hb._getInstance(Ire()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await kre(),!this.activeServiceWorker)return;this.sender=new Tre(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vE();return await FR(e,Ny,"1"),await VR(e,Ny),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>FR(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Mre(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>VR(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mb(i,!1).getAll();return new Dp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iB.type="LOCAL";const $re=iB;new Rp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t,e){return e?Ma(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends VT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return jd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return jd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Fre(t){return YV(t.auth,new qT(t),t.bypassAuthState)}function Vre(t){const{auth:e,user:r}=t;return Je(r,e,"internal-error"),gre(r,new qT(t),t.bypassAuthState)}async function Bre(t){const{auth:e,user:r}=t;return Je(r,e,"internal-error"),pre(r,new qT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fre;case"linkViaPopup":case"linkViaRedirect":return Bre;case"reauthViaPopup":case"reauthViaRedirect":return Vre;default:zi(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=new Rp(2e3,1e4);async function HT(t,e,r){if(fi(t.app))return Promise.reject(bs(t,"operation-not-supported-in-this-environment"));const n=$l(t);jte(t,e,UT);const i=sB(n,r);return new Cc(n,"signInViaPopup",e,i).executeNotNull()}class Cc extends aB{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Cc.currentPopupAction&&Cc.currentPopupAction.cancel(),Cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=zT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ure.get())};e()}}Cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre="pendingRedirect",Jv=new Map;class qre extends aB{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Jv.get(this.auth._key());if(!e){try{const n=await Hre(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Jv.set(this.auth._key(),e)}return this.bypassAuthState||Jv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hre(t,e){const r=Kre(e),n=Gre(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Wre(t,e){Jv.set(t._key(),e)}function Gre(t){return Ma(t._redirectPersistence)}function Kre(t){return Xv(zre,t.config.apiKey,t.name)}async function Yre(t,e,r=!1){if(fi(t.app))return Promise.reject(za(t));const n=$l(t),i=sB(n,e),o=await new qre(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre=10*60*1e3;class Xre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jre(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!oB(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(bs(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qre&&this.cachedEventUids.clear(),this.cachedEventUids.has(BR(e))}saveEventToCache(e){this.cachedEventUids.add(BR(e)),this.lastProcessedEventTime=Date.now()}}function BR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zre(t,e={}){return Ll(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tne=/^https?/;async function rne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zre(t);for(const r of e)try{if(nne(r))return}catch{}zi(t,"unauthorized-domain")}function nne(t){const e=mE(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!tne.test(r))return!1;if(ene.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ine=new Rp(3e4,6e4);function UR(){const t=Xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function sne(t){return new Promise((e,r)=>{var n,i,s;function o(){UR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UR(),r(bs(t,"network-request-failed"))},timeout:ine.get()})}if(!((i=(n=Xs().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xs().gapi)===null||s===void 0)&&s.load)o();else{const l=Xte("iframefcb");return Xs()[l]=()=>{gapi.load?o():r(bs(t,"network-request-failed"))},HV(`${Qte()}?onload=${l}`).catch(u=>r(u))}}).catch(e=>{throw Zv=null,e})}let Zv=null;function ane(t){return Zv=Zv||sne(t),Zv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=new Rp(5e3,15e3),lne="__/auth/iframe",cne="emulator/auth/iframe",une={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fne(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?LT(e,cne):`https://${t.config.authDomain}/${lne}`,n={apiKey:e.apiKey,appName:t.name,v:Cf},i=dne.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Pp(n).slice(1)}`}async function hne(t){const e=await ane(t),r=Xs().gapi;return Je(r,t,"internal-error"),e.open({where:document.body,url:fne(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:une,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=bs(t,"network-request-failed"),l=Xs().setTimeout(()=>{s(o)},one.get());function u(){Xs().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pne=500,gne=600,vne="_blank",yne="http://localhost";class zR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xne(t,e,r,n=pne,i=gne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u=Object.assign(Object.assign({},mne),{width:n.toString(),height:i.toString(),top:s,left:o}),f=Sn().toLowerCase();r&&(l=$V(f)?vne:r),DV(f)&&(e=e||yne,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[y,_])=>`${p}${y}=${_},`,"");if(Bte(f)&&l!=="_self")return bne(e||"",l),new zR(null);const m=window.open(e||"",l,h);Je(m,t,"popup-blocked");try{m.focus()}catch{}return new zR(m)}function bne(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne="__/auth/handler",_ne="emulator/auth/handler",jne=encodeURIComponent("fac");async function qR(t,e,r,n,i,s){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Cf,eventId:i};if(e instanceof UT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",see(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Mp){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),f=u?`#${jne}=${encodeURIComponent(u)}`:"";return`${Sne(t)}?${Pp(l).slice(1)}${f}`}function Sne({config:t}){return t.emulator?LT(t,_ne):`https://${t.authDomain}/${wne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="webStorageSupport";class Nne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eB,this._completeRedirectFn=Yre,this._overrideRedirectResult=Wre}async _openPopup(e,r,n,i){var s;eo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await qR(e,r,n,mE(),i);return xne(e,o,zT())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await qR(e,r,n,mE(),i);return Cre(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(eo(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await hne(e),n=new Xre(e);return r.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(w1,{type:w1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[w1];o!==void 0&&r(!!o),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=rne(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return zV()||LV()||FT()}}const Ene=Nne;var HR="@firebase/auth",WR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cne(t){na(new Ns("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qV(t)},f=new Gte(n,i,s,u);return nre(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),na(new Ns("auth-internal",e=>{const r=$l(e.getProvider("auth").getImmediate());return(n=>new Ane(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(HR,WR,Tne(t)),Bi(HR,WR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=5*60,Pne=yV("authIdTokenMaxAge")||kne;let GR=null;const Ine=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Pne)return;const i=r==null?void 0:r.token;GR!==i&&(GR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vt(t=OT()){const e=uu(t,"auth");if(e.isInitialized())return e.getImmediate();const r=rre(t,{popupRedirectResolver:Ene,persistence:[$re,Ere,eB]}),n=yV("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=Ine(s.toString());wre(r,o,()=>o(r.currentUser)),bre(r,l=>o(l))}}const i=gV("auth");return i&&ire(r,`http://${i}`),r}function Rne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kte({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=bs("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",Rne().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cne("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function One(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function u(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?s(h.value):i(h.value).then(l,u)}f((n=n.apply(t,[])).next())})}function Mne(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return u([f,h])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(h){f=[6,h],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dd=function(){return dd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},dd.apply(this,arguments)},lB=function(t){return{loading:t==null,value:t}},Dne=function(){return function(t,e){switch(e.type){case"error":return dd(dd({},t),{error:e.error,loading:!1,value:void 0});case"reset":return lB(e.defaultValue);case"value":return dd(dd({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Lne=function(t){var e=t?t():void 0,r=j.useReducer(Dne(),lB(e)),n=r[0],i=r[1],s=j.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),o=j.useCallback(function(u){i({type:"error",error:u})},[]),l=j.useCallback(function(u){i({type:"value",value:u})},[]);return j.useMemo(function(){return{error:n.error,loading:n.loading,reset:s,setError:o,setValue:l,value:n.value}},[n.error,n.loading,s,o,l,n.value])},$ne=function(t,e){var r=Lne(function(){return t.currentUser}),n=r.error,i=r.loading,s=r.setError,o=r.setValue,l=r.value;return j.useEffect(function(){var u=_re(t,function(f){return One(void 0,void 0,void 0,function(){var h;return Mne(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return m.sent(),[3,4];case 3:return h=m.sent(),s(h),[3,4];case 4:return o(f),[2]}})})},s);return function(){u()}},[t]),[l,i,n]},Fne="firebase",Vne="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(Fne,Vne,"app");const cB="@firebase/installations",WT="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=1e4,dB=`w:${WT}`,fB="FIS_v2",Bne="https://firebaseinstallations.googleapis.com/v1",Une=60*60*1e3,zne="installations",qne="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jc=new cu(zne,qne,Hne);function hB(t){return t instanceof Ts&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB({projectId:t}){return`${Bne}/projects/${t}/installations`}function pB(t){return{token:t.token,requestStatus:2,expiresIn:Gne(t.expiresIn),creationTime:Date.now()}}async function gB(t,e){const n=(await e.json()).error;return Jc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function vB({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Wne(t,{refreshToken:e}){const r=vB(t);return r.append("Authorization",Kne(e)),r}async function yB(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Gne(t){return Number(t.replace("s","000"))}function Kne(t){return`${fB} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yne({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=mB(t),i=vB(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:r,authVersion:fB,appId:t.appId,sdkVersion:dB},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await yB(()=>fetch(n,l));if(u.ok){const f=await u.json();return{fid:f.fid||r,registrationStatus:2,refreshToken:f.refreshToken,authToken:pB(f.authToken)}}else throw await gB("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne=/^[cdef][\w-]{21}$/,yE="";function Jne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Zne(t);return Xne.test(r)?r:yE}catch{return yE}}function Zne(t){return Qne(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Map;function wB(t,e){const r=pb(t);_B(r,e),eie(r,e)}function _B(t,e){const r=bB.get(t);if(r)for(const n of r)n(e)}function eie(t,e){const r=tie();r&&r.postMessage({key:t,fid:e}),rie()}let kc=null;function tie(){return!kc&&"BroadcastChannel"in self&&(kc=new BroadcastChannel("[Firebase] FID Change"),kc.onmessage=t=>{_B(t.data.key,t.data.fid)}),kc}function rie(){bB.size===0&&kc&&(kc.close(),kc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie="firebase-installations-database",iie=1,Zc="firebase-installations-store";let _1=null;function GT(){return _1||(_1=SV(nie,iie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zc)}}})),_1}async function Ay(t,e){const r=pb(t),i=(await GT()).transaction(Zc,"readwrite"),s=i.objectStore(Zc),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&wB(t,e.fid),e}async function jB(t){const e=pb(t),n=(await GT()).transaction(Zc,"readwrite");await n.objectStore(Zc).delete(e),await n.done}async function gb(t,e){const r=pb(t),i=(await GT()).transaction(Zc,"readwrite"),s=i.objectStore(Zc),o=await s.get(r),l=e(o);return l===void 0?await s.delete(r):await s.put(l,r),await i.done,l&&(!o||o.fid!==l.fid)&&wB(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(t){let e;const r=await gb(t.appConfig,n=>{const i=sie(n),s=aie(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===yE?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function sie(t){const e=t||{fid:Jne(),registrationStatus:0};return SB(e)}function aie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Jc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=oie(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lie(t)}:{installationEntry:e}}async function oie(t,e){try{const r=await Yne(t,e);return Ay(t.appConfig,r)}catch(r){throw hB(r)&&r.customData.serverCode===409?await jB(t.appConfig):await Ay(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function lie(t){let e=await KR(t.appConfig);for(;e.registrationStatus===1;)await xB(100),e=await KR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await KT(t);return n||r}return e}function KR(t){return gb(t,e=>{if(!e)throw Jc.create("installation-not-found");return SB(e)})}function SB(t){return cie(t)?{fid:t.fid,registrationStatus:0}:t}function cie(t){return t.registrationStatus===1&&t.registrationTime+uB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uie({appConfig:t,heartbeatServiceProvider:e},r){const n=die(t,r),i=Wne(t,r),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:dB,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await yB(()=>fetch(n,l));if(u.ok){const f=await u.json();return pB(f)}else throw await gB("Generate Auth Token",u)}function die(t,{fid:e}){return`${mB(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YT(t,e=!1){let r;const n=await gb(t.appConfig,s=>{if(!NB(s))throw Jc.create("not-registered");const o=s.authToken;if(!e&&mie(o))return s;if(o.requestStatus===1)return r=fie(t,e),s;{if(!navigator.onLine)throw Jc.create("app-offline");const l=gie(s);return r=hie(t,l),l}});return r?await r:n.authToken}async function fie(t,e){let r=await YR(t.appConfig);for(;r.authToken.requestStatus===1;)await xB(100),r=await YR(t.appConfig);const n=r.authToken;return n.requestStatus===0?YT(t,e):n}function YR(t){return gb(t,e=>{if(!NB(e))throw Jc.create("not-registered");const r=e.authToken;return vie(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hie(t,e){try{const r=await uie(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Ay(t.appConfig,n),r}catch(r){if(hB(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await jB(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ay(t.appConfig,n)}throw r}}function NB(t){return t!==void 0&&t.registrationStatus===2}function mie(t){return t.requestStatus===2&&!pie(t)}function pie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Une}function gie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function vie(t){return t.requestStatus===1&&t.requestTime+uB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yie(t){const e=t,{installationEntry:r,registrationPromise:n}=await KT(e);return n?n.catch(console.error):YT(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xie(t,e=!1){const r=t;return await bie(r),(await YT(r,e)).token}async function bie(t){const{registrationPromise:e}=await KT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wie(t){if(!t||!t.options)throw j1("App Configuration");if(!t.name)throw j1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw j1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function j1(t){return Jc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="installations",_ie="installations-internal",jie=t=>{const e=t.getProvider("app").getImmediate(),r=wie(e),n=uu(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Sie=t=>{const e=t.getProvider("app").getImmediate(),r=uu(e,EB).getImmediate();return{getId:()=>yie(r),getToken:i=>xie(r,i)}};function Nie(){na(new Ns(EB,jie,"PUBLIC")),na(new Ns(_ie,Sie,"PRIVATE"))}Nie();Bi(cB,WT);Bi(cB,WT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="analytics",Eie="firebase_id",Aie="origin",Tie=60*1e3,Cie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",QT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new ub("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gi=new cu("analytics","Analytics",kie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(t){if(!t.startsWith(QT)){const e=gi.create("invalid-gtag-resource",{gtagURL:t});return Yn.warn(e.message),""}return t}function AB(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function Iie(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Rie(t,e){const r=Iie("firebase-js-sdk-policy",{createScriptURL:Pie}),n=document.createElement("script"),i=`${QT}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Oie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Mie(t,e,r,n,i,s){const o=n[i];try{if(o)await e[o];else{const u=(await AB(r)).find(f=>f.measurementId===i);u&&await e[u.appId]}}catch(l){Yn.error(l)}t("config",i,s)}async function Die(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await AB(r);for(const u of o){const f=l.find(m=>m.measurementId===u),h=f&&e[f.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){Yn.error(s)}}function Lie(t,e,r,n){async function i(s,...o){try{if(s==="event"){const[l,u]=o;await Die(t,e,r,l,u)}else if(s==="config"){const[l,u]=o;await Mie(t,e,r,n,l,u)}else if(s==="consent"){const[l,u]=o;t("consent",l,u)}else if(s==="get"){const[l,u,f]=o;t("get",l,u,f)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){Yn.error(l)}}return i}function $ie(t,e,r,n,i){let s=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Lie(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function Fie(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(QT)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie=30,Bie=1e3;class Uie{constructor(e={},r=Bie){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TB=new Uie;function zie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function qie(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:zie(n)},s=Cie.replace("{app-id}",r),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw gi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Hie(t,e=TB,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw gi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw gi.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Kie;return setTimeout(async()=>{l.abort()},Tie),CB({appId:n,apiKey:i,measurementId:s},o,l,e)}async function CB(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=TB){var s;const{appId:o,measurementId:l}=t;try{await Wie(n,e)}catch(u){if(l)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await qie(t);return i.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!Gie(f)){if(i.deleteThrottleMetadata(o),l)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:l};throw u}const h=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?bR(r,i.intervalMillis,Vie):bR(r,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return i.setThrottleMetadata(o,m),Yn.debug(`Calling attemptFetch again in ${h} millis`),CB(t,m,n,i)}}function Wie(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Gie(t){if(!(t instanceof Ts)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Kie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Yie(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,o=Object.assign(Object.assign({},n),{send_to:s});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qie(){if(bV())try{await wV()}catch(t){return Yn.warn(gi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yn.warn(gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Xie(t,e,r,n,i,s,o){var l;const u=Hie(t);u.then(y=>{r[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Yn.error(y)),e.push(u);const f=Qie().then(y=>{if(y)return n.getId()}),[h,m]=await Promise.all([u,f]);Fie(s)||Rie(s,h.measurementId),i("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[Aie]="firebase",p.update=!0,m!=null&&(p[Eie]=m),i("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(e){this.app=e}_delete(){return delete lm[this.app.options.appId],Promise.resolve()}}let lm={},QR=[];const XR={};let S1="dataLayer",Zie="gtag",JR,kB,ZR=!1;function ese(){const t=[];if(xV()&&t.push("This is a browser extension environment."),tee()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=gi.create("invalid-analytics-context",{errorInfo:e});Yn.warn(r.message)}}function tse(t,e,r){ese();const n=t.options.appId;if(!n)throw gi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gi.create("no-api-key");if(lm[n]!=null)throw gi.create("already-exists",{id:n});if(!ZR){Oie(S1);const{wrappedGtag:s,gtagCore:o}=$ie(lm,QR,XR,S1,Zie);kB=s,JR=o,ZR=!0}return lm[n]=Xie(t,QR,XR,e,JR,S1,r),new Jie(t)}function rse(t=OT()){t=Nr(t);const e=uu(t,Ty);return e.isInitialized()?e.getImmediate():nse(t)}function nse(t,e={}){const r=uu(t,Ty);if(r.isInitialized()){const i=r.getImmediate();if(Ja(e,r.getOptions()))return i;throw gi.create("already-initialized")}return r.initialize({options:e})}function ise(t,e,r,n){t=Nr(t),Yie(kB,lm[t.app.options.appId],e,r,n).catch(i=>Yn.error(i))}const eO="@firebase/analytics",tO="0.10.12";function sse(){na(new Ns(Ty,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return tse(n,i,r)},"PUBLIC")),na(new Ns("analytics-internal",t,"PRIVATE")),Bi(eO,tO),Bi(eO,tO,"esm2017");function t(e){try{const r=e.getProvider(Ty).getImmediate();return{logEvent:(n,i,s)=>ise(r,n,i,s)}}catch(r){throw gi.create("interop-component-reg-failed",{reason:r})}}}sse();const ase={apiKey:"AIzaSyBuaEOWCEYeV2AknrXhqzuTdIp0rApYPw0",authDomain:"safebite-a5a03.firebaseapp.com",projectId:"safebite-a5a03",storageBucket:"safebite-a5a03.firebasestorage.app",messagingSenderId:"203093821661",appId:"1:203093821661:web:127b2d80f7e08e6c23b334",measurementId:"G-P4KG3JTM4N"},Ke=NV(ase);rse(Ke);const ose=Vt(Ke),Cy=({size:t="md",className:e=""})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-24 h-24",xl:"w-32 h-32"};return a.jsxs("div",{className:`relative ${r[t]} ${e} aspect-square`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/30 blur-md animate-pulse"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-safebite-teal/20 to-transparent animate-spin-slow"})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-very-slow",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"48",stroke:"rgba(20, 184, 166, 0.3)",strokeWidth:"0.5",strokeDasharray:"8 4"}),a.jsx("path",{d:"M50 2 L50 10 M2 50 L10 50 M50 90 L50 98 M90 50 L98 50",stroke:"rgba(20, 184, 166, 0.6)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"10",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"10",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"50",cy:"90",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),a.jsx("circle",{cx:"90",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"})]})}),a.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:a.jsxs("svg",{className:"w-full h-full animate-spin-slow-reverse",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"rgba(20, 184, 166, 0.2)",strokeWidth:"0.5",strokeDasharray:"6 2"}),a.jsx("path",{d:"M50 15 L50 20 M15 50 L20 50 M50 80 L50 85 M80 50 L85 50",stroke:"rgba(20, 184, 166, 0.4)",strokeWidth:"0.5"}),a.jsx("circle",{cx:"50",cy:"20",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"20",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"50",cy:"80",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),a.jsx("circle",{cx:"80",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"})]})}),a.jsx("div",{className:"absolute inset-2 rounded-full overflow-hidden border-2 border-safebite-teal/50 z-10 shadow-[0_0_10px_rgba(20,184,166,0.5)]",children:a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:"/SafeBite-V1/ProfilePic-AdityaShenvi.jpg",alt:"Aditya Shenvi",className:"w-[150%] h-[150%] object-cover",style:{objectPosition:"center 25%"}})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-safebite-teal/10 to-transparent"})]})}),a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"})]})},PB=({developerName:t="Aditya Shenvi",version:e="v2.3",isOpen:r,onClose:n})=>{const[i,s]=j.useState(!1),[o,l]=j.useState(!1),u=r!==void 0?r:i;j.useEffect(()=>{if(!localStorage.getItem("safebite_popup_shown")){const b=setTimeout(()=>{s(!0),localStorage.setItem("safebite_popup_shown","true")},2e3);return()=>clearTimeout(b)}},[]);const f=()=>{n?n():s(!1)},h=()=>{l(!o)};if(!u)return null;const m=["Enhanced AI chatbot with context-aware guidance","Added weekly health check-in with 8 questions","Improved dashboard with weekly check-in data visualization","Added food delivery integration with Zomato and Swiggy","Enhanced recipe search with 3x4 grid and popup details","Improved UI with sci-fi visuals and better readability","Added user activity tracking for ML personalization","Fixed Healthbox component errors and improved UI","Added guest mode for testing without authentication","Production-ready with improved error handling"],p=["Added Product Recommendations page with MongoDB integration","Implemented user activity tracking for ML personalization","Added fitness wearable data import functionality","Improved Firebase security and error handling","Enhanced dashboard with real-time data visualization","Added login prompts for guest users"],y=[{name:"SafeBite Backend API",url:"https://safebite-backend.onrender.com"},{name:"MongoDB Atlas",url:"https://www.mongodb.com/atlas/database"},{name:"Edamam Food Database API",url:"https://www.edamam.com/"},{name:"CalorieNinjas API",url:"https://calorieninjas.com/"},{name:"FatSecret Platform API",url:"https://platform.fatsecret.com/"},{name:"Open Food Facts",url:"https://world.openfoodfacts.org/"},{name:"Unsplash Images",url:"https://unsplash.com/"},{name:"Firebase",url:"https://firebase.google.com/"}];return a.jsx(a.Fragment,{children:o?a.jsx("div",{className:"fixed bottom-4 right-4 bg-safebite-teal text-safebite-dark-blue p-2 rounded-full cursor-pointer z-50 shadow-lg hover:bg-safebite-teal/90 transition-all",onClick:h,children:a.jsx(wl,{size:24})}):a.jsxs("div",{className:"fixed bottom-4 right-4 w-80 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg shadow-xl z-50 sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-safebite-card-bg-alt border-b border-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cy,{size:"sm",className:"mr-2"}),a.jsx("h3",{className:"text-safebite-text font-medium",children:"Developer Info"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:h,className:"text-safebite-text-secondary hover:text-safebite-teal p-1 rounded",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),a.jsx("button",{onClick:f,className:"text-safebite-text-secondary hover:text-red-500 p-1 rounded",children:a.jsx(Xn,{size:16})})]})]}),a.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-safebite-teal/20 text-safebite-teal px-2 py-1 rounded text-xs mr-2",children:e}),a.jsx("div",{className:"bg-green-500/20 text-green-500 px-2 py-1 rounded text-xs",children:"Production Ready"})]}),a.jsxs("p",{className:"text-safebite-text mb-3 font-medium",children:["Special Project by ",a.jsx("span",{className:"text-safebite-teal",children:t})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(xn,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"What's New in ",e]}),a.jsx("div",{className:"bg-safebite-teal/10 p-2 rounded-md border border-safebite-teal/20 mb-2",children:a.jsx("p",{className:"text-xs text-safebite-teal font-medium mb-1",children:"Production Release"})}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:m.map((_,b)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),a.jsx("span",{children:_})]},b))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(xn,{className:"h-4 w-4 mr-1 text-safebite-text-secondary"}),"Previous Updates (v2.2)"]}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:p.map((_,b)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-text-secondary mr-1",children:"•"}),a.jsx("span",{children:_})]},b))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[a.jsx(wl,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Data & API Credits"]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:"SafeBite uses data from the following sources for educational purposes:"}),a.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:y.map((_,b)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),a.jsxs("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-safebite-teal",children:[_.name,a.jsx(Li,{className:"h-3 w-3 ml-1"})]})]},b))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(ie,{variant:"outline",size:"sm",className:"text-xs",onClick:f,children:"Dismiss"})})]})]})})},vb=()=>{const[t,e]=j.useState(!1),r=gr(),n=()=>{e(!t)};return a.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-safebite-dark-blue/90 backdrop-blur-md border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(Rt,{to:"/",className:"flex items-center",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:"SafeBite"})})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(Rt,{to:"/",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Home"}),a.jsx(Rt,{to:"/features",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Features"}),a.jsx(Rt,{to:"/about",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"About"}),a.jsxs(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>r("/auth/login"),children:[a.jsx(bm,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r("/auth/signup"),children:[a.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:n,className:"text-safebite-text hover:text-safebite-teal focus:outline-none",children:t?a.jsx(Xn,{size:24}):a.jsx(e6,{size:24})})})]})}),t&&a.jsx("div",{className:"md:hidden bg-safebite-card-bg border-b border-safebite-card-bg-alt transition-all duration-300 ease-in-out transform origin-top",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[a.jsx(Rt,{to:"/",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Home"}),a.jsx(Rt,{to:"/features",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Features"}),a.jsx(Rt,{to:"/about",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"About"}),a.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[a.jsxs(ie,{variant:"outline",className:"sci-fi-button w-full justify-center",onClick:()=>{r("/auth/login"),e(!1)},children:[a.jsx(bm,{className:"mr-2 h-4 w-4"}),"Login"]}),a.jsxs(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full justify-center",onClick:()=>{r("/auth/signup"),e(!1)},children:[a.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})})]})};var lse="Separator",rO="horizontal",cse=["horizontal","vertical"],IB=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=rO,...i}=t,s=use(n)?n:rO,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Ve.div,{"data-orientation":s,...l,...i,ref:e})});IB.displayName=lse;function use(t){return cse.includes(t)}var RB=IB;const XT=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>a.jsx(RB,{ref:i,decorative:r,orientation:e,className:Ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));XT.displayName=RB.displayName;const Lp=()=>a.jsx("footer",{className:"bg-safebite-dark-blue border-t border-safebite-card-bg-alt py-10",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-2",children:a.jsx(ys,{size:16,className:"text-white"})}),a.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite v2.5"})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Smart food safety and nutrition platform helping you make informed decisions about the food you consume."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(JF,{size:20})}),a.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(KN,{size:20})}),a.jsx("a",{href:"mailto:contact@safebite.example.com",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:a.jsx(Bd,{size:20})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Rt,{to:"/about",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/team",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Our Team"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/careers",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Careers"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/contact",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsxs(Rt,{to:"/help",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(al,{size:14,className:"mr-2"}),a.jsx("span",{children:"Help Center"})]})}),a.jsx("li",{children:a.jsxs(Rt,{to:"/community",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(Kv,{size:14,className:"mr-2"}),a.jsx("span",{children:"Community"})]})}),a.jsx("li",{children:a.jsxs(Rt,{to:"/healthbox",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(Ua,{size:14,className:"mr-2"}),a.jsx("span",{children:"Health Tools"})]})}),a.jsx("li",{children:a.jsxs(Rt,{to:"/recipes",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors flex items-center",children:[a.jsx(QF,{size:14,className:"mr-2"}),a.jsx("span",{children:"Recipes"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Rt,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Cookie Policy"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/data",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Data Protection"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/admin/login",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Admin Login"})})]})]})]}),a.jsx(XT,{className:"my-8 bg-safebite-card-bg-alt"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"text-safebite-text-secondary text-sm",children:[a.jsxs("p",{children:["© ",new Date().getFullYear()," SafeBite v2.5. All rights reserved."]}),a.jsxs("p",{className:"mt-1 flex items-center",children:["Made with ",a.jsx(yi,{size:12,className:"mx-1 text-red-500"})," by",a.jsxs("a",{href:"https://github.com/adityashenvi",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center ml-1",children:["Aditya Shenvi",a.jsx(Li,{size:10,className:"ml-1"})]})]})]}),a.jsx("div",{className:"mt-4 md:mt-0",children:a.jsxs("ul",{className:"flex space-x-6",children:[a.jsx("li",{children:a.jsx(Rt,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Privacy"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Terms"})}),a.jsx("li",{children:a.jsx(Rt,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Cookies"})})]})})]})]})}),ka=({title:t,description:e,icon:r,className:n})=>a.jsxs("div",{className:Ye("sci-fi-card group",n),children:[a.jsx("div",{className:"mb-4 inline-block p-3 rounded-full bg-safebite-card-bg-alt text-safebite-teal group-hover:text-safebite-dark-blue group-hover:bg-safebite-teal transition-colors duration-300",children:r}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:t}),a.jsx("p",{className:"text-safebite-text-secondary",children:e})]}),N1=({quote:t,author:e,role:r,avatar:n,className:i})=>a.jsxs("div",{className:Ye("sci-fi-card flex flex-col",i),children:[a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-safebite-text-secondary italic",children:['"',t,'"']})}),a.jsxs("div",{className:"flex items-center",children:[n?a.jsx("img",{src:n,alt:e,className:"w-12 h-12 rounded-full mr-4 border-2 border-safebite-teal"}):a.jsx("div",{className:"w-12 h-12 rounded-full mr-4 bg-safebite-card-bg-alt flex items-center justify-center border-2 border-safebite-teal",children:a.jsx("span",{className:"text-safebite-teal text-lg font-bold",children:e.charAt(0)})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-semibold",children:e}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:r})]})]})]}),dse=()=>a.jsxs("div",{className:"relative w-full h-full min-h-[400px]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-safebite-teal/30 to-transparent rounded-xl blur-xl"}),a.jsxs("div",{className:"absolute inset-0 rounded-xl border-2 border-safebite-teal/50 bg-safebite-dark-blue/80 backdrop-blur-md overflow-hidden shadow-[0_0_30px_rgba(20,184,166,0.3)]",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[a.jsx("path",{d:"M10 0 L10 10 L0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M40 0 L40 40 L0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("path",{d:"M25 0 L25 25 L0 25",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),a.jsx("circle",{cx:"10",cy:"10",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"25",cy:"25",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"currentColor"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"absolute inset-4 flex flex-col rounded-lg border border-safebite-card-bg-alt bg-safebite-card-bg overflow-hidden",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-3 border-b border-safebite-card-bg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal",children:a.jsx(Ua,{size:16})}),a.jsx("span",{className:"ml-2 font-semibold text-safebite-text",children:"SafeBite Dashboard"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Qr,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("div",{className:"w-full h-10 pl-10 pr-4 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text-secondary flex items-center",children:"Search for food products..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(yi,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Health Score"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["87",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/100"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"87%"}})})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Kn,{size:16,className:"text-safebite-teal mr-2"}),a.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Daily Goals"})]}),a.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["3",a.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/5"})]}),a.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"60%"}})})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 mb-4 flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:a.jsx(Ua,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-safebite-text",children:"Organic Quinoa Bowl"}),a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:"420 calories • High protein • Gluten-free"})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal flex items-center justify-center text-safebite-dark-blue font-bold",children:"9.2"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 flex items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:"AI"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-safebite-text mb-1",children:"AI Assistant"}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Based on your recent meals, I recommend increasing your fiber intake. Consider adding more...",a.jsx("span",{className:"inline-block w-1.5 h-3 bg-safebite-teal ml-1 animate-pulse"})]})]})]})]})]}),a.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"})]}),a.jsx("div",{className:"absolute -top-3 -right-3 bg-safebite-teal text-safebite-dark-blue text-xs font-bold px-2 py-1 rounded-full shadow-lg z-10",children:"v2.5"}),a.jsx("div",{className:"absolute -left-4 top-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float",children:a.jsx(Ua,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -right-4 top-2/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay",children:a.jsx(yi,{size:20,className:"text-safebite-teal"})}),a.jsx("div",{className:"absolute -left-4 bottom-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay-2",children:a.jsx(Kn,{size:20,className:"text-safebite-teal"})})]}),fse=()=>{const t=j.useRef(null),e=j.useRef([]),r=j.useRef(null);return j.useEffect(()=>{const n=t.current;if(!n)return;const i=n.getContext("2d");if(!i)return;const s=()=>{n.width=window.innerWidth,n.height=window.innerHeight,o()},o=()=>{e.current=[];const u=Math.min(Math.floor(window.innerWidth/10),100);for(let f=0;f<u;f++)e.current.push({x:Math.random()*n.width,y:Math.random()*n.height,size:Math.random()*1.5+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,color:`rgba(20, 184, 166, ${Math.random()*.5+.1})`})},l=()=>{i.clearRect(0,0,n.width,n.height),e.current.forEach((u,f)=>{u.x+=u.speedX,u.y+=u.speedY,u.x<0&&(u.x=n.width),u.x>n.width&&(u.x=0),u.y<0&&(u.y=n.height),u.y>n.height&&(u.y=0),i.beginPath(),i.arc(u.x,u.y,u.size,0,Math.PI*2),i.fillStyle=u.color,i.fill(),e.current.forEach((h,m)=>{if(f===m)return;const p=u.x-h.x,y=u.y-h.y,_=Math.sqrt(p*p+y*y);_<100&&(i.beginPath(),i.strokeStyle=`rgba(20, 184, 166, ${.1*(1-_/100)})`,i.lineWidth=.5,i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke())})}),r.current=requestAnimationFrame(l)};return window.addEventListener("resize",s),s(),l(),()=>{window.removeEventListener("resize",s),r.current&&cancelAnimationFrame(r.current)}},[]),a.jsx("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",style:{opacity:.3}})},hse=()=>{const[t,e]=j.useState(!1),r=gr(),n=()=>{e(!t)},i=s=>{r(s),e(!1)};return a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&a.jsxs("div",{className:"flex flex-col-reverse gap-3 mb-3 items-center",children:[a.jsxs("button",{onClick:()=>i("/search"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Search",children:[a.jsx(Qr,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Search"})]}),a.jsxs("button",{onClick:()=>i("/auth/login"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Login",children:[a.jsx(Kc,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Login"})]}),a.jsxs("button",{onClick:()=>i("/healthbox"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Health Tools",children:[a.jsx(yi,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Health Tools"})]}),a.jsxs("button",{onClick:()=>i("/products"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Products",children:[a.jsx(Ua,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Products"})]}),a.jsxs("button",{onClick:()=>i("/help"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Help",children:[a.jsx(al,{size:18}),a.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Help"})]})]}),a.jsx("button",{onClick:n,className:`w-14 h-14 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center shadow-lg hover:bg-safebite-teal/90 transition-all ${t?"rotate-180":""}`,"aria-label":t?"Close menu":"Open menu",children:a.jsx(YF,{size:24})})]})},mse=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(""),[i,s]=j.useState(!1),[o,l]=j.useState([]),u=[{name:"Organic Quinoa",healthScore:9.5,tags:["Organic","Gluten-Free","High Protein"]},{name:"Greek Yogurt",healthScore:8.7,tags:["Probiotic","High Protein","Calcium Rich"]},{name:"Processed Cheese Slices",healthScore:4.2,tags:["Processed","High Sodium"],warning:"Contains artificial colors and preservatives"},{name:"Chocolate Cereal",healthScore:3.8,tags:["High Sugar","Processed"],warning:"High in added sugars"},{name:"Avocado",healthScore:9.8,tags:["Healthy Fats","Nutrient Dense","Fiber Rich"]}],f=()=>{e(!t),t||(n(""),l([]))},h=()=>{r.trim()&&(s(!0),setTimeout(()=>{const p=u.filter(y=>y.name.toLowerCase().includes(r.toLowerCase()));l(p),s(!1)},800))},m=p=>{p.key==="Enter"&&h()};return j.useEffect(()=>{r===""&&l([])},[r]),t?a.jsxs("div",{className:"sci-fi-card p-4 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Quick Food Search"}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8 rounded-full",children:a.jsx(Xn,{size:16})})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Qr,{size:16,className:"text-safebite-text-secondary"})}),a.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),onKeyPress:m,placeholder:"Search for a food item...",className:"w-full pl-10 pr-4 py-2 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text focus:border-safebite-teal focus:ring-1 focus:ring-safebite-teal outline-none transition-colors"}),a.jsx(ie,{onClick:h,className:"absolute inset-y-0 right-0 px-3 bg-safebite-teal text-safebite-dark-blue rounded-r-md",children:"Search"})]}),i?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-safebite-teal border-t-transparent rounded-full"})}):o.length>0?a.jsx("div",{className:"space-y-3",children:o.map((p,y)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt hover:border-safebite-teal/50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:p.name}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.tags.map((_,b)=>a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${_.includes("High Sugar")||_.includes("Processed")?"bg-red-500/20 text-red-500":"bg-safebite-teal/20 text-safebite-teal"}`,children:_},b))})]}),a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${p.healthScore>=7?"bg-green-500/20 text-green-500":p.healthScore>=5?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:p.healthScore.toFixed(1)})]}),p.warning&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-red-500",children:[a.jsx(Rn,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:p.warning})]}),!p.warning&&p.healthScore>=7&&a.jsxs("div",{className:"mt-2 flex items-start text-xs text-green-500",children:[a.jsx(Ua,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Excellent nutritional profile"})]})]},y))}):r&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsxs("p",{children:['No results found for "',r,'"']}),a.jsx("p",{className:"text-xs mt-1",children:'Try searching for "quinoa", "yogurt", "avocado", or "cereal"'})]}),!r&&a.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[a.jsx("p",{children:'Try searching for foods like "quinoa", "yogurt", "avocado", or "cereal"'}),a.jsx("p",{className:"text-xs mt-1",children:"This is a demo of the SafeBite food search functionality"})]})]}):a.jsxs(ie,{onClick:f,variant:"outline",className:"sci-fi-button flex items-center",children:[a.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Try Quick Search"]})},pse=()=>{const t=gr(),[e,r]=j.useState(!1),[n]=$ne(ose);return a.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[a.jsx(fse,{}),a.jsx(vb,{}),a.jsx(PB,{isOpen:e,onClose:()=>r(!1)}),n&&a.jsx(hse,{}),a.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-32 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 md:pr-8 mb-10 md:mb-0",children:[a.jsx("div",{className:"inline-block bg-safebite-teal text-safebite-dark-blue px-4 py-2 rounded-full text-sm font-medium mb-4 shadow-md",children:"Version 2.5 - Production Ready"}),a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[a.jsx("span",{className:"gradient-text animate-gradient-text",children:"Safe Food Choices"}),a.jsx("br",{}),a.jsx("span",{className:"text-safebite-text",children:"for a Healthier You"})]}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8",children:"Know exactly what's in your food. Track nutrition, receive personalized recommendations, and make informed choices for your health journey."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-4 rounded-md shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:["Get Started Free",a.jsx(Ba,{className:"ml-2 h-5 w-5"})]}),a.jsxs(ie,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-4 rounded-md hover:scale-105 transition-transform duration-200",children:[a.jsx(bm,{className:"mr-2 h-5 w-5"}),"Guest Login"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(mse,{})})]}),a.jsx("div",{className:"md:w-1/2 relative",children:a.jsx(dse,{})})]})}),a.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Powered by AI & Machine Learning"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"Intelligent Food Safety"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with nutritional science to help you make the best food choices."}),a.jsxs("div",{className:"flex items-center justify-center mt-4",children:[a.jsx(Cy,{size:"sm",className:"mr-2"}),a.jsxs("p",{className:"text-safebite-teal text-sm",children:["A Special Engineering Project by ",a.jsx("span",{className:"font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"p-6 border border-safebite-teal/30 rounded-lg bg-safebite-card-bg mb-8 sci-fi-card shadow-neon-teal",children:[a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx(xn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Featured Capabilities"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(ka,{title:"Food Safety Analysis",description:"Instantly analyze food products for additives, allergens, and harmful ingredients to make safe choices.",icon:a.jsx(Ua,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(ka,{title:"AI-Powered Recommendations",description:"Receive personalized food suggestions based on your health profile, preferences, and goals.",icon:a.jsx(cy,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(ka,{title:"Nutritional Tracking",description:"Monitor your daily intake of calories, macros, vitamins, and minerals with detailed insights.",icon:a.jsx(yi,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(ka,{title:"Simple Food Search",description:"Search or scan barcodes to instantly access comprehensive food information and safety ratings.",icon:a.jsx(Qr,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(ka,{title:"Health Goal Setting",description:"Set personalized health goals and track your progress with interactive charts and reports.",icon:a.jsx(eY,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(ka,{title:"Community Support",description:"Connect with like-minded individuals, share experiences, and get motivation from our community.",icon:a.jsx($i,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(ka,{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations.",icon:a.jsx(Ir,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(ka,{title:"Personalized Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals.",icon:a.jsx(Kn,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),a.jsx(ka,{title:"Food Tracker",description:"Add foods to your daily tracker to monitor your nutrition intake and stay on target with your goals.",icon:a.jsx(Kn,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),a.jsx("div",{className:"mt-12 text-center",children:a.jsxs(ie,{onClick:()=>t("/features"),variant:"outline",className:"sci-fi-button hover:shadow-neon-teal transition-all duration-300",children:["View All Features",a.jsx(Ba,{className:"ml-2 h-5 w-5"})]})})]}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg relative",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Simple 3-Step Process"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"How SafeBite Works"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Getting started is easy. Three simple steps to transform your food choices."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"1"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx($i,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Create Your Profile"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign up and complete a short questionnaire about your health, dietary needs, and personal goals."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"2"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(Qr,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Search & Analyze"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food items or scan barcodes to instantly get detailed nutrition and safety information."})]}),a.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"3"}),a.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:a.jsx(Kn,{size:48})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Track & Improve"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your nutrition, view progress charts, and receive personalized recommendations to improve your health."})]})]})]})]}),a.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"User Experiences"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"What Our Users Say"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Join thousands of satisfied users who have transformed their health with SafeBite."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(N1,{quote:"SafeBite completely changed how I shop for groceries. I've discovered so many healthier alternatives to my favorite foods!",author:"Sarah M.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(N1,{quote:"As someone with multiple food allergies, this app has been a lifesaver. I can quickly check if a product is safe for me to eat.",author:"James K.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),a.jsx(N1,{quote:"The personalized recommendations are spot on! I've lost 15 pounds just by making smarter food choices with SafeBite.",author:"Monica R.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"})]})]}),a.jsxs("section",{className:"py-20 bg-safebite-card-bg border-y border-safebite-teal/20 relative",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("pattern",{id:"circuit-pattern",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("circle",{cx:"50",cy:"50",r:"20",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),a.jsx("path",{d:"M50 0 L50 20 M0 50 L20 50 M50 80 L50 100 M80 50 L100 50",stroke:"currentColor",strokeWidth:"0.5"})]}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit-pattern)",className:"text-safebite-teal"})]})}),a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto text-center relative z-10",children:[a.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Get Started Today"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 gradient-text animate-gradient-text",children:"Ready to Transform Your Food Choices?"}),a.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8 max-w-2xl mx-auto",children:"Join SafeBite today and start your journey to better health through informed food choices. It's free to get started!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6 shadow-neon-teal",children:["Sign Up Now",a.jsx(Ba,{className:"ml-2 h-5 w-5"})]}),a.jsxs(ie,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-6",children:[a.jsx(bm,{className:"mr-2 h-5 w-5"}),"Try as Guest"]})]})]})]}),a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:a.jsx("div",{className:"bg-safebite-dark-blue p-6 rounded-lg border border-safebite-teal/30 sci-fi-card shadow-neon-teal",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-4",children:[a.jsx(Cy,{size:"md",className:"mr-0 md:mr-3 mb-4 md:mb-0 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text text-center md:text-left",children:"Developer's Note"}),a.jsx("p",{className:"text-safebite-teal text-sm text-center md:text-left",children:"Aditya Shenvi | IFHE Hyderabad"})]}),a.jsx("div",{className:"mt-2 sm:mt-0 bg-green-500/20 text-green-500 px-3 py-1 rounded-full text-xs font-medium self-center md:self-auto",children:"Production Ready v2.5"})]}),a.jsx("p",{className:"text-safebite-text-secondary my-4 text-sm md:text-base",children:"SafeBite was developed as a special engineering project to demonstrate how technology can help people make better food choices. The application combines modern web technologies with nutritional science to create an intuitive platform for food analysis and health tracking. This release includes fixes to the AI chatbot, improved icon positioning, and overall stability improvements."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 my-6",children:[a.jsxs("div",{className:"lg:col-span-1 bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-3 text-center",children:"Tech Stack"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"MongoDB"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Flask"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Food APIs"})]})]}),a.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"New Features"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Enhanced AI chatbot"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Weekly health check-in"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Improved dashboard"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Food delivery integration"})]})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-teal/20",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"Technical Improvements"}),a.jsxs("ul",{className:"text-safebite-text-secondary space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"MongoDB integration"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"User activity tracking"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Firebase security"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Enhanced UI/UX"})]})]})]})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm md:text-base",children:"Thank you for your support and feedback! I'm committed to improving SafeBite further."}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsxs(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>r(!0),children:[a.jsx(wl,{className:"mr-2 h-4 w-4"}),"View Full Changelog"]})})]})]})})}),a.jsx(Lp,{})]})},Jn=()=>{const[t,e]=j.useState(!1),r=Vt(Ke);return j.useEffect(()=>{const s=()=>{const l=r.currentUser,u=localStorage.getItem("userType"),f=sessionStorage.getItem("safebite-guest-mode");if(l)e(!1),(u==="guest"||f==="true")&&(localStorage.removeItem("userType"),sessionStorage.removeItem("safebite-guest-mode"),console.log("User is logged in, clearing guest mode flags"));else{const h=u==="guest"||f==="true";e(h),console.log("Guest mode check:",{userType:u,emergencyGuestMode:f,isGuestMode:h}),f==="true"&&console.log("Using emergency guest mode due to permission denied")}};s();const o=setInterval(s,2e3);return()=>clearInterval(o)},[r]),{isGuest:t,exitGuestMode:()=>{localStorage.removeItem("userType"),localStorage.removeItem("guestId"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),e(!1)},enterEmergencyGuestMode:()=>{r.currentUser||(sessionStorage.setItem("safebite-guest-mode","true"),e(!0))}}};var E1="focusScope.autoFocusOnMount",A1="focusScope.autoFocusOnUnmount",nO={bubbles:!1,cancelable:!0},gse="FocusScope",JT=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,u]=j.useState(null),f=On(i),h=On(s),m=j.useRef(null),p=yt(e,b=>u(b)),y=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let b=function(T){if(y.paused||!l)return;const N=T.target;l.contains(N)?m.current=N:Wo(m.current,{select:!0})},x=function(T){if(y.paused||!l)return;const N=T.relatedTarget;N!==null&&(l.contains(N)||Wo(m.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const C of T)C.removedNodes.length>0&&Wo(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const S=new MutationObserver(E);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),S.disconnect()}}},[n,l,y.paused]),j.useEffect(()=>{if(l){sO.add(y);const b=document.activeElement;if(!l.contains(b)){const E=new CustomEvent(E1,nO);l.addEventListener(E1,f),l.dispatchEvent(E),E.defaultPrevented||(vse(_se(OB(l)),{select:!0}),document.activeElement===b&&Wo(l))}return()=>{l.removeEventListener(E1,f),setTimeout(()=>{const E=new CustomEvent(A1,nO);l.addEventListener(A1,h),l.dispatchEvent(E),E.defaultPrevented||Wo(b??document.body,{select:!0}),l.removeEventListener(A1,h),sO.remove(y)},0)}}},[l,f,h,y]);const _=j.useCallback(b=>{if(!r&&!n||y.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(x&&E){const S=b.currentTarget,[T,N]=yse(S);T&&N?!b.shiftKey&&E===N?(b.preventDefault(),r&&Wo(T,{select:!0})):b.shiftKey&&E===T&&(b.preventDefault(),r&&Wo(N,{select:!0})):E===S&&b.preventDefault()}},[r,n,y.paused]);return a.jsx(Ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});JT.displayName=gse;function vse(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Wo(n,{select:e}),document.activeElement!==r)return}function yse(t){const e=OB(t),r=iO(e,t),n=iO(e.reverse(),t);return[r,n]}function OB(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function iO(t,e){for(const r of t)if(!xse(r,{upTo:e}))return r}function xse(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bse(t){return t instanceof HTMLInputElement&&"select"in t}function Wo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&bse(t)&&e&&t.select()}}var sO=wse();function wse(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=aO(t,e),t.unshift(e)},remove(e){var r;t=aO(t,e),(r=t[0])==null||r.resume()}}}function aO(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function _se(t){return t.filter(e=>e.tagName!=="A")}var T1=0;function MB(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oO()),document.body.insertAdjacentElement("beforeend",t[1]??oO()),T1++,()=>{T1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),T1--}},[])}function oO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ey="right-scroll-bar-position",ty="width-before-scroll-bar",jse="with-scroll-bars-hidden",Sse="--removed-body-scroll-bar-size";function C1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Nse(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Ese=typeof window<"u"?j.useLayoutEffect:j.useEffect,lO=new WeakMap;function Ase(t,e){var r=Nse(null,function(n){return t.forEach(function(i){return C1(i,n)})});return Ese(function(){var n=lO.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||C1(l,null)}),s.forEach(function(l){i.has(l)||C1(l,o)})}lO.set(r,t)},[t]),r}function Tse(t){return t}function Cse(t,e){e===void 0&&(e=Tse);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var u=function(){var h=o;o=[],h.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(h){o.push(h),f()},filter:function(h){return o=o.filter(h),r}}}};return i}function kse(t){t===void 0&&(t={});var e=Cse(null);return e.options=Ks({async:!0,ssr:!1},t),e}var DB=function(t){var e=t.sideCar,r=Ip(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Ks({},r))};DB.isSideCarExport=!0;function Pse(t,e){return t.useMedium(e),DB}var LB=kse(),k1=function(){},yb=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:k1,onWheelCapture:k1,onTouchMoveCapture:k1}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,h=t.enabled,m=t.shards,p=t.sideCar,y=t.noIsolation,_=t.inert,b=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,S=t.gapMode,T=Ip(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,C=Ase([r,e]),O=Ks(Ks({},T),i);return j.createElement(j.Fragment,null,h&&j.createElement(N,{sideCar:LB,removeScrollBar:f,shards:m,noIsolation:y,inert:_,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:S}),o?j.cloneElement(j.Children.only(l),Ks(Ks({},O),{ref:C})):j.createElement(E,Ks({},O,{className:u,ref:C}),l))});yb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yb.classNames={fullWidth:ty,zeroRight:ey};var Ise=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rse(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ise();return e&&t.setAttribute("nonce",e),t}function Ose(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Mse(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Dse=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Rse())&&(Ose(e,r),Mse(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Lse=function(){var t=Dse();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},$B=function(){var t=Lse(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},$se={left:0,top:0,right:0,gap:0},P1=function(t){return parseInt(t||"",10)||0},Fse=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[P1(r),P1(n),P1(i)]},Vse=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $se;var e=Fse(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Bse=$B(),Sd="data-scroll-locked",Use=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(jse,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Sd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ey,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ty,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ey," .").concat(ey,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ty," .").concat(ty,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Sd,`] {
    `).concat(Sse,": ").concat(l,`px;
  }
`)},cO=function(){var t=parseInt(document.body.getAttribute(Sd)||"0",10);return isFinite(t)?t:0},zse=function(){j.useEffect(function(){return document.body.setAttribute(Sd,(cO()+1).toString()),function(){var t=cO()-1;t<=0?document.body.removeAttribute(Sd):document.body.setAttribute(Sd,t.toString())}},[])},qse=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;zse();var s=j.useMemo(function(){return Vse(i)},[i]);return j.createElement(Bse,{styles:Use(s,!e,i,r?"":"!important")})},xE=!1;if(typeof window<"u")try{var Sv=Object.defineProperty({},"passive",{get:function(){return xE=!0,!0}});window.addEventListener("test",Sv,Sv),window.removeEventListener("test",Sv,Sv)}catch{xE=!1}var ed=xE?{passive:!1}:!1,Hse=function(t){return t.tagName==="TEXTAREA"},FB=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Hse(t)&&r[e]==="visible")},Wse=function(t){return FB(t,"overflowY")},Gse=function(t){return FB(t,"overflowX")},uO=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=VB(t,n);if(i){var s=BB(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Kse=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Yse=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},VB=function(t,e){return t==="v"?Wse(e):Gse(e)},BB=function(t,e){return t==="v"?Kse(e):Yse(e)},Qse=function(t,e){return t==="h"&&e==="rtl"?-1:1},Xse=function(t,e,r,n,i){var s=Qse(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,u=e.contains(l),f=!1,h=o>0,m=0,p=0;do{var y=BB(t,l),_=y[0],b=y[1],x=y[2],E=b-x-s*_;(_||E)&&VB(t,l)&&(m+=E,p+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(f=!0),f},Nv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dO=function(t){return[t.deltaX,t.deltaY]},fO=function(t){return t&&"current"in t?t.current:t},Jse=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Zse=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},eae=0,td=[];function tae(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(eae++)[0],s=j.useState($B)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=bte([t.lockRef.current],(t.shards||[]).map(fO),!0).filter(Boolean);return b.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(b,x){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var E=Nv(b),S=r.current,T="deltaX"in b?b.deltaX:S[0]-E[0],N="deltaY"in b?b.deltaY:S[1]-E[1],C,O=b.target,P=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in b&&P==="h"&&O.type==="range")return!1;var R=uO(P,O);if(!R)return!0;if(R?C=P:(C=P==="v"?"h":"v",R=uO(P,O)),!R)return!1;if(!n.current&&"changedTouches"in b&&(T||N)&&(n.current=C),!C)return!0;var M=n.current||C;return Xse(M,x,b,M==="h"?T:N)},[]),u=j.useCallback(function(b){var x=b;if(!(!td.length||td[td.length-1]!==s)){var E="deltaY"in x?dO(x):Nv(x),S=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&Jse(C.delta,E)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var T=(o.current.shards||[]).map(fO).filter(Boolean).filter(function(C){return C.contains(x.target)}),N=T.length>0?l(x,T[0]):!o.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),f=j.useCallback(function(b,x,E,S){var T={name:b,delta:x,target:E,should:S,shadowParent:rae(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),h=j.useCallback(function(b){r.current=Nv(b),n.current=void 0},[]),m=j.useCallback(function(b){f(b.type,dO(b),b.target,l(b,t.lockRef.current))},[]),p=j.useCallback(function(b){f(b.type,Nv(b),b.target,l(b,t.lockRef.current))},[]);j.useEffect(function(){return td.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",u,ed),document.addEventListener("touchmove",u,ed),document.addEventListener("touchstart",h,ed),function(){td=td.filter(function(b){return b!==s}),document.removeEventListener("wheel",u,ed),document.removeEventListener("touchmove",u,ed),document.removeEventListener("touchstart",h,ed)}},[]);var y=t.removeScrollBar,_=t.inert;return j.createElement(j.Fragment,null,_?j.createElement(s,{styles:Zse(i)}):null,y?j.createElement(qse,{gapMode:t.gapMode}):null)}function rae(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nae=Pse(LB,tae);var ZT=j.forwardRef(function(t,e){return j.createElement(yb,Ks({},t,{ref:e,sideCar:nae}))});ZT.classNames=yb.classNames;var iae=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rd=new WeakMap,Ev=new WeakMap,Av={},I1=0,UB=function(t){return t&&(t.host||UB(t.parentNode))},sae=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=UB(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},aae=function(t,e,r,n){var i=sae(e,Array.isArray(t)?t:[t]);Av[r]||(Av[r]=new WeakMap);var s=Av[r],o=[],l=new Set,u=new Set(i),f=function(m){!m||l.has(m)||(l.add(m),f(m.parentNode))};i.forEach(f);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(n),_=y!==null&&y!=="false",b=(rd.get(p)||0)+1,x=(s.get(p)||0)+1;rd.set(p,b),s.set(p,x),o.push(p),b===1&&_&&Ev.set(p,!0),x===1&&p.setAttribute(r,"true"),_||p.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return h(e),l.clear(),I1++,function(){o.forEach(function(m){var p=rd.get(m)-1,y=s.get(m)-1;rd.set(m,p),s.set(m,y),p||(Ev.has(m)||m.removeAttribute(n),Ev.delete(m)),y||m.removeAttribute(r)}),I1--,I1||(rd=new WeakMap,rd=new WeakMap,Ev=new WeakMap,Av={})}},zB=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=iae(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),aae(n,i,r,"aria-hidden")):function(){return null}},e2="Dialog",[qB,ZAe]=bi(e2),[oae,Cs]=qB(e2),HB=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=j.useRef(null),u=j.useRef(null),[f=!1,h]=Qn({prop:n,defaultProp:i,onChange:s});return a.jsx(oae,{scope:e,triggerRef:l,contentRef:u,contentId:xs(),titleId:xs(),descriptionId:xs(),open:f,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};HB.displayName=e2;var WB="DialogTrigger",GB=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cs(WB,r),s=yt(e,i.triggerRef);return a.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":n2(i.open),...n,ref:s,onClick:$e(t.onClick,i.onOpenToggle)})});GB.displayName=WB;var t2="DialogPortal",[lae,KB]=qB(t2,{forceMount:void 0}),YB=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Cs(t2,e);return a.jsx(lae,{scope:e,forceMount:r,children:j.Children.map(n,o=>a.jsx(la,{present:r||s.open,children:a.jsx(Hx,{asChild:!0,container:i,children:o})}))})};YB.displayName=t2;var ky="DialogOverlay",QB=j.forwardRef((t,e)=>{const r=KB(ky,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Cs(ky,t.__scopeDialog);return s.modal?a.jsx(la,{present:n||s.open,children:a.jsx(cae,{...i,ref:e})}):null});QB.displayName=ky;var cae=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cs(ky,r);return a.jsx(ZT,{as:Gc,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Ve.div,{"data-state":n2(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),eu="DialogContent",XB=j.forwardRef((t,e)=>{const r=KB(eu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Cs(eu,t.__scopeDialog);return a.jsx(la,{present:n||s.open,children:s.modal?a.jsx(uae,{...i,ref:e}):a.jsx(dae,{...i,ref:e})})});XB.displayName=eu;var uae=j.forwardRef((t,e)=>{const r=Cs(eu,t.__scopeDialog),n=j.useRef(null),i=yt(e,r.contentRef,n);return j.useEffect(()=>{const s=n.current;if(s)return zB(s)},[]),a.jsx(JB,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:$e(t.onFocusOutside,s=>s.preventDefault())})}),dae=j.forwardRef((t,e)=>{const r=Cs(eu,t.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return a.jsx(JB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),JB=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Cs(eu,r),u=j.useRef(null),f=yt(e,u);return MB(),a.jsxs(a.Fragment,{children:[a.jsx(JT,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(Ap,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":n2(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(fae,{titleId:l.titleId}),a.jsx(mae,{contentRef:u,descriptionId:l.descriptionId})]})]})}),r2="DialogTitle",ZB=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cs(r2,r);return a.jsx(Ve.h2,{id:i.titleId,...n,ref:e})});ZB.displayName=r2;var eU="DialogDescription",tU=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cs(eU,r);return a.jsx(Ve.p,{id:i.descriptionId,...n,ref:e})});tU.displayName=eU;var rU="DialogClose",nU=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cs(rU,r);return a.jsx(Ve.button,{type:"button",...n,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});nU.displayName=rU;function n2(t){return t?"open":"closed"}var iU="DialogTitleWarning",[eTe,sU]=uK(iU,{contentName:eu,titleName:r2,docsSlug:"dialog"}),fae=({titleId:t})=>{const e=sU(iU),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},hae="DialogDescriptionWarning",mae=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sU(hae).contentName}}.`;return j.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},pae=HB,gae=GB,vae=YB,aU=QB,oU=XB,lU=ZB,cU=tU,uU=nU;const Nd=pae,yae=gae,xae=vae,dU=uU,fU=j.forwardRef(({className:t,...e},r)=>a.jsx(aU,{ref:r,className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fU.displayName=aU.displayName;const Uc=j.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(xae,{children:[a.jsx(fU,{}),a.jsxs(oU,{ref:n,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(uU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uc.displayName=oU.displayName;const zc=({className:t,...e})=>a.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zc.displayName="DialogHeader";const hU=({className:t,...e})=>a.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});hU.displayName="DialogFooter";const qc=j.forwardRef(({className:t,...e},r)=>a.jsx(lU,{ref:r,className:Ye("text-lg font-semibold leading-none tracking-tight",t),...e}));qc.displayName=lU.displayName;const Hd=j.forwardRef(({className:t,...e},r)=>a.jsx(cU,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));Hd.displayName=cU.displayName;const mU=({isOpen:t,onClose:e,userProfile:r})=>a.jsx(Nd,{open:t,onOpenChange:e,children:a.jsxs(Uc,{className:"sci-fi-card max-w-md",children:[a.jsxs(zc,{children:[a.jsxs(qc,{className:"flex items-center",children:[a.jsx(lu,{className:"mr-2 h-5 w-5"}),"Your Profile"]}),a.jsx(Hd,{children:"Manage your account settings and preferences."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-b pb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Account Information"}),a.jsxs("p",{children:["Name: ",(r==null?void 0:r.displayName)||(r==null?void 0:r.name)||"N/A"]}),a.jsxs("p",{children:["Email: ",(r==null?void 0:r.email)||"N/A"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(ie,{variant:"outline",className:"sci-fi-button",children:[a.jsx(gT,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsxs(ie,{variant:"destructive",className:"sci-fi-button",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]})]})}),hO={name:"",featureUsage:{},createdAt:Date.now(),lastActive:Date.now()},bae=()=>{const t=localStorage.getItem("guestUserData");if(t)try{return JSON.parse(t)}catch(e){return console.error("Error parsing guest user data:",e),{...hO}}return{...hO}},wae=t=>{try{const e=pU(),r={...t,name:e,lastActive:Date.now()};localStorage.setItem("guestUserData",JSON.stringify(r))}catch(e){console.error("Error saving guest user data:",e)}},_ae=t=>{try{sessionStorage.setItem("guestUserName",t)}catch(e){console.error("Error saving guest name to session storage:",e)}},pU=()=>{try{return sessionStorage.getItem("guestUserName")||""}catch(t){return console.error("Error retrieving guest name from session storage:",t),""}},gU=t=>{_ae(t);const e=bae();wae({...e})},xb=()=>pU(),ua=()=>{var _;const[t,e]=j.useState(!1),[r,n]=j.useState(!1),i=gr(),{toast:s}=ar(),o=Vt(Ke),l=o.currentUser,{isGuest:u,exitGuestMode:f}=Jn(),h=xb()||"Guest",m=()=>{e(!t)},p=async()=>{try{if(u){f(),s({title:"Exited guest mode",description:"Thank you for trying SafeBite!"}),i("/");return}await jre(o),s({title:"Logged out successfully",description:"Thank you for using SafeBite!"}),i("/")}catch(b){s({title:"Logout failed",description:b.message,variant:"destructive"}),console.error("Logout error:",b)}},y=[{path:"/dashboard",name:"Dashboard",icon:a.jsx(ZF,{size:20})},{path:"/nutrition",name:"Nutrition",icon:a.jsx(Ya,{size:20,className:"text-safebite-teal"})},{path:"/recipes",name:"Recipes",icon:a.jsx(wm,{size:20})},{path:"/grocery-products",name:"Grocery Products",icon:a.jsx(n6,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"})},{path:"/community",name:"Community",icon:a.jsx($i,{size:20})},{path:"/healthbox",name:"HealthBox",icon:a.jsx(vd,{size:20,className:"text-safebite-teal"})},{path:"/weekly-questions",name:"Health Check",icon:a.jsx(yi,{size:20})},{path:"/reports",name:"Reports",icon:a.jsx(zN,{size:20})},{path:"/settings",name:"Settings",icon:a.jsx(gT,{size:20})},{path:"/help",name:"Help",icon:a.jsx(al,{size:20,className:"text-safebite-teal"}),badge:a.jsx("span",{className:"ml-2 text-xs bg-safebite-teal/20 text-safebite-teal px-1.5 py-0.5 rounded-full",children:"New"})}];return a.jsxs(a.Fragment,{children:[a.jsx(ie,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-safebite-card-bg border-safebite-card-bg-alt hover:bg-safebite-teal/10 hover:border-safebite-teal/50 transition-all duration-300 shadow-md",onClick:m,children:t?a.jsx(Xn,{size:20,className:"text-safebite-teal"}):a.jsx(e6,{size:20,className:"text-safebite-teal"})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-safebite-dark-blue border-r border-safebite-card-bg-alt transform transition-transform duration-300 ease-in-out shadow-xl ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal to-safebite-purple flex items-center justify-center mr-3",children:a.jsx(ys,{size:20,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"SafeBite"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Smart Food Safety"})]})]})}),a.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-2 px-4",children:y.map(b=>a.jsx("li",{children:a.jsxs(OZ,{to:b.path,className:({isActive:x})=>`flex items-center py-2 px-4 rounded-md transition-all duration-300 ${x?"bg-gradient-to-r from-safebite-teal to-safebite-teal/80 text-safebite-dark-blue font-medium shadow-sm shadow-safebite-teal/20":"text-safebite-text hover:bg-safebite-card-bg-alt hover:border-safebite-teal/20 hover:pl-5"}`,children:[a.jsx("span",{className:"mr-3",children:b.icon}),b.name,b.badge&&b.badge]})},b.path))})}),a.jsxs("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:[a.jsxs(ie,{variant:"ghost",className:"flex items-center space-x-3 mb-4 w-full hover:bg-safebite-card-bg-alt rounded-md p-2",onClick:()=>n(!0),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-safebite-teal/30 to-safebite-purple/30 flex items-center justify-center text-safebite-teal border border-safebite-teal/50",children:u?"G":((_=l==null?void 0:l.email)==null?void 0:_.charAt(0).toUpperCase())||"A"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 rounded-full bg-safebite-card-bg border border-safebite-card-bg-alt flex items-center justify-center",children:u?a.jsx(Kn,{size:12,className:"text-yellow-500"}):a.jsx(BI,{size:12,className:"text-safebite-teal"})})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-safebite-text font-medium",children:u?h:(l==null?void 0:l.displayName)||(l==null?void 0:l.email)||"User"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary flex items-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Kn,{size:12,className:"text-yellow-500 mr-1"})," Guest Mode"]}):a.jsxs(a.Fragment,{children:[a.jsx(BI,{size:12,className:"text-safebite-teal mr-1"})," Premium Member"]})})]}),a.jsx(lu,{size:16,className:"ml-auto text-safebite-teal"})]}),a.jsxs(ie,{variant:"outline",className:"w-full sci-fi-button flex items-center justify-center hover:border-safebite-teal/50 transition-all duration-300",onClick:p,children:[a.jsx(pY,{size:18,className:"mr-2"}),u?"Exit Guest Mode":"Sign Out"]})]})]})}),a.jsx(mU,{open:r,onClose:()=>n(!1)})]})};var mO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pl,vU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function M(){}M.prototype=R.prototype,P.D=R.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(V,$,D){for(var L=Array(arguments.length-2),B=2;B<arguments.length;B++)L[B-2]=arguments[B];return R.prototype[$].apply(V,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,R,M){M||(M=0);var V=Array(16);if(typeof R=="string")for(var $=0;16>$;++$)V[$]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for($=0;16>$;++$)V[$]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=P.g[0],M=P.g[1],$=P.g[2];var D=P.g[3],L=R+(D^M&($^D))+V[0]+3614090360&4294967295;R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[1]+3905402710&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[2]+606105819&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[3]+3250441966&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+(D^M&($^D))+V[4]+4118548399&4294967295,R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[5]+1200080426&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[6]+2821735955&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[7]+4249261313&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+(D^M&($^D))+V[8]+1770035416&4294967295,R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[9]+2336552879&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[10]+4294925233&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[11]+2304563134&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+(D^M&($^D))+V[12]+1804603682&4294967295,R=M+(L<<7&4294967295|L>>>25),L=D+($^R&(M^$))+V[13]+4254626195&4294967295,D=R+(L<<12&4294967295|L>>>20),L=$+(M^D&(R^M))+V[14]+2792965006&4294967295,$=D+(L<<17&4294967295|L>>>15),L=M+(R^$&(D^R))+V[15]+1236535329&4294967295,M=$+(L<<22&4294967295|L>>>10),L=R+($^D&(M^$))+V[1]+4129170786&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[6]+3225465664&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[11]+643717713&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[0]+3921069994&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+($^D&(M^$))+V[5]+3593408605&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[10]+38016083&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[15]+3634488961&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[4]+3889429448&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+($^D&(M^$))+V[9]+568446438&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[14]+3275163606&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[3]+4107603335&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[8]+1163531501&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+($^D&(M^$))+V[13]+2850285829&4294967295,R=M+(L<<5&4294967295|L>>>27),L=D+(M^$&(R^M))+V[2]+4243563512&4294967295,D=R+(L<<9&4294967295|L>>>23),L=$+(R^M&(D^R))+V[7]+1735328473&4294967295,$=D+(L<<14&4294967295|L>>>18),L=M+(D^R&($^D))+V[12]+2368359562&4294967295,M=$+(L<<20&4294967295|L>>>12),L=R+(M^$^D)+V[5]+4294588738&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[8]+2272392833&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[11]+1839030562&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[14]+4259657740&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+(M^$^D)+V[1]+2763975236&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[4]+1272893353&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[7]+4139469664&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[10]+3200236656&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+(M^$^D)+V[13]+681279174&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[0]+3936430074&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[3]+3572445317&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[6]+76029189&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+(M^$^D)+V[9]+3654602809&4294967295,R=M+(L<<4&4294967295|L>>>28),L=D+(R^M^$)+V[12]+3873151461&4294967295,D=R+(L<<11&4294967295|L>>>21),L=$+(D^R^M)+V[15]+530742520&4294967295,$=D+(L<<16&4294967295|L>>>16),L=M+($^D^R)+V[2]+3299628645&4294967295,M=$+(L<<23&4294967295|L>>>9),L=R+($^(M|~D))+V[0]+4096336452&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[7]+1126891415&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[14]+2878612391&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[5]+4237533241&4294967295,M=$+(L<<21&4294967295|L>>>11),L=R+($^(M|~D))+V[12]+1700485571&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[3]+2399980690&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[10]+4293915773&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[1]+2240044497&4294967295,M=$+(L<<21&4294967295|L>>>11),L=R+($^(M|~D))+V[8]+1873313359&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[15]+4264355552&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[6]+2734768916&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[13]+1309151649&4294967295,M=$+(L<<21&4294967295|L>>>11),L=R+($^(M|~D))+V[4]+4149444226&4294967295,R=M+(L<<6&4294967295|L>>>26),L=D+(M^(R|~$))+V[11]+3174756917&4294967295,D=R+(L<<10&4294967295|L>>>22),L=$+(R^(D|~M))+V[2]+718787259&4294967295,$=D+(L<<15&4294967295|L>>>17),L=M+(D^($|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+($+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+$&4294967295,P.g[3]=P.g[3]+D&4294967295}n.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var M=R-this.blockSize,V=this.B,$=this.h,D=0;D<R;){if($==0)for(;D<=M;)i(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<R;)if(V[$++]=P.charCodeAt(D++),$==this.blockSize){i(this,V),$=0;break}}else for(;D<R;)if(V[$++]=P[D++],$==this.blockSize){i(this,V),$=0;break}}this.h=$,this.o+=R},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var M=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=M&255,M/=256;for(this.u(P),P=Array(16),R=M=0;4>R;++R)for(var V=0;32>V;V+=8)P[M++]=this.g[R]>>>V&255;return P};function s(P,R){var M=l;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=R(P)}function o(P,R){this.h=R;for(var M=[],V=!0,$=P.length-1;0<=$;$--){var D=P[$]|0;V&&D==R||(M[$]=D,V=!1)}this.g=M}var l={};function u(P){return-128<=P&&128>P?s(P,function(R){return new o([R|0],0>R?-1:0)}):new o([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return x(f(-P));for(var R=[],M=1,V=0;P>=M;V++)R[V]=P/M|0,M*=4294967296;return new o(R,0)}function h(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return x(h(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(R,8)),V=m,$=0;$<P.length;$+=8){var D=Math.min(8,P.length-$),L=parseInt(P.substring($,$+D),R);8>D?(D=f(Math.pow(R,D)),V=V.j(D).add(f(L))):(V=V.j(M),V=V.add(f(L)))}return V}var m=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-x(this).m();for(var P=0,R=1,M=0;M<this.g.length;M++){var V=this.i(M);P+=(0<=V?V:4294967296+V)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(b(this))return"-"+x(this).toString(P);for(var R=f(Math.pow(P,6)),M=this,V="";;){var $=N(M,R).g;M=E(M,$.j(R));var D=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=$,_(M))return D+V;for(;6>D.length;)D="0"+D;V=D+V}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function b(P){return P.h==-1}t.l=function(P){return P=E(this,P),b(P)?-1:_(P)?0:1};function x(P){for(var R=P.g.length,M=[],V=0;V<R;V++)M[V]=~P.g[V];return new o(M,~P.h).add(p)}t.abs=function(){return b(this)?x(this):this},t.add=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],V=0,$=0;$<=R;$++){var D=V+(this.i($)&65535)+(P.i($)&65535),L=(D>>>16)+(this.i($)>>>16)+(P.i($)>>>16);V=L>>>16,D&=65535,L&=65535,M[$]=L<<16|D}return new o(M,M[M.length-1]&-2147483648?-1:0)};function E(P,R){return P.add(x(R))}t.j=function(P){if(_(this)||_(P))return m;if(b(this))return b(P)?x(this).j(x(P)):x(x(this).j(P));if(b(P))return x(this.j(x(P)));if(0>this.l(y)&&0>P.l(y))return f(this.m()*P.m());for(var R=this.g.length+P.g.length,M=[],V=0;V<2*R;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var $=0;$<P.g.length;$++){var D=this.i(V)>>>16,L=this.i(V)&65535,B=P.i($)>>>16,G=P.i($)&65535;M[2*V+2*$]+=L*G,S(M,2*V+2*$),M[2*V+2*$+1]+=D*G,S(M,2*V+2*$+1),M[2*V+2*$+1]+=L*B,S(M,2*V+2*$+1),M[2*V+2*$+2]+=D*B,S(M,2*V+2*$+2)}for(V=0;V<R;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=R;V<2*R;V++)M[V]=0;return new o(M,0)};function S(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function T(P,R){this.g=P,this.h=R}function N(P,R){if(_(R))throw Error("division by zero");if(_(P))return new T(m,m);if(b(P))return R=N(x(P),R),new T(x(R.g),x(R.h));if(b(R))return R=N(P,x(R)),new T(x(R.g),R.h);if(30<P.g.length){if(b(P)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var M=p,V=R;0>=V.l(P);)M=C(M),V=C(V);var $=O(M,1),D=O(V,1);for(V=O(V,2),M=O(M,2);!_(V);){var L=D.add(V);0>=L.l(P)&&($=$.add(M),D=L),V=O(V,1),M=O(M,1)}return R=E(P,$.j(R)),new T($,R)}for($=m;0<=P.l(R);){for(M=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),D=f(M),L=D.j(R);b(L)||0<L.l(P);)M-=V,D=f(M),L=D.j(R);_(D)&&(D=p),$=$.add(D),P=E(P,L)}return new T($,P)}t.A=function(P){return N(this,P).h},t.and=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],V=0;V<R;V++)M[V]=this.i(V)&P.i(V);return new o(M,this.h&P.h)},t.or=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],V=0;V<R;V++)M[V]=this.i(V)|P.i(V);return new o(M,this.h|P.h)},t.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],V=0;V<R;V++)M[V]=this.i(V)^P.i(V);return new o(M,this.h^P.h)};function C(P){for(var R=P.g.length+1,M=[],V=0;V<R;V++)M[V]=P.i(V)<<1|P.i(V-1)>>>31;return new o(M,P.h)}function O(P,R){var M=R>>5;R%=32;for(var V=P.g.length-M,$=[],D=0;D<V;D++)$[D]=0<R?P.i(D+M)>>>R|P.i(D+M+1)<<32-R:P.i(D+M);return new o($,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,vU=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,pl=o}).apply(typeof mO<"u"?mO:typeof self<"u"?self:typeof window<"u"?window:{});var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yU,Qh,xU,ry,bE,bU,wU,_U;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,k,F){return v==Array.prototype||v==Object.prototype||(v[k]=F.value),v};function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tv=="object"&&Tv];for(var k=0;k<v.length;++k){var F=v[k];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function i(v,k){if(k)e:{var F=n;v=v.split(".");for(var W=0;W<v.length-1;W++){var se=v[W];if(!(se in F))break e;F=F[se]}v=v[v.length-1],W=F[v],k=k(W),k!=W&&k!=null&&e(F,v,{configurable:!0,writable:!0,value:k})}}function s(v,k){v instanceof String&&(v+="");var F=0,W=!1,se={next:function(){if(!W&&F<v.length){var fe=F++;return{value:k(fe,v[fe]),done:!1}}return W=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}i("Array.prototype.values",function(v){return v||function(){return s(this,function(k,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(v){var k=typeof v;return k=k!="object"?k:v?Array.isArray(v)?"array":k:"null",k=="array"||k=="object"&&typeof v.length=="number"}function f(v){var k=typeof v;return k=="object"&&v!=null||k=="function"}function h(v,k,F){return v.call.apply(v.bind,arguments)}function m(v,k,F){if(!v)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,W),v.apply(k,se)}}return function(){return v.apply(k,arguments)}}function p(v,k,F){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function y(v,k){var F=Array.prototype.slice.call(arguments,1);return function(){var W=F.slice();return W.push.apply(W,arguments),v.apply(this,W)}}function _(v,k){function F(){}F.prototype=k.prototype,v.aa=k.prototype,v.prototype=new F,v.prototype.constructor=v,v.Qb=function(W,se,fe){for(var Te=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Te[zt-2]=arguments[zt];return k.prototype[se].apply(W,Te)}}function b(v){const k=v.length;if(0<k){const F=Array(k);for(let W=0;W<k;W++)F[W]=v[W];return F}return[]}function x(v,k){for(let F=1;F<arguments.length;F++){const W=arguments[F];if(u(W)){const se=v.length||0,fe=W.length||0;v.length=se+fe;for(let Te=0;Te<fe;Te++)v[se+Te]=W[Te]}else v.push(W)}}class E{constructor(k,F){this.i=k,this.j=F,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function S(v){return/^[\s\xa0]*$/.test(v)}function T(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function N(v){return N[" "](v),v}N[" "]=function(){};var C=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(v,k,F){for(const W in v)k.call(F,v[W],W,v)}function P(v,k){for(const F in v)k.call(void 0,v[F],F,v)}function R(v){const k={};for(const F in v)k[F]=v[F];return k}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(v,k){let F,W;for(let se=1;se<arguments.length;se++){W=arguments[se];for(F in W)v[F]=W[F];for(let fe=0;fe<M.length;fe++)F=M[fe],Object.prototype.hasOwnProperty.call(W,F)&&(v[F]=W[F])}}function $(v){var k=1;v=v.split(":");const F=[];for(;0<k&&v.length;)F.push(v.shift()),k--;return v.length&&F.push(v.join(":")),F}function D(v){l.setTimeout(()=>{throw v},0)}function L(){var v=J;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}class B{constructor(){this.h=this.g=null}add(k,F){const W=G.get();W.set(k,F),this.h?this.h.next=W:this.g=W,this.h=W}}var G=new E(()=>new q,v=>v.reset());class q{constructor(){this.next=this.g=this.h=null}set(k,F){this.h=k,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,z=!1,J=new B,re=()=>{const v=l.Promise.resolve(void 0);Y=()=>{v.then(H)}};var H=()=>{for(var v;v=L();){try{v.h.call(v.g)}catch(F){D(F)}var k=G;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}z=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const F=()=>{};l.addEventListener("test",F,k),l.removeEventListener("test",F,k)}catch{}return v}();function me(v,k){if(te.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var F=this.type=v.type,W=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(C){e:{try{N(k.nodeName);var se=!0;break e}catch{}se=!1}se||(k=null)}}else F=="mouseover"?k=v.fromElement:F=="mouseout"&&(k=v.toElement);this.relatedTarget=k,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:ge[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&me.aa.h.call(this)}}_(me,te);var ge={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),ve=0;function de(v,k,F,W,se){this.listener=v,this.proxy=null,this.src=k,this.type=F,this.capture=!!W,this.ha=se,this.key=++ve,this.da=this.fa=!1}function he(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ne(v){this.src=v,this.g={},this.h=0}Ne.prototype.add=function(v,k,F,W,se){var fe=v.toString();v=this.g[fe],v||(v=this.g[fe]=[],this.h++);var Te=qe(v,k,W,se);return-1<Te?(k=v[Te],F||(k.fa=!1)):(k=new de(k,this.src,fe,!!W,se),k.fa=F,v.push(k)),k};function le(v,k){var F=k.type;if(F in v.g){var W=v.g[F],se=Array.prototype.indexOf.call(W,k,void 0),fe;(fe=0<=se)&&Array.prototype.splice.call(W,se,1),fe&&(he(k),v.g[F].length==0&&(delete v.g[F],v.h--))}}function qe(v,k,F,W){for(var se=0;se<v.length;++se){var fe=v[se];if(!fe.da&&fe.listener==k&&fe.capture==!!F&&fe.ha==W)return se}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),ze={};function at(v,k,F,W,se){if(Array.isArray(k)){for(var fe=0;fe<k.length;fe++)at(v,k[fe],F,W,se);return null}return F=Mn(F),v&&v[ue]?v.K(k,F,f(W)?!!W.capture:!1,se):Bt(v,k,F,!1,W,se)}function Bt(v,k,F,W,se,fe){if(!k)throw Error("Invalid event type");var Te=f(se)?!!se.capture:!!se,zt=qt(v);if(zt||(v[Re]=zt=new Ne(v)),F=zt.add(k,F,W,Te,fe),F.proxy)return F;if(W=Ar(),F.proxy=W,W.src=v,W.listener=F,v.addEventListener)ee||(se=Te),se===void 0&&(se=!1),v.addEventListener(k.toString(),W,se);else if(v.attachEvent)v.attachEvent(ct(k.toString()),W);else if(v.addListener&&v.removeListener)v.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Ar(){function v(F){return k.call(v.src,v.listener,F)}const k=Ut;return v}function Ce(v,k,F,W,se){if(Array.isArray(k))for(var fe=0;fe<k.length;fe++)Ce(v,k[fe],F,W,se);else W=f(W)?!!W.capture:!!W,F=Mn(F),v&&v[ue]?(v=v.i,k=String(k).toString(),k in v.g&&(fe=v.g[k],F=qe(fe,F,W,se),-1<F&&(he(fe[F]),Array.prototype.splice.call(fe,F,1),fe.length==0&&(delete v.g[k],v.h--)))):v&&(v=qt(v))&&(k=v.g[k.toString()],v=-1,k&&(v=qe(k,F,W,se)),(F=-1<v?k[v]:null)&&Qe(F))}function Qe(v){if(typeof v!="number"&&v&&!v.da){var k=v.src;if(k&&k[ue])le(k.i,v);else{var F=v.type,W=v.proxy;k.removeEventListener?k.removeEventListener(F,W,v.capture):k.detachEvent?k.detachEvent(ct(F),W):k.addListener&&k.removeListener&&k.removeListener(W),(F=qt(k))?(le(F,v),F.h==0&&(F.src=null,k[Re]=null)):he(v)}}}function ct(v){return v in ze?ze[v]:ze[v]="on"+v}function Ut(v,k){if(v.da)v=!0;else{k=new me(k,this);var F=v.listener,W=v.ha||v.src;v.fa&&Qe(v),v=F.call(W,k)}return v}function qt(v){return v=v[Re],v instanceof Ne?v:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mn(v){return typeof v=="function"?v:(v[cn]||(v[cn]=function(k){return v.handleEvent(k)}),v[cn])}function ut(){X.call(this),this.i=new Ne(this),this.M=this,this.F=null}_(ut,X),ut.prototype[ue]=!0,ut.prototype.removeEventListener=function(v,k,F,W){Ce(this,v,k,F,W)};function Nt(v,k){var F,W=v.F;if(W)for(F=[];W;W=W.F)F.push(W);if(v=v.M,W=k.type||k,typeof k=="string")k=new te(k,v);else if(k instanceof te)k.target=k.target||v;else{var se=k;k=new te(W,v),V(k,se)}if(se=!0,F)for(var fe=F.length-1;0<=fe;fe--){var Te=k.g=F[fe];se=wi(Te,W,!0,k)&&se}if(Te=k.g=v,se=wi(Te,W,!0,k)&&se,se=wi(Te,W,!1,k)&&se,F)for(fe=0;fe<F.length;fe++)Te=k.g=F[fe],se=wi(Te,W,!1,k)&&se}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var v=this.i,k;for(k in v.g){for(var F=v.g[k],W=0;W<F.length;W++)he(F[W]);delete v.g[k],v.h--}}this.F=null},ut.prototype.K=function(v,k,F,W){return this.i.add(String(v),k,!1,F,W)},ut.prototype.L=function(v,k,F,W){return this.i.add(String(v),k,!0,F,W)};function wi(v,k,F,W){if(k=v.i.g[String(k)],!k)return!0;k=k.concat();for(var se=!0,fe=0;fe<k.length;++fe){var Te=k[fe];if(Te&&!Te.da&&Te.capture==F){var zt=Te.listener,Mr=Te.ha||Te.src;Te.fa&&le(v.i,Te),se=zt.call(Mr,W)!==!1&&se}}return se&&!W.defaultPrevented}function _i(v,k,F){if(typeof v=="function")F&&(v=p(v,F));else if(v&&typeof v.handleEvent=="function")v=p(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(v,k||0)}function Wi(v){v.g=_i(()=>{v.g=null,v.i&&(v.i=!1,Wi(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}class ha extends X{constructor(k,F){super(),this.m=k,this.l=F,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Wi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(v){X.call(this),this.h=v,this.g={}}_(Ps,X);var vo=[];function Ql(v){O(v.g,function(k,F){this.g.hasOwnProperty(F)&&Qe(k)},v),v.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Ql(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=l.JSON.stringify,Dn=l.JSON.parse,Xl=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Xe(){}Xe.prototype.h=null;function Pt(v){return v.h||(v.h=v.i())}function Ct(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){te.call(this,"d")}_(wr,te);function Gi(){te.call(this,"c")}_(Gi,te);var ji={},Qf=null;function Jl(){return Qf=Qf||new ut}ji.La="serverreachability";function Xf(v){te.call(this,ji.La,v)}_(Xf,te);function pa(v){const k=Jl();Nt(k,new Xf(k))}ji.STAT_EVENT="statevent";function Jf(v,k){te.call(this,ji.STAT_EVENT,v),this.stat=k}_(Jf,te);function _r(v){const k=Jl();Nt(k,new Jf(k,v))}ji.Ma="timingevent";function gu(v,k){te.call(this,ji.Ma,v),this.size=k}_(gu,te);function Ki(v,k){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},k)}function Zl(){this.g=!0}Zl.prototype.xa=function(){this.g=!1};function ec(v,k,F,W,se,fe){v.info(function(){if(v.g)if(fe)for(var Te="",zt=fe.split("&"),Mr=0;Mr<zt.length;Mr++){var Et=zt[Mr].split("=");if(1<Et.length){var qr=Et[0];Et=Et[1];var Tr=qr.split("_");Te=2<=Tr.length&&Tr[1]=="type"?Te+(qr+"="+Et+"&"):Te+(qr+"=redacted&")}}else Te=null;else Te=fe;return"XMLHTTP REQ ("+W+") [attempt "+se+"]: "+k+`
`+F+`
`+Te})}function vu(v,k,F,W,se,fe,Te){v.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+se+"]: "+k+`
`+F+`
`+fe+" "+Te})}function Yi(v,k,F,W){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+A0(v,F)+(W?" "+W:"")})}function Zf(v,k){v.info(function(){return"TIMEOUT: "+k})}Zl.prototype.info=function(){};function A0(v,k){if(!v.g)return k;if(!k)return null;try{var F=JSON.parse(k);if(F){for(v=0;v<F.length;v++)if(Array.isArray(F[v])){var W=F[v];if(!(2>W.length)){var se=W[1];if(Array.isArray(se)&&!(1>se.length)){var fe=se[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Te=1;Te<se.length;Te++)se[Te]=""}}}}return ma(F)}catch{return k}}var yu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qi;function tc(){}_(tc,Xe),tc.prototype.g=function(){return new XMLHttpRequest},tc.prototype.i=function(){return{}},Qi=new tc;function Xi(v,k,F,W){this.j=v,this.i=k,this.l=F,this.R=W||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tg}function tg(){this.i=null,this.g="",this.h=!1}var eh={},xu={};function bu(v,k,F){v.L=1,v.v=_o(ti(k)),v.m=F,v.P=!0,th(v,null)}function th(v,k){v.F=Date.now(),Qt(v),v.A=ti(v.v);var F=v.A,W=v.R;Array.isArray(W)||(W=[String(W)]),So(F.i,"t",W),v.C=0,F=v.j.J,v.h=new tg,v.g=xg(v.j,F?k:null,!v.m),0<v.O&&(v.M=new ha(p(v.Y,v,v.g),v.O)),k=v.U,F=v.g,W=v.ca;var se="readystatechange";Array.isArray(se)||(se&&(vo[0]=se.toString()),se=vo);for(var fe=0;fe<se.length;fe++){var Te=at(F,se[fe],W||k.handleEvent,!1,k.h||k);if(!Te)break;k.g[Te.key]=Te}k=v.H?R(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),pa(),ec(v.i,v.u,v.A,v.l,v.R,v.m)}Xi.prototype.ca=function(v){v=v.target;const k=this.M;k&&$n(v)==3?k.j():this.Y(v)},Xi.prototype.Y=function(v){try{if(v==this.g)e:{const Tr=$n(this.g);var k=this.g.Ba();const Ei=this.g.Z();if(!(3>Tr)&&(Tr!=3||this.g&&(this.h.h||this.g.oa()||oh(this.g)))){this.J||Tr!=4||k==7||(k==8||0>=Ei?pa(3):pa(2)),rc(this);var F=this.g.Z();this.X=F;t:if(rg(this)){var W=oh(this.g);v="";var se=W.length,fe=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),yo(this);var Te="";break t}this.h.i=new l.TextDecoder}for(k=0;k<se;k++)this.h.h=!0,v+=this.h.i.decode(W[k],{stream:!(fe&&k==se-1)});W.length=0,this.h.g+=v,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=F==200,vu(this.i,this.u,this.A,this.l,this.R,Tr,F),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,Mr=this.g;if((zt=Mr.g?Mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(zt)){var Et=zt;break t}}Et=null}if(F=Et)Yi(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rh(this,F);else{this.o=!1,this.s=3,_r(12),Si(this),yo(this);break e}}if(this.P){F=!0;let ni;for(;!this.J&&this.C<Te.length;)if(ni=T0(this,Te),ni==xu){Tr==4&&(this.s=4,_r(14),F=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==eh){this.s=4,_r(15),Yi(this.i,this.l,Te,"[Invalid Chunk]"),F=!1;break}else Yi(this.i,this.l,ni,null),rh(this,ni);if(rg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tr!=4||Te.length!=0||this.h.h||(this.s=1,_r(16),F=!1),this.o=this.o&&F,!F)Yi(this.i,this.l,Te,"[Invalid Chunked Response]"),Si(this),yo(this);else if(0<Te.length&&!this.W){this.W=!0;var qr=this.j;qr.g==this&&qr.ba&&!qr.M&&(qr.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),ch(qr),qr.M=!0,_r(11))}}else Yi(this.i,this.l,Te,null),rh(this,Te);Tr==4&&Si(this),this.o&&!this.J&&(Tr==4?Pu(this.j,this):(this.o=!1,Qt(this)))}else Eu(this.g),F==400&&0<Te.indexOf("Unknown SID")?(this.s=3,_r(12)):(this.s=0,_r(13)),Si(this),yo(this)}}}catch{}finally{}};function rg(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function T0(v,k){var F=v.C,W=k.indexOf(`
`,F);return W==-1?xu:(F=Number(k.substring(F,W)),isNaN(F)?eh:(W+=1,W+F>k.length?xu:(k=k.slice(W,W+F),v.C=W+F,k)))}Xi.prototype.cancel=function(){this.J=!0,Si(this)};function Qt(v){v.S=Date.now()+v.I,ng(v,v.I)}function ng(v,k){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Ki(p(v.ba,v),k)}function rc(v){v.B&&(l.clearTimeout(v.B),v.B=null)}Xi.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Zf(this.i,this.A),this.L!=2&&(pa(),_r(17)),Si(this),this.s=2,yo(this)):ng(this,this.S-v)};function yo(v){v.j.G==0||v.J||Pu(v.j,v)}function Si(v){rc(v);var k=v.M;k&&typeof k.ma=="function"&&k.ma(),v.M=null,Ql(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function rh(v,k){try{var F=v.j;if(F.G!=0&&(F.g==v||Nn(F.h,v))){if(!v.K&&Nn(F.h,v)&&F.G==3){try{var W=F.Da.g.parse(k)}catch{W=null}if(Array.isArray(W)&&W.length==3){var se=W;if(se[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<v.F)ku(F),rs(F);else break e;Cu(F),_r(18)}}else F.za=se[1],0<F.za-F.T&&37500>se[2]&&F.F&&F.v==0&&!F.C&&(F.C=Ki(p(F.Za,F),6e3));if(1>=sg(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else ba(F,11)}else if((v.K||F.g==v)&&ku(F),!S(k))for(se=F.Da.g.parse(k),k=0;k<se.length;k++){let Et=se[k];if(F.T=Et[0],Et=Et[1],F.G==2)if(Et[0]=="c"){F.K=Et[1],F.ia=Et[2];const qr=Et[3];qr!=null&&(F.la=qr,F.j.info("VER="+F.la));const Tr=Et[4];Tr!=null&&(F.Aa=Tr,F.j.info("SVER="+F.Aa));const Ei=Et[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(W=1.5*Ei,F.L=W,F.j.info("backChannelRequestTimeoutMs_="+W)),W=F;const ni=v.g;if(ni){const cc=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cc){var fe=W.h;fe.g||cc.indexOf("spdy")==-1&&cc.indexOf("quic")==-1&&cc.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(nh(fe,fe.h),fe.h=null))}if(W.D){const Ru=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ru&&(W.ya=Ru,Kt(W.I,W.D,Ru))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-v.F,F.j.info("Handshake RTT: "+F.R+"ms")),W=F;var Te=v;if(W.qa=yg(W,W.J?W.ia:null,W.W),Te.K){ag(W.h,Te);var zt=Te,Mr=W.L;Mr&&(zt.I=Mr),zt.B&&(rc(zt),Qt(zt)),W.g=Te}else lc(W);0<F.i.length&&Ms(F)}else Et[0]!="stop"&&Et[0]!="close"||ba(F,7);else F.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?ba(F,7):Zr(F):Et[0]!="noop"&&F.l&&F.l.ta(Et),F.v=0)}}pa(4)}catch{}}var ig=class{constructor(v,k){this.g=v,this.map=k}};function nc(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ei(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function sg(v){return v.h?1:v.g?v.g.size:0}function Nn(v,k){return v.h?v.h==k:v.g?v.g.has(k):!1}function nh(v,k){v.g?v.g.add(k):v.h=k}function ag(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}nc.prototype.cancel=function(){if(this.i=og(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function og(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let k=v.i;for(const F of v.g.values())k=k.concat(F.D);return k}return b(v.i)}function wu(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var k=[],F=v.length,W=0;W<F;W++)k.push(v[W]);return k}k=[],F=0;for(W in v)k[F++]=v[W];return k}function _u(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var k=[];v=v.length;for(var F=0;F<v;F++)k.push(F);return k}k=[],F=0;for(const W in v)k[F++]=W;return k}}}function xo(v,k){if(v.forEach&&typeof v.forEach=="function")v.forEach(k,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,k,void 0);else for(var F=_u(v),W=wu(v),se=W.length,fe=0;fe<se;fe++)k.call(void 0,W[fe],F&&F[fe],v)}var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C0(v,k){if(v){v=v.split("&");for(var F=0;F<v.length;F++){var W=v[F].indexOf("="),se=null;if(0<=W){var fe=v[F].substring(0,W);se=v[F].substring(W+1)}else fe=v[F];k(fe,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function ga(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof ga){this.h=v.h,sc(this,v.j),this.o=v.o,this.g=v.g,bo(this,v.s),this.l=v.l;var k=v.i,F=new Is;F.i=k.i,k.g&&(F.g=new Map(k.g),F.h=k.h),wo(this,F),this.m=v.m}else v&&(k=String(v).match(ic))?(this.h=!1,sc(this,k[1]||"",!0),this.o=jt(k[2]||""),this.g=jt(k[3]||"",!0),bo(this,k[4]),this.l=jt(k[5]||"",!0),wo(this,k[6]||"",!0),this.m=jt(k[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}ga.prototype.toString=function(){var v=[],k=this.j;k&&v.push(jo(k,ju,!0),":");var F=this.g;return(F||k=="file")&&(v.push("//"),(k=this.o)&&v.push(jo(k,ju,!0),"@"),v.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&v.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&v.push("/"),v.push(jo(F,F.charAt(0)=="/"?ug:cg,!0))),(F=this.i.toString())&&v.push("?",F),(F=this.m)&&v.push("#",jo(F,ih)),v.join("")};function ti(v){return new ga(v)}function sc(v,k,F){v.j=F?jt(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function bo(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function wo(v,k,F){k instanceof Is?(v.i=k,Rs(v.i,v.h)):(F||(k=jo(k,dg)),v.i=new Is(k,v.h))}function Kt(v,k,F){v.i.set(k,F)}function _o(v){return Kt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function jt(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function jo(v,k,F){return typeof v=="string"?(v=encodeURI(v).replace(k,lg),F&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function lg(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var ju=/[#\/\?@]/g,cg=/[#\?:]/g,ug=/[#\?]/g,dg=/[#\?@]/g,ih=/#/g;function Is(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function Jr(v){v.g||(v.g=new Map,v.h=0,v.i&&C0(v.i,function(k,F){v.add(decodeURIComponent(k.replace(/\+/g," ")),F)}))}t=Is.prototype,t.add=function(v,k){Jr(this),this.i=null,v=Ni(this,v);var F=this.g.get(v);return F||this.g.set(v,F=[]),F.push(k),this.h+=1,this};function Ji(v,k){Jr(v),k=Ni(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function Zi(v,k){return Jr(v),k=Ni(v,k),v.g.has(k)}t.forEach=function(v,k){Jr(this),this.g.forEach(function(F,W){F.forEach(function(se){v.call(k,se,W,this)},this)},this)},t.na=function(){Jr(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),F=[];for(let W=0;W<k.length;W++){const se=v[W];for(let fe=0;fe<se.length;fe++)F.push(k[W])}return F},t.V=function(v){Jr(this);let k=[];if(typeof v=="string")Zi(this,v)&&(k=k.concat(this.g.get(Ni(this,v))));else{v=Array.from(this.g.values());for(let F=0;F<v.length;F++)k=k.concat(v[F])}return k},t.set=function(v,k){return Jr(this),this.i=null,v=Ni(this,v),Zi(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},t.get=function(v,k){return v?(v=this.V(v),0<v.length?String(v[0]):k):k};function So(v,k,F){Ji(v,k),0<F.length&&(v.i=null,v.g.set(Ni(v,k),b(F)),v.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var F=0;F<k.length;F++){var W=k[F];const fe=encodeURIComponent(String(W)),Te=this.V(W);for(W=0;W<Te.length;W++){var se=fe;Te[W]!==""&&(se+="="+encodeURIComponent(String(Te[W]))),v.push(se)}}return this.i=v.join("&")};function Ni(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function Rs(v,k){k&&!v.j&&(Jr(v),v.i=null,v.g.forEach(function(F,W){var se=W.toLowerCase();W!=se&&(Ji(this,W),So(this,se,F))},v)),v.j=k}function k0(v,k){const F=new Zl;if(l.Image){const W=new Image;W.onload=y(Ln,F,"TestLoadImage: loaded",!0,k,W),W.onerror=y(Ln,F,"TestLoadImage: error",!1,k,W),W.onabort=y(Ln,F,"TestLoadImage: abort",!1,k,W),W.ontimeout=y(Ln,F,"TestLoadImage: timeout",!1,k,W),l.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=v}else k(!1)}function fg(v,k){const F=new Zl,W=new AbortController,se=setTimeout(()=>{W.abort(),Ln(F,"TestPingServer: timeout",!1,k)},1e4);fetch(v,{signal:W.signal}).then(fe=>{clearTimeout(se),fe.ok?Ln(F,"TestPingServer: ok",!0,k):Ln(F,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(se),Ln(F,"TestPingServer: error",!1,k)})}function Ln(v,k,F,W,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),W(F)}catch{}}function P0(){this.g=new Xl}function hg(v,k,F){const W=F||"";try{xo(v,function(se,fe){let Te=se;f(se)&&(Te=ma(se)),k.push(W+fe+"="+encodeURIComponent(Te))})}catch(se){throw k.push(W+"type="+encodeURIComponent("_badmap")),se}}function va(v){this.l=v.Ub||null,this.j=v.eb||!1}_(va,Xe),va.prototype.g=function(){return new ac(this.l,this.j)},va.prototype.i=function(v){return function(){return v}}({});function ac(v,k){ut.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ac,ut),t=ac.prototype,t.open=function(v,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,ts(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mg(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function mg(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?es(this):ts(this),this.readyState==3&&mg(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,es(this))},t.Qa=function(v){this.g&&(this.response=v,es(this))},t.ga=function(){this.g&&es(this)};function es(v){v.readyState=4,v.l=null,v.j=null,v.v=null,ts(v)}t.setRequestHeader=function(v,k){this.u.append(v,k)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var F=k.next();!F.done;)F=F.value,v.push(F[0]+": "+F[1]),F=k.next();return v.join(`\r
`)};function ts(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function ya(v){let k="";return O(v,function(F,W){k+=W,k+=":",k+=F,k+=`\r
`}),k}function No(v,k,F){e:{for(W in F){var W=!1;break e}W=!0}W||(F=ya(F),typeof v=="string"?F!=null&&encodeURIComponent(String(F)):Kt(v,k,F))}function or(v){ut.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(or,ut);var I0=/^https?$/i,sh=["POST","PUT"];t=or.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,k,F,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qi.g(),this.v=this.o?Pt(this.o):Pt(Qi),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(fe){oc(this,fe);return}if(v=F||"",F=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var se in W)F.set(se,W[se]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const fe of W.keys())F.set(fe,W.get(fe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(F.keys()).find(fe=>fe.toLowerCase()=="content-type"),se=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(sh,k,void 0))||W||se||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Te]of F)this.g.setRequestHeader(fe,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nu(this),this.u=!0,this.g.send(v),this.u=!1}catch(fe){oc(this,fe)}};function oc(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,Su(v),ri(v)}function Su(v){v.A||(v.A=!0,Nt(v,"complete"),Nt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Nt(this,"complete"),Nt(this,"abort"),ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),or.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ah(this):this.bb())},t.bb=function(){ah(this)};function ah(v){if(v.h&&typeof o<"u"&&(!v.v[1]||$n(v)!=4||v.Z()!=2)){if(v.u&&$n(v)==4)_i(v.Ea,0,v);else if(Nt(v,"readystatechange"),$n(v)==4){v.h=!1;try{const Te=v.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var F;if(!(F=k)){var W;if(W=Te===0){var se=String(v.D).match(ic)[1]||null;!se&&l.self&&l.self.location&&(se=l.self.location.protocol.slice(0,-1)),W=!I0.test(se?se.toLowerCase():"")}F=W}if(F)Nt(v,"complete"),Nt(v,"success");else{v.m=6;try{var fe=2<$n(v)?v.g.statusText:""}catch{fe=""}v.l=fe+" ["+v.Z()+"]",Su(v)}}finally{ri(v)}}}}function ri(v,k){if(v.g){Nu(v);const F=v.g,W=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||Nt(v,"ready");try{F.onreadystatechange=W}catch{}}}function Nu(v){v.I&&(l.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function $n(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&k.indexOf(v)==0&&(k=k.substring(v.length)),Dn(k)}};function oh(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Eu(v){const k={};v=(v.g&&2<=$n(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<v.length;W++){if(S(v[W]))continue;var F=$(v[W]);const se=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const fe=k[se]||[];k[se]=fe,fe.push(F)}P(k,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(v,k,F){return F&&F.internalChannelParams&&F.internalChannelParams[v]||k}function lh(v){this.Aa=0,this.i=[],this.j=new Zl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,v),this.cb=Os("retryDelaySeedMs",1e4,v),this.Wa=Os("forwardChannelMaxRetries",2,v),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new nc(v&&v.concurrentRequestLimit),this.Da=new P0,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lh.prototype,t.la=8,t.G=1,t.connect=function(v,k,F,W){_r(0),this.W=v,this.H=k||{},F&&W!==void 0&&(this.H.OSID=F,this.H.OAID=W),this.F=this.X,this.I=yg(this,null,this.W),Ms(this)};function Zr(v){if(Au(v),v.G==3){var k=v.U++,F=ti(v.I);if(Kt(F,"SID",v.K),Kt(F,"RID",k),Kt(F,"TYPE","terminate"),xa(v,F),k=new Xi(v,v.j,k),k.L=2,k.v=_o(ti(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=k.v,F=!0),F||(k.g=xg(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Qt(k)}vg(v)}function rs(v){v.g&&(ch(v),v.g.cancel(),v.g=null)}function Au(v){rs(v),v.u&&(l.clearTimeout(v.u),v.u=null),ku(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function Ms(v){if(!ei(v.h)&&!v.s){v.s=!0;var k=v.Ga;Y||re(),z||(Y(),z=!0),J.add(k,v),v.B=0}}function R0(v,k){return sg(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=k.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Ki(p(v.Ga,v,k),gg(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const se=new Xi(this,this.j,v);let fe=this.o;if(this.S&&(fe?(fe=R(fe),V(fe,this.S)):fe=this.S),this.m!==null||this.O||(se.H=fe,fe=null),this.P)e:{for(var k=0,F=0;F<this.i.length;F++){t:{var W=this.i[F];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(k+=W,4096<k){k=F;break e}if(k===4096||F===this.i.length-1){k=F+1;break e}}k=1e3}else k=1e3;k=Eo(this,se,k),F=ti(this.I),Kt(F,"RID",v),Kt(F,"CVER",22),this.D&&Kt(F,"X-HTTP-Session-Id",this.D),xa(this,F),fe&&(this.O?k="headers="+encodeURIComponent(String(ya(fe)))+"&"+k:this.m&&No(F,this.m,fe)),nh(this.h,se),this.Ua&&Kt(F,"TYPE","init"),this.P?(Kt(F,"$req",k),Kt(F,"SID","null"),se.T=!0,bu(se,F,null)):bu(se,F,k),this.G=2}}else this.G==3&&(v?Tu(this,v):this.i.length==0||ei(this.h)||Tu(this))};function Tu(v,k){var F;k?F=k.l:F=v.U++;const W=ti(v.I);Kt(W,"SID",v.K),Kt(W,"RID",F),Kt(W,"AID",v.T),xa(v,W),v.m&&v.o&&No(W,v.m,v.o),F=new Xi(v,v.j,F,v.B+1),v.m===null&&(F.H=v.o),k&&(v.i=k.D.concat(v.i)),k=Eo(v,F,1e3),F.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),nh(v.h,F),bu(F,W,k)}function xa(v,k){v.H&&O(v.H,function(F,W){Kt(k,W,F)}),v.l&&xo({},function(F,W){Kt(k,W,F)})}function Eo(v,k,F){F=Math.min(v.i.length,F);var W=v.l?p(v.l.Na,v.l,v):null;e:{var se=v.i;let fe=-1;for(;;){const Te=["count="+F];fe==-1?0<F?(fe=se[0].g,Te.push("ofs="+fe)):fe=0:Te.push("ofs="+fe);let zt=!0;for(let Mr=0;Mr<F;Mr++){let Et=se[Mr].g;const qr=se[Mr].map;if(Et-=fe,0>Et)fe=Math.max(0,se[Mr].g-100),zt=!1;else try{hg(qr,Te,"req"+Et+"_")}catch{W&&W(qr)}}if(zt){W=Te.join("&");break e}}}return v=v.i.splice(0,F),k.D=v,W}function lc(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;Y||re(),z||(Y(),z=!0),J.add(k,v),v.v=0}}function Cu(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Ki(p(v.Fa,v),gg(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,pg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ki(p(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_r(10),rs(this),pg(this))};function ch(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function pg(v){v.g=new Xi(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var k=ti(v.qa);Kt(k,"RID","rpc"),Kt(k,"SID",v.K),Kt(k,"AID",v.T),Kt(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&Kt(k,"TO",v.ja),Kt(k,"TYPE","xmlhttp"),xa(v,k),v.m&&v.o&&No(k,v.m,v.o),v.L&&(v.g.I=v.L);var F=v.g;v=v.ia,F.L=1,F.v=_o(ti(k)),F.m=null,F.P=!0,th(F,v)}t.Za=function(){this.C!=null&&(this.C=null,rs(this),Cu(this),_r(19))};function ku(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Pu(v,k){var F=null;if(v.g==k){ku(v),ch(v),v.g=null;var W=2}else if(Nn(v.h,k))F=k.D,ag(v.h,k),W=1;else return;if(v.G!=0){if(k.o)if(W==1){F=k.m?k.m.length:0,k=Date.now()-k.F;var se=v.B;W=Jl(),Nt(W,new gu(W,F)),Ms(v)}else lc(v);else if(se=k.s,se==3||se==0&&0<k.X||!(W==1&&R0(v,k)||W==2&&Cu(v)))switch(F&&0<F.length&&(k=v.h,k.i=k.i.concat(F)),se){case 1:ba(v,5);break;case 4:ba(v,10);break;case 3:ba(v,6);break;default:ba(v,2)}}}function gg(v,k){let F=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(F*=2),F*k}function ba(v,k){if(v.j.info("Error code "+k),k==2){var F=p(v.fb,v),W=v.Xa;const se=!W;W=new ga(W||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||sc(W,"https"),_o(W),se?k0(W.toString(),F):fg(W.toString(),F)}else _r(2);v.G=0,v.l&&v.l.sa(k),vg(v),Au(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),_r(2)):(this.j.info("Failed to ping google.com"),_r(1))};function vg(v){if(v.G=0,v.ka=[],v.l){const k=og(v.h);(k.length!=0||v.i.length!=0)&&(x(v.ka,k),x(v.ka,v.i),v.h.i.length=0,b(v.i),v.i.length=0),v.l.ra()}}function yg(v,k,F){var W=F instanceof ga?ti(F):new ga(F);if(W.g!="")k&&(W.g=k+"."+W.g),bo(W,W.s);else{var se=l.location;W=se.protocol,k=k?k+"."+se.hostname:se.hostname,se=+se.port;var fe=new ga(null);W&&sc(fe,W),k&&(fe.g=k),se&&bo(fe,se),F&&(fe.l=F),W=fe}return F=v.D,k=v.ya,F&&k&&Kt(W,F,k),Kt(W,"VER",v.la),xa(v,W),W}function xg(v,k,F){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=v.Ca&&!v.pa?new or(new va({eb:F})):new or(v.pa),k.Ha(v.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Iu(){}Iu.prototype.g=function(v,k){return new En(v,k)};function En(v,k){ut.call(this),this.g=new lh(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!S(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!S(k)&&(this.g.D=k,v=this.h,v!==null&&k in v&&(v=this.h,k in v&&delete v[k])),this.j=new Ds(this)}_(En,ut),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Zr(this.g)},En.prototype.o=function(v){var k=this.g;if(typeof v=="string"){var F={};F.__data__=v,v=F}else this.u&&(F={},F.__data__=ma(v),v=F);k.i.push(new ig(k.Ya++,v)),k.G==3&&Ms(k)},En.prototype.N=function(){this.g.l=null,delete this.j,Zr(this.g),delete this.g,En.aa.N.call(this)};function bg(v){wr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const F in k){v=F;break e}v=void 0}(this.i=v)&&(v=this.i,k=k!==null&&v in k?k[v]:void 0),this.data=k}else this.data=v}_(bg,wr);function wg(){Gi.call(this),this.status=1}_(wg,Gi);function Ds(v){this.g=v}_(Ds,uh),Ds.prototype.ua=function(){Nt(this.g,"a")},Ds.prototype.ta=function(v){Nt(this.g,new bg(v))},Ds.prototype.sa=function(v){Nt(this.g,new wg)},Ds.prototype.ra=function(){Nt(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,_U=function(){return new Iu},wU=function(){return Jl()},bU=ji,bE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yu.NO_ERROR=0,yu.TIMEOUT=8,yu.HTTP_ERROR=6,ry=yu,eg.COMPLETE="complete",xU=eg,Ct.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Qh=Ct,or.prototype.listenOnce=or.prototype.L,or.prototype.getLastError=or.prototype.Ka,or.prototype.getLastErrorCode=or.prototype.Ba,or.prototype.getStatus=or.prototype.Z,or.prototype.getResponseJson=or.prototype.Oa,or.prototype.getResponseText=or.prototype.oa,or.prototype.send=or.prototype.ea,or.prototype.setWithCredentials=or.prototype.Ha,yU=or}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});const pO="@firebase/firestore",gO="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new ub("@firebase/firestore");function od(){return tu.logLevel}function Pe(t,...e){if(tu.logLevel<=xt.DEBUG){const r=e.map(i2);tu.debug(`Firestore (${Pf}): ${t}`,...r)}}function to(t,...e){if(tu.logLevel<=xt.ERROR){const r=e.map(i2);tu.error(`Firestore (${Pf}): ${t}`,...r)}}function Wd(t,...e){if(tu.logLevel<=xt.WARN){const r=e.map(i2);tu.warn(`Firestore (${Pf}): ${t}`,...r)}}function i2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t="Unexpected state"){const e=`FIRESTORE (${Pf}) INTERNAL ASSERTION FAILED: `+t;throw to(e),new Error(e)}function Ft(t,e){t||tt()}function st(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Ts{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(yn.UNAUTHENTICATED))}shutdown(){}}class Sae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Nae{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ft(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let s=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qa)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ft(typeof n.accessToken=="string"),new jU(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new yn(e)}}class Eae{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Aae{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new Eae(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tae{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Ft(this.o===void 0);const n=s=>{s.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new vO(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ft(typeof r.token=="string"),this.R=r.token,new vO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Cae(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function ht(t,e){return t<e?-1:t>e?1:0}function wE(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return ht(n,i);{const s=SU(),o=kae(s.encode(yO(t,r)),s.encode(yO(e,r)));return o!==0?o:ht(n,i)}}r+=n>65535?2:1}return ht(t.length,e.length)}function yO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kae(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return ht(t[r],e[r]);return ht(t.length,e.length)}function Gd(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=-62135596800,bO=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*bO);return new br(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<xO)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bO}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new br(0,0))}static max(){return new nt(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="__name__";class zs{constructor(e,r,n){r===void 0?r=0:r>e.length&&tt(),n===void 0?n=e.length-r:n>e.length-r&&tt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=zs.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return ht(e.length,r.length)}static compareSegments(e,r){const n=zs.isNumericId(e),i=zs.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?zs.extractNumericId(e).compare(zs.extractNumericId(r)):wE(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pl.fromString(e.substring(4,e.length-2))}}class ir extends zs{construct(e,r,n){return new ir(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new ir(r)}static emptyPath(){return new ir([])}}const Pae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends zs{construct(e,r,n){return new an(e,r,n)}static isValidIdentifier(e){return Pae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wO}static keyField(){return new an([wO])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ie(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ie(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ie(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(s(),i++)}if(s(),o)throw new Ie(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(r)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(ir.fromString(e))}static fromName(e){return new He(ir.fromString(e).popFirst(5))}static empty(){return new He(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ir.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ir.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new ir(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-1;function Iae(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=nt.fromTimestamp(n===1e9?new br(r+1,0):new br(r,n));return new Al(i,He.empty(),e)}function Rae(t){return new Al(t.readTime,t.key,Im)}class Al{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Al(nt.min(),He.empty(),Im)}static max(){return new Al(nt.max(),He.empty(),Im)}}function Oae(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=He.comparator(t.documentKey,e.documentKey),r!==0?r:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==Mae)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new xe((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof xe?r:xe.resolve(r)}catch(r){return xe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):xe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):xe.reject(r)}static resolve(e){return new xe((r,n)=>{r(e)})}static reject(e){return new xe((r,n)=>{n(e)})}static waitFor(e){return new xe((r,n)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&r()},u=>n(u))}),o=!0,s===i&&r()})}static or(e){let r=xe.resolve(!1);for(const n of e)r=r.next(i=>i?xe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new xe((n,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const f=u;r(e[f]).next(h=>{o[f]=h,++l,l===s&&n(o)},h=>i(h))}})}static doWhile(e,r){return new xe((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function Lae(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Rf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bb.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=-1;function wb(t){return t==null}function Py(t){return t===0&&1/t==-1/0}function $ae(t){return typeof t=="number"&&Number.isInteger(t)&&!Py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="";function Fae(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=_O(e)),e=Vae(t.get(r),e);return _O(e)}function Vae(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case EU:r+="";break;default:r+=s}}return r}function _O(t){return t+EU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Fl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function AU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,r){this.comparator=e,this.root=r||sn.EMPTY}insert(e,r){return new pr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cv(this.root,e,this.comparator,!0)}}class Cv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??sn.RED,this.left=i??sn.EMPTY,this.right=s??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new sn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new sn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new SO(this.data.getIterator())}getIteratorFrom(e){return new SO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Br(this.comparator);return r.data=e,r}}class SO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new mi([])}unionWith(e){let r=new Br(an.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new mi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Gd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TU("Invalid base64 string: "+s):s}}(e);return new ln(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ln(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Bae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(t){if(Ft(!!t),typeof t=="string"){let e=0;const r=Bae.exec(t);if(Ft(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Sr(t.seconds),nanos:Sr(t.nanos)}}function Sr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cl(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU="server_timestamp",kU="__type__",PU="__previous_value__",IU="__local_write_time__";function a2(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kU])===null||r===void 0?void 0:r.stringValue)===CU}function _b(t){const e=t.mapValue.fields[PU];return a2(e)?_b(e):e}function Rm(t){const e=Tl(t.mapValue.fields[IU].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(e,r,n,i,s,o,l,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f}}const Iy="(default)";class Om{constructor(e,r){this.projectId=e,this.database=r||Iy}static empty(){return new Om("","")}get isDefaultDatabase(){return this.database===Iy}isEqual(e){return e instanceof Om&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="__type__",zae="__max__",kv={mapValue:{}},OU="__vector__",Ry="value";function kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a2(t)?4:Hae(t)?9007199254740991:qae(t)?10:11:tt()}function ia(t,e){if(t===e)return!0;const r=kl(t);if(r!==kl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rm(t).isEqual(Rm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Tl(i.timestampValue),l=Tl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Cl(i.bytesValue).isEqual(Cl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Sr(i.geoPointValue.latitude)===Sr(s.geoPointValue.latitude)&&Sr(i.geoPointValue.longitude)===Sr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Sr(i.integerValue)===Sr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Sr(i.doubleValue),l=Sr(s.doubleValue);return o===l?Py(o)===Py(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Gd(t.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(jO(o)!==jO(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!ia(o[u],l[u])))return!1;return!0}(t,e);default:return tt()}}function Mm(t,e){return(t.values||[]).find(r=>ia(r,e))!==void 0}function Kd(t,e){if(t===e)return 0;const r=kl(t),n=kl(e);if(r!==n)return ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Sr(s.integerValue||s.doubleValue),u=Sr(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return NO(t.timestampValue,e.timestampValue);case 4:return NO(Rm(t),Rm(e));case 5:return wE(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Cl(s),u=Cl(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let f=0;f<l.length&&f<u.length;f++){const h=ht(l[f],u[f]);if(h!==0)return h}return ht(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ht(Sr(s.latitude),Sr(o.latitude));return l!==0?l:ht(Sr(s.longitude),Sr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return EO(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,f,h;const m=s.fields||{},p=o.fields||{},y=(l=m[Ry])===null||l===void 0?void 0:l.arrayValue,_=(u=p[Ry])===null||u===void 0?void 0:u.arrayValue,b=ht(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:EO(y,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===kv.mapValue&&o===kv.mapValue)return 0;if(s===kv.mapValue)return 1;if(o===kv.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),f=o.fields||{},h=Object.keys(f);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=wE(u[m],h[m]);if(p!==0)return p;const y=Kd(l[u[m]],f[h[m]]);if(y!==0)return y}return ht(u.length,h.length)}(t.mapValue,e.mapValue);default:throw tt()}}function NO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const r=Tl(t),n=Tl(e),i=ht(r.seconds,n.seconds);return i!==0?i:ht(r.nanos,n.nanos)}function EO(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Kd(r[i],n[i]);if(s)return s}return ht(r.length,n.length)}function Yd(t){return _E(t)}function _E(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Tl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Cl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return He.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=_E(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${_E(r.fields[o])}`;return i+"}"}(t.mapValue):tt()}function ny(t){switch(kl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_b(t);return e?16+ny(e):16;case 5:return 2*t.stringValue.length;case 6:return Cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+ny(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Fl(n.fields,(s,o)=>{i+=s.length+ny(o)}),i}(t.mapValue);default:throw tt()}}function AO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jE(t){return!!t&&"integerValue"in t}function o2(t){return!!t&&"arrayValue"in t}function TO(t){return!!t&&"nullValue"in t}function CO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iy(t){return!!t&&"mapValue"in t}function qae(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[RU])===null||r===void 0?void 0:r.stringValue)===OU}function cm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=cm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=cm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Hae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!iy(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=cm(r)}setAll(e){let r=an.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=cm(o):i.push(l.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());iy(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Fl(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Wn(cm(this.value))}}function MU(t){const e=[];return Fl(t.fields,(r,n)=>{const i=new an([r]);if(iy(n)){const s=MU(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,r,n,i,s,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new bn(e,0,nt.min(),nt.min(),nt.min(),Wn.empty(),0)}static newFoundDocument(e,r,n,i){return new bn(e,1,r,nt.min(),n,i,0)}static newNoDocument(e,r){return new bn(e,2,r,nt.min(),nt.min(),Wn.empty(),0)}static newUnknownDocument(e,r){return new bn(e,3,r,nt.min(),nt.min(),Wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,r){this.position=e,this.inclusive=r}}function kO(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=He.comparator(He.fromName(o.referenceValue),r.key):n=Kd(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function PO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ia(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,r="asc"){this.field=e,this.dir=r}}function Wae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{}class Rr extends DU{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Kae(e,r,n):r==="array-contains"?new Xae(e,n):r==="in"?new Jae(e,n):r==="not-in"?new Zae(e,n):r==="array-contains-any"?new eoe(e,n):new Rr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Yae(e,n):new Qae(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Kd(r,this.value)):r!==null&&kl(this.value)===kl(r)&&this.matchesComparison(Kd(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends DU{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Es(e,r)}matches(e){return LU(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function LU(t){return t.op==="and"}function $U(t){return Gae(t)&&LU(t)}function Gae(t){for(const e of t.filters)if(e instanceof Es)return!1;return!0}function SE(t){if(t instanceof Rr)return t.field.canonicalString()+t.op.toString()+Yd(t.value);if($U(t))return t.filters.map(e=>SE(e)).join(",");{const e=t.filters.map(r=>SE(r)).join(",");return`${t.op}(${e})`}}function FU(t,e){return t instanceof Rr?function(n,i){return i instanceof Rr&&n.op===i.op&&n.field.isEqual(i.field)&&ia(n.value,i.value)}(t,e):t instanceof Es?function(n,i){return i instanceof Es&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,l)=>s&&FU(o,i.filters[l]),!0):!1}(t,e):void tt()}function VU(t){return t instanceof Rr?function(r){return`${r.field.canonicalString()} ${r.op} ${Yd(r.value)}`}(t):t instanceof Es?function(r){return r.op.toString()+" {"+r.getFilters().map(VU).join(" ,")+"}"}(t):"Filter"}class Kae extends Rr{constructor(e,r,n){super(e,r,n),this.key=He.fromName(n.referenceValue)}matches(e){const r=He.comparator(e.key,this.key);return this.matchesComparison(r)}}class Yae extends Rr{constructor(e,r){super(e,"in",r),this.keys=BU("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Qae extends Rr{constructor(e,r){super(e,"not-in",r),this.keys=BU("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function BU(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>He.fromName(n.referenceValue))}class Xae extends Rr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return o2(r)&&Mm(r.arrayValue,this.value)}}class Jae extends Rr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Mm(this.value.arrayValue,r)}}class Zae extends Rr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Mm(this.value.arrayValue,r)}}class eoe extends Rr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!o2(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Mm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class toe{constructor(e,r=null,n=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.le=null}}function IO(t,e=null,r=[],n=[],i=null,s=null,o=null){return new toe(t,e,r,n,i,s,o)}function l2(t){const e=st(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>SE(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),wb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Yd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Yd(n)).join(",")),e.le=r}return e.le}function c2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Wae(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!FU(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PO(t.startAt,e.startAt)&&PO(t.endAt,e.endAt)}function NE(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,r=null,n=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function roe(t,e,r,n,i,s,o,l){return new Of(t,e,r,n,i,s,o,l)}function jb(t){return new Of(t)}function RO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UU(t){return t.collectionGroup!==null}function um(t){const e=st(t);if(e.he===null){e.he=[];const r=new Set;for(const s of e.explicitOrderBy)e.he.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Br(an.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.he.push(new Dm(s,n))}),r.has(an.keyField().canonicalString())||e.he.push(new Dm(an.keyField(),n))}return e.he}function Js(t){const e=st(t);return e.Pe||(e.Pe=noe(e,um(t))),e.Pe}function noe(t,e){if(t.limitType==="F")return IO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dm(i.field,s)});const r=t.endAt?new Oy(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Oy(t.startAt.position,t.startAt.inclusive):null;return IO(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function EE(t,e){const r=t.filters.concat([e]);return new Of(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function My(t,e,r){return new Of(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Sb(t,e){return c2(Js(t),Js(e))&&t.limitType===e.limitType}function zU(t){return`${l2(Js(t))}|lt:${t.limitType}`}function ld(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>VU(i)).join(", ")}]`),wb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Yd(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Yd(i)).join(",")),`Target(${n})`}(Js(t))}; limitType=${t.limitType})`}function Nb(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):He.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of um(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,l,u){const f=kO(o,l,u);return o.inclusive?f<=0:f<0}(n.startAt,um(n),i)||n.endAt&&!function(o,l,u){const f=kO(o,l,u);return o.inclusive?f>=0:f>0}(n.endAt,um(n),i))}(t,e)}function ioe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qU(t){return(e,r)=>{let n=!1;for(const i of um(t)){const s=soe(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function soe(t,e,r){const n=t.field.isKeyField()?He.comparator(e.key,r.key):function(s,o,l){const u=o.data.field(s),f=l.data.field(s);return u!==null&&f!==null?Kd(u,f):tt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return AU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe=new pr(He.comparator);function ro(){return aoe}const HU=new pr(He.comparator);function Xh(...t){let e=HU;for(const r of t)e=e.insert(r.key,r);return e}function WU(t){let e=HU;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Pc(){return dm()}function GU(){return dm()}function dm(){return new du(t=>t.toString(),(t,e)=>t.isEqual(e))}const ooe=new pr(He.comparator),loe=new Br(He.comparator);function _t(...t){let e=loe;for(const r of t)e=e.add(r);return e}const coe=new Br(ht);function uoe(){return coe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Py(e)?"-0":e}}function KU(t){return{integerValue:""+t}}function doe(t,e){return $ae(e)?KU(e):u2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this._=void 0}}function foe(t,e,r){return t instanceof Lm?function(i,s){const o={fields:{[kU]:{stringValue:CU},[IU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a2(s)&&(s=_b(s)),s&&(o.fields[PU]=s),{mapValue:o}}(r,e):t instanceof Qd?QU(t,e):t instanceof $m?XU(t,e):function(i,s){const o=YU(i,s),l=OO(o)+OO(i.Ie);return jE(o)&&jE(i.Ie)?KU(l):u2(i.serializer,l)}(t,e)}function hoe(t,e,r){return t instanceof Qd?QU(t,e):t instanceof $m?XU(t,e):r}function YU(t,e){return t instanceof Dy?function(n){return jE(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Lm extends Eb{}class Qd extends Eb{constructor(e){super(),this.elements=e}}function QU(t,e){const r=JU(e);for(const n of t.elements)r.some(i=>ia(i,n))||r.push(n);return{arrayValue:{values:r}}}class $m extends Eb{constructor(e){super(),this.elements=e}}function XU(t,e){let r=JU(e);for(const n of t.elements)r=r.filter(i=>!ia(i,n));return{arrayValue:{values:r}}}class Dy extends Eb{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function OO(t){return Sr(t.integerValue||t.doubleValue)}function JU(t){return o2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,r){this.field=e,this.transform=r}}function moe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Qd&&i instanceof Qd||n instanceof $m&&i instanceof $m?Gd(n.elements,i.elements,ia):n instanceof Dy&&i instanceof Dy?ia(n.Ie,i.Ie):n instanceof Lm&&i instanceof Lm}(t.transform,e.transform)}class poe{constructor(e,r){this.version=e,this.transformResults=r}}class ws{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ab{}function e8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new r8(t.key,ws.none()):new $p(t.key,t.data,ws.none());{const r=t.data,n=Wn.empty();let i=new Br(an.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new Vl(t.key,n,new mi(i.toArray()),ws.none())}}function goe(t,e,r){t instanceof $p?function(i,s,o){const l=i.value.clone(),u=DO(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Vl?function(i,s,o){if(!sy(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=DO(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(t8(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function fm(t,e,r,n){return t instanceof $p?function(s,o,l,u){if(!sy(s.precondition,o))return l;const f=s.value.clone(),h=LO(s.fieldTransforms,u,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Vl?function(s,o,l,u){if(!sy(s.precondition,o))return l;const f=LO(s.fieldTransforms,u,o),h=o.data;return h.setAll(t8(s)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(s,o,l){return sy(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function voe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=YU(n.transform,i||null);s!=null&&(r===null&&(r=Wn.empty()),r.set(n.field,s))}return r||null}function MO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Gd(n,i,(s,o)=>moe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $p extends Ab{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vl extends Ab{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function t8(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function DO(t,e,r){const n=new Map;Ft(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);n.set(s.field,hoe(o,l,r[i]))}return n}function LO(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,foe(s,o,e))}return n}class r8 extends Ab{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yoe extends Ab{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&goe(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=fm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=fm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=GU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=r.has(i.key)?null:l;const u=e8(o,l);u!==null&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(nt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),_t())}isEqual(e){return this.batchId===e.batchId&&Gd(this.mutations,e.mutations,(r,n)=>MO(r,n))&&Gd(this.baseMutations,e.baseMutations,(r,n)=>MO(r,n))}}class d2{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ft(e.mutations.length===n.length);let i=function(){return ooe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new d2(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr,At;function _oe(t){switch(t){case ye.OK:return tt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return tt()}}function n8(t){if(t===void 0)return to("GRPC error has no .code"),ye.UNKNOWN;switch(t){case kr.OK:return ye.OK;case kr.CANCELLED:return ye.CANCELLED;case kr.UNKNOWN:return ye.UNKNOWN;case kr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case kr.INTERNAL:return ye.INTERNAL;case kr.UNAVAILABLE:return ye.UNAVAILABLE;case kr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case kr.NOT_FOUND:return ye.NOT_FOUND;case kr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case kr.ABORTED:return ye.ABORTED;case kr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case kr.DATA_LOSS:return ye.DATA_LOSS;default:return tt()}}(At=kr||(kr={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=new pl([4294967295,4294967295],0);function $O(t){const e=SU().encode(t),r=new vU;return r.update(e),new Uint8Array(r.digest())}function FO(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pl([r,n],0),new pl([i,s],0)]}class f2{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Jh(`Invalid padding: ${r}`);if(n<0)throw new Jh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Jh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Jh(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=pl.fromNumber(this.Ee)}Ae(e,r,n){let i=e.add(r.multiply(pl.fromNumber(n)));return i.compare(joe)===1&&(i=new pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=$O(e),[n,i]=FO(r);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,i,s);if(!this.Re(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new f2(s,i,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const r=$O(e),[n,i]=FO(r);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,i,s);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Fp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Tb(nt.min(),i,new pr(ht),ro(),_t())}}class Fp{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Fp(n,r,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,r,n,i){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=i}}class i8{constructor(e,r){this.targetId=e,this.ge=r}}class s8{constructor(e,r,n=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class VO{constructor(){this.pe=0,this.ye=BO(),this.we=ln.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=_t(),r=_t(),n=_t();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:tt()}}),new Fp(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=BO()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Soe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ro(),this.$e=Pv(),this.Ue=Pv(),this.Ke=new pr(ht)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:tt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((n,i)=>{this.Je(i)&&r(i)})}Ze(e){const r=e.targetId,n=e.ge.count,i=this.Xe(r);if(i){const s=i.target;if(NE(s))if(n===0){const o=new He(s.path);this.ze(r,o,bn.newNoDocument(o,nt.min()))}else Ft(n===1);else{const o=this.et(r);if(o!==n){const l=this.tt(e),u=l?this.nt(l,e,o):1;if(u!==0){this.Ye(r);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,f)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,l;try{o=Cl(n).toUint8Array()}catch(u){if(u instanceof TU)return Wd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new f2(o,i,s)}catch(u){return Wd(u instanceof Jh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.ze(r,s,null),i++)}),i}ot(e){const r=new Map;this.qe.forEach((s,o)=>{const l=this.Xe(o);if(l){if(s.current&&NE(l.target)){const u=new He(l.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,bn.newNoDocument(u,e))}s.ve&&(r.set(o,s.Fe()),s.Me())}});let n=_t();this.Ue.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const f=this.Xe(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Tb(e,r,this.Ke,this.Qe,n);return this.Qe=ro(),this.$e=Pv(),this.Ue=Pv(),this.Ke=new pr(ht),i}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new VO,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new Br(ht),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new Br(ht),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||Pe("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new VO),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function Pv(){return new pr(He.comparator)}function BO(){return new pr(He.comparator)}const Noe={asc:"ASCENDING",desc:"DESCENDING"},Eoe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aoe={and:"AND",or:"OR"};class Toe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function AE(t,e){return t.useProto3Json||wb(e)?e:{value:e}}function Ly(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Coe(t,e){return Ly(t,e.toTimestamp())}function Zs(t){return Ft(!!t),nt.fromTimestamp(function(r){const n=Tl(r);return new br(n.seconds,n.nanos)}(t))}function h2(t,e){return TE(t,e).canonicalString()}function TE(t,e){const r=function(i){return new ir(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function o8(t){const e=ir.fromString(t);return Ft(f8(e)),e}function CE(t,e){return h2(t.databaseId,e.path)}function R1(t,e){const r=o8(e);if(r.get(1)!==t.databaseId.projectId)throw new Ie(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ie(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new He(c8(r))}function l8(t,e){return h2(t.databaseId,e)}function koe(t){const e=o8(t);return e.length===4?ir.emptyPath():c8(e)}function kE(t){return new ir(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c8(t){return Ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UO(t,e,r){return{name:CE(t,e),fields:r.value.mapValue.fields}}function Poe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,h){return f.useProto3Json?(Ft(h===void 0||typeof h=="string"),ln.fromBase64String(h||"")):(Ft(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ln.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const h=f.code===void 0?ye.UNKNOWN:n8(f.code);return new Ie(h,f.message||"")}(o);r=new s8(n,i,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=R1(t,n.document.name),s=Zs(n.document.updateTime),o=n.document.createTime?Zs(n.document.createTime):nt.min(),l=new Wn({mapValue:{fields:n.document.fields}}),u=bn.newFoundDocument(i,s,o,l),f=n.targetIds||[],h=n.removedTargetIds||[];r=new ay(f,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=R1(t,n.document),s=n.readTime?Zs(n.readTime):nt.min(),o=bn.newNoDocument(i,s),l=n.removedTargetIds||[];r=new ay([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=R1(t,n.document),s=n.removedTargetIds||[];r=new ay([],s,i,null)}else{if(!("filter"in e))return tt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new woe(i,s),l=n.targetId;r=new i8(l,o)}}return r}function Ioe(t,e){let r;if(e instanceof $p)r={update:UO(t,e.key,e.value)};else if(e instanceof r8)r={delete:CE(t,e.key)};else if(e instanceof Vl)r={update:UO(t,e.key,e.data),updateMask:Boe(e.fieldMask)};else{if(!(e instanceof yoe))return tt();r={verify:CE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof Lm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $m)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dy)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw tt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Coe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tt()}(t,e.precondition)),r}function Roe(t,e){return t&&t.length>0?(Ft(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?Zs(i.updateTime):Zs(s);return o.isEqual(nt.min())&&(o=Zs(s)),new poe(o,i.transformResults||[])}(r,e))):[]}function Ooe(t,e){return{documents:[l8(t,e.path)]}}function Moe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=l8(t,i);const s=function(f){if(f.length!==0)return d8(Es.create(f,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(h=>function(p){return{field:cd(p.field),direction:$oe(p.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=AE(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:r,parent:i}}function Doe(t){let e=koe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ft(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];r.where&&(s=function(m){const p=u8(m);return p instanceof Es&&$U(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(m){return m.map(p=>function(_){return new Dm(ud(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(r.orderBy));let l=null;r.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,wb(p)?null:p}(r.limit));let u=null;r.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new Oy(y,p)}(r.startAt));let f=null;return r.endAt&&(f=function(m){const p=!m.before,y=m.values||[];return new Oy(y,p)}(r.endAt)),roe(e,i,o,s,l,"F",u,f)}function Loe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function u8(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ud(r.unaryFilter.field);return Rr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ud(r.unaryFilter.field);return Rr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ud(r.unaryFilter.field);return Rr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ud(r.unaryFilter.field);return Rr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(t):t.fieldFilter!==void 0?function(r){return Rr.create(ud(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Es.create(r.compositeFilter.filters.map(n=>u8(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt()}}(r.compositeFilter.op))}(t):tt()}function $oe(t){return Noe[t]}function Foe(t){return Eoe[t]}function Voe(t){return Aoe[t]}function cd(t){return{fieldPath:t.canonicalString()}}function ud(t){return an.fromServerFormat(t.fieldPath)}function d8(t){return t instanceof Rr?function(r){if(r.op==="=="){if(CO(r.value))return{unaryFilter:{field:cd(r.field),op:"IS_NAN"}};if(TO(r.value))return{unaryFilter:{field:cd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(CO(r.value))return{unaryFilter:{field:cd(r.field),op:"IS_NOT_NAN"}};if(TO(r.value))return{unaryFilter:{field:cd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(r.field),op:Foe(r.op),value:r.value}}}(t):t instanceof Es?function(r){const n=r.getFilters().map(i=>d8(i));return n.length===1?n[0]:{compositeFilter:{op:Voe(r.op),filters:n}}}(t):tt()}function Boe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function f8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,r,n,i,s=nt.min(),o=nt.min(),l=ln.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.Tt=e}}function zoe(t){const e=Doe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?My(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qoe{constructor(){this.Tn=new Hoe}addToCollectionParentIndex(e,r){return this.Tn.add(r),xe.resolve()}getCollectionParents(e,r){return xe.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return xe.resolve()}deleteFieldIndex(e,r){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,r){return xe.resolve()}getDocumentsMatchingTarget(e,r){return xe.resolve(null)}getIndexType(e,r){return xe.resolve(0)}getFieldIndexes(e,r){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,r){return xe.resolve(Al.min())}getMinOffsetFromCollectionGroup(e,r){return xe.resolve(Al.min())}updateCollectionGroup(e,r,n){return xe.resolve()}updateIndexEntries(e,r){return xe.resolve()}}class Hoe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Br(ir.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Br(ir.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h8=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(h8,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Xd(0)}static Kn(){return new Xd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="LruGarbageCollector",Woe=1048576;function HO([t,e],[r,n]){const i=ht(t,r);return i===0?ht(e,n):i}class Goe{constructor(e){this.Hn=e,this.buffer=new Br(HO),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();HO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Koe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Pe(qO,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Rf(r)?Pe(qO,"Ignoring IndexedDB error during garbage collection: ",r):await If(r)}await this.er(3e5)})}}class Yoe{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return xe.resolve(bb.ae);const n=new Goe(r);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(zO)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zO):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,i,s,o,l,u,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(n=m,l=Date.now(),this.removeTargets(e,n,r))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(m=>(f=Date.now(),od()<=xt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-h}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function Qoe(t,e){return new Yoe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(){this.changes=new du(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?xe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&fm(n.mutation,i,mi.empty(),br.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,_t()).next(()=>n))}getLocalViewOfDocuments(e,r,n=_t()){const i=Pc();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=Xh();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Pc();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,_t()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,i){let s=ro();const o=dm(),l=function(){return dm()}();return r.forEach((u,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Vl)?s=s.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),fm(h.mutation,f,h.mutation.getFieldMask(),br.now())):o.set(f.key,mi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((f,h)=>o.set(f,h)),r.forEach((f,h)=>{var m;return l.set(f,new Joe(h,(m=o.get(f))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,r){const n=dm();let i=new pr((o,l)=>o-l),s=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(u=>{const f=r.get(u);if(f===null)return;let h=n.get(u)||mi.empty();h=l.applyToLocalView(f,h),n.set(u,h);const m=(i.get(l.batchId)||_t()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,h=u.value,m=GU();h.forEach(p=>{if(!s.has(p)){const y=e8(r.get(p),n.get(p));y!==null&&m.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,m))}return xe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return He.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):UU(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):xe.resolve(Pc());let l=Im,u=s;return o.next(f=>xe.forEach(f,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(h)?xe.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,u,f,_t())).next(h=>({batchId:l,changes:WU(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new He(r)).next(n=>{let i=Xh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Xh();return this.indexManager.getCollectionParents(e,s).next(l=>xe.forEach(l,u=>{const f=function(m,p){return new Of(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((u,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,bn.newInvalidDocument(h)))});let l=Xh();return o.forEach((u,f)=>{const h=s.get(u);h!==void 0&&fm(h.mutation,f,mi.empty(),br.now()),Nb(r,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return xe.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Zs(i.createTime)}}(r)),xe.resolve()}getNamedQuery(e,r){return xe.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:zoe(i.bundledQuery),readTime:Zs(i.readTime)}}(r)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tle{constructor(){this.overlays=new pr(He.comparator),this.Rr=new Map}getOverlay(e,r){return xe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Pc();return xe.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.Et(e,r,s)}),xe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(n)),xe.resolve()}getOverlaysForCollection(e,r,n){const i=Pc(),s=r.length+1,o=new He(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new pr((f,h)=>f-h);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=s.get(f.largestBatchId);h===null&&(h=Pc(),s=s.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Pc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return xe.resolve(l)}Et(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new boe(r,n));let s=this.Rr.get(r);s===void 0&&(s=_t(),this.Rr.set(r,s)),this.Rr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Vr=new Br(Kr.mr),this.gr=new Br(Kr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new Kr(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.wr(new Kr(e,r))}Sr(e,r){e.forEach(n=>this.removeReference(n,r))}br(e){const r=new He(new ir([])),n=new Kr(r,e),i=new Kr(r,e+1),s=[];return this.gr.forEachInRange([n,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new He(new ir([])),n=new Kr(r,e),i=new Kr(r,e+1);let s=_t();return this.gr.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Kr(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Kr{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return He.comparator(e.key,r.key)||ht(e.Cr,r.Cr)}static pr(e,r){return ht(e.Cr,r.Cr)||He.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nle{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Br(Kr.mr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xoe(s,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Mr=this.Mr.add(new Kr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(e,r){return xe.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Nr(n),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?s2:this.Fr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Kr(r,0),i=new Kr(r,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([n,i],o=>{const l=this.Or(o.Cr);s.push(l)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Br(ht);return r.forEach(i=>{const s=new Kr(i,0),o=new Kr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],l=>{n=n.add(l.Cr)})}),xe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;He.isDocumentKey(s)||(s=s.child(""));const o=new Kr(new He(s),0);let l=new Br(ht);return this.Mr.forEachWhile(u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Cr)),!0)},o),xe.resolve(this.Br(l))}Br(e){const r=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ft(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return xe.forEach(r.mutations,i=>{const s=new Kr(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,r){const n=new Kr(r,0),i=this.Mr.firstAfterOrEqual(n);return xe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(e){this.kr=e,this.docs=function(){return new pr(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return xe.resolve(n?n.document.mutableCopy():bn.newInvalidDocument(r))}getEntries(e,r){let n=ro();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():bn.newInvalidDocument(i))}),xe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=ro();const o=r.path,l=new He(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:h}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Oae(Rae(h),n)<=0||(i.has(h.key)||Nb(r,h))&&(s=s.insert(h.key,h.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(e,r,n,i){tt()}qr(e,r){return xe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new sle(this)}getSize(e){return xe.resolve(this.size)}}class sle extends Xoe{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),xe.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(e){this.persistence=e,this.Qr=new du(r=>l2(r),c2),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new m2,this.targetCount=0,this.Kr=Xd.Un()}forEachTarget(e,r){return this.Qr.forEach((n,i)=>r(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),xe.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new Xd(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,xe.resolve()}updateTargetData(e,r){return this.zn(r),xe.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return xe.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),xe.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),xe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return xe.resolve(n)}containsKey(e,r){return xe.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new bb(0),this.zr=!1,this.zr=!0,this.jr=new rle,this.referenceDelegate=e(this),this.Hr=new ale(this),this.indexManager=new qoe,this.remoteDocumentCache=function(i){return new ile(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new Uoe(r),this.Yr=new ele(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new tle,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new nle(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){Pe("MemoryPersistence","Starting transaction:",e);const i=new ole(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,r){return xe.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,r)))}}class ole extends Dae{constructor(e){super(),this.currentSequenceNumber=e}}class p2{constructor(e){this.persistence=e,this.ti=new m2,this.ni=null}static ri(e){return new p2(e)}get ii(){if(this.ni)return this.ni;throw tt()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),xe.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),xe.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),xe.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.ii,n=>{const i=He.fromPath(n);return this.si(e,i).next(s=>{s||r.removeEntry(i,nt.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return xe.or([()=>xe.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class $y{constructor(e,r){this.persistence=e,this.oi=new du(n=>Fae(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Qoe(this,r)}static ri(e,r){return new $y(e,r)}Zr(){}Xr(e){return xe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}rr(e,r){return xe.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(s=>s?xe.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,r).next(l=>{l||(n++,s.removeEntry(o,nt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),xe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),xe.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),xe.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ny(e.data.value)),r}ar(e,r,n){return xe.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.oi.get(r);return xe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=i}static Yi(e,r){let n=_t(),i=_t();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g2(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eee()?8:Lae(Sn())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.rs(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new lle;return this._s(e,r,o).next(l=>{if(s.result=l,this.Xi)return this.us(e,r,o,l.size)})}).next(()=>s.result)}us(e,r,n,i){return n.documentReadCount<this.es?(od()<=xt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",ld(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),xe.resolve()):(od()<=xt.DEBUG&&Pe("QueryEngine","Query:",ld(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(od()<=xt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",ld(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(r))):xe.resolve())}rs(e,r){if(RO(r))return xe.resolve(null);let n=Js(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=My(r,null,"F"),n=Js(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=_t(...s);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const f=this.cs(r,l);return this.ls(r,f,o,u.readTime)?this.rs(e,My(r,null,"F")):this.hs(e,f,r,u)}))})))}ss(e,r,n,i){return RO(r)||i.isEqual(nt.min())?xe.resolve(null):this.ns.getDocuments(e,n).next(s=>{const o=this.cs(r,s);return this.ls(r,o,n,i)?xe.resolve(null):(od()<=xt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ld(r)),this.hs(e,o,r,Iae(i,Im)).next(l=>l))})}cs(e,r){let n=new Br(qU(e));return r.forEach((i,s)=>{Nb(e,s)&&(n=n.add(s))}),n}ls(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,r,n){return od()<=xt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",ld(r)),this.ns.getDocumentsMatchingQuery(e,r,Al.min(),n)}hs(e,r,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="LocalStore",ule=3e8;class dle{constructor(e,r,n,i){this.persistence=e,this.Ps=r,this.serializer=i,this.Ts=new pr(ht),this.Is=new du(s=>l2(s),c2),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zoe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function fle(t,e,r,n){return new dle(t,e,r,n)}async function p8(t,e){const r=st(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.As(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let u=_t();for(const f of i){o.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}for(const f of s){l.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}return r.localDocuments.getDocuments(n,u).next(f=>({Rs:f,removedBatchIds:o,addedBatchIds:l}))})})}function hle(t,e){const r=st(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,f,h){const m=f.batch,p=m.keys();let y=xe.resolve();return p.forEach(_=>{y=y.next(()=>h.getEntry(u,_)).next(b=>{const x=f.docVersions.get(_);Ft(x!==null),b.version.compareTo(x)<0&&(m.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),h.addEntry(b)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=_t();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function g8(t){const e=st(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function mle(t,e){const r=st(t),n=e.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const l=[];e.targetChanges.forEach((h,m)=>{const p=i.get(m);if(!p)return;l.push(r.Hr.removeMatchingKeys(s,h.removedDocuments,m).next(()=>r.Hr.addMatchingKeys(s,h.addedDocuments,m)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(ln.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,n)),i=i.insert(m,y),function(b,x,E){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=ule?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,y,h)&&l.push(r.Hr.updateTargetData(s,y))});let u=ro(),f=_t();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(ple(s,o,e.documentUpdates).next(h=>{u=h.Vs,f=h.fs})),!n.isEqual(nt.min())){const h=r.Hr.getLastRemoteSnapshotVersion(s).next(m=>r.Hr.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(h)}return xe.waitFor(l).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(r.Ts=i,s))}function ple(t,e,r){let n=_t(),i=_t();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=ro();return r.forEach((l,u)=>{const f=s.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(nt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Pe(v2,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function gle(t,e){const r=st(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=s2),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function vle(t,e){const r=st(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Hr.getTargetData(n,e).next(s=>s?(i=s,xe.resolve(i)):r.Hr.allocateTargetId(n).next(o=>(i=new cl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n})}async function PE(t,e,r){const n=st(t),i=n.Ts.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Rf(o))throw o;Pe(v2,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function WO(t,e,r){const n=st(t);let i=nt.min(),s=_t();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,h){const m=st(u),p=m.Is.get(h);return p!==void 0?xe.resolve(m.Ts.get(p)):m.Hr.getTargetData(f,h)}(n,o,Js(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>n.Ps.getDocumentsMatchingQuery(o,e,r?i:nt.min(),r?s:_t())).next(l=>(yle(n,ioe(e),l),{documents:l,gs:s})))}function yle(t,e,r){let n=t.Es.get(e)||nt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Es.set(e,n)}class GO{constructor(){this.activeTargetIds=uoe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xle{constructor(){this.ho=new GO,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new GO,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="ConnectivityMonitor";class YO{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Pe(KO,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Pe(KO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv=null;function IE(){return Iv===null?Iv=function(){return 268435456+Math.round(2147483648*Math.random())}():Iv++,"0x"+Iv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="RestConnection",wle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _le{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===Iy?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,r,n,i,s){const o=IE(),l=this.bo(e,r.toUriEncodedString());Pe(O1,`Sending RPC '${e}' ${o}:`,l,n);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,l,u,n).then(f=>(Pe(O1,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Wd(O1,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",n),f})}Co(e,r,n,i,s,o){return this.So(e,r,n,i,s)}Do(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}bo(e,r){const n=wle[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class Sle extends _le{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,i){const s=IE();return new Promise((o,l)=>{const u=new yU;u.setWithCredentials(!0),u.listenOnce(xU.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ry.NO_ERROR:const h=u.getResponseJson();Pe(pn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ry.TIMEOUT:Pe(pn,`RPC '${e}' ${s} timed out`),l(new Ie(ye.DEADLINE_EXCEEDED,"Request time out"));break;case ry.HTTP_ERROR:const m=u.getStatus();if(Pe(pn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const _=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(E)>=0?E:ye.UNKNOWN}(y.status);l(new Ie(_,y.message))}else l(new Ie(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ie(ye.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Pe(pn,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Pe(pn,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",f,n,15)})}Wo(e,r,n){const i=IE(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_U(),l=wU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const h=s.join("");Pe(pn,`Creating RPC '${e}' stream ${i}: ${h}`,u);const m=o.createWebChannel(h,u);let p=!1,y=!1;const _=new jle({Fo:x=>{y?Pe(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(Pe(pn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Pe(pn,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Mo:()=>m.close()}),b=(x,E,S)=>{x.listen(E,T=>{try{S(T)}catch(N){setTimeout(()=>{throw N},0)}})};return b(m,Qh.EventType.OPEN,()=>{y||(Pe(pn,`RPC '${e}' stream ${i} transport opened.`),_.Qo())}),b(m,Qh.EventType.CLOSE,()=>{y||(y=!0,Pe(pn,`RPC '${e}' stream ${i} transport closed`),_.Uo())}),b(m,Qh.EventType.ERROR,x=>{y||(y=!0,Wd(pn,`RPC '${e}' stream ${i} transport errored:`,x),_.Uo(new Ie(ye.UNAVAILABLE,"The operation could not be completed")))}),b(m,Qh.EventType.MESSAGE,x=>{var E;if(!y){const S=x.data[0];Ft(!!S);const T=S,N=(T==null?void 0:T.error)||((E=T[0])===null||E===void 0?void 0:E.error);if(N){Pe(pn,`RPC '${e}' stream ${i} received error:`,N);const C=N.status;let O=function(M){const V=kr[M];if(V!==void 0)return n8(V)}(C),P=N.message;O===void 0&&(O=ye.INTERNAL,P="Unknown error status: "+C+" with message "+N.message),y=!0,_.Uo(new Ie(O,P)),m.close()}else Pe(pn,`RPC '${e}' stream ${i} received:`,S),_.Ko(S)}}),b(l,bU.STAT_EVENT,x=>{x.stat===bE.PROXY?Pe(pn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===bE.NOPROXY&&Pe(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function M1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){return new Toe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-n);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="PersistentStream";class y8{constructor(e,r,n,i,s,o,l,u){this.Ti=e,this.n_=n,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new v8(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===ye.RESOURCE_EXHAUSTED?(to(r.toString()),to("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===r&&this.V_(n,i)},n=>{e(()=>{const i=new Ie(ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Pe(QO,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(Pe(QO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nle extends y8{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=Poe(this.serializer,e),n=function(s){if(!("targetChange"in s))return nt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?nt.min():o.readTime?Zs(o.readTime):nt.min()}(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=kE(this.serializer),r.addTarget=function(s,o){let l;const u=o.target;if(l=NE(u)?{documents:Ooe(s,u)}:{query:Moe(s,u).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=a8(s,o.resumeToken);const f=AE(s,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(nt.min())>0){l.readTime=Ly(s,o.snapshotVersion.toTimestamp());const f=AE(s,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const n=Loe(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=kE(this.serializer),r.removeTarget=e,this.I_(r)}}class Ele extends y8{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=Roe(e.writeResults,e.commitTime),n=Zs(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=kE(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Ioe(this.serializer,n))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{}class Tle extends Ale{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ie(ye.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,TE(r,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(ye.UNKNOWN,s.toString())})}Co(e,r,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,TE(r,n),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(ye.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Cle{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(to(r),this.N_=!1):Pe("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="RemoteStore";class kle{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{n.enqueueAndForget(async()=>{fu(this)&&(Pe(ru,"Restarting streams for network reachability change."),await async function(u){const f=st(u);f.W_.add(4),await Vp(f),f.j_.set("Unknown"),f.W_.delete(4),await kb(f)}(this))})}),this.j_=new Cle(n,i)}}async function kb(t){if(fu(t))for(const e of t.G_)await e(!0)}async function Vp(t){for(const e of t.G_)await e(!1)}function x8(t,e){const r=st(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),w2(r)?b2(r):Mf(r).c_()&&x2(r,e))}function y2(t,e){const r=st(t),n=Mf(r);r.K_.delete(e),n.c_()&&b8(r,e),r.K_.size===0&&(n.c_()?n.P_():fu(r)&&r.j_.set("Unknown"))}function x2(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Mf(t).y_(e)}function b8(t,e){t.H_.Ne(e),Mf(t).w_(e)}function b2(t){t.H_=new Soe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Mf(t).start(),t.j_.B_()}function w2(t){return fu(t)&&!Mf(t).u_()&&t.K_.size>0}function fu(t){return st(t).W_.size===0}function w8(t){t.H_=void 0}async function Ple(t){t.j_.set("Online")}async function Ile(t){t.K_.forEach((e,r)=>{x2(t,e)})}async function Rle(t,e){w8(t),w2(t)?(t.j_.q_(e),b2(t)):t.j_.set("Unknown")}async function Ole(t,e,r){if(t.j_.set("Online"),e instanceof s8&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.K_.delete(l),i.H_.removeTarget(l))}(t,e)}catch(n){Pe(ru,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Fy(t,n)}else if(e instanceof ay?t.H_.We(e):e instanceof i8?t.H_.Ze(e):t.H_.je(e),!r.isEqual(nt.min()))try{const n=await g8(t.localStore);r.compareTo(n)>=0&&await function(s,o){const l=s.H_.ot(o);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.K_.get(f);h&&s.K_.set(f,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,f)=>{const h=s.K_.get(u);if(!h)return;s.K_.set(u,h.withResumeToken(ln.EMPTY_BYTE_STRING,h.snapshotVersion)),b8(s,u);const m=new cl(h.target,u,f,h.sequenceNumber);x2(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Pe(ru,"Failed to raise snapshot:",n),await Fy(t,n)}}async function Fy(t,e,r){if(!Rf(e))throw e;t.W_.add(1),await Vp(t),t.j_.set("Offline"),r||(r=()=>g8(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe(ru,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await kb(t)})}function _8(t,e){return e().catch(r=>Fy(t,r,e))}async function Pb(t){const e=st(t),r=Pl(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:s2;for(;Mle(e);)try{const i=await gle(e.localStore,n);if(i===null){e.U_.length===0&&r.P_();break}n=i.batchId,Dle(e,i)}catch(i){await Fy(e,i)}j8(e)&&S8(e)}function Mle(t){return fu(t)&&t.U_.length<10}function Dle(t,e){t.U_.push(e);const r=Pl(t);r.c_()&&r.S_&&r.b_(e.mutations)}function j8(t){return fu(t)&&!Pl(t).u_()&&t.U_.length>0}function S8(t){Pl(t).start()}async function Lle(t){Pl(t).C_()}async function $le(t){const e=Pl(t);for(const r of t.U_)e.b_(r.mutations)}async function Fle(t,e,r){const n=t.U_.shift(),i=d2.from(n,e,r);await _8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pb(t)}async function Vle(t,e){e&&Pl(t).S_&&await async function(n,i){if(function(o){return _oe(o)&&o!==ye.ABORTED}(i.code)){const s=n.U_.shift();Pl(n).h_(),await _8(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pb(n)}}(t,e),j8(t)&&S8(t)}async function XO(t,e){const r=st(t);r.asyncQueue.verifyOperationInProgress(),Pe(ru,"RemoteStore received new credentials");const n=fu(r);r.W_.add(3),await Vp(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await kb(r)}async function Ble(t,e){const r=st(t);e?(r.W_.delete(2),await kb(r)):e||(r.W_.add(2),await Vp(r),r.j_.set("Unknown"))}function Mf(t){return t.J_||(t.J_=function(r,n,i){const s=st(r);return s.M_(),new Nle(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:Ple.bind(null,t),No:Ile.bind(null,t),Lo:Rle.bind(null,t),p_:Ole.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),w2(t)?b2(t):t.j_.set("Unknown")):(await t.J_.stop(),w8(t))})),t.J_}function Pl(t){return t.Y_||(t.Y_=function(r,n,i){const s=st(r);return s.M_(),new Ele(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Lle.bind(null,t),Lo:Vle.bind(null,t),D_:$le.bind(null,t),v_:Fle.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Pb(t)):(await t.Y_.stop(),t.U_.length>0&&(Pe(ru,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,l=new _2(e,r,o,i,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j2(t,e){if(to("AsyncQueue",`${e}: ${t}`),Rf(t))return new Ie(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static emptySet(e){return new Ed(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||He.comparator(r.key,n.key):(r,n)=>He.comparator(r.key,n.key),this.keyedMap=Xh(),this.sortedSet=new pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ed)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ed;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Z_=new pr(He.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):tt():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Jd{constructor(e,r,n,i,s,o,l,u,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new Jd(e,r,Ed.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zle{constructor(){this.queries=ZO(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const i=st(r),s=i.queries;i.queries=ZO(),s.forEach((o,l)=>{for(const u of l.ta)u.onError(n)})})(this,new Ie(ye.ABORTED,"Firestore shutting down"))}}function ZO(){return new du(t=>zU(t),Sb)}async function S2(t,e){const r=st(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.na()&&e.ra()&&(n=2):(s=new Ule,n=e.ra()?0:1);try{switch(n){case 0:s.ea=await r.onListen(i,!0);break;case 1:s.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=j2(o,`Initialization of query '${ld(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,s),s.ta.push(e),e.sa(r.onlineState),s.ea&&e.oa(s.ea)&&E2(r)}async function N2(t,e){const r=st(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function qle(t,e){const r=st(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const l of o.ta)l.oa(i)&&(n=!0);o.ea=i}}n&&E2(r)}function Hle(t,e,r){const n=st(t),i=n.queries.get(e);if(i)for(const s of i.ta)s.onError(r);n.queries.delete(e)}function E2(t){t.ia.forEach(e=>{e.next()})}var RE,eM;(eM=RE||(RE={}))._a="default",eM.Cache="cache";class A2{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Jd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=Jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==RE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.key=e}}class E8{constructor(e){this.key=e}}class Wle{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_t(),this.mutatedKeys=_t(),this.ya=qU(e),this.wa=new Ed(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new JO,i=r?r.wa:this.wa;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const p=i.get(h),y=Nb(this.query,m)?m:null,_=!!p&&this.mutatedKeys.has(p.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;p&&y?p.data.isEqual(y.data)?_!==b&&(n.track({type:3,doc:y}),x=!0):this.va(p,y)||(n.track({type:2,doc:y}),x=!0,(u&&this.ya(y,u)>0||f&&this.ya(y,f)<0)&&(l=!0)):!p&&y?(n.track({type:0,doc:y}),x=!0):p&&!y&&(n.track({type:1,doc:p}),x=!0,(u||f)&&(l=!0)),x&&(y?(o=o.add(y),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),n.track({type:1,doc:h})}return{wa:o,Da:n,ls:l,mutatedKeys:s}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,m)=>function(y,_){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return b(y)-b(_)}(h.type,m.type)||this.ya(h.doc,m.doc)),this.Ca(n),i=i!=null&&i;const l=r&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,f=u!==this.ga;return this.ga=u,o.length!==0||f?{snapshot:new Jd(this.query,e.wa,s,o,e.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new JO,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=_t(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const r=[];return e.forEach(n=>{this.pa.has(n)||r.push(new E8(n))}),this.pa.forEach(n=>{e.has(n)||r.push(new N8(n))}),r}Oa(e){this.fa=e.gs,this.pa=_t();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return Jd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const T2="SyncEngine";class Gle{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Kle{constructor(e){this.key=e,this.Ba=!1}}class Yle{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new du(l=>zU(l),Sb),this.qa=new Map,this.Qa=new Set,this.$a=new pr(He.comparator),this.Ua=new Map,this.Ka=new m2,this.Wa={},this.Ga=new Map,this.za=Xd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Qle(t,e,r=!0){const n=I8(t);let i;const s=n.ka.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await A8(n,e,r,!0),i}async function Xle(t,e){const r=I8(t);await A8(r,e,!0,!1)}async function A8(t,e,r,n){const i=await vle(t.localStore,Js(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let l;return n&&(l=await Jle(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&x8(t.remoteStore,i),l}async function Jle(t,e,r,n,i){t.Ha=(m,p,y)=>async function(b,x,E,S){let T=x.view.ba(E);T.ls&&(T=await WO(b.localStore,x.query,!1).then(({documents:P})=>x.view.ba(P,T)));const N=S&&S.targetChanges.get(x.targetId),C=S&&S.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(T,b.isPrimaryClient,N,C);return rM(b,x.targetId,O.Ma),O.snapshot}(t,m,p,y);const s=await WO(t.localStore,e,!0),o=new Wle(e,s.gs),l=o.ba(s.documents),u=Fp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,u);rM(t,r,f.Ma);const h=new Gle(e,r,o);return t.ka.set(e,h),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),f.snapshot}async function Zle(t,e,r){const n=st(t),i=n.ka.get(e),s=n.qa.get(i.targetId);if(s.length>1)return n.qa.set(i.targetId,s.filter(o=>!Sb(o,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await PE(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&y2(n.remoteStore,i.targetId),OE(n,i.targetId)}).catch(If)):(OE(n,i.targetId),await PE(n.localStore,i.targetId,!0))}async function ece(t,e){const r=st(t),n=r.ka.get(e),i=r.qa.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),y2(r.remoteStore,n.targetId))}async function tce(t,e,r){const n=lce(t);try{const i=await function(o,l){const u=st(o),f=br.now(),h=l.reduce((y,_)=>y.add(_.key),_t());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=ro(),b=_t();return u.ds.getEntries(y,h).next(x=>{_=x,_.forEach((E,S)=>{S.isValidDocument()||(b=b.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(x=>{m=x;const E=[];for(const S of l){const T=voe(S,m.get(S.key).overlayedDocument);T!=null&&E.push(new Vl(S.key,T,MU(T.value.mapValue),ws.exists(!0)))}return u.mutationQueue.addMutationBatch(y,f,E,l)}).next(x=>{p=x;const E=x.applyToLocalDocumentSet(m,b);return u.documentOverlayCache.saveOverlays(y,x.batchId,E)})}).then(()=>({batchId:p.batchId,changes:WU(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let f=o.Wa[o.currentUser.toKey()];f||(f=new pr(ht)),f=f.insert(l,u),o.Wa[o.currentUser.toKey()]=f}(n,i.batchId,r),await Bp(n,i.changes),await Pb(n.remoteStore)}catch(i){const s=j2(i,"Failed to persist write");r.reject(s)}}async function T8(t,e){const r=st(t);try{const n=await mle(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Ua.get(s);o&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Ft(o.Ba):i.removedDocuments.size>0&&(Ft(o.Ba),o.Ba=!1))}),await Bp(r,n,e)}catch(n){await If(n)}}function tM(t,e,r){const n=st(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ka.forEach((s,o)=>{const l=o.view.sa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=st(o);u.onlineState=l;let f=!1;u.queries.forEach((h,m)=>{for(const p of m.ta)p.sa(l)&&(f=!0)}),f&&E2(u)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function rce(t,e,r){const n=st(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ua.get(e),s=i&&i.key;if(s){let o=new pr(He.comparator);o=o.insert(s,bn.newNoDocument(s,nt.min()));const l=_t().add(s),u=new Tb(nt.min(),new Map,new pr(ht),o,l);await T8(n,u),n.$a=n.$a.remove(s),n.Ua.delete(e),C2(n)}else await PE(n.localStore,e,!1).then(()=>OE(n,e,r)).catch(If)}async function nce(t,e){const r=st(t),n=e.batch.batchId;try{const i=await hle(r.localStore,e);k8(r,n,null),C8(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Bp(r,i)}catch(i){await If(i)}}async function ice(t,e,r){const n=st(t);try{const i=await function(o,l){const u=st(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return u.mutationQueue.lookupMutationBatch(f,l).next(m=>(Ft(m!==null),h=m.keys(),u.mutationQueue.removeMutationBatch(f,m))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>u.localDocuments.getDocuments(f,h))})}(n.localStore,e);k8(n,e,r),C8(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Bp(n,i)}catch(i){await If(i)}}function C8(t,e){(t.Ga.get(e)||[]).forEach(r=>{r.resolve()}),t.Ga.delete(e)}function k8(t,e,r){const n=st(t);let i=n.Wa[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function OE(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(n=>{t.Ka.containsKey(n)||P8(t,n)})}function P8(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(y2(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),C2(t))}function rM(t,e,r){for(const n of r)n instanceof N8?(t.Ka.addReference(n.key,e),sce(t,n)):n instanceof E8?(Pe(T2,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||P8(t,n.key)):tt()}function sce(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(Pe(T2,"New document in limbo: "+r),t.Qa.add(n),C2(t))}function C2(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new He(ir.fromString(e)),n=t.za.next();t.Ua.set(n,new Kle(r)),t.$a=t.$a.insert(r,n),x8(t.remoteStore,new cl(Js(jb(r.path)),n,"TargetPurposeLimboResolution",bb.ae))}}async function Bp(t,e,r){const n=st(t),i=[],s=[],o=[];n.ka.isEmpty()||(n.ka.forEach((l,u)=>{o.push(n.Ha(u,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const m=f?!f.fromCache:(h=r==null?void 0:r.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){i.push(f);const m=g2.Yi(u.targetId,f);s.push(m)}}))}),await Promise.all(o),n.La.p_(i),await async function(u,f){const h=st(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>xe.forEach(f,p=>xe.forEach(p.Hi,y=>h.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>xe.forEach(p.Ji,y=>h.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!Rf(m))throw m;Pe(v2,"Failed to update sequence numbers: "+m)}for(const m of f){const p=m.targetId;if(!m.fromCache){const y=h.Ts.get(p),_=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(_);h.Ts=h.Ts.insert(p,b)}}}(n.localStore,s))}async function ace(t,e){const r=st(t);if(!r.currentUser.isEqual(e)){Pe(T2,"User change. New user:",e.toKey());const n=await p8(r.localStore,e);r.currentUser=e,function(s,o){s.Ga.forEach(l=>{l.forEach(u=>{u.reject(new Ie(ye.CANCELLED,o))})}),s.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Bp(r,n.Rs)}}function oce(t,e){const r=st(t),n=r.Ua.get(e);if(n&&n.Ba)return _t().add(n.key);{let i=_t();const s=r.qa.get(e);if(!s)return i;for(const o of s){const l=r.ka.get(o);i=i.unionWith(l.view.Sa)}return i}}function I8(t){const e=st(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rce.bind(null,e),e.La.p_=qle.bind(null,e.eventManager),e.La.Ja=Hle.bind(null,e.eventManager),e}function lce(t){const e=st(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ice.bind(null,e),e}class Vy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cb(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return fle(this.persistence,new cle,e.initialUser,this.serializer)}Xa(e){return new m8(p2.ri,this.serializer)}Za(e){return new xle}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vy.provider={build:()=>new Vy};class cce extends Vy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Ft(this.persistence.referenceDelegate instanceof $y);const n=this.persistence.referenceDelegate.garbageCollector;return new Koe(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new m8(n=>$y.ri(n,r),this.serializer)}}class ME{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>tM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ace.bind(null,this.syncEngine),await Ble(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zle}()}createDatastore(e){const r=Cb(e.databaseInfo.databaseId),n=function(s){return new Sle(s)}(e.databaseInfo);return function(s,o,l,u){return new Tle(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,l){return new kle(n,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>tM(this.syncEngine,r,0),function(){return YO.D()?new YO:new ble}())}createSyncEngine(e,r){return function(i,s,o,l,u,f,h){const m=new Yle(i,s,o,l,u,f);return h&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=st(i);Pe(ru,"RemoteStore shutting down."),s.W_.add(5),await Vp(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}ME.provider={build:()=>new ME};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):to("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="FirestoreClient";class uce{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=yn.UNAUTHENTICATED,this.clientId=NU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Pe(Il,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Pe(Il,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=j2(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function D1(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(Il,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await p8(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nM(t,e){t.asyncQueue.verifyOperationInProgress();const r=await dce(t);Pe(Il,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>XO(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>XO(e.remoteStore,i)),t._onlineComponents=e}async function dce(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(Il,"Using user provided OfflineComponentProvider");try{await D1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Wd("Error using user provided cache. Falling back to memory cache: "+r),await D1(t,new Vy)}}else Pe(Il,"Using default OfflineComponentProvider"),await D1(t,new cce(void 0));return t._offlineComponents}async function R8(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(Il,"Using user provided OnlineComponentProvider"),await nM(t,t._uninitializedComponentsProvider._online)):(Pe(Il,"Using default OnlineComponentProvider"),await nM(t,new ME))),t._onlineComponents}function fce(t){return R8(t).then(e=>e.syncEngine)}async function By(t){const e=await R8(t),r=e.eventManager;return r.onListen=Qle.bind(null,e.syncEngine),r.onUnlisten=Zle.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Xle.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ece.bind(null,e.syncEngine),r}function hce(t,e,r={}){const n=new qa;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,f){const h=new k2({next:p=>{h.su(),o.enqueueAndForget(()=>N2(s,m));const y=p.docs.has(l);!y&&p.fromCache?f.reject(new Ie(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?f.reject(new Ie(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(p)},error:p=>f.reject(p)}),m=new A2(jb(l.path),h,{includeMetadataChanges:!0,Ta:!0});return S2(s,m)}(await By(t),t.asyncQueue,e,r,n)),n.promise}function mce(t,e,r={}){const n=new qa;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,f){const h=new k2({next:p=>{h.su(),o.enqueueAndForget(()=>N2(s,m)),p.fromCache&&u.source==="server"?f.reject(new Ie(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(p)},error:p=>f.reject(p)}),m=new A2(l,h,{includeMetadataChanges:!0,Ta:!0});return S2(s,m)}(await By(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t,e,r){if(!r)throw new Ie(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pce(t,e,r,n){if(e===!0&&n===!0)throw new Ie(ye.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function sM(t){if(!He.isDocumentKey(t))throw new Ie(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aM(t){if(He.isDocumentKey(t))throw new Ie(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ib(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ib(t);throw new Ie(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="firestore.googleapis.com",oM=!0;class lM{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D8,this.ssl=oM}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:oM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=h8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Woe)throw new Ie(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pce("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O8((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jae;switch(n.type){case"firstParty":return new Aae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=iM.get(r);n&&(Pe("ComponentProvider","Removing Datastore"),iM.delete(r),n.terminate())}(this),Promise.resolve()}}function gce(t,e,r,n={}){var i;const s=(t=vi(t,Rb))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;s.host!==D8&&s.host!==l&&Wd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:n});if(!Ja(u,o)&&(t._setSettings(u),n.mockUserToken)){let f,h;if(typeof n.mockUserToken=="string")f=n.mockUserToken,h=yn.MOCK_USER;else{f=KZ(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new Ie(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yn(m)}t._authCredentials=new Sae(new jU(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class jn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class gl extends uo{constructor(e,r,n){super(e,r,jb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new He(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function Ad(t,e,...r){if(t=Nr(t),M8("collection","path",e),t instanceof Rb){const n=ir.fromString(e,...r);return aM(n),new gl(t,null,n)}{if(!(t instanceof jn||t instanceof gl))throw new Ie(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ir.fromString(e,...r));return aM(n),new gl(t.firestore,null,n)}}function gt(t,e,...r){if(t=Nr(t),arguments.length===1&&(e=NU.newId()),M8("doc","path",e),t instanceof Rb){const n=ir.fromString(e,...r);return sM(n),new jn(t,null,new He(n))}{if(!(t instanceof jn||t instanceof gl))throw new Ie(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ir.fromString(e,...r));return sM(n),new jn(t.firestore,t instanceof gl?t.converter:null,new He(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="AsyncQueue";class uM{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new v8(this,"async_queue_retry"),this.Su=()=>{const n=M1();n&&Pe(cM,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=M1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=M1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new qa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Rf(e))throw e;Pe(cM,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(n);throw to("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const i=_2.createAndSchedule(this,e,r,n,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&tt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function dM(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Rl extends Rb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new uM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uM(e),this._firestoreClient=void 0,await e}}}function Er(t,e){const r=typeof t=="object"?t:OT(),n=typeof t=="string"?t:Iy,i=uu(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=WZ("firestore");s&&gce(i,...s)}return i}function Ob(t){if(t._terminated)throw new Ie(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vce(t),t._firestoreClient}function vce(t){var e,r,n;const i=t._freezeSettings(),s=function(l,u,f,h){return new Uae(l,u,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,O8(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uce(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zd(ln.fromBase64String(e))}catch(r){throw new Ie(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Zd(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ie(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ie(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ie(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce=/^__.*__$/;class xce{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Vl(e,this.data,this.fieldMask,r,this.fieldTransforms):new $p(e,this.data,r,this.fieldTransforms)}}class L8{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Vl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function $8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Db{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Db(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Uy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($8(this.Lu)&&yce.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class bce{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Cb(e)}ju(e,r,n,i=!1){return new Db({Lu:e,methodName:r,zu:n,path:an.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lb(t){const e=t._freezeSettings(),r=Cb(t._databaseId);return new bce(t._databaseId,!!e.ignoreUndefinedProperties,r)}function F8(t,e,r,n,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,r,i);M2("Data must be an object, but it was:",o,n);const l=V8(n,o);let u,f;if(s.merge)u=new mi(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const p=DE(e,m,r);if(!o.contains(p))throw new Ie(ye.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);U8(h,p)||h.push(p)}u=new mi(h),f=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,f=o.fieldTransforms;return new xce(new Wn(l),u,f)}class $b extends Up{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $b}}function wce(t,e,r){return new Db({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class R2 extends Up{_toFieldTransform(e){return new ZU(e.path,new Lm)}isEqual(e){return e instanceof R2}}class O2 extends Up{constructor(e,r){super(e),this.Hu=r}_toFieldTransform(e){const r=wce(this,e,!0),n=this.Hu.map(s=>Df(s,r)),i=new Qd(n);return new ZU(e.path,i)}isEqual(e){return e instanceof O2&&Ja(this.Hu,e.Hu)}}function _ce(t,e,r,n){const i=t.ju(1,e,r);M2("Data must be an object, but it was:",i,n);const s=[],o=Wn.empty();Fl(n,(u,f)=>{const h=D2(e,u,r);f=Nr(f);const m=i.Uu(h);if(f instanceof $b)s.push(h);else{const p=Df(f,m);p!=null&&(s.push(h),o.set(h,p))}});const l=new mi(s);return new L8(o,l,i.fieldTransforms)}function jce(t,e,r,n,i,s){const o=t.ju(1,e,r),l=[DE(e,n,r)],u=[i];if(s.length%2!=0)throw new Ie(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(DE(e,s[p])),u.push(s[p+1]);const f=[],h=Wn.empty();for(let p=l.length-1;p>=0;--p)if(!U8(f,l[p])){const y=l[p];let _=u[p];_=Nr(_);const b=o.Uu(y);if(_ instanceof $b)f.push(y);else{const x=Df(_,b);x!=null&&(f.push(y),h.set(y,x))}}const m=new mi(f);return new L8(h,m,o.fieldTransforms)}function Sce(t,e,r,n=!1){return Df(r,t.ju(n?4:3,e))}function Df(t,e){if(B8(t=Nr(t)))return M2("Unsupported field value:",e,t),V8(t,e);if(t instanceof Up)return function(n,i){if(!$8(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const l of n){let u=Df(l,i.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Nr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return doe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=br.fromDate(n);return{timestampValue:Ly(i.serializer,s)}}if(n instanceof br){const s=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ly(i.serializer,s)}}if(n instanceof P2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zd)return{bytesValue:a8(i.serializer,n._byteString)};if(n instanceof jn){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h2(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof I2)return function(o,l){return{mapValue:{fields:{[RU]:{stringValue:OU},[Ry]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw l.Wu("VectorValues must only contain numeric values.");return u2(l.serializer,f)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${Ib(n)}`)}(t,e)}function V8(t,e){const r={};return AU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(t,(n,i)=>{const s=Df(i,e.qu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function B8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof br||t instanceof P2||t instanceof Zd||t instanceof jn||t instanceof Up||t instanceof I2)}function M2(t,e,r){if(!B8(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Ib(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function DE(t,e,r){if((e=Nr(e))instanceof Mb)return e._internalPath;if(typeof e=="string")return D2(t,e);throw Uy("Field path arguments must be of type string or ",t,!1,void 0,r)}const Nce=new RegExp("[~\\*/\\[\\]]");function D2(t,e,r){if(e.search(Nce)>=0)throw Uy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Mb(...e.split("."))._internalPath}catch{throw Uy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Uy(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new Ie(ye.INVALID_ARGUMENT,l+t+u)}function U8(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ece(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(L2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Ece extends z8{data(){return super.data()}}function L2(t,e){return typeof e=="string"?D2(t,e):e instanceof Mb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $2{}class F2 extends $2{}function Ace(t,e,...r){let n=[];e instanceof $2&&n.push(e),n=n.concat(r),function(s){const o=s.filter(u=>u instanceof B2).length,l=s.filter(u=>u instanceof V2).length;if(o>1||o>0&&l>0)throw new Ie(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class V2 extends F2{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new V2(e,r,n)}_apply(e){const r=this._parse(e);return H8(e._query,r),new uo(e.firestore,e.converter,EE(e._query,r))}_parse(e){const r=Lb(e.firestore);return function(s,o,l,u,f,h,m){let p;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ie(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hM(m,h);const _=[];for(const b of m)_.push(fM(u,s,b));p={arrayValue:{values:_}}}else p=fM(u,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hM(m,h),p=Sce(l,o,m,h==="in"||h==="not-in");return Rr.create(f,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class B2 extends $2{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new B2(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Es.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)H8(o,u),o=EE(o,u)}(e._query,r),new uo(e.firestore,e.converter,EE(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U2 extends F2{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new U2(e,r)}_apply(e){const r=function(i,s,o){if(i.startAt!==null)throw new Ie(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dm(s,o)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Of(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Tce(t,e="asc"){const r=e,n=L2("orderBy",t);return U2._create(n,r)}class z2 extends F2{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new z2(e,r,n)}_apply(e){return new uo(e.firestore,e.converter,My(e._query,this._limit,this._limitType))}}function Cce(t){return z2._create("limit",t,"F")}function fM(t,e,r){if(typeof(r=Nr(r))=="string"){if(r==="")throw new Ie(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UU(e)&&r.indexOf("/")!==-1)throw new Ie(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(ir.fromString(r));if(!He.isDocumentKey(n))throw new Ie(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return AO(t,new He(n))}if(r instanceof jn)return AO(t,r._key);throw new Ie(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ib(r)}.`)}function hM(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H8(t,e){const r=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ie(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class kce{convertValue(e,r="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Fl(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Ry].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Sr(o.doubleValue));return new I2(s)}convertGeoPoint(e){return new P2(Sr(e.latitude),Sr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=_b(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rm(e));default:return null}}convertTimestamp(e){const r=Tl(e);return new br(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=ir.fromString(e);Ft(f8(n));const i=new Om(n.get(1),n.get(3)),s=new He(n.popFirst(5));return i.isEqual(r)||to(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G8 extends z8{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new oy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class oy extends G8{data(e={}){return super.data(e)}}class K8{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Zh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new oy(this._firestore,this._userDataWriter,n.key,n,new Zh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ie(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new oy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new oy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:Pce(l.type),doc:u,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Pce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){t=vi(t,jn);const e=vi(t.firestore,Rl);return hce(Ob(e),t._key).then(r=>Y8(e,t,r))}class q2 extends kce{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,r)}}function Ice(t){t=vi(t,uo);const e=vi(t.firestore,Rl),r=Ob(e),n=new q2(e);return q8(t._query),mce(r,t._query).then(i=>new K8(e,n,t,i))}function As(t,e,r){t=vi(t,jn);const n=vi(t.firestore,Rl),i=W8(t.converter,e,r);return H2(n,[F8(Lb(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ws.none())])}function Fm(t,e,r,...n){t=vi(t,jn);const i=vi(t.firestore,Rl),s=Lb(i);let o;return o=typeof(e=Nr(e))=="string"||e instanceof Mb?jce(s,"updateDoc",t._key,e,r,n):_ce(s,"updateDoc",t._key,e),H2(i,[o.toMutation(t._key,ws.exists(!0))])}function ly(t,e){const r=vi(t.firestore,Rl),n=gt(t),i=W8(t.converter,e);return H2(r,[F8(Lb(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ws.exists(!1))]).then(()=>n)}function Rce(t,...e){var r,n,i;t=Nr(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||dM(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(dM(e[o])){const m=e[o];e[o]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,f,h;if(t instanceof jn)f=vi(t.firestore,Rl),h=jb(t._key.path),u={next:m=>{e[o]&&e[o](Y8(f,t,m))},error:e[o+1],complete:e[o+2]};else{const m=vi(t,uo);f=vi(m.firestore,Rl),h=m._query;const p=new q2(f);u={next:y=>{e[o]&&e[o](new K8(f,p,m,y))},error:e[o+1],complete:e[o+2]},q8(t._query)}return function(p,y,_,b){const x=new k2(b),E=new A2(y,x,_);return p.asyncQueue.enqueueAndForget(async()=>S2(await By(p),E)),()=>{x.su(),p.asyncQueue.enqueueAndForget(async()=>N2(await By(p),E))}}(Ob(f),h,l,u)}function H2(t,e){return function(n,i){const s=new qa;return n.asyncQueue.enqueueAndForget(async()=>tce(await fce(n),i,s)),s.promise}(Ob(t),e)}function Y8(t,e,r){const n=r.docs.get(e._key),i=new q2(t);return new G8(t,i,e._key,n,new Zh(r.hasPendingWrites,r.fromCache),e.converter)}function fd(){return new R2("serverTimestamp")}function Q8(...t){return new O2("arrayUnion",t)}(function(e,r=!0){(function(i){Pf=i})(Cf),na(new Ns("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new Rl(new Nae(n.getProvider("auth-internal")),new Tae(o,n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Om(f.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:r},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Bi(pO,gO,e),Bi(pO,gO,"esm2017")})();function Oce(t,e=[]){let r=[];function n(s,o){const l=j.createContext(o),u=r.length;r=[...r,o];function f(m){const{scope:p,children:y,..._}=m,b=(p==null?void 0:p[t][u])||l,x=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:x,children:y})}function h(m,p){const y=(p==null?void 0:p[t][u])||l,_=j.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,h]}const i=()=>{const s=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,Mce(i,...e)]}function Mce(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Dce=j.createContext(void 0);function Lf(t){const e=j.useContext(Dce);return t||e||"ltr"}var L1="rovingFocusGroup.onEntryFocus",Lce={bubbles:!1,cancelable:!0},Fb="RovingFocusGroup",[LE,X8,$ce]=Ep(Fb),[Fce,Vb]=Oce(Fb,[$ce]),[Vce,Bce]=Fce(Fb),J8=j.forwardRef((t,e)=>a.jsx(LE.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(LE.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Uce,{...t,ref:e})})}));J8.displayName=Fb;var Uce=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=t,p=j.useRef(null),y=yt(e,p),_=Lf(s),[b=null,x]=Qn({prop:o,defaultProp:l,onChange:u}),[E,S]=j.useState(!1),T=On(f),N=X8(r),C=j.useRef(!1),[O,P]=j.useState(0);return j.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(L1,T),()=>R.removeEventListener(L1,T)},[T]),a.jsx(Vce,{scope:r,orientation:n,dir:_,loop:i,currentTabStopId:b,onItemFocus:j.useCallback(R=>x(R),[x]),onItemShiftTab:j.useCallback(()=>S(!0),[]),onFocusableItemAdd:j.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:j.useCallback(()=>P(R=>R-1),[]),children:a.jsx(Ve.div,{tabIndex:E||O===0?-1:0,"data-orientation":n,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:$e(t.onMouseDown,()=>{C.current=!0}),onFocus:$e(t.onFocus,R=>{const M=!C.current;if(R.target===R.currentTarget&&M&&!E){const V=new CustomEvent(L1,Lce);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const $=N().filter(q=>q.focusable),D=$.find(q=>q.active),L=$.find(q=>q.id===b),G=[D,L,...$].filter(Boolean).map(q=>q.ref.current);tz(G,h)}}C.current=!1}),onBlur:$e(t.onBlur,()=>S(!1))})})}),Z8="RovingFocusGroupItem",ez=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=t,l=xs(),u=s||l,f=Bce(Z8,r),h=f.currentTabStopId===u,m=X8(r),{onFocusableItemAdd:p,onFocusableItemRemove:y}=f;return j.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),a.jsx(LE.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:$e(t.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:$e(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:$e(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=Hce(_,f.orientation,f.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=m().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const S=E.indexOf(_.currentTarget);E=f.loop?Wce(E,S+1):E.slice(S+1)}setTimeout(()=>tz(E))}})})})});ez.displayName=Z8;var zce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Hce(t,e,r){const n=qce(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return zce[n]}function tz(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Wce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rz=J8,nz=ez,W2="Tabs",[Gce,rTe]=bi(W2,[Vb]),iz=Vb(),[Kce,G2]=Gce(W2),sz=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:u="automatic",...f}=t,h=Lf(l),[m,p]=Qn({prop:n,onChange:i,defaultProp:s});return a.jsx(Kce,{scope:r,baseId:xs(),value:m,onValueChange:p,orientation:o,dir:h,activationMode:u,children:a.jsx(Ve.div,{dir:h,"data-orientation":o,...f,ref:e})})});sz.displayName=W2;var az="TabsList",oz=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=G2(az,r),o=iz(r);return a.jsx(rz,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Ve.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});oz.displayName=az;var lz="TabsTrigger",cz=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=G2(lz,r),l=iz(r),u=fz(o.baseId,n),f=hz(o.baseId,n),h=n===o.value;return a.jsx(nz,{asChild:!0,...l,focusable:!i,active:h,children:a.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:$e(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:$e(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:$e(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(n)})})})});cz.displayName=lz;var uz="TabsContent",dz=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,l=G2(uz,r),u=fz(l.baseId,n),f=hz(l.baseId,n),h=n===l.value,m=j.useRef(h);return j.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(la,{present:i||h,children:({present:p})=>a.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!p,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&s})})});dz.displayName=uz;function fz(t,e){return`${t}-trigger-${e}`}function hz(t,e){return`${t}-content-${e}`}var Yce=sz,mz=oz,pz=cz,gz=dz;const fo=Yce,da=j.forwardRef(({className:t,...e},r)=>a.jsx(mz,{ref:r,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));da.displayName=mz.displayName;const $t=j.forwardRef(({className:t,...e},r)=>a.jsx(pz,{ref:r,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));$t.displayName=pz.displayName;const Wt=j.forwardRef(({className:t,...e},r)=>a.jsx(gz,{ref:r,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Wt.displayName=gz.displayName;const Qce=Kx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:t,variant:e,...r}){return a.jsx("div",{className:Ye(Qce({variant:e}),t),...r})}function zp(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var K2="Switch",[Xce,nTe]=bi(K2),[Jce,Zce]=Xce(K2),vz=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:u="on",onCheckedChange:f,form:h,...m}=t,[p,y]=j.useState(null),_=yt(e,T=>y(T)),b=j.useRef(!1),x=p?h||!!p.closest("form"):!0,[E=!1,S]=Qn({prop:i,defaultProp:s,onChange:f});return a.jsxs(Jce,{scope:r,checked:E,disabled:l,children:[a.jsx(Ve.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":bz(E),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:_,onClick:$e(t.onClick,T=>{S(N=>!N),x&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),x&&a.jsx(eue,{control:p,bubbles:!b.current,name:n,value:u,checked:E,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});vz.displayName=K2;var yz="SwitchThumb",xz=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Zce(yz,r);return a.jsx(Ve.span,{"data-state":bz(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});xz.displayName=yz;var eue=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=j.useRef(null),o=zp(r),l=kp(e);return j.useEffect(()=>{const u=s.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(p)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bz(t){return t?"checked":"unchecked"}var wz=vz,tue=xz;const Bb=j.forwardRef(({className:t,...e},r)=>a.jsx(wz,{className:Ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(tue,{className:Ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bb.displayName=wz.displayName;const rue=({onIntegrationToggle:t,integrations:e={}})=>{const[r,n]=j.useState(null),i=async l=>{n(l);try{await new Promise(u=>setTimeout(u,1500)),await t(l,!0),console.log(`Successfully connected to ${l}`)}catch(u){console.error(`Error connecting to ${l}:`,u)}finally{n(null)}},s=async l=>{try{await t(l,!1),console.log(`Disconnected from ${l}`)}catch(u){console.error(`Error disconnecting from ${l}:`,u)}},o=[{id:"google_fit",name:"Google Fit",icon:a.jsx(bl,{className:"h-5 w-5 text-green-500"}),description:"Import steps, activity, and workout data from Google Fit",dataPoints:["Steps","Activity","Workouts","Heart Rate"],apiUrl:"https://developers.google.com/fit/rest/v1/get-started",free:!0},{id:"apple_health",name:"Apple Health",icon:a.jsx(yi,{className:"h-5 w-5 text-red-500"}),description:"Import health data from Apple Health",dataPoints:["Steps","Activity","Workouts","Heart Rate","Sleep"],apiUrl:"https://developer.apple.com/documentation/healthkit",free:!0},{id:"fitbit",name:"Fitbit",icon:a.jsx(HI,{className:"h-5 w-5 text-blue-500"}),description:"Import activity and sleep data from Fitbit",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://dev.fitbit.com/build/reference/web-api/",free:!0},{id:"samsung_health",name:"Samsung Health",icon:a.jsx(i6,{className:"h-5 w-5 text-blue-400"}),description:"Import health data from Samsung Health",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.samsung.com/health/android/overview.html",free:!0},{id:"strava",name:"Strava",icon:a.jsx(dY,{className:"h-5 w-5 text-orange-500"}),description:"Import running and cycling data from Strava",dataPoints:["Runs","Rides","Workouts"],apiUrl:"https://developers.strava.com/",free:!0},{id:"garmin",name:"Garmin Connect",icon:a.jsx(HI,{className:"h-5 w-5 text-purple-500"}),description:"Import activity data from Garmin devices",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.garmin.com/gc-developer-program/overview/",free:!0},{id:"myfitnesspal",name:"MyFitnessPal",icon:a.jsx(HN,{className:"h-5 w-5 text-blue-600"}),description:"Import nutrition and exercise data from MyFitnessPal",dataPoints:["Nutrition","Calories","Exercise"],apiUrl:"https://www.myfitnesspal.com/api",free:!0},{id:"oura",name:"Oura Ring",icon:a.jsx(xY,{className:"h-5 w-5 text-gray-400"}),description:"Import sleep and recovery data from Oura Ring",dataPoints:["Sleep","Readiness","Activity"],apiUrl:"https://cloud.ouraring.com/docs/",free:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Health Data Integrations"}),a.jsx(Ue,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal",children:"Beta Feature"})]}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect SafeBite with your favorite health apps and wearables to import your health data and get more personalized recommendations."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(l=>a.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[e[l.id]&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs(Ue,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[a.jsx(Tc,{className:"mr-1 h-3 w-3"}),"Connected"]})}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 p-2 bg-safebite-card-bg-alt rounded-md",children:l.icon}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:l.name}),l.free&&a.jsx(Ue,{variant:"outline",className:"ml-2 text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:"Free API"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-2",children:l.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:l.dataPoints.map(u=>a.jsx(Ue,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:u},u))}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bb,{checked:!!e[l.id],onCheckedChange:u=>{u?i(l.id):s(l.id)},disabled:r===l.id,className:"mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:e[l.id]?"Connected":"Disconnected"})]}),a.jsx(AT,{children:a.jsxs(G6,{children:[a.jsx(K6,{asChild:!0,children:a.jsx(ie,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>window.open(l.apiUrl,"_blank"),children:"API Docs"})}),a.jsx(TT,{children:a.jsx("p",{children:"View API documentation"})})]})})]})]})]}),r===l.id&&a.jsx("div",{className:"absolute inset-0 bg-safebite-dark-blue/80 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Kn,{className:"h-8 w-8 text-safebite-teal animate-pulse mx-auto mb-2"}),a.jsxs("p",{className:"text-safebite-text",children:["Connecting to ",l.name,"..."]})]})})]},l.id))}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-card-bg flex items-start",children:[a.jsx(Ka,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:"Note:"})," These integrations are currently in beta. To use them, you'll need to set up API keys for each service. The data will be integrated into your dashboard to provide more personalized nutrition recommendations based on your activity levels, sleep patterns, and more."]})})]})]})};class nue{constructor(){rn(this,"userId",null);rn(this,"db",null);rn(this,"auth",null);rn(this,"activityHistory",[]);rn(this,"userPreferences",{});rn(this,"initialized",!1);this.initialize()}async initialize(){try{if(this.initialized||(this.db=Er(Ke),this.auth=Vt(Ke),this.initialized=!0,console.log("Firebase services initialized in mlService")),this.auth){const e=this.auth.currentUser;e&&(this.userId=e.uid,await this.loadUserData()),this.auth.onAuthStateChanged(async r=>{r?(this.userId=r.uid,await this.loadUserData()):(this.userId=null,this.activityHistory=[],this.userPreferences={})})}}catch(e){console.error("Error initializing mlService:",e)}}async loadUserData(){if(!(!this.userId||!this.db))try{const e=gt(this.db,"users",this.userId),r=await sr(e);if(r.exists()){const n=r.data();n.profile&&(this.userPreferences={dietaryPreference:n.profile.dietary_preferences,healthGoal:n.profile.health_goals,activityLevel:n.profile.activity_level,foodPreferences:n.profile.food_preferences||[],allergies:n.profile.allergies||[]}),n.activityHistory&&(this.activityHistory=n.activityHistory)}}catch(e){console.error("Error loading user data:",e)}}async trackActivity(e,r){if(!(!this.userId||!this.db))try{const n={timestamp:Date.now(),action:e,data:r};this.activityHistory.push(n);const i=gt(this.db,"users",this.userId);await Fm(i,{activityHistory:Q8(n)}),console.log(`Tracked activity: ${e}`)}catch(n){console.error("Error tracking activity:",n)}}async trackFoodSearch(e,r){await this.trackActivity("food_search",{query:e,selectedItems:r.map(n=>({id:n.id,name:n.name,category:n.category||"unknown"}))})}async trackRecipeSearch(e,r){await this.trackActivity("recipe_search",{query:e,selectedRecipes:r.map(n=>({id:n.id,title:n.title,healthLabels:n.healthLabels||[]}))})}async trackHealthBoxInteraction(e,r){await this.trackActivity("health_box",{boxType:e,action:r})}async trackPreferenceChange(e,r){await this.trackActivity("preference_change",{preference:e,value:r})}getDefaultRecommendations(){return["Spinach","Chicken Breast","Brown Rice","Greek Yogurt","Almonds"]}getCategoryRecommendations(e){switch(e){case"protein":return["Chicken Breast","Tofu","Lentils","Salmon","Greek Yogurt"];case"carbs":return["Brown Rice","Quinoa","Sweet Potato","Oats","Whole Wheat Bread"];case"vegetables":return["Spinach","Broccoli","Kale","Bell Peppers","Carrots"];case"fruits":return["Blueberries","Apples","Bananas","Oranges","Strawberries"];case"dairy":return["Greek Yogurt","Cottage Cheese","Milk","Cheese","Kefir"];default:return this.getDefaultRecommendations()}}getHealthGoalRecommendations(e){const r=e.toLowerCase();return r.includes("weight loss")?["Leafy Greens","Lean Protein","Berries","Green Tea","Chia Seeds"]:r.includes("muscle")||r.includes("gain")?["Chicken Breast","Eggs","Salmon","Greek Yogurt","Quinoa"]:r.includes("health")?["Spinach","Blueberries","Salmon","Walnuts","Sweet Potatoes"]:this.getDefaultRecommendations()}async getFoodRecommendations(){if(!this.initialized||!this.userId||!this.db)return this.getDefaultRecommendations();try{const e=[];if(this.userPreferences.dietaryPreference){const r=this.userPreferences.dietaryPreference.toLowerCase();r.includes("vegetarian")?e.push("Tofu","Lentils","Chickpeas"):r.includes("vegan")?e.push("Tofu","Tempeh","Nutritional Yeast"):r.includes("keto")?e.push("Avocado","Eggs","Salmon"):e.push("Chicken Breast","Salmon","Eggs")}if(this.userPreferences.healthGoal){const r=this.getHealthGoalRecommendations(this.userPreferences.healthGoal);e.push(...r.slice(0,2))}if(this.userPreferences.foodPreferences&&this.userPreferences.foodPreferences.length>0){const r=Math.floor(Math.random()*this.userPreferences.foodPreferences.length),n=this.userPreferences.foodPreferences[r].toLowerCase();n.includes("indian")?e.push("Lentils","Chickpeas","Basmati Rice"):n.includes("italian")?e.push("Whole Wheat Pasta","Tomatoes","Olive Oil"):n.includes("chinese")?e.push("Bok Choy","Brown Rice","Shiitake Mushrooms"):n.includes("mexican")&&e.push("Black Beans","Avocado","Bell Peppers")}return[...new Set(e)].slice(0,5)}catch(e){return console.error("Error getting food recommendations:",e),this.getDefaultRecommendations()}}}const Ub=new nue,mM=(t,e)=>Ub.trackRecipeSearch(t,e),Fi=(t,e)=>Ub.trackHealthBoxInteraction(t,e),Lh=(t,e)=>Ub.trackPreferenceChange(t,e),Vm=async(t,e={})=>{try{await Ub.trackActivity(t,e),console.log(`Tracked user interaction: ${t}`,e)}catch(r){console.error("Error tracking user interaction:",r)}},iue="xxtcYPKPQyJ4NascI0BlQZNMmleexcaUMxrIPOAJ",sue="https://api.calorieninjas.com/v1";let em={calorieNinjas:{name:"CalorieNinjas",isAvailable:!0,lastChecked:new Date},fatSecret:{name:"FatSecret",isAvailable:!0,lastChecked:new Date}};const aue=()=>em,oue=async t=>{try{const e=await fetch(`${sue}/nutrition?query=${encodeURIComponent(t)}`,{method:"GET",headers:{"X-Api-Key":iue,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`CalorieNinjas API error: ${e.status}`);const r=await e.json();return em.calorieNinjas.isAvailable=!0,em.calorieNinjas.lastChecked=new Date,r.items.map((n,i)=>({id:`cn-${i}-${Date.now()}`,name:n.name,calories:n.calories,serving_size:`${n.serving_size_g}g`,nutrients:{protein:n.protein_g,carbs:n.carbohydrates_total_g,fat:n.fat_total_g,fiber:n.fiber_g,sugar:n.sugar_g,sodium:n.sodium_mg},source:"CalorieNinjas"}))}catch(e){return console.error("Error searching CalorieNinjas:",e),em.calorieNinjas.isAvailable=!1,em.calorieNinjas.lastChecked=new Date,[]}},lue=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState([]),[u,f]=j.useState([]),[h,m]=j.useState(!1),[p,y]=j.useState(!1),[_,b]=j.useState({}),[x,E]=j.useState(!1),[S,T]=j.useState(!1),[N,C]=j.useState({useCalorieNinjas:!0,useFatSecret:!0,useEdamam:!0,saveSearchHistory:!0,preferredApi:"all"}),[O,P]=j.useState(aue()),R=Vt(Ke),M=Er(Ke),V=R.currentUser,{toast:$}=ar();Jn(),j.useEffect(()=>{(async()=>{var ee,me,ge,ue,ve,de,he,Ne,le;if(V){const qe=gt(M,"users",V.uid);try{const Re=await sr(qe);if(Re.exists()){const ze=Re.data();e(((ee=ze.profile)==null?void 0:ee.health_goals)||""),n(((me=ze.profile)==null?void 0:me.dietary_preferences)||""),s(((ge=ze.profile)==null?void 0:ge.activity_level)||""),l(((ue=ze.profile)==null?void 0:ue.food_preferences)||[]),f(((ve=ze.profile)==null?void 0:ve.allergies)||[]),m(((de=ze.profile)==null?void 0:de.notificationsEnabled)||!1),y(((he=ze.profile)==null?void 0:he.foodSafetyAlertsEnabled)||!1),b(ze.healthIntegrations||{}),E(((Ne=ze.profile)==null?void 0:Ne.communityEnabled)||!1),T(((le=ze.profile)==null?void 0:le.shareHealthData)||!1),ze.apiSettings&&C(ze.apiSettings)}else console.log("No such document!")}catch(Re){console.error("Error fetching user profile:",Re)}}})()},[V,M]);const D=async te=>{const ee=te.target.value;e(ee),await H({health_goals:ee}),Lh("health_goals",ee)},L=async te=>{const ee=te.target.checked;m(ee),await H({notificationsEnabled:ee})},B=async te=>{const ee=te.target.checked;y(ee),await H({foodSafetyAlertsEnabled:ee})},G=async te=>{const ee=te.target.value;n(ee),await H({dietary_preferences:ee}),Lh("dietary_preferences",ee)},q=async te=>{const ee=te.target.value;s(ee),await H({activity_level:ee}),Lh("activity_level",ee)},Y=async te=>{let ee;o.includes(te)?ee=o.filter(me=>me!==te):ee=[...o,te],l(ee),await H({food_preferences:ee}),Lh("food_preferences",ee)},z=async te=>{let ee;u.includes(te)?ee=u.filter(me=>me!==te):ee=[...u,te],f(ee),await H({allergies:ee}),Lh("allergies",ee)},J=async te=>{const ee=te.target.checked;E(ee),await H({communityEnabled:ee})},re=async te=>{const ee=te.target.checked;T(ee),await H({shareHealthData:ee})},H=async te=>{if(V){const ee=gt(M,"users",V.uid);try{await As(ee,{profile:te},{merge:!0}),$({title:"Settings Updated",description:"Your settings have been updated."})}catch(me){$({title:"Error updating settings",description:me.message,variant:"destructive"}),console.error("Error updating user profile:",me)}}},X=async(te,ee)=>{if(V){const me=gt(M,"users",V.uid);try{const ge={..._,[te]:ee};b(ge),await As(me,{healthIntegrations:ge},{merge:!0}),$({title:ee?"Integration Connected":"Integration Disconnected",description:`Successfully ${ee?"connected to":"disconnected from"} the health service.`})}catch(ge){$({title:"Error updating integration",description:ge.message,variant:"destructive"}),console.error("Error updating health integration:",ge)}}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(ua,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-4",children:"Settings"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Here you can manage your preferences and other settings."}),a.jsxs(fo,{defaultValue:"preferences",className:"w-full",children:[a.jsxs(da,{className:"grid grid-cols-5 mb-8",children:[a.jsxs($t,{value:"preferences",className:"flex items-center",children:[a.jsx(jY,{className:"mr-2 h-4 w-4"}),"Preferences"]}),a.jsxs($t,{value:"notifications",className:"flex items-center",children:[a.jsx(Yx,{className:"mr-2 h-4 w-4"}),"Notifications"]}),a.jsxs($t,{value:"community",className:"flex items-center",children:[a.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Community"]}),a.jsxs($t,{value:"integrations",className:"flex items-center",children:[a.jsx(bl,{className:"mr-2 h-4 w-4"}),"Health Data"]}),a.jsxs($t,{value:"api",className:"flex items-center",children:[a.jsx(uy,{className:"mr-2 h-4 w-4"}),"API Settings"]})]}),a.jsx(Wt,{value:"preferences",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Preferences"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Health Goal"}),a.jsxs("select",{className:"sci-fi-input w-full",value:t,onChange:D,children:[a.jsx("option",{value:"",children:"Select a goal"}),a.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),a.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),a.jsx("option",{value:"General Health",children:"General Health"}),a.jsx("option",{value:"No Goal",children:"No Goal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Dietary Preference"}),a.jsxs("select",{className:"sci-fi-input w-full",value:r,onChange:G,children:[a.jsx("option",{value:"",children:"Select a preference"}),a.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),a.jsx("option",{value:"Vegan",children:"Vegan"}),a.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),a.jsx("option",{value:"Pescatarian",children:"Pescatarian"}),a.jsx("option",{value:"Keto",children:"Keto"}),a.jsx("option",{value:"Paleo",children:"Paleo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Activity Level"}),a.jsxs("select",{className:"sci-fi-input w-full",value:i,onChange:q,children:[a.jsx("option",{value:"",children:"Select activity level"}),a.jsx("option",{value:"Sedentary",children:"Sedentary (little or no exercise)"}),a.jsx("option",{value:"Light",children:"Light (exercise 1-3 days/week)"}),a.jsx("option",{value:"Moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx("option",{value:"Active",children:"Active (exercise 6-7 days/week)"}),a.jsx("option",{value:"Very Active",children:"Very Active (intense exercise daily)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Food Preferences"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Indian","Chinese","Italian","Mexican","Thai","Japanese","Mediterranean","American"].map(te=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`pref-${te}`,checked:o.includes(te),onChange:()=>Y(te),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`pref-${te}`,className:"ml-2 text-safebite-text",children:te})]},te))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Allergies & Intolerances"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Gluten","Dairy","Nuts","Eggs","Soy","Shellfish","Fish","Wheat"].map(te=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`allergy-${te}`,checked:u.includes(te),onChange:()=>z(te),className:"sci-fi-checkbox"}),a.jsx("label",{htmlFor:`allergy-${te}`,className:"ml-2 text-safebite-text",children:te})]},te))})]})]})]})}),a.jsx(Wt,{value:"notifications",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Notifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"App Notifications"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Receive notifications about your health goals and progress"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:h,onChange:L})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Food Safety Alerts"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Get alerts about food safety issues for products you've searched"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:p,onChange:B})]})]})]})}),a.jsx(Wt,{value:"community",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Community Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Enable Community Features"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Allow sharing and viewing community-contributed food products"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:x,onChange:J})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium",children:"Share Health Data"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Share anonymized health data to help improve recommendations"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:S,onChange:re})]}),a.jsxs("div",{className:"p-4 sci-fi-card",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Community Contribution"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"You can contribute to the SafeBite community by sharing food products you've scanned or reviewed."}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"1"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Scan or search for a food product"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"2"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Add your review or additional information"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"3"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"Share with the community"})]})]})]})]})]})}),a.jsx(Wt,{value:"integrations",className:"space-y-6",children:a.jsx(rue,{onIntegrationToggle:X,integrations:_})}),a.jsx(Wt,{value:"api",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"API Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Me,{className:"sci-fi-card",children:[a.jsxs(bt,{children:[a.jsxs(wt,{className:"flex items-center",children:[a.jsx(uy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Data Sources"]}),a.jsx(Sm,{children:"Configure which nutrition data APIs to use for food searches"})]}),a.jsxs(it,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Ue,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"CalorieNinjas API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides detailed nutrition data for most food items"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:N.useCalorieNinjas,onChange:()=>handleApiToggle("useCalorieNinjas")})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Ue,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"FatSecret API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides branded food products and restaurant meals"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:N.useFatSecret,onChange:()=>handleApiToggle("useFatSecret")})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Ue,{className:"mr-2 bg-green-500/20 text-green-500 border-green-500",children:"Active"}),"Edamam API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Provides recipe nutrition data and food database"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:N.useEdamam,onChange:()=>handleApiToggle("useEdamam")})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium flex items-center",children:[a.jsx(Ue,{className:"mr-2 bg-orange-500/20 text-orange-500 border-orange-500",children:"Coming Soon"}),"OpenFoodFacts API"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Open source food products database with barcode scanning"})]}),a.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:!1,disabled:!0})]})]})]}),a.jsxs(Me,{className:"sci-fi-card",children:[a.jsxs(bt,{children:[a.jsxs(wt,{className:"flex items-center",children:[a.jsx(Kn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"API Performance"]}),a.jsx(Sm,{children:"Monitor API status and performance"})]}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"CalorieNinjas API"}),a.jsx(Ue,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"FatSecret API"}),a.jsx(Ue,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"Edamam API"}),a.jsx(Ue,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Operational"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-safebite-text",children:"MongoDB Connection"}),a.jsx(Ue,{className:"bg-green-500/20 text-green-500 border-green-500",children:"Connected"})]})]})})]})]})]})})]})]})})]})},ft=j.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ft.displayName="Input";var cue="Label",_z=j.forwardRef((t,e)=>a.jsx(Ve.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_z.displayName=cue;var jz=_z;const uue=Kx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=j.forwardRef(({className:t,...e},r)=>a.jsx(jz,{ref:r,className:Ye(uue(),t),...e}));et.displayName=jz.displayName;const Da=({size:t="md",text:e,className:r=""})=>{const n={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-16 w-16 border-4"};return a.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[a.jsx("div",{className:`animate-spin rounded-full border-t-transparent border-safebite-teal ${n[t]}`,"aria-label":"Loading"}),e&&a.jsx("p",{className:"mt-3 text-safebite-text-secondary",children:e})]})};class due{constructor(){rn(this,"auth",Vt(Ke))}async signInAsGuest(e){try{const r=localStorage.getItem("userType")==="guest";if(r&&!e){console.log("Already in guest mode, no need to sign in again");return}const n=r&&localStorage.getItem("guestId")||"guest_"+Math.random().toString(36).substring(2,15);localStorage.setItem("userType","guest"),sessionStorage.setItem("safebite-guest-mode","true"),localStorage.setItem("guestId",n);const i=xb(),s=e||i||"Guest User";(e||!i)&&gU(s);const o={displayName:s,createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"dark",notifications:!1},healthData:{healthScore:75,weeklyProgress:[65,68,70,72,75],nutritionGoals:{calories:2e3,protein:100,carbs:250,fat:65}}};sessionStorage.setItem("guestUserData",JSON.stringify(o)),localStorage.setItem("guestNameSet","true"),console.log("Guest login successful",n,"with name",s);return}catch(r){throw console.error("Error setting up guest mode:",r),r}}isGuestUser(){return localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"}getGuestUserData(){const e=sessionStorage.getItem("guestUserData");return e?JSON.parse(e):null}updateGuestUserData(e){const n={...this.getGuestUserData()||{displayName:"Guest User",createdAt:new Date,lastLoginAt:new Date,preferences:{},healthData:{}},...e,lastLoginAt:new Date};sessionStorage.setItem("guestUserData",JSON.stringify(n))}exitGuestMode(){localStorage.removeItem("userType"),localStorage.removeItem("guestId"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),console.log("Exited guest mode")}async convertGuestToPermanent(e,r){throw console.log("Converting guest to permanent account is not implemented yet"),new Error("Not implemented")}}const $E=new due,fue=({open:t,onClose:e})=>{const[r,n]=j.useState(""),i=s=>{s.preventDefault();const o=r.trim()||"Guest User";gU(o),e(o)};return a.jsx(Nd,{open:t,onOpenChange:s=>!s&&e(),children:a.jsxs(Uc,{className:"sm:max-w-md",children:[a.jsxs(zc,{children:[a.jsxs(qc,{className:"flex items-center",children:[a.jsx(lu,{className:"mr-2 h-5 w-5"}),"Welcome to SafeBite"]}),a.jsx(Hd,{children:"Please enter your name to continue as a guest user. Your data will not be saved permanently."})]}),a.jsxs("form",{onSubmit:i,children:[a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(et,{htmlFor:"name",className:"text-right",children:"Name"}),a.jsx(ft,{id:"name",placeholder:"Your name",value:r,onChange:s=>n(s.target.value),className:"col-span-3",autoFocus:!0})]})}),a.jsx(hU,{children:a.jsx(ie,{type:"submit",children:"Continue as Guest"})})]})]})})},hue=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,s]=j.useState(!1),[o,l]=j.useState(!1),[u,f]=j.useState(!1),[h,m]=j.useState(!1),p=gr(),y=Ml(),{toast:_}=ar(),b=Vt(Ke);j.useEffect(()=>{new URLSearchParams(y.search).get("guest")==="true"&&f(!0)},[y]);const x=async C=>{C.preventDefault(),l(!0);try{await xre(b,t,r),_({title:"Login successful",description:"Welcome back to SafeBite!"}),p("/dashboard")}catch(O){console.error("Login error:",O),_({title:"Login failed",description:O.message,variant:"destructive"})}finally{l(!1)}},E=async()=>{l(!0);const C=new ps;try{await HT(b,C),_({title:"Google login successful",description:"Welcome to SafeBite!"}),p("/dashboard")}catch(O){console.error("Google login error:",O),_({title:"Google login failed",description:O.message,variant:"destructive"})}finally{l(!1)}},S=async()=>{const C=xb();if(C){l(!0);try{await $E.signInAsGuest(C),_({title:"Welcome back, "+C,description:"You're continuing your guest session."}),p("/dashboard")}catch(O){console.error("Guest login error:",O),_({title:"Guest login failed",description:O.message,variant:"destructive"})}finally{l(!1)}}else m(!0)},T=async C=>{if(m(!1),!!C){l(!0);try{await $E.signInAsGuest(C),_({title:"Welcome, "+C,description:"You're now using SafeBite in guest mode. Your data won't be saved permanently."}),p("/dashboard")}catch(O){console.error("Guest login error:",O),_({title:"Guest login failed",description:O.message,variant:"destructive"})}finally{l(!1)}}},N=()=>{f(!u)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:[a.jsxs(Me,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"SafeBite"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Sign in to access your health dashboard"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bd,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{id:"email",placeholder:"your.email@example.com",type:"email",className:"sci-fi-input pl-10",value:t,onChange:C=>e(C.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx(et,{htmlFor:"password",children:"Password"}),a.jsx(Rt,{to:"/auth/forgot-password",className:"text-xs text-safebite-teal hover:text-safebite-teal/80",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Bc,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{id:"password",placeholder:"••••••••",type:i?"text":"password",className:"sci-fi-input pl-10",value:r,onChange:C=>n(C.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-2.5",children:i?a.jsx(cY,{className:"h-5 w-5 text-safebite-text-secondary"}):a.jsx(uY,{className:"h-5 w-5 text-safebite-text-secondary"})})]})]}),a.jsxs(ie,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:o,children:[o?a.jsx(Da,{size:"sm",className:"mr-2"}):null,"Sign In"]})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-safebite-card-bg-alt"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-safebite-card-bg px-2 text-safebite-text-secondary",children:"Or continue with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(ie,{variant:"outline",className:"sci-fi-button",onClick:E,disabled:o,children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),a.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),a.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),a.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),"Google"]}),a.jsxs(ie,{variant:"outline",className:"sci-fi-button",onClick:S,disabled:o,children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Guest"]})]}),u&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(wl,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Don't have an account? "}),a.jsxs("button",{onClick:N,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(wl,{className:"h-3 w-3 mr-1"}),u?"Hide":"About"," guest mode"]})]}),a.jsx("div",{className:"flex justify-center space-x-4",children:a.jsx(Rt,{to:"/auth/signup",className:"text-safebite-teal hover:text-safebite-teal/80",children:"Sign up"})})]})]}),a.jsx(fue,{open:h,onClose:T})]})},mue=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(""),[u,f]=j.useState(!1),[h,m]=j.useState(""),[p,y]=j.useState(!1),_=gr(),{toast:b}=ar(),x=Vt(Ke),E=()=>{y(!p)},S=async C=>{if(C.preventDefault(),!t||!r||!i||!o){m("Please fill in all fields");return}if(i!==o){m("Passwords do not match");return}if(i.length<6){m("Password must be at least 6 characters long");return}f(!0),m("");try{await yre(x,r,i),b({title:"Account created",description:"Welcome to SafeBite! Please answer a few questions to personalize your experience."}),_("/questionnaire")}catch(O){console.error("Signup error:",O),m(O.message)}finally{f(!1)}},T=async()=>{f(!0),m("");const C=new ps;try{await HT(x,C),b({title:"Account created",description:"Welcome to SafeBite! Let's get started with some questions."}),_("/questionnaire")}catch(O){console.error("Google signup error:",O),m(O.message)}finally{f(!1)}},N=async()=>{f(!0),m("");try{await $E.signInAsGuest(),b({title:"Guest login successful",description:"You're now using SafeBite in guest mode. Your data won't be saved."}),_("/dashboard")}catch(C){console.error("Guest login error:",C),m(C.message)}finally{f(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Create Account"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Join SafeBite and start your health journey"})]}),a.jsxs("div",{className:"sci-fi-card",children:[h&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Ka,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:h})]}),a.jsx("form",{onSubmit:S,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"name",className:"text-safebite-text",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kc,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{id:"name",type:"text",placeholder:"Enter your full name",value:t,onChange:C=>e(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bd,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:C=>n(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"password",className:"text-safebite-text",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bc,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{id:"password",type:"password",placeholder:"Create a password",value:i,onChange:C=>s(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"confirm-password",className:"text-safebite-text",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bc,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:o,onChange:C=>l(C.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),a.jsx(ie,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:u,children:u?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating account..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(a6,{className:"mr-2 h-5 w-5"}),"Create Account"]})}),a.jsx(XT,{className:"my-6 bg-safebite-card-bg-alt"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(ie,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:T,disabled:u,children:[a.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),a.jsxs(ie,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:N,disabled:u,children:[a.jsx(lu,{className:"mr-2 h-5 w-5"}),"Guest"]})]}),p&&a.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(wl,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),a.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Access all features and tools without registration"}),a.jsx("li",{children:"Your data won't be saved when you leave"}),a.jsx("li",{children:"No personalized recommendations over time"}),a.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})})]})})]}),a.jsxs("div",{className:"text-center mt-6",children:[a.jsx("div",{className:"flex justify-center items-center mb-2",children:a.jsxs("button",{onClick:E,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[a.jsx(wl,{className:"h-3 w-3 mr-1"}),p?"Hide":"About"," guest mode"]})}),a.jsxs("p",{className:"text-safebite-text-secondary",children:["Already have an account?"," ",a.jsx(Rt,{to:"/auth/login",className:"text-safebite-teal hover:underline",children:"Sign in"})]})]})]})})},pue=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(!1),[i,s]=j.useState(!1),[o,l]=j.useState(""),{toast:u}=ar(),f=async h=>{if(h.preventDefault(),!t){l("Please enter your email");return}n(!0),l("");try{setTimeout(()=>{console.log("Password reset email sent to:",t),s(!0),u({title:"Reset link sent",description:"If your email exists in our system, you'll receive a reset link shortly."})},1500)}catch(m){console.error("Password reset error:",m),l("Failed to send reset link. Please try again.")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Forgot Password"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We'll send you a link to reset your password"})]}),a.jsxs("div",{className:"sci-fi-card",children:[o&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Ka,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:o})]}),i?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 text-green-400 mb-4",children:a.jsx(Bd,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text",children:"Check Your Email"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["We've sent a password reset link to ",a.jsx("span",{className:"text-safebite-teal",children:t}),". Follow the instructions in the email to reset your password."]}),a.jsx(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>s(!1),children:"Back to Reset"})]}):a.jsx("form",{onSubmit:f,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bd,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:h=>e(h.target.value),className:"sci-fi-input pl-10",disabled:r})]})]}),a.jsx(ie,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:r,children:r?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"Send Reset Link"})]})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs(Rt,{to:"/auth/login",className:"inline-flex items-center text-safebite-teal hover:underline",children:[a.jsx(mT,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})})};function gue(t,e=[]){let r=[];function n(s,o){const l=j.createContext(o),u=r.length;r=[...r,o];function f(m){const{scope:p,children:y,..._}=m,b=(p==null?void 0:p[t][u])||l,x=j.useMemo(()=>_,Object.values(_));return a.jsx(b.Provider,{value:x,children:y})}function h(m,p){const y=(p==null?void 0:p[t][u])||l,_=j.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,h]}const i=()=>{const s=r.map(o=>j.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,vue(i,...e)]}function vue(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Y2="Progress",Q2=100,[yue,iTe]=gue(Y2),[xue,bue]=yue(Y2),Sz=j.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=wue,...o}=t;(i||i===0)&&!pM(i)&&console.error(_ue(`${i}`,"Progress"));const l=pM(i)?i:Q2;n!==null&&!gM(n,l)&&console.error(jue(`${n}`,"Progress"));const u=gM(n,l)?n:null,f=zy(u)?s(u,l):void 0;return a.jsx(xue,{scope:r,value:u,max:l,children:a.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":zy(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":Az(u,l),"data-value":u??void 0,"data-max":l,...o,ref:e})})});Sz.displayName=Y2;var Nz="ProgressIndicator",Ez=j.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=bue(Nz,r);return a.jsx(Ve.div,{"data-state":Az(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});Ez.displayName=Nz;function wue(t,e){return`${Math.round(t/e*100)}%`}function Az(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function zy(t){return typeof t=="number"}function pM(t){return zy(t)&&!isNaN(t)&&t>0}function gM(t,e){return zy(t)&&!isNaN(t)&&t<=e&&t>=0}function _ue(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Q2}\`.`}function jue(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Q2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Tz=Sz,Sue=Ez;const Bm=j.forwardRef(({className:t,value:e,...r},n)=>a.jsx(Tz,{ref:n,className:Ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(Sue,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Bm.displayName=Tz.displayName;var X2="Radio",[Nue,Cz]=bi(X2),[Eue,Aue]=Nue(X2),kz=j.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:o,value:l="on",onCheck:u,form:f,...h}=t,[m,p]=j.useState(null),y=yt(e,x=>p(x)),_=j.useRef(!1),b=m?f||!!m.closest("form"):!0;return a.jsxs(Eue,{scope:r,checked:i,disabled:o,children:[a.jsx(Ve.button,{type:"button",role:"radio","aria-checked":i,"data-state":Rz(i),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:$e(t.onClick,x=>{i||u==null||u(),b&&(_.current=x.isPropagationStopped(),_.current||x.stopPropagation())})}),b&&a.jsx(Tue,{control:m,bubbles:!_.current,name:n,value:l,checked:i,required:s,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});kz.displayName=X2;var Pz="RadioIndicator",Iz=j.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=Aue(Pz,r);return a.jsx(la,{present:n||s.checked,children:a.jsx(Ve.span,{"data-state":Rz(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});Iz.displayName=Pz;var Tue=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=j.useRef(null),o=zp(r),l=kp(e);return j.useEffect(()=>{const u=s.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(p)}},[o,r,n]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rz(t){return t?"checked":"unchecked"}var Cue=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J2="RadioGroup",[kue,sTe]=bi(J2,[Vb,Cz]),Oz=Vb(),Mz=Cz(),[Pue,Iue]=kue(J2),Dz=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:o=!1,disabled:l=!1,orientation:u,dir:f,loop:h=!0,onValueChange:m,...p}=t,y=Oz(r),_=Lf(f),[b,x]=Qn({prop:s,defaultProp:i,onChange:m});return a.jsx(Pue,{scope:r,name:n,required:o,disabled:l,value:b,onValueChange:x,children:a.jsx(rz,{asChild:!0,...y,orientation:u,dir:_,loop:h,children:a.jsx(Ve.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:_,...p,ref:e})})})});Dz.displayName=J2;var Lz="RadioGroupItem",$z=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=Iue(Lz,r),o=s.disabled||n,l=Oz(r),u=Mz(r),f=j.useRef(null),h=yt(e,f),m=s.value===i.value,p=j.useRef(!1);return j.useEffect(()=>{const y=b=>{Cue.includes(b.key)&&(p.current=!0)},_=()=>p.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",_)}},[]),a.jsx(nz,{asChild:!0,...l,focusable:!o,active:m,children:a.jsx(kz,{disabled:o,required:s.required,checked:m,...u,...i,name:s.name,ref:h,onCheck:()=>s.onValueChange(i.value),onKeyDown:$e(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:$e(i.onFocus,()=>{var y;p.current&&((y=f.current)==null||y.click())})})})});$z.displayName=Lz;var Rue="RadioGroupIndicator",Fz=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=Mz(r);return a.jsx(Iz,{...i,...n,ref:e})});Fz.displayName=Rue;var Vz=Dz,Bz=$z,Oue=Fz;const Z2=j.forwardRef(({className:t,...e},r)=>a.jsx(Vz,{className:Ye("grid gap-2",t),...e,ref:r}));Z2.displayName=Vz.displayName;const Ac=j.forwardRef(({className:t,...e},r)=>a.jsx(Bz,{ref:r,className:Ye("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Oue,{className:"flex items-center justify-center",children:a.jsx(sY,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ac.displayName=Bz.displayName;function qy(t,[e,r]){return Math.min(r,Math.max(e,t))}var Uz=["PageUp","PageDown"],zz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$f="Slider",[FE,Mue,Due]=Ep($f),[Hz,aTe]=bi($f,[Due]),[Lue,zb]=Hz($f),Wz=j.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[n],value:h,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:_,...b}=t,x=j.useRef(new Set),E=j.useRef(0),T=o==="horizontal"?$ue:Fue,[N=[],C]=Qn({prop:h,defaultProp:f,onChange:$=>{var L;(L=[...x.current][E.current])==null||L.focus(),m($)}}),O=j.useRef(N);function P($){const D=que(N,$);V($,D)}function R($){V($,E.current)}function M(){const $=O.current[E.current];N[E.current]!==$&&p(N)}function V($,D,{commit:L}={commit:!1}){const B=Kue(s),G=Yue(Math.round(($-n)/s)*s+n,B),q=qy(G,[n,i]);C((Y=[])=>{const z=Uue(Y,q,D);if(Gue(z,u*s)){E.current=z.indexOf(q);const J=String(z)!==String(Y);return J&&L&&p(z),J?z:Y}else return Y})}return a.jsx(Lue,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:E,thumbs:x.current,values:N,orientation:o,form:_,children:a.jsx(FE.Provider,{scope:t.__scopeSlider,children:a.jsx(FE.Slot,{scope:t.__scopeSlider,children:a.jsx(T,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:e,onPointerDown:$e(b.onPointerDown,()=>{l||(O.current=N)}),min:n,max:i,inverted:y,onSlideStart:l?void 0:P,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&V(n,0,{commit:!0}),onEndKeyDown:()=>!l&&V(i,N.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:D})=>{if(!l){const G=Uz.includes($.key)||$.shiftKey&&zz.includes($.key)?10:1,q=E.current,Y=N[q],z=s*G*D;V(Y+z,q,{commit:!0})}}})})})})});Wz.displayName=$f;var[Gz,Kz]=Hz($f,{startEdge:"left",endEdge:"right",size:"width",direction:1}),$ue=j.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:f,...h}=t,[m,p]=j.useState(null),y=yt(e,T=>p(T)),_=j.useRef(),b=Lf(i),x=b==="ltr",E=x&&!s||!x&&s;function S(T){const N=_.current||m.getBoundingClientRect(),C=[0,N.width],P=eC(C,E?[r,n]:[n,r]);return _.current=N,P(T-N.left)}return a.jsx(Gz,{scope:t.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:a.jsx(Yz,{dir:b,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const N=S(T.clientX);o==null||o(N)},onSlideMove:T=>{const N=S(T.clientX);l==null||l(N)},onSlideEnd:()=>{_.current=void 0,u==null||u()},onStepKeyDown:T=>{const C=qz[E?"from-left":"from-right"].includes(T.key);f==null||f({event:T,direction:C?-1:1})}})})}),Fue=j.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:u,...f}=t,h=j.useRef(null),m=yt(e,h),p=j.useRef(),y=!i;function _(b){const x=p.current||h.current.getBoundingClientRect(),E=[0,x.height],T=eC(E,y?[n,r]:[r,n]);return p.current=x,T(b-x.top)}return a.jsx(Gz,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:a.jsx(Yz,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const x=_(b.clientY);s==null||s(x)},onSlideMove:b=>{const x=_(b.clientY);o==null||o(x)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:b=>{const E=qz[y?"from-bottom":"from-top"].includes(b.key);u==null||u({event:b,direction:E?-1:1})}})})}),Yz=j.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:u,...f}=t,h=zb($f,r);return a.jsx(Ve.span,{...f,ref:e,onKeyDown:$e(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):Uz.concat(zz).includes(m.key)&&(u(m),m.preventDefault())}),onPointerDown:$e(t.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),h.thumbs.has(p)?p.focus():n(m)}),onPointerMove:$e(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:$e(t.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),s(m))})})}),Qz="SliderTrack",Xz=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=zb(Qz,r);return a.jsx(Ve.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});Xz.displayName=Qz;var VE="SliderRange",Jz=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=zb(VE,r),s=Kz(VE,r),o=j.useRef(null),l=yt(e,o),u=i.values.length,f=i.values.map(p=>e9(p,i.min,i.max)),h=u>1?Math.min(...f):0,m=100-Math.max(...f);return a.jsx(Ve.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:h+"%",[s.endEdge]:m+"%"}})});Jz.displayName=VE;var BE="SliderThumb",Zz=j.forwardRef((t,e)=>{const r=Mue(t.__scopeSlider),[n,i]=j.useState(null),s=yt(e,l=>i(l)),o=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(Vue,{...t,ref:s,index:o})}),Vue=j.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=zb(BE,r),l=Kz(BE,r),[u,f]=j.useState(null),h=yt(e,S=>f(S)),m=u?o.form||!!u.closest("form"):!0,p=kp(u),y=o.values[n],_=y===void 0?0:e9(y,o.min,o.max),b=zue(n,o.values.length),x=p==null?void 0:p[l.size],E=x?Hue(x,_,l.direction):0;return j.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${_}% + ${E}px)`},children:[a.jsx(FE.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(Ve.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:h,style:y===void 0?{display:"none"}:t.style,onFocus:$e(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&a.jsx(Bue,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},n)]})});Zz.displayName=BE;var Bue=t=>{const{value:e,...r}=t,n=j.useRef(null),i=zp(e);return j.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&u){const f=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[i,e]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function Uue(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function e9(t,e,r){const s=100/(r-e)*(t-e);return qy(s,[0,100])}function zue(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function que(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Hue(t,e,r){const n=t/2,s=eC([0,50],[0,n]);return(n-s(e)*r)*r}function Wue(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Gue(t,e){if(e>0){const r=Wue(t);return Math.min(...r)>=e}return!0}function eC(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Kue(t){return(String(t).split(".")[1]||"").length}function Yue(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var t9=Wz,Que=Xz,Xue=Jz,Jue=Zz;const Ko=j.forwardRef(({className:t,...e},r)=>a.jsxs(t9,{ref:r,className:Ye("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(Que,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(Xue,{className:"absolute h-full bg-primary"})}),a.jsx(Jue,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ko.displayName=t9.displayName;const Zue=({question:t,value:e,onChange:r,onNext:n,onBack:i,isFirst:s=!1,isLast:o=!1,isLoading:l=!1})=>{const[u,f]=j.useState(e),h=p=>{f(p),r(t.id,p)},m=()=>{var p;switch(t.type){case"radio":return a.jsx(Z2,{value:u,onValueChange:h,children:a.jsx("div",{className:"space-y-3",children:(p=t.options)==null?void 0:p.map(y=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ac,{value:y,id:`${t.id}-${y}`,className:"border-safebite-text-secondary text-safebite-teal"}),a.jsx(et,{htmlFor:`${t.id}-${y}`,className:"text-safebite-text",children:y})]},y))})});case"text":return a.jsx(ft,{type:"text",value:u||"",onChange:y=>h(y.target.value),className:"sci-fi-input mt-2"});case"slider":return a.jsxs("div",{className:"space-y-4 mt-6",children:[a.jsx(Ko,{value:[u],min:t.min||0,max:t.max||100,step:t.step||1,onValueChange:y=>h(y[0]),className:"mt-2"}),a.jsxs("div",{className:"flex justify-between text-safebite-text-secondary text-sm",children:[a.jsx("span",{children:t.min}),a.jsxs("span",{className:"text-safebite-teal font-medium",children:["Current: ",u]}),a.jsx("span",{children:t.max})]})]});default:return null}};return a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:t.question}),m(),a.jsxs("div",{className:"flex justify-between mt-8",children:[s?a.jsx("div",{}):a.jsx(ie,{type:"button",variant:"outline",onClick:i,className:"sci-fi-button",children:"Back"}),a.jsx(ie,{type:"button",onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:l,children:l?o?"Submitting...":"Loading...":o?"Submit":"Next"})]})]})},ede=({achievement:t,size:e="md",showXP:r=!0,className:n=""})=>{const i={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},s={sm:24,md:32,lg:48},o=()=>{const l=s[e];switch(t.icon){case"trophy":return a.jsx(yd,{size:l,className:"text-yellow-400"});case"award":return a.jsx(xm,{size:l,className:"text-blue-400"});case"star":return a.jsx(xn,{size:l,className:"text-purple-400"});case"medal":return a.jsx(vY,{size:l,className:"text-green-400"});case"zap":return a.jsx(Kn,{size:l,className:"text-safebite-teal"});default:return a.jsx(yd,{size:l,className:"text-yellow-400"})}};return a.jsxs("div",{className:`flex flex-col items-center ${n}`,children:[a.jsxs("div",{className:`${i[e]} relative flex items-center justify-center`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/20 blur-md"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal flex items-center justify-center bg-safebite-card-bg",children:o()}),r&&a.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-safebite-teal text-safebite-dark-blue text-xs font-bold rounded-full px-2 py-1 border border-safebite-dark-blue",children:["+",t.xp," XP"]})]}),a.jsx("h3",{className:"mt-2 text-safebite-text font-medium text-center",children:t.title}),t.completed?a.jsx(Ue,{variant:"outline",className:"mt-1 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/50",children:"Completed"}):a.jsx(Ue,{variant:"outline",className:"mt-1 bg-safebite-card-bg-alt text-safebite-text-secondary",children:"In Progress"})]})},tde=({onClose:t})=>{const[e,r]=j.useState(!1);j.useEffect(()=>{const s=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(s)},[]);const n=()=>{r(!1),setTimeout(t,300)},i={id:"questionnaire_complete",title:"Profile Complete",description:"Completed your health profile questionnaire",xp:10,icon:"trophy",completed:!0,date:new Date};return a.jsxs("div",{className:`fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:n}),a.jsxs("div",{className:"relative bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 max-w-md w-full transform transition-all duration-300 sci-fi-card",children:[a.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(Xn,{size:20})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Achievement Unlocked!"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"You've earned your first achievement badge and XP points."})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(ede,{achievement:i,size:"lg",showXP:!0})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Continue using SafeBite to earn more achievements and XP points!"}),a.jsx(ie,{onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Continue to Dashboard"})]})]})]})},qo=[{id:"age",type:"radio",question:"What is your age?",options:["18-25","26-35","36-45","46-55","55+"]},{id:"gender",type:"radio",question:"What is your gender?",options:["Male","Female","Other"]},{id:"height_weight",type:"text",question:"What is your height and weight? (e.g., 170cm, 70kg)"},{id:"activity_level",type:"radio",question:"What is your activity level?",options:["Sedentary","Lightly Active","Active","Very Active"]},{id:"health_conditions",type:"radio",question:"Do you have any known health conditions?",options:["Diabetes","Hypertension","Heart Issues","None"]},{id:"dietary_preferences",type:"radio",question:"Do you have any dietary preferences?",options:["Veg","Vegan","Non-Veg","Keto","Gluten-Free","Other"]},{id:"food_allergies",type:"text",question:"Do you have any food allergies? (Check common allergens or manually input)"},{id:"meals_per_day",type:"radio",question:"How many meals do you eat per day?",options:["2","3","4","5+"]},{id:"water_intake",type:"radio",question:"How much water do you drink daily?",options:["<1L","1-2L","2-3L","3L+"]},{id:"outside_food",type:"radio",question:"How often do you eat outside or order food?",options:["Rarely","Weekly","Daily"]},{id:"homemade_processed",type:"radio",question:"Do you prefer homemade or processed foods?",options:["Homemade","Processed","Mixed"]},{id:"packaged_food",type:"radio",question:"How often do you eat packaged food?",options:["Rarely","Weekly","Daily"]},{id:"food_priorities",type:"radio",question:"What do you prioritize while choosing food?",options:["Taste","Health","Price","Convenience"]},{id:"sugary_drinks",type:"radio",question:"Do you consume sugary drinks often?",options:["Yes","No","Occasionally"]},{id:"protein_source",type:"radio",question:"What’s your usual protein source?",options:["Veg","Dairy","Meat","Eggs","Mix"]},{id:"calorie_tracking",type:"radio",question:"Do you track your calorie intake?",options:["Yes","No","Sometimes"]},{id:"health_goals",type:"radio",question:"What are your health goals?",options:["Weight Loss","Muscle Gain","General Health","No Goal"]},{id:"exercise_frequency",type:"radio",question:"How often do you exercise?",options:["Never","Weekly","3-4 Times a Week","Daily"]},{id:"diet_recommendations",type:"radio",question:"Are you looking for diet & meal plan recommendations?",options:["Yes","No","Maybe Later"]},{id:"reminders",type:"radio",question:"Would you like reminders for healthy habits?",options:["Yes","No","Maybe Later"]},{id:"food_safety_alerts",type:"radio",question:"Would you like food safety alerts for the products you buy?",options:["Yes","No","Maybe Later"]},{id:"username",type:"text",question:"What name would you like us to call you?"}],rde=()=>{const t=gr(),{toast:e}=ar(),[r,n]=j.useState(0),[i,s]=j.useState({}),[o,l]=j.useState(!1),[u,f]=j.useState(""),[h,m]=j.useState(!1),p=Vt(Ke),y=Er(Ke);j.useEffect(()=>{const N={};qo.forEach(C=>{C.type==="radio"?N[C.id]=void 0:C.type==="text"?N[C.id]="":N[C.id]=null}),s(N)},[]);const _=(N,C)=>{s(O=>({...O,[N]:C})),f("")},b=N=>N?/^\d+(\.\d+)?cm, ?\d+(\.\d+)?kg$/.test(N.trim()):!1,x=async()=>{f("");const N=qo[r],C=i[N.id];if(["diet_recommendations","reminders","food_safety_alerts"].includes(N.id))C===void 0&&onChange(N.id,"Yes");else{if(C===void 0||C===""){f("Please answer this question before proceeding."),e({title:"Missing Answer",description:"Please answer the current question.",variant:"destructive"});return}if(N.id==="height_weight"&&!b(C)){f("Please enter height and weight in the correct format (e.g., 170cm, 70kg)"),e({title:"Invalid Format",description:"Please enter height and weight in the format '170cm, 70kg'.",variant:"destructive"});return}}if(l(!0),r===qo.length-1){const P=p.currentUser;if(P){const R=P.uid,M=gt(y,"users",R);try{await As(M,{profile:i,questionnaireCompleted:!0,lastWeeklyPrompt:null,achievements:{questionnaire:{completed:!0,date:new Date,xp:10}},xp:10},{merge:!0}),e({title:"Questionnaire completed!",description:"Your profile is set up. You earned 10 XP!"}),m(!0),l(!1)}catch(V){e({title:"Error saving profile",description:V.message,variant:"destructive"}),console.error("Error writing user profile to Firestore: ",V),f("Failed to save your profile. Please try again.")}finally{l(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),l(!1),t("/auth/login")}else n(P=>P+1),l(!1)},E=()=>{f(""),n(N=>Math.max(0,N-1))},S=(r+1)/qo.length*100,T=()=>{m(!1),t("/dashboard")};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:[h&&a.jsx(tde,{onClose:T}),a.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Let's Get to Know You"}),a.jsx("p",{className:"text-safebite-text-secondary",children:o?"Saving your profile...":"Help us personalize your SafeBite experience."})]}),o?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Da,{size:"lg"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",r+1,"/",qo.length]}),a.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(S),"% Complete"]})]}),a.jsx(Bm,{value:S,className:"h-2 bg-safebite-card-bg-alt"})]}),u&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Ka,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:u})]}),a.jsx(Zue,{question:qo[r],value:i[qo[r].id],onChange:_,onNext:x,onBack:E,isFirst:r===0,isLast:r===qo.length-1,isLoading:o})]})]})})]})},nde=()=>{const t=gr();return a.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-safebite-purple bg-safebite-purple/10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rn,{className:"mr-3 h-5 w-5 text-safebite-purple"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-safebite-text font-medium",children:"You're using SafeBite in guest mode"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Some features are limited. Create an account to access all features."})]})]}),a.jsx(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white",children:"Sign Up"})]})},ide=()=>{const t=gr(),{toast:e}=ar(),[r,n]=j.useState(!0),[i,s]=j.useState("");return j.useEffect(()=>{const o=xb();s(o)},[]),j.useEffect(()=>{i!==void 0&&r&&(e(i?{title:`Welcome, ${i}!`,description:"You're exploring SafeBite in guest mode. Your data won't be saved when you leave.",variant:"default",duration:8e3}:{title:"Welcome to Guest Mode!",description:"Explore SafeBite's features freely. Create an account to save your progress and get personalized insights.",variant:"default",duration:8e3}),n(!1))},[e,r,i]),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden min-h-screen",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("pattern",{id:"guest-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5",className:"text-safebite-teal/50"})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#guest-grid)"})]})}),a.jsx(nde,{}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsxs("div",{className:"mb-4 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-1",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple animate-gradient-text",children:["Welcome, ",i||"s","!"]})}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"You're exploring in Guest Mode. Sign up to unlock all features."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[a.jsxs(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto transition-transform hover:scale-105",children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Create Account"]}),a.jsxs(ie,{onClick:()=>t("/food-delivery"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white w-full sm:w-auto transition-transform hover:scale-105",children:[a.jsx("span",{className:"mr-2",children:"🍔"})," Food Delivery (Beta)"]})]})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Discover Key Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(Me,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(bt,{className:"pb-3",children:a.jsxs(wt,{className:"flex items-center text-lg",children:[a.jsx(Qr,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Instant Food Search"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Look up foods or scan barcodes for nutrition facts and safety insights."}),a.jsxs(ie,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Try Search",a.jsx(Ba,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Me,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(bt,{className:"pb-3",children:a.jsxs(wt,{className:"flex items-center text-lg",children:[a.jsx(vd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Calculators"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Use over 30 calculators for BMI, BMR, calories, and more."}),a.jsxs(ie,{onClick:()=>t("/healthbox"),className:"w-full sci-fi-button-alt",children:["Explore Tools",a.jsx(Ba,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsxs(Me,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 bg-safebite-card-bg-alt border-safebite-teal/30",children:[a.jsx(bt,{className:"pb-3",children:a.jsxs(wt,{className:"flex items-center text-lg",children:[a.jsx(cy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"AI Food Insights"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Leverage AI for deeper understanding of food ingredients and safety."}),a.jsxs(ie,{onClick:()=>t("/food-search"),className:"w-full sci-fi-button-alt",children:["Learn More",a.jsx(Ba,{className:"ml-2 h-4 w-4"})]})]})]})]})]}),a.jsxs("div",{className:"relative z-10 mb-10 p-6 bg-safebite-card-bg/80 backdrop-blur-sm rounded-lg border border-safebite-teal/20 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Unlock Full Potential - Sign Up!"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(Me,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(Bc,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(bt,{className:"pb-3",children:a.jsxs(wt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(bl,{className:"mr-2 h-5 w-5"}),"Personalized Tracking"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Log meals, track nutrition, monitor progress, and save history."}),a.jsx(ie,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(Me,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(Bc,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(bt,{className:"pb-3",children:a.jsxs(wt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(yd,{className:"mr-2 h-5 w-5"}),"Gamification & Goals"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Set health goals, earn badges, and track achievements."}),a.jsx(ie,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]}),a.jsxs(Me,{className:"sci-fi-card bg-safebite-card-bg/60 border-safebite-card-bg-alt/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:a.jsx(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 scale-110",children:"Sign Up Now"})}),a.jsx("div",{className:"absolute top-3 right-3 z-0",children:a.jsx(Bc,{className:"h-5 w-5 text-safebite-text-secondary/50"})}),a.jsx(bt,{className:"pb-3",children:a.jsxs(wt,{className:"flex items-center text-safebite-text-secondary text-lg",children:[a.jsx(qN,{className:"mr-2 h-5 w-5"}),"Personalized AI"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Receive AI recommendations tailored to your health profile."}),a.jsx(ie,{disabled:!0,className:"w-full sci-fi-button-disabled",children:"Locked"})]})]})]})]}),a.jsx("div",{className:"relative z-10 mb-10",children:a.jsxs(Me,{className:"sci-fi-card shadow-neon-teal border-safebite-teal/50 bg-gradient-to-br from-safebite-card-bg to-safebite-card-bg-alt",children:[a.jsx(bt,{children:a.jsx(wt,{className:"text-center text-xl font-semibold gradient-text",children:"Why Create a Free Account?"})}),a.jsxs(it,{children:[a.jsxs("ul",{className:"space-y-3 mb-6",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(Qo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Save food search history & favorites"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Qo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Get personalized AI health recommendations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Qo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Track nutrition, activity & progress over time"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Qo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Earn achievements & XP for healthy habits"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Qo,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-safebite-text-secondary text-sm",children:"Access premium features & future integrations"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(ie,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 transition-transform hover:scale-105 shadow-md hover:shadow-lg",size:"lg",children:"Sign Up Free"})})]})]})}),a.jsxs("div",{className:"relative z-10 mb-10",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"What's Next?"}),a.jsxs(Me,{className:"sci-fi-card relative overflow-hidden border-orange-500/30 bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-lg bg-gradient-to-r from-orange-600 via-red-500 to-yellow-500 opacity-75 blur animate-pulse-slow"}),a.jsx("div",{className:"relative p-6 bg-safebite-card-bg-alt rounded-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center",children:[a.jsx("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:mr-6",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg",children:a.jsx(Kn,{className:"h-8 w-8 text-white"})})}),a.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[a.jsx("h3",{className:"text-xl font-semibold text-orange-400 mb-2",children:"Food Delivery Integration"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4 text-sm",children:"Get nutritional insights for meals from Zomato & Swiggy directly within SafeBite. Stay tuned!"}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start",children:[a.jsx(Ue,{variant:"outline",className:"bg-orange-500/10 text-orange-400 border-orange-500/30",children:"Coming Soon"}),a.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Dataset preparation underway"})]})]})]})})]})]}),a.jsxs("div",{className:"text-center text-safebite-text-secondary text-sm mt-8",children:[a.jsx("p",{children:"SafeBite v2.5"}),a.jsxs("p",{className:"mt-2",children:["Guest mode provides limited functionality. ",a.jsx(ie,{variant:"link",className:"p-0 h-auto text-safebite-teal",onClick:()=>t("/auth/signup"),children:"Sign up"})," for full access."]})]})]})};class sde{constructor(){rn(this,"auth",Vt(Ke));rn(this,"db",Er(Ke));rn(this,"localActivities",[]);rn(this,"isGuest",!1);rn(this,"syncInterval",null);rn(this,"maxLocalActivities",10);this.isGuest=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true",this.setupSyncInterval(),this.auth.onAuthStateChanged(e=>{this.isGuest=!e&&(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"),this.setupSyncInterval()})}async trackActivity(e,r,n){const i={type:e,action:r,details:n,timestamp:new Date};this.localActivities.push(i),this.saveActivityToCookies(i),!this.isGuest&&this.localActivities.length>=this.maxLocalActivities&&await this.syncActivitiesWithFirebase(),console.log(`Activity tracked: ${e} - ${r}`)}saveActivityToCookies(e){try{const r=this.getActivitiesFromCookies();r.push({type:e.type,action:e.action,timestamp:e.timestamp.getTime()});const n=r.slice(-50);document.cookie=`safebite_activities=${JSON.stringify(n)};path=/;max-age=2592000`}catch(r){console.error("Error saving activity to cookies:",r)}}getActivitiesFromCookies(){try{const r=document.cookie.split(";").find(n=>n.trim().startsWith("safebite_activities="));if(r){const n=r.split("=")[1];return JSON.parse(decodeURIComponent(n))}return[]}catch(e){return console.error("Error getting activities from cookies:",e),[]}}async syncActivitiesWithFirebase(){try{const e=this.auth.currentUser;if(!e||this.isGuest||this.localActivities.length===0)return;const r=gt(this.db,"users",e.uid),n=gt(this.db,"user_activities",e.uid);(await sr(n)).exists()?await Fm(n,{activities:Q8(...this.localActivities),lastUpdated:br.now()}):await As(n,{activities:this.localActivities,lastUpdated:br.now(),userId:e.uid}),await Fm(r,{lastActivity:this.localActivities[this.localActivities.length-1],lastActiveAt:br.now()},{merge:!0}),this.localActivities=[],console.log("Activities synced with Firebase")}catch(e){console.error("Error syncing activities with Firebase:",e)}}setupSyncInterval(){this.syncInterval&&(window.clearInterval(this.syncInterval),this.syncInterval=null),this.isGuest||(this.syncInterval=window.setInterval(()=>{this.localActivities.length>0&&this.syncActivitiesWithFirebase()},6e4))}async getRecentActivities(e=10){try{const r=this.auth.currentUser;if(!r||this.isGuest)return this.localActivities.slice(-e);const n=gt(this.db,"user_activities",r.uid),i=await sr(n);return i.exists()?i.data().activities.slice(-e):[]}catch(r){return console.error("Error getting recent activities:",r),[]}}async getUserActivity(e){try{if(!e)return[];const r=gt(this.db,"user_activities",e),n=await sr(r);return n.exists()?n.data().activities||[]:[]}catch(r){return console.error("Error getting user activities:",r),[]}}}const hd=new sde,ade=({isOpen:t,onClose:e,currentPage:r="",userData:n=null})=>{const i=gr(),{toast:s}=ar(),o=Vt(Ke),l=Er(Ke),{isGuest:u}=Jn(),[f,h]=j.useState(!1),[m,p]=j.useState(!1);if(!t)return null;const _=(()=>{switch(r){case"dashboard":return{title:"Food Delivery Integration",subtitle:n?`Personalized for ${n.displayName||"you"}`:"Coming Soon",description:"Get nutritional insights for your food delivery orders and make healthier choices based on your health profile."};case"nutrition":return{title:"Nutrition-Aware Food Delivery",subtitle:"Coming Soon",description:"Track nutrition from your food delivery orders and stay on top of your health goals."};case"recipes":return{title:"Order Instead of Cooking",subtitle:"Coming Soon",description:"Don't have time to cook? Order similar healthy options from your favorite restaurants."};default:return{title:"Food Delivery Integration",subtitle:"Coming Soon",description:"Get nutritional insights for your food delivery orders and make healthier choices."}}})(),b=async()=>{if(u){s({title:"Sign in required",description:"Please sign in to get notified when this feature is available.",variant:"destructive"});return}p(!0);try{const x=o.currentUser;if(x){const E=gt(l,"users",x.uid),S=await sr(E),T=S.exists()?S.data():{};await As(E,{notifications:{...T.notifications,foodDeliveryUpdates:!0}},{merge:!0}),h(!0),s({title:"Notification enabled",description:"You'll be notified when food delivery integration is available."})}}catch(x){console.error("Error updating notification preferences:",x),s({title:"Error",description:"Failed to enable notifications. Please try again.",variant:"destructive"})}finally{p(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Me,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(bt,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(ie,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(Xn,{className:"h-5 w-5"})}),a.jsxs(wt,{className:"text-2xl font-bold text-safebite-text flex items-center",children:[a.jsx(GN,{className:"mr-2 h-6 w-6 text-orange-500"}),_.title,a.jsx(Ue,{className:"ml-3 bg-orange-500 text-white",children:_.subtitle})]})]}),a.jsxs(it,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"p-4 border border-orange-500/30 rounded-lg bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:a.jsx(Ya,{className:"h-5 w-5 text-white"})}),a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-semibold text-orange-500",children:"Zomato"})})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-3",children:_.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-text-secondary",children:[a.jsx(Vr,{className:"h-3 w-3 text-orange-500 animate-spin mr-1"}),a.jsx("span",{children:"Dataset preparation: 65% complete"})]})]}),a.jsxs("div",{className:"p-4 border border-orange-400/30 rounded-lg bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-400/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center mr-3",children:a.jsx(GN,{className:"h-5 w-5 text-white"})}),a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Swiggy"})})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-3",children:_.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-text-secondary",children:[a.jsx(Vr,{className:"h-3 w-3 text-orange-400 animate-spin mr-1"}),a.jsx("span",{children:"Dataset preparation: 42% complete"})]})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-4 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx(wl,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"What to expect"]}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Nutritional information for restaurant meals"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Personalized recommendations based on your health profile"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Track your nutrition even when eating out"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Make informed choices that align with your health goals"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsx(ie,{variant:"outline",className:"w-full sm:w-auto",onClick:e,children:"Close"}),a.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[a.jsxs(ie,{className:"flex-1 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>i("/food-delivery"),children:["Learn More",a.jsx(Ba,{className:"ml-2 h-4 w-4"})]}),a.jsxs(ie,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:b,disabled:f||m,children:[m?a.jsx(Vr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Yx,{className:"mr-2 h-4 w-4"}),f?"Notifications On":"Notify Me"]})]})]})]})]})})};var tC="Avatar",[ode,oTe]=bi(tC),[lde,r9]=ode(tC),n9=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=j.useState("idle");return a.jsx(lde,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(Ve.span,{...n,ref:e})})});n9.displayName=tC;var i9="AvatarImage",s9=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=r9(i9,r),l=cde(n,s.referrerPolicy),u=On(f=>{i(f),o.onImageLoadingStatusChange(f)});return Ur(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?a.jsx(Ve.img,{...s,ref:e,src:n}):null});s9.displayName=i9;var a9="AvatarFallback",o9=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=r9(a9,r),[o,l]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(Ve.span,{...i,ref:e}):null});o9.displayName=a9;function cde(t,e){const[r,n]=j.useState("idle");return Ur(()=>{if(!t){n("error");return}let i=!0;const s=new window.Image,o=l=>()=>{i&&n(l)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var l9=n9,c9=s9,u9=o9;const Hy=j.forwardRef(({className:t,...e},r)=>a.jsx(l9,{ref:r,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Hy.displayName=l9.displayName;const d9=j.forwardRef(({className:t,...e},r)=>a.jsx(c9,{ref:r,className:Ye("aspect-square h-full w-full",t),...e}));d9.displayName=c9.displayName;const Wy=j.forwardRef(({className:t,...e},r)=>a.jsx(u9,{ref:r,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wy.displayName=u9.displayName;const ude="AIzaSyDzRb8YtCnJxJAw-ke3qvh8Z-cIt5KyxDA";console.log("Google Gemini API Key loaded:","Available");const dde=async t=>{try{const e=t.map(i=>({role:i.role,parts:[{text:i.content}]})),r=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":ude},body:JSON.stringify({contents:e,generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!r.ok)throw new Error(`Gemini API error: ${r.status}`);const n=await r.json();if(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0)return n.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error chatting with Gemini:",e),"I'm sorry, but I couldn't process your message at the moment. Please try again later."}},Bl=({initialMessage:t="Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or healthy eating!",currentPage:e="",userData:r=null,autoOpen:n=!1})=>{const[i,s]=j.useState(n),[o,l]=j.useState(!n),[u,f]=j.useState([{role:"assistant",content:t}]),[h,m]=j.useState(""),[p,y]=j.useState(!1),[_,b]=j.useState(!1),[x,E]=j.useState(!1),S=j.useRef(null),T=Vt(Ke),N=Er(Ke);ar();const{isGuest:C}=Jn();j.useEffect(()=>{const B=window.location.pathname,G=B==="/"||B==="/SafeBite-V1/"||B==="/SafeBite-V1",q=B.includes("/auth/"),Y=T.currentUser!==null,z=Y&&!C&&!G&&!q&&r!==null;console.log("FoodChatBot - shouldDisplay:",z,{isLoggedIn:Y,isGuest:C,isLandingPage:G,isAuthPage:q,userData:r}),E(z)},[T.currentUser,C,r]);const O=()=>{var B;(B=S.current)==null||B.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{O()},[u]),j.useEffect(()=>{if(n){const B=setTimeout(()=>{s(!0),l(!1)},1500);return()=>clearTimeout(B)}},[n]),j.useEffect(()=>{const B=T.onAuthStateChanged(G=>{b(!!G),e&&G?P(e,G):e&&P(e,null)});return()=>B()},[T,e]),j.useEffect(()=>{r&&_&&e&&R(r,e)},[r,_,e]);const P=async(B,G)=>{let q="",Y=!G;if(!(u.length>1)){switch(B){case"dashboard":Y?q="Welcome to the SafeBite dashboard! As a guest user, you can explore basic features. Would you like me to explain what's available to you, or would you like to sign up for full access?":q=`Welcome to your personalized dashboard, ${G.displayName||"there"}! I can help you understand your health metrics or suggest ways to improve your nutrition based on your data. What would you like to know about today?`;break;case"nutrition":Y?q="I see you're exploring nutrition information. You can search for foods to see their nutritional content. Would you like help finding details for a specific food, or would you like some healthy meal suggestions?":q="Welcome to the Nutrition page! Based on your profile, I can help you find foods that match your dietary preferences and health goals. Would you like personalized recommendations or help with searching for specific foods?";break;case"recipes":Y?q="Looking for recipe ideas? You can search for recipes here. What kind of dishes are you interested in today? I can suggest options based on ingredients or cuisine types.":q="Welcome to Recipes! Based on your previous activity and preferences, I can suggest personalized recipe ideas. Would you like recommendations for quick meals, healthy options, or something specific to your dietary needs?";break;case"healthbox":Y?q="Welcome to Healthbox! Here you can access various health calculators and tools. As a guest, you can try them out, but your results won't be saved. Would you like me to guide you through the available tools?":q="Welcome to Healthbox! I can help you understand the different health tools available or assist with interpreting your results. Your data will be saved to your profile for tracking progress. Which health aspect would you like to focus on today?";break;case"food-delivery":Y?q="Looking for food delivery options? You can explore healthy choices from popular restaurants here. Would you like suggestions for nutritious takeout options?":q="Welcome to Food Delivery! Based on your health profile and preferences, I can suggest healthier options from your favorite restaurants. Would you like recommendations from Zomato, Swiggy, or based on your dietary preferences?";break;case"weekly-questions":Y?q="This is the weekly health check-in page. As a guest, you can try it out, but your answers won't be saved. Would you like to sign up to track your progress over time?":q="Welcome to your weekly health check-in! Answering these questions helps us provide personalized recommendations and track your progress. Would you like me to explain how this information is used to improve your experience?";break;case"settings":Y?q="As a guest user, your settings options are limited. Would you like to create an account to access all features and save your preferences?":q="You can customize your SafeBite experience here. Would you like help with setting up your dietary preferences, health goals, or notification settings?";break;default:Y?q="Welcome to SafeBite! I'm your AI assistant and can help you navigate the site. As a guest user, some features are limited. Would you like to know more about creating an account?":q="Welcome to SafeBite! I'm your personal AI assistant and can help with nutrition information, recipe suggestions, and health insights. What can I help you with today?"}if(q&&(f(z=>[...z,{role:"assistant",content:q}]),_&&G))try{const z=Ad(N,"users",G.uid,"chatHistory");await ly(z,{aiMessage:q,timestamp:fd(),context:B,isAutoGenerated:!0})}catch(z){console.error("Error saving context message to Firebase:",z)}}},R=async(B,G)=>{u.length>2||setTimeout(async()=>{var Y,z,J,re,H;let q="";if(B){const X=(Y=B.profile)==null?void 0:Y.health_goals,te=(z=B.profile)==null?void 0:z.dietary_preferences,ee=(J=B.profile)==null?void 0:J.health_conditions,me=B.recentActivity||[],ge=(H=(re=B.profile)==null?void 0:re.weeklyCheckin)==null?void 0:H.answers;switch(G){case"dashboard":ge?ge.exercise_minutes<150?q=`I noticed from your weekly check-in that you're getting ${ge.exercise_minutes} minutes of exercise. The recommended amount is 150 minutes per week. Would you like some tips for increasing your activity level?`:ge.water_intake<6?q=`Your weekly check-in shows you're drinking ${ge.water_intake} cups of water daily. Increasing to 8 cups could improve your hydration. Would you like some hydration tips?`:ge.stress_level>3&&(q=`I see your stress level is rated ${ge.stress_level}/5. Would you like me to suggest some stress management techniques or foods that can help reduce stress?`):X==="Weight Loss"?q="I noticed your goal is weight loss. Would you like me to suggest some low-calorie meal options or exercise routines that could help? Completing your weekly health check-in would also help me provide more personalized recommendations.":X==="Muscle Gain"?q="Since you're focusing on muscle gain, would you like some high-protein recipe suggestions or nutrition tips? I can also recommend specific health tools in Healthbox to track your progress.":ee&&ee.includes("Diabetes")&&(q="I see you're managing diabetes. Would you like me to help you find low-glycemic food options or meal planning tips? I can also suggest specific health monitoring tools in Healthbox.");break;case"nutrition":ge?ge.junk_food_consumption>5?q="Based on your weekly check-in, you might want to reduce processed food intake. Would you like me to suggest some healthier alternatives to common junk foods?":ge.fruit_vegetable_servings<5&&(q=`Your weekly check-in shows you're getting ${ge.fruit_vegetable_servings} servings of fruits and vegetables daily. Would you like suggestions for increasing your intake to the recommended 5+ servings?`):te&&(te.includes("Vegetarian")?q="As a vegetarian, would you like me to suggest some plant-based protein sources or vegetarian recipes? I can also help you ensure you're getting all essential nutrients.":te.includes("Vegan")?q="For your vegan diet, would you like me to suggest some nutrient-dense plant foods or vegan recipes? I can also help you identify potential nutrient gaps to watch for.":te.includes("Keto")&&(q="For your keto diet, would you like me to suggest some low-carb, high-fat food options? I can also help you track your macronutrient ratios to stay in ketosis."));break;case"recipes":if(me.length>0){const ue=me.filter(ve=>ve.type==="search").map(ve=>ve.query);ue.length>0&&(q=`I see you recently searched for "${ue[0]}". Would you like me to suggest similar recipes or nutrition information? I can also help you modify recipes to match your dietary preferences.`)}else ge&&ge.home_cooked_meals<10?q=`Your weekly check-in shows you had ${ge.home_cooked_meals} home-cooked meals. Would you like some quick and easy recipe ideas to help you cook at home more often?`:te&&(q=`Based on your dietary preferences, I can suggest some ${te.toLowerCase()} recipes. Would you like quick meals, batch cooking ideas, or special occasion recipes?`);break;case"healthbox":ge?ge.sleep_hours<7?q=`I noticed from your weekly check-in that you're getting ${ge.sleep_hours} hours of sleep. Would you like to try the Sleep Calculator tool to help improve your sleep quality?`:ge.stress_level>3?q=`Based on your stress level of ${ge.stress_level}/5, you might find the Stress Analyzer tool helpful. Would you like to try it?`:ge.health_symptoms&&ge.health_symptoms.includes("joint_pain")&&(q="I see you mentioned joint pain in your weekly check-in. The Body Mass Index and Exercise Planner tools might be helpful for managing this. Would you like to try them?"):ee?q=`Since you've mentioned ${ee}, would you like me to suggest specific health tools that might be helpful for monitoring your condition? Regular weekly check-ins can also help track your progress.`:q="Would you like me to recommend which health tools might be most relevant for your health goals? Completing a weekly health check-in would also help me provide more personalized recommendations.";break;case"weekly-questions":q="Completing your weekly health check-in helps us provide personalized recommendations. Your answers are used to track progress, suggest relevant health tools, and customize nutrition advice. Would you like me to explain more about any specific question?";break;case"food-delivery":te?q=`When ordering food delivery, look for ${te.toLowerCase()} options. Would you like tips for making healthier choices when ordering from restaurants?`:X==="Weight Loss"?q="When ordering food delivery while focusing on weight loss, look for options with vegetables, lean proteins, and ask for dressings on the side. Would you like more specific recommendations?":q="Would you like some tips for identifying healthier options when ordering food delivery? I can help you decode menu descriptions and make better choices.";break}if(q&&(f(ue=>[...ue,{role:"assistant",content:q}]),_))try{const ue=T.currentUser;if(ue){const ve=Ad(N,"users",ue.uid,"chatHistory");await ly(ve,{aiMessage:q,timestamp:fd(),context:G,isPersonalized:!0,basedOn:{healthGoals:X||"General Health",dietaryPreferences:te||"None",healthConditions:ee||"None",weeklyCheckin:!!ge,recentActivity:(me==null?void 0:me.slice(0,3))||[]}})}}catch(ue){console.error("Error saving personalized suggestion to Firebase:",ue)}}},8e3)},M=async()=>{if(!h.trim())return;const B={role:"user",content:h};f(G=>[...G,B]),m(""),y(!0);try{const G=[...u,B],q=await dde(G),Y={role:"assistant",content:q};if(f(z=>[...z,Y]),_)try{const z=T.currentUser;if(z){const J=Ad(N,"users",z.uid,"chatHistory");await ly(J,{userMessage:B.content,aiResponse:q,timestamp:fd(),context:G.map(H=>({role:H.role,content:H.content.substring(0,100)+(H.content.length>100?"...":"")})),topics:V(B.content)});const re=gt(N,"users",z.uid);await As(re,{aiLearning:{lastInteraction:fd(),recentTopics:V(B.content),interactionCount:G.length/2}},{merge:!0})}}catch(z){console.error("Error saving chat to Firebase:",z)}}catch(G){console.error("Error sending message to Gemini:",G),f(q=>[...q,{role:"assistant",content:"I'm sorry, I'm having trouble connecting to my knowledge base right now. Please try again later."}])}finally{y(!1)}},V=B=>{const G=["nutrition","calories","protein","carbs","fat","diet","vegetarian","vegan","gluten","allergy","organic","healthy","recipe","meal","breakfast","lunch","dinner","snack","vitamin","mineral","supplement","weight","exercise","diabetes","heart","cholesterol","blood pressure"],q=[],Y=B.toLowerCase();for(const z of G)Y.includes(z)&&q.push(z);return q.length>0?q:["general"]},$=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),M())},D=()=>{s(!i),i||l(!1)},L=()=>{l(!o)};return x?a.jsxs(a.Fragment,{children:[!i&&a.jsx(ie,{onClick:D,className:"fixed bottom-6 right-6 rounded-full w-14 h-14 p-0 bg-safebite-teal hover:bg-safebite-teal/80 shadow-xl z-50 border-2 border-white/20 flex items-center justify-center",title:"SafeBite AI Assistant",children:a.jsx(HF,{size:24,className:"text-safebite-dark-blue"})}),i&&a.jsxs(Me,{className:`fixed bottom-6 right-6 w-80 sm:w-96 shadow-xl border border-safebite-teal/30 transition-all duration-300 ease-in-out ${o?"h-16":"h-[500px]"}`,children:[a.jsxs(bt,{className:"p-3 border-b border-safebite-teal/30 bg-safebite-teal/10 flex flex-row items-center justify-between space-y-0",children:[a.jsxs(wt,{className:"text-base font-medium flex items-center",children:[a.jsxs(Hy,{className:"h-8 w-8 mr-2",children:[a.jsx(d9,{src:"/bot-avatar.png",alt:"AI"}),a.jsx(Wy,{className:"bg-safebite-teal text-safebite-dark-blue text-xs",children:"AI"})]}),"SafeBite AI Assistant"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:L,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:o?a.jsx(gY,{size:16}):a.jsx(yY,{size:16})}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:D,className:"h-8 w-8 p-0 hover:bg-safebite-teal/20",children:a.jsx(Xn,{size:16})})]})]}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"p-4 overflow-y-auto h-[380px] bg-safebite-card-bg",children:a.jsxs("div",{className:"space-y-4",children:[u.map((B,G)=>a.jsx("div",{className:`flex ${B.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${B.role==="user"?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg-alt text-safebite-text"}`,children:B.content.split(`
`).map((q,Y)=>{const z=["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/community","/healthbox","/reports","/recipes","/settings"];let J=q;return z.forEach(re=>{if(q.toLowerCase().includes(re.toLowerCase())){const H=q.toLowerCase().indexOf(re.toLowerCase());q.substring(H,H+re.length);const X=[q.substring(0,H),q.substring(H+re.length)];J=`${X[0]}<Button
                                variant="link"
                                className="p-0 h-auto text-current underline"
                                onClick={() => checkAuthAndNavigate(route)}
                              >
                                {actualRoute}
                              </Button>${X[1]}`}}),a.jsxs(K.Fragment,{children:[J,Y<B.content.split(`
`).length-1&&a.jsx("br",{})]},Y)})})},G)),p&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-safebite-card-bg-alt text-safebite-text",children:a.jsx(Vr,{className:"h-5 w-5 animate-spin"})})}),a.jsx("div",{ref:S})]})}),a.jsx(El,{className:"p-3 border-t",children:a.jsxs("div",{className:"flex w-full items-center space-x-2",children:[a.jsx(ft,{placeholder:"Ask about food or nutrition...",value:h,onChange:B=>m(B.target.value),onKeyDown:$,className:"flex-1",disabled:p}),a.jsx(ie,{size:"icon",onClick:M,disabled:p||!h.trim(),className:"bg-safebite-teal hover:bg-safebite-teal/80",children:p?a.jsx(Vr,{className:"h-5 w-5 animate-spin"}):a.jsx(r6,{size:18})})]})})]})]})]}):null},fde=()=>{var L;const t=gr(),{isGuest:e}=Jn(),[r,n]=j.useState(!1),[i,s]=j.useState("");ar();const o=Vt(Ke),l=Er(Ke),u=o.currentUser,[f,h]=j.useState(null),[m,p]=j.useState(!0),[y,_]=j.useState(!1),b=j.useRef(null),[x,E]=j.useState([]),[S,T]=j.useState(""),[N,C]=j.useState([]),[O,P]=j.useState(!1);j.useEffect(()=>{console.log("Dashboard component - Guest mode status:",{isGuest:e,userType:localStorage.getItem("userType"),emergencyGuestMode:sessionStorage.getItem("safebite-guest-mode"),user:u?"Logged in":"Not logged in"})},[e,u]),j.useEffect(()=>{const B=setTimeout(()=>{!e&&u&&!localStorage.getItem("hideDeliveryPopup")&&_(!0)},5e3);return(async()=>{if(!e&&u)try{const q=await hd.getUserActivity(u.uid);E(q)}catch(q){console.error("Error loading user activity:",q)}})(),()=>clearTimeout(B)},[e,u]),j.useEffect(()=>{(async()=>{if(e){p(!1);return}try{if(!u){p(!1);return}const G=gt(l,"users",u.uid),q=await sr(G);q.exists()?h(q.data()):console.log("No user profile found!");const Y=await hd.getRecentActivities(10);C(Y)}catch(G){console.error("Error loading user profile:",G),T("Failed to load your profile data. Please try again later.")}finally{p(!1)}})()},[e,u,l]);const R=()=>{var B;if((B=f==null?void 0:f.weeklyCheckin)!=null&&B.answers){const G=f.weeklyCheckin.answers;return[{name:"Sleep Quality",value:Math.min(100,(G.sleep_hours||6)*12),icon:a.jsx(Ir,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:Math.min(100,(G.exercise_minutes||30)/3),icon:a.jsx(bl,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:Math.min(100,(G.fruit_vegetable_servings||2)*10+(G.home_cooked_meals||3)*8-(G.junk_food_consumption||2)*10),icon:a.jsx(Ir,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:Math.max(0,100-(G.stress_level||5)*10),icon:a.jsx(WN,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]}return[{name:"Sleep Quality",value:72,icon:a.jsx(Ir,{className:"h-4 w-4 text-blue-400"}),color:"blue"},{name:"Physical Activity",value:65,icon:a.jsx(bl,{className:"h-4 w-4 text-green-400"}),color:"green"},{name:"Nutrition Balance",value:78,icon:a.jsx(Ir,{className:"h-4 w-4 text-amber-400"}),color:"amber"},{name:"Stress Level",value:60,icon:a.jsx(WN,{className:"h-4 w-4 text-purple-400"}),color:"purple"}]},M=()=>{if(x&&x.length>0){const B=x.filter(G=>G.type==="food_search"||G.type==="recipe_view").map(G=>{var q,Y;return((q=G.details)==null?void 0:q.foodName)||((Y=G.details)==null?void 0:Y.recipeName)||""}).filter(Boolean);if(B.length>0){const G=[];return B.some(q=>q.toLowerCase().includes("chicken")||q.toLowerCase().includes("poultry"))&&G.push({title:"Poultry Safety Alert",description:"Always cook chicken to an internal temperature of 165°F (74°C) to kill harmful bacteria.",severity:"medium"}),B.some(q=>q.toLowerCase().includes("fish")||q.toLowerCase().includes("seafood"))&&G.push({title:"Seafood Storage",description:"Keep seafood refrigerated and consume within 1-2 days for optimal safety and freshness.",severity:"medium"}),B.some(q=>q.toLowerCase().includes("rice"))&&G.push({title:"Rice Storage Warning",description:"Refrigerate cooked rice within 1 hour to prevent Bacillus cereus bacteria growth.",severity:"high"}),B.some(q=>q.toLowerCase().includes("egg"))&&G.push({title:"Egg Safety",description:"Cook eggs until whites and yolks are firm to reduce risk of Salmonella infection.",severity:"medium"}),G.length<2&&(G.push({title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"}),G.push({title:"Refrigeration Reminder",description:"Keep your refrigerator below 40°F (4°C) to slow bacterial growth in foods.",severity:"low"})),G}}return[{title:"Cross-Contamination Risk",description:"Use separate cutting boards for raw meat and vegetables to prevent bacterial spread.",severity:"medium"},{title:"Refrigeration Reminder",description:"Keep your refrigerator below 40°F (4°C) to slow bacterial growth in foods.",severity:"low"},{title:"Leftovers Safety",description:"Consume refrigerated leftovers within 3-4 days to ensure food safety.",severity:"medium"}]},V=()=>{P(!0)};if(e)return a.jsx(ide,{});if(m)return a.jsx("div",{className:"flex items-center justify-center h-screen bg-safebite-dark-blue",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text",children:"Loading your dashboard..."})]})});const $=R(),D=M();return a.jsxs("div",{className:"relative",style:{zIndex:10},children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(ys,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v2.5 - Production Ready"}),a.jsx(ys,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx("div",{style:{marginRight:"6rem"},children:a.jsx(ade,{isOpen:y,onClose:()=>_(!1),currentPage:"dashboard",userData:f})}),a.jsx("div",{ref:b,style:{zIndex:50},children:a.jsx(Bl,{currentPage:"dashboard",userData:{profile:f,recentActivity:x},autoOpen:!1,initialMessage:"Welcome back! How can I help with your health goals today?"})}),a.jsx(ua,{}),a.jsx(mU,{isOpen:O,onClose:()=>P(!1),userProfile:f}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-4 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:[a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:["Welcome back, ",(f==null?void 0:f.displayName)||(u==null?void 0:u.displayName)||(f==null?void 0:f.name)||((L=u==null?void 0:u.email)==null?void 0:L.split("@")[0])||"Friend"]})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(lu,{className:"h-5 w-5 mr-2 text-safebite-teal/70"}),"Your dashboard is ready. Check out your health insights and recommendations."]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ie,{variant:"outline",className:"border-safebite-teal/30 hover:border-safebite-teal/60 text-safebite-text",onClick:V,children:[a.jsx(Kc,{className:"mr-2 h-4 w-4 text-safebite-teal"}),"Profile"]}),a.jsxs(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>t("/food-delivery"),children:[a.jsx("span",{className:"mr-2",children:"🍔"})," Food Delivery"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:$.map((B,G)=>a.jsx(Me,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:a.jsxs(it,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-safebite-text",children:B.name}),B.icon]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Score"}),a.jsxs("span",{className:"text-safebite-text font-medium",children:[B.value,"%"]})]}),a.jsx(Bm,{value:B.value,className:"h-2 bg-safebite-card-bg-alt"})]})]})},G))}),a.jsxs(Me,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 mb-6",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(Rn,{className:"mr-2 h-5 w-5 text-amber-500"})," Food Safety Insights"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary text-xs mb-3",children:"Potential issues based on profile & activity:"}),D.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map((B,G)=>a.jsx("div",{className:"p-3 bg-safebite-card-bg-alt rounded-lg border border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`rounded-full p-1.5 mr-2 ${B.severity==="high"?"bg-red-500/20 text-red-500":B.severity==="medium"?"bg-amber-500/20 text-amber-500":"bg-blue-500/20 text-blue-500"}`,children:a.jsx(Rn,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:B.title}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:B.description})]})]})},G))}):a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"No food safety issues detected based on your recent activity."})]})]})]})]})]})},hde=()=>{const[t,e]=j.useState("chat"),[r,n]=j.useState([]),[i,s]=j.useState(""),[o,l]=j.useState([]),[u,f]=j.useState(!1),h=j.useRef(null),{toast:m}=ar(),{isGuest:p}=Jn(),y=Vt(Ke),_=Er(Ke),b=y.currentUser;j.useEffect(()=>{let O;return(async()=>{const R=Ad(_,"community","general","messages"),M=Ace(R,Tce("timestamp","asc"),Cce(50));O=Rce(M,V=>{const $=V.docs.map(D=>{var B;const L=D.data();return{id:D.id,username:L.username||"Anonymous",avatar:L.avatar||"",text:L.text||"",timestamp:((B=L.timestamp)==null?void 0:B.toDate())||new Date,isCurrentUser:b?L.userId===b.uid:!1,linkedProduct:L.linkedProduct}});n($)})})(),()=>{O&&O()}},[_,b]),j.useEffect(()=>{var O;(O=h.current)==null||O.scrollIntoView({behavior:"smooth"})},[r]);const x=async()=>{if(!i.trim())return;if(p||!b){m({title:"Login Required",description:"Please log in or sign up to send messages in the community chat.",variant:"default"});return}const O={userId:b.uid,username:b.displayName||b.email||"Anonymous",text:i,timestamp:fd(),avatar:b.photoURL||""};try{const P=Ad(_,"community","general","messages");await ly(P,O),s("")}catch(P){m({title:"Error sending message",description:P.message,variant:"destructive"}),console.error("Error sending message to Firestore: ",P)}},E=O=>{l(P=>P.map(R=>R.id===O?{...R,likes:R.likes+1}:R)),m({title:"Post liked",description:"Your engagement helps the community!"})},S=O=>{m({title:"Share link copied!",description:"You can now paste the link to share this post."})},T=()=>{f(!u),m({title:u?"Unsubscribed from notifications":"Subscribed to notifications",description:u?"You'll no longer receive community updates":"You'll receive notifications for new posts and replies"})},N=O=>O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),C=O=>O.toLocaleDateString("en-US",{month:"short",day:"numeric"});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(ua,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Live Community Chat Beta"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Connect with other users, share food discoveries, and get advice"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(ie,{variant:u?"default":"outline",className:u?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"sci-fi-button",onClick:T,children:[a.jsx(Yx,{className:"mr-2 h-4 w-4"}),u?"Subscribed":"Subscribe to Updates"]})})]}),a.jsxs(fo,{defaultValue:"chat",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(da,{className:"grid grid-cols-2 gap-2",children:[a.jsxs($t,{value:"chat",className:t==="chat"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Kv,{className:"mr-2 h-4 w-4"}),"Live Chat"]}),a.jsxs($t,{value:"forum",className:t==="forum"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Forum Discussions"]})]})}),a.jsx(Wt,{value:"chat",className:"mt-0",children:a.jsxs(Me,{className:"sci-fi-card min-h-[600px] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Kv,{className:"mr-2 h-5 w-5"}),"Live Community Chat Beta",a.jsxs(Ue,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:[r.length," messages"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(O=>a.jsx("div",{className:`flex ${O.isCurrentUser?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] ${O.isCurrentUser?"bg-safebite-teal text-safebite-dark-blue rounded-tl-lg rounded-tr-none":"bg-safebite-card-bg-alt text-safebite-text rounded-tr-lg rounded-tl-none"} rounded-bl-lg rounded-br-lg p-3`,children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Hy,{className:"h-6 w-6 mr-2",children:a.jsx(Wy,{className:O.isCurrentUser?"bg-safebite-dark-blue text-safebite-teal":"",children:O.username.charAt(0)})}),a.jsx("span",{className:"font-medium text-sm",children:O.username}),a.jsx("span",{className:"text-xs ml-2 opacity-70",children:N(O.timestamp)})]}),a.jsx("p",{children:O.text}),O.linkedProduct&&a.jsxs("div",{className:"mt-2 p-2 bg-safebite-card-bg rounded-md flex items-center",children:[a.jsx("img",{src:O.linkedProduct.image,alt:O.linkedProduct.name,className:"h-10 w-10 rounded-md object-cover mr-2"}),a.jsx("span",{className:"text-sm",children:O.linkedProduct.name})]})]})},O.id)),a.jsx("div",{ref:h})]})}),a.jsx("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ft,{placeholder:"Type your message...",className:"sci-fi-input",value:i,onChange:O=>s(O.target.value),onKeyPress:O=>O.key==="Enter"&&x()}),a.jsx(ie,{onClick:x,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:a.jsx(r6,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"outline",className:"sci-fi-button",children:a.jsx(s6,{className:"h-4 w-4"})})]})})]})}),a.jsx(Wt,{value:"forum",className:"mt-0",children:a.jsx("div",{className:"grid gap-6",children:o.map(O=>a.jsx(Me,{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hy,{className:"h-10 w-10 mr-3",children:a.jsx(Wy,{children:O.username.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-safebite-text",children:O.username}),a.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Posted on ",C(O.timestamp)]})]})]}),O.username==="DietSpecialist"&&a.jsxs(Ue,{className:"bg-safebite-purple",children:[a.jsx(xm,{className:"h-3 w-3 mr-1"})," Expert"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:O.title}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:O.content}),O.linkedProduct&&a.jsxs("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md flex items-center",children:[a.jsx("img",{src:O.linkedProduct.image,alt:O.linkedProduct.name,className:"h-12 w-12 rounded-md object-cover mr-3"}),a.jsx("span",{children:O.linkedProduct.name})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ie,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>E(O.id),children:[a.jsx(SY,{className:"h-4 w-4 mr-1"}),O.likes]}),a.jsxs(ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(Kv,{className:"h-4 w-4 mr-1"}),O.replies," Replies"]})]}),a.jsxs(ie,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>S(O.id),children:[a.jsx(fy,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})},O.id))})})]}),a.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})};var rC="Checkbox",[mde,lTe]=bi(rC),[pde,gde]=mde(rC),f9=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:u="on",onCheckedChange:f,form:h,...m}=t,[p,y]=j.useState(null),_=yt(e,N=>y(N)),b=j.useRef(!1),x=p?h||!!p.closest("form"):!0,[E=!1,S]=Qn({prop:i,defaultProp:s,onChange:f}),T=j.useRef(E);return j.useEffect(()=>{const N=p==null?void 0:p.form;if(N){const C=()=>S(T.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[p,S]),a.jsxs(pde,{scope:r,state:E,disabled:l,children:[a.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":vl(E)?"mixed":E,"aria-required":o,"data-state":p9(E),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:_,onKeyDown:$e(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:$e(t.onClick,N=>{S(C=>vl(C)?!0:!C),x&&(b.current=N.isPropagationStopped(),b.current||N.stopPropagation())})}),x&&a.jsx(vde,{control:p,bubbles:!b.current,name:n,value:u,checked:E,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:vl(s)?!1:s})]})});f9.displayName=rC;var h9="CheckboxIndicator",m9=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=gde(h9,r);return a.jsx(la,{present:n||vl(s.state)||s.state===!0,children:a.jsx(Ve.span,{"data-state":p9(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});m9.displayName=h9;var vde=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,o=j.useRef(null),l=zp(r),u=kp(e);j.useEffect(()=>{const h=o.current,m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&y){const _=new Event("click",{bubbles:n});h.indeterminate=vl(r),y.call(h,vl(r)?!1:r),h.dispatchEvent(_)}},[l,r,n]);const f=j.useRef(vl(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...s,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vl(t){return t==="indeterminate"}function p9(t){return vl(t)?"indeterminate":t?"checked":"unchecked"}var g9=f9,yde=m9;const v9=j.forwardRef(({className:t,...e},r)=>a.jsx(g9,{ref:r,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(yde,{className:Ye("flex items-center justify-center text-current"),children:a.jsx(Tc,{className:"h-4 w-4"})})}));v9.displayName=g9.displayName;const xde=({onComplete:t})=>{const e=gr(),{toast:r}=ar(),n=Vt(Ke),i=Er(Ke),[s,o]=j.useState(!1),[l,u]=j.useState(!1),[f,h]=j.useState(1),m=8,[p,y]=j.useState({exercise_minutes:0,water_intake:0,sleep_hours:0,stress_level:3,home_cooked_meals:0,junk_food_consumption:0,fruit_vegetable_servings:0,health_symptoms:[]});j.useEffect(()=>{(async()=>{var S;try{const T=n.currentUser;if(!T){e("/auth/login");return}const N=gt(i,"users",T.uid),C=await sr(N);if(C.exists()){const O=C.data();if((S=O.weeklyCheckin)!=null&&S.lastSubmitted){const P=O.weeklyCheckin.lastSubmitted.toDate(),M=Math.abs(new Date().getTime()-P.getTime());Math.ceil(M/(1e3*60*60*24))<7&&u(!0)}}}catch(T){console.error("Error checking weekly questions status:",T)}})()},[n,i,e]);const _=async()=>{o(!0);try{const E=n.currentUser;if(!E){e("/auth/login");return}const S=gt(i,"users",E.uid),T=new Date,N=Math.ceil((T.getDate()-1+new Date(T.getFullYear(),T.getMonth(),1).getDay())/7),C=`${T.getFullYear()}-W${N}`;await As(S,{weeklyCheckin:{answers:p,lastSubmitted:fd(),weekIdentifier:C}},{merge:!0}),r({title:"Weekly Check-in Complete!",description:"Your responses have been saved. Check your dashboard for insights.",variant:"default"}),u(!0),t&&t()}catch(E){console.error("Error submitting weekly questions:",E),r({title:"Submission Error",description:"There was a problem saving your responses. Please try again.",variant:"destructive"})}finally{o(!1)}},b=()=>{f<m?h(f+1):_()},x=()=>{f>1&&h(f-1)};return l?a.jsxs(Me,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"text-2xl font-bold text-center flex items-center justify-center",children:[a.jsx(UI,{className:"mr-2 h-6 w-6 text-green-500"}),"Weekly Check-in Complete"]})}),a.jsxs(it,{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"You've already completed your weekly health check-in. Check back next week for new questions."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Visit your dashboard to see insights based on your responses."}),a.jsxs(ie,{onClick:()=>e("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:["Go to Dashboard",a.jsx(Ba,{className:"ml-2 h-4 w-4"})]})]})]}):a.jsxs(Me,{className:"sci-fi-card max-w-2xl mx-auto",children:[a.jsxs(bt,{children:[a.jsx(wt,{className:"text-2xl font-bold",children:"Weekly Health Check-in"}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"text-sm text-safebite-text-secondary",children:["Step ",f," of ",m]}),a.jsx("div",{className:"flex h-2 w-full max-w-xs bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-safebite-teal h-full transition-all duration-300",style:{width:`${f/m*100}%`}})})]})]}),a.jsxs(it,{children:[f===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"1"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many minutes of exercise did you get this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include any physical activity like walking, running, sports, or workouts."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(Ko,{value:[p.exercise_minutes],min:0,max:300,step:5,onValueChange:E=>y({...p,exercise_minutes:E[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 min"}),a.jsx("span",{children:"150 min"}),a.jsx("span",{children:"300+ min"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.exercise_minutes}),a.jsx("span",{className:"text-safebite-text ml-1",children:"minutes"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.exercise_minutes<60?"Try to aim for at least 150 minutes per week for good health.":p.exercise_minutes<150?"Getting closer to the recommended 150 minutes per week!":"Great job! You're meeting or exceeding exercise recommendations."})]})]}),f===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many cups of water do you drink daily on average?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One cup is approximately 8 ounces or 240ml."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(Ko,{value:[p.water_intake],min:0,max:12,step:1,onValueChange:E=>y({...p,water_intake:E[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 cups"}),a.jsx("span",{children:"6 cups"}),a.jsx("span",{children:"12+ cups"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.water_intake}),a.jsx("span",{className:"text-safebite-text ml-1",children:"cups"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.water_intake<4?"Try to increase your water intake for better hydration.":p.water_intake<8?"You're doing well, but try to reach 8 cups daily for optimal hydration.":"Excellent! You're well-hydrated."})]})]}),f===3&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"3"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many hours of sleep do you get on average each night?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your typical sleep pattern over the past week."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(Ko,{value:[p.sleep_hours],min:0,max:12,step:.5,onValueChange:E=>y({...p,sleep_hours:E[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 hrs"}),a.jsx("span",{children:"6 hrs"}),a.jsx("span",{children:"12 hrs"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.sleep_hours}),a.jsx("span",{className:"text-safebite-text ml-1",children:"hours"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.sleep_hours<6?"Most adults need 7-9 hours of sleep for optimal health.":p.sleep_hours<7?"You're close to the recommended amount of sleep.":p.sleep_hours<=9?"Great! You're getting the recommended amount of sleep.":"You're getting more than the typical recommendation. If you feel well-rested, that's what matters!"})]})]}),f===4&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How would you rate your stress level this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Consider your overall feelings of stress, anxiety, or tension."})]})]}),a.jsx("div",{className:"pl-11",children:a.jsxs(Z2,{value:p.stress_level.toString(),onValueChange:E=>y({...p,stress_level:parseInt(E)}),className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Ac,{value:"1",id:"stress-1"}),a.jsx(et,{htmlFor:"stress-1",className:"flex-1 cursor-pointer",children:"Very Low - Feeling calm and relaxed"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Ac,{value:"2",id:"stress-2"}),a.jsx(et,{htmlFor:"stress-2",className:"flex-1 cursor-pointer",children:"Low - Occasional mild stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Ac,{value:"3",id:"stress-3"}),a.jsx(et,{htmlFor:"stress-3",className:"flex-1 cursor-pointer",children:"Moderate - Noticeable but manageable stress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Ac,{value:"4",id:"stress-4"}),a.jsx(et,{htmlFor:"stress-4",className:"flex-1 cursor-pointer",children:"High - Frequent stress affecting daily life"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-safebite-card-bg-alt p-3 rounded-md hover:bg-safebite-card-bg-alt/30 transition-colors",children:[a.jsx(Ac,{value:"5",id:"stress-5"}),a.jsx(et,{htmlFor:"stress-5",className:"flex-1 cursor-pointer",children:"Very High - Constant stress, feeling overwhelmed"})]})]})})]}),f===5&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many home-cooked meals did you eat this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include meals prepared at home, not takeout or restaurant meals."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(Ko,{value:[p.home_cooked_meals],min:0,max:21,step:1,onValueChange:E=>y({...p,home_cooked_meals:E[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 meals"}),a.jsx("span",{children:"10 meals"}),a.jsx("span",{children:"21 meals"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.home_cooked_meals}),a.jsx("span",{className:"text-safebite-text ml-1",children:"meals"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.home_cooked_meals<7?"Home-cooked meals are typically healthier. Try to increase when possible.":p.home_cooked_meals<14?"You're doing well with home cooking!":"Excellent! Most of your meals are home-cooked, which is great for nutrition."})]})]}),f===6&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many times did you eat fast food or junk food this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Include fast food, processed snacks, sugary treats, etc."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(Ko,{value:[p.junk_food_consumption],min:0,max:15,step:1,onValueChange:E=>y({...p,junk_food_consumption:E[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 times"}),a.jsx("span",{children:"7 times"}),a.jsx("span",{children:"15+ times"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.junk_food_consumption}),a.jsx("span",{className:"text-safebite-text ml-1",children:"times"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.junk_food_consumption<3?"Great job limiting junk food consumption!":p.junk_food_consumption<7?"Try to reduce junk food a bit more for better health.":"Consider reducing your junk food intake for better nutrition and health."})]})]}),f===7&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"7"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"How many servings of fruits and vegetables do you eat daily?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"One serving is about 1 cup of raw vegetables or fruit, or 1/2 cup cooked."})]})]}),a.jsxs("div",{className:"pl-11",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(Ko,{value:[p.fruit_vegetable_servings],min:0,max:10,step:1,onValueChange:E=>y({...p,fruit_vegetable_servings:E[0]}),className:"mb-2"}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary",children:[a.jsx("span",{children:"0 servings"}),a.jsx("span",{children:"5 servings"}),a.jsx("span",{children:"10+ servings"})]})]}),a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("span",{className:"text-2xl font-bold text-safebite-teal",children:p.fruit_vegetable_servings}),a.jsx("span",{className:"text-safebite-text ml-1",children:"servings"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:p.fruit_vegetable_servings<3?"Try to increase your fruit and vegetable intake to at least 5 servings daily.":p.fruit_vegetable_servings<5?"You're doing well, but aim for 5+ servings daily for optimal health.":"Excellent! You're meeting or exceeding the recommended fruit and vegetable intake."})]})]}),f===8&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-safebite-teal font-bold",children:"8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-1",children:"Have you experienced any of these symptoms this week?"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-4",children:"Select all that apply. This helps us provide better health insights."})]})]}),a.jsxs("div",{className:"pl-11 space-y-3",children:[[{id:"fatigue",label:"Unusual fatigue or low energy"},{id:"headaches",label:"Frequent headaches"},{id:"digestive",label:"Digestive issues (bloating, constipation, etc.)"},{id:"joint_pain",label:"Joint pain or stiffness"},{id:"mood_swings",label:"Mood swings or irritability"},{id:"skin_issues",label:"Skin issues (rashes, acne, dryness)"},{id:"sleep_issues",label:"Difficulty sleeping"},{id:"allergies",label:"Allergy symptoms"},{id:"none",label:"None of the above"}].map(E=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(v9,{id:E.id,checked:p.health_symptoms.includes(E.id),onCheckedChange:S=>{if(S)if(E.id==="none")y({...p,health_symptoms:["none"]});else{const T=p.health_symptoms.filter(N=>N!=="none");y({...p,health_symptoms:[...T,E.id]})}else y({...p,health_symptoms:p.health_symptoms.filter(T=>T!==E.id)})}}),a.jsx(et,{htmlFor:E.id,className:"cursor-pointer",children:E.label})]},E.id)),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(al,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"This information is used to provide personalized health insights and is kept private."})]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(ie,{variant:"outline",onClick:x,disabled:f===1||s,className:"sci-fi-button",children:"Previous"}),a.jsx(ie,{onClick:b,disabled:s,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Vr,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):f===m?a.jsxs(a.Fragment,{children:["Submit",a.jsx(UI,{className:"ml-2 h-4 w-4"})]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(Ba,{className:"ml-2 h-4 w-4"})]})})]})]})]})},bde=()=>{const t=gr(),{toast:e}=ar(),[r,n]=j.useState(!0),[i,s]=j.useState(""),[o,l]=j.useState(!1),u=Vt(Ke),f=Er(Ke),h=u.currentUser,[m,p]=j.useState(null),[y,_]=j.useState([]);j.useEffect(()=>{(async()=>{if(n(!0),h){const E=gt(f,"users",h.uid);try{const S=await sr(E);if(S.exists()){const C=S.data();if(p(C),C.weeklyCheckin&&C.weeklyCheckin.lastSubmitted){const O=C.weeklyCheckin.lastSubmitted.toDate(),R=Math.abs(new Date().getTime()-O.getTime()),V=Math.ceil(R/(1e3*60*60*24))<7;l(V),V&&C.weeklyCheckin.answers&&s(JSON.stringify(C.weeklyCheckin.answers))}}const T=gt(f,"user_activities",h.uid),N=await sr(T);if(N.exists()){const C=N.data();_(C.activities||[])}}catch(S){e({title:"Error checking progress",description:S.message,variant:"destructive"}),console.error("Error checking weekly questions status: ",S)}finally{n(!1)}}else n(!1)})()},[h,f,e]);const b=()=>{e({title:"Weekly check-in completed!",description:"Your responses have been saved. Check your dashboard for insights."}),setTimeout(()=>{t("/dashboard")},2e3)};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:[r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vr,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Loading your weekly check-in..."})]}):a.jsxs("div",{className:"w-full max-w-4xl",children:[a.jsx(xde,{onComplete:b}),a.jsx("div",{className:"text-center mt-4 text-xs text-safebite-text-secondary",children:"Your weekly check-in helps us provide personalized health recommendations."})]}),a.jsx(Bl,{currentPage:"weekly-questions",userData:{profile:m,recentActivity:y},autoOpen:!0,initialMessage:"Welcome to your weekly health check-in! These questions help us provide personalized recommendations. Would you like me to explain how this information is used to improve your experience?"})]})};var $1,vM;function Zn(){if(vM)return $1;vM=1;var t=Array.isArray;return $1=t,$1}var F1,yM;function y9(){if(yM)return F1;yM=1;var t=typeof pv=="object"&&pv&&pv.Object===Object&&pv;return F1=t,F1}var V1,xM;function fa(){if(xM)return V1;xM=1;var t=y9(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return V1=r,V1}var B1,bM;function qp(){if(bM)return B1;bM=1;var t=fa(),e=t.Symbol;return B1=e,B1}var U1,wM;function wde(){if(wM)return U1;wM=1;var t=qp(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=r.call(o,i),u=o[i];try{o[i]=void 0;var f=!0}catch{}var h=n.call(o);return f&&(l?o[i]=u:delete o[i]),h}return U1=s,U1}var z1,_M;function _de(){if(_M)return z1;_M=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return z1=r,z1}var q1,jM;function ho(){if(jM)return q1;jM=1;var t=qp(),e=wde(),r=_de(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?e(l):r(l)}return q1=o,q1}var H1,SM;function mo(){if(SM)return H1;SM=1;function t(e){return e!=null&&typeof e=="object"}return H1=t,H1}var W1,NM;function Ff(){if(NM)return W1;NM=1;var t=ho(),e=mo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return W1=n,W1}var G1,EM;function nC(){if(EM)return G1;EM=1;var t=Zn(),e=Ff(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return G1=i,G1}var K1,AM;function Ul(){if(AM)return K1;AM=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return K1=t,K1}var Y1,TM;function iC(){if(TM)return Y1;TM=1;var t=ho(),e=Ul(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==n||u==i||u==r||u==s}return Y1=o,Y1}var Q1,CM;function jde(){if(CM)return Q1;CM=1;var t=fa(),e=t["__core-js_shared__"];return Q1=e,Q1}var X1,kM;function Sde(){if(kM)return X1;kM=1;var t=jde(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return X1=r,X1}var J1,PM;function x9(){if(PM)return J1;PM=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return J1=r,J1}var Z1,IM;function Nde(){if(IM)return Z1;IM=1;var t=iC(),e=Sde(),r=Ul(),n=x9(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,f=l.hasOwnProperty,h=RegExp("^"+u.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!r(p)||e(p))return!1;var y=t(p)?h:s;return y.test(n(p))}return Z1=m,Z1}var e_,RM;function Ede(){if(RM)return e_;RM=1;function t(e,r){return e==null?void 0:e[r]}return e_=t,e_}var t_,OM;function hu(){if(OM)return t_;OM=1;var t=Nde(),e=Ede();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return t_=r,t_}var r_,MM;function qb(){if(MM)return r_;MM=1;var t=hu(),e=t(Object,"create");return r_=e,r_}var n_,DM;function Ade(){if(DM)return n_;DM=1;var t=qb();function e(){this.__data__=t?t(null):{},this.size=0}return n_=e,n_}var i_,LM;function Tde(){if(LM)return i_;LM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return i_=t,i_}var s_,$M;function Cde(){if($M)return s_;$M=1;var t=qb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return s_=i,s_}var a_,FM;function kde(){if(FM)return a_;FM=1;var t=qb(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return a_=n,a_}var o_,VM;function Pde(){if(VM)return o_;VM=1;var t=qb(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return o_=r,o_}var l_,BM;function Ide(){if(BM)return l_;BM=1;var t=Ade(),e=Tde(),r=Cde(),n=kde(),i=Pde();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,l_=s,l_}var c_,UM;function Rde(){if(UM)return c_;UM=1;function t(){this.__data__=[],this.size=0}return c_=t,c_}var u_,zM;function sC(){if(zM)return u_;zM=1;function t(e,r){return e===r||e!==e&&r!==r}return u_=t,u_}var d_,qM;function Hb(){if(qM)return d_;qM=1;var t=sC();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return d_=e,d_}var f_,HM;function Ode(){if(HM)return f_;HM=1;var t=Hb(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return f_=n,f_}var h_,WM;function Mde(){if(WM)return h_;WM=1;var t=Hb();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return h_=e,h_}var m_,GM;function Dde(){if(GM)return m_;GM=1;var t=Hb();function e(r){return t(this.__data__,r)>-1}return m_=e,m_}var p_,KM;function Lde(){if(KM)return p_;KM=1;var t=Hb();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return p_=e,p_}var g_,YM;function Wb(){if(YM)return g_;YM=1;var t=Rde(),e=Ode(),r=Mde(),n=Dde(),i=Lde();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,g_=s,g_}var v_,QM;function aC(){if(QM)return v_;QM=1;var t=hu(),e=fa(),r=t(e,"Map");return v_=r,v_}var y_,XM;function $de(){if(XM)return y_;XM=1;var t=Ide(),e=Wb(),r=aC();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return y_=n,y_}var x_,JM;function Fde(){if(JM)return x_;JM=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return x_=t,x_}var b_,ZM;function Gb(){if(ZM)return b_;ZM=1;var t=Fde();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return b_=e,b_}var w_,eD;function Vde(){if(eD)return w_;eD=1;var t=Gb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return w_=e,w_}var __,tD;function Bde(){if(tD)return __;tD=1;var t=Gb();function e(r){return t(this,r).get(r)}return __=e,__}var j_,rD;function Ude(){if(rD)return j_;rD=1;var t=Gb();function e(r){return t(this,r).has(r)}return j_=e,j_}var S_,nD;function zde(){if(nD)return S_;nD=1;var t=Gb();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return S_=e,S_}var N_,iD;function oC(){if(iD)return N_;iD=1;var t=$de(),e=Vde(),r=Bde(),n=Ude(),i=zde();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,N_=s,N_}var E_,sD;function b9(){if(sD)return E_;sD=1;var t=oC(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],u=s.cache;if(u.has(l))return u.get(l);var f=n.apply(this,o);return s.cache=u.set(l,f)||u,f};return s.cache=new(r.Cache||t),s}return r.Cache=t,E_=r,E_}var A_,aD;function qde(){if(aD)return A_;aD=1;var t=b9(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return A_=r,A_}var T_,oD;function Hde(){if(oD)return T_;oD=1;var t=qde(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,u,f){s.push(u?f.replace(r,"$1"):l||o)}),s});return T_=n,T_}var C_,lD;function lC(){if(lD)return C_;lD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return C_=t,C_}var k_,cD;function Wde(){if(cD)return k_;cD=1;var t=qp(),e=lC(),r=Zn(),n=Ff(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return k_=o,k_}var P_,uD;function w9(){if(uD)return P_;uD=1;var t=Wde();function e(r){return r==null?"":t(r)}return P_=e,P_}var I_,dD;function _9(){if(dD)return I_;dD=1;var t=Zn(),e=nC(),r=Hde(),n=w9();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return I_=i,I_}var R_,fD;function Kb(){if(fD)return R_;fD=1;var t=Ff();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return R_=e,R_}var O_,hD;function cC(){if(hD)return O_;hD=1;var t=_9(),e=Kb();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return O_=r,O_}var M_,mD;function j9(){if(mD)return M_;mD=1;var t=cC();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return M_=e,M_}var Gde=j9();const Ui=Gt(Gde);var D_,pD;function Kde(){if(pD)return D_;pD=1;function t(e){return e==null}return D_=t,D_}var Yde=Kde();const St=Gt(Yde);var L_,gD;function Qde(){if(gD)return L_;gD=1;var t=ho(),e=Zn(),r=mo(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return L_=i,L_}var Xde=Qde();const Hp=Gt(Xde);var Jde=iC();const mt=Gt(Jde);var Zde=Ul();const Vf=Gt(Zde);var $_={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD;function efe(){if(vD)return Lt;vD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function b(x){if(typeof x=="object"&&x!==null){var E=x.$$typeof;switch(E){case t:switch(x=x.type,x){case r:case i:case n:case f:case h:return x;default:switch(x=x&&x.$$typeof,x){case l:case o:case u:case p:case m:case s:return x;default:return E}}case e:return E}}}return Lt.ContextConsumer=o,Lt.ContextProvider=s,Lt.Element=t,Lt.ForwardRef=u,Lt.Fragment=r,Lt.Lazy=p,Lt.Memo=m,Lt.Portal=e,Lt.Profiler=i,Lt.StrictMode=n,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isAsyncMode=function(){return!1},Lt.isConcurrentMode=function(){return!1},Lt.isContextConsumer=function(x){return b(x)===o},Lt.isContextProvider=function(x){return b(x)===s},Lt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Lt.isForwardRef=function(x){return b(x)===u},Lt.isFragment=function(x){return b(x)===r},Lt.isLazy=function(x){return b(x)===p},Lt.isMemo=function(x){return b(x)===m},Lt.isPortal=function(x){return b(x)===e},Lt.isProfiler=function(x){return b(x)===i},Lt.isStrictMode=function(x){return b(x)===n},Lt.isSuspense=function(x){return b(x)===f},Lt.isSuspenseList=function(x){return b(x)===h},Lt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===f||x===h||x===y||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===m||x.$$typeof===s||x.$$typeof===o||x.$$typeof===u||x.$$typeof===_||x.getModuleId!==void 0)},Lt.typeOf=b,Lt}var yD;function tfe(){return yD||(yD=1,$_.exports=efe()),$_.exports}var S9=tfe(),F_,xD;function N9(){if(xD)return F_;xD=1;var t=ho(),e=mo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return F_=n,F_}var V_,bD;function rfe(){if(bD)return V_;bD=1;var t=N9();function e(r){return t(r)&&r!=+r}return V_=e,V_}var nfe=rfe();const Bf=Gt(nfe);var ife=N9();const sfe=Gt(ife);var vs=function(e){return e===0?0:e>0?1:-1},Ic=function(e){return Hp(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return sfe(e)&&!Bf(e)},Fr=function(e){return Ae(e)||Hp(e)},afe=0,Wp=function(e){var r=++afe;return"".concat(e||"").concat(r)},nu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!Hp(e))return n;var s;if(Ic(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Bf(s)&&(s=n),i&&s>r&&(s=r),s},el=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ofe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Di=function(e,r){return Ae(e)&&Ae(r)?function(n){return e+n*(r-e)}:function(){return r}};function Gy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ui(n,e))===r})}function Td(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function UE(t){"@babel/helpers - typeof";return UE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UE(t)}var lfe=["viewBox","children"],cfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wD=["points","pathLength"],B_={svg:lfe,polygon:wD,polyline:wD},uC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ky=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Vf(n))return null;var i={};return Object.keys(n).forEach(function(s){uC.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},ufe=function(e,r,n){return function(i){return e(r,n,i),null}},Yy=function(e,r,n){if(!Vf(e)||UE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];uC.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=ufe(o,r,n))}),i},dfe=["children"],ffe=["children"];function _D(t,e){if(t==null)return{};var r=hfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zE(t){"@babel/helpers - typeof";return zE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zE(t)}var jD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ha=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},SD=null,U_=null,dC=function t(e){if(e===SD&&Array.isArray(U_))return U_;var r=[];return j.Children.forEach(e,function(n){St(n)||(S9.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),U_=r,SD=e,r};function _s(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ha(i)}):n=[Ha(e)],dC(t).forEach(function(i){var s=Ui(i,"type.displayName")||Ui(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ui(t,e){var r=_s(t,e);return r&&r[0]}var ND=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ae(n)||n<=0||!Ae(i)||i<=0)},mfe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pfe=function(e){return e&&e.type&&Hp(e.type)&&mfe.indexOf(e.type)>=0},gfe=function(e){return e&&zE(e)==="object"&&"clipDot"in e},vfe=function(e,r,n,i){var s,o=(s=B_==null?void 0:B_[i])!==null&&s!==void 0?s:[];return!mt(e)&&(i&&o.includes(r)||cfe.includes(r))||n&&uC.includes(r)},vt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Vf(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;vfe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},qE=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ED(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!ED(s,o))return!1}return!0},ED=function(e,r){if(St(e)&&St(r))return!0;if(!St(e)&&!St(r)){var n=e.props||{},i=n.children,s=_D(n,dfe),o=r.props||{},l=o.children,u=_D(o,ffe);return i&&l?Td(s,u)&&qE(i,l):!i&&!l?Td(s,u):!1}return!1},AD=function(e,r){var n=[],i={};return dC(e).forEach(function(s,o){if(pfe(s))n.push(s);else if(s){var l=Ha(s.type),u=r[l]||{},f=u.handler,h=u.once;if(f&&(!h||!i[l])){var m=f(s,l,o);n.push(m),i[l]=!0}}}),n},yfe=function(e){var r=e&&e.type;return r&&jD[r]?jD[r]:null},xfe=function(e,r){return dC(r).indexOf(e)},bfe=["children","width","height","viewBox","className","style","title","desc"];function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HE.apply(this,arguments)}function wfe(t,e){if(t==null)return{};var r=_fe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _fe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,u=t.desc,f=wfe(t,bfe),h=i||{width:r,height:n,x:0,y:0},m=Tt("recharts-surface",s);return K.createElement("svg",HE({},vt(f,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,l),K.createElement("desc",null,u),e)}var jfe=["children","className"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GE.apply(this,arguments)}function Sfe(t,e){if(t==null)return{};var r=Nfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hr=K.forwardRef(function(t,e){var r=t.children,n=t.className,i=Sfe(t,jfe),s=Tt("recharts-layer",n);return K.createElement("g",GE({className:s},vt(i,!0),{ref:e}),r)}),Wa=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},z_,TD;function Efe(){if(TD)return z_;TD=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return z_=t,z_}var q_,CD;function Afe(){if(CD)return q_;CD=1;var t=Efe();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return q_=e,q_}var H_,kD;function E9(){if(kD)return H_;kD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function u(f){return l.test(f)}return H_=u,H_}var W_,PD;function Tfe(){if(PD)return W_;PD=1;function t(e){return e.split("")}return W_=t,W_}var G_,ID;function Cfe(){if(ID)return G_;ID=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+u+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",_=f+"?",b="["+s+"]?",x="(?:"+y+"(?:"+[h,m,p].join("|")+")"+b+_+")*",E=b+_+x,S="(?:"+[h+l+"?",l,m,p,o].join("|")+")",T=RegExp(u+"(?="+u+")|"+S+E,"g");function N(C){return C.match(T)||[]}return G_=N,G_}var K_,RD;function kfe(){if(RD)return K_;RD=1;var t=Tfe(),e=E9(),r=Cfe();function n(i){return e(i)?r(i):t(i)}return K_=n,K_}var Y_,OD;function Pfe(){if(OD)return Y_;OD=1;var t=Afe(),e=E9(),r=kfe(),n=w9();function i(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,u=l?l[0]:o.charAt(0),f=l?t(l,1).join(""):o.slice(1);return u[s]()+f}}return Y_=i,Y_}var Q_,MD;function Ife(){if(MD)return Q_;MD=1;var t=Pfe(),e=t("toUpperCase");return Q_=e,Q_}var Rfe=Ife();const Yb=Gt(Rfe);function Jt(t){return function(){return t}}const A9=Math.cos,Qy=Math.sin,ks=Math.sqrt,Xy=Math.PI,Qb=2*Xy,KE=Math.PI,YE=2*KE,Nc=1e-6,Ofe=YE-Nc;function T9(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Mfe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return T9;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Dfe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?T9:Mfe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=n-e,f=i-r,h=o-e,m=l-r,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Nc)if(!(Math.abs(m*u-f*h)>Nc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,_=i-l,b=u*u+f*f,x=y*y+_*_,E=Math.sqrt(b),S=Math.sqrt(p),T=s*Math.tan((KE-Math.acos((b+p-x)/(2*E*S)))/2),N=T/S,C=T/E;Math.abs(N-1)>Nc&&this._append`L${e+N*h},${r+N*m}`,this._append`A${s},${s},0,0,${+(m*y>h*_)},${this._x1=e+C*u},${this._y1=r+C*f}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),f=e+l,h=r+u,m=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Nc||Math.abs(this._y1-h)>Nc)&&this._append`L${f},${h}`,n&&(p<0&&(p=p%YE+YE),p>Ofe?this._append`A${n},${n},0,1,${m},${e-l},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:p>Nc&&this._append`A${n},${n},0,${+(p>=KE)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function fC(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Dfe(e)}function hC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function C9(t){this._context=t}C9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xb(t){return new C9(t)}function k9(t){return t[0]}function P9(t){return t[1]}function I9(t,e){var r=Jt(!0),n=null,i=Xb,s=null,o=fC(l);t=typeof t=="function"?t:t===void 0?k9:Jt(t),e=typeof e=="function"?e:e===void 0?P9:Jt(e);function l(u){var f,h=(u=hC(u)).length,m,p=!1,y;for(n==null&&(s=i(y=o())),f=0;f<=h;++f)!(f<h&&r(m=u[f],f,u))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,f,u),+e(m,f,u));if(y)return s=null,y+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Jt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Jt(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Jt(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),l):n},l}function Rv(t,e,r){var n=null,i=Jt(!0),s=null,o=Xb,l=null,u=fC(f);t=typeof t=="function"?t:t===void 0?k9:Jt(+t),e=typeof e=="function"?e:Jt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?P9:Jt(+r);function f(m){var p,y,_,b=(m=hC(m)).length,x,E=!1,S,T=new Array(b),N=new Array(b);for(s==null&&(l=o(S=u())),p=0;p<=b;++p){if(!(p<b&&i(x=m[p],p,m))===E)if(E=!E)y=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=p-1;_>=y;--_)l.point(T[_],N[_]);l.lineEnd(),l.areaEnd()}E&&(T[p]=+t(x,p,m),N[p]=+e(x,p,m),l.point(n?+n(x,p,m):T[p],r?+r(x,p,m):N[p]))}if(S)return l=null,S+""||null}function h(){return I9().defined(i).curve(o).context(s)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Jt(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Jt(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Jt(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Jt(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Jt(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Jt(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Jt(!!m),f):i},f.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),f):o},f.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),f):s},f}class R9{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Lfe(t){return new R9(t,!0)}function $fe(t){return new R9(t,!1)}const mC={draw(t,e){const r=ks(e/Xy);t.moveTo(r,0),t.arc(0,0,r,0,Qb)}},Ffe={draw(t,e){const r=ks(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},O9=ks(1/3),Vfe=O9*2,Bfe={draw(t,e){const r=ks(e/Vfe),n=r*O9;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Ufe={draw(t,e){const r=ks(e),n=-r/2;t.rect(n,n,r,r)}},zfe=.8908130915292852,M9=Qy(Xy/10)/Qy(7*Xy/10),qfe=Qy(Qb/10)*M9,Hfe=-A9(Qb/10)*M9,Wfe={draw(t,e){const r=ks(e*zfe),n=qfe*r,i=Hfe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=Qb*s/5,l=A9(o),u=Qy(o);t.lineTo(u*r,-l*r),t.lineTo(l*n-u*i,u*n+l*i)}t.closePath()}},X_=ks(3),Gfe={draw(t,e){const r=-ks(e/(X_*3));t.moveTo(0,r*2),t.lineTo(-X_*r,-r),t.lineTo(X_*r,-r),t.closePath()}},Ri=-.5,Oi=ks(3)/2,QE=1/ks(12),Kfe=(QE/2+1)*3,Yfe={draw(t,e){const r=ks(e/Kfe),n=r/2,i=r*QE,s=n,o=r*QE+r,l=-s,u=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,u),t.lineTo(Ri*n-Oi*i,Oi*n+Ri*i),t.lineTo(Ri*s-Oi*o,Oi*s+Ri*o),t.lineTo(Ri*l-Oi*u,Oi*l+Ri*u),t.lineTo(Ri*n+Oi*i,Ri*i-Oi*n),t.lineTo(Ri*s+Oi*o,Ri*o-Oi*s),t.lineTo(Ri*l+Oi*u,Ri*u-Oi*l),t.closePath()}};function Qfe(t,e){let r=null,n=fC(i);t=typeof t=="function"?t:Jt(t||mC),e=typeof e=="function"?e:Jt(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Jt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Jt(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Jy(){}function Zy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function D9(t){this._context=t}D9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xfe(t){return new D9(t)}function L9(t){this._context=t}L9.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jfe(t){return new L9(t)}function $9(t){this._context=t}$9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zfe(t){return new $9(t)}function F9(t){this._context=t}F9.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ehe(t){return new F9(t)}function DD(t){return t<0?-1:1}function LD(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(DD(s)+DD(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function $D(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function J_(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function ex(t){this._context=t}ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J_(this,this._t0,$D(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,J_(this,$D(this,r=LD(this,t,e)),r);break;default:J_(this,this._t0,r=LD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function V9(t){this._context=new B9(t)}(V9.prototype=Object.create(ex.prototype)).point=function(t,e){ex.prototype.point.call(this,e,t)};function B9(t){this._context=t}B9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function the(t){return new ex(t)}function rhe(t){return new V9(t)}function U9(t){this._context=t}U9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=FD(t),i=FD(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FD(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function nhe(t){return new U9(t)}function Jb(t,e){this._context=t,this._t=e}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ihe(t){return new Jb(t,.5)}function she(t){return new Jb(t,0)}function ahe(t){return new Jb(t,1)}function ef(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function XE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ohe(t,e){return t[e]}function lhe(t){const e=[];return e.key=t,e}function che(){var t=Jt([]),e=XE,r=ef,n=ohe;function i(s){var o=Array.from(t.apply(this,arguments),lhe),l,u=o.length,f=-1,h;for(const m of s)for(l=0,++f;l<u;++l)(o[l][f]=[0,+n(m,o[l].key,f,s)]).data=m;for(l=0,h=hC(e(o));l<u;++l)o[h[l]].index=l;return r(o,h),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Jt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Jt(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?XE:typeof s=="function"?s:Jt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??ef,i):r},i}function uhe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}ef(t,e)}}function dhe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ef(t,e)}}function fhe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,u=0,f=0;l<o;++l){for(var h=t[e[l]],m=h[n][1]||0,p=h[n-1][1]||0,y=(m-p)/2,_=0;_<l;++_){var b=t[e[_]],x=b[n][1]||0,E=b[n-1][1]||0;y+=x-E}u+=m,f+=y*m}i[n-1][1]+=i[n-1][0]=r,u&&(r-=f/u)}i[n-1][1]+=i[n-1][0]=r,ef(t,e)}}function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}var hhe=["type","size","sizeType"];function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JE.apply(this,arguments)}function VD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(r),!0).forEach(function(n){mhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mhe(t,e,r){return e=phe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function phe(t){var e=ghe(t,"string");return Um(e)=="symbol"?e:e+""}function ghe(t,e){if(Um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vhe(t,e){if(t==null)return{};var r=yhe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var z9={symbolCircle:mC,symbolCross:Ffe,symbolDiamond:Bfe,symbolSquare:Ufe,symbolStar:Wfe,symbolTriangle:Gfe,symbolWye:Yfe},xhe=Math.PI/180,bhe=function(e){var r="symbol".concat(Yb(e));return z9[r]||mC},whe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xhe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_he=function(e,r){z9["symbol".concat(Yb(e))]=r},pC=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,u=vhe(e,hhe),f=BD(BD({},u),{},{type:n,size:s,sizeType:l}),h=function(){var x=bhe(n),E=Qfe().type(x).size(whe(s,l,n));return E()},m=f.className,p=f.cx,y=f.cy,_=vt(f,!0);return p===+p&&y===+y&&s===+s?K.createElement("path",JE({},_,{className:Tt("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(y,")"),d:h()})):null};pC.registerSymbol=_he;function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZE.apply(this,arguments)}function UD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(r),!0).forEach(function(n){zm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function She(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H9(n.key),n)}}function Ehe(t,e,r){return e&&Nhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ahe(t,e,r){return e=tx(e),The(t,q9()?Reflect.construct(e,r||[],tx(t).constructor):e.apply(t,r))}function The(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Che(t)}function Che(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q9=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eA(t,e)}function zm(t,e,r){return e=H9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H9(t){var e=Phe(t,"string");return tf(e)=="symbol"?e:e+""}function Phe(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cs=32,gC=function(t){function e(){return She(this,e),Ahe(this,e,arguments)}return khe(e,t),Ehe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=cs/2,o=cs/6,l=cs/3,u=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:cs,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(cs,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(cs/8,"h").concat(cs,"v").concat(cs*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var f=jhe({},n);return delete f.legendIcon,K.cloneElement(n.legendIcon,f)}return K.createElement(pC,{fill:u,cx:s,cy:s,size:cs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,u=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:cs,height:cs},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(y,_){var b=y.formatter||u,x=Tt(zm(zm({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",y.inactive));if(y.type==="none")return null;var E=mt(y.value)?null:y.value;Wa(!mt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=y.inactive?f:y.color;return K.createElement("li",ZE({className:x,style:m,key:"legend-item-".concat(_)},Yy(n.props,y,_)),K.createElement(WE,{width:o,height:o,viewBox:h,style:p},n.renderIcon(y)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(E,y,_):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);zm(gC,"displayName","Legend");zm(gC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Z_,zD;function Ihe(){if(zD)return Z_;zD=1;var t=Wb();function e(){this.__data__=new t,this.size=0}return Z_=e,Z_}var ej,qD;function Rhe(){if(qD)return ej;qD=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return ej=t,ej}var tj,HD;function Ohe(){if(HD)return tj;HD=1;function t(e){return this.__data__.get(e)}return tj=t,tj}var rj,WD;function Mhe(){if(WD)return rj;WD=1;function t(e){return this.__data__.has(e)}return rj=t,rj}var nj,GD;function Dhe(){if(GD)return nj;GD=1;var t=Wb(),e=aC(),r=oC(),n=200;function i(s,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<n-1)return u.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(s,o),this.size=l.size,this}return nj=i,nj}var ij,KD;function W9(){if(KD)return ij;KD=1;var t=Wb(),e=Ihe(),r=Rhe(),n=Ohe(),i=Mhe(),s=Dhe();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,ij=o,ij}var sj,YD;function Lhe(){if(YD)return sj;YD=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return sj=e,sj}var aj,QD;function $he(){if(QD)return aj;QD=1;function t(e){return this.__data__.has(e)}return aj=t,aj}var oj,XD;function G9(){if(XD)return oj;XD=1;var t=oC(),e=Lhe(),r=$he();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,oj=n,oj}var lj,JD;function K9(){if(JD)return lj;JD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return lj=t,lj}var cj,ZD;function Y9(){if(ZD)return cj;ZD=1;function t(e,r){return e.has(r)}return cj=t,cj}var uj,e4;function Q9(){if(e4)return uj;e4=1;var t=G9(),e=K9(),r=Y9(),n=1,i=2;function s(o,l,u,f,h,m){var p=u&n,y=o.length,_=l.length;if(y!=_&&!(p&&_>y))return!1;var b=m.get(o),x=m.get(l);if(b&&x)return b==l&&x==o;var E=-1,S=!0,T=u&i?new t:void 0;for(m.set(o,l),m.set(l,o);++E<y;){var N=o[E],C=l[E];if(f)var O=p?f(C,N,E,l,o,m):f(N,C,E,o,l,m);if(O!==void 0){if(O)continue;S=!1;break}if(T){if(!e(l,function(P,R){if(!r(T,R)&&(N===P||h(N,P,u,f,m)))return T.push(R)})){S=!1;break}}else if(!(N===C||h(N,C,u,f,m))){S=!1;break}}return m.delete(o),m.delete(l),S}return uj=s,uj}var dj,t4;function Fhe(){if(t4)return dj;t4=1;var t=fa(),e=t.Uint8Array;return dj=e,dj}var fj,r4;function Vhe(){if(r4)return fj;r4=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return fj=t,fj}var hj,n4;function vC(){if(n4)return hj;n4=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return hj=t,hj}var mj,i4;function Bhe(){if(i4)return mj;i4=1;var t=qp(),e=Fhe(),r=sC(),n=Q9(),i=Vhe(),s=vC(),o=1,l=2,u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",p="[object Number]",y="[object RegExp]",_="[object Set]",b="[object String]",x="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",T=t?t.prototype:void 0,N=T?T.valueOf:void 0;function C(O,P,R,M,V,$,D){switch(R){case S:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case E:return!(O.byteLength!=P.byteLength||!$(new e(O),new e(P)));case u:case f:case p:return r(+O,+P);case h:return O.name==P.name&&O.message==P.message;case y:case b:return O==P+"";case m:var L=i;case _:var B=M&o;if(L||(L=s),O.size!=P.size&&!B)return!1;var G=D.get(O);if(G)return G==P;M|=l,D.set(O,P);var q=n(L(O),L(P),M,V,$,D);return D.delete(O),q;case x:if(N)return N.call(O)==N.call(P)}return!1}return mj=C,mj}var pj,s4;function X9(){if(s4)return pj;s4=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return pj=t,pj}var gj,a4;function Uhe(){if(a4)return gj;a4=1;var t=X9(),e=Zn();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return gj=r,gj}var vj,o4;function zhe(){if(o4)return vj;o4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return vj=t,vj}var yj,l4;function qhe(){if(l4)return yj;l4=1;function t(){return[]}return yj=t,yj}var xj,c4;function Hhe(){if(c4)return xj;c4=1;var t=zhe(),e=qhe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return xj=s,xj}var bj,u4;function Whe(){if(u4)return bj;u4=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return bj=t,bj}var wj,d4;function Ghe(){if(d4)return wj;d4=1;var t=ho(),e=mo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return wj=n,wj}var _j,f4;function yC(){if(f4)return _j;f4=1;var t=Ghe(),e=mo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return _j=s,_j}var tm={exports:{}},jj,h4;function Khe(){if(h4)return jj;h4=1;function t(){return!1}return jj=t,jj}tm.exports;var m4;function J9(){return m4||(m4=1,function(t,e){var r=fa(),n=Khe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;t.exports=f}(tm,tm.exports)),tm.exports}var Sj,p4;function xC(){if(p4)return Sj;p4=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Sj=r,Sj}var Nj,g4;function bC(){if(g4)return Nj;g4=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Nj=e,Nj}var Ej,v4;function Yhe(){if(v4)return Ej;v4=1;var t=ho(),e=bC(),r=mo(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",p="[object RegExp]",y="[object Set]",_="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",N="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",V="[object Uint32Array]",$={};$[S]=$[T]=$[N]=$[C]=$[O]=$[P]=$[R]=$[M]=$[V]=!0,$[n]=$[i]=$[x]=$[s]=$[E]=$[o]=$[l]=$[u]=$[f]=$[h]=$[m]=$[p]=$[y]=$[_]=$[b]=!1;function D(L){return r(L)&&e(L.length)&&!!$[t(L)]}return Ej=D,Ej}var Aj,y4;function Z9(){if(y4)return Aj;y4=1;function t(e){return function(r){return e(r)}}return Aj=t,Aj}var rm={exports:{}};rm.exports;var x4;function Qhe(){return x4||(x4=1,function(t,e){var r=y9(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(rm,rm.exports)),rm.exports}var Tj,b4;function eq(){if(b4)return Tj;b4=1;var t=Yhe(),e=Z9(),r=Qhe(),n=r&&r.isTypedArray,i=n?e(n):t;return Tj=i,Tj}var Cj,w4;function Xhe(){if(w4)return Cj;w4=1;var t=Whe(),e=yC(),r=Zn(),n=J9(),i=xC(),s=eq(),o=Object.prototype,l=o.hasOwnProperty;function u(f,h){var m=r(f),p=!m&&e(f),y=!m&&!p&&n(f),_=!m&&!p&&!y&&s(f),b=m||p||y||_,x=b?t(f.length,String):[],E=x.length;for(var S in f)(h||l.call(f,S))&&!(b&&(S=="length"||y&&(S=="offset"||S=="parent")||_&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,E)))&&x.push(S);return x}return Cj=u,Cj}var kj,_4;function Jhe(){if(_4)return kj;_4=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return kj=e,kj}var Pj,j4;function tq(){if(j4)return Pj;j4=1;function t(e,r){return function(n){return e(r(n))}}return Pj=t,Pj}var Ij,S4;function Zhe(){if(S4)return Ij;S4=1;var t=tq(),e=t(Object.keys,Object);return Ij=e,Ij}var Rj,N4;function eme(){if(N4)return Rj;N4=1;var t=Jhe(),e=Zhe(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return Rj=i,Rj}var Oj,E4;function Gp(){if(E4)return Oj;E4=1;var t=iC(),e=bC();function r(n){return n!=null&&e(n.length)&&!t(n)}return Oj=r,Oj}var Mj,A4;function Zb(){if(A4)return Mj;A4=1;var t=Xhe(),e=eme(),r=Gp();function n(i){return r(i)?t(i):e(i)}return Mj=n,Mj}var Dj,T4;function tme(){if(T4)return Dj;T4=1;var t=Uhe(),e=Hhe(),r=Zb();function n(i){return t(i,r,e)}return Dj=n,Dj}var Lj,C4;function rme(){if(C4)return Lj;C4=1;var t=tme(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,u,f,h){var m=l&e,p=t(s),y=p.length,_=t(o),b=_.length;if(y!=b&&!m)return!1;for(var x=y;x--;){var E=p[x];if(!(m?E in o:n.call(o,E)))return!1}var S=h.get(s),T=h.get(o);if(S&&T)return S==o&&T==s;var N=!0;h.set(s,o),h.set(o,s);for(var C=m;++x<y;){E=p[x];var O=s[E],P=o[E];if(u)var R=m?u(P,O,E,o,s,h):u(O,P,E,s,o,h);if(!(R===void 0?O===P||f(O,P,l,u,h):R)){N=!1;break}C||(C=E=="constructor")}if(N&&!C){var M=s.constructor,V=o.constructor;M!=V&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof V=="function"&&V instanceof V)&&(N=!1)}return h.delete(s),h.delete(o),N}return Lj=i,Lj}var $j,k4;function nme(){if(k4)return $j;k4=1;var t=hu(),e=fa(),r=t(e,"DataView");return $j=r,$j}var Fj,P4;function ime(){if(P4)return Fj;P4=1;var t=hu(),e=fa(),r=t(e,"Promise");return Fj=r,Fj}var Vj,I4;function rq(){if(I4)return Vj;I4=1;var t=hu(),e=fa(),r=t(e,"Set");return Vj=r,Vj}var Bj,R4;function sme(){if(R4)return Bj;R4=1;var t=hu(),e=fa(),r=t(e,"WeakMap");return Bj=r,Bj}var Uj,O4;function ame(){if(O4)return Uj;O4=1;var t=nme(),e=aC(),r=ime(),n=rq(),i=sme(),s=ho(),o=x9(),l="[object Map]",u="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",y=o(t),_=o(e),b=o(r),x=o(n),E=o(i),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=p||e&&S(new e)!=l||r&&S(r.resolve())!=f||n&&S(new n)!=h||i&&S(new i)!=m)&&(S=function(T){var N=s(T),C=N==u?T.constructor:void 0,O=C?o(C):"";if(O)switch(O){case y:return p;case _:return l;case b:return f;case x:return h;case E:return m}return N}),Uj=S,Uj}var zj,M4;function ome(){if(M4)return zj;M4=1;var t=W9(),e=Q9(),r=Bhe(),n=rme(),i=ame(),s=Zn(),o=J9(),l=eq(),u=1,f="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype,y=p.hasOwnProperty;function _(b,x,E,S,T,N){var C=s(b),O=s(x),P=C?h:i(b),R=O?h:i(x);P=P==f?m:P,R=R==f?m:R;var M=P==m,V=R==m,$=P==R;if($&&o(b)){if(!o(x))return!1;C=!0,M=!1}if($&&!M)return N||(N=new t),C||l(b)?e(b,x,E,S,T,N):r(b,x,P,E,S,T,N);if(!(E&u)){var D=M&&y.call(b,"__wrapped__"),L=V&&y.call(x,"__wrapped__");if(D||L){var B=D?b.value():b,G=L?x.value():x;return N||(N=new t),T(B,G,E,S,N)}}return $?(N||(N=new t),n(b,x,E,S,T,N)):!1}return zj=_,zj}var qj,D4;function wC(){if(D4)return qj;D4=1;var t=ome(),e=mo();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,l)}return qj=r,qj}var Hj,L4;function lme(){if(L4)return Hj;L4=1;var t=W9(),e=wC(),r=1,n=2;function i(s,o,l,u){var f=l.length,h=f,m=!u;if(s==null)return!h;for(s=Object(s);f--;){var p=l[f];if(m&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++f<h;){p=l[f];var y=p[0],_=s[y],b=p[1];if(m&&p[2]){if(_===void 0&&!(y in s))return!1}else{var x=new t;if(u)var E=u(_,b,y,s,o,x);if(!(E===void 0?e(b,_,r|n,u,x):E))return!1}}return!0}return Hj=i,Hj}var Wj,$4;function nq(){if($4)return Wj;$4=1;var t=Ul();function e(r){return r===r&&!t(r)}return Wj=e,Wj}var Gj,F4;function cme(){if(F4)return Gj;F4=1;var t=nq(),e=Zb();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,t(l)]}return i}return Gj=r,Gj}var Kj,V4;function iq(){if(V4)return Kj;V4=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Kj=t,Kj}var Yj,B4;function ume(){if(B4)return Yj;B4=1;var t=lme(),e=cme(),r=iq();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return Yj=n,Yj}var Qj,U4;function dme(){if(U4)return Qj;U4=1;function t(e,r){return e!=null&&r in Object(e)}return Qj=t,Qj}var Xj,z4;function fme(){if(z4)return Xj;z4=1;var t=_9(),e=yC(),r=Zn(),n=xC(),i=bC(),s=Kb();function o(l,u,f){u=t(u,l);for(var h=-1,m=u.length,p=!1;++h<m;){var y=s(u[h]);if(!(p=l!=null&&f(l,y)))break;l=l[y]}return p||++h!=m?p:(m=l==null?0:l.length,!!m&&i(m)&&n(y,m)&&(r(l)||e(l)))}return Xj=o,Xj}var Jj,q4;function hme(){if(q4)return Jj;q4=1;var t=dme(),e=fme();function r(n,i){return n!=null&&e(n,i,t)}return Jj=r,Jj}var Zj,H4;function mme(){if(H4)return Zj;H4=1;var t=wC(),e=j9(),r=hme(),n=nC(),i=nq(),s=iq(),o=Kb(),l=1,u=2;function f(h,m){return n(h)&&i(m)?s(o(h),m):function(p){var y=e(p,h);return y===void 0&&y===m?r(p,h):t(m,y,l|u)}}return Zj=f,Zj}var eS,W4;function Uf(){if(W4)return eS;W4=1;function t(e){return e}return eS=t,eS}var tS,G4;function pme(){if(G4)return tS;G4=1;function t(e){return function(r){return r==null?void 0:r[e]}}return tS=t,tS}var rS,K4;function gme(){if(K4)return rS;K4=1;var t=cC();function e(r){return function(n){return t(n,r)}}return rS=e,rS}var nS,Y4;function vme(){if(Y4)return nS;Y4=1;var t=pme(),e=gme(),r=nC(),n=Kb();function i(s){return r(s)?t(n(s)):e(s)}return nS=i,nS}var iS,Q4;function zl(){if(Q4)return iS;Q4=1;var t=ume(),e=mme(),r=Uf(),n=Zn(),i=vme();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return iS=s,iS}var sS,X4;function sq(){if(X4)return sS;X4=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return sS=t,sS}var aS,J4;function yme(){if(J4)return aS;J4=1;function t(e){return e!==e}return aS=t,aS}var oS,Z4;function xme(){if(Z4)return oS;Z4=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return oS=t,oS}var lS,e5;function bme(){if(e5)return lS;e5=1;var t=sq(),e=yme(),r=xme();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return lS=n,lS}var cS,t5;function wme(){if(t5)return cS;t5=1;var t=bme();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return cS=e,cS}var uS,r5;function _me(){if(r5)return uS;r5=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return uS=t,uS}var dS,n5;function jme(){if(n5)return dS;n5=1;function t(){}return dS=t,dS}var fS,i5;function Sme(){if(i5)return fS;i5=1;var t=rq(),e=jme(),r=vC(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return fS=i,fS}var hS,s5;function Nme(){if(s5)return hS;s5=1;var t=G9(),e=wme(),r=_me(),n=Y9(),i=Sme(),s=vC(),o=200;function l(u,f,h){var m=-1,p=e,y=u.length,_=!0,b=[],x=b;if(h)_=!1,p=r;else if(y>=o){var E=f?null:i(u);if(E)return s(E);_=!1,p=n,x=new t}else x=f?[]:b;e:for(;++m<y;){var S=u[m],T=f?f(S):S;if(S=h||S!==0?S:0,_&&T===T){for(var N=x.length;N--;)if(x[N]===T)continue e;f&&x.push(T),b.push(S)}else p(x,T,h)||(x!==b&&x.push(T),b.push(S))}return b}return hS=l,hS}var mS,a5;function Eme(){if(a5)return mS;a5=1;var t=zl(),e=Nme();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return mS=r,mS}var Ame=Eme();const o5=Gt(Ame);function aq(t,e,r){return e===!0?o5(t,r):mt(e)?o5(t,e):t}function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}var Tme=["ref"];function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){e0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lq(n.key),n)}}function kme(t,e,r){return e&&c5(t.prototype,e),r&&c5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pme(t,e,r){return e=rx(e),Ime(t,oq()?Reflect.construct(e,r||[],rx(t).constructor):e.apply(t,r))}function Ime(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rme(t)}function Rme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(t)}function Ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tA(t,e)}function e0(t,e,r){return e=lq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lq(t){var e=Mme(t,"string");return rf(e)=="symbol"?e:e+""}function Mme(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dme(t,e){if(t==null)return{};var r=Lme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $me(t){return t.value}function Fme(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=Dme(e,Tme);return K.createElement(gC,r)}var u5=1,Cd=function(t){function e(){var r;Cme(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Pme(this,e,[].concat(i)),e0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ome(e,t),kme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>u5||Math.abs(i.height-this.lastBoundingBox.height)>u5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,u=i.margin,f=i.chartWidth,h=i.chartHeight,m,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var y=this.getBBoxSnapshot();m={left:((f||0)-y.width)/2}}else m=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();p={top:((h||0)-_.height)/2}}else p=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Pa(Pa({},m),p)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,u=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Pa(Pa({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){n.wrapperNode=y}},Fme(s,Pa(Pa({},this.props),{},{payload:aq(h,f,$me)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Pa(Pa({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ae(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);e0(Cd,"displayName","Legend");e0(Cd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pS,d5;function Vme(){if(d5)return pS;d5=1;var t=qp(),e=yC(),r=Zn(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return pS=i,pS}var gS,f5;function cq(){if(f5)return gS;f5=1;var t=X9(),e=Vme();function r(n,i,s,o,l){var u=-1,f=n.length;for(s||(s=e),l||(l=[]);++u<f;){var h=n[u];i>0&&s(h)?i>1?r(h,i-1,s,o,l):t(l,h):o||(l[l.length]=h)}return l}return gS=r,gS}var vS,h5;function Bme(){if(h5)return vS;h5=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),u=l.length;u--;){var f=l[e?u:++s];if(n(o[f],f,o)===!1)break}return r}}return vS=t,vS}var yS,m5;function Ume(){if(m5)return yS;m5=1;var t=Bme(),e=t();return yS=e,yS}var xS,p5;function uq(){if(p5)return xS;p5=1;var t=Ume(),e=Zb();function r(n,i){return n&&t(n,i,e)}return xS=r,xS}var bS,g5;function zme(){if(g5)return bS;g5=1;var t=Gp();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,l=n?o:-1,u=Object(i);(n?l--:++l<o)&&s(u[l],l,u)!==!1;);return i}}return bS=e,bS}var wS,v5;function _C(){if(v5)return wS;v5=1;var t=uq(),e=zme(),r=e(t);return wS=r,wS}var _S,y5;function dq(){if(y5)return _S;y5=1;var t=_C(),e=Gp();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,u,f){o[++s]=i(l,u,f)}),o}return _S=r,_S}var jS,x5;function qme(){if(x5)return jS;x5=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return jS=t,jS}var SS,b5;function Hme(){if(b5)return SS;b5=1;var t=Ff();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=t(r),u=n!==void 0,f=n===null,h=n===n,m=t(n);if(!f&&!m&&!l&&r>n||l&&u&&h&&!f&&!m||s&&u&&h||!i&&h||!o)return 1;if(!s&&!l&&!m&&r<n||m&&i&&o&&!s&&!l||f&&i&&o||!u&&o||!h)return-1}return 0}return SS=e,SS}var NS,w5;function Wme(){if(w5)return NS;w5=1;var t=Hme();function e(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,u=o.length,f=i.length;++s<u;){var h=t(o[s],l[s]);if(h){if(s>=f)return h;var m=i[s];return h*(m=="desc"?-1:1)}}return r.index-n.index}return NS=e,NS}var ES,_5;function Gme(){if(_5)return ES;_5=1;var t=lC(),e=cC(),r=zl(),n=dq(),i=qme(),s=Z9(),o=Wme(),l=Uf(),u=Zn();function f(h,m,p){m.length?m=t(m,function(b){return u(b)?function(x){return e(x,b.length===1?b[0]:b)}:b}):m=[l];var y=-1;m=t(m,s(r));var _=n(h,function(b,x,E){var S=t(m,function(T){return T(b)});return{criteria:S,index:++y,value:b}});return i(_,function(b,x){return o(b,x,p)})}return ES=f,ES}var AS,j5;function Kme(){if(j5)return AS;j5=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return AS=t,AS}var TS,S5;function Yme(){if(S5)return TS;S5=1;var t=Kme(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,u=e(o.length-i,0),f=Array(u);++l<u;)f[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=s(f),t(n,this,h)}}return TS=r,TS}var CS,N5;function Qme(){if(N5)return CS;N5=1;function t(e){return function(){return e}}return CS=t,CS}var kS,E5;function fq(){if(E5)return kS;E5=1;var t=hu(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return kS=e,kS}var PS,A5;function Xme(){if(A5)return PS;A5=1;var t=Qme(),e=fq(),r=Uf(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return PS=n,PS}var IS,T5;function Jme(){if(T5)return IS;T5=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),u=e-(l-o);if(o=l,u>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return IS=n,IS}var RS,C5;function Zme(){if(C5)return RS;C5=1;var t=Xme(),e=Jme(),r=e(t);return RS=r,RS}var OS,k5;function epe(){if(k5)return OS;k5=1;var t=Uf(),e=Yme(),r=Zme();function n(i,s){return r(e(i,s,t),i+"")}return OS=n,OS}var MS,P5;function t0(){if(P5)return MS;P5=1;var t=sC(),e=Gp(),r=xC(),n=Ul();function i(s,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?e(l)&&r(o,l.length):u=="string"&&o in l)?t(l[o],s):!1}return MS=i,MS}var DS,I5;function tpe(){if(I5)return DS;I5=1;var t=cq(),e=Gme(),r=epe(),n=t0(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return DS=i,DS}var rpe=tpe();const jC=Gt(rpe);function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rA.apply(this,arguments)}function npe(t,e){return ope(t)||ape(t,e)||spe(t,e)||ipe()}function ipe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function spe(t,e){if(t){if(typeof t=="string")return R5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R5(t,e)}}function R5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ape(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function ope(t){if(Array.isArray(t))return t}function O5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(r),!0).forEach(function(n){lpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lpe(t,e,r){return e=cpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cpe(t){var e=upe(t,"string");return qm(e)=="symbol"?e:e+""}function upe(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dpe(t){return Array.isArray(t)&&Fr(t[0])&&Fr(t[1])?t.join(" ~ "):t}var fpe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,u=e.labelStyle,f=u===void 0?{}:u,h=e.payload,m=e.formatter,p=e.itemSorter,y=e.wrapperClassName,_=e.labelClassName,b=e.label,x=e.labelFormatter,E=e.accessibilityLayer,S=E===void 0?!1:E,T=function(){if(h&&h.length){var D={padding:0,margin:0},L=(p?jC(h,p):h).map(function(B,G){if(B.type==="none")return null;var q=LS({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),Y=B.formatter||m||dpe,z=B.value,J=B.name,re=z,H=J;if(Y&&re!=null&&H!=null){var X=Y(z,J,B,G,h);if(Array.isArray(X)){var te=npe(X,2);re=te[0],H=te[1]}else re=X}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:q},Fr(H)?K.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Fr(H)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:D},L)}return null},N=LS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=LS({margin:0},f),O=!St(b),P=O?b:"",R=Tt("recharts-default-tooltip",y),M=Tt("recharts-tooltip-label",_);O&&x&&h!==void 0&&h!==null&&(P=x(b,h));var V=S?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",rA({className:R,style:N},V),K.createElement("p",{className:M,style:C},K.isValidElement(P)?P:"".concat(P)),T())};function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function Ov(t,e,r){return e=hpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hpe(t){var e=mpe(t,"string");return Hm(e)=="symbol"?e:e+""}function mpe(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $h="recharts-tooltip-wrapper",ppe={visibility:"hidden"};function gpe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Tt($h,Ov(Ov(Ov(Ov({},"".concat($h,"-right"),Ae(r)&&e&&Ae(e.x)&&r>=e.x),"".concat($h,"-left"),Ae(r)&&e&&Ae(e.x)&&r<e.x),"".concat($h,"-bottom"),Ae(n)&&e&&Ae(e.y)&&n>=e.y),"".concat($h,"-top"),Ae(n)&&e&&Ae(e.y)&&n<e.y))}function M5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,f=t.viewBoxDimension;if(s&&Ae(s[n]))return s[n];var h=r[n]-l-i,m=r[n]+i;if(e[n])return o[n]?h:m;if(o[n]){var p=h,y=u[n];return p<y?Math.max(m,u[n]):Math.max(h,u[n])}var _=m+l,b=u[n]+f;return _>b?Math.max(h,u[n]):Math.max(m,u[n])}function vpe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ype(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,f,h,m;return o.height>0&&o.width>0&&r?(h=M5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=M5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=vpe({translateX:h,translateY:m,useTranslate3d:l})):f=ppe,{cssProperties:f,cssClasses:gpe({translateX:h,translateY:m,coordinate:r})}}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function D5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(r),!0).forEach(function(n){iA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mq(n.key),n)}}function wpe(t,e,r){return e&&bpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _pe(t,e,r){return e=nx(e),jpe(t,hq()?Reflect.construct(e,r||[],nx(t).constructor):e.apply(t,r))}function jpe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Spe(t)}function Spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hq=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(t)}function Npe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nA(t,e)}function iA(t,e,r){return e=mq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mq(t){var e=Epe(t,"string");return nf(e)=="symbol"?e:e+""}function Epe(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $5=1,Ape=function(t){function e(){var r;xpe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=_pe(this,e,[].concat(i)),iA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return Npe(e,t),wpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>$5||Math.abs(n.height-this.state.lastBoundingBox.height)>$5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,p=i.isAnimationActive,y=i.offset,_=i.position,b=i.reverseDirection,x=i.useTranslate3d,E=i.viewBox,S=i.wrapperStyle,T=ype({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:y,position:_,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:E}),N=T.cssClasses,C=T.cssProperties,O=L5(L5({transition:p&&s?"transform ".concat(l,"ms ").concat(u):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},S);return K.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(R){n.wrapperNode=R}},f)}}])}(j.PureComponent),Tpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zf={isSsr:Tpe()};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function F5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(r),!0).forEach(function(n){SC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gq(n.key),n)}}function Ppe(t,e,r){return e&&kpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ipe(t,e,r){return e=ix(e),Rpe(t,pq()?Reflect.construct(e,r||[],ix(t).constructor):e.apply(t,r))}function Rpe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(t)}function Mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sA(t,e)}function SC(t,e,r){return e=gq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gq(t){var e=Dpe(t,"string");return sf(e)=="symbol"?e:e+""}function Dpe(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lpe(t){return t.dataKey}function $pe(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(fpe,e)}var qs=function(t){function e(){return Cpe(this,e),Ipe(this,e,arguments)}return Mpe(e,t),Ppe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,p=i.isAnimationActive,y=i.offset,_=i.payload,b=i.payloadUniqBy,x=i.position,E=i.reverseDirection,S=i.useTranslate3d,T=i.viewBox,N=i.wrapperStyle,C=_??[];m&&C.length&&(C=aq(_.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),b,Lpe));var O=C.length>0;return K.createElement(Ape,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:s,coordinate:h,hasPayload:O,offset:y,position:x,reverseDirection:E,useTranslate3d:S,viewBox:T,wrapperStyle:N},$pe(f,V5(V5({},this.props),{},{payload:C})))}}])}(j.PureComponent);SC(qs,"displayName","Tooltip");SC(qs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $S,B5;function Fpe(){if(B5)return $S;B5=1;var t=fa(),e=function(){return t.Date.now()};return $S=e,$S}var FS,U5;function Vpe(){if(U5)return FS;U5=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return FS=e,FS}var VS,z5;function Bpe(){if(z5)return VS;z5=1;var t=Vpe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return VS=r,VS}var BS,q5;function vq(){if(q5)return BS;q5=1;var t=Bpe(),e=Ul(),r=Ff(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=s.test(f);return m||o.test(f)?l(f.slice(2),m?2:8):i.test(f)?n:+f}return BS=u,BS}var US,H5;function Upe(){if(H5)return US;H5=1;var t=Ul(),e=Fpe(),r=vq(),n="Expected a function",i=Math.max,s=Math.min;function o(l,u,f){var h,m,p,y,_,b,x=0,E=!1,S=!1,T=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,t(f)&&(E=!!f.leading,S="maxWait"in f,p=S?i(r(f.maxWait)||0,u):p,T="trailing"in f?!!f.trailing:T);function N(L){var B=h,G=m;return h=m=void 0,x=L,y=l.apply(G,B),y}function C(L){return x=L,_=setTimeout(R,u),E?N(L):y}function O(L){var B=L-b,G=L-x,q=u-B;return S?s(q,p-G):q}function P(L){var B=L-b,G=L-x;return b===void 0||B>=u||B<0||S&&G>=p}function R(){var L=e();if(P(L))return M(L);_=setTimeout(R,O(L))}function M(L){return _=void 0,T&&h?N(L):(h=m=void 0,y)}function V(){_!==void 0&&clearTimeout(_),x=0,h=b=m=_=void 0}function $(){return _===void 0?y:M(e())}function D(){var L=e(),B=P(L);if(h=arguments,m=this,b=L,B){if(_===void 0)return C(b);if(S)return clearTimeout(_),_=setTimeout(R,u),N(b)}return _===void 0&&(_=setTimeout(R,u)),y}return D.cancel=V,D.flush=$,D}return US=o,US}var zS,W5;function zpe(){if(W5)return zS;W5=1;var t=Upe(),e=Ul(),r="Expected a function";function n(i,s,o){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),t(i,s,{leading:l,maxWait:s,trailing:u})}return zS=n,zS}var qpe=zpe();const yq=Gt(qpe);function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function G5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(r),!0).forEach(function(n){Hpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hpe(t,e,r){return e=Wpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wpe(t){var e=Gpe(t,"string");return Wm(e)=="symbol"?e:e+""}function Gpe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kpe(t,e){return Jpe(t)||Xpe(t,e)||Qpe(t,e)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(t,e){if(t){if(typeof t=="string")return K5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K5(t,e)}}function K5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Jpe(t){if(Array.isArray(t))return t}var Zpe=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,u=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,p=t.maxHeight,y=t.children,_=t.debounce,b=_===void 0?0:_,x=t.id,E=t.className,S=t.onResize,T=t.style,N=T===void 0?{}:T,C=j.useRef(null),O=j.useRef();O.current=S,j.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=j.useState({containerWidth:i.width,containerHeight:i.height}),R=Kpe(P,2),M=R[0],V=R[1],$=j.useCallback(function(L,B){V(function(G){var q=Math.round(L),Y=Math.round(B);return G.containerWidth===q&&G.containerHeight===Y?G:{containerWidth:q,containerHeight:Y}})},[]);j.useEffect(function(){var L=function(J){var re,H=J[0].contentRect,X=H.width,te=H.height;$(X,te),(re=O.current)===null||re===void 0||re.call(O,X,te)};b>0&&(L=yq(L,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),G=C.current.getBoundingClientRect(),q=G.width,Y=G.height;return $(q,Y),B.observe(C.current),function(){B.disconnect()}},[$,b]);var D=j.useMemo(function(){var L=M.containerWidth,B=M.containerHeight;if(L<0||B<0)return null;Wa(Ic(o)||Ic(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),Wa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Ic(o)?L:o,q=Ic(u)?B:u;r&&r>0&&(G?q=G/r:q&&(G=q*r),p&&q>p&&(q=p)),Wa(G>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,q,o,u,h,m,r);var Y=!Array.isArray(y)&&Ha(y.type).endsWith("Chart");return K.Children.map(y,function(z){return S9.isElement(z)?j.cloneElement(z,Mv({width:G,height:q},Y?{style:Mv({height:"100%",width:"100%",maxHeight:q,maxWidth:G},z.props.style)}:{})):z})},[r,y,u,p,m,h,M,o]);return K.createElement("div",{id:x?"".concat(x):void 0,className:Tt("recharts-responsive-container",E),style:Mv(Mv({},N),{},{width:o,height:u,minWidth:h,minHeight:m,maxHeight:p}),ref:C},D)}),xq=function(e){return null};xq.displayName="Cell";function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function Y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(r),!0).forEach(function(n){ege(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ege(t,e,r){return e=tge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tge(t){var e=rge(t,"string");return Gm(e)=="symbol"?e:e+""}function rge(t,e){if(Gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nd={widthCache:{},cacheCount:0},nge=2e3,ige={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Q5="recharts_measurement_span";function sge(t){var e=aA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var hm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zf.isSsr)return{width:0,height:0};var n=sge(r),i=JSON.stringify({text:e,copyStyle:n});if(nd.widthCache[i])return nd.widthCache[i];try{var s=document.getElementById(Q5);s||(s=document.createElement("span"),s.setAttribute("id",Q5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=aA(aA({},ige),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return nd.widthCache[i]=u,++nd.cacheCount>nge&&(nd.cacheCount=0,nd.widthCache={}),u}catch{return{width:0,height:0}}},age=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function sx(t,e){return uge(t)||cge(t,e)||lge(t,e)||oge()}function oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lge(t,e){if(t){if(typeof t=="string")return X5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X5(t,e)}}function X5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function uge(t){if(Array.isArray(t))return t}function dge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hge(n.key),n)}}function fge(t,e,r){return e&&J5(t.prototype,e),r&&J5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hge(t){var e=mge(t,"string");return Km(e)=="symbol"?e:e+""}function mge(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vge=Object.keys(bq),md="NaN";function yge(t,e){return t*bq[e]}var Dv=function(){function t(e,r){dge(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!pge.test(r)&&(this.num=NaN,this.unit=""),vge.includes(r)&&(this.num=yge(e,r),this.unit="px")}return fge(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=gge.exec(r))!==null&&n!==void 0?n:[],s=sx(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function wq(t){if(t.includes(md))return md;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Z5.exec(e))!==null&&r!==void 0?r:[],i=sx(n,4),s=i[1],o=i[2],l=i[3],u=Dv.parse(s??""),f=Dv.parse(l??""),h=o==="*"?u.multiply(f):u.divide(f);if(h.isNaN())return md;e=e.replace(Z5,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=eL.exec(e))!==null&&m!==void 0?m:[],y=sx(p,4),_=y[1],b=y[2],x=y[3],E=Dv.parse(_??""),S=Dv.parse(x??""),T=b==="+"?E.add(S):E.subtract(S);if(T.isNaN())return md;e=e.replace(eL,T.toString())}return e}var tL=/\(([^()]*)\)/;function xge(t){for(var e=t;e.includes("(");){var r=tL.exec(e),n=sx(r,2),i=n[1];e=e.replace(tL,wq(i))}return e}function bge(t){var e=t.replace(/\s+/g,"");return e=xge(e),e=wq(e),e}function wge(t){try{return bge(t)}catch{return md}}function qS(t){var e=wge(t.slice(5,-1));return e===md?"":e}var _ge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jge=["dx","dy","angle","className","breakAll"];function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oA.apply(this,arguments)}function rL(t,e){if(t==null)return{};var r=Sge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nL(t,e){return Tge(t)||Age(t,e)||Ege(t,e)||Nge()}function Nge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(t,e){if(t){if(typeof t=="string")return iL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iL(t,e)}}function iL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Age(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Tge(t){if(Array.isArray(t))return t}var _q=/[ \f\n\r\t\v\u2028\u2029]+/,jq=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];St(r)||(n?s=r.toString().split(""):s=r.toString().split(_q));var o=s.map(function(u){return{word:u,width:hm(u,i).width}}),l=n?0:hm(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Cge=function(e,r,n,i,s){var o=e.maxLines,l=e.children,u=e.style,f=e.breakAll,h=Ae(o),m=l,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(q,Y){var z=Y.word,J=Y.width,re=q[q.length-1];if(re&&(i==null||s||re.width+J+n<Number(i)))re.words.push(z),re.width+=J+n;else{var H={words:[z],width:J};q.push(H)}return q},[])},y=p(r),_=function(G){return G.reduce(function(q,Y){return q.width>Y.width?q:Y})};if(!h)return y;for(var b="…",x=function(G){var q=m.slice(0,G),Y=jq({breakAll:f,style:u,children:q+b}).wordsWithComputedWidth,z=p(Y),J=z.length>o||_(z).width>Number(i);return[J,z]},E=0,S=m.length-1,T=0,N;E<=S&&T<=m.length-1;){var C=Math.floor((E+S)/2),O=C-1,P=x(O),R=nL(P,2),M=R[0],V=R[1],$=x(C),D=nL($,1),L=D[0];if(!M&&!L&&(E=C+1),M&&L&&(S=C-1),!M&&L){N=V;break}T++}return N||y},sL=function(e){var r=St(e)?[]:e.toString().split(_q);return[{words:r}]},kge=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!zf.isSsr){var u,f,h=jq({breakAll:o,children:i,style:s});if(h){var m=h.wordsWithComputedWidth,p=h.spaceWidth;u=m,f=p}else return sL(i);return Cge({breakAll:o,children:i,maxLines:l,style:s},u,f,r,n)}return sL(i)},aL="#808080",ax=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,u=e.capHeight,f=u===void 0?"0.71em":u,h=e.scaleToFit,m=h===void 0?!1:h,p=e.textAnchor,y=p===void 0?"start":p,_=e.verticalAnchor,b=_===void 0?"end":_,x=e.fill,E=x===void 0?aL:x,S=rL(e,_ge),T=j.useMemo(function(){return kge({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:m,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,m,S.style,S.width]),N=S.dx,C=S.dy,O=S.angle,P=S.className,R=S.breakAll,M=rL(S,jge);if(!Fr(n)||!Fr(s))return null;var V=n+(Ae(N)?N:0),$=s+(Ae(C)?C:0),D;switch(b){case"start":D=qS("calc(".concat(f,")"));break;case"middle":D=qS("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:D=qS("calc(".concat(T.length-1," * -").concat(l,")"));break}var L=[];if(m){var B=T[0].width,G=S.width;L.push("scale(".concat((Ae(G)?G/B:1)/B,")"))}return O&&L.push("rotate(".concat(O,", ").concat(V,", ").concat($,")")),L.length&&(M.transform=L.join(" ")),K.createElement("text",oA({},vt(M,!0),{x:V,y:$,className:Tt("recharts-text",P),textAnchor:y,fill:E.includes("url")?aL:E}),T.map(function(q,Y){var z=q.words.join(R?"":" ");return K.createElement("tspan",{x:V,dy:Y===0?D:l,key:"".concat(z,"-").concat(Y)},z)}))};function yl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pge(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NC(t){let e,r,n;t.length!==2?(e=yl,r=(l,u)=>yl(t(l),u),n=(l,u)=>t(l)-u):(e=t===yl||t===Pge?t:Ige,r=t,n=t);function i(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const m=f+h>>>1;r(l[m],u)<0?f=m+1:h=m}while(f<h)}return f}function s(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const m=f+h>>>1;r(l[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function o(l,u,f=0,h=l.length){const m=i(l,u,f,h-1);return m>f&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:i,center:o,right:s}}function Ige(){return 0}function Sq(t){return t===null?NaN:+t}function*Rge(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Oge=NC(yl),Kp=Oge.right;NC(Sq).center;class oL extends Map{constructor(e,r=Lge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(lL(this,e))}has(e){return super.has(lL(this,e))}set(e,r){return super.set(Mge(this,e),r)}delete(e){return super.delete(Dge(this,e))}}function lL({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Mge({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Dge({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Lge(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $ge(t=yl){if(t===yl)return Nq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Nq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fge=Math.sqrt(50),Vge=Math.sqrt(10),Bge=Math.sqrt(2);function ox(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Fge?10:s>=Vge?5:s>=Bge?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=r&&r<2?ox(t,e,r*2):[l,u,f]}function lA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?ox(e,t,r):ox(t,e,r);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)u[f]=(s-f)/-o;else for(let f=0;f<l;++f)u[f]=(s-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function cA(t,e,r){return e=+e,t=+t,r=+r,ox(t,e,r)[2]}function uA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?cA(e,t,r):cA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function cL(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uL(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Eq(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Nq:$ge(i);n>r;){if(n-r>600){const u=n-r+1,f=e-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),y=Math.max(r,Math.floor(e-f*m/u+p)),_=Math.min(n,Math.floor(e+(u-f)*m/u+p));Eq(t,e,y,_,i)}const s=t[e];let o=r,l=n;for(Fh(t,r,e),i(t[n],s)>0&&Fh(t,r,n);o<l;){for(Fh(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?Fh(t,r,l):(++l,Fh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Fh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Uge(t,e,r){if(t=Float64Array.from(Rge(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return uL(t);if(e>=1)return cL(t);var n,i=(n-1)*e,s=Math.floor(i),o=cL(Eq(t,s).subarray(0,s+1)),l=uL(t.subarray(s+1));return o+(l-o)*(i-s)}}function zge(t,e,r=Sq){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function qge(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dA=Symbol("implicit");function EC(){var t=new oL,e=[],r=[],n=dA;function i(s){let o=t.get(s);if(o===void 0){if(n!==dA)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new oL;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return EC(e,r).unknown(n)},Hi.apply(i,arguments),i}function Ym(){var t=EC().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,u=0,f=0,h=.5;delete t.unknown;function m(){var p=e().length,y=i<n,_=y?i:n,b=y?n:i;s=(b-_)/Math.max(1,p-u+f*2),l&&(s=Math.floor(s)),_+=(b-_-s*(p-u))*h,o=s*(1-u),l&&(_=Math.round(_),o=Math.round(o));var x=qge(p).map(function(E){return _+s*E});return r(y?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(u=Math.min(1,f=+p),m()):u},t.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),m()):u},t.paddingOuter=function(p){return arguments.length?(f=+p,m()):f},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},t.copy=function(){return Ym(e(),[n,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},Hi.apply(m(),arguments)}function Aq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Aq(e())},t}function mm(){return Aq(Ym.apply(null,arguments).paddingInner(1))}function AC(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Tq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Yp(){}var Qm=.7,lx=1/Qm,kd="\\s*([+-]?\\d+)\\s*",Xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hge=/^#([0-9a-f]{3,8})$/,Wge=new RegExp(`^rgb\\(${kd},${kd},${kd}\\)$`),Gge=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),Kge=new RegExp(`^rgba\\(${kd},${kd},${kd},${Xm}\\)$`),Yge=new RegExp(`^rgba\\(${ea},${ea},${ea},${Xm}\\)$`),Qge=new RegExp(`^hsl\\(${Xm},${ea},${ea}\\)$`),Xge=new RegExp(`^hsla\\(${Xm},${ea},${ea},${Xm}\\)$`),dL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AC(Yp,Jm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fL,formatHex:fL,formatHex8:Jge,formatHsl:Zge,formatRgb:hL,toString:hL});function fL(){return this.rgb().formatHex()}function Jge(){return this.rgb().formatHex8()}function Zge(){return Cq(this).formatHsl()}function hL(){return this.rgb().formatRgb()}function Jm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Hge.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?mL(e):r===3?new Gn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Lv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Lv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wge.exec(t))?new Gn(e[1],e[2],e[3],1):(e=Gge.exec(t))?new Gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kge.exec(t))?Lv(e[1],e[2],e[3],e[4]):(e=Yge.exec(t))?Lv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qge.exec(t))?vL(e[1],e[2]/100,e[3]/100,1):(e=Xge.exec(t))?vL(e[1],e[2]/100,e[3]/100,e[4]):dL.hasOwnProperty(t)?mL(dL[t]):t==="transparent"?new Gn(NaN,NaN,NaN,0):null}function mL(t){return new Gn(t>>16&255,t>>8&255,t&255,1)}function Lv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Gn(t,e,r,n)}function eve(t){return t instanceof Yp||(t=Jm(t)),t?(t=t.rgb(),new Gn(t.r,t.g,t.b,t.opacity)):new Gn}function fA(t,e,r,n){return arguments.length===1?eve(t):new Gn(t,e,r,n??1)}function Gn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}AC(Gn,fA,Tq(Yp,{brighter(t){return t=t==null?lx:Math.pow(lx,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qm:Math.pow(Qm,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gn(Hc(this.r),Hc(this.g),Hc(this.b),cx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pL,formatHex:pL,formatHex8:tve,formatRgb:gL,toString:gL}));function pL(){return`#${Rc(this.r)}${Rc(this.g)}${Rc(this.b)}`}function tve(){return`#${Rc(this.r)}${Rc(this.g)}${Rc(this.b)}${Rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function gL(){const t=cx(this.opacity);return`${t===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${t===1?")":`, ${t})`}`}function cx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rc(t){return t=Hc(t),(t<16?"0":"")+t.toString(16)}function vL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new gs(t,e,r,n)}function Cq(t){if(t instanceof gs)return new gs(t.h,t.s,t.l,t.opacity);if(t instanceof Yp||(t=Jm(t)),!t)return new gs;if(t instanceof gs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new gs(o,l,u,t.opacity)}function rve(t,e,r,n){return arguments.length===1?Cq(t):new gs(t,e,r,n??1)}function gs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}AC(gs,rve,Tq(Yp,{brighter(t){return t=t==null?lx:Math.pow(lx,t),new gs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qm:Math.pow(Qm,t),new gs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Gn(HS(t>=240?t-240:t+120,i,n),HS(t,i,n),HS(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new gs(yL(this.h),$v(this.s),$v(this.l),cx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cx(this.opacity);return`${t===1?"hsl(":"hsla("}${yL(this.h)}, ${$v(this.s)*100}%, ${$v(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yL(t){return t=(t||0)%360,t<0?t+360:t}function $v(t){return Math.max(0,Math.min(1,t||0))}function HS(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const TC=t=>()=>t;function nve(t,e){return function(r){return t+r*e}}function ive(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function sve(t){return(t=+t)==1?kq:function(e,r){return r-e?ive(e,r,t):TC(isNaN(e)?r:e)}}function kq(t,e){var r=e-t;return r?nve(t,r):TC(isNaN(t)?e:t)}const xL=function t(e){var r=sve(e);function n(i,s){var o=r((i=fA(i)).r,(s=fA(s)).r),l=r(i.g,s.g),u=r(i.b,s.b),f=kq(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function ave(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function ove(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lve(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=qf(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function cve(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ux(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function uve(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=qf(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var hA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WS=new RegExp(hA.source,"g");function dve(t){return function(){return t}}function fve(t){return function(e){return t(e)+""}}function hve(t,e){var r=hA.lastIndex=WS.lastIndex=0,n,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(n=hA.exec(t))&&(i=WS.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:ux(n,i)})),r=WS.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?fve(u[0].x):dve(e):(e=u.length,function(f){for(var h=0,m;h<e;++h)l[(m=u[h]).i]=m.x(f);return l.join("")})}function qf(t,e){var r=typeof e,n;return e==null||r==="boolean"?TC(e):(r==="number"?ux:r==="string"?(n=Jm(e))?(e=n,xL):hve:e instanceof Jm?xL:e instanceof Date?cve:ove(e)?ave:Array.isArray(e)?lve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uve:ux)(t,e)}function CC(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function mve(t,e){e===void 0&&(e=t,t=qf);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function pve(t){return function(){return t}}function dx(t){return+t}var bL=[0,1];function In(t){return t}function mA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:pve(isNaN(e)?NaN:.5)}function gve(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function vve(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=mA(i,n),s=r(o,s)):(n=mA(n,i),s=r(s,o)),function(l){return s(n(l))}}function yve(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=mA(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var u=Kp(t,l,1,n)-1;return s[u](i[u](l))}}function Qp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r0(){var t=bL,e=bL,r=qf,n,i,s,o=In,l,u,f;function h(){var p=Math.min(t.length,e.length);return o!==In&&(o=gve(t[0],t[p-1])),l=p>2?yve:vve,u=f=null,m}function m(p){return p==null||isNaN(p=+p)?s:(u||(u=l(t.map(n),e,r)))(n(o(p)))}return m.invert=function(p){return o(i((f||(f=l(e,t.map(n),ux)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,dx),h()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),r=CC,h()},m.clamp=function(p){return arguments.length?(o=p?!0:In,h()):o!==In},m.interpolate=function(p){return arguments.length?(r=p,h()):r},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,y){return n=p,i=y,h()}}function kC(){return r0()(In,In)}function xve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function af(t){return t=fx(Math.abs(t)),t?t[1]:NaN}function bve(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function wve(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _ve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zm(t){if(!(e=_ve.exec(t)))throw new Error("invalid format: "+t);var e;return new PC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zm.prototype=PC.prototype;function PC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jve(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Pq;function Sve(t,e){var r=fx(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Pq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fx(t,Math.max(0,e+s-1))[0]}function wL(t,e){var r=fx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const _L={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wL(t*100,e),r:wL,s:Sve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jL(t){return t}var SL=Array.prototype.map,NL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nve(t){var e=t.grouping===void 0||t.thousands===void 0?jL:bve(SL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?jL:wve(SL.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Zm(m);var p=m.fill,y=m.align,_=m.sign,b=m.symbol,x=m.zero,E=m.width,S=m.comma,T=m.precision,N=m.trim,C=m.type;C==="n"?(S=!0,C="g"):_L[C]||(T===void 0&&(T=12),N=!0,C="g"),(x||p==="0"&&y==="=")&&(x=!0,p="0",y="=");var O=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=b==="$"?n:/[%p]/.test(C)?o:"",R=_L[C],M=/[defgprs%]/.test(C);T=T===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function V($){var D=O,L=P,B,G,q;if(C==="c")L=R($)+L,$="";else{$=+$;var Y=$<0||1/$<0;if($=isNaN($)?u:R(Math.abs($),T),N&&($=jve($)),Y&&+$==0&&_!=="+"&&(Y=!1),D=(Y?_==="("?_:l:_==="-"||_==="("?"":_)+D,L=(C==="s"?NL[8+Pq/3]:"")+L+(Y&&_==="("?")":""),M){for(B=-1,G=$.length;++B<G;)if(q=$.charCodeAt(B),48>q||q>57){L=(q===46?i+$.slice(B+1):$.slice(B))+L,$=$.slice(0,B);break}}}S&&!x&&($=e($,1/0));var z=D.length+$.length+L.length,J=z<E?new Array(E-z+1).join(p):"";switch(S&&x&&($=e(J+$,J.length?E-L.length:1/0),J=""),y){case"<":$=D+$+L+J;break;case"=":$=D+J+$+L;break;case"^":$=J.slice(0,z=J.length>>1)+D+$+L+J.slice(z);break;default:$=J+D+$+L;break}return s($)}return V.toString=function(){return m+""},V}function h(m,p){var y=f((m=Zm(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(af(p)/3)))*3,b=Math.pow(10,-_),x=NL[8+_/3];return function(E){return y(b*E)+x}}return{format:f,formatPrefix:h}}var Fv,IC,Iq;Eve({thousands:",",grouping:[3],currency:["$",""]});function Eve(t){return Fv=Nve(t),IC=Fv.format,Iq=Fv.formatPrefix,Fv}function Ave(t){return Math.max(0,-af(Math.abs(t)))}function Tve(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(af(e)/3)))*3-af(Math.abs(t)))}function Cve(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,af(e)-af(t))+1}function Rq(t,e,r,n){var i=uA(t,e,r),s;switch(n=Zm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Tve(i,o))&&(n.precision=s),Iq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Cve(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Ave(i))&&(n.precision=s-(n.type==="%")*2);break}}return IC(n)}function ql(t){var e=t.domain;return t.ticks=function(r){var n=e();return lA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Rq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=s,s=f);h-- >0;){if(f=cA(o,l,r),f===u)return n[i]=o,n[s]=l,e(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function hx(){var t=kC();return t.copy=function(){return Qp(t,hx())},Hi.apply(t,arguments),ql(t)}function Oq(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,dx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Oq(t).unknown(e)},t=arguments.length?Array.from(t,dx):[0,1],ql(r)}function Mq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function EL(t){return Math.log(t)}function AL(t){return Math.exp(t)}function kve(t){return-Math.log(-t)}function Pve(t){return-Math.exp(-t)}function Ive(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rve(t){return t===10?Ive:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ove(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TL(t){return(e,r)=>-t(-e,r)}function RC(t){const e=t(EL,AL),r=e.domain;let n=10,i,s;function o(){return i=Ove(n),s=Rve(n),r()[0]<0?(i=TL(i),s=TL(s),t(kve,Pve)):t(EL,AL),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const u=r();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let p=i(f),y=i(h),_,b;const x=l==null?10:+l;let E=[];if(!(n%1)&&y-p<x){if(p=Math.floor(p),y=Math.ceil(y),f>0){for(;p<=y;++p)for(_=1;_<n;++_)if(b=p<0?_/s(-p):_*s(p),!(b<f)){if(b>h)break;E.push(b)}}else for(;p<=y;++p)for(_=n-1;_>=1;--_)if(b=p>0?_/s(-p):_*s(p),!(b<f)){if(b>h)break;E.push(b)}E.length*2<x&&(E=lA(f,h,x))}else E=lA(p,y,Math.min(y-p,x)).map(s);return m?E.reverse():E},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Zm(u)).precision==null&&(u.trim=!0),u=IC(u)),l===1/0)return u;const f=Math.max(1,n*l/e.ticks().length);return h=>{let m=h/s(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=f?u(h):""}},e.nice=()=>r(Mq(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function Dq(){const t=RC(r0()).domain([1,10]);return t.copy=()=>Qp(t,Dq()).base(t.base()),Hi.apply(t,arguments),t}function CL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OC(t){var e=1,r=t(CL(e),kL(e));return r.constant=function(n){return arguments.length?t(CL(e=+n),kL(e)):e},ql(r)}function Lq(){var t=OC(r0());return t.copy=function(){return Qp(t,Lq()).constant(t.constant())},Hi.apply(t,arguments)}function PL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mve(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dve(t){return t<0?-t*t:t*t}function MC(t){var e=t(In,In),r=1;function n(){return r===1?t(In,In):r===.5?t(Mve,Dve):t(PL(r),PL(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ql(e)}function DC(){var t=MC(r0());return t.copy=function(){return Qp(t,DC()).exponent(t.exponent())},Hi.apply(t,arguments),t}function Lve(){return DC.apply(null,arguments).exponent(.5)}function IL(t){return Math.sign(t)*t*t}function $ve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $q(){var t=kC(),e=[0,1],r=!1,n;function i(s){var o=$ve(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(IL(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,dx)).map(IL)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $q(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Hi.apply(i,arguments),ql(i)}function Fq(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=zge(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[Kp(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(yl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Fq().domain(t).range(e).unknown(n)},Hi.apply(s,arguments)}function Vq(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[Kp(n,u,0,r)]:s}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Vq().domain([t,e]).range(i).unknown(s)},Hi.apply(ql(o),arguments)}function Bq(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Kp(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Bq().domain(t).range(e).unknown(r)},Hi.apply(i,arguments)}const GS=new Date,KS=new Date;function zr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;let f;do u.push(f=new Date(+s)),e(s,l),t(s);while(f<s&&s<o);return u},i.filter=s=>zr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(GS.setTime(+s),KS.setTime(+o),t(GS),t(KS),Math.floor(r(GS,KS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const mx=zr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mx);mx.range;const La=1e3,Vi=La*60,$a=Vi*60,no=$a*24,LC=no*7,RL=no*30,YS=no*365,Oc=zr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCSeconds());Oc.range;const $C=zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getMinutes());$C.range;const FC=zr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCMinutes());FC.range;const VC=zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La-t.getMinutes()*Vi)},(t,e)=>{t.setTime(+t+e*$a)},(t,e)=>(e-t)/$a,t=>t.getHours());VC.range;const BC=zr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$a)},(t,e)=>(e-t)/$a,t=>t.getUTCHours());BC.range;const Xp=zr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vi)/no,t=>t.getDate()-1);Xp.range;const n0=zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/no,t=>t.getUTCDate()-1);n0.range;const Uq=zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/no,t=>Math.floor(t/no));Uq.range;function mu(t){return zr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vi)/LC)}const i0=mu(0),px=mu(1),Fve=mu(2),Vve=mu(3),of=mu(4),Bve=mu(5),Uve=mu(6);i0.range;px.range;Fve.range;Vve.range;of.range;Bve.range;Uve.range;function pu(t){return zr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/LC)}const s0=pu(0),gx=pu(1),zve=pu(2),qve=pu(3),lf=pu(4),Hve=pu(5),Wve=pu(6);s0.range;gx.range;zve.range;qve.range;lf.range;Hve.range;Wve.range;const UC=zr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UC.range;const zC=zr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zC.range;const io=zr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});io.range;const so=zr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});so.range;function zq(t,e,r,n,i,s){const o=[[Oc,1,La],[Oc,5,5*La],[Oc,15,15*La],[Oc,30,30*La],[s,1,Vi],[s,5,5*Vi],[s,15,15*Vi],[s,30,30*Vi],[i,1,$a],[i,3,3*$a],[i,6,6*$a],[i,12,12*$a],[n,1,no],[n,2,2*no],[r,1,LC],[e,1,RL],[e,3,3*RL],[t,1,YS]];function l(f,h,m){const p=h<f;p&&([f,h]=[h,f]);const y=m&&typeof m.range=="function"?m:u(f,h,m),_=y?y.range(f,+h+1):[];return p?_.reverse():_}function u(f,h,m){const p=Math.abs(h-f)/m,y=NC(([,,x])=>x).right(o,p);if(y===o.length)return t.every(uA(f/YS,h/YS,m));if(y===0)return mx.every(Math.max(uA(f,h,m),1));const[_,b]=o[p/o[y-1][2]<o[y][2]/p?y-1:y];return _.every(b)}return[l,u]}const[Gve,Kve]=zq(so,zC,s0,Uq,BC,FC),[Yve,Qve]=zq(io,UC,i0,Xp,VC,$C);function QS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function XS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Xve(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,f=Bh(i),h=Uh(i),m=Bh(s),p=Uh(s),y=Bh(o),_=Uh(o),b=Bh(l),x=Uh(l),E=Bh(u),S=Uh(u),T={a:Y,A:z,b:J,B:re,c:null,d:FL,e:FL,f:bye,g:kye,G:Iye,H:vye,I:yye,j:xye,L:qq,m:wye,M:_ye,p:H,q:X,Q:UL,s:zL,S:jye,u:Sye,U:Nye,V:Eye,w:Aye,W:Tye,x:null,X:null,y:Cye,Y:Pye,Z:Rye,"%":BL},N={a:te,A:ee,b:me,B:ge,c:null,d:VL,e:VL,f:Lye,g:Gye,G:Yye,H:Oye,I:Mye,j:Dye,L:Wq,m:$ye,M:Fye,p:ue,q:ve,Q:UL,s:zL,S:Vye,u:Bye,U:Uye,V:zye,w:qye,W:Hye,x:null,X:null,y:Wye,Y:Kye,Z:Qye,"%":BL},C={a:V,A:$,b:D,B:L,c:B,d:LL,e:LL,f:hye,g:DL,G:ML,H:$L,I:$L,j:cye,L:fye,m:lye,M:uye,p:M,q:oye,Q:pye,s:gye,S:dye,u:rye,U:nye,V:iye,w:tye,W:sye,x:G,X:q,y:DL,Y:ML,Z:aye,"%":mye};T.x=O(r,T),T.X=O(n,T),T.c=O(e,T),N.x=O(r,N),N.X=O(n,N),N.c=O(e,N);function O(de,he){return function(Ne){var le=[],qe=-1,Re=0,ze=de.length,at,Bt,Ar;for(Ne instanceof Date||(Ne=new Date(+Ne));++qe<ze;)de.charCodeAt(qe)===37&&(le.push(de.slice(Re,qe)),(Bt=OL[at=de.charAt(++qe)])!=null?at=de.charAt(++qe):Bt=at==="e"?" ":"0",(Ar=he[at])&&(at=Ar(Ne,Bt)),le.push(at),Re=qe+1);return le.push(de.slice(Re,qe)),le.join("")}}function P(de,he){return function(Ne){var le=Vh(1900,void 0,1),qe=R(le,de,Ne+="",0),Re,ze;if(qe!=Ne.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(he&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Re=XS(Vh(le.y,0,1)),ze=Re.getUTCDay(),Re=ze>4||ze===0?gx.ceil(Re):gx(Re),Re=n0.offset(Re,(le.V-1)*7),le.y=Re.getUTCFullYear(),le.m=Re.getUTCMonth(),le.d=Re.getUTCDate()+(le.w+6)%7):(Re=QS(Vh(le.y,0,1)),ze=Re.getDay(),Re=ze>4||ze===0?px.ceil(Re):px(Re),Re=Xp.offset(Re,(le.V-1)*7),le.y=Re.getFullYear(),le.m=Re.getMonth(),le.d=Re.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),ze="Z"in le?XS(Vh(le.y,0,1)).getUTCDay():QS(Vh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(ze+5)%7:le.w+le.U*7-(ze+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,XS(le)):QS(le)}}function R(de,he,Ne,le){for(var qe=0,Re=he.length,ze=Ne.length,at,Bt;qe<Re;){if(le>=ze)return-1;if(at=he.charCodeAt(qe++),at===37){if(at=he.charAt(qe++),Bt=C[at in OL?he.charAt(qe++):at],!Bt||(le=Bt(de,Ne,le))<0)return-1}else if(at!=Ne.charCodeAt(le++))return-1}return le}function M(de,he,Ne){var le=f.exec(he.slice(Ne));return le?(de.p=h.get(le[0].toLowerCase()),Ne+le[0].length):-1}function V(de,he,Ne){var le=y.exec(he.slice(Ne));return le?(de.w=_.get(le[0].toLowerCase()),Ne+le[0].length):-1}function $(de,he,Ne){var le=m.exec(he.slice(Ne));return le?(de.w=p.get(le[0].toLowerCase()),Ne+le[0].length):-1}function D(de,he,Ne){var le=E.exec(he.slice(Ne));return le?(de.m=S.get(le[0].toLowerCase()),Ne+le[0].length):-1}function L(de,he,Ne){var le=b.exec(he.slice(Ne));return le?(de.m=x.get(le[0].toLowerCase()),Ne+le[0].length):-1}function B(de,he,Ne){return R(de,e,he,Ne)}function G(de,he,Ne){return R(de,r,he,Ne)}function q(de,he,Ne){return R(de,n,he,Ne)}function Y(de){return o[de.getDay()]}function z(de){return s[de.getDay()]}function J(de){return u[de.getMonth()]}function re(de){return l[de.getMonth()]}function H(de){return i[+(de.getHours()>=12)]}function X(de){return 1+~~(de.getMonth()/3)}function te(de){return o[de.getUTCDay()]}function ee(de){return s[de.getUTCDay()]}function me(de){return u[de.getUTCMonth()]}function ge(de){return l[de.getUTCMonth()]}function ue(de){return i[+(de.getUTCHours()>=12)]}function ve(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var he=O(de+="",T);return he.toString=function(){return de},he},parse:function(de){var he=P(de+="",!1);return he.toString=function(){return de},he},utcFormat:function(de){var he=O(de+="",N);return he.toString=function(){return de},he},utcParse:function(de){var he=P(de+="",!0);return he.toString=function(){return de},he}}}var OL={"-":"",_:" ",0:"0"},Xr=/^\s*\d+/,Jve=/^%/,Zve=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function eye(t){return t.replace(Zve,"\\$&")}function Bh(t){return new RegExp("^(?:"+t.map(eye).join("|")+")","i")}function Uh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tye(t,e,r){var n=Xr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rye(t,e,r){var n=Xr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nye(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iye(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function sye(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function ML(t,e,r){var n=Xr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function DL(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aye(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oye(t,e,r){var n=Xr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lye(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function LL(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function cye(t,e,r){var n=Xr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function $L(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function uye(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dye(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function fye(t,e,r){var n=Xr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hye(t,e,r){var n=Xr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mye(t,e,r){var n=Jve.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pye(t,e,r){var n=Xr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gye(t,e,r){var n=Xr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function FL(t,e){return Ot(t.getDate(),e,2)}function vye(t,e){return Ot(t.getHours(),e,2)}function yye(t,e){return Ot(t.getHours()%12||12,e,2)}function xye(t,e){return Ot(1+Xp.count(io(t),t),e,3)}function qq(t,e){return Ot(t.getMilliseconds(),e,3)}function bye(t,e){return qq(t,e)+"000"}function wye(t,e){return Ot(t.getMonth()+1,e,2)}function _ye(t,e){return Ot(t.getMinutes(),e,2)}function jye(t,e){return Ot(t.getSeconds(),e,2)}function Sye(t){var e=t.getDay();return e===0?7:e}function Nye(t,e){return Ot(i0.count(io(t)-1,t),e,2)}function Hq(t){var e=t.getDay();return e>=4||e===0?of(t):of.ceil(t)}function Eye(t,e){return t=Hq(t),Ot(of.count(io(t),t)+(io(t).getDay()===4),e,2)}function Aye(t){return t.getDay()}function Tye(t,e){return Ot(px.count(io(t)-1,t),e,2)}function Cye(t,e){return Ot(t.getFullYear()%100,e,2)}function kye(t,e){return t=Hq(t),Ot(t.getFullYear()%100,e,2)}function Pye(t,e){return Ot(t.getFullYear()%1e4,e,4)}function Iye(t,e){var r=t.getDay();return t=r>=4||r===0?of(t):of.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function Rye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function VL(t,e){return Ot(t.getUTCDate(),e,2)}function Oye(t,e){return Ot(t.getUTCHours(),e,2)}function Mye(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function Dye(t,e){return Ot(1+n0.count(so(t),t),e,3)}function Wq(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function Lye(t,e){return Wq(t,e)+"000"}function $ye(t,e){return Ot(t.getUTCMonth()+1,e,2)}function Fye(t,e){return Ot(t.getUTCMinutes(),e,2)}function Vye(t,e){return Ot(t.getUTCSeconds(),e,2)}function Bye(t){var e=t.getUTCDay();return e===0?7:e}function Uye(t,e){return Ot(s0.count(so(t)-1,t),e,2)}function Gq(t){var e=t.getUTCDay();return e>=4||e===0?lf(t):lf.ceil(t)}function zye(t,e){return t=Gq(t),Ot(lf.count(so(t),t)+(so(t).getUTCDay()===4),e,2)}function qye(t){return t.getUTCDay()}function Hye(t,e){return Ot(gx.count(so(t)-1,t),e,2)}function Wye(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function Gye(t,e){return t=Gq(t),Ot(t.getUTCFullYear()%100,e,2)}function Kye(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function Yye(t,e){var r=t.getUTCDay();return t=r>=4||r===0?lf(t):lf.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function Qye(){return"+0000"}function BL(){return"%"}function UL(t){return+t}function zL(t){return Math.floor(+t/1e3)}var id,Kq,Yq;Xye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xye(t){return id=Xve(t),Kq=id.format,id.parse,Yq=id.utcFormat,id.utcParse,id}function Jye(t){return new Date(t)}function Zye(t){return t instanceof Date?+t:+new Date(+t)}function qC(t,e,r,n,i,s,o,l,u,f){var h=kC(),m=h.invert,p=h.domain,y=f(".%L"),_=f(":%S"),b=f("%I:%M"),x=f("%I %p"),E=f("%a %d"),S=f("%b %d"),T=f("%B"),N=f("%Y");function C(O){return(u(O)<O?y:l(O)<O?_:o(O)<O?b:s(O)<O?x:n(O)<O?i(O)<O?E:S:r(O)<O?T:N)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?p(Array.from(O,Zye)):p().map(Jye)},h.ticks=function(O){var P=p();return t(P[0],P[P.length-1],O??10)},h.tickFormat=function(O,P){return P==null?C:f(P)},h.nice=function(O){var P=p();return(!O||typeof O.range!="function")&&(O=e(P[0],P[P.length-1],O??10)),O?p(Mq(P,O)):h},h.copy=function(){return Qp(h,qC(t,e,r,n,i,s,o,l,u,f))},h}function exe(){return Hi.apply(qC(Yve,Qve,io,UC,i0,Xp,VC,$C,Oc,Kq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function txe(){return Hi.apply(qC(Gve,Kve,so,zC,s0,n0,BC,FC,Oc,Yq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function a0(){var t=0,e=1,r,n,i,s,o=In,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:o(i===0?.5:(m=(s(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(o=m,f):o};function h(m){return function(p){var y,_;return arguments.length?([y,_]=p,o=m(y,_),f):[o(0),o(1)]}}return f.range=h(qf),f.rangeRound=h(CC),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return s=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function Hl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qq(){var t=ql(a0()(In));return t.copy=function(){return Hl(t,Qq())},po.apply(t,arguments)}function Xq(){var t=RC(a0()).domain([1,10]);return t.copy=function(){return Hl(t,Xq()).base(t.base())},po.apply(t,arguments)}function Jq(){var t=OC(a0());return t.copy=function(){return Hl(t,Jq()).constant(t.constant())},po.apply(t,arguments)}function HC(){var t=MC(a0());return t.copy=function(){return Hl(t,HC()).exponent(t.exponent())},po.apply(t,arguments)}function rxe(){return HC.apply(null,arguments).exponent(.5)}function Zq(){var t=[],e=In;function r(n){if(n!=null&&!isNaN(n=+n))return e((Kp(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(yl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Uge(t,s/n))},r.copy=function(){return Zq(e).domain(t)},po.apply(r,arguments)}function o0(){var t=0,e=.5,r=1,n=1,i,s,o,l,u,f=In,h,m=!1,p;function y(b){return isNaN(b=+b)?p:(b=.5+((b=+h(b))-s)*(n*b<n*s?l:u),f(m?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,r]=b,i=h(t=+t),s=h(e=+e),o=h(r=+r),l=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),n=s<i?-1:1,y):[t,e,r]},y.clamp=function(b){return arguments.length?(m=!!b,y):m},y.interpolator=function(b){return arguments.length?(f=b,y):f};function _(b){return function(x){var E,S,T;return arguments.length?([E,S,T]=x,f=mve(b,[E,S,T]),y):[f(0),f(.5),f(1)]}}return y.range=_(qf),y.rangeRound=_(CC),y.unknown=function(b){return arguments.length?(p=b,y):p},function(b){return h=b,i=b(t),s=b(e),o=b(r),l=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),n=s<i?-1:1,y}}function e7(){var t=ql(o0()(In));return t.copy=function(){return Hl(t,e7())},po.apply(t,arguments)}function t7(){var t=RC(o0()).domain([.1,1,10]);return t.copy=function(){return Hl(t,t7()).base(t.base())},po.apply(t,arguments)}function r7(){var t=OC(o0());return t.copy=function(){return Hl(t,r7()).constant(t.constant())},po.apply(t,arguments)}function WC(){var t=MC(o0());return t.copy=function(){return Hl(t,WC()).exponent(t.exponent())},po.apply(t,arguments)}function nxe(){return WC.apply(null,arguments).exponent(.5)}const qL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ym,scaleDiverging:e7,scaleDivergingLog:t7,scaleDivergingPow:WC,scaleDivergingSqrt:nxe,scaleDivergingSymlog:r7,scaleIdentity:Oq,scaleImplicit:dA,scaleLinear:hx,scaleLog:Dq,scaleOrdinal:EC,scalePoint:mm,scalePow:DC,scaleQuantile:Fq,scaleQuantize:Vq,scaleRadial:$q,scaleSequential:Qq,scaleSequentialLog:Xq,scaleSequentialPow:HC,scaleSequentialQuantile:Zq,scaleSequentialSqrt:rxe,scaleSequentialSymlog:Jq,scaleSqrt:Lve,scaleSymlog:Lq,scaleThreshold:Bq,scaleTime:exe,scaleUtc:txe,tickFormat:Rq},Symbol.toStringTag,{value:"Module"}));var JS,HL;function n7(){if(HL)return JS;HL=1;var t=Ff();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],u=n(l);if(u!=null&&(f===void 0?u===u&&!t(u):i(u,f)))var f=u,h=l}return h}return JS=e,JS}var ZS,WL;function ixe(){if(WL)return ZS;WL=1;function t(e,r){return e>r}return ZS=t,ZS}var eN,GL;function sxe(){if(GL)return eN;GL=1;var t=n7(),e=ixe(),r=Uf();function n(i){return i&&i.length?t(i,r,e):void 0}return eN=n,eN}var axe=sxe();const ul=Gt(axe);var tN,KL;function oxe(){if(KL)return tN;KL=1;function t(e,r){return e<r}return tN=t,tN}var rN,YL;function lxe(){if(YL)return rN;YL=1;var t=n7(),e=oxe(),r=Uf();function n(i){return i&&i.length?t(i,r,e):void 0}return rN=n,rN}var cxe=lxe();const l0=Gt(cxe);var nN,QL;function uxe(){if(QL)return nN;QL=1;var t=lC(),e=zl(),r=dq(),n=Zn();function i(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return nN=i,nN}var iN,XL;function dxe(){if(XL)return iN;XL=1;var t=cq(),e=uxe();function r(n,i){return t(e(n,i),1)}return iN=r,iN}var fxe=dxe();const hxe=Gt(fxe);var sN,JL;function mxe(){if(JL)return sN;JL=1;var t=wC();function e(r,n){return t(r,n)}return sN=e,sN}var pxe=mxe();const ep=Gt(pxe);var Hf=1e9,gxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KC,cr=!0,qi="[DecimalError] ",Wc=qi+"Invalid argument: ",GC=qi+"Exponent out of range: ",Wf=Math.floor,Ec=Math.pow,vxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,Yr=1e7,nr=7,i7=9007199254740991,vx=Wf(i7/nr),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*nr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(t){return Ga(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,r=e.constructor;return Yt(Ga(e,new r(t),0,1),r.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return Or(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hi))throw Error(qi+"NaN");if(r.s<1)throw Error(qi+(r.s?"NaN":"-Infinity"));return r.eq(hi)?new n(0):(cr=!1,e=Ga(tp(r,s),tp(t,s),s),cr=!0,Yt(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?o7(e,t):s7(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(qi+"NaN");return r.s?(cr=!1,e=Ga(r,t,0,1).times(t),cr=!0,r.minus(e)):Yt(new n(r),i)};De.naturalExponential=De.exp=function(){return a7(this)};De.naturalLogarithm=De.ln=function(){return tp(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s7(e,t):o7(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wc+t);if(e=Or(i)+1,n=i.d.length-1,r=n*nr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};De.squareRoot=De.sqrt=function(){var t,e,r,n,i,s,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(qi+"NaN")}for(t=Or(l),cr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ys(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(s=n,n=s.plus(Ga(l,s,o+2)).times(.5),Ys(s.d).slice(0,o)===(e=Ys(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Yt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return cr=!0,Yt(n,r)};De.times=De.mul=function(t){var e,r,n,i,s,o,l,u,f,h=this,m=h.constructor,p=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,u=p.length,f=y.length,u<f&&(s=p,p=y,y=s,o=u,u=f,f=o),s=[],o=u+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(e=0,i=u+n;i>n;)l=s[i]+y[n]*p[i-n-1]+e,s[i--]=l%Yr|0,e=l/Yr|0;s[i]=(s[i]+e)%Yr|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,cr?Yt(t,m.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(sa(t,0,Hf),e===void 0?e=n.rounding:sa(e,0,8),Yt(r,t+Or(r)+1,e))};De.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=iu(n,!0):(sa(t,0,Hf),e===void 0?e=i.rounding:sa(e,0,8),n=Yt(new i(n),t+1,e),r=iu(n,!0,t+1)),r};De.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?iu(i):(sa(t,0,Hf),e===void 0?e=s.rounding:sa(e,0,8),n=Yt(new s(i),t+Or(i)+1,e),r=iu(n.abs(),!1,t+Or(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Yt(new e(t),Or(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,r,n,i,s,o,l=this,u=l.constructor,f=12,h=+(t=new u(t));if(!t.s)return new u(hi);if(l=new u(l),!l.s){if(t.s<1)throw Error(qi+"Infinity");return l}if(l.eq(hi))return l;if(n=u.precision,t.eq(hi))return Yt(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=h<0?-h:h)<=i7){for(i=new u(hi),e=Math.ceil(n/nr+4),cr=!1;r%2&&(i=i.times(l),e3(i.d,e)),r=Wf(r/2),r!==0;)l=l.times(l),e3(l.d,e);return cr=!0,t.s<0?new u(hi).div(i):Yt(i,n)}}else if(s<0)throw Error(qi+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,cr=!1,i=t.times(tp(l,n+f)),cr=!0,i=a7(i),i.s=s,i};De.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Or(i),n=iu(i,r<=s.toExpNeg||r>=s.toExpPos)):(sa(t,1,Hf),e===void 0?e=s.rounding:sa(e,0,8),i=Yt(new s(i),t,e),r=Or(i),n=iu(i,t<=r||r<=s.toExpNeg,t)),n};De.toSignificantDigits=De.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(sa(t,1,Hf),e===void 0?e=n.rounding:sa(e,0,8)),Yt(new n(r),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Or(t),r=t.constructor;return iu(t,e<=r.toExpNeg||e>=r.toExpPos)};function s7(t,e){var r,n,i,s,o,l,u,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),cr?Yt(e,m):e;if(u=t.d,f=e.d,o=t.e,i=e.e,u=u.slice(),s=o-i,s){for(s<0?(n=u,s=-s,l=f.length):(n=f,i=o,l=u.length),o=Math.ceil(m/nr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=u.length,s=f.length,l-s<0&&(s=l,n=f,f=u,u=n),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/Yr|0,u[s]%=Yr;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,cr?Yt(e,m):e}function sa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Wc+t)}function Ys(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=nr-n.length,r&&(s+=Yo(r)),s+=n;o=t[e],n=o+"",r=nr-n.length,r&&(s+=Yo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ga=function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Yr|0,o=s/Yr|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,u;if(s!=o)u=s>o?1:-1;else for(l=u=0;l<s;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Yr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,u,f,h,m,p,y,_,b,x,E,S,T,N,C,O,P,R,M=n.constructor,V=n.s==i.s?1:-1,$=n.d,D=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(qi+"Division by zero");for(u=n.e-i.e,P=D.length,C=$.length,y=new M(V),_=y.d=[],f=0;D[f]==($[f]||0);)++f;if(D[f]>($[f]||0)&&--u,s==null?S=s=M.precision:o?S=s+(Or(n)-Or(i))+1:S=s,S<0)return new M(0);if(S=S/nr+2|0,f=0,P==1)for(h=0,D=D[0],S++;(f<C||h)&&S--;f++)T=h*Yr+($[f]||0),_[f]=T/D|0,h=T%D|0;else{for(h=Yr/(D[0]+1)|0,h>1&&(D=t(D,h),$=t($,h),P=D.length,C=$.length),N=P,b=$.slice(0,P),x=b.length;x<P;)b[x++]=0;R=D.slice(),R.unshift(0),O=D[0],D[1]>=Yr/2&&++O;do h=0,l=e(D,b,P,x),l<0?(E=b[0],P!=x&&(E=E*Yr+(b[1]||0)),h=E/O|0,h>1?(h>=Yr&&(h=Yr-1),m=t(D,h),p=m.length,x=b.length,l=e(m,b,p,x),l==1&&(h--,r(m,P<p?R:D,p))):(h==0&&(l=h=1),m=D.slice()),p=m.length,p<x&&m.unshift(0),r(b,m,x),l==-1&&(x=b.length,l=e(D,b,P,x),l<1&&(h++,r(b,P<x?R:D,x))),x=b.length):l===0&&(h++,b=[0]),_[f++]=h,l&&b[0]?b[x++]=$[N]||0:(b=[$[N]],x=1);while((N++<C||b[0]!==void 0)&&S--)}return _[0]||_.shift(),y.e=u,Yt(y,o?s+Or(y)+1:s)}}();function a7(t,e){var r,n,i,s,o,l,u=0,f=0,h=t.constructor,m=h.precision;if(Or(t)>16)throw Error(GC+Or(t));if(!t.s)return new h(hi);for(cr=!1,l=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(Ec(2,f))/Math.LN10*2+5|0,l+=n,r=i=s=new h(hi),h.precision=l;;){if(i=Yt(i.times(t),l),r=r.times(++u),o=s.plus(Ga(i,r,l)),Ys(o.d).slice(0,l)===Ys(s.d).slice(0,l)){for(;f--;)s=Yt(s.times(s),l);return h.precision=m,e==null?(cr=!0,Yt(s,m)):s}s=o}}function Or(t){for(var e=t.e*nr,r=t.d[0];r>=10;r/=10)e++;return e}function aN(t,e,r){if(e>t.LN10.sd())throw cr=!0,r&&(t.precision=r),Error(qi+"LN10 precision limit exceeded");return Yt(new t(t.LN10),e)}function Yo(t){for(var e="";t--;)e+="0";return e}function tp(t,e){var r,n,i,s,o,l,u,f,h,m=1,p=10,y=t,_=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(qi+(y.s?"NaN":"-Infinity"));if(y.eq(hi))return new b(0);if(e==null?(cr=!1,f=x):f=e,y.eq(10))return e==null&&(cr=!0),aN(b,f);if(f+=p,b.precision=f,r=Ys(_),n=r.charAt(0),s=Or(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=Ys(y.d),n=r.charAt(0),m++;s=Or(y),n>1?(y=new b("0."+r),s++):y=new b(n+"."+r.slice(1))}else return u=aN(b,f+2,x).times(s+""),y=tp(new b(n+"."+r.slice(1)),f-p).plus(u),b.precision=x,e==null?(cr=!0,Yt(y,x)):y;for(l=o=y=Ga(y.minus(hi),y.plus(hi),f),h=Yt(y.times(y),f),i=3;;){if(o=Yt(o.times(h),f),u=l.plus(Ga(o,new b(i),f)),Ys(u.d).slice(0,f)===Ys(l.d).slice(0,f))return l=l.times(2),s!==0&&(l=l.plus(aN(b,f+2,x).times(s+""))),l=Ga(l,new b(m),f),b.precision=x,e==null?(cr=!0,Yt(l,x)):l;l=u,i+=2}}function ZL(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Wf(r/nr),t.d=[],n=(r+1)%nr,r<0&&(n+=nr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=nr;n<i;)t.d.push(+e.slice(n,n+=nr));e=e.slice(n),n=nr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),cr&&(t.e>vx||t.e<-vx))throw Error(GC+r)}else t.s=0,t.e=0,t.d=[0];return t}function Yt(t,e,r){var n,i,s,o,l,u,f,h,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=nr,i=e,f=m[h=0];else{if(h=Math.ceil((n+1)/nr),s=m.length,h>=s)return t;for(f=s=m[h],o=1;s>=10;s/=10)o++;n%=nr,i=n-nr+o}if(r!==void 0&&(s=Ec(10,o-i-1),l=f/s%10|0,u=e<0||m[h+1]!==void 0||f%s,u=r<4?(l||u)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?f/Ec(10,o-i):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return u?(s=Or(t),m.length=1,e=e-s-1,m[0]=Ec(10,(nr-e%nr)%nr),t.e=Wf(-e/nr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,s=1,h--):(m.length=h+1,s=Ec(10,nr-n),m[h]=i>0?(f/Ec(10,o-i)%Ec(10,i)|0)*s:0),u)for(;;)if(h==0){(m[0]+=s)==Yr&&(m[0]=1,++t.e);break}else{if(m[h]+=s,m[h]!=Yr)break;m[h--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(cr&&(t.e>vx||t.e<-vx))throw Error(GC+Or(t));return t}function o7(t,e){var r,n,i,s,o,l,u,f,h,m,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),cr?Yt(e,y):e;if(u=t.d,m=e.d,n=e.e,f=t.e,u=u.slice(),o=f-n,o){for(h=o<0,h?(r=u,o=-o,l=m.length):(r=m,n=f,l=u.length),i=Math.max(Math.ceil(y/nr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=m[i]){h=u[i]<m[i];break}o=0}for(h&&(r=u,u=m,m=r,e.s=-e.s),l=u.length,i=m.length-l;i>0;--i)u[l++]=0;for(i=m.length;i>o;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=Yr-1;--u[s],u[i]+=Yr}u[i]-=m[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,cr?Yt(e,y):e):new p(0)}function iu(t,e,r){var n,i=Or(t),s=Ys(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Yo(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Yo(-i-1)+s,r&&(n=r-o)>0&&(s+=Yo(n))):i>=o?(s+=Yo(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Yo(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Yo(n))),t.s<0?"-"+s:s}function e3(t,e){if(t.length>e)return t.length=e,!0}function l7(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Wc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return ZL(o,s.toString())}else if(typeof s!="string")throw Error(Wc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,vxe.test(s))ZL(o,s);else throw Error(Wc+s)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=l7,i.config=i.set=yxe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function yxe(t){if(!t||typeof t!="object")throw Error(qi+"Object expected");var e,r,n,i=["precision",1,Hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Wf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Wc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wc+r+": "+n);return this}var KC=l7(gxe);hi=new KC(1);const Ht=KC;function xxe(t){return jxe(t)||_xe(t)||wxe(t)||bxe()}function bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wxe(t,e){if(t){if(typeof t=="string")return pA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(t,e)}}function _xe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jxe(t){if(Array.isArray(t))return pA(t)}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Sxe=function(e){return e},c7={},u7=function(e){return e===c7},t3=function(e){return function r(){return arguments.length===0||arguments.length===1&&u7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Nxe=function t(e,r){return e===1?r:t3(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==c7}).length;return o>=e?r.apply(void 0,i):t(e-o,t3(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=i.map(function(m){return u7(m)?u.shift():m});return r.apply(void 0,xxe(h).concat(u))}))})},c0=function(e){return Nxe(e.length,e)},gA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Exe=c0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Axe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Sxe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},vA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},d7=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,u){return l===r[u]})||(r=s,n=e.apply(void 0,s)),n}};function Txe(t){var e;return t===0?e=1:e=Math.floor(new Ht(t).abs().log(10).toNumber())+1,e}function Cxe(t,e,r){for(var n=new Ht(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var kxe=c0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Pxe=c0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Ixe=c0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const u0={rangeStep:Cxe,getDigitCount:Txe,interpolateNumber:kxe,uninterpolateNumber:Pxe,uninterpolateTruncation:Ixe};function yA(t){return Mxe(t)||Oxe(t)||f7(t)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mxe(t){if(Array.isArray(t))return xA(t)}function rp(t,e){return $xe(t)||Lxe(t,e)||f7(t,e)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f7(t,e){if(t){if(typeof t=="string")return xA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(t,e)}}function xA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,s=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function $xe(t){if(Array.isArray(t))return t}function h7(t){var e=rp(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function m7(t,e,r){if(t.lte(0))return new Ht(0);var n=u0.getDigitCount(t.toNumber()),i=new Ht(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new Ht(Math.ceil(s.div(o).toNumber())).add(r).mul(o),u=l.mul(i);return e?u:new Ht(Math.ceil(u))}function Fxe(t,e,r){var n=1,i=new Ht(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Ht(10).pow(u0.getDigitCount(t)-1),i=new Ht(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Ht(Math.floor(t)))}else t===0?i=new Ht(Math.floor((e-1)/2)):r||(i=new Ht(Math.floor(t)));var o=Math.floor((e-1)/2),l=Axe(Exe(function(u){return i.add(new Ht(u-o).mul(n)).toNumber()}),gA);return l(0,e)}function p7(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var s=m7(new Ht(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ht(0):(o=new Ht(t).add(e).div(2),o=o.sub(new Ht(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Ht(e).sub(o).div(s).toNumber()),f=l+u+1;return f>r?p7(t,e,r,n,i+1):(f<r&&(u=e>0?u+(r-f):u,l=e>0?l:l+(r-f)),{step:s,tickMin:o.sub(new Ht(l).mul(s)),tickMax:o.add(new Ht(u).mul(s))})}function Vxe(t){var e=rp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=h7([r,n]),u=rp(l,2),f=u[0],h=u[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(yA(gA(0,i-1).map(function(){return 1/0}))):[].concat(yA(gA(0,i-1).map(function(){return-1/0})),[h]);return r>n?vA(m):m}if(f===h)return Fxe(f,i,s);var p=p7(f,h,o,s),y=p.step,_=p.tickMin,b=p.tickMax,x=u0.rangeStep(_,b.add(new Ht(.1).mul(y)),y);return r>n?vA(x):x}function Bxe(t,e){var r=rp(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=h7([n,i]),l=rp(o,2),u=l[0],f=l[1];if(u===-1/0||f===1/0)return[n,i];if(u===f)return[u];var h=Math.max(e,2),m=m7(new Ht(f).sub(u).div(h-1),s,0),p=[].concat(yA(u0.rangeStep(new Ht(u),new Ht(f).sub(new Ht(.99).mul(m)),m)),[f]);return n>i?vA(p):p}var Uxe=d7(Vxe),zxe=d7(Bxe),qxe="Invariant failed";function su(t,e){throw new Error(qxe)}var Hxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yx.apply(this,arguments)}function Wxe(t,e){return Qxe(t)||Yxe(t,e)||Kxe(t,e)||Gxe()}function Gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(t,e){if(t){if(typeof t=="string")return r3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r3(t,e)}}function r3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Qxe(t){if(Array.isArray(t))return t}function Xxe(t,e){if(t==null)return{};var r=Jxe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ebe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y7(n.key),n)}}function tbe(t,e,r){return e&&ebe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rbe(t,e,r){return e=xx(e),nbe(t,g7()?Reflect.construct(e,r||[],xx(t).constructor):e.apply(t,r))}function nbe(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(t)}function ibe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g7=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}function sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bA(t,e)}function bA(t,e){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bA(t,e)}function v7(t,e,r){return e=y7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y7(t){var e=abe(t,"string");return cf(e)=="symbol"?e:e+""}function abe(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d0=function(t){function e(){return Zxe(this,e),rbe(this,e,arguments)}return sbe(e,t),tbe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,u=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,p=Xxe(n,Hxe),y=vt(p,!1);this.props.direction==="x"&&h.type!=="number"&&su();var _=u.map(function(b){var x=f(b,l),E=x.x,S=x.y,T=x.value,N=x.errorVal;if(!N)return null;var C=[],O,P;if(Array.isArray(N)){var R=Wxe(N,2);O=R[0],P=R[1]}else O=P=N;if(s==="vertical"){var M=h.scale,V=S+i,$=V+o,D=V-o,L=M(T-O),B=M(T+P);C.push({x1:B,y1:$,x2:B,y2:D}),C.push({x1:L,y1:V,x2:B,y2:V}),C.push({x1:L,y1:$,x2:L,y2:D})}else if(s==="horizontal"){var G=m.scale,q=E+i,Y=q-o,z=q+o,J=G(T-O),re=G(T+P);C.push({x1:Y,y1:re,x2:z,y2:re}),C.push({x1:q,y1:J,x2:q,y2:re}),C.push({x1:Y,y1:J,x2:z,y2:J})}return K.createElement(hr,yx({className:"recharts-errorBar",key:"bar-".concat(C.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},y),C.map(function(H){return K.createElement("line",yx({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return K.createElement(hr,{className:"recharts-errorBars"},_)}}])}(K.Component);v7(d0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});v7(d0,"displayName","ErrorBar");function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function n3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(r),!0).forEach(function(n){obe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function obe(t,e,r){return e=lbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lbe(t){var e=cbe(t,"string");return np(e)=="symbol"?e:e+""}function cbe(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x7=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=ui(r,Cd);if(!o)return null;var l=Cd.defaultProps,u=l!==void 0?_c(_c({},l),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:s==="children"?f=(n||[]).reduce(function(h,m){var p=m.item,y=m.props,_=y.sectors||y.data||[];return h.concat(_.map(function(b){return{type:o.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(n||[]).map(function(h){var m=h.item,p=m.type.defaultProps,y=p!==void 0?_c(_c({},p),m.props):{},_=y.dataKey,b=y.name,x=y.legendType,E=y.hide;return{inactive:E,dataKey:_,type:u.iconType||x||"square",color:YC(m),value:b||_,payload:y}}),_c(_c(_c({},u),Cd.getWithHeight(o,i)),{},{payload:f,item:o})};function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function i3(t){return hbe(t)||fbe(t)||dbe(t)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(t,e){if(t){if(typeof t=="string")return wA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wA(t,e)}}function fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hbe(t){if(Array.isArray(t))return wA(t)}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(r),!0).forEach(function(n){Pd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pd(t,e,r){return e=mbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mbe(t){var e=pbe(t,"string");return ip(e)=="symbol"?e:e+""}function pbe(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xi(t,e,r){return St(t)||St(e)?r:Fr(e)?Ui(t,e,r):mt(e)?e(t):r}function pm(t,e,r,n){var i=hxe(t,function(l){return xi(l,e)});if(r==="number"){var s=i.filter(function(l){return Ae(l)||parseFloat(l)});return s.length?[l0(s),ul(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!St(l)}):i;return o.map(function(l){return Fr(l)||l instanceof Date?l:""})}var gbe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,p=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(vs(m-h)!==vs(p-m)){var _=[];if(vs(p-m)===vs(u[1]-u[0])){y=p;var b=m+u[1]-u[0];_[0]=Math.min(b,(b+h)/2),_[1]=Math.max(b,(b+h)/2)}else{y=h;var x=p+u[1]-u[0];_[0]=Math.min(m,(x+m)/2),_[1]=Math.max(m,(x+m)/2)}var E=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>E[0]&&e<=E[1]||e>=_[0]&&e<=_[1]){o=i[f].index;break}}else{var S=Math.min(h,p),T=Math.max(h,p);if(e>(S+m)/2&&e<=(T+m)/2){o=i[f].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},YC=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?xr(xr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,u;switch(i){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},vbe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),u=0,f=l.length;u<f;u++)for(var h=s[l[u]].stackGroups,m=Object.keys(h),p=0,y=m.length;p<y;p++){var _=h[m[p]],b=_.items,x=_.cateAxisId,E=b.filter(function(P){return Ha(P.type).indexOf("Bar")>=0});if(E&&E.length){var S=E[0].type.defaultProps,T=S!==void 0?xr(xr({},S),E[0].props):E[0].props,N=T.barSize,C=T[x];o[C]||(o[C]=[]);var O=St(N)?r:N;o[C].push({item:E[0],stackList:E.slice(1),barSize:St(O)?void 0:nu(O,n,0)})}}return o},ybe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,u=o.length;if(u<1)return null;var f=nu(r,i,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,y=i/u,_=o.reduce(function(N,C){return N+C.barSize||0},0);_+=(u-1)*f,_>=i&&(_-=(u-1)*f,f=0),_>=i&&y>0&&(p=!0,y*=.9,_=u*y);var b=(i-_)/2>>0,x={offset:b-f,size:0};h=o.reduce(function(N,C){var O={item:C.item,position:{offset:x.offset+x.size+f,size:p?y:C.barSize}},P=[].concat(i3(N),[O]);return x=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:x})}),P},m)}else{var E=nu(n,i,0,!0);i-2*E-(u-1)*f<=0&&(f=0);var S=(i-2*E-(u-1)*f)/u;S>1&&(S>>=0);var T=l===+l?Math.min(S,l):S;h=o.reduce(function(N,C,O){var P=[].concat(i3(N),[{item:C.item,position:{offset:E+(S+f)*O+(S-T)/2,size:T}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:P[P.length-1].position})}),P},m)}return h},xbe=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),f=x7({children:s,legendWidth:u});if(f){var h=i||{},m=h.width,p=h.height,y=f.align,_=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&_==="middle")&&y!=="center"&&Ae(e[y]))return xr(xr({},e),{},Pd({},y,e[y]+(m||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&_!=="middle"&&Ae(e[_]))return xr(xr({},e),{},Pd({},_,e[_]+(p||0)))}return e},bbe=function(e,r,n){return St(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},b7=function(e,r,n,i,s){var o=r.props.children,l=_s(o,d0).filter(function(f){return bbe(i,s,f.props.direction)});if(l&&l.length){var u=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=xi(h,n);if(St(m))return f;var p=Array.isArray(m)?[l0(m),ul(m)]:[m,m],y=u.reduce(function(_,b){var x=xi(h,b,0),E=p[0]-Math.abs(Array.isArray(x)?x[0]:x),S=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(E,_[0]),Math.max(S,_[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},wbe=function(e,r,n,i,s){var o=r.map(function(l){return b7(e,l,n,s,i)}).filter(function(l){return!St(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},w7=function(e,r,n,i,s){var o=r.map(function(u){var f=u.props.dataKey;return n==="number"&&f&&b7(e,u,f,i)||pm(e,f,n,s)});if(n==="number")return o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,u.push(f[h]));return u},[])},_7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},j7=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var s,o,l=e.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===n&&(o=!0),u.coordinate});return s||l.push(r),o||l.push(n),l},Fa=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/u:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?vs(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var p=s?s.indexOf(m):m;return{coordinate:i(p)+f,value:m,offset:f}});return h.filter(function(m){return!Bf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:i(m)+f,value:m,index:p,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,p){return{coordinate:i(m)+f,value:s?s[m]:m,index:p,offset:f}})},oN=new WeakMap,Vv=function(e,r){if(typeof r!="function")return e;oN.has(e)||oN.set(e,new WeakMap);var n=oN.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},_be=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ym(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hx(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mm(),realScaleType:"point"}:s==="category"?{scale:Ym(),realScaleType:"band"}:{scale:hx(),realScaleType:"linear"};if(Hp(i)){var u="scale".concat(Yb(i));return{scale:(qL[u]||mm)(),realScaleType:qL[u]?u:"point"}}return mt(i)?{scale:i}:{scale:mm(),realScaleType:"point"}},a3=1e-4,jbe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-a3,o=Math.max(i[0],i[1])+a3,l=e(r[0]),u=e(r[n-1]);(l<s||l>o||u<s||u>o)&&e.domain([r[0],r[n-1]])}},Sbe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Nbe=function(e,r){if(!r||r.length!==2||!Ae(r[0])||!Ae(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Ae(e[0])||e[0]<n)&&(s[0]=n),(!Ae(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Ebe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var u=Bf(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=s,e[l][n][1]=s+u,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},Abe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Bf(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Tbe={sign:Ebe,expand:uhe,none:ef,silhouette:dhe,wiggle:fhe,positive:Abe},Cbe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=Tbe[n],o=che().keys(i).value(function(l,u){return+xi(l,u,0)}).order(XE).offset(s);return o(e)},kbe=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,u={},f=l.reduce(function(m,p){var y,_=(y=p.type)!==null&&y!==void 0&&y.defaultProps?xr(xr({},p.type.defaultProps),p.props):p.props,b=_.stackId,x=_.hide;if(x)return m;var E=_[n],S=m[E]||{hasStack:!1,stackGroups:{}};if(Fr(b)){var T=S.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};T.items.push(p),S.hasStack=!0,S.stackGroups[b]=T}else S.stackGroups[Wp("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return xr(xr({},m),{},Pd({},E,S))},u),h={};return Object.keys(f).reduce(function(m,p){var y=f[p];if(y.hasStack){var _={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var E=y.stackGroups[x];return xr(xr({},b),{},Pd({},x,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:Cbe(e,E.items,s)}))},_)}return xr(xr({},m),{},Pd({},p,y))},h)},Pbe=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=Uxe(f,s,l);return e.domain([l0(h),ul(h)]),{niceTicks:h}}if(s&&i==="number"){var m=e.domain(),p=zxe(m,s,l);return{niceTicks:p}}return null};function o3(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!St(i[e.dataKey])){var l=Gy(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=xi(i,St(o)?e.dataKey:o);return St(u)?null:e.scale(u)}var l3=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var u=xi(o,r.dataKey,r.domain[l]);return St(u)?null:r.scale(u)-s/2+i},Ibe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Rbe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?xr(xr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Fr(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Obe=function(e){return e.reduce(function(r,n){return[l0(n.concat([r[0]]).filter(Ae)),ul(n.concat([r[1]]).filter(Ae))]},[1/0,-1/0])},S7=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,u=l.reduce(function(f,h){var m=Obe(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},c3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_A=function(e,r,n){if(mt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ae(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(c3.test(e[0])){var s=+c3.exec(e[0])[1];i[0]=r[0]-s}else mt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ae(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(u3.test(e[1])){var o=+u3.exec(e[1])[1];i[1]=r[1]+o}else mt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},bx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=jC(r,function(m){return m.coordinate}),o=1/0,l=1,u=s.length;l<u;l++){var f=s[l],h=s[l-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},d3=function(e,r,n){return!e||!e.length||ep(e,Ui(n,"type.defaultProps.domain"))?r:e},N7=function(e,r){var n=e.type.defaultProps?xr(xr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,f=n.chartType,h=n.hide;return xr(xr({},vt(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:YC(e),value:xi(r,i),type:u,payload:r,chartType:f,hide:h})};function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function f3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(r),!0).forEach(function(n){Mbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mbe(t,e,r){return e=Dbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dbe(t){var e=Lbe(t,"string");return sp(e)=="symbol"?e:e+""}function Lbe(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wx=Math.PI/180,$be=function(e){return e*180/Math.PI},on=function(e,r,n,i){return{x:e+Math.cos(-wx*i)*n,y:r+Math.sin(-wx*i)*n}},Fbe=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Vbe=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=Fbe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var u=(n-s)/l,f=Math.acos(u);return i>o&&(f=2*Math.PI-f),{radius:l,angle:$be(f),angleInRadian:f}},Bbe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Ube=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},m3=function(e,r){var n=e.x,i=e.y,s=Vbe({x:n,y:i},r),o=s.radius,l=s.angle,u=r.innerRadius,f=r.outerRadius;if(o<u||o>f)return!1;if(o===0)return!0;var h=Bbe(r),m=h.startAngle,p=h.endAngle,y=l,_;if(m<=p){for(;y>p;)y-=360;for(;y<m;)y+=360;_=y>=m&&y<=p}else{for(;y>m;)y-=360;for(;y<p;)y+=360;_=y>=p&&y<=m}return _?h3(h3({},r),{},{radius:o,angle:Ube(y,r)}):null};function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}var zbe=["offset"];function qbe(t){return Kbe(t)||Gbe(t)||Wbe(t)||Hbe()}function Hbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wbe(t,e){if(t){if(typeof t=="string")return jA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jA(t,e)}}function Gbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kbe(t){if(Array.isArray(t))return jA(t)}function jA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ybe(t,e){if(t==null)return{};var r=Qbe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(r),!0).forEach(function(n){Xbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xbe(t,e,r){return e=Jbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jbe(t){var e=Zbe(t,"string");return ap(e)=="symbol"?e:e+""}function Zbe(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}var e0e=function(e){var r=e.value,n=e.formatter,i=St(e.children)?r:e.children;return mt(n)?n(i):i},t0e=function(e,r){var n=vs(r-e),i=Math.min(Math.abs(r-e),360);return n*i},r0e=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,u=s,f=u.cx,h=u.cy,m=u.innerRadius,p=u.outerRadius,y=u.startAngle,_=u.endAngle,b=u.clockWise,x=(m+p)/2,E=t0e(y,_),S=E>=0?1:-1,T,N;i==="insideStart"?(T=y+S*o,N=b):i==="insideEnd"?(T=_-S*o,N=!b):i==="end"&&(T=_+S*o,N=b),N=E<=0?N:!N;var C=on(f,h,x,T),O=on(f,h,x,T+(N?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),R=St(e.id)?Wp("recharts-radial-line-"):e.id;return K.createElement("text",op({},n,{dominantBaseline:"central",className:Tt("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:R,d:P})),K.createElement("textPath",{xlinkHref:"#".concat(R)},r))},n0e=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,u=s.innerRadius,f=s.outerRadius,h=s.startAngle,m=s.endAngle,p=(h+m)/2;if(i==="outside"){var y=on(o,l,f+n,p),_=y.x,b=y.y;return{x:_,y:b,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+f)/2,E=on(o,l,x,p),S=E.x,T=E.y;return{x:S,y:T,textAnchor:"middle",verticalAnchor:"middle"}},i0e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,u=o.y,f=o.width,h=o.height,m=h>=0?1:-1,p=m*i,y=m>0?"end":"start",_=m>0?"start":"end",b=f>=0?1:-1,x=b*i,E=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var T={x:l+f/2,y:u-m*i,textAnchor:"middle",verticalAnchor:y};return $r($r({},T),n?{height:Math.max(u-n.y,0),width:f}:{})}if(s==="bottom"){var N={x:l+f/2,y:u+h+p,textAnchor:"middle",verticalAnchor:_};return $r($r({},N),n?{height:Math.max(n.y+n.height-(u+h),0),width:f}:{})}if(s==="left"){var C={x:l-x,y:u+h/2,textAnchor:E,verticalAnchor:"middle"};return $r($r({},C),n?{width:Math.max(C.x-n.x,0),height:h}:{})}if(s==="right"){var O={x:l+f+x,y:u+h/2,textAnchor:S,verticalAnchor:"middle"};return $r($r({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:h}:{})}var P=n?{width:f,height:h}:{};return s==="insideLeft"?$r({x:l+x,y:u+h/2,textAnchor:S,verticalAnchor:"middle"},P):s==="insideRight"?$r({x:l+f-x,y:u+h/2,textAnchor:E,verticalAnchor:"middle"},P):s==="insideTop"?$r({x:l+f/2,y:u+p,textAnchor:"middle",verticalAnchor:_},P):s==="insideBottom"?$r({x:l+f/2,y:u+h-p,textAnchor:"middle",verticalAnchor:y},P):s==="insideTopLeft"?$r({x:l+x,y:u+p,textAnchor:S,verticalAnchor:_},P):s==="insideTopRight"?$r({x:l+f-x,y:u+p,textAnchor:E,verticalAnchor:_},P):s==="insideBottomLeft"?$r({x:l+x,y:u+h-p,textAnchor:S,verticalAnchor:y},P):s==="insideBottomRight"?$r({x:l+f-x,y:u+h-p,textAnchor:E,verticalAnchor:y},P):Vf(s)&&(Ae(s.x)||Ic(s.x))&&(Ae(s.y)||Ic(s.y))?$r({x:l+nu(s.x,f),y:u+nu(s.y,h),textAnchor:"end",verticalAnchor:"end"},P):$r({x:l+f/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},s0e=function(e){return"cx"in e&&Ae(e.cx)};function wn(t){var e=t.offset,r=e===void 0?5:e,n=Ybe(t,zbe),i=$r({offset:r},n),s=i.viewBox,o=i.position,l=i.value,u=i.children,f=i.content,h=i.className,m=h===void 0?"":h,p=i.textBreakAll;if(!s||St(l)&&St(u)&&!j.isValidElement(f)&&!mt(f))return null;if(j.isValidElement(f))return j.cloneElement(f,i);var y;if(mt(f)){if(y=j.createElement(f,i),j.isValidElement(y))return y}else y=e0e(i);var _=s0e(s),b=vt(i,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return r0e(i,y,b);var x=_?n0e(i):i0e(i);return K.createElement(ax,op({className:Tt("recharts-label",m)},b,x,{breakAll:p}),y)}wn.displayName="Label";var E7=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,u=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,p=e.y,y=e.top,_=e.left,b=e.width,x=e.height,E=e.clockWise,S=e.labelViewBox;if(S)return S;if(Ae(b)&&Ae(x)){if(Ae(m)&&Ae(p))return{x:m,y:p,width:b,height:x};if(Ae(y)&&Ae(_))return{x:y,y:_,width:b,height:x}}return Ae(m)&&Ae(p)?{x:m,y:p,width:0,height:0}:Ae(r)&&Ae(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:h||u||l||0,clockWise:E}:e.viewBox?e.viewBox:{}},a0e=function(e,r){return e?e===!0?K.createElement(wn,{key:"label-implicit",viewBox:r}):Fr(e)?K.createElement(wn,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===wn?j.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(wn,{key:"label-implicit",content:e,viewBox:r}):mt(e)?K.createElement(wn,{key:"label-implicit",content:e,viewBox:r}):Vf(e)?K.createElement(wn,op({viewBox:r},e,{key:"label-implicit"})):null:null},o0e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=E7(e),o=_s(i,wn).map(function(u,f){return j.cloneElement(u,{viewBox:r||s,key:"label-".concat(f)})});if(!n)return o;var l=a0e(e.label,r||s);return[l].concat(qbe(o))};wn.parseViewBox=E7;wn.renderCallByParent=o0e;var lN,g3;function l0e(){if(g3)return lN;g3=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return lN=t,lN}var c0e=l0e();const u0e=Gt(c0e);function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}var d0e=["valueAccessor"],f0e=["data","dataKey","clockWise","id","textBreakAll"];function h0e(t){return v0e(t)||g0e(t)||p0e(t)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0e(t,e){if(t){if(typeof t=="string")return SA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SA(t,e)}}function g0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v0e(t){if(Array.isArray(t))return SA(t)}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){y0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y0e(t,e,r){return e=x0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x0e(t){var e=b0e(t,"string");return lp(e)=="symbol"?e:e+""}function b0e(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x3(t,e){if(t==null)return{};var r=w0e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _0e=function(e){return Array.isArray(e.value)?u0e(e.value):e.value};function xl(t){var e=t.valueAccessor,r=e===void 0?_0e:e,n=x3(t,d0e),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,f=x3(n,f0e);return!i||!i.length?null:K.createElement(hr,{className:"recharts-label-list"},i.map(function(h,m){var p=St(s)?r(h,m):xi(h&&h.payload,s),y=St(l)?{}:{id:"".concat(l,"-").concat(m)};return K.createElement(wn,_x({},vt(h,!0),f,y,{parentViewBox:h.parentViewBox,value:p,textBreakAll:u,viewBox:wn.parseViewBox(St(o)?h:y3(y3({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}xl.displayName="LabelList";function j0e(t,e){return t?t===!0?K.createElement(xl,{key:"labelList-implicit",data:e}):K.isValidElement(t)||mt(t)?K.createElement(xl,{key:"labelList-implicit",data:e,content:t}):Vf(t)?K.createElement(xl,_x({data:e},t,{key:"labelList-implicit"})):null:null}function S0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=_s(n,xl).map(function(o,l){return j.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=j0e(t.label,e);return[s].concat(h0e(i))}xl.renderCallByParent=S0e;function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NA.apply(this,arguments)}function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(n){N0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N0e(t,e,r){return e=E0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E0e(t){var e=A0e(t,"string");return cp(e)=="symbol"?e:e+""}function A0e(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T0e=function(e,r){var n=vs(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Bv=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,u=e.cornerRadius,f=e.cornerIsExternal,h=u*(l?1:-1)+i,m=Math.asin(u/h)/wx,p=f?s:s+o*m,y=on(r,n,h,p),_=on(r,n,i,p),b=f?s-o*m:s,x=on(r,n,h*Math.cos(m*wx),b);return{center:y,circleTangency:_,lineTangency:x,theta:m}},A7=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,u=T0e(o,l),f=o+u,h=on(r,n,s,o),m=on(r,n,s,f),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var y=on(r,n,i,o),_=on(r,n,i,f);p+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},C0e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=vs(h-f),p=Bv({cx:r,cy:n,radius:s,angle:f,sign:m,cornerRadius:o,cornerIsExternal:u}),y=p.circleTangency,_=p.lineTangency,b=p.theta,x=Bv({cx:r,cy:n,radius:s,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:u}),E=x.circleTangency,S=x.lineTangency,T=x.theta,N=u?Math.abs(f-h):Math.abs(f-h)-b-T;if(N<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):A7({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:f,endAngle:h});var C="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var O=Bv({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),P=O.circleTangency,R=O.lineTangency,M=O.theta,V=Bv({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),$=V.circleTangency,D=V.lineTangency,L=V.theta,B=u?Math.abs(f-h):Math.abs(f-h)-M-L;if(B<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},k0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T7=function(e){var r=w3(w3({},k0e),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,p=r.className;if(o<s||h===m)return null;var y=Tt("recharts-sector",p),_=o-s,b=nu(l,_,0,!0),x;return b>0&&Math.abs(h-m)<360?x=C0e({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}):x=A7({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:h,endAngle:m}),K.createElement("path",NA({},vt(r,!0),{className:y,d:x,role:"img"}))};function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EA.apply(this,arguments)}function _3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(r),!0).forEach(function(n){P0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P0e(t,e,r){return e=I0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I0e(t){var e=R0e(t,"string");return up(e)=="symbol"?e:e+""}function R0e(t,e){if(up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S3={curveBasisClosed:Jfe,curveBasisOpen:Zfe,curveBasis:Xfe,curveBumpX:Lfe,curveBumpY:$fe,curveLinearClosed:ehe,curveLinear:Xb,curveMonotoneX:the,curveMonotoneY:rhe,curveNatural:nhe,curveStep:ihe,curveStepAfter:ahe,curveStepBefore:she},Uv=function(e){return e.x===+e.x&&e.y===+e.y},zh=function(e){return e.x},qh=function(e){return e.y},O0e=function(e,r){if(mt(e))return e;var n="curve".concat(Yb(e));return(n==="curveMonotone"||n==="curveBump")&&r?S3["".concat(n).concat(r==="vertical"?"Y":"X")]:S3[n]||Xb},M0e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,u=e.connectNulls,f=u===void 0?!1:u,h=O0e(n,l),m=f?s.filter(function(b){return Uv(b)}):s,p;if(Array.isArray(o)){var y=f?o.filter(function(b){return Uv(b)}):o,_=m.map(function(b,x){return j3(j3({},b),{},{base:y[x]})});return l==="vertical"?p=Rv().y(qh).x1(zh).x0(function(b){return b.base.x}):p=Rv().x(zh).y1(qh).y0(function(b){return b.base.y}),p.defined(Uv).curve(h),p(_)}return l==="vertical"&&Ae(o)?p=Rv().y(qh).x1(zh).x0(o):Ae(o)?p=Rv().x(zh).y1(qh).y0(o):p=I9().x(zh).y(qh),p.defined(Uv).curve(h),p(m)},gm=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?M0e(e):i;return K.createElement("path",EA({},vt(e,!1),Ky(e),{className:Tt("recharts-curve",r),d:o,ref:s}))},cN={exports:{}},uN,N3;function D0e(){if(N3)return uN;N3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uN=t,uN}var dN,E3;function L0e(){if(E3)return dN;E3=1;var t=D0e();function e(){}function r(){}return r.resetWarningCache=e,dN=function(){function n(o,l,u,f,h,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},dN}var A3;function $0e(){return A3||(A3=1,cN.exports=L0e()()),cN.exports}var F0e=$0e();const lt=Gt(F0e);var V0e=Object.getOwnPropertyNames,B0e=Object.getOwnPropertySymbols,U0e=Object.prototype.hasOwnProperty;function T3(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function zv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var u=t(r,n,i);return s.delete(r),s.delete(n),u}}function C3(t){return V0e(t).concat(B0e(t))}var C7=Object.hasOwn||function(t,e){return U0e.call(t,e)};function Gf(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var k7="_owner",k3=Object.getOwnPropertyDescriptor,P3=Object.keys;function z0e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function q0e(t,e){return Gf(t.getTime(),e.getTime())}function I3(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),s=0,o,l;(o=i.next())&&!o.done;){for(var u=e.entries(),f=!1,h=0;(l=u.next())&&!l.done;){var m=o.value,p=m[0],y=m[1],_=l.value,b=_[0],x=_[1];!f&&!n[h]&&(f=r.equals(p,b,s,h,t,e,r)&&r.equals(y,x,p,b,t,e,r))&&(n[h]=!0),h++}if(!f)return!1;s++}return!0}function H0e(t,e,r){var n=P3(t),i=n.length;if(P3(e).length!==i)return!1;for(var s;i-- >0;)if(s=n[i],s===k7&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!C7(e,s)||!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function Hh(t,e,r){var n=C3(t),i=n.length;if(C3(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],s===k7&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!C7(e,s)||!r.equals(t[s],e[s],s,s,t,e,r)||(o=k3(t,s),l=k3(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function W0e(t,e){return Gf(t.valueOf(),e.valueOf())}function G0e(t,e){return t.source===e.source&&t.flags===e.flags}function R3(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),s,o;(s=i.next())&&!s.done;){for(var l=e.values(),u=!1,f=0;(o=l.next())&&!o.done;)!u&&!n[f]&&(u=r.equals(s.value,o.value,s.value,o.value,t,e,r))&&(n[f]=!0),f++;if(!u)return!1}return!0}function K0e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var Y0e="[object Arguments]",Q0e="[object Boolean]",X0e="[object Date]",J0e="[object Map]",Z0e="[object Number]",ewe="[object Object]",twe="[object RegExp]",rwe="[object Set]",nwe="[object String]",iwe=Array.isArray,O3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,M3=Object.assign,swe=Object.prototype.toString.call.bind(Object.prototype.toString);function awe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,u=t.areTypedArraysEqual;return function(h,m,p){if(h===m)return!0;if(h==null||m==null||typeof h!="object"||typeof m!="object")return h!==h&&m!==m;var y=h.constructor;if(y!==m.constructor)return!1;if(y===Object)return i(h,m,p);if(iwe(h))return e(h,m,p);if(O3!=null&&O3(h))return u(h,m,p);if(y===Date)return r(h,m,p);if(y===RegExp)return o(h,m,p);if(y===Map)return n(h,m,p);if(y===Set)return l(h,m,p);var _=swe(h);return _===X0e?r(h,m,p):_===twe?o(h,m,p):_===J0e?n(h,m,p):_===rwe?l(h,m,p):_===ewe?typeof h.then!="function"&&typeof m.then!="function"&&i(h,m,p):_===Y0e?i(h,m,p):_===Q0e||_===Z0e||_===nwe?s(h,m,p):!1}}function owe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Hh:z0e,areDatesEqual:q0e,areMapsEqual:n?T3(I3,Hh):I3,areObjectsEqual:n?Hh:H0e,arePrimitiveWrappersEqual:W0e,areRegExpsEqual:G0e,areSetsEqual:n?T3(R3,Hh):R3,areTypedArraysEqual:n?Hh:K0e};if(r&&(i=M3({},i,r(i))),e){var s=zv(i.areArraysEqual),o=zv(i.areMapsEqual),l=zv(i.areObjectsEqual),u=zv(i.areSetsEqual);i=M3({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return i}function lwe(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function cwe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(u,f){var h=n(),m=h.cache,p=m===void 0?e?new WeakMap:void 0:m,y=h.meta;return r(u,f,{cache:p,equals:i,meta:y,strict:s})};if(e)return function(u,f){return r(u,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,f){return r(u,f,o)}}var uwe=Wl();Wl({strict:!0});Wl({circular:!0});Wl({circular:!0,strict:!0});Wl({createInternalComparator:function(){return Gf}});Wl({strict:!0,createInternalComparator:function(){return Gf}});Wl({circular:!0,createInternalComparator:function(){return Gf}});Wl({circular:!0,createInternalComparator:function(){return Gf},strict:!0});function Wl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=owe(t),u=awe(l),f=n?n(u):lwe(u);return cwe({circular:r,comparator:u,createState:i,equals:f,strict:o})}function dwe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function D3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):dwe(i)};requestAnimationFrame(n)}function AA(t){"@babel/helpers - typeof";return AA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AA(t)}function fwe(t){return gwe(t)||pwe(t)||mwe(t)||hwe()}function hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mwe(t,e){if(t){if(typeof t=="string")return L3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L3(t,e)}}function L3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gwe(t){if(Array.isArray(t))return t}function vwe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=fwe(o),u=l[0],f=l.slice(1);if(typeof u=="number"){D3(i.bind(null,f),u);return}i(u),D3(i.bind(null,f));return}AA(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function $3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(r),!0).forEach(function(n){P7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P7(t,e,r){return e=ywe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ywe(t){var e=xwe(t,"string");return dp(e)==="symbol"?e:String(e)}function xwe(t,e){if(dp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bwe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},wwe=function(e){return e},_we=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vm=function(e,r){return Object.keys(r).reduce(function(n,i){return F3(F3({},n),{},P7({},i,e(i,r[i])))},{})},V3=function(e,r,n){return e.map(function(i){return"".concat(_we(i)," ").concat(r,"ms ").concat(n)}).join(",")};function jwe(t,e){return Ewe(t)||Nwe(t,e)||I7(t,e)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Ewe(t){if(Array.isArray(t))return t}function Awe(t){return kwe(t)||Cwe(t)||I7(t)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(t,e){if(t){if(typeof t=="string")return TA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TA(t,e)}}function Cwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kwe(t){if(Array.isArray(t))return TA(t)}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jx=1e-4,R7=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},O7=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},B3=function(e,r){return function(n){var i=R7(e,r);return O7(i,n)}},Pwe=function(e,r){return function(n){var i=R7(e,r),s=[].concat(Awe(i.map(function(o,l){return o*l}).slice(1)),[0]);return O7(s,n)}},U3=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=jwe(f,4);i=h[0],s=h[1],o=h[2],l=h[3]}}}var m=B3(i,o),p=B3(s,l),y=Pwe(i,o),_=function(E){return E>1?1:E<0?0:E},b=function(E){for(var S=E>1?1:E,T=S,N=0;N<8;++N){var C=m(T)-S,O=y(T);if(Math.abs(C-S)<jx||O<jx)return p(T);T=_(T-C/O)}return p(T)};return b.isStepper=!1,b},Iwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,u=function(h,m,p){var y=-(h-m)*n,_=p*s,b=p+(y-_)*l/1e3,x=p*l/1e3+h;return Math.abs(x-m)<jx&&Math.abs(b)<jx?[m,0]:[x,b]};return u.isStepper=!0,u.dt=l,u},Rwe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U3(i);case"spring":return Iwe();default:if(i.split("(")[0]==="cubic-bezier")return U3(i)}return typeof i=="function"?i:null};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function z3(t){return Dwe(t)||Mwe(t)||M7(t)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dwe(t){if(Array.isArray(t))return kA(t)}function q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(r),!0).forEach(function(n){CA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CA(t,e,r){return e=Lwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lwe(t){var e=$we(t,"string");return fp(e)==="symbol"?e:String(e)}function $we(t,e){if(fp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fwe(t,e){return Uwe(t)||Bwe(t,e)||M7(t,e)||Vwe()}function Vwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7(t,e){if(t){if(typeof t=="string")return kA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(t,e)}}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Uwe(t){if(Array.isArray(t))return t}var Sx=function(e,r,n){return e+(r-e)*n},PA=function(e){var r=e.from,n=e.to;return r!==n},zwe=function t(e,r,n){var i=vm(function(s,o){if(PA(o)){var l=e(o.from,o.to,o.velocity),u=Fwe(l,2),f=u[0],h=u[1];return nn(nn({},o),{},{from:f,velocity:h})}return o},r);return n<1?vm(function(s,o){return PA(o)?nn(nn({},o),{},{velocity:Sx(o.velocity,i[s].velocity,n),from:Sx(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const qwe=function(t,e,r,n,i){var s=bwe(t,e),o=s.reduce(function(x,E){return nn(nn({},x),{},CA({},E,[t[E],e[E]]))},{}),l=s.reduce(function(x,E){return nn(nn({},x),{},CA({},E,{from:t[E],velocity:0,to:e[E]}))},{}),u=-1,f,h,m=function(){return null},p=function(){return vm(function(E,S){return S.from},l)},y=function(){return!Object.values(l).filter(PA).length},_=function(E){f||(f=E);var S=E-f,T=S/r.dt;l=zwe(r,l,T),i(nn(nn(nn({},t),e),p())),f=E,y()||(u=requestAnimationFrame(m))},b=function(E){h||(h=E);var S=(E-h)/n,T=vm(function(C,O){return Sx.apply(void 0,z3(O).concat([r(S)]))},o);if(i(nn(nn(nn({},t),e),T)),S<1)u=requestAnimationFrame(m);else{var N=vm(function(C,O){return Sx.apply(void 0,z3(O).concat([r(1)]))},o);i(nn(nn(nn({},t),e),N))}};return m=r.isStepper?_:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var Hwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Wwe(t,e){if(t==null)return{};var r=Gwe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gwe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fN(t){return Xwe(t)||Qwe(t)||Ywe(t)||Kwe()}function Kwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ywe(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function Qwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xwe(t){if(Array.isArray(t))return IA(t)}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(r),!0).forEach(function(n){nm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nm(t,e,r){return e=D7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D7(n.key),n)}}function e1e(t,e,r){return e&&Zwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D7(t){var e=t1e(t,"string");return uf(e)==="symbol"?e:String(e)}function t1e(t,e){if(uf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RA(t,e)}function n1e(t){var e=i1e();return function(){var n=Nx(t),i;if(e){var s=Nx(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return OA(this,i)}}function OA(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MA(t)}function MA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(t)}var ao=function(t){r1e(r,t);var e=n1e(r);function r(n,i){var s;Jwe(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,u=o.attributeName,f=o.from,h=o.to,m=o.steps,p=o.children,y=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(MA(s)),s.changeStyle=s.changeStyle.bind(MA(s)),!l||y<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:h}),OA(s);if(m&&m.length)s.state={style:m[0].style};else if(f){if(typeof p=="function")return s.state={style:f},OA(s);s.state={style:u?nm({},u,f):f}}else s.state={style:{}};return s}return e1e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,u=s.attributeName,f=s.shouldReAnimate,h=s.to,m=s.from,p=this.state.style;if(l){if(!o){var y={style:u?nm({},u,h):h};this.state&&p&&(u&&p[u]!==h||!u&&p!==h)&&this.setState(y);return}if(!(uwe(i.to,h)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=_||f?m:i.to;if(this.state&&p){var x={style:u?nm({},u,b):b};(u&&p[u]!==b||!u&&p!==b)&&this.setState(x)}this.runAnimation(us(us({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,u=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,p=i.onAnimationStart,y=qwe(o,l,Rwe(f),u,this.changeStyle),_=function(){s.stopJSAnimation=y()};this.manager.start([p,h,_,u,m])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,u=i.onAnimationStart,f=o[0],h=f.style,m=f.duration,p=m===void 0?0:m,y=function(b,x,E){if(E===0)return b;var S=x.duration,T=x.easing,N=T===void 0?"ease":T,C=x.style,O=x.properties,P=x.onAnimationEnd,R=E>0?o[E-1]:x,M=O||Object.keys(C);if(typeof N=="function"||N==="spring")return[].concat(fN(b),[s.runJSAnimation.bind(s,{from:R.style,to:C,duration:S,easing:N}),S]);var V=V3(M,S,N),$=us(us(us({},R.style),C),{},{transition:V});return[].concat(fN(b),[$,S,P]).filter(wwe)};return this.manager.start([u].concat(fN(o.reduce(y,[h,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vwe());var s=i.begin,o=i.duration,l=i.attributeName,u=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,p=i.steps,y=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=l?nm({},l,u):u,x=V3(Object.keys(b),o,f);_.start([h,s,us(us({},b),{},{transition:x}),o,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=Wwe(i,Hwe),f=j.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||f===0||o<=0)return s;var m=function(y){var _=y.props,b=_.style,x=b===void 0?{}:b,E=_.className,S=j.cloneElement(y,us(us({},u),{},{style:us(us({},x),h),className:E}));return S};return f===1?m(j.Children.only(s)):K.createElement("div",null,j.Children.map(s,function(p){return m(p)}))}}]),r}(j.PureComponent);ao.displayName="Animate";ao.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ao.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};lt.object,lt.object,lt.object,lt.element;lt.object,lt.object,lt.object,lt.oneOfType([lt.array,lt.element]),lt.any;function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ex.apply(this,arguments)}function s1e(t,e){return c1e(t)||l1e(t,e)||o1e(t,e)||a1e()}function a1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1e(t,e){if(t){if(typeof t=="string")return W3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(t,e)}}function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function c1e(t){if(Array.isArray(t))return t}function G3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(r),!0).forEach(function(n){u1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u1e(t,e,r){return e=d1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d1e(t){var e=f1e(t,"string");return hp(e)=="symbol"?e:e+""}function f1e(t,e){if(hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y3=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,u=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=s[p]>o?o:s[p];h="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+u*m[0],",").concat(r)),h+="L ".concat(e+n-u*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*m[1])),h+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-u*m[2],",").concat(r+i)),h+="L ".concat(e+u*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*m[3])),h+="Z"}else if(o>0&&s===+s&&s>0){var _=Math.min(o,s);h="M ".concat(e,",").concat(r+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+u*_,",").concat(r,`
            L `).concat(e+n-u*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*_,`
            L `).concat(e+n,",").concat(r+i-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n-u*_,",").concat(r+i,`
            L `).concat(e+u*_,",").concat(r+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*_," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},h1e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var f=Math.min(s,s+l),h=Math.max(s,s+l),m=Math.min(o,o+u),p=Math.max(o,o+u);return n>=f&&n<=h&&i>=m&&i<=p}return!1},m1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QC=function(e){var r=K3(K3({},m1e),e),n=j.useRef(),i=j.useState(-1),s=s1e(i,2),o=s[0],l=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var u=r.x,f=r.y,h=r.width,m=r.height,p=r.radius,y=r.className,_=r.animationEasing,b=r.animationDuration,x=r.animationBegin,E=r.isAnimationActive,S=r.isUpdateAnimationActive;if(u!==+u||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var T=Tt("recharts-rectangle",y);return S?K.createElement(ao,{canBegin:o>0,from:{width:h,height:m,x:u,y:f},to:{width:h,height:m,x:u,y:f},duration:b,animationEasing:_,isActive:S},function(N){var C=N.width,O=N.height,P=N.x,R=N.y;return K.createElement(ao,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:E,easing:_},K.createElement("path",Ex({},vt(r,!0),{className:T,d:Y3(P,R,C,O,p),ref:n})))}):K.createElement("path",Ex({},vt(r,!0),{className:T,d:Y3(u,f,h,m,p)}))};function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DA.apply(this,arguments)}var XC=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=Tt("recharts-dot",s);return r===+r&&n===+n&&i===+i?K.createElement("circle",DA({},vt(e,!1),Ky(e),{className:o,cx:r,cy:n,r:i})):null};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var p1e=["x","y","top","left","width","height","className"];function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LA.apply(this,arguments)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){v1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v1e(t,e,r){return e=y1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y1e(t){var e=x1e(t,"string");return mp(e)=="symbol"?e:e+""}function x1e(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b1e(t,e){if(t==null)return{};var r=w1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _1e=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},j1e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,u=e.left,f=u===void 0?0:u,h=e.width,m=h===void 0?0:h,p=e.height,y=p===void 0?0:p,_=e.className,b=b1e(e,p1e),x=g1e({x:n,y:s,top:l,left:f,width:m,height:y},b);return!Ae(n)||!Ae(s)||!Ae(m)||!Ae(y)||!Ae(l)||!Ae(f)?null:K.createElement("path",LA({},vt(x,!0),{className:Tt("recharts-cross",_),d:_1e(n,s,m,y,l,f)}))},hN,X3;function S1e(){if(X3)return hN;X3=1;var t=tq(),e=t(Object.getPrototypeOf,Object);return hN=e,hN}var mN,J3;function N1e(){if(J3)return mN;J3=1;var t=ho(),e=S1e(),r=mo(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,u=o.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==u}return mN=f,mN}var E1e=N1e();const A1e=Gt(E1e);var pN,Z3;function T1e(){if(Z3)return pN;Z3=1;var t=ho(),e=mo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return pN=n,pN}var C1e=T1e();const k1e=Gt(C1e);function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ax.apply(this,arguments)}function P1e(t,e){return M1e(t)||O1e(t,e)||R1e(t,e)||I1e()}function I1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R1e(t,e){if(t){if(typeof t=="string")return e$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e$(t,e)}}function e$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function M1e(t){if(Array.isArray(t))return t}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){D1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D1e(t,e,r){return e=L1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L1e(t){var e=$1e(t,"string");return pp(e)=="symbol"?e:e+""}function $1e(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n$=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},F1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V1e=function(e){var r=r$(r$({},F1e),e),n=j.useRef(),i=j.useState(-1),s=P1e(i,2),o=s[0],l=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var u=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,p=r.height,y=r.className,_=r.animationEasing,b=r.animationDuration,x=r.animationBegin,E=r.isUpdateAnimationActive;if(u!==+u||f!==+f||h!==+h||m!==+m||p!==+p||h===0&&m===0||p===0)return null;var S=Tt("recharts-trapezoid",y);return E?K.createElement(ao,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:u,y:f},to:{upperWidth:h,lowerWidth:m,height:p,x:u,y:f},duration:b,animationEasing:_,isActive:E},function(T){var N=T.upperWidth,C=T.lowerWidth,O=T.height,P=T.x,R=T.y;return K.createElement(ao,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:_},K.createElement("path",Ax({},vt(r,!0),{className:S,d:n$(P,R,N,C,O),ref:n})))}):K.createElement("g",null,K.createElement("path",Ax({},vt(r,!0),{className:S,d:n$(u,f,h,m,p)})))},B1e=["option","shapeType","propTransformer","activeClassName","isActive"];function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function U1e(t,e){if(t==null)return{};var r=z1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(r),!0).forEach(function(n){q1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q1e(t,e,r){return e=H1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H1e(t){var e=W1e(t,"string");return gp(e)=="symbol"?e:e+""}function W1e(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G1e(t,e){return Tx(Tx({},e),t)}function K1e(t,e){return t==="symbols"}function s$(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(QC,r);case"trapezoid":return K.createElement(V1e,r);case"sector":return K.createElement(T7,r);case"symbols":if(K1e(e))return K.createElement(pC,r);break;default:return null}}function Y1e(t){return j.isValidElement(t)?t.props:t}function Q1e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?G1e:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,u=U1e(t,B1e),f;if(j.isValidElement(e))f=j.cloneElement(e,Tx(Tx({},u),Y1e(e)));else if(mt(e))f=e(u);else if(A1e(e)&&!k1e(e)){var h=i(e,u);f=K.createElement(s$,{shapeType:r,elementProps:h})}else{var m=u;f=K.createElement(s$,{shapeType:r,elementProps:m})}return l?K.createElement(hr,{className:o},f):f}function f0(t,e){return e!=null&&"trapezoids"in t.props}function h0(t,e){return e!=null&&"sectors"in t.props}function vp(t,e){return e!=null&&"points"in t.props}function X1e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function J1e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Z1e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function e_e(t,e){var r;return f0(t,e)?r=X1e:h0(t,e)?r=J1e:vp(t,e)&&(r=Z1e),r}function t_e(t,e){var r;return f0(t,e)?r="trapezoids":h0(t,e)?r="sectors":vp(t,e)&&(r="points"),r}function r_e(t,e){if(f0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(h0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vp(t,e)?e.payload:{}}function n_e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=t_e(r,e),s=r_e(r,e),o=n.filter(function(u,f){var h=ep(s,u),m=r.props[i].filter(function(_){var b=e_e(r,e);return b(_,e)}),p=r.props[i].indexOf(m[m.length-1]),y=f===p;return h&&y}),l=n.indexOf(o[o.length-1]);return l}var gN,a$;function i_e(){if(a$)return gN;a$=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var l=-1,u=e(t((i-n)/(s||1)),0),f=Array(u);u--;)f[o?u:++l]=n,n+=s;return f}return gN=r,gN}var vN,o$;function L7(){if(o$)return vN;o$=1;var t=vq(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var s=i<0?-1:1;return s*r}return i===i?i:0}return vN=n,vN}var yN,l$;function s_e(){if(l$)return yN;l$=1;var t=i_e(),e=t0(),r=L7();function n(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,i)}}return yN=n,yN}var xN,c$;function a_e(){if(c$)return xN;c$=1;var t=s_e(),e=t();return xN=e,xN}var o_e=a_e();const Cx=Gt(o_e);function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function u$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(r),!0).forEach(function(n){$7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $7(t,e,r){return e=l_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l_e(t){var e=c_e(t,"string");return yp(e)=="symbol"?e:e+""}function c_e(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u_e=["Webkit","Moz","O","ms"],d_e=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=u_e.reduce(function(s,o){return d$(d$({},s),{},$7({},o+n,r))},{});return i[e]=r,i};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kx.apply(this,arguments)}function f$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(r),!0).forEach(function(n){oi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V7(n.key),n)}}function h_e(t,e,r){return e&&h$(t.prototype,e),r&&h$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_e(t,e,r){return e=Px(e),p_e(t,F7()?Reflect.construct(e,r||[],Px(t).constructor):e.apply(t,r))}function p_e(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g_e(t)}function g_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F7=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(t)}function v_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$A(t,e)}function $A(t,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$A(t,e)}function oi(t,e,r){return e=V7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V7(t){var e=y_e(t,"string");return df(e)=="symbol"?e:e+""}function y_e(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x_e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=mm().domain(Cx(0,u)).range([s,s+o-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},m$=function(e){return e.changedTouches&&!!e.changedTouches.length},ff=function(t){function e(r){var n;return f_e(this,e),n=m_e(this,e,[r]),oi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),oi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),oi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),oi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),oi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),oi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),oi(n,"handleSlideDragStart",function(i){var s=m$(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return v_e(e,t),h_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,f=l.data,h=f.length-1,m=Math.min(i,s),p=Math.max(i,s),y=e.getIndexInRange(o,m),_=e.getIndexInRange(o,p);return{startIndex:y-y%u,endIndex:_===h?h:_-_%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,u=xi(s[n],l,n);return mt(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,u=this.props,f=u.x,h=u.width,m=u.travellerWidth,p=u.startIndex,y=u.endIndex,_=u.onChange,b=n.pageX-s;b>0?b=Math.min(b,f+h-m-l,f+h-m-o):b<0&&(b=Math.max(b,f-o,f-l));var x=this.getIndex({startX:o+b,endX:l+b});(x.startIndex!==p||x.endIndex!==y)&&_&&_(x),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=m$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,u=i.startX,f=this.state[o],h=this.props,m=h.x,p=h.width,y=h.travellerWidth,_=h.onChange,b=h.gap,x=h.data,E={startX:this.state.startX,endX:this.state.endX},S=n.pageX-s;S>0?S=Math.min(S,m+p-y-f):S<0&&(S=Math.max(S,m-f)),E[o]=f+S;var T=this.getIndex(E),N=T.startIndex,C=T.endIndex,O=function(){var R=x.length-1;return o==="startX"&&(l>u?N%b===0:C%b===0)||l<u&&C===R||o==="endX"&&(l>u?C%b===0:N%b===0)||l>u&&C===R};this.setState(oi(oi({},o,f+S),"brushMoveStartX",n.pageX),function(){_&&O()&&_(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,u=o.startX,f=o.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var p=m+n;if(!(p===-1||p>=l.length)){var y=l[p];i==="startX"&&y>=f||i==="endX"&&y<=u||this.setState(oi({},i,y),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,u=n.fill,f=n.stroke;return K.createElement("rect",{stroke:f,fill:u,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,u=n.data,f=n.children,h=n.padding,m=j.Children.only(f);return m?K.cloneElement(m,{x:i,y:s,width:o,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,u=this.props,f=u.y,h=u.travellerWidth,m=u.height,p=u.traveller,y=u.ariaLabel,_=u.data,b=u.startIndex,x=u.endIndex,E=Math.max(n,this.props.x),S=bN(bN({},vt(this.props,!1)),{},{x:E,y:f,width:h,height:m}),T=y||"Min value: ".concat((s=_[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=_[x])===null||o===void 0?void 0:o.name);return K.createElement(hr,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,S))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,u=s.stroke,f=s.travellerWidth,h=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,p=h.endX,y=5,_={pointerEvents:"none",fill:f};return K.createElement(hr,{className:"recharts-brush-texts"},K.createElement(ax,kx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-y,y:o+l/2},_),this.getTextOfTick(i)),K.createElement(ax,kx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+u+y,y:o+l/2},_),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,u=n.y,f=n.width,h=n.height,m=n.alwaysShowText,p=this.state,y=p.startX,_=p.endX,b=p.isTextActive,x=p.isSlideMoving,E=p.isTravellerMoving,S=p.isTravellerFocused;if(!i||!i.length||!Ae(l)||!Ae(u)||!Ae(f)||!Ae(h)||f<=0||h<=0)return null;var T=Tt("recharts-brush",s),N=K.Children.count(o)===1,C=d_e("userSelect","none");return K.createElement(hr,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,_),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(_,"endX"),(b||x||E||S||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,u=n.stroke,f=Math.floor(s+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:s,width:o,height:l,fill:u,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,i):mt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,u=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return bN({prevData:s,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:o},s&&s.length?x_e({data:s,width:o,x:l,travellerWidth:u,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+o-u]);var p=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>i?l=u:o=u}return i>=n[l]?l:o}}])}(j.PureComponent);oi(ff,"displayName","Brush");oi(ff,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wN,p$;function b_e(){if(p$)return wN;p$=1;var t=_C();function e(r,n){var i;return t(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return wN=e,wN}var _N,g$;function w_e(){if(g$)return _N;g$=1;var t=K9(),e=zl(),r=b_e(),n=Zn(),i=t0();function s(o,l,u){var f=n(o)?t:r;return u&&i(o,l,u)&&(l=void 0),f(o,e(l,3))}return _N=s,_N}var __e=w_e();const j_e=Gt(__e);var ta=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},jN,v$;function S_e(){if(v$)return jN;v$=1;var t=fq();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return jN=e,jN}var SN,y$;function N_e(){if(y$)return SN;y$=1;var t=S_e(),e=uq(),r=zl();function n(i,s){var o={};return s=r(s,3),e(i,function(l,u,f){t(o,u,s(l,u,f))}),o}return SN=n,SN}var E_e=N_e();const A_e=Gt(E_e);var NN,x$;function T_e(){if(x$)return NN;x$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return NN=t,NN}var EN,b$;function C_e(){if(b$)return EN;b$=1;var t=_C();function e(r,n){var i=!0;return t(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return EN=e,EN}var AN,w$;function k_e(){if(w$)return AN;w$=1;var t=T_e(),e=C_e(),r=zl(),n=Zn(),i=t0();function s(o,l,u){var f=n(o)?t:e;return u&&i(o,l,u)&&(l=void 0),f(o,r(l,3))}return AN=s,AN}var P_e=k_e();const B7=Gt(P_e);var I_e=["x","y"];function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FA.apply(this,arguments)}function _$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(r),!0).forEach(function(n){R_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R_e(t,e,r){return e=O_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O_e(t){var e=M_e(t,"string");return xp(e)=="symbol"?e:e+""}function M_e(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D_e(t,e){if(t==null)return{};var r=L_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $_e(t,e){var r=t.x,n=t.y,i=D_e(t,I_e),s="".concat(r),o=parseInt(s,10),l="".concat(n),u=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),p=parseInt(m,10);return Wh(Wh(Wh(Wh(Wh({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:h,width:p,name:e.name,radius:e.radius})}function j$(t){return K.createElement(Q1e,FA({shapeType:"rectangle",propTransformer:$_e,activeClassName:"recharts-active-bar"},t))}var F_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,i):(s||su(),r)}},V_e=["value","background"],U7;function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function B_e(t,e){if(t==null)return{};var r=U_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ix.apply(this,arguments)}function S$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S$(Object(r),!0).forEach(function(n){dl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q7(n.key),n)}}function q_e(t,e,r){return e&&N$(t.prototype,e),r&&N$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H_e(t,e,r){return e=Rx(e),W_e(t,z7()?Reflect.construct(e,r||[],Rx(t).constructor):e.apply(t,r))}function W_e(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_e(t)}function G_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rx(t)}function K_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VA(t,e)}function dl(t,e,r){return e=q7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q7(t){var e=Y_e(t,"string");return hf(e)=="symbol"?e:e+""}function Y_e(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jp=function(t){function e(){var r;z_e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=H_e(this,e,[].concat(i)),dl(r,"state",{isAnimationFinished:!1}),dl(r,"id",Wp("recharts-bar-")),dl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),dl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return K_e(e,t),q_e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,u=s.activeIndex,f=s.activeBar,h=vt(this.props,!1);return n&&n.map(function(m,p){var y=p===u,_=y?f:o,b=Pr(Pr(Pr({},h),m),{},{isActive:y,option:_,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(hr,Ix({className:"recharts-bar-rectangle"},Yy(i.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value)}),K.createElement(j$,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,p=this.state.prevData;return K.createElement(ao,{begin:u,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t,b=s.map(function(x,E){var S=p&&p[E];if(S){var T=Di(S.x,x.x),N=Di(S.y,x.y),C=Di(S.width,x.width),O=Di(S.height,x.height);return Pr(Pr({},x),{},{x:T(_),y:N(_),width:C(_),height:O(_)})}if(o==="horizontal"){var P=Di(0,x.height),R=P(_);return Pr(Pr({},x),{},{y:x.y+x.height-R,height:R})}var M=Di(0,x.width),V=M(_);return Pr(Pr({},x),{},{width:V})});return K.createElement(hr,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!ep(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,u=vt(this.props.background,!1);return s.map(function(f,h){f.value;var m=f.background,p=B_e(f,V_e);if(!m)return null;var y=Pr(Pr(Pr(Pr(Pr({},p),{},{fill:"#eee"},m),u),Yy(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(j$,Ix({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,u=s.yAxis,f=s.layout,h=s.children,m=_s(h,d0);if(!m)return null;var p=f==="vertical"?o[0].height/2:o[0].width/2,y=function(x,E){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:xi(x,E)}},_={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(hr,_,m.map(function(b){return K.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:u,layout:f,offset:p,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,u=n.yAxis,f=n.left,h=n.top,m=n.width,p=n.height,y=n.isAnimationActive,_=n.background,b=n.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,E=Tt("recharts-bar",o),S=l&&l.allowDataOverflow,T=u&&u.allowDataOverflow,N=S||T,C=St(b)?this.id:b;return K.createElement(hr,{className:E},S||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(C)},K.createElement("rect",{x:S?f:f-m/2,y:T?h:h-p/2,width:S?m:m*2,height:T?p:p*2}))):null,K.createElement(hr,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(C,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,C),(!y||x)&&xl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);U7=Jp;dl(Jp,"displayName","Bar");dl(Jp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});dl(Jp,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,p=t.offset,y=Sbe(n,r);if(!y)return null;var _=e.layout,b=r.type.defaultProps,x=b!==void 0?Pr(Pr({},b),r.props):r.props,E=x.dataKey,S=x.children,T=x.minPointSize,N=_==="horizontal"?o:s,C=f?N.scale.domain():null,O=Ibe({numericAxis:N}),P=_s(S,xq),R=m.map(function(M,V){var $,D,L,B,G,q;f?$=Nbe(f[h+V],C):($=xi(M,E),Array.isArray($)||($=[O,$]));var Y=F_e(T,U7.defaultProps.minPointSize)($[1],V);if(_==="horizontal"){var z,J=[o.scale($[0]),o.scale($[1])],re=J[0],H=J[1];D=l3({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:M,index:V}),L=(z=H??re)!==null&&z!==void 0?z:void 0,B=y.size;var X=re-H;if(G=Number.isNaN(X)?0:X,q={x:D,y:o.y,width:B,height:o.height},Math.abs(Y)>0&&Math.abs(G)<Math.abs(Y)){var te=vs(G||Y)*(Math.abs(Y)-Math.abs(G));L-=te,G+=te}}else{var ee=[s.scale($[0]),s.scale($[1])],me=ee[0],ge=ee[1];if(D=me,L=l3({axis:o,ticks:u,bandSize:i,offset:y.offset,entry:M,index:V}),B=ge-me,G=y.size,q={x:s.x,y:L,width:s.width,height:G},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var ue=vs(B||Y)*(Math.abs(Y)-Math.abs(B));B+=ue}}return Pr(Pr(Pr({},M),{},{x:D,y:L,width:B,height:G,value:f?$:$[1],payload:M,background:q},P&&P[V]&&P[V].props),{},{tooltipPayload:[N7(r,M)],tooltipPosition:{x:D+B/2,y:L+G/2}})});return Pr({data:R,layout:_},p)});function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function Q_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H7(n.key),n)}}function X_e(t,e,r){return e&&E$(t.prototype,e),r&&E$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(r),!0).forEach(function(n){m0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m0(t,e,r){return e=H7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H7(t){var e=J_e(t,"string");return bp(e)=="symbol"?e:e+""}function J_e(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z_e=function(e,r,n,i,s){var o=e.width,l=e.height,u=e.layout,f=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!ui(f,Jp);return h.reduce(function(y,_){var b=r[_],x=b.orientation,E=b.domain,S=b.padding,T=S===void 0?{}:S,N=b.mirror,C=b.reversed,O="".concat(x).concat(N?"Mirror":""),P,R,M,V,$;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var D=E[1]-E[0],L=1/0,B=b.categoricalDomain.sort();if(B.forEach(function(ee,me){me>0&&(L=Math.min((ee||0)-(B[me-1]||0),L))}),Number.isFinite(L)){var G=L/D,q=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(P=G*q/2),b.padding==="no-gap"){var Y=nu(e.barCategoryGap,G*q),z=G*q/2;P=z-Y-(z-Y)/q*Y}}}i==="xAxis"?R=[n.left+(T.left||0)+(P||0),n.left+n.width-(T.right||0)-(P||0)]:i==="yAxis"?R=u==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(P||0),n.top+n.height-(T.bottom||0)-(P||0)]:R=b.range,C&&(R=[R[1],R[0]]);var J=_be(b,s,p),re=J.scale,H=J.realScaleType;re.domain(E).range(R),jbe(re);var X=Pbe(re,ms(ms({},b),{},{realScaleType:H}));i==="xAxis"?($=x==="top"&&!N||x==="bottom"&&N,M=n.left,V=m[O]-$*b.height):i==="yAxis"&&($=x==="left"&&!N||x==="right"&&N,M=m[O]-$*b.width,V=n.top);var te=ms(ms(ms({},b),X),{},{realScaleType:H,x:M,y:V,scale:re,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return te.bandSize=bx(te,X),!b.hide&&i==="xAxis"?m[O]+=($?-1:1)*te.height:b.hide||(m[O]+=($?-1:1)*te.width),ms(ms({},y),{},m0({},_,te))},{})},W7=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},eje=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return W7({x:r,y:n},{x:i,y:s})},G7=function(){function t(e){Q_e(this,t),this.scale=e}return X_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();m0(G7,"EPS",1e-4);var JC=function(e){var r=Object.keys(e).reduce(function(n,i){return ms(ms({},n),{},m0({},i,G7.create(e[i])))},{});return ms(ms({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return A_e(i,function(u,f){return r[f].apply(u,{bandAware:o,position:l})})},isInRange:function(i){return B7(i,function(s,o){return r[o].isInRange(s)})}})};function tje(t){return(t%180+180)%180}var rje=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=tje(i),o=s*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},TN,T$;function nje(){if(T$)return TN;T$=1;var t=zl(),e=Gp(),r=Zb();function n(i){return function(s,o,l){var u=Object(s);if(!e(s)){var f=t(o,3);s=r(s),o=function(m){return f(u[m],m,u)}}var h=i(s,o,l);return h>-1?u[f?s[h]:h]:void 0}}return TN=n,TN}var CN,C$;function ije(){if(C$)return CN;C$=1;var t=L7();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return CN=e,CN}var kN,k$;function sje(){if(k$)return kN;k$=1;var t=sq(),e=zl(),r=ije(),n=Math.max;function i(s,o,l){var u=s==null?0:s.length;if(!u)return-1;var f=l==null?0:r(l);return f<0&&(f=n(u+f,0)),t(s,e(o,3),f)}return kN=i,kN}var PN,P$;function aje(){if(P$)return PN;P$=1;var t=nje(),e=sje(),r=t(e);return PN=r,PN}var oje=aje();const lje=Gt(oje);var cje=b9();const uje=Gt(cje);var dje=uje(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ZC=j.createContext(void 0),ek=j.createContext(void 0),K7=j.createContext(void 0),Y7=j.createContext({}),Q7=j.createContext(void 0),X7=j.createContext(0),J7=j.createContext(0),I$=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,u=e.width,f=e.height,h=dje(s);return K.createElement(ZC.Provider,{value:n},K.createElement(ek.Provider,{value:i},K.createElement(Y7.Provider,{value:s},K.createElement(K7.Provider,{value:h},K.createElement(Q7.Provider,{value:o},K.createElement(X7.Provider,{value:f},K.createElement(J7.Provider,{value:u},l)))))))},fje=function(){return j.useContext(Q7)},Z7=function(e){var r=j.useContext(ZC);r==null&&su();var n=r[e];return n==null&&su(),n},hje=function(){var e=j.useContext(ZC);return el(e)},mje=function(){var e=j.useContext(ek),r=lje(e,function(n){return B7(n.domain,Number.isFinite)});return r||el(e)},eH=function(e){var r=j.useContext(ek);r==null&&su();var n=r[e];return n==null&&su(),n},pje=function(){var e=j.useContext(K7);return e},gje=function(){return j.useContext(Y7)},tk=function(){return j.useContext(J7)},rk=function(){return j.useContext(X7)};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function vje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rH(n.key),n)}}function xje(t,e,r){return e&&yje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bje(t,e,r){return e=Ox(e),wje(t,tH()?Reflect.construct(e,r||[],Ox(t).constructor):e.apply(t,r))}function wje(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _je(t)}function _je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tH=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(t)}function jje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BA(t,e)}function R$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(r),!0).forEach(function(n){nk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nk(t,e,r){return e=rH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rH(t){var e=Sje(t,"string");return mf(e)=="symbol"?e:e+""}function Sje(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nje(t,e){return Cje(t)||Tje(t,e)||Aje(t,e)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aje(t,e){if(t){if(typeof t=="string")return M$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M$(t,e)}}function M$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Cje(t){if(Array.isArray(t))return t}function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UA.apply(this,arguments)}var kje=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):mt(e)?n=e(r):n=K.createElement("line",UA({},r,{className:"recharts-reference-line-line"})),n},Pje=function(e,r,n,i,s,o,l,u,f){var h=s.x,m=s.y,p=s.width,y=s.height;if(n){var _=f.y,b=e.y.apply(_,{position:o});if(ta(f,"discard")&&!e.y.isInRange(b))return null;var x=[{x:h+p,y:b},{x:h,y:b}];return u==="left"?x.reverse():x}if(r){var E=f.x,S=e.x.apply(E,{position:o});if(ta(f,"discard")&&!e.x.isInRange(S))return null;var T=[{x:S,y:m+y},{x:S,y:m}];return l==="top"?T.reverse():T}if(i){var N=f.segment,C=N.map(function(O){return e.apply(O,{position:o})});return ta(f,"discard")&&j_e(C,function(O){return!e.isInRange(O)})?null:C}return null};function Ije(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,u=t.alwaysShow,f=fje(),h=Z7(i),m=eH(s),p=pje();if(!f||!p)return null;Wa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=JC({x:h.scale,y:m.scale}),_=Fr(e),b=Fr(r),x=n&&n.length===2,E=Pje(y,_,b,x,p,t.position,h.orientation,m.orientation,t);if(!E)return null;var S=Nje(E,2),T=S[0],N=T.x,C=T.y,O=S[1],P=O.x,R=O.y,M=ta(t,"hidden")?"url(#".concat(f,")"):void 0,V=O$(O$({clipPath:M},vt(t,!0)),{},{x1:N,y1:C,x2:P,y2:R});return K.createElement(hr,{className:Tt("recharts-reference-line",l)},kje(o,V),wn.renderCallByParent(t,eje({x1:N,y1:C,x2:P,y2:R})))}var ik=function(t){function e(){return vje(this,e),bje(this,e,arguments)}return jje(e,t),xje(e,[{key:"render",value:function(){return K.createElement(Ije,this.props)}}])}(K.Component);nk(ik,"displayName","ReferenceLine");nk(ik,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zA.apply(this,arguments)}function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function D$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(r),!0).forEach(function(n){p0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iH(n.key),n)}}function Mje(t,e,r){return e&&Oje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dje(t,e,r){return e=Mx(e),Lje(t,nH()?Reflect.construct(e,r||[],Mx(t).constructor):e.apply(t,r))}function Lje(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $je(t)}function $je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!t})()}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(t)}function Fje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qA(t,e)}function p0(t,e,r){return e=iH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iH(t){var e=Vje(t,"string");return pf(e)=="symbol"?e:e+""}function Vje(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bje=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=JC({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ta(e,"discard")&&!o.isInRange(l)?null:l},g0=function(t){function e(){return Rje(this,e),Dje(this,e,arguments)}return Fje(e,t),Mje(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,f=Fr(i),h=Fr(s);if(Wa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=Bje(this.props);if(!m)return null;var p=m.x,y=m.y,_=this.props,b=_.shape,x=_.className,E=ta(this.props,"hidden")?"url(#".concat(u,")"):void 0,S=L$(L$({clipPath:E},vt(this.props,!0)),{},{cx:p,cy:y});return K.createElement(hr,{className:Tt("recharts-reference-dot",x)},e.renderDot(b,S),wn.renderCallByParent(this.props,{x:p-o,y:y-o,width:2*o,height:2*o}))}}])}(K.Component);p0(g0,"displayName","ReferenceDot");p0(g0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});p0(g0,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):mt(t)?r=t(e):r=K.createElement(XC,zA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HA.apply(this,arguments)}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function $$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(r),!0).forEach(function(n){v0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aH(n.key),n)}}function qje(t,e,r){return e&&zje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hje(t,e,r){return e=Dx(e),Wje(t,sH()?Reflect.construct(e,r||[],Dx(t).constructor):e.apply(t,r))}function Wje(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gje(t)}function Gje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(t)}function Kje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WA(t,e)}function v0(t,e,r){return e=aH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aH(t){var e=Yje(t,"string");return gf(e)=="symbol"?e:e+""}function Yje(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qje=function(e,r,n,i,s){var o=s.x1,l=s.x2,u=s.y1,f=s.y2,h=s.xAxis,m=s.yAxis;if(!h||!m)return null;var p=JC({x:h.scale,y:m.scale}),y={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(u,{position:"start"}):p.y.rangeMin},_={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(f,{position:"end"}):p.y.rangeMax};return ta(s,"discard")&&(!p.isInRange(y)||!p.isInRange(_))?null:W7(y,_)},y0=function(t){function e(){return Uje(this,e),Hje(this,e,arguments)}return Kje(e,t),qje(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,u=n.className,f=n.alwaysShow,h=n.clipPathId;Wa(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Fr(i),p=Fr(s),y=Fr(o),_=Fr(l),b=this.props.shape;if(!m&&!p&&!y&&!_&&!b)return null;var x=Qje(m,p,y,_,this.props);if(!x&&!b)return null;var E=ta(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(hr,{className:Tt("recharts-reference-area",u)},e.renderRect(b,F$(F$({clipPath:E},vt(this.props,!0)),x)),wn.renderCallByParent(this.props,x))}}])}(K.Component);v0(y0,"displayName","ReferenceArea");v0(y0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v0(y0,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):mt(t)?r=t(e):r=K.createElement(QC,HA({},e,{className:"recharts-reference-area-rect"})),r});function oH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Xje(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return rje(n,r)}function Jje(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Lx(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Zje(t,e){return oH(t,e+1)}function eSe(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,u=0,f=1,h=o,m=function(){var _=n==null?void 0:n[u];if(_===void 0)return{v:oH(n,f)};var b=u,x,E=function(){return x===void 0&&(x=r(_,b)),x},S=_.coordinate,T=u===0||Lx(t,S,E,h,l);T||(u=0,h=o,f+=1),T&&(h=S+t*(E()/2+i),u+=f)},p;f<=s.length;)if(p=m(),p)return p.v;return[]}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function V$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(r),!0).forEach(function(n){tSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tSe(t,e,r){return e=rSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rSe(t){var e=nSe(t,"string");return wp(e)=="symbol"?e:e+""}function nSe(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iSe(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end,f=function(p){var y=s[p],_,b=function(){return _===void 0&&(_=r(y,p)),_};if(p===o-1){var x=t*(y.coordinate+t*b()/2-u);s[p]=y=vn(vn({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else s[p]=y=vn(vn({},y),{},{tickCoord:y.coordinate});var E=Lx(t,y.tickCoord,b,l,u);E&&(u=y.tickCoord-t*(b()/2+i),s[p]=vn(vn({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)f(h);return s}function sSe(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,u=e.start,f=e.end;if(s){var h=n[l-1],m=r(h,l-1),p=t*(h.coordinate+t*m/2-f);o[l-1]=h=vn(vn({},h),{},{tickCoord:p>0?h.coordinate-p*t:h.coordinate});var y=Lx(t,h.tickCoord,function(){return m},u,f);y&&(f=h.tickCoord-t*(m/2+i),o[l-1]=vn(vn({},h),{},{isShow:!0}))}for(var _=s?l-1:l,b=function(S){var T=o[S],N,C=function(){return N===void 0&&(N=r(T,S)),N};if(S===0){var O=t*(T.coordinate-t*C()/2-u);o[S]=T=vn(vn({},T),{},{tickCoord:O<0?T.coordinate-O*t:T.coordinate})}else o[S]=T=vn(vn({},T),{},{tickCoord:T.coordinate});var P=Lx(t,T.tickCoord,C,u,f);P&&(u=T.tickCoord+t*(C()/2+i),o[S]=vn(vn({},T),{},{isShow:!0}))},x=0;x<_;x++)b(x);return o}function sk(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,u=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(Ae(u)||zf.isSsr)return Zje(i,typeof u=="number"&&Ae(u)?u:0);var p=[],y=l==="top"||l==="bottom"?"width":"height",_=h&&y==="width"?hm(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(T,N){var C=mt(f)?f(T.value,N):T.value;return y==="width"?Xje(hm(C,{fontSize:e,letterSpacing:r}),_,m):hm(C,{fontSize:e,letterSpacing:r})[y]},x=i.length>=2?vs(i[1].coordinate-i[0].coordinate):1,E=Jje(s,x,y);return u==="equidistantPreserveStart"?eSe(x,E,b,i,o):(u==="preserveStart"||u==="preserveStartEnd"?p=sSe(x,E,b,i,o,u==="preserveStartEnd"):p=iSe(x,E,b,i,o),p.filter(function(S){return S.isShow}))}var aSe=["viewBox"],oSe=["viewBox"],lSe=["ticks"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pd.apply(this,arguments)}function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){ak(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IN(t,e){if(t==null)return{};var r=cSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cH(n.key),n)}}function dSe(t,e,r){return e&&U$(t.prototype,e),r&&U$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fSe(t,e,r){return e=$x(e),hSe(t,lH()?Reflect.construct(e,r||[],$x(t).constructor):e.apply(t,r))}function hSe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mSe(t)}function mSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lH=function(){return!!t})()}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$x(t)}function pSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GA(t,e)}function ak(t,e,r){return e=cH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cH(t){var e=gSe(t,"string");return vf(e)=="symbol"?e:e+""}function gSe(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kf=function(t){function e(r){var n;return uSe(this,e),n=fSe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return pSe(e,t),dSe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=IN(n,aSe),l=this.props,u=l.viewBox,f=IN(l,oSe);return!Td(s,u)||!Td(o,f)||!Td(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,u=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,p=i.tickMargin,y,_,b,x,E,S,T=m?-1:1,N=n.tickSize||h,C=Ae(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=_=n.coordinate,x=o+ +!m*u,b=x-T*N,S=b-T*p,E=C;break;case"left":b=x=n.coordinate,_=s+ +!m*l,y=_-T*N,E=y-T*p,S=C;break;case"right":b=x=n.coordinate,_=s+ +m*l,y=_+T*N,E=y+T*p,S=C;break;default:y=_=n.coordinate,x=o+ +m*u,b=x+T*N,S=b+T*p,E=C;break}return{line:{x1:y,y1:b,x2:_,y2:x},tick:{x:E,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,u=n.orientation,f=n.mirror,h=n.axisLine,m=Cn(Cn(Cn({},vt(this.props,!1)),vt(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var p=+(u==="top"&&!f||u==="bottom"&&f);m=Cn(Cn({},m),{},{x1:i,y1:s+p*l,x2:i+o,y2:s+p*l})}else{var y=+(u==="left"&&!f||u==="right"&&f);m=Cn(Cn({},m),{},{x1:i+y*o,y1:s,x2:i+y*o,y2:s+l})}return K.createElement("line",pd({},m,{className:Tt("recharts-cartesian-axis-line",Ui(h,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,u=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,p=l.unit,y=sk(Cn(Cn({},this.props),{},{ticks:n}),i,s),_=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=vt(this.props,!1),E=vt(h,!1),S=Cn(Cn({},x),{},{fill:"none"},vt(u,!1)),T=y.map(function(N,C){var O=o.getTickLineCoord(N),P=O.line,R=O.tick,M=Cn(Cn(Cn(Cn({textAnchor:_,verticalAnchor:b},x),{},{stroke:"none",fill:f},E),R),{},{index:C,payload:N,visibleTicksCount:y.length,tickFormatter:m});return K.createElement(hr,pd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Yy(o.props,N,C)),u&&K.createElement("line",pd({},S,P,{className:Tt("recharts-cartesian-axis-tick-line",Ui(u,"className"))})),h&&e.renderTickItem(h,M,"".concat(mt(m)?m(N.value,C):N.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,u=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,p=m.ticks,y=IN(m,lSe),_=p;return mt(u)&&(_=p&&p.length>0?u(this.props):u(y)),o<=0||l<=0||!_||!_.length?null:K.createElement(hr,{className:Tt("recharts-cartesian-axis",f),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),wn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return K.isValidElement(n)?o=K.cloneElement(n,i):mt(n)?o=n(i):o=K.createElement(ax,pd({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(j.Component);ak(Kf,"displayName","CartesianAxis");ak(Kf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vSe=["x1","y1","x2","y2","key"],ySe=["offset"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(r),!0).forEach(function(n){xSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xSe(t,e,r){return e=bSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bSe(t){var e=wSe(t,"string");return au(e)=="symbol"?e:e+""}function wSe(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mc.apply(this,arguments)}function q$(t,e){if(t==null)return{};var r=_Se(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jSe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,u=e.ry;return K.createElement("rect",{x:i,y:s,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function uH(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,u=q$(e,vSe),f=vt(u,!1);f.offset;var h=q$(f,ySe);r=K.createElement("line",Mc({},h,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function SSe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,u){var f=_n(_n({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(u),index:u});return uH(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function NSe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,u){var f=_n(_n({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(u),index:u});return uH(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ESe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,u=t.horizontal,f=u===void 0?!0:u;if(!f||!e||!e.length)return null;var h=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,y){return p-y});i!==h[0]&&h.unshift(0);var m=h.map(function(p,y){var _=!h[y+1],b=_?i+o-p:h[y+1]-p;if(b<=0)return null;var x=y%e.length;return K.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:b,width:s,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function ASe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,u=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(p){return Math.round(p+s-s)}).sort(function(p,y){return p-y});s!==h[0]&&h.unshift(0);var m=h.map(function(p,y){var _=!h[y+1],b=_?s+l-p:h[y+1]-p;if(b<=0)return null;var x=y%n.length;return K.createElement("rect",{key:"react-".concat(y),x:p,y:o,width:b,height:u,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var TSe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return j7(sk(_n(_n(_n({},Kf.defaultProps),n),{},{ticks:Fa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},CSe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return j7(sk(_n(_n(_n({},Kf.defaultProps),n),{},{ticks:Fa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},sd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dH(t){var e,r,n,i,s,o,l=tk(),u=rk(),f=gje(),h=_n(_n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:sd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:sd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sd.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:sd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:sd.verticalFill,x:Ae(t.x)?t.x:f.left,y:Ae(t.y)?t.y:f.top,width:Ae(t.width)?t.width:f.width,height:Ae(t.height)?t.height:f.height}),m=h.x,p=h.y,y=h.width,_=h.height,b=h.syncWithTicks,x=h.horizontalValues,E=h.verticalValues,S=hje(),T=mje();if(!Ae(y)||y<=0||!Ae(_)||_<=0||!Ae(m)||m!==+m||!Ae(p)||p!==+p)return null;var N=h.verticalCoordinatesGenerator||TSe,C=h.horizontalCoordinatesGenerator||CSe,O=h.horizontalPoints,P=h.verticalPoints;if((!O||!O.length)&&mt(C)){var R=x&&x.length,M=C({yAxis:T?_n(_n({},T),{},{ticks:R?x:T.ticks}):void 0,width:l,height:u,offset:f},R?!0:b);Wa(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(au(M),"]")),Array.isArray(M)&&(O=M)}if((!P||!P.length)&&mt(N)){var V=E&&E.length,$=N({xAxis:S?_n(_n({},S),{},{ticks:V?E:S.ticks}):void 0,width:l,height:u,offset:f},V?!0:b);Wa(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(au($),"]")),Array.isArray($)&&(P=$)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(jSe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(SSe,Mc({},h,{offset:f,horizontalPoints:O,xAxis:S,yAxis:T})),K.createElement(NSe,Mc({},h,{offset:f,verticalPoints:P,xAxis:S,yAxis:T})),K.createElement(ESe,Mc({},h,{horizontalPoints:O})),K.createElement(ASe,Mc({},h,{verticalPoints:P})))}dH.displayName="CartesianGrid";var kSe=["layout","type","stroke","connectNulls","isRange","ref"],PSe=["key"],fH;function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function hH(t,e){if(t==null)return{};var r=ISe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ISe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dc.apply(this,arguments)}function H$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Go(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(r),!0).forEach(function(n){Qs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pH(n.key),n)}}function OSe(t,e,r){return e&&W$(t.prototype,e),r&&W$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MSe(t,e,r){return e=Fx(e),DSe(t,mH()?Reflect.construct(e,r||[],Fx(t).constructor):e.apply(t,r))}function DSe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LSe(t)}function LSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(t)}function $Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KA(t,e)}function Qs(t,e,r){return e=pH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pH(t){var e=FSe(t,"string");return yf(e)=="symbol"?e:e+""}function FSe(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gl=function(t){function e(){var r;RSe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=MSe(this,e,[].concat(i)),Qs(r,"state",{isAnimationFinished:!0}),Qs(r,"id",Wp("recharts-area-")),Qs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),mt(o)&&o()}),Qs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),mt(o)&&o()}),r}return $Se(e,t),OSe(e,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,f=u.dot,h=u.points,m=u.dataKey,p=vt(this.props,!1),y=vt(f,!0),_=h.map(function(x,E){var S=Go(Go(Go({key:"dot-".concat(E),r:3},p),y),{},{index:E,cx:x.x,cy:x.y,dataKey:m,value:x.value,payload:x.payload,points:h});return e.renderDotItem(f,S)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return K.createElement(hr,Dc({className:"recharts-area-dots"},b),_)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,u=o[0].x,f=o[o.length-1].x,h=n*Math.abs(u-f),m=ul(o.map(function(p){return p.y||0}));return Ae(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(ul(s.map(function(p){return p.y||0})),m)),Ae(m)?K.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,u=o[0].y,f=o[o.length-1].y,h=n*Math.abs(u-f),m=ul(o.map(function(p){return p.x||0}));return Ae(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(ul(s.map(function(p){return p.x||0})),m)),Ae(m)?K.createElement("rect",{x:0,y:u<f?u:u-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var l=this.props,u=l.layout,f=l.type,h=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var y=hH(l,kSe);return K.createElement(hr,{clipPath:s?"url(#clipPath-".concat(o,")"):null},K.createElement(gm,Dc({},vt(y,!0),{points:n,connectNulls:m,type:f,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&K.createElement(gm,Dc({},vt(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:m,fill:"none",points:n})),h!=="none"&&p&&K.createElement(gm,Dc({},vt(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,u=o.baseLine,f=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,p=o.animationEasing,y=o.animationId,_=this.state,b=_.prevPoints,x=_.prevBaseLine;return K.createElement(ao,{begin:h,duration:m,isActive:f,easing:p,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(b){var T=b.length/l.length,N=l.map(function(R,M){var V=Math.floor(M*T);if(b[V]){var $=b[V],D=Di($.x,R.x),L=Di($.y,R.y);return Go(Go({},R),{},{x:D(S),y:L(S)})}return R}),C;if(Ae(u)&&typeof u=="number"){var O=Di(x,u);C=O(S)}else if(St(u)||Bf(u)){var P=Di(x,0);C=P(S)}else C=u.map(function(R,M){var V=Math.floor(M*T);if(x[V]){var $=x[V],D=Di($.x,R.x),L=Di($.y,R.y);return Go(Go({},R),{},{x:D(S),y:L(S)})}return R});return s.renderAreaStatically(N,C,n,i)}return K.createElement(hr,null,K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(S))),K.createElement(hr,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,u,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,p=f.totalLength;return u&&o&&o.length&&(!h&&p>0||!ep(h,o)||!ep(m,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,u=i.className,f=i.top,h=i.left,m=i.xAxis,p=i.yAxis,y=i.width,_=i.height,b=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var E=this.state.isAnimationFinished,S=l.length===1,T=Tt("recharts-area",u),N=m&&m.allowDataOverflow,C=p&&p.allowDataOverflow,O=N||C,P=St(x)?this.id:x,R=(n=vt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=R.r,V=M===void 0?3:M,$=R.strokeWidth,D=$===void 0?2:$,L=gfe(o)?o:{},B=L.clipDot,G=B===void 0?!0:B,q=V*2+D;return K.createElement(hr,{className:T},N||C?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(P)},K.createElement("rect",{x:N?h:h-y/2,y:C?f:f-_/2,width:N?y:y*2,height:C?_:_*2})),!G&&K.createElement("clipPath",{id:"clipPath-dots-".concat(P)},K.createElement("rect",{x:h-q/2,y:f-q/2,width:y+q,height:_+q}))):null,S?null:this.renderArea(O,P),(o||S)&&this.renderDots(O,G,P),(!b||E)&&xl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);fH=Gl;Qs(Gl,"displayName","Area");Qs(Gl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Qs(Gl,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(Ae(l)&&typeof l=="number")return l;var u=i==="horizontal"?n:r,f=u.scale.domain();if(u.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});Qs(Gl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,u=t.dataKey,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,p=t.offset,y=e.layout,_=f&&f.length,b=fH.getBaseValue(e,r,n,i),x=y==="horizontal",E=!1,S=m.map(function(N,C){var O;_?O=f[h+C]:(O=xi(N,u),Array.isArray(O)?E=!0:O=[b,O]);var P=O[1]==null||_&&xi(N,u)==null;return x?{x:o3({axis:n,ticks:s,bandSize:l,entry:N,index:C}),y:P?null:i.scale(O[1]),value:O,payload:N}:{x:P?null:n.scale(O[1]),y:o3({axis:i,ticks:o,bandSize:l,entry:N,index:C}),value:O,payload:N}}),T;return _||E?T=S.map(function(N){var C=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:C!=null&&N.y!=null?i.scale(C):null}:{x:C!=null?n.scale(C):null,y:N.y}}):T=x?i.scale(b):n.scale(b),Go({points:S,baseLine:T,layout:y,isRange:E},p)});Qs(Gl,"renderDotItem",function(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=Tt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=hH(e,PSe);r=K.createElement(XC,Dc({},s,{key:i,className:n}))}return r});function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yH(n.key),n)}}function USe(t,e,r){return e&&BSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zSe(t,e,r){return e=Vx(e),qSe(t,gH()?Reflect.construct(e,r||[],Vx(t).constructor):e.apply(t,r))}function qSe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(t)}function HSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(t)}function WSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YA(t,e)}function vH(t,e,r){return e=yH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yH(t){var e=GSe(t,"string");return xf(e)=="symbol"?e:e+""}function GSe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function KSe(t){var e=t.xAxisId,r=tk(),n=rk(),i=Z7(e);return i==null?null:K.createElement(Kf,QA({},i,{className:Tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Fa(o,!0)}}))}var x0=function(t){function e(){return VSe(this,e),zSe(this,e,arguments)}return WSe(e,t),USe(e,[{key:"render",value:function(){return K.createElement(KSe,this.props)}}])}(K.Component);vH(x0,"displayName","XAxis");vH(x0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function YSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wH(n.key),n)}}function XSe(t,e,r){return e&&QSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JSe(t,e,r){return e=Bx(e),ZSe(t,xH()?Reflect.construct(e,r||[],Bx(t).constructor):e.apply(t,r))}function ZSe(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eNe(t)}function eNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bx(t)}function tNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XA(t,e)}function bH(t,e,r){return e=wH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wH(t){var e=rNe(t,"string");return bf(e)=="symbol"?e:e+""}function rNe(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JA.apply(this,arguments)}var nNe=function(e){var r=e.yAxisId,n=tk(),i=rk(),s=eH(r);return s==null?null:K.createElement(Kf,JA({},s,{className:Tt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Fa(l,!0)}}))},b0=function(t){function e(){return YSe(this,e),JSe(this,e,arguments)}return tNe(e,t),XSe(e,[{key:"render",value:function(){return K.createElement(nNe,this.props)}}])}(K.Component);bH(b0,"displayName","YAxis");bH(b0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function G$(t){return oNe(t)||aNe(t)||sNe(t)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sNe(t,e){if(t){if(typeof t=="string")return ZA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(t,e)}}function aNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oNe(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var eT=function(e,r,n,i,s){var o=_s(e,ik),l=_s(e,g0),u=[].concat(G$(o),G$(l)),f=_s(e,y0),h="".concat(i,"Id"),m=i[0],p=r;if(u.length&&(p=u.reduce(function(b,x){if(x.props[h]===n&&ta(x.props,"extendDomain")&&Ae(x.props[m])){var E=x.props[m];return[Math.min(b[0],E),Math.max(b[1],E)]}return b},p)),f.length){var y="".concat(m,"1"),_="".concat(m,"2");p=f.reduce(function(b,x){if(x.props[h]===n&&ta(x.props,"extendDomain")&&Ae(x.props[y])&&Ae(x.props[_])){var E=x.props[y],S=x.props[_];return[Math.min(b[0],E,S),Math.max(b[1],E,S)]}return b},p)}return s&&s.length&&(p=s.reduce(function(b,x){return Ae(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},p)),p},RN={exports:{}},K$;function lNe(){return K$||(K$=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function s(u,f,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,m||u,p),_=r?r+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],y]:u._events[_].push(y):(u._events[_]=y,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,_=new Array(y);p<y;p++)_[p]=m[p].fn;return _},l.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,p,y,_){var b=r?r+f:f;if(!this._events[b])return!1;var x=this._events[b],E=arguments.length,S,T;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,m),!0;case 4:return x.fn.call(x.context,h,m,p),!0;case 5:return x.fn.call(x.context,h,m,p,y),!0;case 6:return x.fn.call(x.context,h,m,p,y,_),!0}for(T=1,S=new Array(E-1);T<E;T++)S[T-1]=arguments[T];x.fn.apply(x.context,S)}else{var N=x.length,C;for(T=0;T<N;T++)switch(x[T].once&&this.removeListener(f,x[T].fn,void 0,!0),E){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,h);break;case 3:x[T].fn.call(x[T].context,h,m);break;case 4:x[T].fn.call(x[T].context,h,m,p);break;default:if(!S)for(C=1,S=new Array(E-1);C<E;C++)S[C-1]=arguments[C];x[T].fn.apply(x[T].context,S)}}return!0},l.prototype.on=function(f,h,m){return s(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return s(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,p){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===h&&(!p||_.once)&&(!m||_.context===m)&&o(this,y);else{for(var b=0,x=[],E=_.length;b<E;b++)(_[b].fn!==h||p&&!_[b].once||m&&_[b].context!==m)&&x.push(_[b]);x.length?this._events[y]=x.length===1?x[0]:x:o(this,y)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(RN)),RN.exports}var cNe=lNe();const uNe=Gt(cNe);var ON=new uNe,MN="recharts.syncMouseEvents";function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function dNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_H(n.key),n)}}function hNe(t,e,r){return e&&fNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DN(t,e,r){return e=_H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _H(t){var e=mNe(t,"string");return _p(e)=="symbol"?e:e+""}function mNe(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pNe=function(){function t(){dNe(this,t),DN(this,"activeIndex",0),DN(this,"coordinateList",[]),DN(this,"layout","horizontal")}return hNe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,u=r.layout,f=u===void 0?null:u,h=r.offset,m=h===void 0?null:h,p=r.mouseHandlerCallback,y=p===void 0?null:p;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+u+f,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])}();function gNe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ae(n)&&Ae(i))return!0}return!1}function vNe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function jH(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=on(e,r,n,i),l=on(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function yNe(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,u=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,p=on(l,u,f,m),y=on(l,u,h,m);n=p.x,i=p.y,s=y.x,o=y.y}else return jH(e);return[{x:n,y:i},{x:s,y:o}]}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){xNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xNe(t,e,r){return e=bNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bNe(t){var e=wNe(t,"string");return jp(e)=="symbol"?e:e+""}function wNe(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ne(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,u=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,p=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!s||!o||p!=="ScatterChart"&&i!=="axis")return null;var _,b=gm;if(p==="ScatterChart")_=o,b=j1e;else if(p==="BarChart")_=vNe(m,o,u,h),b=QC;else if(m==="radial"){var x=jH(o),E=x.cx,S=x.cy,T=x.radius,N=x.startAngle,C=x.endAngle;_={cx:E,cy:S,startAngle:N,endAngle:C,innerRadius:T,outerRadius:T},b=T7}else _={points:yNe(m,o,u)},b=gm;var O=qv(qv(qv(qv({stroke:"#ccc",pointerEvents:"none"},u),_),vt(y,!1)),{},{payload:l,payloadIndex:f,className:Tt("recharts-tooltip-cursor",y.className)});return j.isValidElement(y)?j.cloneElement(y,O):j.createElement(b,O)}var jNe=["item"],SNe=["children","className","width","height","style","compact","title","desc"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ym.apply(this,arguments)}function Q$(t,e){return ANe(t)||ENe(t,e)||NH(t,e)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ENe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],u=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function ANe(t){if(Array.isArray(t))return t}function X$(t,e){if(t==null)return{};var r=TNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EH(n.key),n)}}function PNe(t,e,r){return e&&kNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function INe(t,e,r){return e=Ux(e),RNe(t,SH()?Reflect.construct(e,r||[],Ux(t).constructor):e.apply(t,r))}function RNe(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ONe(t)}function ONe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SH=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(t)}function MNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tT(t,e)}function tT(t,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tT(t,e)}function _f(t){return $Ne(t)||LNe(t)||NH(t)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(t,e){if(t){if(typeof t=="string")return rT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rT(t,e)}}function LNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ne(t){if(Array.isArray(t))return rT(t)}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(r),!0).forEach(function(n){Ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ze(t,e,r){return e=EH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EH(t){var e=FNe(t,"string");return wf(e)=="symbol"?e:e+""}function FNe(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VNe={xAxis:["bottom","top"],yAxis:["left","right"]},BNe={width:"100%",height:"100%"},AH={x:0,y:0};function Hv(t){return t}var UNe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},zNe=function(e,r,n,i){var s=r.find(function(h){return h&&h.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return pe(pe(pe({},i),on(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var u=s.coordinate,f=i.angle;return pe(pe(pe({},i),on(i.cx,i.cy,u,f)),{},{angle:f,radius:u})}return AH},w0=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var f=u.props.data;return f&&f.length?[].concat(_f(l),_f(f)):l},[]);return o.length>0?o:e&&e.length&&Ae(i)&&Ae(s)?e.slice(i,s+1):[]};function TH(t){return t==="number"?[0,"auto"]:void 0}var nT=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=w0(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(u,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var y=m===void 0?l:m;p=Gy(y,o.dataKey,i)}else p=m&&m[n]||l[n];return p?[].concat(_f(u),[N7(f,p)]):u},[])},Z$=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=UNe(s,n),l=e.orderedTooltipTicks,u=e.tooltipAxis,f=e.tooltipTicks,h=gbe(o,l,f,u);if(h>=0&&f){var m=f[h]&&f[h].value,p=nT(e,r,h,m),y=zNe(n,l,h,s);return{activeTooltipIndex:h,activeLabel:m,activePayload:p,activeCoordinate:y}}return null},qNe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,p=e.stackOffset,y=_7(h,s);return n.reduce(function(_,b){var x,E=b.type.defaultProps!==void 0?pe(pe({},b.type.defaultProps),b.props):b.props,S=E.type,T=E.dataKey,N=E.allowDataOverflow,C=E.allowDuplicatedCategory,O=E.scale,P=E.ticks,R=E.includeHidden,M=E[o];if(_[M])return _;var V=w0(e.data,{graphicalItems:i.filter(function(X){var te,ee=o in X.props?X.props[o]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[o];return ee===M}),dataStartIndex:u,dataEndIndex:f}),$=V.length,D,L,B;gNe(E.domain,N,S)&&(D=_A(E.domain,null,N),y&&(S==="number"||O!=="auto")&&(B=pm(V,T,"category")));var G=TH(S);if(!D||D.length===0){var q,Y=(q=E.domain)!==null&&q!==void 0?q:G;if(T){if(D=pm(V,T,S),S==="category"&&y){var z=ofe(D);C&&z?(L=D,D=Cx(0,$)):C||(D=d3(Y,D,b).reduce(function(X,te){return X.indexOf(te)>=0?X:[].concat(_f(X),[te])},[]))}else if(S==="category")C?D=D.filter(function(X){return X!==""&&!St(X)}):D=d3(Y,D,b).reduce(function(X,te){return X.indexOf(te)>=0||te===""||St(te)?X:[].concat(_f(X),[te])},[]);else if(S==="number"){var J=wbe(V,i.filter(function(X){var te,ee,me=o in X.props?X.props[o]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[o],ge="hide"in X.props?X.props.hide:(ee=X.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return me===M&&(R||!ge)}),T,s,h);J&&(D=J)}y&&(S==="number"||O!=="auto")&&(B=pm(V,T,"category"))}else y?D=Cx(0,$):l&&l[M]&&l[M].hasStack&&S==="number"?D=p==="expand"?[0,1]:S7(l[M].stackGroups,u,f):D=w7(V,i.filter(function(X){var te=o in X.props?X.props[o]:X.type.defaultProps[o],ee="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return te===M&&(R||!ee)}),S,h,!0);if(S==="number")D=eT(m,D,M,s,P),Y&&(D=_A(Y,D,N));else if(S==="category"&&Y){var re=Y,H=D.every(function(X){return re.indexOf(X)>=0});H&&(D=re)}}return pe(pe({},_),{},Ze({},M,pe(pe({},E),{},{axisType:s,domain:D,categoricalDomain:B,duplicateDomain:L,originalDomain:(x=E.domain)!==null&&x!==void 0?x:G,isCategorical:y,layout:h})))},{})},HNe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,p=w0(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:f}),y=p.length,_=_7(h,s),b=-1;return n.reduce(function(x,E){var S=E.type.defaultProps!==void 0?pe(pe({},E.type.defaultProps),E.props):E.props,T=S[o],N=TH("number");if(!x[T]){b++;var C;return _?C=Cx(0,y):l&&l[T]&&l[T].hasStack?(C=S7(l[T].stackGroups,u,f),C=eT(m,C,T,s)):(C=_A(N,w7(p,n.filter(function(O){var P,R,M=o in O.props?O.props[o]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[o],V="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return M===T&&!V}),"number",h),i.defaultProps.allowDataOverflow),C=eT(m,C,T,s)),pe(pe({},x),{},Ze({},T,pe(pe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ui(VNe,"".concat(s,".").concat(b%2),null),domain:C,originalDomain:N,isCategorical:_,layout:h})))}return x},{})},WNe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.children,m="".concat(i,"Id"),p=_s(h,s),y={};return p&&p.length?y=qNe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:f}):o&&o.length&&(y=HNe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:f})),y},GNe=function(e){var r=el(e),n=Fa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jC(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bx(r,n)}},eF=function(e){var r=e.children,n=e.defaultShowTooltip,i=ui(r,ff),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},KNe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ha(r&&r.type);return n&&n.indexOf("Bar")>=0})},tF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YNe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,u=l===void 0?{}:l,f=n.width,h=n.height,m=n.children,p=n.margin||{},y=ui(m,ff),_=ui(m,Cd),b=Object.keys(u).reduce(function(C,O){var P=u[O],R=P.orientation;return!P.mirror&&!P.hide?pe(pe({},C),{},Ze({},R,C[R]+P.width)):C},{left:p.left||0,right:p.right||0}),x=Object.keys(o).reduce(function(C,O){var P=o[O],R=P.orientation;return!P.mirror&&!P.hide?pe(pe({},C),{},Ze({},R,Ui(C,"".concat(R))+P.height)):C},{top:p.top||0,bottom:p.bottom||0}),E=pe(pe({},x),b),S=E.bottom;y&&(E.bottom+=y.props.height||ff.defaultProps.height),_&&r&&(E=xbe(E,i,n,r));var T=f-E.left-E.right,N=h-E.top-E.bottom;return pe(pe({brushBottom:S},E),{},{width:Math.max(T,0),height:Math.max(N,0)})},QNe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},XNe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,p=function(x,E){var S=E.graphicalItems,T=E.stackGroups,N=E.offset,C=E.updateId,O=E.dataStartIndex,P=E.dataEndIndex,R=x.barSize,M=x.layout,V=x.barGap,$=x.barCategoryGap,D=x.maxBarSize,L=tF(M),B=L.numericAxisName,G=L.cateAxisName,q=KNe(S),Y=[];return S.forEach(function(z,J){var re=w0(x.data,{graphicalItems:[z],dataStartIndex:O,dataEndIndex:P}),H=z.type.defaultProps!==void 0?pe(pe({},z.type.defaultProps),z.props):z.props,X=H.dataKey,te=H.maxBarSize,ee=H["".concat(B,"Id")],me=H["".concat(G,"Id")],ge={},ue=u.reduce(function(Qe,ct){var Ut=E["".concat(ct.axisType,"Map")],qt=H["".concat(ct.axisType,"Id")];Ut&&Ut[qt]||ct.axisType==="zAxis"||su();var cn=Ut[qt];return pe(pe({},Qe),{},Ze(Ze({},ct.axisType,cn),"".concat(ct.axisType,"Ticks"),Fa(cn)))},ge),ve=ue[G],de=ue["".concat(G,"Ticks")],he=T&&T[ee]&&T[ee].hasStack&&Rbe(z,T[ee].stackGroups),Ne=Ha(z.type).indexOf("Bar")>=0,le=bx(ve,de),qe=[],Re=q&&vbe({barSize:R,stackGroups:T,totalSize:QNe(ue,G)});if(Ne){var ze,at,Bt=St(te)?D:te,Ar=(ze=(at=bx(ve,de,!0))!==null&&at!==void 0?at:Bt)!==null&&ze!==void 0?ze:0;qe=ybe({barGap:V,barCategoryGap:$,bandSize:Ar!==le?Ar:le,sizeList:Re[me],maxBarSize:Bt}),Ar!==le&&(qe=qe.map(function(Qe){return pe(pe({},Qe),{},{position:pe(pe({},Qe.position),{},{offset:Qe.position.offset-Ar/2})})}))}var Ce=z&&z.type&&z.type.getComposedData;Ce&&Y.push({props:pe(pe({},Ce(pe(pe({},ue),{},{displayedData:re,props:x,dataKey:X,item:z,bandSize:le,barPosition:qe,offset:N,stackedData:he,layout:M,dataStartIndex:O,dataEndIndex:P}))),{},Ze(Ze(Ze({key:z.key||"item-".concat(J)},B,ue[B]),G,ue[G]),"animationId",C)),childIndex:xfe(z,x.children),item:z})}),Y},y=function(x,E){var S=x.props,T=x.dataStartIndex,N=x.dataEndIndex,C=x.updateId;if(!ND({props:S}))return null;var O=S.children,P=S.layout,R=S.stackOffset,M=S.data,V=S.reverseStackOrder,$=tF(P),D=$.numericAxisName,L=$.cateAxisName,B=_s(O,n),G=kbe(M,B,"".concat(D,"Id"),"".concat(L,"Id"),R,V),q=u.reduce(function(H,X){var te="".concat(X.axisType,"Map");return pe(pe({},H),{},Ze({},te,WNe(S,pe(pe({},X),{},{graphicalItems:B,stackGroups:X.axisType===D&&G,dataStartIndex:T,dataEndIndex:N}))))},{}),Y=YNe(pe(pe({},q),{},{props:S,graphicalItems:B}),E==null?void 0:E.legendBBox);Object.keys(q).forEach(function(H){q[H]=h(S,q[H],Y,H.replace("Map",""),r)});var z=q["".concat(L,"Map")],J=GNe(z),re=p(S,pe(pe({},q),{},{dataStartIndex:T,dataEndIndex:N,updateId:C,graphicalItems:B,stackGroups:G,offset:Y}));return pe(pe({formattedGraphicalItems:re,graphicalItems:B,offset:Y,stackGroups:G},J),q)},_=function(b){function x(E){var S,T,N;return CNe(this,x),N=INe(this,x,[E]),Ze(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ze(N,"accessibilityManager",new pNe),Ze(N,"handleLegendBBoxUpdate",function(C){if(C){var O=N.state,P=O.dataStartIndex,R=O.dataEndIndex,M=O.updateId;N.setState(pe({legendBBox:C},y({props:N.props,dataStartIndex:P,dataEndIndex:R,updateId:M},pe(pe({},N.state),{},{legendBBox:C}))))}}),Ze(N,"handleReceiveSyncEvent",function(C,O,P){if(N.props.syncId===C){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(O)}}),Ze(N,"handleBrushChange",function(C){var O=C.startIndex,P=C.endIndex;if(O!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var R=N.state.updateId;N.setState(function(){return pe({dataStartIndex:O,dataEndIndex:P},y({props:N.props,dataStartIndex:O,dataEndIndex:P,updateId:R},N.state))}),N.triggerSyncEvent({dataStartIndex:O,dataEndIndex:P})}}),Ze(N,"handleMouseEnter",function(C){var O=N.getMouseInfo(C);if(O){var P=pe(pe({},O),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var R=N.props.onMouseEnter;mt(R)&&R(P,C)}}),Ze(N,"triggeredAfterMouseMove",function(C){var O=N.getMouseInfo(C),P=O?pe(pe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var R=N.props.onMouseMove;mt(R)&&R(P,C)}),Ze(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ze(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ze(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),Ze(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseLeave;mt(P)&&P(O,C)}),Ze(N,"handleOuterEvent",function(C){var O=yfe(C),P=Ui(N.props,"".concat(O));if(O&&mt(P)){var R,M;/.*touch.*/i.test(O)?M=N.getMouseInfo(C.changedTouches[0]):M=N.getMouseInfo(C),P((R=M)!==null&&R!==void 0?R:{},C)}}),Ze(N,"handleClick",function(C){var O=N.getMouseInfo(C);if(O){var P=pe(pe({},O),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var R=N.props.onClick;mt(R)&&R(P,C)}}),Ze(N,"handleMouseDown",function(C){var O=N.props.onMouseDown;if(mt(O)){var P=N.getMouseInfo(C);O(P,C)}}),Ze(N,"handleMouseUp",function(C){var O=N.props.onMouseUp;if(mt(O)){var P=N.getMouseInfo(C);O(P,C)}}),Ze(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ze(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),Ze(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),Ze(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&ON.emit(MN,N.props.syncId,C,N.eventEmitterSymbol)}),Ze(N,"applySyncEvent",function(C){var O=N.props,P=O.layout,R=O.syncMethod,M=N.state.updateId,V=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(pe({dataStartIndex:V,dataEndIndex:$},y({props:N.props,dataStartIndex:V,dataEndIndex:$,updateId:M},N.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,L=C.chartY,B=C.activeTooltipIndex,G=N.state,q=G.offset,Y=G.tooltipTicks;if(!q)return;if(typeof R=="function")B=R(Y,C);else if(R==="value"){B=-1;for(var z=0;z<Y.length;z++)if(Y[z].value===C.activeLabel){B=z;break}}var J=pe(pe({},q),{},{x:q.left,y:q.top}),re=Math.min(D,J.x+J.width),H=Math.min(L,J.y+J.height),X=Y[B]&&Y[B].value,te=nT(N.state,N.props.data,B),ee=Y[B]?{x:P==="horizontal"?Y[B].coordinate:re,y:P==="horizontal"?H:Y[B].coordinate}:AH;N.setState(pe(pe({},C),{},{activeLabel:X,activeCoordinate:ee,activePayload:te,activeTooltipIndex:B}))}else N.setState(C)}),Ze(N,"renderCursor",function(C){var O,P=N.state,R=P.isTooltipActive,M=P.activeCoordinate,V=P.activePayload,$=P.offset,D=P.activeTooltipIndex,L=P.tooltipAxisBandSize,B=N.getTooltipEventType(),G=(O=C.props.active)!==null&&O!==void 0?O:R,q=N.props.layout,Y=C.key||"_recharts-cursor";return K.createElement(_Ne,{key:Y,activeCoordinate:M,activePayload:V,activeTooltipIndex:D,chartName:r,element:C,isActive:G,layout:q,offset:$,tooltipAxisBandSize:L,tooltipEventType:B})}),Ze(N,"renderPolarAxis",function(C,O,P){var R=Ui(C,"type.axisType"),M=Ui(N.state,"".concat(R,"Map")),V=C.type.defaultProps,$=V!==void 0?pe(pe({},V),C.props):C.props,D=M&&M[$["".concat(R,"Id")]];return j.cloneElement(C,pe(pe({},D),{},{className:Tt(R,D.className),key:C.key||"".concat(O,"-").concat(P),ticks:Fa(D,!0)}))}),Ze(N,"renderPolarGrid",function(C){var O=C.props,P=O.radialLines,R=O.polarAngles,M=O.polarRadius,V=N.state,$=V.radiusAxisMap,D=V.angleAxisMap,L=el($),B=el(D),G=B.cx,q=B.cy,Y=B.innerRadius,z=B.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(R)?R:Fa(B,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(M)?M:Fa(L,!0).map(function(J){return J.coordinate}),cx:G,cy:q,innerRadius:Y,outerRadius:z,key:C.key||"polar-grid",radialLines:P})}),Ze(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,O=N.props,P=O.children,R=O.width,M=O.height,V=N.props.margin||{},$=R-(V.left||0)-(V.right||0),D=x7({children:P,formattedGraphicalItems:C,legendWidth:$,legendContent:f});if(!D)return null;var L=D.item,B=X$(D,jNe);return j.cloneElement(L,pe(pe({},B),{},{chartWidth:R,chartHeight:M,margin:V,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ze(N,"renderTooltip",function(){var C,O=N.props,P=O.children,R=O.accessibilityLayer,M=ui(P,qs);if(!M)return null;var V=N.state,$=V.isTooltipActive,D=V.activeCoordinate,L=V.activePayload,B=V.activeLabel,G=V.offset,q=(C=M.props.active)!==null&&C!==void 0?C:$;return j.cloneElement(M,{viewBox:pe(pe({},G),{},{x:G.left,y:G.top}),active:q,label:B,payload:q?L:[],coordinate:D,accessibilityLayer:R})}),Ze(N,"renderBrush",function(C){var O=N.props,P=O.margin,R=O.data,M=N.state,V=M.offset,$=M.dataStartIndex,D=M.dataEndIndex,L=M.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Vv(N.handleBrushChange,C.props.onChange),data:R,x:Ae(C.props.x)?C.props.x:V.left,y:Ae(C.props.y)?C.props.y:V.top+V.height+V.brushBottom-(P.bottom||0),width:Ae(C.props.width)?C.props.width:V.width,startIndex:$,endIndex:D,updateId:"brush-".concat(L)})}),Ze(N,"renderReferenceElement",function(C,O,P){if(!C)return null;var R=N,M=R.clipPathId,V=N.state,$=V.xAxisMap,D=V.yAxisMap,L=V.offset,B=C.type.defaultProps||{},G=C.props,q=G.xAxisId,Y=q===void 0?B.xAxisId:q,z=G.yAxisId,J=z===void 0?B.yAxisId:z;return j.cloneElement(C,{key:C.key||"".concat(O,"-").concat(P),xAxis:$[Y],yAxis:D[J],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),Ze(N,"renderActivePoints",function(C){var O=C.item,P=C.activePoint,R=C.basePoint,M=C.childIndex,V=C.isRange,$=[],D=O.props.key,L=O.item.type.defaultProps!==void 0?pe(pe({},O.item.type.defaultProps),O.item.props):O.item.props,B=L.activeDot,G=L.dataKey,q=pe(pe({index:M,dataKey:G,cx:P.x,cy:P.y,r:4,fill:YC(O.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},vt(B,!1)),Ky(B));return $.push(x.renderActiveDot(B,q,"".concat(D,"-activePoint-").concat(M))),R?$.push(x.renderActiveDot(B,pe(pe({},q),{},{cx:R.x,cy:R.y}),"".concat(D,"-basePoint-").concat(M))):V&&$.push(null),$}),Ze(N,"renderGraphicChild",function(C,O,P){var R=N.filterFormatItem(C,O,P);if(!R)return null;var M=N.getTooltipEventType(),V=N.state,$=V.isTooltipActive,D=V.tooltipAxis,L=V.activeTooltipIndex,B=V.activeLabel,G=N.props.children,q=ui(G,qs),Y=R.props,z=Y.points,J=Y.isRange,re=Y.baseLine,H=R.item.type.defaultProps!==void 0?pe(pe({},R.item.type.defaultProps),R.item.props):R.item.props,X=H.activeDot,te=H.hide,ee=H.activeBar,me=H.activeShape,ge=!!(!te&&$&&q&&(X||ee||me)),ue={};M!=="axis"&&q&&q.props.trigger==="click"?ue={onClick:Vv(N.handleItemMouseEnter,C.props.onClick)}:M!=="axis"&&(ue={onMouseLeave:Vv(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Vv(N.handleItemMouseEnter,C.props.onMouseEnter)});var ve=j.cloneElement(C,pe(pe({},R.props),ue));function de(ct){return typeof D.dataKey=="function"?D.dataKey(ct.payload):null}if(ge)if(L>=0){var he,Ne;if(D.dataKey&&!D.allowDuplicatedCategory){var le=typeof D.dataKey=="function"?de:"payload.".concat(D.dataKey.toString());he=Gy(z,le,B),Ne=J&&re&&Gy(re,le,B)}else he=z==null?void 0:z[L],Ne=J&&re&&re[L];if(me||ee){var qe=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[j.cloneElement(C,pe(pe(pe({},R.props),ue),{},{activeIndex:qe})),null,null]}if(!St(he))return[ve].concat(_f(N.renderActivePoints({item:R,activePoint:he,basePoint:Ne,childIndex:L,isRange:J})))}else{var Re,ze=(Re=N.getItemByXY(N.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:ve},at=ze.graphicalItem,Bt=at.item,Ar=Bt===void 0?C:Bt,Ce=at.childIndex,Qe=pe(pe(pe({},R.props),ue),{},{activeIndex:Ce});return[j.cloneElement(Ar,Qe),null,null]}return J?[ve,null,null]:[ve,null]}),Ze(N,"renderCustomized",function(C,O,P){return j.cloneElement(C,pe(pe({key:"recharts-customized-".concat(P)},N.props),N.state))}),Ze(N,"renderMap",{CartesianGrid:{handler:Hv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Hv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Hv},YAxis:{handler:Hv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((S=E.id)!==null&&S!==void 0?S:Wp("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=yq(N.triggeredAfterMouseMove,(T=E.throttleDelay)!==null&&T!==void 0?T:1e3/60),N.state={},N}return MNe(x,b),PNe(x,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,N=S.data,C=S.height,O=S.layout,P=ui(T,qs);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,V=nT(this.state,N,R,M),$=this.state.tooltipTicks[R].coordinate,D=(this.state.offset.top+C)/2,L=O==="horizontal",B=L?{x:$,y:D}:{y:$,x:D},G=this.state.formattedGraphicalItems.find(function(Y){var z=Y.item;return z.type.name==="Scatter"});G&&(B=pe(pe({},B),G.props.points[R].tooltipPosition),V=G.props.points[R].tooltipPayload);var q={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:M,activePayload:V,activeCoordinate:B};this.setState(q),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(S){qE([ui(S.children,qs)],[ui(this.props.children,qs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ui(this.props.children,qs);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return l.indexOf(T)>=0?T:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,N=T.getBoundingClientRect(),C=age(N),O={chartX:Math.round(S.pageX-C.left),chartY:Math.round(S.pageY-C.top)},P=N.width/T.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,P);if(!R)return null;var M=this.state,V=M.xAxisMap,$=M.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&V&&$){var L=el(V).scale,B=el($).scale,G=L&&L.invert?L.invert(O.chartX):null,q=B&&B.invert?B.invert(O.chartY):null;return pe(pe({},O),{},{xValue:G,yValue:q})}var Y=Z$(this.state,this.props.data,this.props.layout,R);return Y?pe(pe({},O),Y):null}},{key:"inRange",value:function(S,T){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,O=S/N,P=T/N;if(C==="horizontal"||C==="vertical"){var R=this.state.offset,M=O>=R.left&&O<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return M?{x:O,y:P}:null}var V=this.state,$=V.angleAxisMap,D=V.radiusAxisMap;if($&&D){var L=el($);return m3({x:O,y:P},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),N=ui(S,qs),C={};N&&T==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var O=Ky(this.props,this.handleOuterEvent);return pe(pe({},O),C)}},{key:"addListener",value:function(){ON.on(MN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ON.removeListener(MN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,N){for(var C=this.state.formattedGraphicalItems,O=0,P=C.length;O<P;O++){var R=C[O];if(R.item===S||R.props.key===S.key||T===Ha(R.item.type)&&N===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,N=T.left,C=T.top,O=T.height,P=T.width;return K.createElement("defs",null,K.createElement("clipPath",{id:S},K.createElement("rect",{x:N,y:C,height:O,width:P})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,N){var C=Q$(N,2),O=C[0],P=C[1];return pe(pe({},T),{},Ze({},O,P.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,N){var C=Q$(N,2),O=C[0],P=C[1];return pe(pe({},T),{},Ze({},O,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,N=T.formattedGraphicalItems,C=T.activeItem;if(N&&N.length)for(var O=0,P=N.length;O<P;O++){var R=N[O],M=R.props,V=R.item,$=V.type.defaultProps!==void 0?pe(pe({},V.type.defaultProps),V.props):V.props,D=Ha(V.type);if(D==="Bar"){var L=(M.data||[]).find(function(Y){return h1e(S,Y)});if(L)return{graphicalItem:R,payload:L}}else if(D==="RadialBar"){var B=(M.data||[]).find(function(Y){return m3(S,Y)});if(B)return{graphicalItem:R,payload:B}}else if(f0(R,C)||h0(R,C)||vp(R,C)){var G=n_e({graphicalItem:R,activeTooltipItem:C,itemData:$.data}),q=$.activeIndex===void 0?G:$.activeIndex;return{graphicalItem:pe(pe({},R),{},{childIndex:q}),payload:vp(R,C)?$.data[G]:R.props.data[G]}}}return null}},{key:"render",value:function(){var S=this;if(!ND(this))return null;var T=this.props,N=T.children,C=T.className,O=T.width,P=T.height,R=T.style,M=T.compact,V=T.title,$=T.desc,D=X$(T,SNe),L=vt(D,!1);if(M)return K.createElement(I$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(WE,ym({},L,{width:O,height:P,title:V,desc:$}),this.renderClipPath(),AD(N,this.renderMap)));if(this.props.accessibilityLayer){var B,G;L.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,L.role=(G=this.props.role)!==null&&G!==void 0?G:"application",L.onKeyDown=function(Y){S.accessibilityManager.keyboardEvent(Y)},L.onFocus=function(){S.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return K.createElement(I$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",ym({className:Tt("recharts-wrapper",C),style:pe({position:"relative",cursor:"default",width:O,height:P},R)},q,{ref:function(z){S.container=z}}),K.createElement(WE,ym({},L,{width:O,height:P,title:V,desc:$,style:BNe}),this.renderClipPath(),AD(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);return Ze(_,"displayName",r),Ze(_,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ze(_,"getDerivedStateFromProps",function(b,x){var E=b.dataKey,S=b.data,T=b.children,N=b.width,C=b.height,O=b.layout,P=b.stackOffset,R=b.margin,M=x.dataStartIndex,V=x.dataEndIndex;if(x.updateId===void 0){var $=eF(b);return pe(pe(pe({},$),{},{updateId:0},y(pe(pe({props:b},$),{},{updateId:0}),x)),{},{prevDataKey:E,prevData:S,prevWidth:N,prevHeight:C,prevLayout:O,prevStackOffset:P,prevMargin:R,prevChildren:T})}if(E!==x.prevDataKey||S!==x.prevData||N!==x.prevWidth||C!==x.prevHeight||O!==x.prevLayout||P!==x.prevStackOffset||!Td(R,x.prevMargin)){var D=eF(b),L={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=pe(pe({},Z$(x,S,O)),{},{updateId:x.updateId+1}),G=pe(pe(pe({},D),L),B);return pe(pe(pe({},G),y(pe({props:b},G),x)),{},{prevDataKey:E,prevData:S,prevWidth:N,prevHeight:C,prevLayout:O,prevStackOffset:P,prevMargin:R,prevChildren:T})}if(!qE(T,x.prevChildren)){var q,Y,z,J,re=ui(T,ff),H=re&&(q=(Y=re.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&q!==void 0?q:M,X=re&&(z=(J=re.props)===null||J===void 0?void 0:J.endIndex)!==null&&z!==void 0?z:V,te=H!==M||X!==V,ee=!St(S),me=ee&&!te?x.updateId:x.updateId+1;return pe(pe({updateId:me},y(pe(pe({props:b},x),{},{updateId:me,dataStartIndex:H,dataEndIndex:X}),x)),{},{prevChildren:T,dataStartIndex:H,dataEndIndex:X})}return null}),Ze(_,"renderActiveDot",function(b,x,E){var S;return j.isValidElement(b)?S=j.cloneElement(b,x):mt(b)?S=b(x):S=K.createElement(XC,x),K.createElement(hr,{className:"recharts-active-dot",key:E},S)}),function(x){return K.createElement(_,x)}},JNe=XNe({chartName:"AreaChart",GraphicalChild:Gl,axisComponents:[{axisType:"xAxis",AxisComp:x0},{axisType:"yAxis",AxisComp:b0}],formatAxisMap:Z_e});const LN=({data:t,title:e,dataKey:r="value",color:n="#00ffcc",height:i=300})=>a.jsxs("div",{className:"sci-fi-card",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:e}),a.jsx("div",{style:{width:"100%",height:i},children:a.jsx(Zpe,{width:"100%",height:"100%",children:a.jsxs(JNe,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`color${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:n,stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:n,stopOpacity:0})]})}),a.jsx(dH,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),a.jsx(x0,{dataKey:"date",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(b0,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),a.jsx(qs,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),a.jsx(Gl,{type:"monotone",dataKey:r,stroke:n,fillOpacity:1,fill:`url(#color${r})`})]})})})]}),CH=[{id:"food_explorer",name:"Food Explorer",description:"Scan 10 different food products",icon:"🔍",level:"bronze",achieved:!1,progress:2,progressMax:10},{id:"water_tracker",name:"Hydration Hero",description:"Track your water intake for 7 consecutive days",icon:"💧",level:"silver",achieved:!1,progress:3,progressMax:7},{id:"recipe_master",name:"Recipe Master",description:"Save and try 5 healthy recipes",icon:"🍲",level:"gold",achieved:!1,progress:1,progressMax:5},{id:"community_helper",name:"Community Guide",description:"Help 3 users by answering their questions in the community",icon:"🤝",level:"bronze",achieved:!1,progress:0,progressMax:3},{id:"health_analyst",name:"Health Analyst",description:"Complete all health calculators in the HealthBox",icon:"📊",level:"silver",achieved:!0}],kH=[{id:"first_login",name:"First Steps",description:"Log in to SafeBite for the first time",completed:!0,date:new Date(Date.now()-864e5*3),reward:{points:100}},{id:"complete_profile",name:"Getting to Know You",description:"Complete your user profile with all health data",completed:!0,date:new Date(Date.now()-864e5*2),reward:{points:150}},{id:"first_scan",name:"Food Detective",description:"Scan your first food product",completed:!0,date:new Date(Date.now()-864e5),reward:{points:50,badges:[{id:"first_scan_badge",name:"Scanner Novice",description:"First food product scanned",icon:"🔎",level:"bronze",achieved:!0}]}},{id:"first_week",name:"One Week Strong",description:"Use SafeBite for 7 consecutive days",completed:!1,reward:{points:200}},{id:"health_guru",name:"Health Guru",description:"Achieve all health goals for one week",completed:!1,reward:{points:500,badges:[{id:"health_guru_badge",name:"Health Master",description:"Achieved all health goals for a week",icon:"🏆",level:"gold",achieved:!1}]}}];CH.filter(t=>t.achieved),kH.filter(t=>t.completed);const ZNe=()=>CH,eEe=()=>kH,tEe=()=>{const[t,e]=j.useState("healthReport"),[r,n]=j.useState(null),[i,s]=j.useState(!0),[o,l]=j.useState(""),[u,f]=j.useState(null),{toast:h}=ar(),{isGuest:m}=Jn(),p=Vt(Ke),y=Er(Ke),_=ZNe(),b=eEe();j.useEffect(()=>{(async()=>{if(m){s(!1);return}try{const G=p.currentUser;if(!G){s(!1);return}const q=gt(y,"users",G.uid),Y=await sr(q);if(Y.exists()){const z=Y.data();f(z),console.log("User profile loaded for reports:",z)}else console.log("No user profile found!")}catch(G){console.error("Error fetching user profile:",G),l(G.message)}finally{s(!1)}})()},[m,p,y]);const x=()=>{var B,G,q;if((B=u==null?void 0:u.weeklyCheckin)!=null&&B.answers){const Y=u.weeklyCheckin.answers,z=((G=u.profile)==null?void 0:G.health_goals)==="Weight Loss"?1600:((q=u.profile)==null?void 0:q.health_goals)==="Muscle Gain"?2200:1800,J=Y.exercise>300?1.2:Y.exercise>150?1.1:1,re=Y.home_cooked>15?.9:Y.home_cooked>10?.95:1,H=Y.junk_food>10?1.2:Y.junk_food>5?1.1:1,X=z*J*re*H;return{calorieData:[{date:"Mon",value:Math.round(X*(.9+Math.random()*.2))},{date:"Tue",value:Math.round(X*(.9+Math.random()*.2))},{date:"Wed",value:Math.round(X*(.9+Math.random()*.2))},{date:"Thu",value:Math.round(X*(.9+Math.random()*.2))},{date:"Fri",value:Math.round(X*(.9+Math.random()*.2))},{date:"Sat",value:Math.round(X*(.9+Math.random()*.2))},{date:"Sun",value:Math.round(X*(.9+Math.random()*.2))}],waterData:[{date:"Mon",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.8)):6},{date:"Tue",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):5},{date:"Wed",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.1)):8},{date:"Thu",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1)):7},{date:"Fri",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.7)):4},{date:"Sat",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.2)):9},{date:"Sun",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):6}],nutrientData:[{date:"Mon",value:Y.junk_food>5?70:85},{date:"Tue",value:Y.junk_food>5?65:78},{date:"Wed",value:Y.junk_food>5?75:92},{date:"Thu",value:Y.junk_food>5?68:76},{date:"Fri",value:Y.junk_food>5?72:82},{date:"Sat",value:Y.junk_food>5?74:89},{date:"Sun",value:Y.junk_food>5?71:86}]}}return{calorieData:[{date:"Mon",value:1800},{date:"Tue",value:1600},{date:"Wed",value:2100},{date:"Thu",value:1500},{date:"Fri",value:1900},{date:"Sat",value:2200},{date:"Sun",value:1700}],waterData:[{date:"Mon",value:6},{date:"Tue",value:5},{date:"Wed",value:8},{date:"Thu",value:7},{date:"Fri",value:4},{date:"Sat",value:9},{date:"Sun",value:6}],nutrientData:[{date:"Mon",value:85},{date:"Tue",value:78},{date:"Wed",value:92},{date:"Thu",value:76},{date:"Fri",value:82},{date:"Sat",value:89},{date:"Sun",value:86}]}},{calorieData:E,waterData:S,nutrientData:T}=x(),C=(()=>{var B;if(u!=null&&u.profile){const G=u.profile,q=(B=u.weeklyCheckin)==null?void 0:B.answers;let Y=G.health_goals==="Weight Loss"?1600:G.health_goals==="Muscle Gain"?2200:1800,z=G.health_goals==="Muscle Gain"?120:G.health_goals==="Weight Loss"?100:80,J=G.health_goals==="Weight Loss"?150:G.health_goals==="Muscle Gain"?250:200,re=G.health_goals==="Weight Loss"?50:G.health_goals==="Muscle Gain"?70:60;q&&(q.exercise>300?Y+=200:q.exercise>150&&(Y+=100),q.exercise>300?z+=20:q.exercise>150&&(z+=10));const H=Math.round(Y*.9),X=q!=null&&q.water_intake?(q.water_intake*.25).toFixed(1):"6.5",te=Math.round(z*.9),ee=Math.round(J*.92),me=Math.round(re*.97),ge=(q==null?void 0:q.junk_food)>5?32:22,ue=q!=null&&q.exercise?Math.round(q.exercise/7):35;return[{name:"Daily Calories",value:H.toLocaleString(),target:Y.toLocaleString(),unit:"kcal",progress:Math.round(H/Y*100)},{name:"Water Intake",value:X,target:"8",unit:"cups",progress:Math.round(parseFloat(X)/8*100)},{name:"Protein",value:te.toString(),target:z.toString(),unit:"g",progress:Math.round(te/z*100)},{name:"Carbs",value:ee.toString(),target:J.toString(),unit:"g",progress:Math.round(ee/J*100)},{name:"Fat",value:me.toString(),target:re.toString(),unit:"g",progress:Math.round(me/re*100)},{name:"Sugar",value:ge.toString(),target:"25",unit:"g",progress:Math.round(ge/25*100)},{name:"Exercise",value:ue.toString(),target:"30",unit:"min",progress:Math.round(ue/30*100)}]}return[{name:"Daily Calories",value:"1,750",target:"2,000",unit:"kcal",progress:87},{name:"Water Intake",value:"6.5",target:"8",unit:"cups",progress:81},{name:"Protein",value:"72",target:"80",unit:"g",progress:90},{name:"Carbs",value:"230",target:"250",unit:"g",progress:92},{name:"Fat",value:"58",target:"60",unit:"g",progress:97},{name:"Sugar",value:"32",target:"25",unit:"g",progress:128},{name:"Exercise",value:"35",target:"30",unit:"min",progress:117}]})(),P=(()=>{var G,q,Y,z,J,re,H,X;const B=[{name:"High Sodium Foods",count:((G=u==null?void 0:u.profile)==null?void 0:G.health_conditions)==="Hypertension"?7:4,recommendation:"Try to reduce your sodium intake by choosing low-sodium alternatives."},{name:"Artificial Additives",count:((Y=(q=u==null?void 0:u.weeklyCheckin)==null?void 0:q.answers)==null?void 0:Y.junk_food)>5?10:7,recommendation:"Consider choosing more natural food options with fewer additives."},{name:"Added Sugar",count:((z=u==null?void 0:u.profile)==null?void 0:z.health_conditions)==="Diabetes"?8:5,recommendation:"Look for sugar-free or reduced sugar alternatives."}];return((J=u==null?void 0:u.profile)==null?void 0:J.health_conditions)==="Diabetes"&&B.push({name:"High Glycemic Index Foods",count:6,recommendation:"Choose low glycemic index foods to help manage blood sugar levels."}),((re=u==null?void 0:u.profile)==null?void 0:re.health_conditions)==="Heart Issues"&&B.push({name:"Trans Fats",count:3,recommendation:"Avoid foods with trans fats as they can increase risk of heart disease."}),(((H=u==null?void 0:u.profile)==null?void 0:H.dietary_preferences)==="Vegan"||((X=u==null?void 0:u.profile)==null?void 0:X.dietary_preferences)==="Vegetarian")&&B.push({name:"Hidden Animal Products",count:2,recommendation:"Watch for hidden animal-derived ingredients in processed foods."}),B})(),R=()=>{h({title:"Report Downloaded",description:"Your health report has been downloaded successfully."})},M=B=>{n(r===B?null:B)},V=(B,G)=>{h({title:"Shared successfully",description:`Your achievement has been shared to ${B}.`}),n(null)},$=x().calorieData,D=x().waterData,L=x().nutrientData;return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(ua,{}),a.jsx("main",{className:"md:ml-64 min-h-screen",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i&&a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(Vr,{className:"h-8 w-8 text-safebite-teal animate-spin"}),a.jsx("span",{className:"ml-2 text-safebite-text-secondary",children:"Loading your reports..."})]}),!i&&o&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx(Ka,{className:"h-12 w-12 text-red-500 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Error Loading Reports"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:o}),a.jsx(ie,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Try Again"})]}),!i&&!o&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Reports & Achievements"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Track your health progress and earn badges for healthy habits"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs(ie,{onClick:R,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(aY,{className:"mr-2 h-4 w-4"}),"Download Report"]})})]}),a.jsxs(fo,{defaultValue:"healthReport",className:"mb-6",onValueChange:e,children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(da,{className:"grid grid-cols-3 gap-2",children:[a.jsxs($t,{value:"healthReport",className:t==="healthReport"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(JK,{className:"mr-2 h-4 w-4"}),"Health Report"]}),a.jsxs($t,{value:"badges",className:t==="badges"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(xm,{className:"mr-2 h-4 w-4"}),"Badges"]}),a.jsxs($t,{value:"achievements",className:t==="achievements"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(yd,{className:"mr-2 h-4 w-4"}),"Achievements"]})]})}),a.jsxs(Wt,{value:"healthReport",className:"mt-0",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(Ir,{className:"mr-2 h-5 w-5"}),"Weekly Overview"]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Health Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Your weekly health rating"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-3xl font-bold text-safebite-teal",children:"78"}),a.jsxs("div",{className:"ml-2 text-green-400 flex items-center text-sm",children:[a.jsx(XK,{className:"h-4 w-4 mr-1"}),"+12%"]})]})]}),a.jsx("div",{className:"space-y-4",children:C.map(B=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-safebite-text",children:B.name}),a.jsxs("span",{className:"text-safebite-text-secondary",children:[B.value," / ",B.target," ",B.unit]})]}),a.jsx(Bm,{value:B.progress,className:`h-2 ${B.progress>100?B.name==="Exercise"?"bg-green-600":"bg-amber-600":""}`})]},B.name))})]})]}),a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Food Safety Analysis"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Safety Score"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Based on scanned products"})]}),a.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500 flex items-center justify-center text-safebite-dark-blue text-2xl font-bold",children:"6.5"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-safebite-text-secondary",children:"Food safety issues found in your scanned products this week:"}),P.map((B,G)=>a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-safebite-text",children:B.name}),a.jsxs(Ue,{className:"bg-amber-500 text-safebite-dark-blue",children:[B.count," items"]})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:B.recommendation})]},G))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(LN,{title:"Calorie Intake",data:$,color:"#00ffcc"}),a.jsx(LN,{title:"Water Intake (cups)",data:D,color:"#3b82f6"}),a.jsx(LN,{title:"Nutrient Score",data:L,color:"#a855f7"})]})]}),a.jsx(Wt,{value:"badges",className:"mt-0",children:a.jsx(Me,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(xm,{className:"mr-2 h-5 w-5"}),"Your Badges"]})}),a.jsx("div",{className:"p-6",children:i?a.jsx("div",{className:"flex justify-center",children:a.jsx(Vr,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading badges. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:_&&_.map((B,G)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx("div",{className:"mb-2 text-sm text-safebite-text-secondary",children:B.category}),a.jsx(Ue,{className:"mb-2 bg-amber-500 text-safebite-dark-blue",children:"Badge"}),a.jsx(xn,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:B.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:B.description}),a.jsx(ie,{onClick:()=>M("badge-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="badge-"+G&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(ie,{onClick:()=>V("facebook"),variant:"ghost",size:"icon",children:a.jsx(zI,{className:"h-5 w-5"})}),a.jsx(ie,{onClick:()=>V("twitter"),variant:"ghost",size:"icon",children:a.jsx(KN,{className:"h-5 w-5"})}),a.jsx(ie,{onClick:()=>V("instagram"),variant:"ghost",size:"icon",children:a.jsx(fy,{className:"h-5 w-5"})})]})]},G))})})]})})}),a.jsx(Wt,{value:"achievements",className:"mt-0",children:a.jsx(Me,{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[a.jsx(yd,{className:"mr-2 h-5 w-5"}),"Achievements"]})}),a.jsx("div",{className:"p-6",children:i?a.jsx("div",{className:"flex justify-center",children:a.jsx(Vr,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?a.jsx("div",{className:"text-center text-red-500",children:"Error loading achievements. Please try again."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b&&b.map((B,G)=>a.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[a.jsx(yd,{className:"h-10 w-10 text-amber-500 mb-2"}),a.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:B.name}),a.jsx("p",{className:"text-safebite-text-secondary text-center",children:B.description}),a.jsxs("p",{className:"text-safebite-text-secondary text-center mb-2",children:["Progress: ",B.progress,"%"]}),a.jsx(Bm,{value:B.progress,className:"w-full mb-2"}),a.jsx(ie,{onClick:()=>M("achievement-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="achievement-"+G&&a.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[a.jsx(ie,{onClick:()=>V("facebook"),variant:"ghost",size:"icon",children:a.jsx(zI,{className:"h-5 w-5"})}),a.jsx(ie,{onClick:()=>V("twitter"),variant:"ghost",size:"icon",children:a.jsx(KN,{className:"h-5 w-5"})}),a.jsx(ie,{onClick:()=>V("instagram"),variant:"ghost",size:"icon",children:a.jsx(fy,{className:"h-5 w-5"})})]})]},G))})})]})})})]})]})})]})},ok="https://safebite-backend.onrender.com/api";console.log("Backend API URL:",ok);console.log("Using API URL:",ok);const PH=t=>{let e=t.nutritionScore||"yellow";return t.nutritionScore||(t.nutrients.protein>15&&(t.nutrients.fiber||0)>3&&(t.nutrients.sugar||0)<10?e="green":(t.nutrients.fat>20||(t.nutrients.sugar||0)>15)&&(e="red")),{id:`mongodb-${t._id}`,name:t.name,brand:t.brand,calories:t.calories,nutritionScore:e,image:t.image||`https://source.unsplash.com/random/100x100/?${encodeURIComponent(t.name)}`,nutrients:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,fiber:t.nutrients.fiber,sugar:t.nutrients.sugar},details:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,sodium:t.nutrients.sodium||0,sugar:t.nutrients.sugar||0,calories:t.calories,ingredients:t.ingredients||[],allergens:t.allergens||[],additives:t.additives||[]},source:"MongoDB"}},rF=async t=>{const e=await Promise.allSettled([rEe(t),nEe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.warn("All MongoDB search methods failed or returned no results"),[]},rEe=async t=>{try{const e=`${ok}/products/search?query=${encodeURIComponent(t)}`;console.log("Searching MongoDB via API:",e);const r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Origin:window.location.origin},mode:"cors",credentials:"omit",signal:r.signal});if(console.log("API response status:",i.status),clearTimeout(n),!i.ok)throw console.warn(`API error: ${i.status} - ${i.statusText}`),new Error(`API error: ${i.status} - ${i.statusText}`);const s=await i.json();return console.log(`Found ${s.length} products from MongoDB via API`),Array.isArray(s)?s.map(o=>PH(o)):(console.warn("API did not return an array:",s),[])}catch(e){return console.error("Error searching MongoDB via API:",e),[]}},nEe=async t=>{try{console.log("Trying direct Render backend...");const e=`https://safebite-backend.onrender.com/api/products/search?query=${encodeURIComponent(t)}`,r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:r.signal});if(clearTimeout(n),!i.ok)throw new Error(`Render API error: ${i.status}`);const s=await i.json();return console.log(`Found ${s.length} products from MongoDB via Render backend`),Array.isArray(s)?s.map(o=>PH(o)):(console.warn("Render API did not return an array:",s),[])}catch(e){return console.error("Render backend search failed:",e),[]}},iEe=async t=>{try{console.log("Searching recipes from MongoDB:",t);const e=`${t} recipe`,r=await rF(e);let n=[...r];if(t.toLowerCase().indexOf("recipe")===-1){const o=await rF(t);n=[...r,...o]}return n.filter(o=>{var l,u,f,h;return((l=o.details)==null?void 0:l.ingredients)&&o.details.ingredients.length>0||((u=o.category)==null?void 0:u.toLowerCase().includes("recipe"))||((f=o.name)==null?void 0:f.toLowerCase().includes("recipe"))||t.toLowerCase().includes("recipe")&&((h=o.details)==null?void 0:h.ingredients)}).filter((o,l,u)=>l===u.findIndex(f=>f.id===o.id)).map(o=>{var u,f,h,m,p,y,_,b;let l=((u=o.details)==null?void 0:u.instructions)||[];return l.length===0&&((f=o.details)!=null&&f.ingredients)&&o.details.ingredients.length>0&&(l=lk(o.name,o.details.ingredients)),{id:o.id,title:o.name,image:o.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(o.name+" food")}`,calories:o.calories||0,servings:o.servings||4,cookTime:o.cookTime||o.cook_time||30,prepTime:o.prepTime||o.prep_time||15,healthLabels:sEe(o),source:o.source||"MongoDB",ingredients:((h=o.details)==null?void 0:h.ingredients)||[],instructions:l,nutrients:{protein:((m=o.nutrients)==null?void 0:m.protein)||0,carbs:((p=o.nutrients)==null?void 0:p.carbs)||0,fat:((y=o.nutrients)==null?void 0:y.fat)||0,fiber:((_=o.nutrients)==null?void 0:_.fiber)||0,sodium:((b=o.details)==null?void 0:b.sodium)||0}}})}catch(e){return console.error("Error searching recipes from MongoDB:",e),[]}},sEe=t=>{var r,n,i,s;const e=[];if(t.nutritionScore==="green"?e.push("Healthy"):t.nutritionScore==="red"?e.push("High-Calorie"):e.push("Balanced"),((r=t.nutrients)==null?void 0:r.protein)>15&&e.push("High-Protein"),((n=t.nutrients)==null?void 0:n.fiber)>5&&e.push("High-Fiber"),((i=t.nutrients)==null?void 0:i.fat)<5&&e.push("Low-Fat"),(s=t.details)!=null&&s.ingredients){const o=t.details.ingredients.join(" ").toLowerCase(),l=["meat","chicken","beef","pork","fish","seafood","lamb"],u=["milk","cheese","yogurt","cream","butter"];l.some(f=>o.includes(f))||(e.push("Vegetarian"),u.some(f=>o.includes(f))||e.push("Vegan"))}return e},aEe="a522a439",oEe="636a3e9b2dd910c9b39f42bfdcbcf61a",lEe="07d50733",cEe="80fcb49b500737827a9a23f7049653b9",Bs=async t=>{try{console.log("Getting recipes for query:",t);try{const e=await nF(t);if(console.log(`Edamam returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("Edamam search failed:",e)}try{const e=await iEe(t);if(console.log(`MongoDB returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("MongoDB search failed:",e)}if(t.includes(" ")){const e=t.split(" ")[0];console.log(`Trying simplified query: ${e}`);try{const r=await nF(e);if(console.log(`Simplified query returned ${r.length} recipes`),r.length>0)return r}catch(r){console.error("Simplified query search failed:",r)}}return console.log("No recipes found for query:",t),[]}catch(e){return console.error("Error getting recipes:",e),[]}},nF=async t=>{try{console.log("Searching recipes from Edamam:",t);const e=await Promise.allSettled([uEe(t),dEe(t)]);let r=[];for(const n of e)n.status==="fulfilled"&&n.value.length>0&&(r=[...r,...n.value]);return r}catch(e){return console.error("Error searching recipes from Edamam:",e),[]}},uEe=async t=>{try{console.log("Searching Edamam Recipe API:",t);const e=`https://api.edamam.com/api/recipes/v2?type=public&q=${encodeURIComponent(t)}&app_id=${aEe}&app_key=${oEe}`;console.log("Edamam Recipe API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Recipe API error: ${r.status}`),new Error(`Edamam Recipe API error: ${r.status}`);const n=await r.json();return!n.hits||n.hits.length===0?[]:n.hits.map(i=>{var o,l,u,f,h,m,p,y,_,b;const s=i.recipe;return{id:`edamam-${s.uri.split("#recipe_")[1]}`,title:s.label,image:s.image,calories:Math.round(s.calories/s.yield),servings:s.yield,cookTime:s.totalTime>0?s.totalTime:30,prepTime:Math.round(s.totalTime/3)||10,healthLabels:s.healthLabels||[],source:"Edamam",ingredients:s.ingredientLines||[],instructions:lk(s.label,s.ingredientLines||[]),nutrients:{protein:Math.round(((l=(o=s.totalNutrients)==null?void 0:o.PROCNT)==null?void 0:l.quantity)/s.yield)||0,carbs:Math.round(((f=(u=s.totalNutrients)==null?void 0:u.CHOCDF)==null?void 0:f.quantity)/s.yield)||0,fat:Math.round(((m=(h=s.totalNutrients)==null?void 0:h.FAT)==null?void 0:m.quantity)/s.yield)||0,fiber:Math.round(((y=(p=s.totalNutrients)==null?void 0:p.FIBTG)==null?void 0:y.quantity)/s.yield)||0,sodium:Math.round(((b=(_=s.totalNutrients)==null?void 0:_.NA)==null?void 0:b.quantity)/s.yield)||0}}})}catch(e){return console.error("Error searching Edamam Recipe API:",e),[]}},dEe=async t=>{try{console.log("Searching Edamam Food API for recipes:",t);const e=`https://api.edamam.com/api/food-database/v2/parser?app_id=${lEe}&app_key=${cEe}&ingr=${encodeURIComponent(t)}`;console.log("Edamam Food API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Food API error: ${r.status}`),new Error(`Edamam Food API error: ${r.status}`);const n=await r.json();return!n.hints||n.hints.length===0?[]:n.hints.filter(i=>{const s=i.food;return s.category==="Generic meals"||s.category==="Generic dishes"||s.foodContentsLabel}).map(i=>{const s=i.food,o=i.measures,l=o.find(f=>f.label==="Serving")||o[0],u=s.foodContentsLabel?s.foodContentsLabel.split(";").map(f=>f.trim()):[s.label];return{id:`edamam-food-${s.foodId}`,title:s.label,image:s.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(s.label+" food")}`,calories:Math.round(s.nutrients.ENERC_KCAL)||0,servings:4,cookTime:30,prepTime:15,healthLabels:s.healthLabels||[],source:"Edamam Food",ingredients:u,instructions:lk(s.label,u),nutrients:{protein:Math.round(s.nutrients.PROCNT)||0,carbs:Math.round(s.nutrients.CHOCDF)||0,fat:Math.round(s.nutrients.FAT)||0,fiber:Math.round(s.nutrients.FIBTG)||0,sodium:Math.round(s.nutrients.NA)||0}}})}catch(e){return console.error("Error searching Edamam Food API for recipes:",e),[]}},lk=(t,e)=>{const r=[`Prepare all ingredients for ${t}.`,"Wash and chop all vegetables and herbs as needed."],n=e.some(l=>/chicken|beef|pork|turkey|lamb|meat|fish|seafood|shrimp/i.test(l)),i=e.some(l=>/vegetable|carrot|onion|pepper|tomato|potato|broccoli|spinach|lettuce|kale|cabbage/i.test(l)),s=e.some(l=>/milk|cheese|cream|yogurt|butter/i.test(l)),o=e.some(l=>/rice|pasta|noodle|bread|flour|grain|wheat|oat|barley|quinoa/i.test(l));return n&&r.push("Season the meat with salt and pepper.","Cook the meat until it reaches the appropriate internal temperature."),i&&r.push("Sauté the vegetables until tender."),o&&r.push("Cook the grains according to package instructions."),n&&i&&r.push("Combine the cooked meat and vegetables."),s&&r.push("Add dairy ingredients and stir until well incorporated."),r.push("Adjust seasoning to taste.",`Serve ${t} hot and enjoy!`),r},fEe=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(!1),[i,s]=j.useState([]),[o,l]=j.useState("all"),[u,f]=j.useState(null),[h,m]=j.useState([]),[p,y]=j.useState(null),[_,b]=j.useState(!1),{toast:x}=ar(),E=Vt(Ke),S=Er(Ke),[T,N]=j.useState(null),[C,O]=j.useState([]);j.useEffect(()=>{(async()=>{if(E.currentUser)try{const L=gt(S,"users",E.currentUser.uid),B=await sr(L);B.exists()&&N(B.data());const G=gt(S,"user_activities",E.currentUser.uid),q=await sr(G);if(q.exists()){const Y=q.data();O(Y.activities||[])}}catch(L){console.error("Error loading user data:",L)}})()},[E.currentUser,S]),j.useEffect(()=>{(async()=>{n(!0),f(null);try{const L=E.currentUser;if(L)try{const G=gt(S,"users",L.uid),q=await sr(G);q.exists()&&q.data().favoriteRecipes&&m(q.data().favoriteRecipes)}catch(G){console.error("Error loading favorite recipes:",G)}const B=await Bs("");if(s(B),B.length===0){const G=await Bs("popular");s(G)}}catch(L){console.error("Error loading initial recipes:",L),s([]),f("Unable to load recipes. Please try again later.")}finally{n(!1)}})()},[E,S]);const P=async()=>{if(t.trim()){n(!0),f(null);try{console.log("Searching for recipes with query:",t);const D=await Bs(t);s(D),mM(t,D);const L=E.currentUser;if(L)try{const B=gt(S,"users",L.uid);await As(B,{recipeSearches:{recent:t,timestamp:new Date().toISOString(),resultCount:D.length}},{merge:!0})}catch(B){console.error("Error saving recipe search:",B)}if(D.length>0)x({title:`Found ${D.length} recipes`,description:"Here are your recipe results"});else{console.log("No results found, trying with a more generic search term");const B=t.split(" ")[0];if(B&&B!==t)try{const G=await Bs(B);if(G.length>0){s(G),x({title:`Found ${G.length} recipes`,description:`Showing results for "${B}" instead`});return}}catch(G){console.error("Error with generic search:",G)}x({title:"No recipes found",description:"Try a different search term or check our popular recipes",variant:"default"});try{console.log("Trying popular recipes as fallback");const G=await Bs("popular");G.length>0?(s(G),x({title:"Showing popular recipes instead",description:"We couldn't find recipes matching your search"})):f("No recipes found. Please try a different search term.")}catch(G){console.error("Error getting fallback recipes:",G),f("Unable to load recipes. Please try again later.")}}}catch(D){console.error("Error searching recipes:",D),s([]),f("Unable to fetch recipes. Please try again later."),x({title:"Search Error",description:"Unable to fetch recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}}},R=async D=>{l(D),n(!0),f(null);try{if(D==="all"){const L=await Bs("popular");s(L)}else if(D==="favorites")if(h.length>0)try{const B=(await Bs("popular")).filter(G=>h.includes(G.id));B.length>0?s(B):(s([]),f("Your favorite recipes could not be loaded. Please try again later."))}catch(L){console.error("Error loading favorite recipes:",L),s([]),f("Your favorite recipes could not be loaded. Please try again later.")}else s([]),f("You have no favorite recipes yet. Click the star icon to add recipes to your favorites.");else if(D==="edamam"){const L=await Bs("popular");s(L.filter(B=>B.source.includes("Edamam")))}else if(D==="edamam-food"){const L=await Bs("popular");s(L.filter(B=>B.source.includes("Edamam Food")))}else{const L=await Bs("popular");s(L)}i.length===0&&D!=="favorites"&&f("No recipes found. Please try searching for specific recipes.")}catch(L){console.error("Error changing tab:",L),s([]),f("Unable to load recipes. Please try again later."),x({title:"Error",description:"Unable to load recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}},M=async D=>{const L=E.currentUser;if(!L){x({title:"Sign in required",description:"Please sign in to save favorite recipes",variant:"default"});return}try{let B;h.includes(D)?(B=h.filter(q=>q!==D),x({title:"Removed from favorites",description:"Recipe removed from your favorites"})):(B=[...h,D],x({title:"Added to favorites",description:"Recipe added to your favorites"})),m(B);const G=gt(S,"users",L.uid);await As(G,{favoriteRecipes:B},{merge:!0})}catch(B){console.error("Error toggling favorite recipe:",B),x({title:"Error",description:"Unable to update favorites. Please try again.",variant:"destructive"})}},V=D=>{x({title:"Recipe saved",description:"Recipe added to your favorites"})},$=D=>{y(D),b(!0);try{mM("view_details",[D])}catch(L){console.error("Error tracking recipe view:",L)}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),a.jsx(ua,{}),a.jsxs("main",{className:"md:ml-64 min-h-screen",children:[a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Healthy Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Discover nutritious and delicious Indian recipes tailored to your health goals"})]}),a.jsx("div",{className:"sci-fi-card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Qr,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{placeholder:"Search for recipes (e.g., vegetarian curry, low-calorie)",className:"sci-fi-input pl-10",value:t,onChange:D=>e(D.target.value),onKeyDown:D=>D.key==="Enter"&&P()})]})}),a.jsxs(ie,{onClick:P,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Search"]}),a.jsxs(ie,{variant:"outline",className:"sci-fi-button",children:[a.jsx(XF,{className:"mr-2 h-4 w-4"}),"Filters"]})]})}),a.jsxs(fo,{defaultValue:"all",className:"mb-6",children:[a.jsx("div",{className:"sci-fi-card mb-2 p-4",children:a.jsxs(da,{className:"grid grid-cols-3 gap-2",children:[a.jsxs($t,{value:"all",onClick:()=>R("all"),className:o==="all"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(am,{className:"mr-2 h-4 w-4"}),"All Recipes"]}),a.jsxs($t,{value:"favorites",onClick:()=>R("favorites"),className:o==="favorites"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(xn,{className:"mr-2 h-4 w-4 text-yellow-400"}),"Favorites"]}),a.jsxs($t,{value:"edamam",onClick:()=>R("edamam"),className:o==="edamam"?"bg-safebite-teal text-safebite-dark-blue":"",children:[a.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Edamam Recipes"]})]})}),a.jsx(Wt,{value:"all",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Da,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(D=>a.jsxs(Me,{className:"sci-fi-card overflow-hidden hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image||"https://via.placeholder.com/300x200?text=No+Image",alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Ue,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2 line-clamp-1",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ol,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories||"N/A"," kcal"]}),a.jsx(Ir,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.cookTime||"30"," min"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels&&D.healthLabels.slice(0,2).map((L,B)=>a.jsx(Ue,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs(ie,{variant:"outline",className:"w-full sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>$(D),children:[a.jsx(Li,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]},D.id))})}),a.jsx(Wt,{value:"mongodb",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Da,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(D=>D.source==="MongoDB").map(D=>a.jsxs(Me,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Ue,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ol,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(Ir,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx($i,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((L,B)=>a.jsx(Ue,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ie,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>V(D.id),children:a.jsx(gd,{className:"h-4 w-4"})})]})]})]},D.id))})}),a.jsx(Wt,{value:"edamam",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Da,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(D=>D.source==="Edamam").map(D=>a.jsxs(Me,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Ue,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ol,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(Ir,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx($i,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((L,B)=>a.jsx(Ue,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ie,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>V(D.id),children:a.jsx(gd,{className:"h-4 w-4"})})]})]})]},D.id))})}),a.jsx(Wt,{value:"fatsecret",className:"mt-0",children:r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Da,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(D=>D.source==="FatSecret").map(D=>a.jsxs(Me,{className:"sci-fi-card overflow-hidden",children:[a.jsxs("div",{className:"relative h-48 w-full",children:[a.jsx("img",{src:D.image,alt:D.title,className:"h-full w-full object-cover"}),a.jsx(Ue,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:D.source})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ol,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.calories," kcal"]}),a.jsx(Ir,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[D.cookTime," min"]}),a.jsx($i,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[D.servings," servings"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.healthLabels.map((L,B)=>a.jsx(Ue,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:L},B))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ie,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),a.jsx(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>V(D.id),children:a.jsx(gd,{className:"h-4 w-4"})})]})]})]},D.id))})})]})]}),a.jsx(Nd,{open:_,onOpenChange:b,children:a.jsx(Uc,{className:"sci-fi-card max-w-4xl",children:p&&a.jsxs(a.Fragment,{children:[a.jsxs(zc,{children:[a.jsxs(qc,{className:"text-2xl flex items-center",children:[a.jsx(am,{className:"h-6 w-6 text-safebite-teal mr-3"}),p.title]}),a.jsxs(Hd,{className:"flex flex-wrap gap-2 mt-2",children:[a.jsxs(Ue,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx($i,{className:"h-3 w-3 mr-1"}),p.servings||"4"," servings"]}),a.jsxs(Ue,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Ir,{className:"h-3 w-3 mr-1"}),p.cookTime||"30"," min"]}),a.jsx(Ue,{className:"bg-safebite-card-bg-alt",children:p.source})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-safebite-teal/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),p.ingredients?a.jsx("ul",{className:"space-y-3 text-safebite-text-secondary",children:p.ingredients.map((D,L)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-safebite-teal/20 text-safebite-teal text-xs font-medium mr-3",children:L+1}),D]},L))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Ingredient information not available"})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-purple-500/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),p.instructions?a.jsx("div",{className:"text-safebite-text-secondary",children:p.instructions.map((D,L)=>a.jsxs("div",{className:"mb-4 flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-purple-500/20 text-purple-500 text-sm font-medium mr-3",children:L+1}),a.jsx("p",{children:D})]},L))}):a.jsx("p",{className:"text-safebite-text-secondary",children:"Instruction information not available"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("div",{className:"flex space-x-2",children:a.jsxs(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>M(p.id),children:[a.jsx(xn,{className:"h-4 w-4 mr-2"}),"Add to Favorites"]})}),a.jsx(dU,{asChild:!0,children:a.jsx(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Close"})})]})]})})}),a.jsx(Bl,{currentPage:"recipes",userData:{profile:T,recentActivity:C},autoOpen:!0,initialMessage:"Looking for recipe ideas? I can suggest recipes based on dietary preferences, ingredients you have, or health goals. What kind of recipes are you interested in?"})]})]})},hEe=({isOpen:t,onClose:e,toolId:r,toolName:n,toolData:i})=>{const[s,o]=j.useState(!0),[l,u]=j.useState(!1),{toast:f}=ar(),h=Vt(Ke),m=Er(Ke),{isGuest:p}=Jn();if(!t)return null;const y=async()=>{if(p){f({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}u(!0);try{const _=h.currentUser;if(!_)throw new Error("User not authenticated");const b=gt(m,"users",_.uid),x=await sr(b),E=x.exists()?x.data():{};await As(b,{healthboxResults:{...E.healthboxResults,[r]:{name:n,data:i,timestamp:Date.now(),showOnDashboard:s}}},{merge:!0}),f({title:"Results saved",description:s?"Your results have been saved and will be displayed on your dashboard.":"Your results have been saved.",icon:a.jsx(Qo,{className:"h-4 w-4 text-green-500"})}),e()}catch(_){console.error("Error saving results:",_),f({title:"Error",description:"Failed to save results. Please try again.",variant:"destructive",icon:a.jsx(Rn,{className:"h-4 w-4 text-red-500"})})}finally{u(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Me,{className:"w-full max-w-md mx-4 bg-safebite-dark-blue border-safebite-card-bg-alt",children:[a.jsxs(bt,{className:"relative border-b border-safebite-card-bg-alt",children:[a.jsx(ie,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:e,children:a.jsx(Xn,{className:"h-5 w-5"})}),a.jsx(wt,{className:"text-xl font-bold text-safebite-text",children:"Save Results"})]}),a.jsxs(it,{className:"pt-6",children:[a.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["Save your ",n," results to access them later. You can also choose to display these results on your dashboard."]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-safebite-card-bg-alt rounded-lg mb-6",children:[a.jsx(et,{htmlFor:"show-on-dashboard",className:"text-safebite-text cursor-pointer",children:"Show on dashboard"}),a.jsx(Bb,{id:"show-on-dashboard",checked:s,onCheckedChange:o})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(ie,{variant:"outline",onClick:e,disabled:l,children:"Cancel"}),a.jsx(ie,{onClick:y,disabled:l,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:l?a.jsx(a.Fragment,{children:a.jsx("span",{className:"animate-pulse",children:"Saving..."})}):a.jsxs(a.Fragment,{children:[a.jsx(t6,{className:"mr-2 h-4 w-4"}),"Save Results"]})})]})]})]})})},mEe=({onSaveResults:t})=>{const[e,r]=j.useState(170),[n,i]=j.useState(70),[s,o]=j.useState(null),[l,u]=j.useState(""),f=()=>{if(e&&n){const h=e/100,m=n/(h*h),p=Math.round(m*10)/10;let y="";m<18.5?y="Underweight":m>=18.5&&m<25?y="Normal weight":m>=25&&m<30?y="Overweight":y="Obesity",o(p),u(y),Fi("bmi","calculate")}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(dy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"BMI Calculator"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(ft,{id:"height",type:"number",value:e,onChange:h=>r(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(ft,{id:"weight",type:"number",value:n,onChange:h=>i(Number(h.target.value)),className:"sci-fi-input"})]}),a.jsx(ie,{onClick:f,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate BMI"}),s!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Your BMI:"}),a.jsx("span",{className:"text-safebite-text font-semibold",children:s})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:l})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx(Ue,{className:`
                  ${l==="Underweight"?"bg-blue-500":""}
                  ${l==="Normal weight"?"bg-green-500":""}
                  ${l==="Overweight"?"bg-orange-500":""}
                  ${l==="Obesity"?"bg-red-500":""}
                  text-white
                `,children:l}),t&&a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>t("bmi-calculator","BMI Calculator",{bmi:s,category:l,height:e,weight:n,date:new Date().toISOString()}),children:[a.jsx(t6,{className:"mr-2 h-4 w-4"}),"Save to Dashboard"]})]})]})]})})]})};var pEe=[" ","Enter","ArrowUp","ArrowDown"],gEe=[" ","Enter"],Zp="Select",[_0,j0,vEe]=Ep(Zp),[Yf,cTe]=bi(Zp,[vEe,Zx]),S0=Zx(),[yEe,Kl]=Yf(Zp),[xEe,bEe]=Yf(Zp),IH=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:u,dir:f,name:h,autoComplete:m,disabled:p,required:y,form:_}=t,b=S0(e),[x,E]=j.useState(null),[S,T]=j.useState(null),[N,C]=j.useState(!1),O=Lf(f),[P=!1,R]=Qn({prop:n,defaultProp:i,onChange:s}),[M,V]=Qn({prop:o,defaultProp:l,onChange:u}),$=j.useRef(null),D=x?_||!!x.closest("form"):!0,[L,B]=j.useState(new Set),G=Array.from(L).map(q=>q.props.value).join(";");return a.jsx(M6,{...b,children:a.jsxs(yEe,{required:y,scope:e,trigger:x,onTriggerChange:E,valueNode:S,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:xs(),value:M,onValueChange:V,open:P,onOpenChange:R,dir:O,triggerPointerDownPosRef:$,disabled:p,children:[a.jsx(_0.Provider,{scope:e,children:a.jsx(xEe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(q=>{B(Y=>new Set(Y).add(q))},[]),onNativeOptionRemove:j.useCallback(q=>{B(Y=>{const z=new Set(Y);return z.delete(q),z})},[]),children:r})}),D?a.jsxs(nW,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:m,value:M,onChange:q=>V(q.target.value),disabled:p,form:_,children:[M===void 0?a.jsx("option",{value:""}):null,Array.from(L)]},G):null]})})};IH.displayName=Zp;var RH="SelectTrigger",OH=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=S0(r),o=Kl(RH,r),l=o.disabled||n,u=yt(e,o.onTriggerChange),f=j0(r),h=j.useRef("touch"),[m,p,y]=iW(b=>{const x=f().filter(T=>!T.disabled),E=x.find(T=>T.value===o.value),S=sW(x,b,E);S!==void 0&&o.onValueChange(S.value)}),_=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(D6,{asChild:!0,...s,children:a.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rW(o.value)?"":void 0,...i,ref:u,onClick:$e(i.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&_(b)}),onPointerDown:$e(i.onPointerDown,b=>{h.current=b.pointerType;const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:$e(i.onKeyDown,b=>{const x=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(x&&b.key===" ")&&pEe.includes(b.key)&&(_(),b.preventDefault())})})})});OH.displayName=RH;var MH="SelectValue",DH=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=t,u=Kl(MH,r),{onValueNodeHasChildrenChange:f}=u,h=s!==void 0,m=yt(e,u.onValueNodeChange);return Ur(()=>{f(h)},[f,h]),a.jsx(Ve.span,{...l,ref:m,style:{pointerEvents:"none"},children:rW(u.value)?a.jsx(a.Fragment,{children:o}):s})});DH.displayName=MH;var wEe="SelectIcon",LH=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});LH.displayName=wEe;var _Ee="SelectPortal",$H=t=>a.jsx(Hx,{asChild:!0,...t});$H.displayName=_Ee;var ou="SelectContent",FH=j.forwardRef((t,e)=>{const r=Kl(ou,t.__scopeSelect),[n,i]=j.useState();if(Ur(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?jf.createPortal(a.jsx(VH,{scope:t.__scopeSelect,children:a.jsx(_0.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(BH,{...t,ref:e})});FH.displayName=ou;var ds=10,[VH,Yl]=Yf(ou),jEe="SelectContentImpl",BH=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:y,sticky:_,hideWhenDetached:b,avoidCollisions:x,...E}=t,S=Kl(ou,r),[T,N]=j.useState(null),[C,O]=j.useState(null),P=yt(e,ue=>N(ue)),[R,M]=j.useState(null),[V,$]=j.useState(null),D=j0(r),[L,B]=j.useState(!1),G=j.useRef(!1);j.useEffect(()=>{if(T)return zB(T)},[T]),MB();const q=j.useCallback(ue=>{const[ve,...de]=D().map(le=>le.ref.current),[he]=de.slice(-1),Ne=document.activeElement;for(const le of ue)if(le===Ne||(le==null||le.scrollIntoView({block:"nearest"}),le===ve&&C&&(C.scrollTop=0),le===he&&C&&(C.scrollTop=C.scrollHeight),le==null||le.focus(),document.activeElement!==Ne))return},[D,C]),Y=j.useCallback(()=>q([R,T]),[q,R,T]);j.useEffect(()=>{L&&Y()},[L,Y]);const{onOpenChange:z,triggerPointerDownPosRef:J}=S;j.useEffect(()=>{if(T){let ue={x:0,y:0};const ve=he=>{var Ne,le;ue={x:Math.abs(Math.round(he.pageX)-(((Ne=J.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(he.pageY)-(((le=J.current)==null?void 0:le.y)??0))}},de=he=>{ue.x<=10&&ue.y<=10?he.preventDefault():T.contains(he.target)||z(!1),document.removeEventListener("pointermove",ve),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",de,{capture:!0})}}},[T,z,J]),j.useEffect(()=>{const ue=()=>z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[z]);const[re,H]=iW(ue=>{const ve=D().filter(Ne=>!Ne.disabled),de=ve.find(Ne=>Ne.ref.current===document.activeElement),he=sW(ve,ue,de);he&&setTimeout(()=>he.ref.current.focus())}),X=j.useCallback((ue,ve,de)=>{const he=!G.current&&!de;(S.value!==void 0&&S.value===ve||he)&&(M(ue),he&&(G.current=!0))},[S.value]),te=j.useCallback(()=>T==null?void 0:T.focus(),[T]),ee=j.useCallback((ue,ve,de)=>{const he=!G.current&&!de;(S.value!==void 0&&S.value===ve||he)&&$(ue)},[S.value]),me=n==="popper"?iT:UH,ge=me===iT?{side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:y,sticky:_,hideWhenDetached:b,avoidCollisions:x}:{};return a.jsx(VH,{scope:r,content:T,viewport:C,onViewportChange:O,itemRefCallback:X,selectedItem:R,onItemLeave:te,itemTextRefCallback:ee,focusSelectedItem:Y,selectedItemText:V,position:n,isPositioned:L,searchRef:re,children:a.jsx(ZT,{as:Gc,allowPinchZoom:!0,children:a.jsx(JT,{asChild:!0,trapped:S.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:$e(i,ue=>{var ve;(ve=S.trigger)==null||ve.focus({preventScroll:!0}),ue.preventDefault()}),children:a.jsx(Ap,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:a.jsx(me,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ue=>ue.preventDefault(),...E,...ge,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:$e(E.onKeyDown,ue=>{const ve=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ve&&ue.key.length===1&&H(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let he=D().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ne=ue.target,le=he.indexOf(Ne);he=he.slice(le+1)}setTimeout(()=>q(he)),ue.preventDefault()}})})})})})})});BH.displayName=jEe;var SEe="SelectItemAlignedPosition",UH=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Kl(ou,r),o=Yl(ou,r),[l,u]=j.useState(null),[f,h]=j.useState(null),m=yt(e,P=>h(P)),p=j0(r),y=j.useRef(!1),_=j.useRef(!0),{viewport:b,selectedItem:x,selectedItemText:E,focusSelectedItem:S}=o,T=j.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&f&&b&&x&&E){const P=s.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),V=E.getBoundingClientRect();if(s.dir!=="rtl"){const Ne=V.left-R.left,le=M.left-Ne,qe=P.left-le,Re=P.width+qe,ze=Math.max(Re,R.width),at=window.innerWidth-ds,Bt=qy(le,[ds,Math.max(ds,at-ze)]);l.style.minWidth=Re+"px",l.style.left=Bt+"px"}else{const Ne=R.right-V.right,le=window.innerWidth-M.right-Ne,qe=window.innerWidth-P.right-le,Re=P.width+qe,ze=Math.max(Re,R.width),at=window.innerWidth-ds,Bt=qy(le,[ds,Math.max(ds,at-ze)]);l.style.minWidth=Re+"px",l.style.right=Bt+"px"}const $=p(),D=window.innerHeight-ds*2,L=b.scrollHeight,B=window.getComputedStyle(f),G=parseInt(B.borderTopWidth,10),q=parseInt(B.paddingTop,10),Y=parseInt(B.borderBottomWidth,10),z=parseInt(B.paddingBottom,10),J=G+q+L+z+Y,re=Math.min(x.offsetHeight*5,J),H=window.getComputedStyle(b),X=parseInt(H.paddingTop,10),te=parseInt(H.paddingBottom,10),ee=P.top+P.height/2-ds,me=D-ee,ge=x.offsetHeight/2,ue=x.offsetTop+ge,ve=G+q+ue,de=J-ve;if(ve<=ee){const Ne=$.length>0&&x===$[$.length-1].ref.current;l.style.bottom="0px";const le=f.clientHeight-b.offsetTop-b.offsetHeight,qe=Math.max(me,ge+(Ne?te:0)+le+Y),Re=ve+qe;l.style.height=Re+"px"}else{const Ne=$.length>0&&x===$[0].ref.current;l.style.top="0px";const qe=Math.max(ee,G+b.offsetTop+(Ne?X:0)+ge)+de;l.style.height=qe+"px",b.scrollTop=ve-ee+b.offsetTop}l.style.margin=`${ds}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[p,s.trigger,s.valueNode,l,f,b,x,E,s.dir,n]);Ur(()=>T(),[T]);const[N,C]=j.useState();Ur(()=>{f&&C(window.getComputedStyle(f).zIndex)},[f]);const O=j.useCallback(P=>{P&&_.current===!0&&(T(),S==null||S(),_.current=!1)},[T,S]);return a.jsx(EEe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:a.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(Ve.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UH.displayName=SEe;var NEe="SelectPopperPosition",iT=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ds,...s}=t,o=S0(r);return a.jsx(L6,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iT.displayName=NEe;var[EEe,ck]=Yf(ou,{}),sT="SelectViewport",zH=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Yl(sT,r),o=ck(sT,r),l=yt(e,s.onViewportChange),u=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(_0.Slot,{scope:r,children:a.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:$e(i.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const y=Math.abs(u.current-h.scrollTop);if(y>0){const _=window.innerHeight-ds*2,b=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),E=Math.max(b,x);if(E<_){const S=E+y,T=Math.min(_,S),N=S-T;m.style.height=T+"px",m.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});zH.displayName=sT;var qH="SelectGroup",[AEe,TEe]=Yf(qH),CEe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=xs();return a.jsx(AEe,{scope:r,id:i,children:a.jsx(Ve.div,{role:"group","aria-labelledby":i,...n,ref:e})})});CEe.displayName=qH;var HH="SelectLabel",WH=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=TEe(HH,r);return a.jsx(Ve.div,{id:i.id,...n,ref:e})});WH.displayName=HH;var zx="SelectItem",[kEe,GH]=Yf(zx),KH=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,l=Kl(zx,r),u=Yl(zx,r),f=l.value===n,[h,m]=j.useState(s??""),[p,y]=j.useState(!1),_=yt(e,S=>{var T;return(T=u.itemRefCallback)==null?void 0:T.call(u,S,n,i)}),b=xs(),x=j.useRef("touch"),E=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(kEe,{scope:r,value:n,disabled:i,textId:b,isSelected:f,onItemTextChange:j.useCallback(S=>{m(T=>T||((S==null?void 0:S.textContent)??"").trim())},[]),children:a.jsx(_0.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:a.jsx(Ve.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":f&&p,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:$e(o.onFocus,()=>y(!0)),onBlur:$e(o.onBlur,()=>y(!1)),onClick:$e(o.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:$e(o.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:$e(o.onPointerDown,S=>{x.current=S.pointerType}),onPointerMove:$e(o.onPointerMove,S=>{var T;x.current=S.pointerType,i?(T=u.onItemLeave)==null||T.call(u):x.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(o.onPointerLeave,S=>{var T;S.currentTarget===document.activeElement&&((T=u.onItemLeave)==null||T.call(u))}),onKeyDown:$e(o.onKeyDown,S=>{var N;((N=u.searchRef)==null?void 0:N.current)!==""&&S.key===" "||(gEe.includes(S.key)&&E(),S.key===" "&&S.preventDefault())})})})})});KH.displayName=zx;var im="SelectItemText",YH=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Kl(im,r),l=Yl(im,r),u=GH(im,r),f=bEe(im,r),[h,m]=j.useState(null),p=yt(e,E=>m(E),u.onItemTextChange,E=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,E,u.value,u.disabled)}),y=h==null?void 0:h.textContent,_=j.useMemo(()=>a.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:x}=f;return Ur(()=>(b(_),()=>x(_)),[b,x,_]),a.jsxs(a.Fragment,{children:[a.jsx(Ve.span,{id:u.textId,...s,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jf.createPortal(s.children,o.valueNode):null]})});YH.displayName=im;var QH="SelectItemIndicator",XH=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return GH(QH,r).isSelected?a.jsx(Ve.span,{"aria-hidden":!0,...n,ref:e}):null});XH.displayName=QH;var aT="SelectScrollUpButton",JH=j.forwardRef((t,e)=>{const r=Yl(aT,t.__scopeSelect),n=ck(aT,t.__scopeSelect),[i,s]=j.useState(!1),o=yt(e,n.onScrollButtonChange);return Ur(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;s(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(eW,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});JH.displayName=aT;var oT="SelectScrollDownButton",ZH=j.forwardRef((t,e)=>{const r=Yl(oT,t.__scopeSelect),n=ck(oT,t.__scopeSelect),[i,s]=j.useState(!1),o=yt(e,n.onScrollButtonChange);return Ur(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<f;s(h)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(eW,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});ZH.displayName=oT;var eW=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Yl("SelectScrollButton",r),o=j.useRef(null),l=j0(r),u=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>u(),[u]),Ur(()=>{var h;const f=l().find(m=>m.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:$e(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:$e(i.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:$e(i.onPointerLeave,()=>{u()})})}),PEe="SelectSeparator",tW=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Ve.div,{"aria-hidden":!0,...n,ref:e})});tW.displayName=PEe;var lT="SelectArrow",IEe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=S0(r),s=Kl(lT,r),o=Yl(lT,r);return s.open&&o.position==="popper"?a.jsx($6,{...i,...n,ref:e}):null});IEe.displayName=lT;function rW(t){return t===""||t===void 0}var nW=j.forwardRef((t,e)=>{const{value:r,...n}=t,i=j.useRef(null),s=yt(e,i),o=zp(r);return j.useEffect(()=>{const l=i.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[o,r]),a.jsx(Tp,{asChild:!0,children:a.jsx("select",{...n,ref:s,defaultValue:r})})});nW.displayName="BubbleSelect";function iW(t){const e=On(t),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(o=>{const l=r.current+o;e(l),function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),s=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function sW(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=REe(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function REe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var OEe=IH,aW=OH,MEe=DH,DEe=LH,LEe=$H,oW=FH,$Ee=zH,lW=WH,cW=KH,FEe=YH,VEe=XH,uW=JH,dW=ZH,fW=tW;const oo=OEe,lo=MEe,aa=j.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(aW,{ref:n,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(DEe,{asChild:!0,children:a.jsx(pT,{className:"h-4 w-4 opacity-50"})})]}));aa.displayName=aW.displayName;const hW=j.forwardRef(({className:t,...e},r)=>a.jsx(uW,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(YF,{className:"h-4 w-4"})}));hW.displayName=uW.displayName;const mW=j.forwardRef(({className:t,...e},r)=>a.jsx(dW,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(pT,{className:"h-4 w-4"})}));mW.displayName=dW.displayName;const oa=j.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>a.jsx(LEe,{children:a.jsxs(oW,{ref:i,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(hW,{}),a.jsx($Ee,{className:Ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(mW,{})]})}));oa.displayName=oW.displayName;const BEe=j.forwardRef(({className:t,...e},r)=>a.jsx(lW,{ref:r,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));BEe.displayName=lW.displayName;const Mt=j.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(cW,{ref:n,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(VEe,{children:a.jsx(Tc,{className:"h-4 w-4"})})}),a.jsx(FEe,{children:e})]}));Mt.displayName=cW.displayName;const UEe=j.forwardRef(({className:t,...e},r)=>a.jsx(fW,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));UEe.displayName=fW.displayName;const zEe=()=>{const[t,e]=j.useState(30),[r,n]=j.useState("male"),[i,s]=j.useState(70),[o,l]=j.useState(170),[u,f]=j.useState("moderate"),[h,m]=j.useState(null),p=()=>{if(t&&i&&o){let y=0;r==="male"?y=88.362+13.397*i+4.799*o-5.677*t:y=447.593+9.247*i+3.098*o-4.33*t;let _=1.2;switch(u){case"sedentary":_=1.2;break;case"light":_=1.375;break;case"moderate":_=1.55;break;case"active":_=1.725;break;case"very_active":_=1.9;break}const b=Math.round(y*_);m(b),Fi("calories","calculate")}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(ol,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Calorie Calculator"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(ft,{id:"age",type:"number",value:t,onChange:y=>e(Number(y.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(oo,{value:r,onValueChange:n,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select gender"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"male",children:"Male"}),a.jsx(Mt,{value:"female",children:"Female"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(ft,{id:"weight",type:"number",value:i,onChange:y=>s(Number(y.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(ft,{id:"height",type:"number",value:o,onChange:y=>l(Number(y.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(oo,{value:u,onValueChange:f,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select activity level"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Mt,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Mt,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Mt,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Mt,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsx(ie,{onClick:p,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Calories"}),h!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Calories:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[h," kcal"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Weight Loss: ",h-500," kcal"]}),a.jsxs("p",{children:["Weight Gain: ",h+500," kcal"]})]})]})]})})]})},qEe=()=>{const[t,e]=j.useState(70),[r,n]=j.useState("moderate"),[i,s]=j.useState("moderate"),[o,l]=j.useState(null),u=()=>{if(t){let f=t*30,h=1;switch(r){case"sedentary":h=1;break;case"light":h=1.1;break;case"moderate":h=1.2;break;case"active":h=1.3;break;case"very_active":h=1.4;break}let m=1;switch(i){case"cold":m=.9;break;case"moderate":m=1;break;case"hot":m=1.1;break;case"very_hot":m=1.2;break}const p=f*h*m,y=Math.round(p/100)/10;l(y),Fi("water","calculate")}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(lY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Water Intake Calculator"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(ft,{id:"weight",type:"number",value:t,onChange:f=>e(Number(f.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),a.jsxs(oo,{value:r,onValueChange:n,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select activity level"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"sedentary",children:"Sedentary (little or no exercise)"}),a.jsx(Mt,{value:"light",children:"Light (exercise 1-3 days/week)"}),a.jsx(Mt,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),a.jsx(Mt,{value:"active",children:"Active (exercise 6-7 days/week)"}),a.jsx(Mt,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"climate",className:"text-safebite-text-secondary",children:"Climate"}),a.jsxs(oo,{value:i,onValueChange:s,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select climate"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"cold",children:"Cold"}),a.jsx(Mt,{value:"moderate",children:"Moderate"}),a.jsx(Mt,{value:"hot",children:"Hot"}),a.jsx(Mt,{value:"very_hot",children:"Very Hot"})]})]})]}),a.jsx(ie,{onClick:u,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Water Intake"}),o!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Water Intake:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," liters"]})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsxs("p",{children:["That's approximately ",Math.round(o*4)," glasses of water (250ml each)"]})})]})]})})]})},HEe=()=>{const[t,e]=j.useState(2e3),[r,n]=j.useState("maintain"),[i,s]=j.useState(null),[o,l]=j.useState(null),[u,f]=j.useState(null),h=()=>{if(t){let m=.3,p=.3,y=.4;switch(r){case"lose":m=.4,p=.3,y=.3;break;case"maintain":m=.3,p=.3,y=.4;break;case"gain":m=.25,p=.25,y=.5;break}const _=t*m,b=t*p,x=t*y,E=Math.round(_/4),S=Math.round(b/9),T=Math.round(x/4);l(E),f(S),s(T),Fi("macros","calculate")}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(GF,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Macro Calculator"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"calories",className:"text-safebite-text-secondary",children:"Daily Calories"}),a.jsx(ft,{id:"calories",type:"number",value:t,onChange:m=>e(Number(m.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"goal",className:"text-safebite-text-secondary",children:"Goal"}),a.jsxs(oo,{value:r,onValueChange:n,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select goal"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"lose",children:"Lose Weight"}),a.jsx(Mt,{value:"maintain",children:"Maintain Weight"}),a.jsx(Mt,{value:"gain",children:"Gain Weight"})]})]})]}),a.jsx(ie,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Macros"}),i!==null&&o!==null&&u!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Protein:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Carbs:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[i,"g"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Fat:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[u,"g"]})]})]}),a.jsx("div",{className:"mt-3 h-4 bg-safebite-card-bg rounded-full overflow-hidden",children:a.jsxs("div",{className:"flex h-full",children:[a.jsx("div",{className:"bg-green-500",style:{width:`${o*4/t*100}%`}}),a.jsx("div",{className:"bg-blue-500",style:{width:`${i*4/t*100}%`}}),a.jsx("div",{className:"bg-red-500",style:{width:`${u*9/t*100}%`}})]})}),a.jsxs("div",{className:"flex justify-between text-xs mt-1 text-safebite-text-secondary",children:[a.jsx("span",{children:"Protein"}),a.jsx("span",{children:"Carbs"}),a.jsx("span",{children:"Fat"})]})]})]})})]})},WEe=()=>{const[t,e]=j.useState(15),[r,n]=j.useState(5),[i,s]=j.useState(10),[o,l]=j.useState(3),[u,f]=j.useState(400),[h,m]=j.useState(null),[p,y]=j.useState(""),[_,b]=j.useState(""),x=()=>{let S=0,T=0;t<=1.6?S+=0:t<=3.2?S+=1:t<=4.8?S+=2:t<=6.4?S+=3:t<=8?S+=4:S+=5,r<=.9?S+=0:r<=1.9?S+=1:r<=2.8?S+=2:r<=3.7?S+=3:r<=4.7?S+=4:S+=5,i<=4.5?T+=0:i<=9?T+=1:i<=13.5?T+=2:i<=18?T+=3:i<=22.5?T+=4:T+=5,o<=1?T+=0:o<=2?T+=1:o<=3?T+=2:o<=4?T+=3:o<=5?T+=4:T+=5,u<=90?T+=0:u<=180?T+=1:u<=270?T+=2:u<=360?T+=3:u<=450?T+=4:T+=5;const N=S-T;m(N),N>=4?(y("A"),b("green")):N>=2?(y("B"),b("light-green")):N>=0?(y("C"),b("yellow")):N>=-2?(y("D"),b("orange")):(y("E"),b("red")),Fi("nutrition_score","calculate")},E=()=>{switch(_){case"green":return"bg-green-500";case"light-green":return"bg-green-400";case"yellow":return"bg-yellow-400";case"orange":return"bg-orange-400";case"red":return"bg-red-500";default:return"bg-gray-400"}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(Ya,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Score"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"protein",className:"text-safebite-text-secondary",children:"Protein (g)"}),a.jsx(ft,{id:"protein",type:"number",value:t,onChange:S=>e(Number(S.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"fiber",className:"text-safebite-text-secondary",children:"Fiber (g)"}),a.jsx(ft,{id:"fiber",type:"number",value:r,onChange:S=>n(Number(S.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"sugar",className:"text-safebite-text-secondary",children:"Sugar (g)"}),a.jsx(ft,{id:"sugar",type:"number",value:i,onChange:S=>s(Number(S.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"saturatedFat",className:"text-safebite-text-secondary",children:"Sat. Fat (g)"}),a.jsx(ft,{id:"saturatedFat",type:"number",value:o,onChange:S=>l(Number(S.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"sodium",className:"text-safebite-text-secondary",children:"Sodium (mg)"}),a.jsx(ft,{id:"sodium",type:"number",value:u,onChange:S=>f(Number(S.target.value)),className:"sci-fi-input"})]})]}),a.jsx(ie,{onClick:x,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Score"}),h!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Nutrition Score:"}),a.jsx("div",{className:`w-10 h-10 rounded-full ${E()} flex items-center justify-center text-white font-bold`,children:p})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsx("p",{children:"A = Excellent nutritional quality"}),a.jsx("p",{children:"E = Poor nutritional quality"})]})]})]})})]})},GEe=()=>{const[t,e]=j.useState(170),[r,n]=j.useState("male"),[i,s]=j.useState("medium"),[o,l]=j.useState(null),[u,f]=j.useState(null),h=()=>{if(t){let m=0;r==="male"?m=50+2.3*((t-152.4)/2.54):m=45.5+2.3*((t-152.4)/2.54);let p=0;r==="male"?p=48+2.7*((t-152.4)/2.54):p=45.5+2.2*((t-152.4)/2.54);let y=0;r==="male"?y=56.2+1.41*((t-152.4)/2.54):y=53.1+1.36*((t-152.4)/2.54);const _=Math.round((m+p+y)/3);let b=1;switch(i){case"small":b=.9;break;case"medium":b=1;break;case"large":b=1.1;break}const x=Math.round(_*b);l(x);const E=Math.round(x*.9),S=Math.round(x*1.1);f({min:E,max:S}),Fi("ideal_weight","calculate")}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(dy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Ideal Weight Calculator"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(ft,{id:"height",type:"number",value:t,onChange:m=>e(Number(m.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(oo,{value:r,onValueChange:n,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select gender"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"male",children:"Male"}),a.jsx(Mt,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"bodyFrame",className:"text-safebite-text-secondary",children:"Body Frame"}),a.jsxs(oo,{value:i,onValueChange:s,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select body frame"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"small",children:"Small"}),a.jsx(Mt,{value:"medium",children:"Medium"}),a.jsx(Mt,{value:"large",children:"Large"})]})]})]})]}),a.jsx(ie,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Ideal Weight"}),o!==null&&u!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Ideal Weight:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," kg"]})]}),a.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[a.jsxs("p",{children:["Healthy weight range: ",u.min," - ",u.max," kg"]}),a.jsx("p",{className:"mt-1",children:"Based on multiple medical formulas and adjusted for your body frame."})]})]})]})})]})},KEe=()=>{const[t,e]=j.useState(70),[r,n]=j.useState(170),[i,s]=j.useState(30),[o,l]=j.useState("male"),[u,f]=j.useState(80),[h,m]=j.useState(36),[p,y]=j.useState(90),[_,b]=j.useState(null),[x,E]=j.useState(""),S=()=>{if(t&&r&&i&&u&&h){let T=0;if(o==="male")T=495/(1.0324-.19077*Math.log10(u-h)+.15456*Math.log10(r))-450;else{if(!p)return;T=495/(1.29579-.35004*Math.log10(u+p-h)+.221*Math.log10(r))-450}const N=Math.round(T*10)/10;b(N),o==="male"?N<6?E("Essential Fat"):N<14?E("Athletic"):N<18?E("Fitness"):N<25?E("Average"):E("Obese"):N<14?E("Essential Fat"):N<21?E("Athletic"):N<25?E("Fitness"):N<32?E("Average"):E("Obese"),Fi("body_fat","calculate")}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(bY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Body Fat Calculator"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),a.jsxs(oo,{value:o,onValueChange:l,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select gender"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"male",children:"Male"}),a.jsx(Mt,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(ft,{id:"age",type:"number",value:i,onChange:T=>s(Number(T.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),a.jsx(ft,{id:"height",type:"number",value:r,onChange:T=>n(Number(T.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),a.jsx(ft,{id:"weight",type:"number",value:t,onChange:T=>e(Number(T.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"neck",className:"text-safebite-text-secondary",children:"Neck (cm)"}),a.jsx(ft,{id:"neck",type:"number",value:h,onChange:T=>m(Number(T.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"waist",className:"text-safebite-text-secondary",children:"Waist (cm)"}),a.jsx(ft,{id:"waist",type:"number",value:u,onChange:T=>f(Number(T.target.value)),className:"sci-fi-input"})]}),o==="female"&&a.jsxs("div",{children:[a.jsx(et,{htmlFor:"hip",className:"text-safebite-text-secondary",children:"Hip (cm)"}),a.jsx(ft,{id:"hip",type:"number",value:p,onChange:T=>y(Number(T.target.value)),className:"sci-fi-input"})]})]}),a.jsx(ie,{onClick:S,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Body Fat"}),_!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Body Fat Percentage:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[_,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),a.jsx("span",{className:"text-safebite-teal font-semibold",children:x})]}),a.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Based on U.S. Navy Method"})})]})]})})]})},YEe=()=>{const[t,e]=j.useState(30),[r,n]=j.useState(70),[i,s]=j.useState("average"),[o,l]=j.useState(null),[u,f]=j.useState(null),h=()=>{if(t){const m=220-t,p=208-.7*t,y=207-.7*t,_=Math.round((m+p+y)/3);let b=0;switch(i){case"sedentary":b=-5;break;case"average":b=0;break;case"active":b=5;break;case"athlete":b=10;break}const x=_+b;l(x);const E=x-r,S={Recovery:{min:Math.round(r+E*.5),max:Math.round(r+E*.6)},"Fat Burning":{min:Math.round(r+E*.6),max:Math.round(r+E*.7)},Aerobic:{min:Math.round(r+E*.7),max:Math.round(r+E*.8)},Anaerobic:{min:Math.round(r+E*.8),max:Math.round(r+E*.9)},Maximum:{min:Math.round(r+E*.9),max:x}};f(S),Fi("heart_rate","calculate")}};return a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[a.jsx(yi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Heart Rate Zones"]})}),a.jsx(it,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),a.jsx(ft,{id:"age",type:"number",value:t,onChange:m=>e(Number(m.target.value)),className:"sci-fi-input"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"restingHeartRate",className:"text-safebite-text-secondary",children:"Resting HR (bpm)"}),a.jsx(ft,{id:"restingHeartRate",type:"number",value:r,onChange:m=>n(Number(m.target.value)),className:"sci-fi-input"})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"fitnessLevel",className:"text-safebite-text-secondary",children:"Fitness Level"}),a.jsxs(oo,{value:i,onValueChange:s,children:[a.jsx(aa,{className:"sci-fi-input",children:a.jsx(lo,{placeholder:"Select fitness level"})}),a.jsxs(oa,{children:[a.jsx(Mt,{value:"sedentary",children:"Sedentary"}),a.jsx(Mt,{value:"average",children:"Average"}),a.jsx(Mt,{value:"active",children:"Active"}),a.jsx(Mt,{value:"athlete",children:"Athlete"})]})]})]}),a.jsx(ie,{onClick:h,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Heart Rate Zones"}),o!==null&&u!==null&&a.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-safebite-text-secondary",children:"Max Heart Rate:"}),a.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," bpm"]})]}),a.jsx("div",{className:"text-safebite-text-secondary text-sm font-medium mt-3 mb-1",children:"Training Zones:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([m,{min:p,max:y}])=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("span",{className:"text-safebite-text-secondary",children:[m,":"]}),a.jsxs("span",{className:"text-safebite-text",children:[p," - ",y," bpm"]})]},m))})]})]})})]})},ad=({title:t,icon:e,description:r})=>a.jsxs(Me,{className:"sci-fi-card border-t-2 border-t-safebite-teal/50 shadow-md",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[e||a.jsx(bl,{className:"mr-2 h-5 w-5 text-safebite-teal"}),t||"Health Tool"]})}),a.jsxs(it,{children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:r||"This health tool is currently under development and will be available soon."}),a.jsx("div",{className:"text-center p-4 bg-safebite-card-bg-alt rounded-md border border-safebite-teal/20",children:a.jsxs("p",{className:"text-safebite-teal flex items-center justify-center",children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})})]})]}),QEe=()=>{const[t,e]=j.useState("fitness"),[r,n]=j.useState([]),[i,s]=j.useState(""),[o,l]=j.useState([]),{toast:u}=ar(),[f,h]=j.useState(!1),[m,p]=j.useState(!1),[y,_]=j.useState(!1),[b,x]=j.useState({id:"",name:"",data:null}),{isGuest:E}=Jn(),[S,T]=j.useState(null),[N,C]=j.useState([]);j.useEffect(()=>{M()},[]),j.useEffect(()=>{(async()=>{if(!E&&auth.currentUser)try{const J=gt(db,"users",auth.currentUser.uid),re=await sr(J);re.exists()&&T(re.data());const H=gt(db,"user_activities",auth.currentUser.uid),X=await sr(H);if(X.exists()){const te=X.data();C(te.activities||[])}}catch(J){console.error("Error loading user data:",J)}})()},[E]);const O=z=>{e(z),Fi("tab",z),hd.trackActivity("healthbox","change-tab",{tab:z})},P=z=>{const J=r.includes(z);n(J?r.filter(re=>re!==z):[...r,z]),Fi("tool",z),hd.trackActivity("healthbox",J?"close-tool":"open-tool",{tool:z})},R=(z,J)=>{try{const re=o.some(X=>X.id===z);let H;re?H=o.filter(X=>X.id!==z):H=[...o,{id:z,category:J,addedAt:Date.now()}],l(H),V(H),Fi("favorite",z),hd.trackActivity("healthbox",re?"remove-favorite":"add-favorite",{tool:z}),u({title:re?"Removed from favorites":"Added to favorites",description:`${z} has been ${re?"removed from":"added to"} your favorites.`,variant:"default"})}catch(re){console.error("Error toggling favorite:",re),u({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},M=async()=>{try{const J=Vt(Ke).currentUser;if(J){const re=Er(Ke),H=gt(re,"userPreferences",J.uid),X=await sr(H);X.exists()&&X.data().favoriteHealthTools&&l(X.data().favoriteHealthTools)}}catch(z){console.error("Error loading favorite tools:",z)}},V=async z=>{try{const re=Vt(Ke).currentUser;if(re){const H=Er(Ke),X=gt(H,"userPreferences",re.uid);await As(X,{favoriteHealthTools:z},{merge:!0})}}catch(J){console.error("Error saving favorite tools:",J)}},$=(z,J,re)=>{if(E){u({title:"Sign in required",description:"Please sign in to save results to your dashboard.",variant:"destructive"});return}x({id:z,name:J,data:re}),_(!0),Fi("save_results",z),hd.trackActivity("healthbox","save-results",{tool:z})},D={fitness:[{id:"bmi-calculator",title:"BMI Calculator",icon:a.jsx(dy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(mEe,{onSaveResults:$})},{id:"calorie-calculator",title:"Calorie Calculator",icon:a.jsx(ol,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(zEe,{})},{id:"water-intake-calculator",title:"Water Intake Calculator",icon:a.jsx(oY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(qEe,{})},{id:"macro-calculator",title:"Macro Calculator",icon:a.jsx(GF,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(HEe,{})},{id:"ideal-weight-calculator",title:"Ideal Weight Calculator",icon:a.jsx(dy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(GEe,{})},{id:"body-fat-calculator",title:"Body Fat Calculator",icon:a.jsx(HN,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(KEe,{})}],nutrition:[{id:"nutrition-score-calculator",title:"Nutrition Score Calculator",icon:a.jsx(xn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(WEe,{})},{id:"sleep-calculator",title:"Sleep Calculator",icon:a.jsx(Ir,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(ad,{title:"Sleep Calculator",icon:a.jsx(Ir,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],medical:[{id:"heart-rate-calculator",title:"Heart Rate Calculator",icon:a.jsx(yi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(YEe,{})},{id:"blood-pressure-analyzer",title:"Blood Pressure Analyzer",icon:a.jsx(bl,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(ad,{title:"Blood Pressure Analyzer",icon:a.jsx(bl,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"stress-analyzer",title:"Stress Analyzer",icon:a.jsx(cy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(ad,{title:"Stress Analyzer",icon:a.jsx(cy,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}],safety:[{id:"food-safety-checker",title:"Food Safety Checker",icon:a.jsx(c1,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(ad,{title:"Food Safety Checker",icon:a.jsx(c1,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"medication-reminder",title:"Medication Reminder",icon:a.jsx(qI,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(ad,{title:"Medication Reminder",icon:a.jsx(qI,{className:"mr-2 h-5 w-5 text-safebite-teal"})})},{id:"disease-risk-assessment",title:"Disease Risk Assessment",icon:a.jsx(vd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),component:a.jsx(ad,{title:"Disease Risk Assessment",icon:a.jsx(vd,{className:"mr-2 h-5 w-5 text-safebite-teal"})})}]},L=z=>{let J=z;return i&&(J=z.filter(re=>re.title.toLowerCase().includes(i.toLowerCase()))),f&&(J=J.filter(re=>o.some(H=>H.id===re.id))),J},B=D[t]||[],G=L(B),q=Object.values(D).flat(),Y=q.filter(z=>o.some(J=>J.id===z.id));return a.jsxs("div",{className:"flex min-h-screen bg-safebite-bg",children:[a.jsx(ua,{}),a.jsx("main",{className:"flex-1 p-6 ml-[220px]",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsxs("h1",{className:"text-3xl font-bold text-safebite-text mb-6",children:[a.jsx(ys,{className:"inline-block mr-2 h-6 w-6 text-safebite-teal"}),"Healthbox"]}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Explore our collection of health tools to monitor and improve your wellbeing."}),a.jsxs("div",{className:"mb-8 p-4 bg-safebite-card-bg rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Qr,{className:"absolute left-2 top-2.5 h-4 w-4 text-safebite-text-secondary"}),a.jsx(ft,{placeholder:"Search health tools...",className:"pl-8 bg-safebite-card-bg border-safebite-card-bg-alt",value:i,onChange:z=>s(z.target.value)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bb,{id:"favorites-only",checked:f,onCheckedChange:h}),a.jsx(et,{htmlFor:"favorites-only",className:"text-safebite-text",children:"Show favorites only"})]})]}),a.jsxs(fo,{defaultValue:t,onValueChange:O,className:"w-full",children:[a.jsxs(da,{className:"grid grid-cols-5 mb-8 bg-safebite-card-bg rounded-lg overflow-hidden",children:[a.jsxs($t,{value:"fitness",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(HN,{className:"mr-2 h-4 w-4"}),"Fitness"]}),a.jsxs($t,{value:"nutrition",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Nutrition"]}),a.jsxs($t,{value:"medical",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(vd,{className:"mr-2 h-4 w-4"}),"Medical"]}),a.jsxs($t,{value:"safety",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(c1,{className:"mr-2 h-4 w-4"}),"Safety"]}),a.jsxs($t,{value:"favorites",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(gd,{className:"mr-2 h-4 w-4"}),"Favorites"]})]}),r.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Active Tools"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(z=>{const J=q.find(re=>re.id===z);return J?a.jsxs(Me,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg",children:[a.jsxs(bt,{className:"flex flex-row items-center justify-between",children:[a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[J.icon,J.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>R(J.id,t),className:"h-8 w-8",children:o.some(re=>re.id===J.id)?a.jsx(xn,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(xn,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>P(J.id),className:"h-8 w-8",children:a.jsx(iY,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(it,{children:J.component})]},J.id):null})})]}),a.jsxs(Wt,{value:t,className:"mt-0",children:[G.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Rn,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No tools found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:f?"You don't have any favorite tools in this category yet.":"No tools match your search criteria."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:G.map(z=>r.includes(z.id)?null:a.jsxs(Me,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(bt,{className:"flex flex-row items-center justify-between",children:[a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[z.icon,z.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>R(z.id,t),className:"h-8 w-8",children:o.some(re=>re.id===z.id)?a.jsx(xn,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"}):a.jsx(xn,{className:"h-4 w-4 text-safebite-text-secondary"})}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>P(z.id),className:"h-8 w-8",children:a.jsx(Gh,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(it,{children:a.jsxs(ie,{onClick:()=>P(z.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(Gh,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},z.id))})]}),a.jsx(Wt,{value:"favorites",className:"mt-0",children:Y.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gd,{className:"mx-auto h-12 w-12 text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No favorites yet"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Star your favorite tools to access them quickly from this tab."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:Y.map(z=>r.includes(z.id)?null:a.jsxs(Me,{className:"sci-fi-card border-t-2 border-t-safebite-teal shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs(bt,{className:"flex flex-row items-center justify-between",children:[a.jsxs(wt,{className:"flex items-center text-safebite-text",children:[z.icon,z.title]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>R(z.id,"favorites"),className:"h-8 w-8",children:a.jsx(xn,{className:"h-4 w-4 fill-safebite-teal text-safebite-teal"})}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>P(z.id),className:"h-8 w-8",children:a.jsx(Gh,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),a.jsx(it,{children:a.jsxs(ie,{onClick:()=>P(z.id),className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md",children:[a.jsx(Gh,{className:"mr-2 h-4 w-4"}),"Open Tool"]})})]},z.id))})})]})]})}),a.jsx(hEe,{isOpen:y,onClose:()=>_(!1),toolId:b.id,toolName:b.name,toolData:b.data}),a.jsx(Bl,{currentPage:"healthbox",userData:{profile:S,recentActivity:N},autoOpen:!0,initialMessage:"Welcome to Healthbox! I can help you find the right health tools for your needs. What health aspect would you like to focus on today?"})]})},XEe=({isOpen:t,onClose:e,feature:r="this feature"})=>{const n=gr(),[i,s]=j.useState(!1);if(!t)return null;const o=[{icon:a.jsx(Qo,{className:"h-5 w-5 text-green-500"}),title:"Personalized Experience",description:"Get recommendations tailored to your health profile and preferences."},{icon:a.jsx(uy,{className:"h-5 w-5 text-blue-500"}),title:"Save Your Data",description:"Track your progress over time with saved health metrics and food logs."},{icon:a.jsx(ZK,{className:"h-5 w-5 text-purple-500"}),title:"Detailed Analytics",description:"Access comprehensive charts and insights about your health journey."},{icon:a.jsx(Ua,{className:"h-5 w-5 text-orange-500"}),title:"Secure Storage",description:"Your data is securely stored and protected with Firebase Authentication."}];return a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:a.jsxs(Me,{className:"sci-fi-card max-w-md w-full relative overflow-hidden",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-safebite-teal/20 to-safebite-purple/20 rounded-lg blur-sm"}),a.jsxs("div",{className:"relative",children:[a.jsx(ie,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:a.jsx(Xn,{className:"h-5 w-5"})}),a.jsx(bt,{children:a.jsx(wt,{className:"text-xl font-bold text-center",children:i?"Benefits of Creating an Account":"Login Required"})}),a.jsx(it,{children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4 mb-6",children:o.map((l,u)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-3 mt-0.5",children:l.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:l.title}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:l.description})]})]},u))}),a.jsx(ie,{onClick:()=>s(!1),variant:"link",className:"text-safebite-text-secondary",children:"Back to login options"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"h-16 w-16 rounded-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx(Bc,{className:"h-8 w-8 text-safebite-teal"})})}),a.jsxs("p",{className:"text-center text-safebite-text mb-6",children:["You need to be logged in to use ",r,"."]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs(ie,{onClick:()=>n("/auth/login"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(bm,{className:"mr-2 h-4 w-4"}),"Log In"]}),a.jsxs(ie,{onClick:()=>n("/auth/signup"),variant:"outline",className:"border-safebite-purple text-safebite-purple hover:bg-safebite-purple/10",children:[a.jsx(a6,{className:"mr-2 h-4 w-4"}),"Create Account"]}),a.jsx(ie,{variant:"link",className:"text-safebite-text-secondary",onClick:()=>s(!0),children:"Why should I create an account?"})]})]})}),a.jsx(El,{className:"flex justify-center border-t border-safebite-card-bg-alt pt-4",children:a.jsx(ie,{variant:"ghost",className:"text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:"Continue in Guest Mode"})})]})]})})},JEe=(t,e,r)=>new Promise(n=>{setTimeout(()=>{const i=[{name:"Chia Seeds",description:"Nutrient-dense seeds high in omega-3 fatty acids, fiber, and protein.",benefits:"Supports heart health, digestion, and provides sustained energy.",category:"superfoods"},{name:"Turmeric",description:"Powerful anti-inflammatory spice with curcumin as the active ingredient.",benefits:"Reduces inflammation, supports joint health, and has antioxidant properties.",category:"spices"},{name:"Kefir",description:"Fermented dairy drink rich in probiotics and protein.",benefits:"Supports gut health, immune function, and provides calcium.",category:"dairy"}],s={vegan:[{name:"Nutritional Yeast",description:"Deactivated yeast with a cheesy flavor, rich in B vitamins.",benefits:"Provides vitamin B12, protein, and adds savory flavor to dishes.",category:"vegan"},{name:"Tempeh",description:"Fermented soybean cake with a firm texture and nutty flavor.",benefits:"High in protein, probiotics, and contains all essential amino acids.",category:"vegan"}],vegetarian:[{name:"Greek Yogurt",description:"Strained yogurt with higher protein content than regular yogurt.",benefits:"Rich in protein, probiotics, and calcium for gut and bone health.",category:"dairy"},{name:"Cottage Cheese",description:"Fresh cheese curd product with a mild flavor.",benefits:"High in protein, low in calories, and contains casein protein for slow digestion.",category:"dairy"}],keto:[{name:"MCT Oil",description:"Medium-chain triglyceride oil derived from coconut oil.",benefits:"Quickly converted to ketones, provides energy, and supports ketosis.",category:"oils"},{name:"Macadamia Nuts",description:"High-fat, low-carb nuts with a buttery flavor.",benefits:"Rich in monounsaturated fats, low in carbs, and supports heart health.",category:"nuts"}],paleo:[{name:"Grass-Fed Beef",description:"Beef from cattle fed primarily grass instead of grain.",benefits:"Higher in omega-3s, CLA, and vitamins compared to conventional beef.",category:"meats"},{name:"Coconut Flour",description:"Grain-free flour alternative made from dried coconut meat.",benefits:"High in fiber, low in carbs, and suitable for grain-free baking.",category:"flours"}]},o={"weight loss":[{name:"Green Tea Extract",description:"Concentrated form of green tea rich in catechins.",benefits:"May boost metabolism, increase fat oxidation, and provide antioxidants.",category:"supplements"},{name:"Konjac Noodles",description:"Low-calorie, high-fiber noodles made from konjac yam.",benefits:"Very low in calories, high in glucomannan fiber, and promotes fullness.",category:"pasta alternatives"}],"muscle gain":[{name:"Whey Protein Isolate",description:"Highly filtered whey protein with minimal fat and lactose.",benefits:"Fast-absorbing protein source, rich in BCAAs for muscle recovery and growth.",category:"supplements"},{name:"Tart Cherry Juice",description:"Juice from tart cherries with anti-inflammatory properties.",benefits:"May reduce exercise-induced muscle soreness and improve recovery.",category:"beverages"}],"general health":[{name:"Fermented Foods Variety Pack",description:"Assortment of kimchi, sauerkraut, and pickled vegetables.",benefits:"Rich in probiotics, supports gut health, and enhances immune function.",category:"fermented foods"},{name:"Mixed Berry Blend",description:"Frozen blend of strawberries, blueberries, raspberries, and blackberries.",benefits:"High in antioxidants, fiber, and vitamin C for overall health.",category:"fruits"}]};let l=[...i],u="These products are generally beneficial for most dietary patterns and health goals.";if(e&&s[e.toLowerCase()]&&(l=[...s[e.toLowerCase()],...l].slice(0,5),u=`Products selected specifically for ${e} dietary pattern, focusing on essential nutrients that may be needed.`),r){const f=Object.keys(o).find(h=>r.toLowerCase().includes(h));f&&o[f]&&(l=[...o[f],...l].slice(0,5),u+=` Also included products that support your ${r} goal.`)}t.length>0&&(u+=` Considered your preferences for ${t.join(", ")}.`),n({products:l.slice(0,5),explanation:u})},1500)}),ZEe=({userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n=!1})=>{const[i,s]=j.useState(null),[o,l]=j.useState(!1),[u,f]=j.useState(null),{toast:h}=ar();return j.useEffect(()=>{(async()=>{if(!(!t.length&&!e&&!r)){l(!0),f(null);try{Vm("gemini_product_recommendations",{userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n});const p=await JEe(t,e,r);s(p)}catch(p){console.error("Error getting AI recommendations:",p),f("Failed to generate AI recommendations. Please try again later."),h({title:"AI Recommendation Error",description:"Could not generate personalized recommendations.",variant:"destructive"})}finally{l(!1)}}})()},[t,e,r,h,n]),o?a.jsxs(Me,{className:"sci-fi-card",children:[a.jsxs(bt,{children:[a.jsxs(wt,{className:"flex items-center",children:[a.jsx(ys,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(Sm,{children:"Generating personalized recommendations..."})]}),a.jsx(it,{className:"flex justify-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Vr,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Our AI is analyzing your preferences and health goals"})]})})]}):u?a.jsxs(Me,{className:"sci-fi-card",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"flex items-center",children:[a.jsx(Ka,{className:"h-5 w-5 mr-2 text-red-500"}),"AI Recommendations Unavailable"]})}),a.jsx(it,{children:a.jsx("p",{className:"text-safebite-text-secondary",children:u})}),a.jsx(El,{children:a.jsx(ie,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})})]}):i?a.jsxs(Me,{className:"sci-fi-card",children:[a.jsxs(bt,{children:[a.jsxs(wt,{className:"flex items-center",children:[a.jsx(ys,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),a.jsx(Sm,{children:"Personalized suggestions based on your profile"})]}),a.jsxs(it,{children:[a.jsx("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt",children:a.jsxs("p",{className:"text-sm text-safebite-text-secondary italic",children:['"',i.explanation,'"']})}),a.jsx("div",{className:"space-y-3",children:i.products.map((m,p)=>a.jsx("div",{className:"p-3 border border-safebite-card-bg-alt rounded-md hover:border-safebite-teal/50 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 mt-1",children:a.jsx(n6,{className:"h-4 w-4 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:m.name}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:m.description}),a.jsx("p",{className:"text-xs text-safebite-teal",children:m.benefits})]})]})},p))})]}),a.jsx(El,{children:a.jsx("div",{className:"text-xs text-safebite-text-secondary",children:a.jsx("p",{children:"Powered by AI - Recommendations based on your profile data"})})})]}):null},Va="https://safebite-backend.onrender.com",iF="https://safebite-api.onrender.com",sF=[{_id:"fallback1",name:"Organic Whole Grain Bread",brand:"Nature's Best",category:"Bakery",description:"Nutritious whole grain bread made with organic ingredients.",ingredients:["Whole wheat flour","Water","Yeast","Salt","Honey"],nutritionalInfo:{calories:80,protein:4,carbs:15,fat:1,fiber:3,sugar:1},allergens:["Wheat","Gluten"],dietaryInfo:["Vegetarian"],healthScore:8,imageUrl:"https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:3.99,tags:["Organic","Whole Grain","Bread"]},{_id:"fallback2",name:"Greek Yogurt",brand:"Healthy Dairy",category:"Dairy",description:"Creamy Greek yogurt high in protein and probiotics.",ingredients:["Milk","Live active cultures"],nutritionalInfo:{calories:120,protein:15,carbs:7,fat:5,fiber:0,sugar:5},allergens:["Milk"],dietaryInfo:["Vegetarian","Gluten-Free"],healthScore:9,imageUrl:"https://images.unsplash.com/photo-1488477181946-6428a0291777?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:2.49,tags:["Protein","Probiotic","Dairy"]},{_id:"fallback3",name:"Quinoa Salad",brand:"Fresh Meals",category:"Prepared Foods",description:"Ready-to-eat quinoa salad with vegetables and herbs.",ingredients:["Quinoa","Bell peppers","Cucumber","Olive oil","Lemon juice","Herbs"],nutritionalInfo:{calories:220,protein:8,carbs:35,fat:7,fiber:6,sugar:2},allergens:[],dietaryInfo:["Vegan","Gluten-Free"],healthScore:10,imageUrl:"https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:5.99,tags:["Vegan","Protein","Ready-to-eat"]},{_id:"fallback4",name:"Almond Butter",brand:"Nut Heaven",category:"Spreads",description:"Creamy almond butter made from roasted almonds.",ingredients:["Roasted almonds"],nutritionalInfo:{calories:190,protein:7,carbs:6,fat:17,fiber:3,sugar:1},allergens:["Tree nuts"],dietaryInfo:["Vegan","Gluten-Free"],healthScore:7,imageUrl:"https://images.unsplash.com/photo-1501012259-39cd25f18b8d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:7.99,tags:["Nut butter","Protein","Natural"]}],pW=async()=>await aF(Va)?(console.log("Main API is available"),{isAvailable:!0,activeUrl:Va}):(console.log("Main API is down, trying backup API..."),await aF(iF)?(console.log("Backup API is available"),{isAvailable:!0,activeUrl:iF}):(console.warn("Both main and backup APIs are down"),{isAvailable:!1,activeUrl:Va}));async function aF(t){try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3);let n;try{n=await fetch(`${t}/status`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch{console.log(`Error fetching ${t}/status, trying root endpoint`);try{n=await fetch(`${t}/`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch(o){return console.error(`Error fetching ${t}/: ${o}`),clearTimeout(r),!1}}if(clearTimeout(r),!n.ok)return console.warn(`API status check failed with status: ${n.status}`),!1;const i=await n.json();return i&&i.status==="API is running"?(console.log("API is available:",i),!0):(console.warn("API status check returned unexpected data:",i),!1)}catch(e){return console.error("Error checking API status:",e),!1}}const eAe=async(t="products",e=1,r=20,n="",i={products:[],total:0,page:1,totalPages:1})=>{try{const{isAvailable:s,activeUrl:o}=await pW();if(!s)return console.warn("API is not available, returning fallback data"),i;const l=new AbortController,u=setTimeout(()=>l.abort(),15e3),f=async h=>{if(!h.ok)throw new Error(`API returned status ${h.status}`);const m=await h.json();if(m&&m.products&&Array.isArray(m.products))return console.log(`Successfully fetched ${m.products.length} ${t} from API`),{products:m.products,total:m.total||m.products.length,page:m.page||e,totalPages:m.totalPages||Math.ceil((m.total||m.products.length)/r)};if(m&&Array.isArray(m))return console.log(`Successfully fetched ${m.length} ${t} from API (array format)`),{products:m,total:m.length,page:e,totalPages:Math.ceil(m.length/r)};throw console.warn(`Unexpected API response format for ${t}:`,m),new Error("Unexpected API response format")};try{const h=`${o}/api/${t}?page=${e}&limit=${r}${n?`&search=${encodeURIComponent(n)}`:""}`;console.log(`Fetching from new endpoint: ${h}`);const m=await fetch(h,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),p=await f(m);return clearTimeout(u),p}catch(h){console.warn(`Error fetching from new endpoint: ${h}`);try{const m=t==="products"?`${o}/products`:`${o}/grocery-products`;console.log(`Falling back to legacy endpoint: ${m}`);const p=await fetch(m,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),y=await f(p);return clearTimeout(u),y}catch(m){return console.error(`Error fetching from legacy endpoint: ${m}`),clearTimeout(u),console.warn("All fetch attempts failed, returning fallback data"),i}}}catch(s){return console.error(`Error fetching ${t}:`,s),console.warn("Error during fetch process, returning fallback data"),i}},tAe=({className:t="",onStatusChange:e})=>{const[r,n]=j.useState(null),[i,s]=j.useState(Va),[o,l]=j.useState(!1),[u,f]=j.useState(null),{toast:h}=ar(),m=async()=>{l(!0);try{const{isAvailable:p,activeUrl:y}=await pW();n(p),s(y),f(new Date),e&&e(p,y),h({title:p?"API is online":"API is offline",description:p?`Connected to the SafeBite API (${y===Va?"Primary":"Backup"})`:"Unable to connect to any API server",variant:p?"default":"destructive"})}catch(p){console.error("Error checking API status:",p),n(!1),e&&e(!1,Va)}finally{l(!1)}};return j.useEffect(()=>{m();const p=setInterval(()=>{m()},5*60*1e3);return()=>clearInterval(p)},[]),a.jsxs("div",{className:`flex items-center gap-1 ${t}`,children:[a.jsx(AT,{children:a.jsxs(G6,{children:[a.jsx(K6,{asChild:!0,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${r===null?"bg-gray-400 animate-pulse":r?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"ml-1 text-xs text-safebite-text-secondary",children:["API ",r===null?"...":r?"Live":"Offline"]})]})}),a.jsx(TT,{side:"bottom",children:a.jsxs("div",{className:"text-xs",children:[a.jsxs("p",{className:"font-medium",children:["API Status: ",r?"Online":"Offline"]}),r&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Using ",i===Va?"Primary":"Backup"," Server"]}),u&&a.jsxs("p",{className:"text-safebite-text-secondary",children:["Last checked: ",u.toLocaleTimeString()]})]})})]})}),a.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:m,disabled:o,children:a.jsx(WN,{className:`h-3 w-3 ${o?"animate-spin":""}`})}),a.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6",asChild:!0,children:a.jsx("a",{href:`${i}/status`,target:"_blank",rel:"noopener noreferrer",children:a.jsx(Li,{className:"h-3 w-3"})})})]})},gW=({currentPage:t,totalPages:e,onPageChange:r,totalItems:n,itemsPerPage:i})=>{if(e<=1)return null;const s=()=>{const u=[];if(e<=5)for(let f=1;f<=e;f++)u.push(f);else{u.push(1);let f=Math.max(2,t-1),h=Math.min(e-1,t+1);t<=3&&(h=Math.min(e-1,4)),t>=e-2&&(f=Math.max(2,e-3)),f>2&&u.push("...");for(let m=f;m<=h;m++)u.push(m);h<e-1&&u.push("..."),u.push(e)}return u},o=l=>{l!==t&&l>=1&&l<=e&&r(l)};return a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(1),disabled:t===1,children:a.jsx(rY,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t-1),disabled:t===1,children:a.jsx(tY,{className:"h-4 w-4"})}),s().map((l,u)=>l==="..."?a.jsx("span",{className:"px-2 text-safebite-text-secondary",children:"..."},`ellipsis-${u}`):a.jsx(ie,{variant:t===l?"default":"outline",size:"icon",className:`h-8 w-8 ${t===l?"bg-safebite-teal text-safebite-dark-blue":""}`,onClick:()=>o(l),children:l},`page-${l}`)),a.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t+1),disabled:t===e,children:a.jsx(KF,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(e),disabled:t===e,children:a.jsx(nY,{className:"h-4 w-4"})})]}),n!==void 0&&i!==void 0&&a.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Showing ",Math.min((t-1)*i+1,n)," - ",Math.min(t*i,n)," of ",n," items"]})]})},rAe=()=>{gr();const{toast:t}=ar(),e=Vt(Ke),r=Er(Ke),{isGuest:n}=Jn(),[i,s]=j.useState([]),[o,l]=j.useState([]),[u,f]=j.useState(!0),[h,m]=j.useState(""),[p,y]=j.useState("all"),[_,b]=j.useState("healthScore"),[x,E]=j.useState(1),[S,T]=j.useState(1),[N,C]=j.useState(0),O=20,[P,R]=j.useState([]),[M,V]=j.useState(!0),[$,D]=j.useState(""),[L,B]=j.useState("all"),[G,q]=j.useState(1),[Y,z]=j.useState(1),[J,re]=j.useState(0),[H,X]=j.useState([]),[te,ee]=j.useState(!1),[me,ge]=j.useState(""),[ue,ve]=j.useState([]),[de,he]=j.useState("products"),Ne=[{id:"all",name:"All Products"},{id:"snacks",name:"Snacks"},{id:"beverages",name:"Beverages"},{id:"dairy",name:"Dairy"},{id:"grains",name:"Grains & Cereals"},{id:"protein",name:"Protein Foods"},{id:"fruits",name:"Fruits & Vegetables"}],le=j.useCallback(Ce=>n?(ge(Ce),ee(!0),!0):!1,[n,ge,ee]);j.useEffect(()=>{(async()=>{if(e.currentUser&&!n)try{const Qe=await sr(gt(r,"users",e.currentUser.uid));if(Qe.exists()){const ct=Qe.data(),Ut=ct.dietary_preferences||ct.dietaryPreferences||[],qt=ct.health_goals||ct.healthGoals||"",cn=ct.allergens||[],Mn=[...Array.isArray(Ut)?Ut:[Ut],qt,...cn].filter(Boolean);X(Mn);const ut=ct.favoriteProducts||[];ve(ut)}}catch(Qe){console.error("Error fetching user preferences:",Qe)}})()},[e,r,n]);const[qe,Re]=j.useState(null),ze=async(Ce=1,Qe="")=>{V(!0);try{Vm("grocery_page_view",{isGuest:n,page:Ce,search:Qe});const ct={products:sF.slice(0,4),total:4,page:Ce,totalPages:1};try{console.log(`Directly fetching from dataset: ${Va}/dataset/groceryProducts`);const Ut=new AbortController,qt=setTimeout(()=>Ut.abort(),15e3);let cn=`${Va}/dataset/groceryProducts?page=${Ce}&limit=${O}`;Qe&&(cn+=`&search=${encodeURIComponent(Qe)}`);const Mn=await fetch(cn,{signal:Ut.signal,method:"GET",headers:{Accept:"application/json"}});if(clearTimeout(qt),!Mn.ok)throw new Error(`API returned status ${Mn.status}`);const ut=await Mn.json();console.log("Grocery API response:",ut);let Nt;if(Array.isArray(ut))Nt={products:ut,total:ut.length,page:Ce,totalPages:Math.ceil(ut.length/O)};else if(ut.products&&Array.isArray(ut.products))Nt={products:ut.products,total:ut.total||ut.products.length,page:ut.page||Ce,totalPages:ut.totalPages||Math.ceil((ut.total||ut.products.length)/O)};else throw new Error("Invalid response format from API");return R(Nt.products),q(Nt.page),z(Nt.totalPages),re(Nt.total),Re(!0),console.log("Successfully loaded grocery products from API"),Nt}catch(Ut){console.error("Direct grocery API call failed:",Ut),console.log("Falling back to utility function with status check");const qt=await eAe("groceryProducts",Ce,O,Qe,ct);return R(qt.products),q(qt.page),z(qt.totalPages),re(qt.total),qt}}catch(ct){console.error("Error fetching grocery products:",ct);const Ut=sF.slice(0,4);return R(Ut),q(1),z(1),re(4),{products:Ut,total:4,page:1,totalPages:1}}finally{V(!1)}};j.useEffect(()=>{ze(1,$)},[]),j.useEffect(()=>{de==="grocery"&&ze(1,$)},[de,$]);const at=Ce=>{Re(Ce)},Bt=()=>{ze(1,$)};j.useEffect(()=>{if(p==="all")l(i);else{const Ce=i.filter(Qe=>Qe.category.toLowerCase()===p.toLowerCase());l(Ce)}},[p,i,l]),j.useEffect(()=>{let Ce=[...o];Ce.sort((Qe,ct)=>{switch(_){case"healthScore":return ct.healthScore-Qe.healthScore;case"price":return Qe.price?ct.price?ct.price-Qe.price:-1:1;case"name":return Qe.name.localeCompare(ct.name);default:return 0}}),l(Ce)},[_,o,l]);const Ar=async Ce=>{if(!le("favorites"))try{const Qe=ue.includes(Ce)?ue.filter(ct=>ct!==Ce):[...ue,Ce];ve(Qe),e.currentUser&&await Fm(gt(r,"users",e.currentUser.uid),{favoriteProducts:Qe})}catch(Qe){console.error("Error toggling favorite:",Qe),t({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return a.jsxs("div",{className:"flex min-h-screen bg-safebite-dark-blue",children:[a.jsx(ua,{}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[u?a.jsx(Vr,{className:"animate-spin h-8 w-8 text-white"}):a.jsxs(a.Fragment,{children:[a.jsx(tAe,{apiAvailable:qe,onApiStatusChange:at}),a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(ft,{placeholder:"Search products...",value:h,onChange:Ce=>m(Ce.target.value),className:"w-full"}),a.jsx(ie,{onClick:handleProductSearch,className:"absolute top-1/2 right-2 -translate-y-1/2",children:a.jsx(Qr,{className:"h-4 w-4"})})]})]}),a.jsxs(fo,{defaultValue:"grocery",className:"mb-8",children:[a.jsxs(da,{className:"grid grid-cols-2 mb-4",children:[a.jsxs($t,{value:"grocery",className:"flex items-center",children:[a.jsx(QK,{className:"h-4 w-4 mr-2"})," Grocery Products"]}),a.jsxs($t,{value:"recipes",className:"flex items-center",children:[a.jsx(Ya,{className:"h-4 w-4 mr-2"})," Recipes"]})]}),a.jsx(Wt,{value:"recipes",children:a.jsx("div",{className:"grid grid-cols-1 gap-6 mb-6",children:a.jsx(ZEe,{userPreferences:H})})}),a.jsxs(Wt,{value:"grocery",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("select",{value:L,onChange:Ce=>B(Ce.target.value),className:"w-full p-2 mb-4 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md text-safebite-text",children:Ne.map(Ce=>a.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ft,{type:"text",placeholder:"Search grocery products...",value:$,onChange:Ce=>D(Ce.target.value),className:"sci-fi-input w-full"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ie,{onClick:Bt,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 flex-shrink-0",disabled:M,children:[M?a.jsx(Vr,{className:"h-4 w-4 animate-spin mr-1"}):a.jsx(Qr,{className:"h-4 w-4 mr-1"}),"Search"]})})]})]}),M?a.jsxs("div",{className:"flex justify-center items-center h-64",children:[a.jsx(Vr,{className:"h-8 w-8 animate-spin text-safebite-teal"}),a.jsx("span",{className:"ml-2 text-safebite-text",children:"Loading grocery products..."})]}):P.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:P.map(Ce=>{var Qe,ct;return a.jsxs(Me,{className:"sci-fi-card overflow-hidden flex flex-col h-full hover:shadow-neon-teal transition-all duration-300",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden bg-safebite-card-bg-alt",children:[a.jsx("img",{src:Ce.imageUrl||`https://source.unsplash.com/random/400x300/?${encodeURIComponent(Ce.name||"food")},food`,alt:Ce.name,className:"object-cover w-full h-full",onError:Ut=>{const qt=Ce.name||"Food Product";Ut.target.src=`https://via.placeholder.com/400x300?text=${encodeURIComponent(qt)}`}}),a.jsx(ie,{onClick:Ut=>{Ut.stopPropagation(),Ar(Ce._id)},variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-black/30 backdrop-blur-sm hover:bg-black/50 text-white",children:a.jsx(yi,{className:`h-4 w-4 ${ue.includes(Ce._id)?"fill-safebite-teal text-safebite-teal":""}`})}),a.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded backdrop-blur-sm",children:Ce.category})]}),a.jsxs(it,{className:"flex-grow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-safebite-text",children:Ce.name}),a.jsxs("div",{className:"flex items-center bg-safebite-teal/10 text-safebite-teal px-1.5 py-0.5 rounded text-xs",children:[a.jsx(xn,{className:"h-3 w-3 mr-0.5 fill-safebite-teal"}),a.jsx("span",{children:((Qe=Ce.healthScore)==null?void 0:Qe.toFixed(1))||"5.0"})]})]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-2",children:Ce.brand}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(ct=Ce.tags)==null?void 0:ct.slice(0,3).map((Ut,qt)=>a.jsx(Ue,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt",children:Ut},qt))})]}),a.jsx(El,{className:"p-4 pt-0",children:a.jsx(ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>{Vm("view_grocery_details",{productId:Ce._id,productName:Ce.name})},children:"View Details"})})]},Ce._id)})}):a.jsx(Me,{className:"sci-fi-card mb-4",children:a.jsxs(it,{className:"p-6 text-center",children:[a.jsx(Rn,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No Grocery Products Found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"No grocery products match your search criteria. Try adjusting your filters or search terms."}),a.jsx(ie,{onClick:()=>{D(""),B("all")},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Clear Search"})]})}),Y>1&&a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(gW,{currentPage:G,totalPages:Y,onPageChange:Ce=>{q(Ce),ze(Ce,$)}})})]})]})]}),te&&a.jsx(XEe,{isOpen:te,onClose:()=>ee(!1),feature:me})]})]})},uk="https://safebite-backend.onrender.com",nAe=async()=>{try{const t=await fetch(`${uk}/`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)return console.error(`API status check failed with status ${t.status}`),!1;const e=await t.json();return console.log("API status check response:",e),e&&(e.status==="API is running"||e.status==="running"||e.api_status==="running")}catch(t){return console.error("Error checking API status:",t),!1}},iAe=async(t=1,e=20,r="")=>{try{if(!await nAe())return console.warn("API is not available, returning empty data"),{products:[],total:0,page:1,totalPages:1};const i=["/products","/grocery-products","/api/products","/api/grocery-products","/dataset/products","/dataset/grocery-products"];let s=null,o="",l=!1;for(const f of i){o=`${uk}${f}?page=${t}&limit=${e}${r?`&search=${encodeURIComponent(r)}`:""}`,console.log("Trying endpoint:",o);try{if(s=await fetch(o,{method:"GET",headers:{Accept:"application/json"}}),s.ok){l=!0,console.log("Found working endpoint:",o);break}}catch(h){console.warn(`Endpoint ${f} failed:`,h)}}if(!l||!s)return console.error("All endpoints failed"),{products:[],total:0,page:1,totalPages:1};const u=await s.json();return console.log("Grocery products API response:",u),u.products&&Array.isArray(u.products)?{products:u.products,total:u.total||0,page:u.page||t,totalPages:u.totalPages||1}:Array.isArray(u)?{products:u,total:u.length,page:t,totalPages:Math.ceil(u.length/e)}:u.results&&Array.isArray(u.results)?{products:u.results,total:u.count||u.results.length,page:t,totalPages:Math.ceil((u.count||u.results.length)/e)}:(console.warn("Unexpected API response format:",u),{products:[],total:0,page:t,totalPages:1})}catch(n){return console.error("Error fetching grocery products:",n),{products:[],total:0,page:1,totalPages:1}}},sAe=()=>{gr();const{toast:t}=ar(),e=Vt(Ke),r=Er(Ke),{isGuest:n}=Jn(),[i,s]=j.useState([]),[o,l]=j.useState(!0),[u,f]=j.useState(""),[h,m]=j.useState("all"),[p,y]=j.useState(1),[_,b]=j.useState(1),[x,E]=j.useState(0),S=20,[T,N]=j.useState([]),C=[{id:"all",name:"All Products"},{id:"snacks",name:"Snacks"},{id:"beverages",name:"Beverages"},{id:"dairy",name:"Dairy"},{id:"grains",name:"Grains & Cereals"},{id:"protein",name:"Protein Foods"},{id:"fruits",name:"Fruits & Vegetables"}];j.useEffect(()=>{(async()=>{if(e.currentUser&&!n)try{const V=await sr(gt(r,"users",e.currentUser.uid));if(V.exists()){const D=V.data().favoriteProducts||[];N(D)}}catch(V){console.error("Error fetching user favorites:",V)}})()},[e,r,n]);const O=async(M=1,V="")=>{l(!0);try{Vm("grocery_page_view",{isGuest:n,page:M,search:V});const $=await iAe(M,S,V);s($.products),y($.page),b($.totalPages),E($.total),$.products.length===0&&t(V?{title:"No products found",description:`No grocery products match "${V}". Try a different search term.`,variant:"destructive"}:{title:"API Connection Issue",description:"Could not retrieve grocery products from the database. The API may be experiencing issues.",variant:"destructive"})}catch($){console.error("Error fetching grocery products:",$),t({title:"Backend API Error",description:"Could not connect to the grocery products database. The backend API may be down or experiencing issues.",variant:"destructive"})}finally{l(!1)}};j.useEffect(()=>{O(1,u)},[]);const P=()=>{O(1,u)};j.useEffect(()=>{if(h==="all")O(p,u);else{const M=i.filter(V=>{var $;return($=V.category)==null?void 0:$.toLowerCase().includes(h.toLowerCase())});M.length===0&&t({title:"No products found",description:`No grocery products found in the "${h}" category.`,variant:"default"}),s(M)}},[h]);const R=async M=>{if(n){t({title:"Guest Mode",description:"Please log in to save favorites.",variant:"default"});return}try{const V=T.includes(M)?T.filter($=>$!==M):[...T,M];N(V),e.currentUser&&await Fm(gt(r,"users",e.currentUser.uid),{favoriteProducts:V})}catch(V){console.error("Error toggling favorite:",V),t({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(ua,{}),a.jsxs("main",{className:"md:ml-64 min-h-screen",children:[a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text",children:"Grocery Products"}),a.jsx(Ue,{variant:"outline",className:"text-safebite-teal border-safebite-teal",children:"MongoDB"})]}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for grocery items and get detailed nutritional information"})]}),a.jsx(Me,{className:"sci-fi-card mb-6",children:a.jsxs(it,{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ft,{type:"text",placeholder:"Search grocery products...",value:u,onChange:M=>f(M.target.value),className:"sci-fi-input w-full",onKeyDown:M=>{M.key==="Enter"&&P()}})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ie,{onClick:P,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 flex-shrink-0",disabled:o,children:[o?a.jsx(Vr,{className:"h-4 w-4 animate-spin mr-1"}):a.jsx(Qr,{className:"h-4 w-4 mr-1"}),"Search"]})})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:C.map(M=>a.jsx(ie,{variant:h===M.id?"default":"outline",className:h===M.id?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"text-safebite-text-secondary border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt/50",onClick:()=>m(M.id),children:M.name},M.id))})]})}),o?a.jsxs("div",{className:"flex justify-center items-center h-64",children:[a.jsx(Vr,{className:"h-8 w-8 animate-spin text-safebite-teal"}),a.jsx("span",{className:"ml-2 text-safebite-text",children:"Loading grocery products..."})]}):i.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"text-safebite-text",children:[a.jsx("span",{className:"font-medium",children:x})," grocery products found"]}),a.jsxs(ie,{variant:"outline",className:"text-safebite-text-secondary border-safebite-card-bg-alt",onClick:()=>{f(""),m("all"),O(1,"")},children:[a.jsx(XF,{className:"h-4 w-4 mr-1"})," Clear Filters"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:i.map(M=>{var V,$,D;return a.jsxs(Me,{className:"sci-fi-card hover:border-safebite-teal/50 transition-all duration-300 flex flex-col h-full",children:[a.jsxs("div",{className:"relative h-40 overflow-hidden rounded-t-lg",children:[a.jsx("img",{src:M.imageUrl||`https://source.unsplash.com/random/400x300/?${encodeURIComponent((M.name||M.product||"food").replace("Unknown Product","food"))},food`,alt:M.name||M.product||"Grocery Product",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:L=>{const B=M.name||M.product||"Grocery Product";L.target.src=`https://via.placeholder.com/400x300?text=${encodeURIComponent(B)}`}}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs("div",{className:"flex items-center bg-safebite-teal/80 text-safebite-dark-blue px-2 py-1 rounded-full backdrop-blur-sm text-xs font-medium",children:[a.jsx(xn,{className:"h-3 w-3 mr-1 fill-safebite-dark-blue"}),a.jsx("span",{children:((V=M.healthScore)==null?void 0:V.toFixed(1))||(($=M.rating)==null?void 0:$.toFixed(1))||"4.0"})]})}),a.jsx(ie,{onClick:()=>R(M._id),variant:"ghost",size:"icon",className:"absolute top-2 left-2 bg-black/30 backdrop-blur-sm hover:bg-black/50 text-white rounded-full h-8 w-8 p-1",children:a.jsx(yi,{className:`h-4 w-4 ${T.includes(M._id)?"fill-safebite-teal text-safebite-teal":""}`})}),a.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded backdrop-blur-sm",children:M.category||M.sub_category||"Grocery"})]}),a.jsxs(it,{className:"flex-grow p-4",children:[a.jsx("h3",{className:"font-medium text-safebite-text mb-1 line-clamp-2",children:M.name||M.product||"Unknown Product"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-2",children:M.brand||"Generic Brand"}),(M.price||M.sale_price)&&a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("span",{className:"text-safebite-teal font-medium",children:["₹",M.price||M.sale_price]}),M.market_price&&M.market_price>(M.sale_price||0)&&a.jsxs("span",{className:"text-safebite-text-secondary line-through text-xs",children:["₹",M.market_price]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[(D=M.tags)==null?void 0:D.slice(0,2).map((L,B)=>a.jsx(Ue,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt",children:L},B)),M.type&&a.jsx(Ue,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt",children:M.type})]})]}),a.jsx(El,{className:"p-4 pt-0",children:a.jsx(ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>{Vm("view_grocery_details",{productId:M._id,productName:M.name||M.product}),t({title:"Product Details",description:`Viewing details for ${M.name||M.product}`})},children:"View Details"})})]},M._id)})}),_>1&&a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(gW,{currentPage:p,totalPages:_,onPageChange:M=>{y(M),O(M,u)}})})]}):a.jsx(Me,{className:"sci-fi-card mb-4",children:a.jsxs(it,{className:"p-6 text-center",children:[a.jsx(Rn,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No Grocery Products Found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"No grocery products match your search criteria. Try adjusting your filters or search terms."}),a.jsx("p",{className:"text-safebite-text-secondary text-xs mb-4",children:"Note: The backend API may be experiencing issues. Please try again later or contact support if the problem persists."}),a.jsx(ie,{onClick:()=>{f(""),m("all"),O(1,"")},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Clear Search"}),a.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 bg-black/20 px-3 py-1.5 rounded-full text-xs",children:[a.jsx(uy,{className:"h-3 w-3 text-safebite-teal"}),a.jsx("span",{className:"text-safebite-text-secondary",children:"MongoDB Atlas Collection: Grocery Products"})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 bg-black/20 px-3 py-1.5 rounded-full text-xs",children:[a.jsx(_Y,{className:"h-3 w-3 text-safebite-teal"}),a.jsxs("span",{className:"text-safebite-text-secondary",children:["API Status: ",o?"Checking...":"Connection Failed"]})]}),a.jsxs("p",{className:"mt-4 text-xs text-safebite-text-secondary",children:["Backend URL: ",uk]})]})})]}),a.jsx(Lp,{})]})]})},aAe=({name:t,image:e,calories:r,nutritionScore:n,nutrients:i={},onClick:s,className:o})=>{const l={green:{bg:"bg-green-500",text:"text-green-500",icon:a.jsx(hY,{className:"h-4 w-4 text-green-500"})},yellow:{bg:"bg-yellow-500",text:"text-yellow-500",icon:a.jsx(ol,{className:"h-4 w-4 text-yellow-500"})},red:{bg:"bg-red-500",text:"text-red-500",icon:a.jsx(Rn,{className:"h-4 w-4 text-red-500"})}},u={green:"Healthy",yellow:"Moderate",red:"High Calorie"};return a.jsx("div",{className:Ye("sci-fi-card p-4 cursor-pointer hover:border-safebite-teal/50 transition-all duration-300",o),onClick:s,children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 rounded-md overflow-hidden mr-4 border border-safebite-card-bg-alt",children:[e?a.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-safebite-card-bg-alt flex items-center justify-center",children:a.jsx("span",{className:"text-safebite-text-secondary text-xs",children:"No image"})}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 ${l[n].bg} h-2`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-safebite-text font-semibold mb-1 line-clamp-1",children:t}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ol,{className:"h-4 w-4 text-safebite-teal mr-1"}),a.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:[r," calories"]})]}),a.jsx("div",{className:"flex items-center mb-2",children:a.jsxs("div",{className:"flex items-center mr-3",children:[l[n].icon,a.jsx("span",{className:`text-xs ml-1 ${l[n].text}`,children:u[n]})]})}),i&&(i.protein||i.carbs||i.fat)&&a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2 text-xs text-safebite-text-secondary",children:[i.protein!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Protein:"})," ",i.protein,"g"]}),i.carbs!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Carbs:"})," ",i.carbs,"g"]}),i.fat!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fat:"})," ",i.fat,"g"]})]})]})]})})},oAe=({food:t,onBack:e,onAddToTracker:r,onAddTag:n,onToggleFavorite:i,isFavorite:s=!1,tags:o=[],aiAnalysis:l="",isAnalysisLoading:u=!1})=>{var R,M,V,$,D,L;const[f,h]=j.useState(""),[m,p]=j.useState(!1),{name:y,calories:_,nutritionScore:b,details:x,brand:E,apiSource:S,source:T,nutrients:N}=t,C={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"},O={green:"Good Choice",yellow:"Moderate",red:"Use Caution"},P=()=>{f.trim()&&(n(t.id,f.trim()),h(""),p(!1))};return a.jsxs("div",{className:"sci-fi-card",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs(ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary -ml-2",onClick:e,children:[a.jsx(mT,{className:"mr-1 h-4 w-4"}),"Back"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>i(t.id),children:a.jsx(xn,{className:`h-4 w-4 ${s?"text-yellow-500 fill-yellow-500":""}`})}),a.jsx(ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>p(!m),children:a.jsx(s6,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",children:a.jsx(fy,{className:"h-4 w-4"})})]})]}),m&&a.jsxs("div",{className:"mb-4 flex",children:[a.jsx("input",{type:"text",value:f,onChange:B=>h(B.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:B=>{B.key==="Enter"&&P()}}),a.jsx(ie,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:P,children:"Add"})]}),o.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:o.map(B=>a.jsx(Ue,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:B},B))}),a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-semibold text-safebite-text",children:y}),E&&a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:E})]}),a.jsx(Ue,{className:`${C[b]} text-white`,children:O[b]})]}),a.jsxs(fo,{defaultValue:"nutrition",className:"w-full mb-6",children:[a.jsxs(da,{className:"grid grid-cols-4 mb-4",children:[a.jsx($t,{value:"nutrition",children:"Nutrition"}),a.jsx($t,{value:"ingredients",children:"Ingredients"}),a.jsx($t,{value:"health",children:"Health"}),a.jsx($t,{value:"ai-analysis",children:"AI Analysis"})]}),a.jsxs(Wt,{value:"nutrition",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Calories"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.calories)||_," kcal"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Protein"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.protein)||((R=t.nutrients)==null?void 0:R.protein)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Carbs"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.carbs)||((M=t.nutrients)==null?void 0:M.carbs)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fat"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.fat)||((V=t.nutrients)==null?void 0:V.fat)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sodium"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.sodium)||(($=t.nutrients)==null?void 0:$.sodium)||0,"mg"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sugar"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.sugar)||((D=t.nutrients)==null?void 0:D.sugar)||0,"g"]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fiber"}),a.jsxs("div",{className:"text-safebite-text font-bold",children:[(x==null?void 0:x.fiber)||((L=t.nutrients)==null?void 0:L.fiber)||0,"g"]})]})]}),a.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt/50 rounded-md",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm mb-1",children:"Nutrition Score"}),a.jsx("div",{className:"h-2 bg-safebite-card-bg-alt rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${b==="green"?"bg-green-500":b==="yellow"?"bg-yellow-500":"bg-red-500"}`,style:{width:b==="green"?"90%":b==="yellow"?"50%":"20%"}})}),a.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary mt-1",children:[a.jsx("span",{children:"Poor"}),a.jsx("span",{children:"Moderate"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{className:"text-xs text-safebite-text-secondary text-right",children:["Data source: ",S||T||"Unknown"]})]}),a.jsxs(Wt,{value:"ingredients",className:"space-y-4",children:[x!=null&&x.ingredients&&x.ingredients.length>0?a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Ingredients List"}),a.jsx("p",{className:"text-safebite-text-secondary",children:x.ingredients.join(", ")})]}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No ingredient information available"})}),(x==null?void 0:x.additives)&&x.additives.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Additives"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.additives.map(B=>a.jsx(Ue,{variant:"outline",className:"border-red-500 text-red-500",children:B},B))})]})]}),a.jsxs(Wt,{value:"health",className:"space-y-4",children:[(x==null?void 0:x.allergens)&&x.allergens.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Allergens"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.allergens.map(B=>a.jsxs(Ue,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[a.jsx(Rn,{className:"mr-1 h-3 w-3"})," ",B]},B))})]}),b==="red"&&a.jsx(Me,{className:"bg-red-500/10 border-red-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Rn,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-red-400 mb-1",children:"Health Concern"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product contains high levels of sugar and artificial additives which may impact your health goals."})]})]})}),b==="green"&&a.jsx(Me,{className:"bg-green-500/10 border-green-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Qo,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-green-400 mb-1",children:"Healthy Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is a great fit for your health goals. It contains nutritious ingredients and minimal processing."})]})]})}),b==="yellow"&&a.jsx(Me,{className:"bg-yellow-500/10 border-yellow-500 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Rn,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-md font-medium text-yellow-500 mb-1",children:"Moderate Choice"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is acceptable in moderation. Be mindful of portion sizes and frequency of consumption."})]})]})})]}),a.jsx(Wt,{value:"ai-analysis",className:"space-y-4",children:u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(Vr,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Analyzing food item..."})]}):l?a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-md",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(HF,{className:"h-5 w-5 text-safebite-teal mr-2"}),a.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"AI Nutritional Analysis"})]}),a.jsx("div",{className:"text-safebite-text-secondary",children:l.split(`
`).map((B,G)=>/^\d+\.\s/.test(B)||B.includes(":")?a.jsx("h5",{className:"font-semibold text-safebite-teal mt-3 mb-1",children:B},G):B.trim().startsWith("•")||B.trim().startsWith("-")?a.jsxs("div",{className:"flex items-start ml-2 mb-1",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("p",{children:B.replace(/^[•\-]\s*/,"")})]},G):B.trim()?a.jsx("p",{className:"mb-2",children:B},G):a.jsx("div",{className:"h-2"},G))})]}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:"No AI analysis available"})})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[a.jsxs(Me,{className:"p-4 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:a.jsx(Kn,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-orange-500",children:"Zomato + Swiggy"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Find this food on delivery apps"})]})]}),a.jsxs(ie,{disabled:!0,className:"w-full mt-3 bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})]}),a.jsxs(Me,{className:"p-4 border border-safebite-teal/30 bg-safebite-card-bg",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-safebite-teal to-blue-500 flex items-center justify-center mr-3",children:a.jsx(gd,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-safebite-teal",children:"Add to Tracker"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Track your daily nutrition"})]})]}),a.jsxs(ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:[a.jsx(Gh,{className:"mr-2 h-4 w-4"}),"Add to Tracker"]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ie,{variant:"outline",className:"sci-fi-button",onClick:e,children:"Back to Results"}),a.jsx(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:"Add to Tracker"})]})]})},lAe=({onScan:t,onUpload:e,onClose:r})=>{const[n,i]=j.useState("scanner"),[s,o]=j.useState(!1),[l,u]=j.useState(null),[f,h]=j.useState(!1),m=j.useRef(null),p=j.useRef(null),y=j.useRef(null),_=async()=>{try{u(null);const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});m.current&&(m.current.srcObject=N,o(!0))}catch(N){console.error("Error accessing camera:",N),u("Could not access camera. Please check permissions."),o(!1)}},b=()=>{m.current&&m.current.srcObject&&(m.current.srcObject.getTracks().forEach(O=>O.stop()),m.current.srcObject=null,o(!1))},x=()=>{if(m.current&&p.current){const N=m.current,C=p.current,O=C.getContext("2d");if(O){C.width=N.videoWidth,C.height=N.videoHeight,O.drawImage(N,0,0,C.width,C.height);const P=C.toDataURL("image/jpeg");b(),t(P)}}},E=N=>{N.target.files&&N.target.files[0]&&e(N.target.files[0])},S=N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?h(!0):N.type==="dragleave"&&h(!1)},T=N=>{N.preventDefault(),N.stopPropagation(),h(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&e(N.dataTransfer.files[0])};return K.useEffect(()=>()=>{b()},[]),a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:n==="scanner"?"Scan Food Barcode":"Upload Food Image"}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:a.jsx(Xn,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex space-x-2 mb-4",children:[a.jsxs(ie,{variant:n==="scanner"?"default":"outline",className:n==="scanner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("scanner"),b()},children:[a.jsx(i6,{className:"mr-2 h-4 w-4"}),"Scanner"]}),a.jsxs(ie,{variant:n==="upload"?"default":"outline",className:n==="upload"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("upload"),b()},children:[a.jsx(fY,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),n==="scanner"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:s?a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 border-2 border-safebite-teal/50 pointer-events-none",children:a.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-safebite-teal/50"})})]}):a.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l?a.jsxs("div",{className:"text-center p-4",children:[a.jsx(Ue,{variant:"outline",className:"bg-red-500/10 text-red-500 mb-2",children:"Error"}),a.jsx("p",{className:"text-safebite-text-secondary",children:l})]}):a.jsxs(ie,{onClick:_,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[a.jsx(WF,{className:"mr-2 h-4 w-4"}),"Start Camera"]})})}),a.jsx("canvas",{ref:p,className:"hidden"}),s&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx(ie,{variant:"outline",onClick:b,children:"Cancel"}),a.jsx(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:x,children:"Scan Barcode"})]}),a.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:"Position the barcode within the frame and hold steady"})]}),n==="upload"&&a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${f?"border-safebite-teal bg-safebite-teal/5":"border-safebite-card-bg-alt"}`,onDragEnter:S,onDragOver:S,onDragLeave:S,onDrop:T,children:[a.jsx(NY,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),a.jsx("p",{className:"text-safebite-text mb-2",children:"Drag and drop a food image here"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"or click to select a file"}),a.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:E,className:"hidden"}),a.jsx(ie,{variant:"outline",onClick:()=>{var N;return(N=y.current)==null?void 0:N.click()},children:"Select Image"}),a.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPG, PNG, WEBP"})]})]})]})})},cAe=["64b66d05","83bf3c12","a742d2c9"];console.log("Edamam API Key loaded:","Available");console.log("CalorieNinjas API Key loaded:","Available");console.log("Backup API Keys available:",cAe.length);const jc=(t,e)=>{try{const r=localStorage.getItem("userFoodInteractions"),n=r?JSON.parse(r):[];n.push({type:t,details:e,timestamp:Date.now()});const i=n.slice(-100);localStorage.setItem("userFoodInteractions",JSON.stringify(i)),console.log(`Tracked user interaction: ${t}`,e)}catch(r){console.error("Error tracking user interaction:",r)}},uAe="c2bd47af-11fb-45dd-9cac-c3aa89289d75",dAe="https://api.calorieninjas.com/v1",fAe=async t=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),1e4),n=await fetch(`${dAe}/recipe?query=${encodeURIComponent(t)}`,{signal:e.signal,method:"GET",headers:{"X-Api-Key":uAe,"Content-Type":"application/json"}});if(clearTimeout(r),!n.ok)throw new Error(`CalorieNinjas API returned status ${n.status}`);return await n.json()}catch(e){throw console.error("Error searching recipes:",e),e}},dk="https://safebite-backend.onrender.com/api",hAe=async t=>{try{if(!t||t.trim()==="")return{error:"Search query is required"};const e=await fetch(`${dk}/search?q=${encodeURIComponent(t)}`);if(!e.ok){if(e.status===404)return{products:[],message:"No products found matching your search"};throw new Error(`API error: ${e.status}`)}return{products:await e.json(),success:!0}}catch(e){return console.error("Error searching MongoDB products:",e),{error:"Failed to search products. Please try again later.",details:e instanceof Error?e.message:String(e)}}},mAe=async t=>{try{const e=await fetch(`${dk}/product/${t}`);if(!e.ok){if(e.status===404)return{error:"Product not found"};throw new Error(`API error: ${e.status}`)}return{product:await e.json(),success:!0}}catch(e){return console.error("Error fetching MongoDB product:",e),{error:"Failed to fetch product details. Please try again later.",details:e instanceof Error?e.message:String(e)}}},pAe=async()=>{try{const t=await fetch(`${dk}/status`);if(!t.ok)throw new Error(`API error: ${t.status}`);return{status:await t.json(),success:!0}}catch(t){return console.error("Error checking MongoDB API status:",t),{error:"Failed to check API status. Please try again later.",details:t instanceof Error?t.message:String(t)}}},gAe={searchProducts:hAe,getProductById:mAe,checkApiStatus:pAe},vAe=()=>{const t=gr(),{toast:e}=ar(),{isGuest:r}=Jn(),[n,i]=j.useState("food"),[s,o]=j.useState(""),[l,u]=j.useState(!1),[f,h]=j.useState([]),[m,p]=j.useState([]),[y,_]=j.useState(null),[b,x]=j.useState(null),[E,S]=j.useState(!1),[T,N]=j.useState(!1),[C,O]=j.useState(!1),[P,R]=j.useState(()=>{if(!r){const ee=localStorage.getItem("foodSearchHistory");return ee?JSON.parse(ee):[]}return[]}),[M,V]=j.useState(null),[$,D]=j.useState([]),L=Vt(Ke),B=Er(Ke);j.useEffect(()=>{(async()=>{if(!r&&L.currentUser)try{const me=gt(B,"users",L.currentUser.uid),ge=await sr(me);ge.exists()&&V(ge.data());const ue=gt(B,"user_activities",L.currentUser.uid),ve=await sr(ue);if(ve.exists()){const de=ve.data();D(de.activities||[])}}catch(me){console.error("Error loading user data:",me)}})()},[r,L.currentUser,B]);const G=async()=>{if(!s.trim()){e({title:"Empty Search",description:"Please enter a food item to search",variant:"destructive"});return}u(!0),_(null),S(!1);try{jc("search",{query:s});const ee=await gAe.searchProducts(s);if(ee.success&&ee.products&&ee.products.length>0){const ge=ee.products.map(ve=>{let de="yellow";const he=ve.nutritionalInfo||{},Ne=he.protein||0,le=he.fiber||0,qe=he.sugar||0,Re=he.fat||0;Ne>15&&le>3&&qe<10?de="green":(Re>20||qe>15)&&(de="red");const ze=ve.imageUrl||`https://source.unsplash.com/featured/?${encodeURIComponent(ve.name)},food`;return{id:ve._id||`mongo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:ve.name,calories:he.calories||0,nutritionScore:de,nutrients:{protein:he.protein||0,carbs:he.carbs||0,fat:he.fat||0,fiber:he.fiber||0,sugar:he.sugar||0,sodium:he.sodium||0},source:"MongoDB",image:ze,details:{protein:he.protein||0,carbs:he.carbs||0,fat:he.fat||0,sodium:he.sodium||0,sugar:he.sugar||0,calories:he.calories||0,ingredients:ve.ingredients||[],allergens:ve.allergens||[],additives:ve.additives||[],servingSize:ve.servingSize||"100g",nutritionScore:de,brand:ve.brand,category:ve.category}}});h(ge),S(!1);const ue=[...P];ue.includes(s)||(ue.unshift(s),ue.length>5&&ue.pop(),R(ue),r||localStorage.setItem("foodSearchHistory",JSON.stringify(ue))),e({title:"Search Complete",description:`Found ${ge.length} results from MongoDB for "${s}"`});return}const me=await oue(s);if(me&&me.length>0){const ge=me.map(ve=>{let de="yellow";const he=ve.nutrients||{},Ne=he.protein||0,le=he.fiber||0,qe=he.sugar||0,Re=he.fat||0;Ne>15&&le>3&&qe<10?de="green":(Re>20||qe>15)&&(de="red");const ze=`https://source.unsplash.com/featured/?${encodeURIComponent(ve.name)},food`;return{id:ve.id||`food-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:ve.name,calories:ve.calories,nutritionScore:de,nutrients:{protein:he.protein||0,carbs:he.carbs||0,fat:he.fat||0,fiber:he.fiber||0,sugar:he.sugar||0,sodium:he.sodium||0},source:"CalorieNinjas",image:ze,details:{protein:he.protein||0,carbs:he.carbs||0,fat:he.fat||0,sodium:he.sodium||0,sugar:he.sugar||0,calories:ve.calories,ingredients:[],allergens:[],additives:[],servingSize:ve.serving_size||"100g",nutritionScore:de}}}),ue=[...P];ue.includes(s)||(ue.unshift(s),ue.length>5&&ue.pop(),R(ue),r||localStorage.setItem("foodSearchHistory",JSON.stringify(ue))),h(ge),S(!1),e({title:"Search Complete",description:`Found ${me.length} results for "${s}"`})}else h([]),S(!0),e({title:"No Results",description:`No results found for "${s}". Try a different search term.`,variant:"default"})}catch(ee){console.error("Search error:",ee),h([]),S(!0),e({title:"Search Error",description:"There was a problem with your search. Please try again.",variant:"destructive"})}finally{u(!1)}},q=async()=>{if(!s.trim()){e({title:"Empty Search",description:"Please enter a recipe to search",variant:"destructive"});return}u(!0),S(!1);try{jc("recipe_search",{query:s});const ee=[{title:`${s.charAt(0).toUpperCase()+s.slice(1)} Pasta`,ingredients:"2 cups pasta|1 tbsp olive oil|1 onion, chopped|2 cloves garlic, minced|1 can diced tomatoes|1/2 tsp salt|1/4 tsp black pepper|Fresh basil leaves",servings:"4 Servings",instructions:"1. Cook pasta according to package directions. 2. Heat oil in a large skillet over medium heat. 3. Add onion and garlic, cook until softened. 4. Add tomatoes, salt, and pepper. Simmer for 10 minutes. 5. Drain pasta and toss with sauce. 6. Garnish with fresh basil."},{title:`Healthy ${s.charAt(0).toUpperCase()+s.slice(1)} Bowl`,ingredients:"1 cup quinoa|2 cups vegetable broth|1 cup chickpeas, drained and rinsed|1 avocado, sliced|1 cup cherry tomatoes, halved|1/4 cup red onion, diced|2 tbsp lemon juice|2 tbsp olive oil|Salt and pepper to taste",servings:"2 Servings",instructions:"1. Rinse quinoa under cold water. 2. In a medium saucepan, bring vegetable broth to a boil. 3. Add quinoa, reduce heat, cover and simmer for 15 minutes. 4. Fluff with a fork and let cool slightly. 5. In a large bowl, combine quinoa, chickpeas, avocado, tomatoes, and red onion. 6. Whisk together lemon juice, olive oil, salt, and pepper. 7. Pour dressing over quinoa mixture and toss to combine."},{title:`${s.charAt(0).toUpperCase()+s.slice(1)} Stir Fry`,ingredients:"2 tbsp vegetable oil|1 lb chicken breast, cut into strips|2 cups mixed vegetables (bell peppers, broccoli, carrots)|3 cloves garlic, minced|1 tbsp ginger, grated|3 tbsp soy sauce|1 tbsp honey|1 tsp sesame oil|2 green onions, sliced|Sesame seeds for garnish",servings:"3 Servings",instructions:"1. Heat oil in a large wok or skillet over high heat. 2. Add chicken and cook until no longer pink, about 5-6 minutes. 3. Add vegetables, garlic, and ginger. Stir-fry for 3-4 minutes until vegetables are crisp-tender. 4. In a small bowl, whisk together soy sauce, honey, and sesame oil. 5. Pour sauce over chicken and vegetables. Cook for 1-2 minutes until sauce thickens slightly. 6. Garnish with green onions and sesame seeds."}];try{const me=await fAe(s);if(me&&Array.isArray(me)&&me.length>0){p(me),S(!1),e({title:"Recipe Search Complete",description:`Found ${me.length} recipes for "${s}"`});return}}catch(me){console.error("API recipe search error:",me)}p(ee),S(!1),e({title:"Recipe Search Complete",description:`Found ${ee.length} recipes for "${s}"`})}catch(ee){console.error("Recipe search error:",ee),p([]),S(!0),e({title:"Recipe Search Error",description:"There was a problem with your recipe search. Please try again.",variant:"destructive"})}finally{u(!1)}},Y=ee=>{_(ee),jc("view_food_details",{foodId:ee.id,foodName:ee.name})},z=ee=>{x(ee),O(!0),jc("view_recipe_details",{recipeName:ee.title})},J=()=>{N(!0)},re=async ee=>{u(!0),_(null),N(!1),e({title:"Processing Image",description:"Analyzing the scanned image..."});try{jc("scan_barcode",{}),setTimeout(()=>{e({title:"Scan Complete",description:"This feature is coming soon!"}),u(!1)},2e3)}catch(me){console.error("Scan error:",me),e({title:"Scan Error",description:"There was a problem scanning the barcode. Please try again.",variant:"destructive"}),u(!1)}},H=async ee=>{u(!0),_(null),N(!1),e({title:"Processing Image",description:"Analyzing the uploaded image..."});try{jc("upload_image",{fileName:ee.name}),setTimeout(()=>{e({title:"Upload Complete",description:"This feature is coming soon!"}),u(!1)},2e3)}catch(me){console.error("Upload error:",me),e({title:"Upload Error",description:"There was a problem analyzing the image. Please try again.",variant:"destructive"}),u(!1)}},X=()=>l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Da,{size:"lg"})}):E?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ka,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Results Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[`We couldn't find any food matching "`,s,'"']}),a.jsx(ie,{variant:"outline",className:"sci-fi-button",onClick:()=>S(!1),children:"Try a Different Search"})]}):f.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:f.map(ee=>a.jsx(aAe,{name:ee.name,calories:ee.calories,nutritionScore:ee.nutritionScore,nutrients:ee.nutrients,image:ee.image,onClick:()=>Y(ee)},ee.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ya,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Search for Food"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Enter a food item to get detailed nutrition information"})]}),te=()=>l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Da,{size:"lg"})}):E?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/10 animate-pulse opacity-75"}),a.jsx(Ka,{className:"h-16 w-16 text-red-500 mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Recipes Found"}),a.jsxs("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:[`We couldn't find any recipes matching "`,s,'". Try a different search term or check out these suggestions.']}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-6",children:[a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),q()},children:'Try "pasta"'}),a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),q()},children:'Try "curry"'}),a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),q()},children:'Try "chicken"'}),a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),q()},children:'Try "vegetarian"'})]}),a.jsx(ie,{variant:"outline",className:"sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>S(!1),children:"Try a Different Search"})]}):m.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 w-full",children:m.map((ee,me)=>{const ge=ee.ingredients.split("|"),ue=ge.slice(0,3),ve=ge.length-3,de=ee.instructions.split(".").slice(0,2).join(".")+"...";return a.jsx(Me,{className:"sci-fi-card overflow-hidden border-2 border-safebite-teal/30 hover:border-safebite-teal/70 hover:shadow-lg transition-all duration-300 bg-safebite-card-bg/90",children:a.jsxs(it,{className:"p-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx(am,{className:"h-5 w-5 text-safebite-teal"})}),a.jsx("h3",{className:"text-xl font-bold text-safebite-text truncate",children:ee.title})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsxs(Ue,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx($i,{className:"h-3 w-3 mr-1"}),ee.servings]}),a.jsxs(Ue,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Ir,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-safebite-teal mr-2 flex-shrink-0"}),"Ingredients"]}),a.jsxs("ul",{className:"text-safebite-text-secondary text-sm space-y-1",children:[ue.map((he,Ne)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:he.trim()})]},Ne)),ve>0&&a.jsxs("li",{className:"text-xs text-safebite-text-secondary italic mt-1",children:["+",ve," more ingredients"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-medium text-safebite-text mb-2 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-4 bg-purple-500 mr-2 flex-shrink-0"}),"Instructions"]}),a.jsx("p",{className:"text-safebite-text-secondary text-sm line-clamp-2",children:de})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs(ie,{className:"sci-fi-button bg-safebite-teal hover:bg-safebite-teal/80 text-safebite-dark-blue font-medium",onClick:()=>z(ee),children:[a.jsx(Li,{className:"h-4 w-4 mr-2"}),"View Details"]})})]})},me)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/10 animate-ping opacity-75"}),a.jsx(wm,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 relative z-10"})]}),a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Discover Delicious Recipes"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6 max-w-md mx-auto",children:"Enter a dish name, ingredient, or cuisine type to find amazing recipes tailored to your search"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-xs text-safebite-text-secondary mb-4",children:[a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("pasta"),i("recipes"),q()},children:'Try "pasta"'}),a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("curry"),i("recipes"),q()},children:'Try "curry"'}),a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("chicken"),i("recipes"),q()},children:'Try "chicken"'}),a.jsx(Ue,{className:"bg-safebite-card-bg-alt hover:bg-safebite-teal/20 cursor-pointer transition-colors",onClick:()=>{o("vegetarian"),i("recipes"),q()},children:'Try "vegetarian"'})]})]});return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(ua,{}),T&&a.jsx(lAe,{onScan:re,onUpload:H,onClose:()=>N(!1)}),a.jsx(Nd,{open:C,onOpenChange:O,children:b&&a.jsxs(Uc,{className:"max-w-4xl bg-safebite-card-bg border-safebite-teal/30",children:[a.jsx(zc,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-4",children:a.jsx(am,{className:"h-6 w-6 text-safebite-teal"})}),a.jsxs("div",{children:[a.jsx(qc,{className:"text-2xl font-bold text-safebite-text",children:b.title}),a.jsxs(Hd,{className:"text-safebite-text-secondary flex flex-wrap gap-2 mt-2",children:[a.jsxs(Ue,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal",children:[a.jsx($i,{className:"h-3 w-3 mr-1"}),b.servings]}),a.jsxs(Ue,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Ir,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]})]})]})}),a.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-safebite-teal/30 to-transparent my-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-4",children:[a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-safebite-teal/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2"}),"Ingredients"]}),a.jsx("ul",{className:"space-y-3 text-safebite-text-secondary",children:b.ingredients.split("|").map((ee,me)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-safebite-teal/20 text-safebite-teal text-xs font-medium mr-3",children:me+1}),ee.trim()]},me))})]}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-5 rounded-lg border border-purple-500/20",children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-4 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2"}),"Instructions"]}),a.jsx("div",{className:"text-safebite-text-secondary",children:b.instructions.split(".").filter(ee=>ee.trim()).map((ee,me)=>a.jsxs("div",{className:"mb-4 flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-purple-500/20 text-purple-500 text-sm font-medium mr-3",children:me+1}),a.jsxs("p",{children:[ee.trim(),"."]})]},me))})]})]}),a.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[a.jsx("div",{className:"text-safebite-text-secondary text-sm",children:a.jsx("p",{className:"italic",children:"Recipe generated based on your search query."})}),a.jsxs(ie,{variant:"outline",className:"sci-fi-button bg-safebite-teal/10 hover:bg-safebite-teal/20",onClick:()=>O(!1),children:[a.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),a.jsx("main",{className:"ml-0 md:ml-64 p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Nutrition Center"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food nutrition information and recipes"})]})}),a.jsxs(fo,{defaultValue:"food",className:"w-full",onValueChange:ee=>{i(ee),o(""),h([]),p([]),_(null),S(!1)},children:[a.jsxs("div",{className:"sci-fi-card mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs(da,{className:"grid w-full grid-cols-2 max-w-[70%] border border-safebite-teal/30 p-1 bg-safebite-card-bg-alt/50",children:[a.jsxs($t,{value:"food",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Food Nutrition"]}),a.jsxs($t,{value:"recipes",className:"data-[state=active]:bg-safebite-teal data-[state=active]:text-safebite-dark-blue",children:[a.jsx(wm,{className:"h-4 w-4 mr-2"}),"Recipes"]})]}),a.jsxs(ie,{onClick:()=>t("/food-delivery"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white font-medium shadow-md border border-white/10",children:[a.jsx("span",{className:"mr-2 text-lg",children:"🍔"})," Food Delivery"]})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Qr,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),a.jsx(ft,{placeholder:n==="food"?"Search for food (e.g., apple, chicken breast)":"Search for recipes (e.g., pasta, vegetarian curry)",className:"sci-fi-input pl-10",value:s,onChange:ee=>o(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&(n==="food"?G():q())})]}),n==="food"&&P.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:"Recent searches:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((ee,me)=>a.jsxs(Ue,{className:"cursor-pointer bg-safebite-card-bg-alt hover:bg-safebite-teal/20",onClick:()=>{o(ee),G()},children:[ee,a.jsx(Xn,{className:"ml-1 h-3 w-3",onClick:ge=>{ge.stopPropagation();const ue=P.filter((ve,de)=>de!==me);R(ue),r||localStorage.setItem("foodSearchHistory",JSON.stringify(ue))}})]},me))})]})]}),a.jsxs(ie,{onClick:n==="food"?G:q,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 font-medium shadow-md border border-white/10",children:[a.jsx(Qr,{className:"mr-2 h-5 w-5"}),"Search"]}),n==="food"&&a.jsxs(ie,{variant:"outline",className:"sci-fi-button border-safebite-teal/30 hover:bg-safebite-teal/10 shadow-md",onClick:J,children:[a.jsx(WF,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Scan/Upload"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"w-full",children:[a.jsx(Wt,{value:"food",className:"mt-0",children:a.jsx("div",{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:s?`Results for "${s}"`:"Food Nutrition"}),X()]})})}),a.jsx(Wt,{value:"recipes",className:"mt-0",children:a.jsx("div",{className:"sci-fi-card",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:s?`Recipe Results for "${s}"`:"Recipe Search"}),te()]})})})]}),y&&a.jsx("div",{className:"w-full mt-6",children:a.jsx("div",{className:"sci-fi-card",children:a.jsx("div",{className:"p-4",children:a.jsx(oAe,{food:y,onBack:()=>_(null),onAddToTracker:()=>{e({title:"Added to Tracker",description:`${y.name} has been added to your food tracker.`})},onAddTag:()=>{},onToggleFavorite:()=>{},isFavorite:!1,tags:[],aiAnalysis:"",isAnalysisLoading:!1})})})})]})]}),a.jsx(Nd,{open:C,onOpenChange:O,children:a.jsx(Uc,{className:"sci-fi-card max-w-4xl",children:b&&a.jsxs(a.Fragment,{children:[a.jsx(zc,{children:a.jsxs(qc,{className:"text-2xl flex items-center",children:[a.jsx(am,{className:"h-6 w-6 text-safebite-teal mr-3"}),b.title]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-safebite-teal mr-2 flex-shrink-0"}),"Ingredients"]}),a.jsx("ul",{className:"space-y-2",children:b.ingredients.split("|").map((ee,me)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-safebite-teal mt-1.5 mr-2 flex-shrink-0"}),a.jsx("span",{children:ee.trim()})]},me))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-safebite-text mb-3 flex items-center",children:[a.jsx("span",{className:"inline-block w-1 h-5 bg-purple-500 mr-2 flex-shrink-0"}),"Instructions"]}),a.jsx("div",{className:"space-y-3",children:b.instructions.split(".").filter(ee=>ee.trim()).map((ee,me)=>a.jsxs("p",{className:"flex items-start",children:[a.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-purple-500/20 text-purple-500 text-xs font-medium mr-2 flex-shrink-0",children:me+1}),a.jsxs("span",{children:[ee.trim(),"."]})]},me))})]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs(Ue,{className:"bg-safebite-teal/20 text-safebite-teal border-safebite-teal mr-2",children:[a.jsx($i,{className:"h-3 w-3 mr-1"}),b.servings]}),a.jsxs(Ue,{className:"bg-purple-500/20 text-purple-500 border-purple-500",children:[a.jsx(Ir,{className:"h-3 w-3 mr-1"}),Math.floor(Math.random()*30)+15," mins"]})]}),a.jsx(dU,{asChild:!0,children:a.jsx(ie,{variant:"outline",className:"sci-fi-button",children:"Close"})})]})]})})}),a.jsxs(Nd,{children:[a.jsx(yae,{asChild:!0,children:a.jsx(ie,{variant:"outline",className:"fixed bottom-6 right-6 bg-orange-500 hover:bg-orange-600 text-white border-none shadow-lg z-50 rounded-full h-14 w-14 p-0",onClick:()=>jc("open_food_delivery",{}),children:a.jsx(qN,{className:"h-6 w-6"})})}),a.jsxs(Uc,{className:"sci-fi-card max-w-3xl",children:[a.jsxs(zc,{children:[a.jsxs(qc,{className:"text-2xl flex items-center",children:[a.jsx(qN,{className:"h-6 w-6 text-orange-500 mr-3"}),"Food Delivery Search"]}),a.jsx(Hd,{children:"Search for restaurant meals from Zomato and Swiggy (Coming Soon)"})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-orange-500/30 p-8 text-center",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/10 to-red-500/10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mb-4",children:a.jsx(Kn,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-orange-500 mb-2",children:"Coming Soon!"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"We're working on integrating with Zomato and Swiggy to provide nutritional information for restaurant meals."}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Ue,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Under Development"})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-safebite-text mb-3",children:"Features Coming Soon:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(Tc,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Search for restaurant meals from Zomato and Swiggy"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Tc,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"View nutritional information for restaurant meals"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Tc,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Get health recommendations for restaurant orders"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Tc,{className:"h-5 w-5 text-orange-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Save favorite restaurant meals"})]})]})]})]})]}),a.jsx(Bl,{currentPage:"nutrition",userData:{profile:M,recentActivity:$},autoOpen:!0})]})})]})},yAe=()=>{const t=Ml();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safebite-dark-blue px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold gradient-text mb-4",children:"404"}),a.jsxs("div",{className:"mb-8 inline-block p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:[a.jsx("p",{className:"text-xl text-safebite-text mb-4",children:"Page not found"}),a.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsx(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",asChild:!0,children:a.jsxs(Rt,{to:"/",children:[a.jsx(ZF,{className:"mr-2 h-4 w-4"}),"Return to Home"]})})]})})},xAe=()=>{const t=gr(),{toast:e}=ar(),r=Vt(Ke),n=Er(Ke),i=new ps,[s,o]=j.useState(!1),[l,u]=j.useState(""),f=async()=>{o(!0),u("");try{const m=(await HT(r,i)).user;(await sr(gt(n,"adminUsers",m.email))).exists()?(localStorage.setItem("isAdmin","true"),t("/admin/panel")):(e({title:"Access Denied",description:"You are not authorized to access the admin panel.",variant:"destructive"}),u("Access Denied: You are not an admin."),await r.signOut())}catch(h){console.error("Admin login error:",h),e({title:"Login Failed",description:h.message,variant:"destructive"}),u(h.message)}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:a.jsxs(Me,{className:"sci-fi-card max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Login"}),l&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[a.jsx(Ka,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:l})]}),a.jsx("div",{children:a.jsxs(ie,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:f,disabled:s,children:[s?a.jsx(Da,{size:"sm",className:"mr-2"}):null,"Sign In with Google"]})})]})})},bAe=()=>{const t=gr(),{toast:e}=ar(),r=Vt(Ke),n=Er(Ke),[i,s]=j.useState([]);j.useEffect(()=>{(async()=>{const u=Ad(n,"users"),h=(await Ice(u)).docs.map(m=>({id:m.id,...m.data()}));s(h)})()},[n]);const o=()=>{r.signOut().then(()=>{t("/auth/login")}).catch(l=>{e({title:"Error signing out",description:l.message,variant:"destructive"})})};return a.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs(Me,{className:"sci-fi-card max-w-4xl w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Panel"}),a.jsx("p",{className:"text-safebite-text-secondary text-center mb-6",children:"Welcome, Admin1! Here you can manage users and their data."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"User ID"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Email"}),a.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Profile Data"})]})}),a.jsx("tbody",{children:i.map(l=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.id}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.email}),a.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:JSON.stringify(l.profile)})]},l.id))})]})}),a.jsx(ie,{className:"mt-6 w-full bg-red-500 text-white hover:bg-red-600",onClick:o,children:"Sign Out"})]})})})},wAe=()=>a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(vb,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"About SafeBite"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"A special project focused on helping people make informed food choices for better health"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Our Mission"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"SafeBite was created with a simple mission: to help people understand what's in their food and make healthier choices. In a world where processed foods dominate and nutrition labels can be confusing, we wanted to build a tool that makes food transparency accessible to everyone."}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Our platform combines food data from multiple sources, personalized recommendations based on your health profile, and an intuitive interface to make healthy eating easier than ever."}),a.jsx("p",{className:"text-safebite-text-secondary",children:"This project is part of a special engineering project at IFHE Hyderabad, focused on applying technology to solve real-world health challenges."})]}),a.jsxs("div",{className:"bg-safebite-card-bg rounded-lg p-6 border border-safebite-card-bg-alt",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Project Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Developer"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Aditya Shenvi"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Institution"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"IFHE Hyderabad"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Project Type"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"Special Engineering Project"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Technologies Used"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"React"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"TypeScript"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Firebase"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Tailwind CSS"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Food APIs"}),a.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Recharts"})]})]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Meet the Developer"}),a.jsx(Me,{className:"sci-fi-card max-w-2xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center p-6",children:[a.jsx(Cy,{size:"xl",className:"mb-4 md:mb-0 md:mr-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-1",children:"Aditya Shenvi"}),a.jsx("p",{className:"text-safebite-teal text-sm mb-3",children:"🚀 Developer | Tech Enthusiast"}),a.jsx("p",{className:"text-safebite-text-secondary mb-3",children:"Engineering Student at IFHE Hyderabad with a passion for creating technology that improves people's lives. SafeBite represents the intersection of my interests in health, nutrition, and software development."}),a.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[a.jsx("span",{className:"text-safebite-teal",children:"🔹 Passionate about:"})," Frontend, Backend, DevOps, UI/UX, Cybersecurity, Open Source, Digital Marketing"]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(JF,{className:"mr-2 h-4 w-4"}),"GitHub"]}),a.jsxs(ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(mY,{className:"mr-2 h-4 w-4"}),"LinkedIn"]}),a.jsxs(ie,{variant:"outline",size:"sm",className:"sci-fi-button",children:[a.jsx(Bd,{className:"mr-2 h-4 w-4"}),"Contact"]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-safebite-card-bg-alt rounded-md",children:[a.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"About This Project"}),a.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"SafeBite is a special engineering project developed as part of my coursework at IFHE Hyderabad. It combines my interest in health technology with modern web development practices to create a platform that helps users make informed food choices."})]})]})]})})]}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Data Sources & Acknowledgements"}),a.jsx("p",{className:"text-safebite-text-secondary max-w-3xl mx-auto mb-6",children:"SafeBite uses publicly available data from multiple food databases and APIs. All data is used for educational purposes only under fair use principles."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-2xl mx-auto",children:[a.jsxs("a",{href:"https://www.edamam.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Edamam API",a.jsx(Li,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://www.calorieninjas.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["CalorieNinjas API",a.jsx(Li,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://platform.fatsecret.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["FatSecret API",a.jsx(Li,{className:"ml-2 h-4 w-4"})]}),a.jsxs("a",{href:"https://world.openfoodfacts.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Open Food Facts",a.jsx(Li,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx(Rt,{to:"/features",children:a.jsx(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore SafeBite Features"})})})]}),a.jsx(Lp,{})]}),_Ae=()=>{const t=[{title:"Food Search & Analysis",description:"Search for any food item across multiple databases to get comprehensive nutritional information. Scan barcodes for instant product details.",icon:a.jsx(Qr,{className:"h-10 w-10 text-safebite-teal"}),color:"bg-safebite-teal/10",border:"border-safebite-teal/30"},{title:"Personalized Health Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals and dietary preferences.",icon:a.jsx(zN,{className:"h-10 w-10 text-purple-500"}),color:"bg-purple-500/10",border:"border-purple-500/30"},{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations based on your habits.",icon:a.jsx(yi,{className:"h-10 w-10 text-red-500"}),color:"bg-red-500/10",border:"border-red-500/30"},{title:"Food Safety Alerts",description:"Get warnings about ingredients that may affect your health goals or conflict with dietary restrictions and allergies.",icon:a.jsx(Ua,{className:"h-10 w-10 text-yellow-500"}),color:"bg-yellow-500/10",border:"border-yellow-500/30"},{title:"Barcode Scanner",description:"Quickly scan product barcodes to get instant nutritional information and safety alerts for packaged foods.",icon:a.jsx(wY,{className:"h-10 w-10 text-blue-500"}),color:"bg-blue-500/10",border:"border-blue-500/30"},{title:"Recipe Recommendations",description:"Discover healthy recipes tailored to your dietary preferences, restrictions, and health goals.",icon:a.jsx(wm,{className:"h-10 w-10 text-green-500"}),color:"bg-green-500/10",border:"border-green-500/30"},{title:"Community Support",description:"Connect with others on similar health journeys, share experiences, and get motivation from the SafeBite community.",icon:a.jsx($i,{className:"h-10 w-10 text-indigo-500"}),color:"bg-indigo-500/10",border:"border-indigo-500/30"},{title:"Smart Notifications",description:"Receive timely reminders for health check-ins, meal planning suggestions, and personalized health tips.",icon:a.jsx(Yx,{className:"h-10 w-10 text-pink-500"}),color:"bg-pink-500/10",border:"border-pink-500/30"},{title:"Health Achievements",description:"Earn badges and track achievements as you make progress toward your health and nutrition goals.",icon:a.jsx(xm,{className:"h-10 w-10 text-amber-500"}),color:"bg-amber-500/10",border:"border-amber-500/30"},{title:"AI-Powered Recommendations",description:"Get intelligent food and activity suggestions based on your profile, preferences, and progress data.",icon:a.jsx(ys,{className:"h-10 w-10 text-cyan-500"}),color:"bg-cyan-500/10",border:"border-cyan-500/30"},{title:"Comprehensive Reports",description:"Access detailed reports on your nutrition, activity, and progress over time with visual charts and insights.",icon:a.jsx(zN,{className:"h-10 w-10 text-emerald-500"}),color:"bg-emerald-500/10",border:"border-emerald-500/30"},{title:"Energy Tracking",description:"Monitor your energy levels in relation to your diet and activity to optimize your daily routine.",icon:a.jsx(Kn,{className:"h-10 w-10 text-orange-500"}),color:"bg-orange-500/10",border:"border-orange-500/30"}];return a.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[a.jsx(vb,{}),a.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:a.jsx("span",{className:"gradient-text",children:"SafeBite Features"})}),a.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Discover all the powerful tools and features that make SafeBite your ultimate companion for healthier food choices"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:t.map((e,r)=>a.jsxs(Me,{className:`sci-fi-card border ${e.border} hover:shadow-lg transition-shadow`,children:[a.jsx(bt,{className:`${e.color} rounded-t-lg`,children:a.jsxs("div",{className:"flex items-center",children:[e.icon,a.jsx(wt,{className:"ml-3 text-xl",children:e.title})]})}),a.jsx(it,{className:"pt-4",children:a.jsx("p",{className:"text-safebite-text-secondary",children:e.description})})]},r))}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-8 mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:"Special Project Information"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"SafeBite is a special engineering project developed by Aditya Shenvi at IFHE Hyderabad"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Project Goals"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Create an intuitive platform for food nutrition analysis"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Provide personalized health recommendations based on user data"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Integrate multiple food databases for comprehensive information"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Develop a user-friendly interface with modern design principles"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Technical Implementation"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"React & TypeScript frontend with Tailwind CSS for styling"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Firebase authentication and Firestore database"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Integration with multiple food nutrition APIs"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),a.jsx("span",{children:"Data visualization using Recharts library"})]})]})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Ready to experience all these features and start your journey to healthier eating?"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(Rt,{to:"/auth/signup",children:a.jsx(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto",children:"Sign Up Now"})}),a.jsx(Rt,{to:"/about",children:a.jsx(ie,{variant:"outline",className:"sci-fi-button w-full sm:w-auto",children:"Learn About the Project"})})]})]})]}),a.jsx(Lp,{})]})},jAe=()=>{const t=gr(),e=Vt(Ke),r=Er(Ke),[n,i]=j.useState(null),[s,o]=j.useState([]);return j.useEffect(()=>{(async()=>{if(e.currentUser)try{const u=gt(r,"users",e.currentUser.uid),f=await sr(u);f.exists()&&i(f.data());const h=gt(r,"user_activities",e.currentUser.uid),m=await sr(h);if(m.exists()){const p=m.data();o(p.activities||[])}}catch(u){console.error("Error loading user data:",u)}})()},[e.currentUser,r]),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(vb,{}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(ie,{variant:"outline",className:"mb-4",onClick:()=>t("/dashboard"),children:[a.jsx(mT,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Food Delivery Integration"}),a.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Get nutritional insights for your favorite restaurant meals from Zomato and Swiggy."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs(Me,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-4",children:a.jsx(Ya,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-orange-500",children:"Zomato Integration"}),a.jsx(Ue,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Coming Soon"})]})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Zomato to provide nutritional information and health recommendations for your favorite restaurant meals."}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Ir,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vr,{className:"h-4 w-4 text-orange-500 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (65%)"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ie,{disabled:!0,className:"bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]}),a.jsxs(Me,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center mr-4",children:a.jsx(GN,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-orange-400",children:"Swiggy Integration"}),a.jsx(Ue,{variant:"outline",className:"bg-orange-400/10 text-orange-400 border-orange-400/30",children:"Coming Soon"})]})]}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Swiggy to provide nutritional information and health recommendations for your favorite restaurant meals."}),a.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Ir,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vr,{className:"h-4 w-4 text-orange-400 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (42%)"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ie,{disabled:!0,className:"bg-orange-400/20 text-orange-400 hover:bg-orange-400/30 cursor-not-allowed",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]})]}),a.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Why We're Building This"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Eating out shouldn't mean compromising on your health goals. Our integration with popular food delivery platforms will help you:"}),a.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Get nutritional information for restaurant meals"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Receive personalized recommendations based on your health profile"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Track your nutrition even when eating out"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),a.jsx("span",{children:"Make informed choices that align with your health goals"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working hard to bring this feature to you. Check back soon for updates!"}),a.jsx(ie,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]})]}),a.jsx(Bl,{currentPage:"food-delivery",userData:{profile:n,recentActivity:s},autoOpen:!0,initialMessage:"Welcome to our Food Delivery section! While we're still working on integrating with Zomato and Swiggy, I can help you understand how to make healthier choices when ordering food. Would you like some tips for healthier restaurant ordering?"}),a.jsx(Lp,{})]})};var fk="Collapsible",[SAe,vW]=bi(fk),[NAe,hk]=SAe(fk),yW=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=t,[u=!1,f]=Qn({prop:n,defaultProp:i,onChange:o});return a.jsx(NAe,{scope:r,disabled:s,contentId:xs(),open:u,onOpenToggle:j.useCallback(()=>f(h=>!h),[f]),children:a.jsx(Ve.div,{"data-state":pk(u),"data-disabled":s?"":void 0,...l,ref:e})})});yW.displayName=fk;var xW="CollapsibleTrigger",bW=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=hk(xW,r);return a.jsx(Ve.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":pk(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:$e(t.onClick,i.onOpenToggle)})});bW.displayName=xW;var mk="CollapsibleContent",wW=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=hk(mk,t.__scopeCollapsible);return a.jsx(la,{present:r||i.open,children:({present:s})=>a.jsx(EAe,{...n,ref:e,present:s})})});wW.displayName=mk;var EAe=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=t,o=hk(mk,r),[l,u]=j.useState(n),f=j.useRef(null),h=yt(e,f),m=j.useRef(0),p=m.current,y=j.useRef(0),_=y.current,b=o.open||l,x=j.useRef(b),E=j.useRef();return j.useEffect(()=>{const S=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(S)},[]),Ur(()=>{const S=f.current;if(S){E.current=E.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const T=S.getBoundingClientRect();m.current=T.height,y.current=T.width,x.current||(S.style.transitionDuration=E.current.transitionDuration,S.style.animationName=E.current.animationName),u(n)}},[o.open,n]),a.jsx(Ve.div,{"data-state":pk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...s,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:b&&i})});function pk(t){return t?"open":"closed"}var AAe=yW,TAe=bW,CAe=wW,go="Accordion",kAe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[gk,PAe,IAe]=Ep(go),[N0,uTe]=bi(go,[IAe,vW]),vk=vW(),_W=K.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,s=n;return a.jsx(gk.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(DAe,{...s,ref:e}):a.jsx(MAe,{...i,ref:e})})});_W.displayName=go;var[jW,RAe]=N0(go),[SW,OAe]=N0(go,{collapsible:!1}),MAe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[l,u]=Qn({prop:r,defaultProp:n,onChange:i});return a.jsx(jW,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:u,onItemClose:K.useCallback(()=>s&&u(""),[s,u]),children:a.jsx(SW,{scope:t.__scopeAccordion,collapsible:s,children:a.jsx(NW,{...o,ref:e})})})}),DAe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[o=[],l]=Qn({prop:r,defaultProp:n,onChange:i}),u=K.useCallback(h=>l((m=[])=>[...m,h]),[l]),f=K.useCallback(h=>l((m=[])=>m.filter(p=>p!==h)),[l]);return a.jsx(jW,{scope:t.__scopeAccordion,value:o,onItemOpen:u,onItemClose:f,children:a.jsx(SW,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(NW,{...s,ref:e})})})}),[LAe,E0]=N0(go),NW=K.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=t,l=K.useRef(null),u=yt(l,e),f=PAe(r),m=Lf(i)==="ltr",p=$e(t.onKeyDown,y=>{var R;if(!kAe.includes(y.key))return;const _=y.target,b=f().filter(M=>{var V;return!((V=M.ref.current)!=null&&V.disabled)}),x=b.findIndex(M=>M.ref.current===_),E=b.length;if(x===-1)return;y.preventDefault();let S=x;const T=0,N=E-1,C=()=>{S=x+1,S>N&&(S=T)},O=()=>{S=x-1,S<T&&(S=N)};switch(y.key){case"Home":S=T;break;case"End":S=N;break;case"ArrowRight":s==="horizontal"&&(m?C():O());break;case"ArrowDown":s==="vertical"&&C();break;case"ArrowLeft":s==="horizontal"&&(m?O():C());break;case"ArrowUp":s==="vertical"&&O();break}const P=S%E;(R=b[P].ref.current)==null||R.focus()});return a.jsx(LAe,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(gk.Slot,{scope:r,children:a.jsx(Ve.div,{...o,"data-orientation":s,ref:u,onKeyDown:n?void 0:p})})})}),qx="AccordionItem",[$Ae,yk]=N0(qx),EW=K.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,s=E0(qx,r),o=RAe(qx,r),l=vk(r),u=xs(),f=n&&o.value.includes(n)||!1,h=s.disabled||t.disabled;return a.jsx($Ae,{scope:r,open:f,disabled:h,triggerId:u,children:a.jsx(AAe,{"data-orientation":s.orientation,"data-state":IW(f),...l,...i,ref:e,disabled:h,open:f,onOpenChange:m=>{m?o.onItemOpen(n):o.onItemClose(n)}})})});EW.displayName=qx;var AW="AccordionHeader",TW=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=E0(go,r),s=yk(AW,r);return a.jsx(Ve.h3,{"data-orientation":i.orientation,"data-state":IW(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:e})});TW.displayName=AW;var cT="AccordionTrigger",CW=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=E0(go,r),s=yk(cT,r),o=OAe(cT,r),l=vk(r);return a.jsx(gk.ItemSlot,{scope:r,children:a.jsx(TAe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...n,ref:e})})});CW.displayName=cT;var kW="AccordionContent",PW=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=E0(go,r),s=yk(kW,r),o=vk(r);return a.jsx(CAe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});PW.displayName=kW;function IW(t){return t?"open":"closed"}var FAe=_W,VAe=EW,BAe=TW,RW=CW,OW=PW;const UAe=FAe,MW=j.forwardRef(({className:t,...e},r)=>a.jsx(VAe,{ref:r,className:Ye("border-b",t),...e}));MW.displayName="AccordionItem";const DW=j.forwardRef(({className:t,children:e,...r},n)=>a.jsx(BAe,{className:"flex",children:a.jsxs(RW,{ref:n,className:Ye("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(pT,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));DW.displayName=RW.displayName;const LW=j.forwardRef(({className:t,children:e,...r},n)=>a.jsx(OW,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:Ye("pb-4 pt-0",t),children:e})}));LW.displayName=OW.displayName;const zAe=()=>{gr();const[t,e]=j.useState("");Jn(),Vt(Ke).currentUser;const n=[{id:"general",name:"General",icon:a.jsx(al,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What is SafeBite?",answer:"SafeBite is a comprehensive food safety and nutrition platform designed to help you make informed decisions about the food you consume. It provides nutritional information, recipe suggestions, food safety alerts, and personalized health insights."},{question:"Is SafeBite free to use?",answer:"Yes, SafeBite offers a free tier with access to basic features. Premium features may require a subscription in future updates, but all current functionality is available for free."},{question:"How do I create an account?",answer:`Click on the "Sign Up" button in the top navigation bar, fill in your details, and follow the verification process. You can also use the guest mode to explore the platform without creating an account, but your data won't be saved.`},{question:"What's the difference between guest mode and a registered account?",answer:"Guest mode allows you to explore SafeBite without creating an account, but your data won't be saved between sessions and some features have usage limits. A registered account gives you full access to all features, saves your preferences, and provides personalized recommendations."},{question:"How does SafeBite handle my data?",answer:"SafeBite takes your privacy seriously. We only collect data necessary to provide our services and improve your experience. Your personal information is never sold to third parties. You can review our full privacy policy in the Settings page."}]},{id:"features",name:"Features",icon:a.jsx(ys,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"What features does SafeBite offer?",answer:"SafeBite offers food search with nutritional information, recipe suggestions, food safety alerts, health tools, community features, personalized dashboard, weekly health check-ins, and an AI assistant to help with nutrition and health questions."},{question:"How do I use the AI assistant?",answer:"The AI assistant is available through the chat icon in the bottom right corner of the screen. Click on it to start a conversation. You can ask questions about nutrition, food safety, recipes, or navigate to different parts of the application."},{question:"What are Health Tools?",answer:"Health Tools is a collection of calculators and analyzers to help you track and understand various aspects of your health, including BMI calculator, calorie needs estimator, sleep quality analyzer, stress level assessment, and more."},{question:"How do I search for food information?",answer:"Navigate to the Nutrition tab in the sidebar, then use the search bar to look up any food item. You can search by name, scan barcodes (on mobile), or upload product images for analysis."},{question:"How accurate is the nutritional information?",answer:"SafeBite uses data from multiple reliable sources including government databases and verified third-party APIs. While we strive for accuracy, nutritional content can vary based on preparation methods and specific brands."}]},{id:"account",name:"Account",icon:a.jsx(Kc,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"How do I update my profile information?",answer:"Click on your profile picture in the sidebar to open the profile popup. From there, you can update your display name, email, password, and preferences."},{question:"Can I delete my account?",answer:"Yes, you can delete your account from the Settings page. Please note that this action is irreversible and all your data will be permanently deleted."},{question:"How do I change my password?",answer:"Click on your profile picture in the sidebar, go to the Account tab, and use the password update section to set a new password."},{question:"What happens if I forget my password?",answer:'On the login page, click "Forgot Password" and follow the instructions to reset your password via email.'},{question:"How do I switch between guest mode and my account?",answer:"If you're in guest mode, you can sign up or log in through the login page. If you're logged in, you can sign out using the button in the sidebar."}]},{id:"technical",name:"Technical",icon:a.jsx(gT,{className:"h-4 w-4 text-safebite-teal"}),faqs:[{question:"Which browsers are supported?",answer:"SafeBite works best on modern browsers like Chrome, Firefox, Safari, and Edge. We recommend keeping your browser updated to the latest version for optimal performance."},{question:"Is SafeBite available as a mobile app?",answer:"Currently, SafeBite is a web application optimized for both desktop and mobile browsers. A dedicated mobile app is planned for future releases."},{question:"Why am I experiencing slow performance?",answer:"Performance issues can be caused by slow internet connection, browser cache, or device limitations. Try clearing your browser cache, closing unnecessary tabs, and ensuring you have a stable internet connection."},{question:"How do I report a bug?",answer:"You can report bugs through the feedback form in the Settings page or by contacting our support team directly at support@safebite.example.com."},{question:"Does SafeBite work offline?",answer:"Some basic features may work offline if you've previously loaded them, but most functionality requires an internet connection to access our databases and APIs."}]}],i=[{id:"getting-started",title:"Getting Started with SafeBite",description:"Learn the basics of using SafeBite to improve your nutrition and food safety.",icon:a.jsx(l1,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/getting-started"},{id:"food-search",title:"How to Search for Food Information",description:"Master the food search feature to get detailed nutritional information.",icon:a.jsx(Qr,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/food-search"},{id:"recipes",title:"Finding and Saving Recipes",description:"Discover healthy recipes and save your favorites for quick access.",icon:a.jsx(wm,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/recipes"},{id:"health-tools",title:"Using Health Tools",description:"Get the most out of the health calculators and analyzers.",icon:a.jsx(vd,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/health-tools"},{id:"weekly-check",title:"Weekly Health Check-ins",description:"Track your progress and get personalized insights with weekly check-ins.",icon:a.jsx(yi,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/weekly-check"},{id:"ai-assistant",title:"Chatting with the AI Assistant",description:"Learn how to effectively use the AI assistant for nutrition advice.",icon:a.jsx(xv,{className:"h-5 w-5 text-safebite-teal"}),link:"/help/guides/ai-assistant"}],s=t.trim()===""?n:n.map(u=>({...u,faqs:u.faqs.filter(f=>f.question.toLowerCase().includes(t.toLowerCase())||f.answer.toLowerCase().includes(t.toLowerCase()))})).filter(u=>u.faqs.length>0),o=t.trim()===""?i:i.filter(u=>u.title.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase())),l=u=>{alert(`The "${u.title}" guide is coming soon!`)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1 px-4 flex items-center justify-center z-50 text-xs font-medium",children:[a.jsx(ys,{className:"h-3 w-3 text-yellow-300 mr-1.5"}),a.jsx("span",{children:"SafeBite v2.5 - Production Ready"}),a.jsx(ys,{className:"h-3 w-3 text-yellow-300 ml-1.5"})]}),a.jsx(ua,{}),a.jsx(Bl,{currentPage:"help",initialMessage:"Hi! I can help you find answers to your questions about SafeBite. What would you like to know?"}),a.jsxs("main",{className:"md:ml-64 min-h-screen bg-gradient-to-br from-safebite-dark-blue to-safebite-dark-blue/95 relative overflow-hidden pt-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 relative z-10",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 p-4 bg-safebite-card-bg/70 backdrop-blur-md rounded-lg border border-safebite-teal/20 shadow-md",children:a.jsxs("div",{className:"mb-3 sm:mb-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"Help Center"})}),a.jsxs("p",{className:"text-safebite-text-secondary flex items-center",children:[a.jsx(al,{className:"h-5 w-5 mr-2 text-safebite-teal/70"}),"Find answers to your questions and learn how to use SafeBite effectively."]})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-safebite-text-secondary h-5 w-5"}),a.jsx(ft,{type:"text",placeholder:"Search for help topics...",className:"pl-10 bg-safebite-card-bg/70 border-safebite-teal/20 focus:border-safebite-teal/60 text-safebite-text",value:t,onChange:u=>e(u.target.value)})]})}),a.jsxs(fo,{defaultValue:"faqs",className:"w-full",children:[a.jsxs(da,{className:"grid grid-cols-3 mb-6 bg-safebite-card-bg/70 border border-safebite-teal/20",children:[a.jsxs($t,{value:"faqs",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(al,{className:"h-4 w-4 mr-2"}),"FAQs"]}),a.jsxs($t,{value:"guides",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(l1,{className:"h-4 w-4 mr-2"}),"Guides"]}),a.jsxs($t,{value:"contact",className:"data-[state=active]:bg-safebite-teal/20",children:[a.jsx(xv,{className:"h-4 w-4 mr-2"}),"Contact Us"]})]}),a.jsxs(Wt,{value:"faqs",className:"space-y-6",children:[t.trim()!==""&&s.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(al,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No results found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any FAQs matching your search. Try different keywords or contact us for help."})]}),s.map(u=>a.jsxs(Me,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(bt,{className:"pb-2",children:a.jsxs(wt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[u.icon,a.jsx("span",{className:"ml-2",children:u.name})]})}),a.jsx(it,{children:a.jsx(UAe,{type:"single",collapsible:!0,className:"w-full",children:u.faqs.map((f,h)=>a.jsxs(MW,{value:`item-${h}`,className:"border-safebite-teal/20",children:[a.jsx(DW,{className:"text-safebite-text hover:text-safebite-teal",children:f.question}),a.jsx(LW,{className:"text-safebite-text-secondary",children:f.answer})]},h))})})]},u.id))]}),a.jsxs(Wt,{value:"guides",className:"space-y-6",children:[t.trim()!==""&&o.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(l1,{className:"h-12 w-12 mx-auto text-safebite-text-secondary mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-2",children:"No guides found"}),a.jsx("p",{className:"text-safebite-text-secondary",children:"We couldn't find any guides matching your search. Try different keywords or check the FAQs section."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(u=>a.jsx(Me,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300 cursor-pointer",onClick:()=>l(u),children:a.jsx(it,{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"rounded-full p-2 bg-safebite-teal/10 mr-4",children:u.icon}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-safebite-text font-medium mb-2 flex items-center",children:[u.title,a.jsx(Ue,{className:"ml-2 bg-safebite-teal/20 text-safebite-teal text-[10px]",children:"Coming Soon"})]}),a.jsx("p",{className:"text-sm text-safebite-text-secondary mb-3",children:u.description}),a.jsxs("div",{className:"flex items-center text-xs text-safebite-teal",children:[a.jsx("span",{children:"Read guide"}),a.jsx(KF,{className:"h-3 w-3 ml-1"})]})]})]})})},u.id))})]}),a.jsx(Wt,{value:"contact",className:"space-y-6",children:a.jsxs(Me,{className:"sci-fi-card bg-safebite-card-bg/80 backdrop-blur-md border-safebite-teal/20 hover:border-safebite-teal/50 hover:shadow-neon-teal transition-all duration-300",children:[a.jsx(bt,{children:a.jsxs(wt,{className:"text-lg font-semibold text-safebite-text flex items-center",children:[a.jsx(xv,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"Contact Us"]})}),a.jsxs(it,{className:"space-y-6",children:[a.jsxs("div",{className:"bg-safebite-teal/10 border border-safebite-teal/30 rounded-md p-4",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Need help with SafeBite?"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Our support team is here to help you with any questions or issues you may have."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(xv,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Chat Support"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Use our AI assistant in the bottom right corner for immediate help."})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(QF,{className:"h-5 w-5 text-safebite-teal mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-safebite-text font-medium",children:"Documentation"}),a.jsx("p",{className:"text-sm text-safebite-text-secondary",children:"Check our comprehensive guides and FAQs for detailed information."})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Email:"}),a.jsxs("a",{href:"mailto:support@safebite.example.com",className:"text-safebite-teal hover:underline flex items-center",children:["support@safebite.example.com",a.jsx(Li,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"Twitter:"}),a.jsxs("a",{href:"https://twitter.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["@safebite",a.jsx(Li,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 text-safebite-text-secondary",children:"GitHub:"}),a.jsxs("a",{href:"https://github.com/safebite",target:"_blank",rel:"noopener noreferrer",className:"text-safebite-teal hover:underline flex items-center",children:["github.com/safebite",a.jsx(Li,{className:"h-3 w-3 ml-1"})]})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-safebite-card-bg-alt",children:[a.jsx("h3",{className:"text-safebite-text font-medium mb-4",children:"Feedback"}),a.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're constantly improving SafeBite based on your feedback. Let us know what you think!"}),a.jsx(ie,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Send Feedback"})]})]})]})})]})]})]})]})},$W=()=>{const t=window.location.pathname;return t.includes("/auth/login")||t.includes("/auth/signup")||t.includes("/auth/forgot-password")||t==="/"||t==="/SafeBite-V1/"||t.includes("/about")||t.includes("/features")},qAe=()=>{if(!$W()){const t=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${t}/auth/login`}},HAe=new RJ,Us=({children:t})=>{const e=Vt(Ke),[r,n]=j.useState("loading");return Jn(),j.useEffect(()=>{const i=()=>{const o=e.currentUser,l=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true";o||l?n("authenticated"):(n("unauthenticated"),$W()||qAe())};i();const s=e.onAuthStateChanged(()=>{i()});return()=>s()},[e]),r==="loading"?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-safebite-teal"})}):r==="authenticated"?a.jsx(a.Fragment,{children:t}):a.jsx(aE,{to:"/auth/login",replace:!0})},WAe=()=>{const t=Vt(Ke);return j.useEffect(()=>{const e=window.location.pathname,n=["/dashboard","/nutrition","/food-search","/food-delivery","/product-recommendations","/products","/community","/healthbox","/reports","/recipes","/settings","/tools","/features"].some(s=>e.toLowerCase().includes(s.toLowerCase())),i=e.includes("/auth/login")||e.includes("/auth/signup")||e.includes("/auth/forgot-password")||e==="/"||e==="/SafeBite-V1/"||e.includes("/about")||e.includes("/features");if(n&&!i){const s=t.currentUser,o=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true";if(!s&&!o){const l=window.location.pathname.includes("/SafeBite-V1")?"/SafeBite-V1":"";window.location.href=`${l}/auth/login`}}},[t]),a.jsx(dJ,{children:a.jsxs(MJ,{client:HAe,children:[a.jsxs(AT,{children:[a.jsx(oQ,{}),a.jsx(DQ,{}),a.jsx(PB,{}),a.jsx(PZ,{basename:"/SafeBite-V1/",children:a.jsxs(jZ,{children:[a.jsx(rr,{path:"/",element:a.jsx(pse,{})}),a.jsx(rr,{path:"/about",element:a.jsx(wAe,{})}),a.jsx(rr,{path:"/features",element:a.jsx(_Ae,{})}),a.jsx(rr,{path:"/help",element:a.jsx(zAe,{})}),a.jsx(rr,{path:"/auth/login",element:a.jsx(hue,{})}),a.jsx(rr,{path:"/auth/signup",element:a.jsx(mue,{})}),a.jsx(rr,{path:"/auth/forgot-password",element:a.jsx(pue,{})}),a.jsx(rr,{path:"/questionnaire",element:a.jsx(rde,{})}),a.jsx(rr,{path:"/weekly-questions",element:a.jsx(bde,{})}),a.jsx(rr,{path:"/dashboard",element:a.jsx(Us,{children:a.jsx(fde,{})})}),a.jsx(rr,{path:"/nutrition",element:a.jsx(Us,{children:a.jsx(vAe,{})})}),a.jsx(rr,{path:"/food-search",element:a.jsx(aE,{to:"/nutrition",replace:!0})}),a.jsx(rr,{path:"/food-delivery",element:a.jsx(Us,{children:a.jsx(jAe,{})})}),a.jsx(rr,{path:"/product-recommendations",element:a.jsx(Us,{children:a.jsx(rAe,{})})}),a.jsx(rr,{path:"/products",element:a.jsx(aE,{to:"/grocery-products",replace:!0})}),a.jsx(rr,{path:"/grocery-products",element:a.jsx(Us,{children:a.jsx(sAe,{})})}),a.jsx(rr,{path:"/community",element:a.jsx(Us,{children:a.jsx(hde,{})})}),a.jsx(rr,{path:"/healthbox",element:a.jsx(Us,{children:a.jsx(QEe,{})})}),a.jsx(rr,{path:"/reports",element:a.jsx(Us,{children:a.jsx(tEe,{})})}),a.jsx(rr,{path:"/recipes",element:a.jsx(Us,{children:a.jsx(fEe,{})})}),a.jsx(rr,{path:"/settings",element:a.jsx(Us,{children:a.jsx(lue,{})})}),a.jsx(rr,{path:"/admin/login",element:a.jsx(xAe,{})}),a.jsx(rr,{path:"/admin/panel",element:a.jsx(bAe,{})}),a.jsx(rr,{path:"*",element:a.jsx(yAe,{})})]})})]}),a.jsx(Bl,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or health!"})]})})};JG.createRoot(document.getElementById("root")).render(a.jsx(WAe,{}));
