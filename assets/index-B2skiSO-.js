var NK=Object.defineProperty;var ZI=t=>{throw TypeError(t)};var EK=(t,e,r)=>e in t?NK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var vn=(t,e,r)=>EK(t,typeof e!="symbol"?e+"":e,r),b1=(t,e,r)=>e.has(t)||ZI("Cannot "+r);var ge=(t,e,r)=>(b1(t,e,"read from private field"),r?r.call(t):e.get(t)),Yt=(t,e,r)=>e.has(t)?ZI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Nt=(t,e,r,n)=>(b1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),An=(t,e,r)=>(b1(t,e,"access private method"),r);var jv=(t,e,r,n)=>({set _(i){Nt(t,e,i,r)},get _(){return ge(t,e,n)}});function AK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function er(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w1={exports:{}},zh={},_1={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eO;function TK(){if(eO)return Tt;eO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function p(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(q,X,se){this.props=q,this.context=X,this.refs=b,this.updater=se||y}v.prototype.isReactComponent={},v.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},v.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function A(){}A.prototype=v.prototype;function E(q,X,se){this.props=q,this.context=X,this.refs=b,this.updater=se||y}var j=E.prototype=new A;j.constructor=E,w(j,v.prototype),j.isPureReactComponent=!0;var N=Array.isArray,T=Object.prototype.hasOwnProperty,O={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(q,X,se){var xe,Ae={},Te=null,me=null;if(X!=null)for(xe in X.ref!==void 0&&(me=X.ref),X.key!==void 0&&(Te=""+X.key),X)T.call(X,xe)&&!k.hasOwnProperty(xe)&&(Ae[xe]=X[xe]);var Pe=arguments.length-2;if(Pe===1)Ae.children=se;else if(1<Pe){for(var ue=Array(Pe),ve=0;ve<Pe;ve++)ue[ve]=arguments[ve+2];Ae.children=ue}if(q&&q.defaultProps)for(xe in Pe=q.defaultProps,Pe)Ae[xe]===void 0&&(Ae[xe]=Pe[xe]);return{$$typeof:t,type:q,key:Te,ref:me,props:Ae,_owner:O.current}}function M(q,X){return{$$typeof:t,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function D(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(se){return X[se]})}var V=/\/+/g;function $(q,X){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):X.toString(36)}function H(q,X,se,xe,Ae){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var me=!1;if(q===null)me=!0;else switch(Te){case"string":case"number":me=!0;break;case"object":switch(q.$$typeof){case t:case e:me=!0}}if(me)return me=q,Ae=Ae(me),q=xe===""?"."+$(me,0):xe,N(Ae)?(se="",q!=null&&(se=q.replace(V,"$&/")+"/"),H(Ae,X,se,"",function(ve){return ve})):Ae!=null&&(F(Ae)&&(Ae=M(Ae,se+(!Ae.key||me&&me.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+q)),X.push(Ae)),1;if(me=0,xe=xe===""?".":xe+":",N(q))for(var Pe=0;Pe<q.length;Pe++){Te=q[Pe];var ue=xe+$(Te,Pe);me+=H(Te,X,se,ue,Ae)}else if(ue=p(q),typeof ue=="function")for(q=ue.call(q),Pe=0;!(Te=q.next()).done;)Te=Te.value,ue=xe+$(Te,Pe++),me+=H(Te,X,se,ue,Ae);else if(Te==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return me}function G(q,X,se){if(q==null)return q;var xe=[],Ae=0;return H(q,xe,"","",function(Te){return X.call(se,Te,Ae++)}),xe}function Q(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(se){(q._status===0||q._status===-1)&&(q._status=1,q._result=se)},function(se){(q._status===0||q._status===-1)&&(q._status=2,q._result=se)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var Y={current:null},W={transition:null},J={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:W,ReactCurrentOwner:O};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:G,forEach:function(q,X,se){G(q,function(){X.apply(this,arguments)},se)},count:function(q){var X=0;return G(q,function(){X++}),X},toArray:function(q){return G(q,function(X){return X})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Tt.Component=v,Tt.Fragment=r,Tt.Profiler=i,Tt.PureComponent=E,Tt.StrictMode=n,Tt.Suspense=u,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Tt.act=ee,Tt.cloneElement=function(q,X,se){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var xe=w({},q.props),Ae=q.key,Te=q.ref,me=q._owner;if(X!=null){if(X.ref!==void 0&&(Te=X.ref,me=O.current),X.key!==void 0&&(Ae=""+X.key),q.type&&q.type.defaultProps)var Pe=q.type.defaultProps;for(ue in X)T.call(X,ue)&&!k.hasOwnProperty(ue)&&(xe[ue]=X[ue]===void 0&&Pe!==void 0?Pe[ue]:X[ue])}var ue=arguments.length-2;if(ue===1)xe.children=se;else if(1<ue){Pe=Array(ue);for(var ve=0;ve<ue;ve++)Pe[ve]=arguments[ve+2];xe.children=Pe}return{$$typeof:t,type:q.type,key:Ae,ref:Te,props:xe,_owner:me}},Tt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},Tt.createElement=C,Tt.createFactory=function(q){var X=C.bind(null,q);return X.type=q,X},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(q){return{$$typeof:l,render:q}},Tt.isValidElement=F,Tt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:Q}},Tt.memo=function(q,X){return{$$typeof:f,type:q,compare:X===void 0?null:X}},Tt.startTransition=function(q){var X=W.transition;W.transition={};try{q()}finally{W.transition=X}},Tt.unstable_act=ee,Tt.useCallback=function(q,X){return Y.current.useCallback(q,X)},Tt.useContext=function(q){return Y.current.useContext(q)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(q){return Y.current.useDeferredValue(q)},Tt.useEffect=function(q,X){return Y.current.useEffect(q,X)},Tt.useId=function(){return Y.current.useId()},Tt.useImperativeHandle=function(q,X,se){return Y.current.useImperativeHandle(q,X,se)},Tt.useInsertionEffect=function(q,X){return Y.current.useInsertionEffect(q,X)},Tt.useLayoutEffect=function(q,X){return Y.current.useLayoutEffect(q,X)},Tt.useMemo=function(q,X){return Y.current.useMemo(q,X)},Tt.useReducer=function(q,X,se){return Y.current.useReducer(q,X,se)},Tt.useRef=function(q){return Y.current.useRef(q)},Tt.useState=function(q){return Y.current.useState(q)},Tt.useSyncExternalStore=function(q,X,se){return Y.current.useSyncExternalStore(q,X,se)},Tt.useTransition=function(){return Y.current.useTransition()},Tt.version="18.3.1",Tt}var tO;function LT(){return tO||(tO=1,_1.exports=TK()),_1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function PK(){if(rO)return zh;rO=1;var t=LT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,f){var m,h={},p=null,y=null;f!==void 0&&(p=""+f),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(y=u.ref);for(m in u)n.call(u,m)&&!a.hasOwnProperty(m)&&(h[m]=u[m]);if(l&&l.defaultProps)for(m in u=l.defaultProps,u)h[m]===void 0&&(h[m]=u[m]);return{$$typeof:e,type:l,key:p,ref:y,props:h,_owner:i.current}}return zh.Fragment=r,zh.jsx=o,zh.jsxs=o,zh}var nO;function kK(){return nO||(nO=1,w1.exports=PK()),w1.exports}var s=kK(),Ev={},S1={exports:{}},ii={},j1={exports:{}},N1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO;function CK(){return iO||(iO=1,function(t){function e(W,J){var ee=W.length;W.push(J);e:for(;0<ee;){var q=ee-1>>>1,X=W[q];if(0<i(X,J))W[q]=J,W[ee]=X,ee=q;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var J=W[0],ee=W.pop();if(ee!==J){W[0]=ee;e:for(var q=0,X=W.length,se=X>>>1;q<se;){var xe=2*(q+1)-1,Ae=W[xe],Te=xe+1,me=W[Te];if(0>i(Ae,ee))Te<X&&0>i(me,Ae)?(W[q]=me,W[Te]=ee,q=Te):(W[q]=Ae,W[xe]=ee,q=xe);else if(Te<X&&0>i(me,ee))W[q]=me,W[Te]=ee,q=Te;else break e}}return J}function i(W,J){var ee=W.sortIndex-J.sortIndex;return ee!==0?ee:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],f=[],m=1,h=null,p=3,y=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=W)n(f),J.sortIndex=J.expirationTime,e(u,J);else break;J=r(f)}}function N(W){if(b=!1,j(W),!w)if(r(u)!==null)w=!0,Q(T);else{var J=r(f);J!==null&&Y(N,J.startTime-W)}}function T(W,J){w=!1,b&&(b=!1,A(C),C=-1),y=!0;var ee=p;try{for(j(J),h=r(u);h!==null&&(!(h.expirationTime>J)||W&&!D());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var X=q(h.expirationTime<=J);J=t.unstable_now(),typeof X=="function"?h.callback=X:h===r(u)&&n(u),j(J)}else n(u);h=r(u)}if(h!==null)var se=!0;else{var xe=r(f);xe!==null&&Y(N,xe.startTime-J),se=!1}return se}finally{h=null,p=ee,y=!1}}var O=!1,k=null,C=-1,M=5,F=-1;function D(){return!(t.unstable_now()-F<M)}function V(){if(k!==null){var W=t.unstable_now();F=W;var J=!0;try{J=k(!0,W)}finally{J?$():(O=!1,k=null)}}else O=!1}var $;if(typeof E=="function")$=function(){E(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=V,$=function(){G.postMessage(null)}}else $=function(){v(V,0)};function Q(W){k=W,O||(O=!0,$())}function Y(W,J){C=v(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,Q(T))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var ee=p;p=J;try{return W()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=p;p=W;try{return J()}finally{p=ee}},t.unstable_scheduleCallback=function(W,J,ee){var q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?q+ee:q):ee=q,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ee+X,W={id:m++,callback:J,priorityLevel:W,startTime:ee,expirationTime:X,sortIndex:-1},ee>q?(W.sortIndex=ee,e(f,W),r(u)===null&&W===r(f)&&(b?(A(C),C=-1):b=!0,Y(N,ee-q))):(W.sortIndex=X,e(u,W),w||y||(w=!0,Q(T))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var J=p;return function(){var ee=p;p=J;try{return W.apply(this,arguments)}finally{p=ee}}}}(N1)),N1}var aO;function IK(){return aO||(aO=1,j1.exports=CK()),j1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function OK(){if(sO)return ii;sO=1;var t=LT(),e=IK();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)n.add(d[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function p(c){return u.call(h,c)?!0:u.call(m,c)?!1:f.test(c)?h[c]=!0:(m[c]=!0,!1)}function y(c,d,g,_){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return _?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,d,g,_){if(d===null||typeof d>"u"||y(c,d,g,_))return!0;if(_)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(c,d,g,_,P,R,B){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=_,this.attributeNamespace=P,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=R,this.removeEmptyString=B}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){v[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];v[d]=new b(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){v[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){v[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){v[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){v[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){v[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){v[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){v[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function E(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(A,E);v[d]=new b(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(A,E);v[d]=new b(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(A,E);v[d]=new b(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){v[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){v[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function j(c,d,g,_){var P=v.hasOwnProperty(d)?v[d]:null;(P!==null?P.type!==0:_||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,g,P,_)&&(g=null),_||P===null?p(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):P.mustUseProperty?c[P.propertyName]=g===null?P.type===3?!1:"":g:(d=P.attributeName,_=P.attributeNamespace,g===null?c.removeAttribute(d):(P=P.type,g=P===3||P===4&&g===!0?"":""+g,_?c.setAttributeNS(_,d,g):c.setAttribute(d,g))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),W=Symbol.iterator;function J(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var ee=Object.assign,q;function X(c){if(q===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);q=d&&d[1]||""}return`
`+q+c}var se=!1;function xe(c,d){if(!c||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(oe){var _=oe}Reflect.construct(c,[],d)}else{try{d.call()}catch(oe){_=oe}c.call(d.prototype)}else{try{throw Error()}catch(oe){_=oe}c()}}catch(oe){if(oe&&_&&typeof oe.stack=="string"){for(var P=oe.stack.split(`
`),R=_.stack.split(`
`),B=P.length-1,K=R.length-1;1<=B&&0<=K&&P[B]!==R[K];)K--;for(;1<=B&&0<=K;B--,K--)if(P[B]!==R[K]){if(B!==1||K!==1)do if(B--,K--,0>K||P[B]!==R[K]){var Z=`
`+P[B].replace(" at new "," at ");return c.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",c.displayName)),Z}while(1<=B&&0<=K);break}}}finally{se=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?X(c):""}function Ae(c){switch(c.tag){case 5:return X(c.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return c=xe(c.type,!1),c;case 11:return c=xe(c.type.render,!1),c;case 1:return c=xe(c.type,!0),c;default:return""}}function Te(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case k:return"Fragment";case O:return"Portal";case M:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case D:return(c.displayName||"Context")+".Consumer";case F:return(c._context.displayName||"Context")+".Provider";case V:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case G:return d=c.displayName||null,d!==null?d:Te(c.type)||"Memo";case Q:d=c._payload,c=c._init;try{return Te(c(d))}catch{}}return null}function me(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(d);case 8:return d===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Pe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ue(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ve(c){var d=ue(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),_=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var P=g.get,R=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return P.call(this)},set:function(B){_=""+B,R.call(this,B)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return _},setValue:function(B){_=""+B},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function _e(c){c._valueTracker||(c._valueTracker=ve(c))}function le(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),_="";return c&&(_=ue(c)?c.checked?"true":"false":c.value),c=_,c!==g?(d.setValue(c),!0):!1}function Ye(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ke(c,d){var g=d.checked;return ee({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function ut(c,d){var g=d.defaultValue==null?"":d.defaultValue,_=d.checked!=null?d.checked:d.defaultChecked;g=Pe(d.value!=null?d.value:g),c._wrapperState={initialChecked:_,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function st(c,d){d=d.checked,d!=null&&j(c,"checked",d,!1)}function mt(c,d){st(c,d);var g=Pe(d.value),_=d.type;if(g!=null)_==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(_==="submit"||_==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Ct(c,d.type,g):d.hasOwnProperty("defaultValue")&&Ct(c,d.type,Pe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function lr(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var _=d.type;if(!(_!=="submit"&&_!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Ct(c,d,g){(d!=="number"||Ye(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Lt=Array.isArray;function Oe(c,d,g,_){if(c=c.options,d){d={};for(var P=0;P<g.length;P++)d["$"+g[P]]=!0;for(g=0;g<c.length;g++)P=d.hasOwnProperty("$"+c[g].value),c[g].selected!==P&&(c[g].selected=P),P&&_&&(c[g].defaultSelected=!0)}else{for(g=""+Pe(g),d=null,P=0;P<c.length;P++){if(c[P].value===g){c[P].selected=!0,_&&(c[P].defaultSelected=!0);return}d!==null||c[P].disabled||(d=c[P])}d!==null&&(d.selected=!0)}}function Ze(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function rt(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(Lt(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:Pe(g)}}function $t(c,d){var g=Pe(d.value),_=Pe(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),_!=null&&(c.defaultValue=""+_)}function Ie(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function De(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?De(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Ue,kt=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,_,P){MSApp.execUnsafeLocalFunction(function(){return c(d,g,_,P)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ue.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function pr(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Li=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(c){Li.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),la[d]=la[c]})});function qa(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||la.hasOwnProperty(c)&&la[c]?(""+d).trim():d+"px"}function Is(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var _=g.indexOf("--")===0,P=qa(g,d[g],_);g==="float"&&(g="cssFloat"),_?c.setProperty(g,P):c[g]=P}}var $i=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fn(c,d){if(d){if($i[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Os(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function Ft(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Rt=null,gr=null,Ar=null;function fe(c){if(c=Th(c)){if(typeof Rt!="function")throw Error(r(280));var d=c.stateNode;d&&(d=Fg(d),Rt(c.stateNode,c.type,d))}}function Me(c){gr?Ar?Ar.push(c):Ar=[c]:gr=c}function Re(){if(gr){var c=gr,d=Ar;if(Ar=gr=null,fe(c),d)for(c=0;c<d.length;c++)fe(d[c])}}function jt(c,d){return c(d)}function cr(){}var Qn=!1;function Ro(c,d,g){if(Qn)return c(d,g);Qn=!0;try{return jt(c,d,g)}finally{Qn=!1,(gr!==null||Ar!==null)&&(cr(),Re())}}function Sr(c,d){var g=c.stateNode;if(g===null)return null;var _=Fg(g);if(_===null)return null;g=_[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(c=c.type,_=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!_;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var mi=!1;if(l)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){mi=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{mi=!1}function ac(c,d,g,_,P,R,B,K,Z){var oe=Array.prototype.slice.call(arguments,3);try{d.apply(g,oe)}catch(be){this.onError(be)}}var sc=!1,ju=null,ua=!1,lh=null,K0={onError:function(c){sc=!0,ju=c}};function Nu(c,d,g,_,P,R,B,K,Z){sc=!1,ju=null,ac.apply(K0,arguments)}function ug(c,d,g,_,P,R,B,K,Z){if(Nu.apply(this,arguments),sc){if(sc){var oe=ju;sc=!1,ju=null}else throw Error(r(198));ua||(ua=!0,lh=oe)}}function da(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function oc(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function fa(c){if(da(c)!==c)throw Error(r(188))}function dg(c){var d=c.alternate;if(!d){if(d=da(c),d===null)throw Error(r(188));return d!==c?null:c}for(var g=c,_=d;;){var P=g.return;if(P===null)break;var R=P.alternate;if(R===null){if(_=P.return,_!==null){g=_;continue}break}if(P.child===R.child){for(R=P.child;R;){if(R===g)return fa(P),c;if(R===_)return fa(P),d;R=R.sibling}throw Error(r(188))}if(g.return!==_.return)g=P,_=R;else{for(var B=!1,K=P.child;K;){if(K===g){B=!0,g=P,_=R;break}if(K===_){B=!0,_=P,g=R;break}K=K.sibling}if(!B){for(K=R.child;K;){if(K===g){B=!0,g=R,_=P;break}if(K===_){B=!0,_=R,g=P;break}K=K.sibling}if(!B)throw Error(r(189))}}if(g.alternate!==_)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:d}function ch(c){return c=dg(c),c!==null?Eu(c):null}function Eu(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=Eu(c);if(d!==null)return d;c=c.sibling}return null}var Au=e.unstable_scheduleCallback,uh=e.unstable_cancelCallback,fg=e.unstable_shouldYield,Y0=e.unstable_requestPaint,ur=e.unstable_now,hg=e.unstable_getCurrentPriorityLevel,lc=e.unstable_ImmediatePriority,Mo=e.unstable_UserBlockingPriority,Fi=e.unstable_NormalPriority,dh=e.unstable_LowPriority,mg=e.unstable_IdlePriority,cc=null,pi=null;function pg(c){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(cc,c,void 0,(c.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:vg,fh=Math.log,gg=Math.LN2;function vg(c){return c>>>=0,c===0?32:31-(fh(c)/gg|0)|0}var Tu=64,Pu=4194304;function Do(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function uc(c,d){var g=c.pendingLanes;if(g===0)return 0;var _=0,P=c.suspendedLanes,R=c.pingedLanes,B=g&268435455;if(B!==0){var K=B&~P;K!==0?_=Do(K):(R&=B,R!==0&&(_=Do(R)))}else B=g&~P,B!==0?_=Do(B):R!==0&&(_=Do(R));if(_===0)return 0;if(d!==0&&d!==_&&(d&P)===0&&(P=_&-_,R=d&-d,P>=R||P===16&&(R&4194240)!==0))return d;if((_&4)!==0&&(_|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=_;0<d;)g=31-Ln(d),P=1<<g,_|=c[g],d&=~P;return _}function Q0(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(c,d){for(var g=c.suspendedLanes,_=c.pingedLanes,P=c.expirationTimes,R=c.pendingLanes;0<R;){var B=31-Ln(R),K=1<<B,Z=P[B];Z===-1?((K&g)===0||(K&_)!==0)&&(P[B]=Q0(K,d)):Z<=d&&(c.expiredLanes|=K),R&=~K}}function gi(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function dc(){var c=Tu;return Tu<<=1,(Tu&4194240)===0&&(Tu=64),c}function Lo(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function $o(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Ln(d),c[d]=g}function sr(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var _=c.eventTimes;for(c=c.expirationTimes;0<g;){var P=31-Ln(g),R=1<<P;d[P]=0,_[P]=-1,c[P]=-1,g&=~R}}function Fo(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var _=31-Ln(g),P=1<<_;P&d|c[_]&d&&(c[_]|=d),g&=~P}}var Mt=0;function Vo(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var yg,ku,xg,bg,wg,hh=!1,Ha=[],hn=null,ha=null,ma=null,Bo=new Map,Vi=new Map,Wa=[],X0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _g(c,d){switch(c){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Bo.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(d.pointerId)}}function Xn(c,d,g,_,P,R){return c===null||c.nativeEvent!==R?(c={blockedOn:d,domEventName:g,eventSystemFlags:_,nativeEvent:R,targetContainers:[P]},d!==null&&(d=Th(d),d!==null&&ku(d)),c):(c.eventSystemFlags|=_,d=c.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),c)}function J0(c,d,g,_,P){switch(d){case"focusin":return hn=Xn(hn,c,d,g,_,P),!0;case"dragenter":return ha=Xn(ha,c,d,g,_,P),!0;case"mouseover":return ma=Xn(ma,c,d,g,_,P),!0;case"pointerover":var R=P.pointerId;return Bo.set(R,Xn(Bo.get(R)||null,c,d,g,_,P)),!0;case"gotpointercapture":return R=P.pointerId,Vi.set(R,Xn(Vi.get(R)||null,c,d,g,_,P)),!0}return!1}function Sg(c){var d=gc(c.target);if(d!==null){var g=da(d);if(g!==null){if(d=g.tag,d===13){if(d=oc(g),d!==null){c.blockedOn=d,wg(c.priority,function(){xg(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ms(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=Cu(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var _=new g.constructor(g.type,g);nt=_,g.target.dispatchEvent(_),nt=null}else return d=Th(g),d!==null&&ku(d),c.blockedOn=g,!1;d.shift()}return!0}function fc(c,d,g){Ms(c)&&g.delete(d)}function jg(){hh=!1,hn!==null&&Ms(hn)&&(hn=null),ha!==null&&Ms(ha)&&(ha=null),ma!==null&&Ms(ma)&&(ma=null),Bo.forEach(fc),Vi.forEach(fc)}function pa(c,d){c.blockedOn===d&&(c.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jg)))}function ga(c){function d(P){return pa(P,c)}if(0<Ha.length){pa(Ha[0],c);for(var g=1;g<Ha.length;g++){var _=Ha[g];_.blockedOn===c&&(_.blockedOn=null)}}for(hn!==null&&pa(hn,c),ha!==null&&pa(ha,c),ma!==null&&pa(ma,c),Bo.forEach(d),Vi.forEach(d),g=0;g<Wa.length;g++)_=Wa[g],_.blockedOn===c&&(_.blockedOn=null);for(;0<Wa.length&&(g=Wa[0],g.blockedOn===null);)Sg(g),g.blockedOn===null&&Wa.shift()}var Ds=N.ReactCurrentBatchConfig,Uo=!0;function jr(c,d,g,_){var P=Mt,R=Ds.transition;Ds.transition=null;try{Mt=1,mh(c,d,g,_)}finally{Mt=P,Ds.transition=R}}function Z0(c,d,g,_){var P=Mt,R=Ds.transition;Ds.transition=null;try{Mt=4,mh(c,d,g,_)}finally{Mt=P,Ds.transition=R}}function mh(c,d,g,_){if(Uo){var P=Cu(c,d,g,_);if(P===null)uw(c,d,_,hc,g),_g(c,_);else if(J0(P,c,d,g,_))_.stopPropagation();else if(_g(c,_),d&4&&-1<X0.indexOf(c)){for(;P!==null;){var R=Th(P);if(R!==null&&yg(R),R=Cu(c,d,g,_),R===null&&uw(c,d,_,hc,g),R===P)break;P=R}P!==null&&_.stopPropagation()}else uw(c,d,_,null,g)}}var hc=null;function Cu(c,d,g,_){if(hc=null,c=Ft(_),c=gc(c),c!==null)if(d=da(c),d===null)c=null;else if(g=d.tag,g===13){if(c=oc(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return hc=c,null}function ph(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hg()){case lc:return 1;case Mo:return 4;case Fi:case dh:return 16;case mg:return 536870912;default:return 16}default:return 16}}var vi=null,Iu=null,Jn=null;function gh(){if(Jn)return Jn;var c,d=Iu,g=d.length,_,P="value"in vi?vi.value:vi.textContent,R=P.length;for(c=0;c<g&&d[c]===P[c];c++);var B=g-c;for(_=1;_<=B&&d[g-_]===P[R-_];_++);return Jn=P.slice(c,1<_?1-_:void 0)}function Ou(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Ga(){return!0}function vh(){return!1}function mn(c){function d(g,_,P,R,B){this._reactName=g,this._targetInst=P,this.type=_,this.nativeEvent=R,this.target=B,this.currentTarget=null;for(var K in c)c.hasOwnProperty(K)&&(g=c[K],this[K]=g?g(R):R[K]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Ga:vh,this.isPropagationStopped=vh,this}return ee(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),d}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=mn(va),Ka=ee({},va,{view:0,detail:0}),ew=mn(Ka),Mu,Ls,zo,mc=ee({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==zo&&(zo&&c.type==="mousemove"?(Mu=c.screenX-zo.screenX,Ls=c.screenY-zo.screenY):Ls=Mu=0,zo=c),Mu)},movementY:function(c){return"movementY"in c?c.movementY:Ls}}),Du=mn(mc),yh=ee({},mc,{dataTransfer:0}),Ng=mn(yh),Lu=ee({},Ka,{relatedTarget:0}),$u=mn(Lu),Eg=ee({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=mn(Eg),Ag=ee({},va,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Tg=mn(Ag),Pg=ee({},va,{data:0}),xh=mn(Pg),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cg(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=kg[c])?!!d[c]:!1}function Ya(){return Cg}var x=ee({},Ka,{key:function(c){if(c.key){var d=Fu[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Ou(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?$n[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(c){return c.type==="keypress"?Ou(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ou(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),I=mn(x),L=ee({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=mn(L),ne=ee({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),ce=mn(ne),Ce=ee({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),tr=mn(Ce),Kr=ee({},mc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Vt=mn(Kr),rn=[9,13,27,32],Vr=l&&"CompositionEvent"in window,Bi=null;l&&"documentMode"in document&&(Bi=document.documentMode);var yi=l&&"TextEvent"in window&&!Bi,pc=l&&(!Vr||Bi&&8<Bi&&11>=Bi),Vu=" ",GC=!1;function KC(c,d){switch(c){case"keyup":return rn.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YC(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Bu=!1;function _G(c,d){switch(c){case"compositionend":return YC(d);case"keypress":return d.which!==32?null:(GC=!0,Vu);case"textInput":return c=d.data,c===Vu&&GC?null:c;default:return null}}function SG(c,d){if(Bu)return c==="compositionend"||!Vr&&KC(c,d)?(c=gh(),Jn=Iu=vi=null,Bu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return pc&&d.locale!=="ko"?null:d.data;default:return null}}var jG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QC(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!jG[c.type]:d==="textarea"}function XC(c,d,g,_){Me(_),d=Dg(d,"onChange"),0<d.length&&(g=new Ru("onChange","change",null,g,_),c.push({event:g,listeners:d}))}var bh=null,wh=null;function NG(c){p2(c,0)}function Ig(c){var d=Wu(c);if(le(d))return c}function EG(c,d){if(c==="change")return d}var JC=!1;if(l){var tw;if(l){var rw="oninput"in document;if(!rw){var ZC=document.createElement("div");ZC.setAttribute("oninput","return;"),rw=typeof ZC.oninput=="function"}tw=rw}else tw=!1;JC=tw&&(!document.documentMode||9<document.documentMode)}function e2(){bh&&(bh.detachEvent("onpropertychange",t2),wh=bh=null)}function t2(c){if(c.propertyName==="value"&&Ig(wh)){var d=[];XC(d,wh,c,Ft(c)),Ro(NG,d)}}function AG(c,d,g){c==="focusin"?(e2(),bh=d,wh=g,bh.attachEvent("onpropertychange",t2)):c==="focusout"&&e2()}function TG(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ig(wh)}function PG(c,d){if(c==="click")return Ig(d)}function kG(c,d){if(c==="input"||c==="change")return Ig(d)}function CG(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ya=typeof Object.is=="function"?Object.is:CG;function _h(c,d){if(ya(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),_=Object.keys(d);if(g.length!==_.length)return!1;for(_=0;_<g.length;_++){var P=g[_];if(!u.call(d,P)||!ya(c[P],d[P]))return!1}return!0}function r2(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function n2(c,d){var g=r2(c);c=0;for(var _;g;){if(g.nodeType===3){if(_=c+g.textContent.length,c<=d&&_>=d)return{node:g,offset:d-c};c=_}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=r2(g)}}function i2(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?i2(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function a2(){for(var c=window,d=Ye();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=Ye(c.document)}return d}function nw(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function IG(c){var d=a2(),g=c.focusedElem,_=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&i2(g.ownerDocument.documentElement,g)){if(_!==null&&nw(g)){if(d=_.start,c=_.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var P=g.textContent.length,R=Math.min(_.start,P);_=_.end===void 0?R:Math.min(_.end,P),!c.extend&&R>_&&(P=_,_=R,R=P),P=n2(g,R);var B=n2(g,_);P&&B&&(c.rangeCount!==1||c.anchorNode!==P.node||c.anchorOffset!==P.offset||c.focusNode!==B.node||c.focusOffset!==B.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),c.removeAllRanges(),R>_?(c.addRange(d),c.extend(B.node,B.offset)):(d.setEnd(B.node,B.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var OG=l&&"documentMode"in document&&11>=document.documentMode,Uu=null,iw=null,Sh=null,aw=!1;function s2(c,d,g){var _=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;aw||Uu==null||Uu!==Ye(_)||(_=Uu,"selectionStart"in _&&nw(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Sh&&_h(Sh,_)||(Sh=_,_=Dg(iw,"onSelect"),0<_.length&&(d=new Ru("onSelect","select",null,d,g),c.push({event:d,listeners:_}),d.target=Uu)))}function Og(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var zu={animationend:Og("Animation","AnimationEnd"),animationiteration:Og("Animation","AnimationIteration"),animationstart:Og("Animation","AnimationStart"),transitionend:Og("Transition","TransitionEnd")},sw={},o2={};l&&(o2=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function Rg(c){if(sw[c])return sw[c];if(!zu[c])return c;var d=zu[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in o2)return sw[c]=d[g];return c}var l2=Rg("animationend"),c2=Rg("animationiteration"),u2=Rg("animationstart"),d2=Rg("transitionend"),f2=new Map,h2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(c,d){f2.set(c,d),a(d,[c])}for(var ow=0;ow<h2.length;ow++){var lw=h2[ow],RG=lw.toLowerCase(),MG=lw[0].toUpperCase()+lw.slice(1);qo(RG,"on"+MG)}qo(l2,"onAnimationEnd"),qo(c2,"onAnimationIteration"),qo(u2,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(d2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DG=new Set("cancel close invalid load scroll toggle".split(" ").concat(jh));function m2(c,d,g){var _=c.type||"unknown-event";c.currentTarget=g,ug(_,d,void 0,c),c.currentTarget=null}function p2(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var _=c[g],P=_.event;_=_.listeners;e:{var R=void 0;if(d)for(var B=_.length-1;0<=B;B--){var K=_[B],Z=K.instance,oe=K.currentTarget;if(K=K.listener,Z!==R&&P.isPropagationStopped())break e;m2(P,K,oe),R=Z}else for(B=0;B<_.length;B++){if(K=_[B],Z=K.instance,oe=K.currentTarget,K=K.listener,Z!==R&&P.isPropagationStopped())break e;m2(P,K,oe),R=Z}}}if(ua)throw c=lh,ua=!1,lh=null,c}function vr(c,d){var g=d[gw];g===void 0&&(g=d[gw]=new Set);var _=c+"__bubble";g.has(_)||(g2(d,c,2,!1),g.add(_))}function cw(c,d,g){var _=0;d&&(_|=4),g2(g,c,_,d)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function Nh(c){if(!c[Mg]){c[Mg]=!0,n.forEach(function(g){g!=="selectionchange"&&(DG.has(g)||cw(g,!1,c),cw(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Mg]||(d[Mg]=!0,cw("selectionchange",!1,d))}}function g2(c,d,g,_){switch(ph(d)){case 1:var P=jr;break;case 4:P=Z0;break;default:P=mh}g=P.bind(null,d,g,c),P=void 0,!mi||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),_?P!==void 0?c.addEventListener(d,g,{capture:!0,passive:P}):c.addEventListener(d,g,!0):P!==void 0?c.addEventListener(d,g,{passive:P}):c.addEventListener(d,g,!1)}function uw(c,d,g,_,P){var R=_;if((d&1)===0&&(d&2)===0&&_!==null)e:for(;;){if(_===null)return;var B=_.tag;if(B===3||B===4){var K=_.stateNode.containerInfo;if(K===P||K.nodeType===8&&K.parentNode===P)break;if(B===4)for(B=_.return;B!==null;){var Z=B.tag;if((Z===3||Z===4)&&(Z=B.stateNode.containerInfo,Z===P||Z.nodeType===8&&Z.parentNode===P))return;B=B.return}for(;K!==null;){if(B=gc(K),B===null)return;if(Z=B.tag,Z===5||Z===6){_=R=B;continue e}K=K.parentNode}}_=_.return}Ro(function(){var oe=R,be=Ft(g),je=[];e:{var ye=f2.get(c);if(ye!==void 0){var Le=Ru,ze=c;switch(c){case"keypress":if(Ou(g)===0)break e;case"keydown":case"keyup":Le=I;break;case"focusin":ze="focus",Le=$u;break;case"focusout":ze="blur",Le=$u;break;case"beforeblur":case"afterblur":Le=$u;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=ce;break;case l2:case c2:case u2:Le=$s;break;case d2:Le=tr;break;case"scroll":Le=ew;break;case"wheel":Le=Vt;break;case"copy":case"cut":case"paste":Le=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=z}var qe=(d&4)!==0,Lr=!qe&&c==="scroll",ie=qe?ye!==null?ye+"Capture":null:ye;qe=[];for(var te=oe,ae;te!==null;){ae=te;var Ee=ae.stateNode;if(ae.tag===5&&Ee!==null&&(ae=Ee,ie!==null&&(Ee=Sr(te,ie),Ee!=null&&qe.push(Eh(te,Ee,ae)))),Lr)break;te=te.return}0<qe.length&&(ye=new Le(ye,ze,null,g,be),je.push({event:ye,listeners:qe}))}}if((d&7)===0){e:{if(ye=c==="mouseover"||c==="pointerover",Le=c==="mouseout"||c==="pointerout",ye&&g!==nt&&(ze=g.relatedTarget||g.fromElement)&&(gc(ze)||ze[Fs]))break e;if((Le||ye)&&(ye=be.window===be?be:(ye=be.ownerDocument)?ye.defaultView||ye.parentWindow:window,Le?(ze=g.relatedTarget||g.toElement,Le=oe,ze=ze?gc(ze):null,ze!==null&&(Lr=da(ze),ze!==Lr||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Le=null,ze=oe),Le!==ze)){if(qe=Du,Ee="onMouseLeave",ie="onMouseEnter",te="mouse",(c==="pointerout"||c==="pointerover")&&(qe=z,Ee="onPointerLeave",ie="onPointerEnter",te="pointer"),Lr=Le==null?ye:Wu(Le),ae=ze==null?ye:Wu(ze),ye=new qe(Ee,te+"leave",Le,g,be),ye.target=Lr,ye.relatedTarget=ae,Ee=null,gc(be)===oe&&(qe=new qe(ie,te+"enter",ze,g,be),qe.target=ae,qe.relatedTarget=Lr,Ee=qe),Lr=Ee,Le&&ze)t:{for(qe=Le,ie=ze,te=0,ae=qe;ae;ae=qu(ae))te++;for(ae=0,Ee=ie;Ee;Ee=qu(Ee))ae++;for(;0<te-ae;)qe=qu(qe),te--;for(;0<ae-te;)ie=qu(ie),ae--;for(;te--;){if(qe===ie||ie!==null&&qe===ie.alternate)break t;qe=qu(qe),ie=qu(ie)}qe=null}else qe=null;Le!==null&&v2(je,ye,Le,qe,!1),ze!==null&&Lr!==null&&v2(je,Lr,ze,qe,!0)}}e:{if(ye=oe?Wu(oe):window,Le=ye.nodeName&&ye.nodeName.toLowerCase(),Le==="select"||Le==="input"&&ye.type==="file")var Ge=EG;else if(QC(ye))if(JC)Ge=kG;else{Ge=TG;var et=AG}else(Le=ye.nodeName)&&Le.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Ge=PG);if(Ge&&(Ge=Ge(c,oe))){XC(je,Ge,g,be);break e}et&&et(c,ye,oe),c==="focusout"&&(et=ye._wrapperState)&&et.controlled&&ye.type==="number"&&Ct(ye,"number",ye.value)}switch(et=oe?Wu(oe):window,c){case"focusin":(QC(et)||et.contentEditable==="true")&&(Uu=et,iw=oe,Sh=null);break;case"focusout":Sh=iw=Uu=null;break;case"mousedown":aw=!0;break;case"contextmenu":case"mouseup":case"dragend":aw=!1,s2(je,g,be);break;case"selectionchange":if(OG)break;case"keydown":case"keyup":s2(je,g,be)}var tt;if(Vr)e:{switch(c){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Bu?KC(c,g)&&(dt="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(dt="onCompositionStart");dt&&(pc&&g.locale!=="ko"&&(Bu||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Bu&&(tt=gh()):(vi=be,Iu="value"in vi?vi.value:vi.textContent,Bu=!0)),et=Dg(oe,dt),0<et.length&&(dt=new xh(dt,c,null,g,be),je.push({event:dt,listeners:et}),tt?dt.data=tt:(tt=YC(g),tt!==null&&(dt.data=tt)))),(tt=yi?_G(c,g):SG(c,g))&&(oe=Dg(oe,"onBeforeInput"),0<oe.length&&(be=new xh("onBeforeInput","beforeinput",null,g,be),je.push({event:be,listeners:oe}),be.data=tt))}p2(je,d)})}function Eh(c,d,g){return{instance:c,listener:d,currentTarget:g}}function Dg(c,d){for(var g=d+"Capture",_=[];c!==null;){var P=c,R=P.stateNode;P.tag===5&&R!==null&&(P=R,R=Sr(c,g),R!=null&&_.unshift(Eh(c,R,P)),R=Sr(c,d),R!=null&&_.push(Eh(c,R,P))),c=c.return}return _}function qu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function v2(c,d,g,_,P){for(var R=d._reactName,B=[];g!==null&&g!==_;){var K=g,Z=K.alternate,oe=K.stateNode;if(Z!==null&&Z===_)break;K.tag===5&&oe!==null&&(K=oe,P?(Z=Sr(g,R),Z!=null&&B.unshift(Eh(g,Z,K))):P||(Z=Sr(g,R),Z!=null&&B.push(Eh(g,Z,K)))),g=g.return}B.length!==0&&c.push({event:d,listeners:B})}var LG=/\r\n?/g,$G=/\u0000|\uFFFD/g;function y2(c){return(typeof c=="string"?c:""+c).replace(LG,`
`).replace($G,"")}function Lg(c,d,g){if(d=y2(d),y2(c)!==d&&g)throw Error(r(425))}function $g(){}var dw=null,fw=null;function hw(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var mw=typeof setTimeout=="function"?setTimeout:void 0,FG=typeof clearTimeout=="function"?clearTimeout:void 0,x2=typeof Promise=="function"?Promise:void 0,VG=typeof queueMicrotask=="function"?queueMicrotask:typeof x2<"u"?function(c){return x2.resolve(null).then(c).catch(BG)}:mw;function BG(c){setTimeout(function(){throw c})}function pw(c,d){var g=d,_=0;do{var P=g.nextSibling;if(c.removeChild(g),P&&P.nodeType===8)if(g=P.data,g==="/$"){if(_===0){c.removeChild(P),ga(d);return}_--}else g!=="$"&&g!=="$?"&&g!=="$!"||_++;g=P}while(g);ga(d)}function Ho(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function b2(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var Hu=Math.random().toString(36).slice(2),Qa="__reactFiber$"+Hu,Ah="__reactProps$"+Hu,Fs="__reactContainer$"+Hu,gw="__reactEvents$"+Hu,UG="__reactListeners$"+Hu,zG="__reactHandles$"+Hu;function gc(c){var d=c[Qa];if(d)return d;for(var g=c.parentNode;g;){if(d=g[Fs]||g[Qa]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=b2(c);c!==null;){if(g=c[Qa])return g;c=b2(c)}return d}c=g,g=c.parentNode}return null}function Th(c){return c=c[Qa]||c[Fs],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Wu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Fg(c){return c[Ah]||null}var vw=[],Gu=-1;function Wo(c){return{current:c}}function yr(c){0>Gu||(c.current=vw[Gu],vw[Gu]=null,Gu--)}function dr(c,d){Gu++,vw[Gu]=c.current,c.current=d}var Go={},Sn=Wo(Go),Zn=Wo(!1),vc=Go;function Ku(c,d){var g=c.type.contextTypes;if(!g)return Go;var _=c.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===d)return _.__reactInternalMemoizedMaskedChildContext;var P={},R;for(R in g)P[R]=d[R];return _&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=P),P}function ei(c){return c=c.childContextTypes,c!=null}function Vg(){yr(Zn),yr(Sn)}function w2(c,d,g){if(Sn.current!==Go)throw Error(r(168));dr(Sn,d),dr(Zn,g)}function _2(c,d,g){var _=c.stateNode;if(d=d.childContextTypes,typeof _.getChildContext!="function")return g;_=_.getChildContext();for(var P in _)if(!(P in d))throw Error(r(108,me(c)||"Unknown",P));return ee({},g,_)}function Bg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Go,vc=Sn.current,dr(Sn,c),dr(Zn,Zn.current),!0}function S2(c,d,g){var _=c.stateNode;if(!_)throw Error(r(169));g?(c=_2(c,d,vc),_.__reactInternalMemoizedMergedChildContext=c,yr(Zn),yr(Sn),dr(Sn,c)):yr(Zn),dr(Zn,g)}var Vs=null,Ug=!1,yw=!1;function j2(c){Vs===null?Vs=[c]:Vs.push(c)}function qG(c){Ug=!0,j2(c)}function Ko(){if(!yw&&Vs!==null){yw=!0;var c=0,d=Mt;try{var g=Vs;for(Mt=1;c<g.length;c++){var _=g[c];do _=_(!0);while(_!==null)}Vs=null,Ug=!1}catch(P){throw Vs!==null&&(Vs=Vs.slice(c+1)),Au(lc,Ko),P}finally{Mt=d,yw=!1}}return null}var Yu=[],Qu=0,zg=null,qg=0,Ui=[],zi=0,yc=null,Bs=1,Us="";function xc(c,d){Yu[Qu++]=qg,Yu[Qu++]=zg,zg=c,qg=d}function N2(c,d,g){Ui[zi++]=Bs,Ui[zi++]=Us,Ui[zi++]=yc,yc=c;var _=Bs;c=Us;var P=32-Ln(_)-1;_&=~(1<<P),g+=1;var R=32-Ln(d)+P;if(30<R){var B=P-P%5;R=(_&(1<<B)-1).toString(32),_>>=B,P-=B,Bs=1<<32-Ln(d)+P|g<<P|_,Us=R+c}else Bs=1<<R|g<<P|_,Us=c}function xw(c){c.return!==null&&(xc(c,1),N2(c,1,0))}function bw(c){for(;c===zg;)zg=Yu[--Qu],Yu[Qu]=null,qg=Yu[--Qu],Yu[Qu]=null;for(;c===yc;)yc=Ui[--zi],Ui[zi]=null,Us=Ui[--zi],Ui[zi]=null,Bs=Ui[--zi],Ui[zi]=null}var xi=null,bi=null,Nr=!1,xa=null;function E2(c,d){var g=Gi(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function A2(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,xi=c,bi=Ho(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,xi=c,bi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=yc!==null?{id:Bs,overflow:Us}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=Gi(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,xi=c,bi=null,!0):!1;default:return!1}}function ww(c){return(c.mode&1)!==0&&(c.flags&128)===0}function _w(c){if(Nr){var d=bi;if(d){var g=d;if(!A2(c,d)){if(ww(c))throw Error(r(418));d=Ho(g.nextSibling);var _=xi;d&&A2(c,d)?E2(_,g):(c.flags=c.flags&-4097|2,Nr=!1,xi=c)}}else{if(ww(c))throw Error(r(418));c.flags=c.flags&-4097|2,Nr=!1,xi=c}}}function T2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;xi=c}function Hg(c){if(c!==xi)return!1;if(!Nr)return T2(c),Nr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!hw(c.type,c.memoizedProps)),d&&(d=bi)){if(ww(c))throw P2(),Error(r(418));for(;d;)E2(c,d),d=Ho(d.nextSibling)}if(T2(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){bi=Ho(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}bi=null}}else bi=xi?Ho(c.stateNode.nextSibling):null;return!0}function P2(){for(var c=bi;c;)c=Ho(c.nextSibling)}function Xu(){bi=xi=null,Nr=!1}function Sw(c){xa===null?xa=[c]:xa.push(c)}var HG=N.ReactCurrentBatchConfig;function Ph(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var _=g.stateNode}if(!_)throw Error(r(147,c));var P=_,R=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(B){var K=P.refs;B===null?delete K[R]:K[R]=B},d._stringRef=R,d)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function Wg(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function k2(c){var d=c._init;return d(c._payload)}function C2(c){function d(ie,te){if(c){var ae=ie.deletions;ae===null?(ie.deletions=[te],ie.flags|=16):ae.push(te)}}function g(ie,te){if(!c)return null;for(;te!==null;)d(ie,te),te=te.sibling;return null}function _(ie,te){for(ie=new Map;te!==null;)te.key!==null?ie.set(te.key,te):ie.set(te.index,te),te=te.sibling;return ie}function P(ie,te){return ie=rl(ie,te),ie.index=0,ie.sibling=null,ie}function R(ie,te,ae){return ie.index=ae,c?(ae=ie.alternate,ae!==null?(ae=ae.index,ae<te?(ie.flags|=2,te):ae):(ie.flags|=2,te)):(ie.flags|=1048576,te)}function B(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function K(ie,te,ae,Ee){return te===null||te.tag!==6?(te=m1(ae,ie.mode,Ee),te.return=ie,te):(te=P(te,ae),te.return=ie,te)}function Z(ie,te,ae,Ee){var Ge=ae.type;return Ge===k?be(ie,te,ae.props.children,Ee,ae.key):te!==null&&(te.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Q&&k2(Ge)===te.type)?(Ee=P(te,ae.props),Ee.ref=Ph(ie,te,ae),Ee.return=ie,Ee):(Ee=gv(ae.type,ae.key,ae.props,null,ie.mode,Ee),Ee.ref=Ph(ie,te,ae),Ee.return=ie,Ee)}function oe(ie,te,ae,Ee){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=p1(ae,ie.mode,Ee),te.return=ie,te):(te=P(te,ae.children||[]),te.return=ie,te)}function be(ie,te,ae,Ee,Ge){return te===null||te.tag!==7?(te=Ac(ae,ie.mode,Ee,Ge),te.return=ie,te):(te=P(te,ae),te.return=ie,te)}function je(ie,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number")return te=m1(""+te,ie.mode,ae),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return ae=gv(te.type,te.key,te.props,null,ie.mode,ae),ae.ref=Ph(ie,null,te),ae.return=ie,ae;case O:return te=p1(te,ie.mode,ae),te.return=ie,te;case Q:var Ee=te._init;return je(ie,Ee(te._payload),ae)}if(Lt(te)||J(te))return te=Ac(te,ie.mode,ae,null),te.return=ie,te;Wg(ie,te)}return null}function ye(ie,te,ae,Ee){var Ge=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ge!==null?null:K(ie,te,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return ae.key===Ge?Z(ie,te,ae,Ee):null;case O:return ae.key===Ge?oe(ie,te,ae,Ee):null;case Q:return Ge=ae._init,ye(ie,te,Ge(ae._payload),Ee)}if(Lt(ae)||J(ae))return Ge!==null?null:be(ie,te,ae,Ee,null);Wg(ie,ae)}return null}function Le(ie,te,ae,Ee,Ge){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ie=ie.get(ae)||null,K(te,ie,""+Ee,Ge);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case T:return ie=ie.get(Ee.key===null?ae:Ee.key)||null,Z(te,ie,Ee,Ge);case O:return ie=ie.get(Ee.key===null?ae:Ee.key)||null,oe(te,ie,Ee,Ge);case Q:var et=Ee._init;return Le(ie,te,ae,et(Ee._payload),Ge)}if(Lt(Ee)||J(Ee))return ie=ie.get(ae)||null,be(te,ie,Ee,Ge,null);Wg(te,Ee)}return null}function ze(ie,te,ae,Ee){for(var Ge=null,et=null,tt=te,dt=te=0,sn=null;tt!==null&&dt<ae.length;dt++){tt.index>dt?(sn=tt,tt=null):sn=tt.sibling;var qt=ye(ie,tt,ae[dt],Ee);if(qt===null){tt===null&&(tt=sn);break}c&&tt&&qt.alternate===null&&d(ie,tt),te=R(qt,te,dt),et===null?Ge=qt:et.sibling=qt,et=qt,tt=sn}if(dt===ae.length)return g(ie,tt),Nr&&xc(ie,dt),Ge;if(tt===null){for(;dt<ae.length;dt++)tt=je(ie,ae[dt],Ee),tt!==null&&(te=R(tt,te,dt),et===null?Ge=tt:et.sibling=tt,et=tt);return Nr&&xc(ie,dt),Ge}for(tt=_(ie,tt);dt<ae.length;dt++)sn=Le(tt,ie,dt,ae[dt],Ee),sn!==null&&(c&&sn.alternate!==null&&tt.delete(sn.key===null?dt:sn.key),te=R(sn,te,dt),et===null?Ge=sn:et.sibling=sn,et=sn);return c&&tt.forEach(function(nl){return d(ie,nl)}),Nr&&xc(ie,dt),Ge}function qe(ie,te,ae,Ee){var Ge=J(ae);if(typeof Ge!="function")throw Error(r(150));if(ae=Ge.call(ae),ae==null)throw Error(r(151));for(var et=Ge=null,tt=te,dt=te=0,sn=null,qt=ae.next();tt!==null&&!qt.done;dt++,qt=ae.next()){tt.index>dt?(sn=tt,tt=null):sn=tt.sibling;var nl=ye(ie,tt,qt.value,Ee);if(nl===null){tt===null&&(tt=sn);break}c&&tt&&nl.alternate===null&&d(ie,tt),te=R(nl,te,dt),et===null?Ge=nl:et.sibling=nl,et=nl,tt=sn}if(qt.done)return g(ie,tt),Nr&&xc(ie,dt),Ge;if(tt===null){for(;!qt.done;dt++,qt=ae.next())qt=je(ie,qt.value,Ee),qt!==null&&(te=R(qt,te,dt),et===null?Ge=qt:et.sibling=qt,et=qt);return Nr&&xc(ie,dt),Ge}for(tt=_(ie,tt);!qt.done;dt++,qt=ae.next())qt=Le(tt,ie,dt,qt.value,Ee),qt!==null&&(c&&qt.alternate!==null&&tt.delete(qt.key===null?dt:qt.key),te=R(qt,te,dt),et===null?Ge=qt:et.sibling=qt,et=qt);return c&&tt.forEach(function(jK){return d(ie,jK)}),Nr&&xc(ie,dt),Ge}function Lr(ie,te,ae,Ee){if(typeof ae=="object"&&ae!==null&&ae.type===k&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:e:{for(var Ge=ae.key,et=te;et!==null;){if(et.key===Ge){if(Ge=ae.type,Ge===k){if(et.tag===7){g(ie,et.sibling),te=P(et,ae.props.children),te.return=ie,ie=te;break e}}else if(et.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Q&&k2(Ge)===et.type){g(ie,et.sibling),te=P(et,ae.props),te.ref=Ph(ie,et,ae),te.return=ie,ie=te;break e}g(ie,et);break}else d(ie,et);et=et.sibling}ae.type===k?(te=Ac(ae.props.children,ie.mode,Ee,ae.key),te.return=ie,ie=te):(Ee=gv(ae.type,ae.key,ae.props,null,ie.mode,Ee),Ee.ref=Ph(ie,te,ae),Ee.return=ie,ie=Ee)}return B(ie);case O:e:{for(et=ae.key;te!==null;){if(te.key===et)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){g(ie,te.sibling),te=P(te,ae.children||[]),te.return=ie,ie=te;break e}else{g(ie,te);break}else d(ie,te);te=te.sibling}te=p1(ae,ie.mode,Ee),te.return=ie,ie=te}return B(ie);case Q:return et=ae._init,Lr(ie,te,et(ae._payload),Ee)}if(Lt(ae))return ze(ie,te,ae,Ee);if(J(ae))return qe(ie,te,ae,Ee);Wg(ie,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,te!==null&&te.tag===6?(g(ie,te.sibling),te=P(te,ae),te.return=ie,ie=te):(g(ie,te),te=m1(ae,ie.mode,Ee),te.return=ie,ie=te),B(ie)):g(ie,te)}return Lr}var Ju=C2(!0),I2=C2(!1),Gg=Wo(null),Kg=null,Zu=null,jw=null;function Nw(){jw=Zu=Kg=null}function Ew(c){var d=Gg.current;yr(Gg),c._currentValue=d}function Aw(c,d,g){for(;c!==null;){var _=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,_!==null&&(_.childLanes|=d)):_!==null&&(_.childLanes&d)!==d&&(_.childLanes|=d),c===g)break;c=c.return}}function ed(c,d){Kg=c,jw=Zu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(ti=!0),c.firstContext=null)}function qi(c){var d=c._currentValue;if(jw!==c)if(c={context:c,memoizedValue:d,next:null},Zu===null){if(Kg===null)throw Error(r(308));Zu=c,Kg.dependencies={lanes:0,firstContext:c}}else Zu=Zu.next=c;return d}var bc=null;function Tw(c){bc===null?bc=[c]:bc.push(c)}function O2(c,d,g,_){var P=d.interleaved;return P===null?(g.next=g,Tw(d)):(g.next=P.next,P.next=g),d.interleaved=g,zs(c,_)}function zs(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Yo=!1;function Pw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R2(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function qs(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Qo(c,d,g){var _=c.updateQueue;if(_===null)return null;if(_=_.shared,(zt&2)!==0){var P=_.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),_.pending=d,zs(c,g)}return P=_.interleaved,P===null?(d.next=d,Tw(_)):(d.next=P.next,P.next=d),_.interleaved=d,zs(c,g)}function Yg(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var _=d.lanes;_&=c.pendingLanes,g|=_,d.lanes=g,Fo(c,g)}}function M2(c,d){var g=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,g===_)){var P=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};R===null?P=R=B:R=R.next=B,g=g.next}while(g!==null);R===null?P=R=d:R=R.next=d}else P=R=d;g={baseState:_.baseState,firstBaseUpdate:P,lastBaseUpdate:R,shared:_.shared,effects:_.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function Qg(c,d,g,_){var P=c.updateQueue;Yo=!1;var R=P.firstBaseUpdate,B=P.lastBaseUpdate,K=P.shared.pending;if(K!==null){P.shared.pending=null;var Z=K,oe=Z.next;Z.next=null,B===null?R=oe:B.next=oe,B=Z;var be=c.alternate;be!==null&&(be=be.updateQueue,K=be.lastBaseUpdate,K!==B&&(K===null?be.firstBaseUpdate=oe:K.next=oe,be.lastBaseUpdate=Z))}if(R!==null){var je=P.baseState;B=0,be=oe=Z=null,K=R;do{var ye=K.lane,Le=K.eventTime;if((_&ye)===ye){be!==null&&(be=be.next={eventTime:Le,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var ze=c,qe=K;switch(ye=d,Le=g,qe.tag){case 1:if(ze=qe.payload,typeof ze=="function"){je=ze.call(Le,je,ye);break e}je=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=qe.payload,ye=typeof ze=="function"?ze.call(Le,je,ye):ze,ye==null)break e;je=ee({},je,ye);break e;case 2:Yo=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,ye=P.effects,ye===null?P.effects=[K]:ye.push(K))}else Le={eventTime:Le,lane:ye,tag:K.tag,payload:K.payload,callback:K.callback,next:null},be===null?(oe=be=Le,Z=je):be=be.next=Le,B|=ye;if(K=K.next,K===null){if(K=P.shared.pending,K===null)break;ye=K,K=ye.next,ye.next=null,P.lastBaseUpdate=ye,P.shared.pending=null}}while(!0);if(be===null&&(Z=je),P.baseState=Z,P.firstBaseUpdate=oe,P.lastBaseUpdate=be,d=P.shared.interleaved,d!==null){P=d;do B|=P.lane,P=P.next;while(P!==d)}else R===null&&(P.shared.lanes=0);Sc|=B,c.lanes=B,c.memoizedState=je}}function D2(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var _=c[d],P=_.callback;if(P!==null){if(_.callback=null,_=g,typeof P!="function")throw Error(r(191,P));P.call(_)}}}var kh={},Xa=Wo(kh),Ch=Wo(kh),Ih=Wo(kh);function wc(c){if(c===kh)throw Error(r(174));return c}function kw(c,d){switch(dr(Ih,d),dr(Ch,c),dr(Xa,kh),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Se(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Se(d,c)}yr(Xa),dr(Xa,d)}function td(){yr(Xa),yr(Ch),yr(Ih)}function L2(c){wc(Ih.current);var d=wc(Xa.current),g=Se(d,c.type);d!==g&&(dr(Ch,c),dr(Xa,g))}function Cw(c){Ch.current===c&&(yr(Xa),yr(Ch))}var Tr=Wo(0);function Xg(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Iw=[];function Ow(){for(var c=0;c<Iw.length;c++)Iw[c]._workInProgressVersionPrimary=null;Iw.length=0}var Jg=N.ReactCurrentDispatcher,Rw=N.ReactCurrentBatchConfig,_c=0,Pr=null,Yr=null,nn=null,Zg=!1,Oh=!1,Rh=0,WG=0;function jn(){throw Error(r(321))}function Mw(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!ya(c[g],d[g]))return!1;return!0}function Dw(c,d,g,_,P,R){if(_c=R,Pr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Jg.current=c===null||c.memoizedState===null?QG:XG,c=g(_,P),Oh){R=0;do{if(Oh=!1,Rh=0,25<=R)throw Error(r(301));R+=1,nn=Yr=null,d.updateQueue=null,Jg.current=JG,c=g(_,P)}while(Oh)}if(Jg.current=rv,d=Yr!==null&&Yr.next!==null,_c=0,nn=Yr=Pr=null,Zg=!1,d)throw Error(r(300));return c}function Lw(){var c=Rh!==0;return Rh=0,c}function Ja(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Pr.memoizedState=nn=c:nn=nn.next=c,nn}function Hi(){if(Yr===null){var c=Pr.alternate;c=c!==null?c.memoizedState:null}else c=Yr.next;var d=nn===null?Pr.memoizedState:nn.next;if(d!==null)nn=d,Yr=c;else{if(c===null)throw Error(r(310));Yr=c,c={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},nn===null?Pr.memoizedState=nn=c:nn=nn.next=c}return nn}function Mh(c,d){return typeof d=="function"?d(c):d}function $w(c){var d=Hi(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var _=Yr,P=_.baseQueue,R=g.pending;if(R!==null){if(P!==null){var B=P.next;P.next=R.next,R.next=B}_.baseQueue=P=R,g.pending=null}if(P!==null){R=P.next,_=_.baseState;var K=B=null,Z=null,oe=R;do{var be=oe.lane;if((_c&be)===be)Z!==null&&(Z=Z.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),_=oe.hasEagerState?oe.eagerState:c(_,oe.action);else{var je={lane:be,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Z===null?(K=Z=je,B=_):Z=Z.next=je,Pr.lanes|=be,Sc|=be}oe=oe.next}while(oe!==null&&oe!==R);Z===null?B=_:Z.next=K,ya(_,d.memoizedState)||(ti=!0),d.memoizedState=_,d.baseState=B,d.baseQueue=Z,g.lastRenderedState=_}if(c=g.interleaved,c!==null){P=c;do R=P.lane,Pr.lanes|=R,Sc|=R,P=P.next;while(P!==c)}else P===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function Fw(c){var d=Hi(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var _=g.dispatch,P=g.pending,R=d.memoizedState;if(P!==null){g.pending=null;var B=P=P.next;do R=c(R,B.action),B=B.next;while(B!==P);ya(R,d.memoizedState)||(ti=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),g.lastRenderedState=R}return[R,_]}function $2(){}function F2(c,d){var g=Pr,_=Hi(),P=d(),R=!ya(_.memoizedState,P);if(R&&(_.memoizedState=P,ti=!0),_=_.queue,Vw(U2.bind(null,g,_,c),[c]),_.getSnapshot!==d||R||nn!==null&&nn.memoizedState.tag&1){if(g.flags|=2048,Dh(9,B2.bind(null,g,_,P,d),void 0,null),an===null)throw Error(r(349));(_c&30)!==0||V2(g,d,P)}return P}function V2(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=Pr.updateQueue,d===null?(d={lastEffect:null,stores:null},Pr.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function B2(c,d,g,_){d.value=g,d.getSnapshot=_,z2(d)&&q2(c)}function U2(c,d,g){return g(function(){z2(d)&&q2(c)})}function z2(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!ya(c,g)}catch{return!0}}function q2(c){var d=zs(c,1);d!==null&&Sa(d,c,1,-1)}function H2(c){var d=Ja();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:c},d.queue=c,c=c.dispatch=YG.bind(null,Pr,c),[d.memoizedState,c]}function Dh(c,d,g,_){return c={tag:c,create:d,destroy:g,deps:_,next:null},d=Pr.updateQueue,d===null?(d={lastEffect:null,stores:null},Pr.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(_=g.next,g.next=c,c.next=_,d.lastEffect=c)),c}function W2(){return Hi().memoizedState}function ev(c,d,g,_){var P=Ja();Pr.flags|=c,P.memoizedState=Dh(1|d,g,void 0,_===void 0?null:_)}function tv(c,d,g,_){var P=Hi();_=_===void 0?null:_;var R=void 0;if(Yr!==null){var B=Yr.memoizedState;if(R=B.destroy,_!==null&&Mw(_,B.deps)){P.memoizedState=Dh(d,g,R,_);return}}Pr.flags|=c,P.memoizedState=Dh(1|d,g,R,_)}function G2(c,d){return ev(8390656,8,c,d)}function Vw(c,d){return tv(2048,8,c,d)}function K2(c,d){return tv(4,2,c,d)}function Y2(c,d){return tv(4,4,c,d)}function Q2(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function X2(c,d,g){return g=g!=null?g.concat([c]):null,tv(4,4,Q2.bind(null,d,c),g)}function Bw(){}function J2(c,d){var g=Hi();d=d===void 0?null:d;var _=g.memoizedState;return _!==null&&d!==null&&Mw(d,_[1])?_[0]:(g.memoizedState=[c,d],c)}function Z2(c,d){var g=Hi();d=d===void 0?null:d;var _=g.memoizedState;return _!==null&&d!==null&&Mw(d,_[1])?_[0]:(c=c(),g.memoizedState=[c,d],c)}function eI(c,d,g){return(_c&21)===0?(c.baseState&&(c.baseState=!1,ti=!0),c.memoizedState=g):(ya(g,d)||(g=dc(),Pr.lanes|=g,Sc|=g,c.baseState=!0),d)}function GG(c,d){var g=Mt;Mt=g!==0&&4>g?g:4,c(!0);var _=Rw.transition;Rw.transition={};try{c(!1),d()}finally{Mt=g,Rw.transition=_}}function tI(){return Hi().memoizedState}function KG(c,d,g){var _=el(c);if(g={lane:_,action:g,hasEagerState:!1,eagerState:null,next:null},rI(c))nI(d,g);else if(g=O2(c,d,g,_),g!==null){var P=Vn();Sa(g,c,_,P),iI(g,d,_)}}function YG(c,d,g){var _=el(c),P={lane:_,action:g,hasEagerState:!1,eagerState:null,next:null};if(rI(c))nI(d,P);else{var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var B=d.lastRenderedState,K=R(B,g);if(P.hasEagerState=!0,P.eagerState=K,ya(K,B)){var Z=d.interleaved;Z===null?(P.next=P,Tw(d)):(P.next=Z.next,Z.next=P),d.interleaved=P;return}}catch{}finally{}g=O2(c,d,P,_),g!==null&&(P=Vn(),Sa(g,c,_,P),iI(g,d,_))}}function rI(c){var d=c.alternate;return c===Pr||d!==null&&d===Pr}function nI(c,d){Oh=Zg=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function iI(c,d,g){if((g&4194240)!==0){var _=d.lanes;_&=c.pendingLanes,g|=_,d.lanes=g,Fo(c,g)}}var rv={readContext:qi,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},QG={readContext:qi,useCallback:function(c,d){return Ja().memoizedState=[c,d===void 0?null:d],c},useContext:qi,useEffect:G2,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,ev(4194308,4,Q2.bind(null,d,c),g)},useLayoutEffect:function(c,d){return ev(4194308,4,c,d)},useInsertionEffect:function(c,d){return ev(4,2,c,d)},useMemo:function(c,d){var g=Ja();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var _=Ja();return d=g!==void 0?g(d):d,_.memoizedState=_.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},_.queue=c,c=c.dispatch=KG.bind(null,Pr,c),[_.memoizedState,c]},useRef:function(c){var d=Ja();return c={current:c},d.memoizedState=c},useState:H2,useDebugValue:Bw,useDeferredValue:function(c){return Ja().memoizedState=c},useTransition:function(){var c=H2(!1),d=c[0];return c=GG.bind(null,c[1]),Ja().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var _=Pr,P=Ja();if(Nr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),an===null)throw Error(r(349));(_c&30)!==0||V2(_,d,g)}P.memoizedState=g;var R={value:g,getSnapshot:d};return P.queue=R,G2(U2.bind(null,_,R,c),[c]),_.flags|=2048,Dh(9,B2.bind(null,_,R,g,d),void 0,null),g},useId:function(){var c=Ja(),d=an.identifierPrefix;if(Nr){var g=Us,_=Bs;g=(_&~(1<<32-Ln(_)-1)).toString(32)+g,d=":"+d+"R"+g,g=Rh++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=WG++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},XG={readContext:qi,useCallback:J2,useContext:qi,useEffect:Vw,useImperativeHandle:X2,useInsertionEffect:K2,useLayoutEffect:Y2,useMemo:Z2,useReducer:$w,useRef:W2,useState:function(){return $w(Mh)},useDebugValue:Bw,useDeferredValue:function(c){var d=Hi();return eI(d,Yr.memoizedState,c)},useTransition:function(){var c=$w(Mh)[0],d=Hi().memoizedState;return[c,d]},useMutableSource:$2,useSyncExternalStore:F2,useId:tI,unstable_isNewReconciler:!1},JG={readContext:qi,useCallback:J2,useContext:qi,useEffect:Vw,useImperativeHandle:X2,useInsertionEffect:K2,useLayoutEffect:Y2,useMemo:Z2,useReducer:Fw,useRef:W2,useState:function(){return Fw(Mh)},useDebugValue:Bw,useDeferredValue:function(c){var d=Hi();return Yr===null?d.memoizedState=c:eI(d,Yr.memoizedState,c)},useTransition:function(){var c=Fw(Mh)[0],d=Hi().memoizedState;return[c,d]},useMutableSource:$2,useSyncExternalStore:F2,useId:tI,unstable_isNewReconciler:!1};function ba(c,d){if(c&&c.defaultProps){d=ee({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}function Uw(c,d,g,_){d=c.memoizedState,g=g(_,d),g=g==null?d:ee({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var nv={isMounted:function(c){return(c=c._reactInternals)?da(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var _=Vn(),P=el(c),R=qs(_,P);R.payload=d,g!=null&&(R.callback=g),d=Qo(c,R,P),d!==null&&(Sa(d,c,P,_),Yg(d,c,P))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var _=Vn(),P=el(c),R=qs(_,P);R.tag=1,R.payload=d,g!=null&&(R.callback=g),d=Qo(c,R,P),d!==null&&(Sa(d,c,P,_),Yg(d,c,P))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=Vn(),_=el(c),P=qs(g,_);P.tag=2,d!=null&&(P.callback=d),d=Qo(c,P,_),d!==null&&(Sa(d,c,_,g),Yg(d,c,_))}};function aI(c,d,g,_,P,R,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,R,B):d.prototype&&d.prototype.isPureReactComponent?!_h(g,_)||!_h(P,R):!0}function sI(c,d,g){var _=!1,P=Go,R=d.contextType;return typeof R=="object"&&R!==null?R=qi(R):(P=ei(d)?vc:Sn.current,_=d.contextTypes,R=(_=_!=null)?Ku(c,P):Go),d=new d(g,R),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nv,c.stateNode=d,d._reactInternals=c,_&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=P,c.__reactInternalMemoizedMaskedChildContext=R),d}function oI(c,d,g,_){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,_),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,_),d.state!==c&&nv.enqueueReplaceState(d,d.state,null)}function zw(c,d,g,_){var P=c.stateNode;P.props=g,P.state=c.memoizedState,P.refs={},Pw(c);var R=d.contextType;typeof R=="object"&&R!==null?P.context=qi(R):(R=ei(d)?vc:Sn.current,P.context=Ku(c,R)),P.state=c.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(Uw(c,d,R,g),P.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&nv.enqueueReplaceState(P,P.state,null),Qg(c,g,P,_),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308)}function rd(c,d){try{var g="",_=d;do g+=Ae(_),_=_.return;while(_);var P=g}catch(R){P=`
Error generating stack: `+R.message+`
`+R.stack}return{value:c,source:d,stack:P,digest:null}}function qw(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function Hw(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var ZG=typeof WeakMap=="function"?WeakMap:Map;function lI(c,d,g){g=qs(-1,g),g.tag=3,g.payload={element:null};var _=d.value;return g.callback=function(){uv||(uv=!0,s1=_),Hw(c,d)},g}function cI(c,d,g){g=qs(-1,g),g.tag=3;var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var P=d.value;g.payload=function(){return _(P)},g.callback=function(){Hw(c,d)}}var R=c.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(g.callback=function(){Hw(c,d),typeof _!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var B=d.stack;this.componentDidCatch(d.value,{componentStack:B!==null?B:""})}),g}function uI(c,d,g){var _=c.pingCache;if(_===null){_=c.pingCache=new ZG;var P=new Set;_.set(d,P)}else P=_.get(d),P===void 0&&(P=new Set,_.set(d,P));P.has(g)||(P.add(g),c=hK.bind(null,c,d,g),d.then(c,c))}function dI(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function fI(c,d,g,_,P){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=qs(-1,1),d.tag=2,Qo(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=P,c)}var eK=N.ReactCurrentOwner,ti=!1;function Fn(c,d,g,_){d.child=c===null?I2(d,null,g,_):Ju(d,c.child,g,_)}function hI(c,d,g,_,P){g=g.render;var R=d.ref;return ed(d,P),_=Dw(c,d,g,_,R,P),g=Lw(),c!==null&&!ti?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~P,Hs(c,d,P)):(Nr&&g&&xw(d),d.flags|=1,Fn(c,d,_,P),d.child)}function mI(c,d,g,_,P){if(c===null){var R=g.type;return typeof R=="function"&&!h1(R)&&R.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=R,pI(c,d,R,_,P)):(c=gv(g.type,null,_,d,d.mode,P),c.ref=d.ref,c.return=d,d.child=c)}if(R=c.child,(c.lanes&P)===0){var B=R.memoizedProps;if(g=g.compare,g=g!==null?g:_h,g(B,_)&&c.ref===d.ref)return Hs(c,d,P)}return d.flags|=1,c=rl(R,_),c.ref=d.ref,c.return=d,d.child=c}function pI(c,d,g,_,P){if(c!==null){var R=c.memoizedProps;if(_h(R,_)&&c.ref===d.ref)if(ti=!1,d.pendingProps=_=R,(c.lanes&P)!==0)(c.flags&131072)!==0&&(ti=!0);else return d.lanes=c.lanes,Hs(c,d,P)}return Ww(c,d,g,_,P)}function gI(c,d,g){var _=d.pendingProps,P=_.children,R=c!==null?c.memoizedState:null;if(_.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(id,wi),wi|=g;else{if((g&1073741824)===0)return c=R!==null?R.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,dr(id,wi),wi|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=R!==null?R.baseLanes:g,dr(id,wi),wi|=_}else R!==null?(_=R.baseLanes|g,d.memoizedState=null):_=g,dr(id,wi),wi|=_;return Fn(c,d,P,g),d.child}function vI(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Ww(c,d,g,_,P){var R=ei(g)?vc:Sn.current;return R=Ku(d,R),ed(d,P),g=Dw(c,d,g,_,R,P),_=Lw(),c!==null&&!ti?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~P,Hs(c,d,P)):(Nr&&_&&xw(d),d.flags|=1,Fn(c,d,g,P),d.child)}function yI(c,d,g,_,P){if(ei(g)){var R=!0;Bg(d)}else R=!1;if(ed(d,P),d.stateNode===null)av(c,d),sI(d,g,_),zw(d,g,_,P),_=!0;else if(c===null){var B=d.stateNode,K=d.memoizedProps;B.props=K;var Z=B.context,oe=g.contextType;typeof oe=="object"&&oe!==null?oe=qi(oe):(oe=ei(g)?vc:Sn.current,oe=Ku(d,oe));var be=g.getDerivedStateFromProps,je=typeof be=="function"||typeof B.getSnapshotBeforeUpdate=="function";je||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==_||Z!==oe)&&oI(d,B,_,oe),Yo=!1;var ye=d.memoizedState;B.state=ye,Qg(d,_,B,P),Z=d.memoizedState,K!==_||ye!==Z||Zn.current||Yo?(typeof be=="function"&&(Uw(d,g,be,_),Z=d.memoizedState),(K=Yo||aI(d,g,K,_,ye,Z,oe))?(je||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(d.flags|=4194308)):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=_,d.memoizedState=Z),B.props=_,B.state=Z,B.context=oe,_=K):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),_=!1)}else{B=d.stateNode,R2(c,d),K=d.memoizedProps,oe=d.type===d.elementType?K:ba(d.type,K),B.props=oe,je=d.pendingProps,ye=B.context,Z=g.contextType,typeof Z=="object"&&Z!==null?Z=qi(Z):(Z=ei(g)?vc:Sn.current,Z=Ku(d,Z));var Le=g.getDerivedStateFromProps;(be=typeof Le=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==je||ye!==Z)&&oI(d,B,_,Z),Yo=!1,ye=d.memoizedState,B.state=ye,Qg(d,_,B,P);var ze=d.memoizedState;K!==je||ye!==ze||Zn.current||Yo?(typeof Le=="function"&&(Uw(d,g,Le,_),ze=d.memoizedState),(oe=Yo||aI(d,g,oe,_,ye,ze,Z)||!1)?(be||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(_,ze,Z),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(_,ze,Z)),typeof B.componentDidUpdate=="function"&&(d.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof B.componentDidUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=1024),d.memoizedProps=_,d.memoizedState=ze),B.props=_,B.state=ze,B.context=Z,_=oe):(typeof B.componentDidUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ye===c.memoizedState||(d.flags|=1024),_=!1)}return Gw(c,d,g,_,R,P)}function Gw(c,d,g,_,P,R){vI(c,d);var B=(d.flags&128)!==0;if(!_&&!B)return P&&S2(d,g,!1),Hs(c,d,R);_=d.stateNode,eK.current=d;var K=B&&typeof g.getDerivedStateFromError!="function"?null:_.render();return d.flags|=1,c!==null&&B?(d.child=Ju(d,c.child,null,R),d.child=Ju(d,null,K,R)):Fn(c,d,K,R),d.memoizedState=_.state,P&&S2(d,g,!0),d.child}function xI(c){var d=c.stateNode;d.pendingContext?w2(c,d.pendingContext,d.pendingContext!==d.context):d.context&&w2(c,d.context,!1),kw(c,d.containerInfo)}function bI(c,d,g,_,P){return Xu(),Sw(P),d.flags|=256,Fn(c,d,g,_),d.child}var Kw={dehydrated:null,treeContext:null,retryLane:0};function Yw(c){return{baseLanes:c,cachePool:null,transitions:null}}function wI(c,d,g){var _=d.pendingProps,P=Tr.current,R=!1,B=(d.flags&128)!==0,K;if((K=B)||(K=c!==null&&c.memoizedState===null?!1:(P&2)!==0),K?(R=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(P|=1),dr(Tr,P&1),c===null)return _w(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(B=_.children,c=_.fallback,R?(_=d.mode,R=d.child,B={mode:"hidden",children:B},(_&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=B):R=vv(B,_,0,null),c=Ac(c,_,g,null),R.return=d,c.return=d,R.sibling=c,d.child=R,d.child.memoizedState=Yw(g),d.memoizedState=Kw,c):Qw(d,B));if(P=c.memoizedState,P!==null&&(K=P.dehydrated,K!==null))return tK(c,d,B,_,K,P,g);if(R){R=_.fallback,B=d.mode,P=c.child,K=P.sibling;var Z={mode:"hidden",children:_.children};return(B&1)===0&&d.child!==P?(_=d.child,_.childLanes=0,_.pendingProps=Z,d.deletions=null):(_=rl(P,Z),_.subtreeFlags=P.subtreeFlags&14680064),K!==null?R=rl(K,R):(R=Ac(R,B,g,null),R.flags|=2),R.return=d,_.return=d,_.sibling=R,d.child=_,_=R,R=d.child,B=c.child.memoizedState,B=B===null?Yw(g):{baseLanes:B.baseLanes|g,cachePool:null,transitions:B.transitions},R.memoizedState=B,R.childLanes=c.childLanes&~g,d.memoizedState=Kw,_}return R=c.child,c=R.sibling,_=rl(R,{mode:"visible",children:_.children}),(d.mode&1)===0&&(_.lanes=g),_.return=d,_.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=_,d.memoizedState=null,_}function Qw(c,d){return d=vv({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function iv(c,d,g,_){return _!==null&&Sw(_),Ju(d,c.child,null,g),c=Qw(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function tK(c,d,g,_,P,R,B){if(g)return d.flags&256?(d.flags&=-257,_=qw(Error(r(422))),iv(c,d,B,_)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(R=_.fallback,P=d.mode,_=vv({mode:"visible",children:_.children},P,0,null),R=Ac(R,P,B,null),R.flags|=2,_.return=d,R.return=d,_.sibling=R,d.child=_,(d.mode&1)!==0&&Ju(d,c.child,null,B),d.child.memoizedState=Yw(B),d.memoizedState=Kw,R);if((d.mode&1)===0)return iv(c,d,B,null);if(P.data==="$!"){if(_=P.nextSibling&&P.nextSibling.dataset,_)var K=_.dgst;return _=K,R=Error(r(419)),_=qw(R,_,void 0),iv(c,d,B,_)}if(K=(B&c.childLanes)!==0,ti||K){if(_=an,_!==null){switch(B&-B){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(_.suspendedLanes|B))!==0?0:P,P!==0&&P!==R.retryLane&&(R.retryLane=P,zs(c,P),Sa(_,c,P,-1))}return f1(),_=qw(Error(r(421))),iv(c,d,B,_)}return P.data==="$?"?(d.flags|=128,d.child=c.child,d=mK.bind(null,c),P._reactRetry=d,null):(c=R.treeContext,bi=Ho(P.nextSibling),xi=d,Nr=!0,xa=null,c!==null&&(Ui[zi++]=Bs,Ui[zi++]=Us,Ui[zi++]=yc,Bs=c.id,Us=c.overflow,yc=d),d=Qw(d,_.children),d.flags|=4096,d)}function _I(c,d,g){c.lanes|=d;var _=c.alternate;_!==null&&(_.lanes|=d),Aw(c.return,d,g)}function Xw(c,d,g,_,P){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:_,tail:g,tailMode:P}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=_,R.tail=g,R.tailMode=P)}function SI(c,d,g){var _=d.pendingProps,P=_.revealOrder,R=_.tail;if(Fn(c,d,_.children,g),_=Tr.current,(_&2)!==0)_=_&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_I(c,g,d);else if(c.tag===19)_I(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}_&=1}if(dr(Tr,_),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(g=d.child,P=null;g!==null;)c=g.alternate,c!==null&&Xg(c)===null&&(P=g),g=g.sibling;g=P,g===null?(P=d.child,d.child=null):(P=g.sibling,g.sibling=null),Xw(d,!1,P,g,R);break;case"backwards":for(g=null,P=d.child,d.child=null;P!==null;){if(c=P.alternate,c!==null&&Xg(c)===null){d.child=P;break}c=P.sibling,P.sibling=g,g=P,P=c}Xw(d,!0,g,null,R);break;case"together":Xw(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function av(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Hs(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),Sc|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,g=rl(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=rl(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function rK(c,d,g){switch(d.tag){case 3:xI(d),Xu();break;case 5:L2(d);break;case 1:ei(d.type)&&Bg(d);break;case 4:kw(d,d.stateNode.containerInfo);break;case 10:var _=d.type._context,P=d.memoizedProps.value;dr(Gg,_._currentValue),_._currentValue=P;break;case 13:if(_=d.memoizedState,_!==null)return _.dehydrated!==null?(dr(Tr,Tr.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?wI(c,d,g):(dr(Tr,Tr.current&1),c=Hs(c,d,g),c!==null?c.sibling:null);dr(Tr,Tr.current&1);break;case 19:if(_=(g&d.childLanes)!==0,(c.flags&128)!==0){if(_)return SI(c,d,g);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),dr(Tr,Tr.current),_)break;return null;case 22:case 23:return d.lanes=0,gI(c,d,g)}return Hs(c,d,g)}var jI,Jw,NI,EI;jI=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Jw=function(){},NI=function(c,d,g,_){var P=c.memoizedProps;if(P!==_){c=d.stateNode,wc(Xa.current);var R=null;switch(g){case"input":P=Ke(c,P),_=Ke(c,_),R=[];break;case"select":P=ee({},P,{value:void 0}),_=ee({},_,{value:void 0}),R=[];break;case"textarea":P=Ze(c,P),_=Ze(c,_),R=[];break;default:typeof P.onClick!="function"&&typeof _.onClick=="function"&&(c.onclick=$g)}fn(g,_);var B;g=null;for(oe in P)if(!_.hasOwnProperty(oe)&&P.hasOwnProperty(oe)&&P[oe]!=null)if(oe==="style"){var K=P[oe];for(B in K)K.hasOwnProperty(B)&&(g||(g={}),g[B]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?R||(R=[]):(R=R||[]).push(oe,null));for(oe in _){var Z=_[oe];if(K=P!=null?P[oe]:void 0,_.hasOwnProperty(oe)&&Z!==K&&(Z!=null||K!=null))if(oe==="style")if(K){for(B in K)!K.hasOwnProperty(B)||Z&&Z.hasOwnProperty(B)||(g||(g={}),g[B]="");for(B in Z)Z.hasOwnProperty(B)&&K[B]!==Z[B]&&(g||(g={}),g[B]=Z[B])}else g||(R||(R=[]),R.push(oe,g)),g=Z;else oe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(R=R||[]).push(oe,Z)):oe==="children"?typeof Z!="string"&&typeof Z!="number"||(R=R||[]).push(oe,""+Z):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(Z!=null&&oe==="onScroll"&&vr("scroll",c),R||K===Z||(R=[])):(R=R||[]).push(oe,Z))}g&&(R=R||[]).push("style",g);var oe=R;(d.updateQueue=oe)&&(d.flags|=4)}},EI=function(c,d,g,_){g!==_&&(d.flags|=4)};function Lh(c,d){if(!Nr)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function Nn(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,_=0;if(d)for(var P=c.child;P!==null;)g|=P.lanes|P.childLanes,_|=P.subtreeFlags&14680064,_|=P.flags&14680064,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)g|=P.lanes|P.childLanes,_|=P.subtreeFlags,_|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=_,c.childLanes=g,d}function nK(c,d,g){var _=d.pendingProps;switch(bw(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(d),null;case 1:return ei(d.type)&&Vg(),Nn(d),null;case 3:return _=d.stateNode,td(),yr(Zn),yr(Sn),Ow(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(c===null||c.child===null)&&(Hg(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,xa!==null&&(c1(xa),xa=null))),Jw(c,d),Nn(d),null;case 5:Cw(d);var P=wc(Ih.current);if(g=d.type,c!==null&&d.stateNode!=null)NI(c,d,g,_,P),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!_){if(d.stateNode===null)throw Error(r(166));return Nn(d),null}if(c=wc(Xa.current),Hg(d)){_=d.stateNode,g=d.type;var R=d.memoizedProps;switch(_[Qa]=d,_[Ah]=R,c=(d.mode&1)!==0,g){case"dialog":vr("cancel",_),vr("close",_);break;case"iframe":case"object":case"embed":vr("load",_);break;case"video":case"audio":for(P=0;P<jh.length;P++)vr(jh[P],_);break;case"source":vr("error",_);break;case"img":case"image":case"link":vr("error",_),vr("load",_);break;case"details":vr("toggle",_);break;case"input":ut(_,R),vr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!R.multiple},vr("invalid",_);break;case"textarea":rt(_,R),vr("invalid",_)}fn(g,R),P=null;for(var B in R)if(R.hasOwnProperty(B)){var K=R[B];B==="children"?typeof K=="string"?_.textContent!==K&&(R.suppressHydrationWarning!==!0&&Lg(_.textContent,K,c),P=["children",K]):typeof K=="number"&&_.textContent!==""+K&&(R.suppressHydrationWarning!==!0&&Lg(_.textContent,K,c),P=["children",""+K]):i.hasOwnProperty(B)&&K!=null&&B==="onScroll"&&vr("scroll",_)}switch(g){case"input":_e(_),lr(_,R,!0);break;case"textarea":_e(_),Ie(_);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(_.onclick=$g)}_=P,d.updateQueue=_,_!==null&&(d.flags|=4)}else{B=P.nodeType===9?P:P.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=De(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=B.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof _.is=="string"?c=B.createElement(g,{is:_.is}):(c=B.createElement(g),g==="select"&&(B=c,_.multiple?B.multiple=!0:_.size&&(B.size=_.size))):c=B.createElementNS(c,g),c[Qa]=d,c[Ah]=_,jI(c,d,!1,!1),d.stateNode=c;e:{switch(B=Os(g,_),g){case"dialog":vr("cancel",c),vr("close",c),P=_;break;case"iframe":case"object":case"embed":vr("load",c),P=_;break;case"video":case"audio":for(P=0;P<jh.length;P++)vr(jh[P],c);P=_;break;case"source":vr("error",c),P=_;break;case"img":case"image":case"link":vr("error",c),vr("load",c),P=_;break;case"details":vr("toggle",c),P=_;break;case"input":ut(c,_),P=Ke(c,_),vr("invalid",c);break;case"option":P=_;break;case"select":c._wrapperState={wasMultiple:!!_.multiple},P=ee({},_,{value:void 0}),vr("invalid",c);break;case"textarea":rt(c,_),P=Ze(c,_),vr("invalid",c);break;default:P=_}fn(g,P),K=P;for(R in K)if(K.hasOwnProperty(R)){var Z=K[R];R==="style"?Is(c,Z):R==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&kt(c,Z)):R==="children"?typeof Z=="string"?(g!=="textarea"||Z!=="")&&pr(c,Z):typeof Z=="number"&&pr(c,""+Z):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?Z!=null&&R==="onScroll"&&vr("scroll",c):Z!=null&&j(c,R,Z,B))}switch(g){case"input":_e(c),lr(c,_,!1);break;case"textarea":_e(c),Ie(c);break;case"option":_.value!=null&&c.setAttribute("value",""+Pe(_.value));break;case"select":c.multiple=!!_.multiple,R=_.value,R!=null?Oe(c,!!_.multiple,R,!1):_.defaultValue!=null&&Oe(c,!!_.multiple,_.defaultValue,!0);break;default:typeof P.onClick=="function"&&(c.onclick=$g)}switch(g){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Nn(d),null;case 6:if(c&&d.stateNode!=null)EI(c,d,c.memoizedProps,_);else{if(typeof _!="string"&&d.stateNode===null)throw Error(r(166));if(g=wc(Ih.current),wc(Xa.current),Hg(d)){if(_=d.stateNode,g=d.memoizedProps,_[Qa]=d,(R=_.nodeValue!==g)&&(c=xi,c!==null))switch(c.tag){case 3:Lg(_.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Lg(_.nodeValue,g,(c.mode&1)!==0)}R&&(d.flags|=4)}else _=(g.nodeType===9?g:g.ownerDocument).createTextNode(_),_[Qa]=d,d.stateNode=_}return Nn(d),null;case 13:if(yr(Tr),_=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Nr&&bi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)P2(),Xu(),d.flags|=98560,R=!1;else if(R=Hg(d),_!==null&&_.dehydrated!==null){if(c===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Qa]=d}else Xu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Nn(d),R=!1}else xa!==null&&(c1(xa),xa=null),R=!0;if(!R)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(_=_!==null,_!==(c!==null&&c.memoizedState!==null)&&_&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Tr.current&1)!==0?Qr===0&&(Qr=3):f1())),d.updateQueue!==null&&(d.flags|=4),Nn(d),null);case 4:return td(),Jw(c,d),c===null&&Nh(d.stateNode.containerInfo),Nn(d),null;case 10:return Ew(d.type._context),Nn(d),null;case 17:return ei(d.type)&&Vg(),Nn(d),null;case 19:if(yr(Tr),R=d.memoizedState,R===null)return Nn(d),null;if(_=(d.flags&128)!==0,B=R.rendering,B===null)if(_)Lh(R,!1);else{if(Qr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(B=Xg(c),B!==null){for(d.flags|=128,Lh(R,!1),_=B.updateQueue,_!==null&&(d.updateQueue=_,d.flags|=4),d.subtreeFlags=0,_=g,g=d.child;g!==null;)R=g,c=_,R.flags&=14680066,B=R.alternate,B===null?(R.childLanes=0,R.lanes=c,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=B.childLanes,R.lanes=B.lanes,R.child=B.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=B.memoizedProps,R.memoizedState=B.memoizedState,R.updateQueue=B.updateQueue,R.type=B.type,c=B.dependencies,R.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return dr(Tr,Tr.current&1|2),d.child}c=c.sibling}R.tail!==null&&ur()>ad&&(d.flags|=128,_=!0,Lh(R,!1),d.lanes=4194304)}else{if(!_)if(c=Xg(B),c!==null){if(d.flags|=128,_=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Lh(R,!0),R.tail===null&&R.tailMode==="hidden"&&!B.alternate&&!Nr)return Nn(d),null}else 2*ur()-R.renderingStartTime>ad&&g!==1073741824&&(d.flags|=128,_=!0,Lh(R,!1),d.lanes=4194304);R.isBackwards?(B.sibling=d.child,d.child=B):(g=R.last,g!==null?g.sibling=B:d.child=B,R.last=B)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=ur(),d.sibling=null,g=Tr.current,dr(Tr,_?g&1|2:g&1),d):(Nn(d),null);case 22:case 23:return d1(),_=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==_&&(d.flags|=8192),_&&(d.mode&1)!==0?(wi&1073741824)!==0&&(Nn(d),d.subtreeFlags&6&&(d.flags|=8192)):Nn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function iK(c,d){switch(bw(d),d.tag){case 1:return ei(d.type)&&Vg(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return td(),yr(Zn),yr(Sn),Ow(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return Cw(d),null;case 13:if(yr(Tr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Xu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return yr(Tr),null;case 4:return td(),null;case 10:return Ew(d.type._context),null;case 22:case 23:return d1(),null;case 24:return null;default:return null}}var sv=!1,En=!1,aK=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function nd(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(_){Or(c,d,_)}else g.current=null}function Zw(c,d,g){try{g()}catch(_){Or(c,d,_)}}var AI=!1;function sK(c,d){if(dw=Uo,c=a2(),nw(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var _=g.getSelection&&g.getSelection();if(_&&_.rangeCount!==0){g=_.anchorNode;var P=_.anchorOffset,R=_.focusNode;_=_.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var B=0,K=-1,Z=-1,oe=0,be=0,je=c,ye=null;t:for(;;){for(var Le;je!==g||P!==0&&je.nodeType!==3||(K=B+P),je!==R||_!==0&&je.nodeType!==3||(Z=B+_),je.nodeType===3&&(B+=je.nodeValue.length),(Le=je.firstChild)!==null;)ye=je,je=Le;for(;;){if(je===c)break t;if(ye===g&&++oe===P&&(K=B),ye===R&&++be===_&&(Z=B),(Le=je.nextSibling)!==null)break;je=ye,ye=je.parentNode}je=Le}g=K===-1||Z===-1?null:{start:K,end:Z}}else g=null}g=g||{start:0,end:0}}else g=null;for(fw={focusedElem:c,selectionRange:g},Uo=!1,Ve=d;Ve!==null;)if(d=Ve,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ve=c;else for(;Ve!==null;){d=Ve;try{var ze=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var qe=ze.memoizedProps,Lr=ze.memoizedState,ie=d.stateNode,te=ie.getSnapshotBeforeUpdate(d.elementType===d.type?qe:ba(d.type,qe),Lr);ie.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ae=d.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){Or(d,d.return,Ee)}if(c=d.sibling,c!==null){c.return=d.return,Ve=c;break}Ve=d.return}return ze=AI,AI=!1,ze}function $h(c,d,g){var _=d.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var P=_=_.next;do{if((P.tag&c)===c){var R=P.destroy;P.destroy=void 0,R!==void 0&&Zw(d,g,R)}P=P.next}while(P!==_)}}function ov(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var _=g.create;g.destroy=_()}g=g.next}while(g!==d)}}function e1(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function TI(c){var d=c.alternate;d!==null&&(c.alternate=null,TI(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Qa],delete d[Ah],delete d[gw],delete d[UG],delete d[zG])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function PI(c){return c.tag===5||c.tag===3||c.tag===4}function kI(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||PI(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function t1(c,d,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=$g));else if(_!==4&&(c=c.child,c!==null))for(t1(c,d,g),c=c.sibling;c!==null;)t1(c,d,g),c=c.sibling}function r1(c,d,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(_!==4&&(c=c.child,c!==null))for(r1(c,d,g),c=c.sibling;c!==null;)r1(c,d,g),c=c.sibling}var pn=null,wa=!1;function Xo(c,d,g){for(g=g.child;g!==null;)CI(c,d,g),g=g.sibling}function CI(c,d,g){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(cc,g)}catch{}switch(g.tag){case 5:En||nd(g,d);case 6:var _=pn,P=wa;pn=null,Xo(c,d,g),pn=_,wa=P,pn!==null&&(wa?(c=pn,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):pn.removeChild(g.stateNode));break;case 18:pn!==null&&(wa?(c=pn,g=g.stateNode,c.nodeType===8?pw(c.parentNode,g):c.nodeType===1&&pw(c,g),ga(c)):pw(pn,g.stateNode));break;case 4:_=pn,P=wa,pn=g.stateNode.containerInfo,wa=!0,Xo(c,d,g),pn=_,wa=P;break;case 0:case 11:case 14:case 15:if(!En&&(_=g.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){P=_=_.next;do{var R=P,B=R.destroy;R=R.tag,B!==void 0&&((R&2)!==0||(R&4)!==0)&&Zw(g,d,B),P=P.next}while(P!==_)}Xo(c,d,g);break;case 1:if(!En&&(nd(g,d),_=g.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=g.memoizedProps,_.state=g.memoizedState,_.componentWillUnmount()}catch(K){Or(g,d,K)}Xo(c,d,g);break;case 21:Xo(c,d,g);break;case 22:g.mode&1?(En=(_=En)||g.memoizedState!==null,Xo(c,d,g),En=_):Xo(c,d,g);break;default:Xo(c,d,g)}}function II(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new aK),d.forEach(function(_){var P=pK.bind(null,c,_);g.has(_)||(g.add(_),_.then(P,P))})}}function _a(c,d){var g=d.deletions;if(g!==null)for(var _=0;_<g.length;_++){var P=g[_];try{var R=c,B=d,K=B;e:for(;K!==null;){switch(K.tag){case 5:pn=K.stateNode,wa=!1;break e;case 3:pn=K.stateNode.containerInfo,wa=!0;break e;case 4:pn=K.stateNode.containerInfo,wa=!0;break e}K=K.return}if(pn===null)throw Error(r(160));CI(R,B,P),pn=null,wa=!1;var Z=P.alternate;Z!==null&&(Z.return=null),P.return=null}catch(oe){Or(P,d,oe)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)OI(d,c),d=d.sibling}function OI(c,d){var g=c.alternate,_=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(_a(d,c),Za(c),_&4){try{$h(3,c,c.return),ov(3,c)}catch(qe){Or(c,c.return,qe)}try{$h(5,c,c.return)}catch(qe){Or(c,c.return,qe)}}break;case 1:_a(d,c),Za(c),_&512&&g!==null&&nd(g,g.return);break;case 5:if(_a(d,c),Za(c),_&512&&g!==null&&nd(g,g.return),c.flags&32){var P=c.stateNode;try{pr(P,"")}catch(qe){Or(c,c.return,qe)}}if(_&4&&(P=c.stateNode,P!=null)){var R=c.memoizedProps,B=g!==null?g.memoizedProps:R,K=c.type,Z=c.updateQueue;if(c.updateQueue=null,Z!==null)try{K==="input"&&R.type==="radio"&&R.name!=null&&st(P,R),Os(K,B);var oe=Os(K,R);for(B=0;B<Z.length;B+=2){var be=Z[B],je=Z[B+1];be==="style"?Is(P,je):be==="dangerouslySetInnerHTML"?kt(P,je):be==="children"?pr(P,je):j(P,be,je,oe)}switch(K){case"input":mt(P,R);break;case"textarea":$t(P,R);break;case"select":var ye=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!R.multiple;var Le=R.value;Le!=null?Oe(P,!!R.multiple,Le,!1):ye!==!!R.multiple&&(R.defaultValue!=null?Oe(P,!!R.multiple,R.defaultValue,!0):Oe(P,!!R.multiple,R.multiple?[]:"",!1))}P[Ah]=R}catch(qe){Or(c,c.return,qe)}}break;case 6:if(_a(d,c),Za(c),_&4){if(c.stateNode===null)throw Error(r(162));P=c.stateNode,R=c.memoizedProps;try{P.nodeValue=R}catch(qe){Or(c,c.return,qe)}}break;case 3:if(_a(d,c),Za(c),_&4&&g!==null&&g.memoizedState.isDehydrated)try{ga(d.containerInfo)}catch(qe){Or(c,c.return,qe)}break;case 4:_a(d,c),Za(c);break;case 13:_a(d,c),Za(c),P=c.child,P.flags&8192&&(R=P.memoizedState!==null,P.stateNode.isHidden=R,!R||P.alternate!==null&&P.alternate.memoizedState!==null||(a1=ur())),_&4&&II(c);break;case 22:if(be=g!==null&&g.memoizedState!==null,c.mode&1?(En=(oe=En)||be,_a(d,c),En=oe):_a(d,c),Za(c),_&8192){if(oe=c.memoizedState!==null,(c.stateNode.isHidden=oe)&&!be&&(c.mode&1)!==0)for(Ve=c,be=c.child;be!==null;){for(je=Ve=be;Ve!==null;){switch(ye=Ve,Le=ye.child,ye.tag){case 0:case 11:case 14:case 15:$h(4,ye,ye.return);break;case 1:nd(ye,ye.return);var ze=ye.stateNode;if(typeof ze.componentWillUnmount=="function"){_=ye,g=ye.return;try{d=_,ze.props=d.memoizedProps,ze.state=d.memoizedState,ze.componentWillUnmount()}catch(qe){Or(_,g,qe)}}break;case 5:nd(ye,ye.return);break;case 22:if(ye.memoizedState!==null){DI(je);continue}}Le!==null?(Le.return=ye,Ve=Le):DI(je)}be=be.sibling}e:for(be=null,je=c;;){if(je.tag===5){if(be===null){be=je;try{P=je.stateNode,oe?(R=P.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(K=je.stateNode,Z=je.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=qa("display",B))}catch(qe){Or(c,c.return,qe)}}}else if(je.tag===6){if(be===null)try{je.stateNode.nodeValue=oe?"":je.memoizedProps}catch(qe){Or(c,c.return,qe)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===c)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===c)break e;for(;je.sibling===null;){if(je.return===null||je.return===c)break e;be===je&&(be=null),je=je.return}be===je&&(be=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:_a(d,c),Za(c),_&4&&II(c);break;case 21:break;default:_a(d,c),Za(c)}}function Za(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(PI(g)){var _=g;break e}g=g.return}throw Error(r(160))}switch(_.tag){case 5:var P=_.stateNode;_.flags&32&&(pr(P,""),_.flags&=-33);var R=kI(c);r1(c,R,P);break;case 3:case 4:var B=_.stateNode.containerInfo,K=kI(c);t1(c,K,B);break;default:throw Error(r(161))}}catch(Z){Or(c,c.return,Z)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function oK(c,d,g){Ve=c,RI(c)}function RI(c,d,g){for(var _=(c.mode&1)!==0;Ve!==null;){var P=Ve,R=P.child;if(P.tag===22&&_){var B=P.memoizedState!==null||sv;if(!B){var K=P.alternate,Z=K!==null&&K.memoizedState!==null||En;K=sv;var oe=En;if(sv=B,(En=Z)&&!oe)for(Ve=P;Ve!==null;)B=Ve,Z=B.child,B.tag===22&&B.memoizedState!==null?LI(P):Z!==null?(Z.return=B,Ve=Z):LI(P);for(;R!==null;)Ve=R,RI(R),R=R.sibling;Ve=P,sv=K,En=oe}MI(c)}else(P.subtreeFlags&8772)!==0&&R!==null?(R.return=P,Ve=R):MI(c)}}function MI(c){for(;Ve!==null;){var d=Ve;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:En||ov(5,d);break;case 1:var _=d.stateNode;if(d.flags&4&&!En)if(g===null)_.componentDidMount();else{var P=d.elementType===d.type?g.memoizedProps:ba(d.type,g.memoizedProps);_.componentDidUpdate(P,g.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&D2(d,R,_);break;case 3:var B=d.updateQueue;if(B!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}D2(d,B,g)}break;case 5:var K=d.stateNode;if(g===null&&d.flags&4){g=K;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&g.focus();break;case"img":Z.src&&(g.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var oe=d.alternate;if(oe!==null){var be=oe.memoizedState;if(be!==null){var je=be.dehydrated;je!==null&&ga(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}En||d.flags&512&&e1(d)}catch(ye){Or(d,d.return,ye)}}if(d===c){Ve=null;break}if(g=d.sibling,g!==null){g.return=d.return,Ve=g;break}Ve=d.return}}function DI(c){for(;Ve!==null;){var d=Ve;if(d===c){Ve=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Ve=g;break}Ve=d.return}}function LI(c){for(;Ve!==null;){var d=Ve;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{ov(4,d)}catch(Z){Or(d,g,Z)}break;case 1:var _=d.stateNode;if(typeof _.componentDidMount=="function"){var P=d.return;try{_.componentDidMount()}catch(Z){Or(d,P,Z)}}var R=d.return;try{e1(d)}catch(Z){Or(d,R,Z)}break;case 5:var B=d.return;try{e1(d)}catch(Z){Or(d,B,Z)}}}catch(Z){Or(d,d.return,Z)}if(d===c){Ve=null;break}var K=d.sibling;if(K!==null){K.return=d.return,Ve=K;break}Ve=d.return}}var lK=Math.ceil,lv=N.ReactCurrentDispatcher,n1=N.ReactCurrentOwner,Wi=N.ReactCurrentBatchConfig,zt=0,an=null,Br=null,gn=0,wi=0,id=Wo(0),Qr=0,Fh=null,Sc=0,cv=0,i1=0,Vh=null,ri=null,a1=0,ad=1/0,Ws=null,uv=!1,s1=null,Jo=null,dv=!1,Zo=null,fv=0,Bh=0,o1=null,hv=-1,mv=0;function Vn(){return(zt&6)!==0?ur():hv!==-1?hv:hv=ur()}function el(c){return(c.mode&1)===0?1:(zt&2)!==0&&gn!==0?gn&-gn:HG.transition!==null?(mv===0&&(mv=dc()),mv):(c=Mt,c!==0||(c=window.event,c=c===void 0?16:ph(c.type)),c)}function Sa(c,d,g,_){if(50<Bh)throw Bh=0,o1=null,Error(r(185));$o(c,g,_),((zt&2)===0||c!==an)&&(c===an&&((zt&2)===0&&(cv|=g),Qr===4&&tl(c,gn)),ni(c,_),g===1&&zt===0&&(d.mode&1)===0&&(ad=ur()+500,Ug&&Ko()))}function ni(c,d){var g=c.callbackNode;Rs(c,d);var _=uc(c,c===an?gn:0);if(_===0)g!==null&&uh(g),c.callbackNode=null,c.callbackPriority=0;else if(d=_&-_,c.callbackPriority!==d){if(g!=null&&uh(g),d===1)c.tag===0?qG(FI.bind(null,c)):j2(FI.bind(null,c)),VG(function(){(zt&6)===0&&Ko()}),g=null;else{switch(Vo(_)){case 1:g=lc;break;case 4:g=Mo;break;case 16:g=Fi;break;case 536870912:g=mg;break;default:g=Fi}g=GI(g,$I.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function $I(c,d){if(hv=-1,mv=0,(zt&6)!==0)throw Error(r(327));var g=c.callbackNode;if(sd()&&c.callbackNode!==g)return null;var _=uc(c,c===an?gn:0);if(_===0)return null;if((_&30)!==0||(_&c.expiredLanes)!==0||d)d=pv(c,_);else{d=_;var P=zt;zt|=2;var R=BI();(an!==c||gn!==d)&&(Ws=null,ad=ur()+500,Nc(c,d));do try{dK();break}catch(K){VI(c,K)}while(!0);Nw(),lv.current=R,zt=P,Br!==null?d=0:(an=null,gn=0,d=Qr)}if(d!==0){if(d===2&&(P=gi(c),P!==0&&(_=P,d=l1(c,P))),d===1)throw g=Fh,Nc(c,0),tl(c,_),ni(c,ur()),g;if(d===6)tl(c,_);else{if(P=c.current.alternate,(_&30)===0&&!cK(P)&&(d=pv(c,_),d===2&&(R=gi(c),R!==0&&(_=R,d=l1(c,R))),d===1))throw g=Fh,Nc(c,0),tl(c,_),ni(c,ur()),g;switch(c.finishedWork=P,c.finishedLanes=_,d){case 0:case 1:throw Error(r(345));case 2:Ec(c,ri,Ws);break;case 3:if(tl(c,_),(_&130023424)===_&&(d=a1+500-ur(),10<d)){if(uc(c,0)!==0)break;if(P=c.suspendedLanes,(P&_)!==_){Vn(),c.pingedLanes|=c.suspendedLanes&P;break}c.timeoutHandle=mw(Ec.bind(null,c,ri,Ws),d);break}Ec(c,ri,Ws);break;case 4:if(tl(c,_),(_&4194240)===_)break;for(d=c.eventTimes,P=-1;0<_;){var B=31-Ln(_);R=1<<B,B=d[B],B>P&&(P=B),_&=~R}if(_=P,_=ur()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*lK(_/1960))-_,10<_){c.timeoutHandle=mw(Ec.bind(null,c,ri,Ws),_);break}Ec(c,ri,Ws);break;case 5:Ec(c,ri,Ws);break;default:throw Error(r(329))}}}return ni(c,ur()),c.callbackNode===g?$I.bind(null,c):null}function l1(c,d){var g=Vh;return c.current.memoizedState.isDehydrated&&(Nc(c,d).flags|=256),c=pv(c,d),c!==2&&(d=ri,ri=g,d!==null&&c1(d)),c}function c1(c){ri===null?ri=c:ri.push.apply(ri,c)}function cK(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var _=0;_<g.length;_++){var P=g[_],R=P.getSnapshot;P=P.value;try{if(!ya(R(),P))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function tl(c,d){for(d&=~i1,d&=~cv,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-Ln(d),_=1<<g;c[g]=-1,d&=~_}}function FI(c){if((zt&6)!==0)throw Error(r(327));sd();var d=uc(c,0);if((d&1)===0)return ni(c,ur()),null;var g=pv(c,d);if(c.tag!==0&&g===2){var _=gi(c);_!==0&&(d=_,g=l1(c,_))}if(g===1)throw g=Fh,Nc(c,0),tl(c,d),ni(c,ur()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Ec(c,ri,Ws),ni(c,ur()),null}function u1(c,d){var g=zt;zt|=1;try{return c(d)}finally{zt=g,zt===0&&(ad=ur()+500,Ug&&Ko())}}function jc(c){Zo!==null&&Zo.tag===0&&(zt&6)===0&&sd();var d=zt;zt|=1;var g=Wi.transition,_=Mt;try{if(Wi.transition=null,Mt=1,c)return c()}finally{Mt=_,Wi.transition=g,zt=d,(zt&6)===0&&Ko()}}function d1(){wi=id.current,yr(id)}function Nc(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,FG(g)),Br!==null)for(g=Br.return;g!==null;){var _=g;switch(bw(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Vg();break;case 3:td(),yr(Zn),yr(Sn),Ow();break;case 5:Cw(_);break;case 4:td();break;case 13:yr(Tr);break;case 19:yr(Tr);break;case 10:Ew(_.type._context);break;case 22:case 23:d1()}g=g.return}if(an=c,Br=c=rl(c.current,null),gn=wi=d,Qr=0,Fh=null,i1=cv=Sc=0,ri=Vh=null,bc!==null){for(d=0;d<bc.length;d++)if(g=bc[d],_=g.interleaved,_!==null){g.interleaved=null;var P=_.next,R=g.pending;if(R!==null){var B=R.next;R.next=P,_.next=B}g.pending=_}bc=null}return c}function VI(c,d){do{var g=Br;try{if(Nw(),Jg.current=rv,Zg){for(var _=Pr.memoizedState;_!==null;){var P=_.queue;P!==null&&(P.pending=null),_=_.next}Zg=!1}if(_c=0,nn=Yr=Pr=null,Oh=!1,Rh=0,n1.current=null,g===null||g.return===null){Qr=1,Fh=d,Br=null;break}e:{var R=c,B=g.return,K=g,Z=d;if(d=gn,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var oe=Z,be=K,je=be.tag;if((be.mode&1)===0&&(je===0||je===11||je===15)){var ye=be.alternate;ye?(be.updateQueue=ye.updateQueue,be.memoizedState=ye.memoizedState,be.lanes=ye.lanes):(be.updateQueue=null,be.memoizedState=null)}var Le=dI(B);if(Le!==null){Le.flags&=-257,fI(Le,B,K,R,d),Le.mode&1&&uI(R,oe,d),d=Le,Z=oe;var ze=d.updateQueue;if(ze===null){var qe=new Set;qe.add(Z),d.updateQueue=qe}else ze.add(Z);break e}else{if((d&1)===0){uI(R,oe,d),f1();break e}Z=Error(r(426))}}else if(Nr&&K.mode&1){var Lr=dI(B);if(Lr!==null){(Lr.flags&65536)===0&&(Lr.flags|=256),fI(Lr,B,K,R,d),Sw(rd(Z,K));break e}}R=Z=rd(Z,K),Qr!==4&&(Qr=2),Vh===null?Vh=[R]:Vh.push(R),R=B;do{switch(R.tag){case 3:R.flags|=65536,d&=-d,R.lanes|=d;var ie=lI(R,Z,d);M2(R,ie);break e;case 1:K=Z;var te=R.type,ae=R.stateNode;if((R.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Jo===null||!Jo.has(ae)))){R.flags|=65536,d&=-d,R.lanes|=d;var Ee=cI(R,K,d);M2(R,Ee);break e}}R=R.return}while(R!==null)}zI(g)}catch(Ge){d=Ge,Br===g&&g!==null&&(Br=g=g.return);continue}break}while(!0)}function BI(){var c=lv.current;return lv.current=rv,c===null?rv:c}function f1(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),an===null||(Sc&268435455)===0&&(cv&268435455)===0||tl(an,gn)}function pv(c,d){var g=zt;zt|=2;var _=BI();(an!==c||gn!==d)&&(Ws=null,Nc(c,d));do try{uK();break}catch(P){VI(c,P)}while(!0);if(Nw(),zt=g,lv.current=_,Br!==null)throw Error(r(261));return an=null,gn=0,Qr}function uK(){for(;Br!==null;)UI(Br)}function dK(){for(;Br!==null&&!fg();)UI(Br)}function UI(c){var d=WI(c.alternate,c,wi);c.memoizedProps=c.pendingProps,d===null?zI(c):Br=d,n1.current=null}function zI(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=nK(g,d,wi),g!==null){Br=g;return}}else{if(g=iK(g,d),g!==null){g.flags&=32767,Br=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Qr=6,Br=null;return}}if(d=d.sibling,d!==null){Br=d;return}Br=d=c}while(d!==null);Qr===0&&(Qr=5)}function Ec(c,d,g){var _=Mt,P=Wi.transition;try{Wi.transition=null,Mt=1,fK(c,d,g,_)}finally{Wi.transition=P,Mt=_}return null}function fK(c,d,g,_){do sd();while(Zo!==null);if((zt&6)!==0)throw Error(r(327));g=c.finishedWork;var P=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var R=g.lanes|g.childLanes;if(sr(c,R),c===an&&(Br=an=null,gn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||dv||(dv=!0,GI(Fi,function(){return sd(),null})),R=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||R){R=Wi.transition,Wi.transition=null;var B=Mt;Mt=1;var K=zt;zt|=4,n1.current=null,sK(c,g),OI(g,c),IG(fw),Uo=!!dw,fw=dw=null,c.current=g,oK(g),Y0(),zt=K,Mt=B,Wi.transition=R}else c.current=g;if(dv&&(dv=!1,Zo=c,fv=P),R=c.pendingLanes,R===0&&(Jo=null),pg(g.stateNode),ni(c,ur()),d!==null)for(_=c.onRecoverableError,g=0;g<d.length;g++)P=d[g],_(P.value,{componentStack:P.stack,digest:P.digest});if(uv)throw uv=!1,c=s1,s1=null,c;return(fv&1)!==0&&c.tag!==0&&sd(),R=c.pendingLanes,(R&1)!==0?c===o1?Bh++:(Bh=0,o1=c):Bh=0,Ko(),null}function sd(){if(Zo!==null){var c=Vo(fv),d=Wi.transition,g=Mt;try{if(Wi.transition=null,Mt=16>c?16:c,Zo===null)var _=!1;else{if(c=Zo,Zo=null,fv=0,(zt&6)!==0)throw Error(r(331));var P=zt;for(zt|=4,Ve=c.current;Ve!==null;){var R=Ve,B=R.child;if((Ve.flags&16)!==0){var K=R.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var oe=K[Z];for(Ve=oe;Ve!==null;){var be=Ve;switch(be.tag){case 0:case 11:case 15:$h(8,be,R)}var je=be.child;if(je!==null)je.return=be,Ve=je;else for(;Ve!==null;){be=Ve;var ye=be.sibling,Le=be.return;if(TI(be),be===oe){Ve=null;break}if(ye!==null){ye.return=Le,Ve=ye;break}Ve=Le}}}var ze=R.alternate;if(ze!==null){var qe=ze.child;if(qe!==null){ze.child=null;do{var Lr=qe.sibling;qe.sibling=null,qe=Lr}while(qe!==null)}}Ve=R}}if((R.subtreeFlags&2064)!==0&&B!==null)B.return=R,Ve=B;else e:for(;Ve!==null;){if(R=Ve,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:$h(9,R,R.return)}var ie=R.sibling;if(ie!==null){ie.return=R.return,Ve=ie;break e}Ve=R.return}}var te=c.current;for(Ve=te;Ve!==null;){B=Ve;var ae=B.child;if((B.subtreeFlags&2064)!==0&&ae!==null)ae.return=B,Ve=ae;else e:for(B=te;Ve!==null;){if(K=Ve,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:ov(9,K)}}catch(Ge){Or(K,K.return,Ge)}if(K===B){Ve=null;break e}var Ee=K.sibling;if(Ee!==null){Ee.return=K.return,Ve=Ee;break e}Ve=K.return}}if(zt=P,Ko(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(cc,c)}catch{}_=!0}return _}finally{Mt=g,Wi.transition=d}}return!1}function qI(c,d,g){d=rd(g,d),d=lI(c,d,1),c=Qo(c,d,1),d=Vn(),c!==null&&($o(c,1,d),ni(c,d))}function Or(c,d,g){if(c.tag===3)qI(c,c,g);else for(;d!==null;){if(d.tag===3){qI(d,c,g);break}else if(d.tag===1){var _=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Jo===null||!Jo.has(_))){c=rd(g,c),c=cI(d,c,1),d=Qo(d,c,1),c=Vn(),d!==null&&($o(d,1,c),ni(d,c));break}}d=d.return}}function hK(c,d,g){var _=c.pingCache;_!==null&&_.delete(d),d=Vn(),c.pingedLanes|=c.suspendedLanes&g,an===c&&(gn&g)===g&&(Qr===4||Qr===3&&(gn&130023424)===gn&&500>ur()-a1?Nc(c,0):i1|=g),ni(c,d)}function HI(c,d){d===0&&((c.mode&1)===0?d=1:(d=Pu,Pu<<=1,(Pu&130023424)===0&&(Pu=4194304)));var g=Vn();c=zs(c,d),c!==null&&($o(c,d,g),ni(c,g))}function mK(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),HI(c,g)}function pK(c,d){var g=0;switch(c.tag){case 13:var _=c.stateNode,P=c.memoizedState;P!==null&&(g=P.retryLane);break;case 19:_=c.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(d),HI(c,g)}var WI;WI=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||Zn.current)ti=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return ti=!1,rK(c,d,g);ti=(c.flags&131072)!==0}else ti=!1,Nr&&(d.flags&1048576)!==0&&N2(d,qg,d.index);switch(d.lanes=0,d.tag){case 2:var _=d.type;av(c,d),c=d.pendingProps;var P=Ku(d,Sn.current);ed(d,g),P=Dw(null,d,_,c,P,g);var R=Lw();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ei(_)?(R=!0,Bg(d)):R=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Pw(d),P.updater=nv,d.stateNode=P,P._reactInternals=d,zw(d,_,c,g),d=Gw(null,d,_,!0,R,g)):(d.tag=0,Nr&&R&&xw(d),Fn(null,d,P,g),d=d.child),d;case 16:_=d.elementType;e:{switch(av(c,d),c=d.pendingProps,P=_._init,_=P(_._payload),d.type=_,P=d.tag=vK(_),c=ba(_,c),P){case 0:d=Ww(null,d,_,c,g);break e;case 1:d=yI(null,d,_,c,g);break e;case 11:d=hI(null,d,_,c,g);break e;case 14:d=mI(null,d,_,ba(_.type,c),g);break e}throw Error(r(306,_,""))}return d;case 0:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:ba(_,P),Ww(c,d,_,P,g);case 1:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:ba(_,P),yI(c,d,_,P,g);case 3:e:{if(xI(d),c===null)throw Error(r(387));_=d.pendingProps,R=d.memoizedState,P=R.element,R2(c,d),Qg(d,_,null,g);var B=d.memoizedState;if(_=B.element,R.isDehydrated)if(R={element:_,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){P=rd(Error(r(423)),d),d=bI(c,d,_,g,P);break e}else if(_!==P){P=rd(Error(r(424)),d),d=bI(c,d,_,g,P);break e}else for(bi=Ho(d.stateNode.containerInfo.firstChild),xi=d,Nr=!0,xa=null,g=I2(d,null,_,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Xu(),_===P){d=Hs(c,d,g);break e}Fn(c,d,_,g)}d=d.child}return d;case 5:return L2(d),c===null&&_w(d),_=d.type,P=d.pendingProps,R=c!==null?c.memoizedProps:null,B=P.children,hw(_,P)?B=null:R!==null&&hw(_,R)&&(d.flags|=32),vI(c,d),Fn(c,d,B,g),d.child;case 6:return c===null&&_w(d),null;case 13:return wI(c,d,g);case 4:return kw(d,d.stateNode.containerInfo),_=d.pendingProps,c===null?d.child=Ju(d,null,_,g):Fn(c,d,_,g),d.child;case 11:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:ba(_,P),hI(c,d,_,P,g);case 7:return Fn(c,d,d.pendingProps,g),d.child;case 8:return Fn(c,d,d.pendingProps.children,g),d.child;case 12:return Fn(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(_=d.type._context,P=d.pendingProps,R=d.memoizedProps,B=P.value,dr(Gg,_._currentValue),_._currentValue=B,R!==null)if(ya(R.value,B)){if(R.children===P.children&&!Zn.current){d=Hs(c,d,g);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var K=R.dependencies;if(K!==null){B=R.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===_){if(R.tag===1){Z=qs(-1,g&-g),Z.tag=2;var oe=R.updateQueue;if(oe!==null){oe=oe.shared;var be=oe.pending;be===null?Z.next=Z:(Z.next=be.next,be.next=Z),oe.pending=Z}}R.lanes|=g,Z=R.alternate,Z!==null&&(Z.lanes|=g),Aw(R.return,g,d),K.lanes|=g;break}Z=Z.next}}else if(R.tag===10)B=R.type===d.type?null:R.child;else if(R.tag===18){if(B=R.return,B===null)throw Error(r(341));B.lanes|=g,K=B.alternate,K!==null&&(K.lanes|=g),Aw(B,g,d),B=R.sibling}else B=R.child;if(B!==null)B.return=R;else for(B=R;B!==null;){if(B===d){B=null;break}if(R=B.sibling,R!==null){R.return=B.return,B=R;break}B=B.return}R=B}Fn(c,d,P.children,g),d=d.child}return d;case 9:return P=d.type,_=d.pendingProps.children,ed(d,g),P=qi(P),_=_(P),d.flags|=1,Fn(c,d,_,g),d.child;case 14:return _=d.type,P=ba(_,d.pendingProps),P=ba(_.type,P),mI(c,d,_,P,g);case 15:return pI(c,d,d.type,d.pendingProps,g);case 17:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:ba(_,P),av(c,d),d.tag=1,ei(_)?(c=!0,Bg(d)):c=!1,ed(d,g),sI(d,_,P),zw(d,_,P,g),Gw(null,d,_,!0,c,g);case 19:return SI(c,d,g);case 22:return gI(c,d,g)}throw Error(r(156,d.tag))};function GI(c,d){return Au(c,d)}function gK(c,d,g,_){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(c,d,g,_){return new gK(c,d,g,_)}function h1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function vK(c){if(typeof c=="function")return h1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===V)return 11;if(c===G)return 14}return 2}function rl(c,d){var g=c.alternate;return g===null?(g=Gi(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function gv(c,d,g,_,P,R){var B=2;if(_=c,typeof c=="function")h1(c)&&(B=1);else if(typeof c=="string")B=5;else e:switch(c){case k:return Ac(g.children,P,R,d);case C:B=8,P|=8;break;case M:return c=Gi(12,g,d,P|2),c.elementType=M,c.lanes=R,c;case $:return c=Gi(13,g,d,P),c.elementType=$,c.lanes=R,c;case H:return c=Gi(19,g,d,P),c.elementType=H,c.lanes=R,c;case Y:return vv(g,P,R,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case F:B=10;break e;case D:B=9;break e;case V:B=11;break e;case G:B=14;break e;case Q:B=16,_=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=Gi(B,g,d,P),d.elementType=c,d.type=_,d.lanes=R,d}function Ac(c,d,g,_){return c=Gi(7,c,_,d),c.lanes=g,c}function vv(c,d,g,_){return c=Gi(22,c,_,d),c.elementType=Y,c.lanes=g,c.stateNode={isHidden:!1},c}function m1(c,d,g){return c=Gi(6,c,null,d),c.lanes=g,c}function p1(c,d,g){return d=Gi(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function yK(c,d,g,_,P){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lo(0),this.expirationTimes=Lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.identifierPrefix=_,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function g1(c,d,g,_,P,R,B,K,Z){return c=new yK(c,d,g,K,Z),d===1?(d=1,R===!0&&(d|=8)):d=0,R=Gi(3,null,null,d),c.current=R,R.stateNode=c,R.memoizedState={element:_,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pw(R),c}function xK(c,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:_==null?null:""+_,children:c,containerInfo:d,implementation:g}}function KI(c){if(!c)return Go;c=c._reactInternals;e:{if(da(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ei(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(ei(g))return _2(c,g,d)}return d}function YI(c,d,g,_,P,R,B,K,Z){return c=g1(g,_,!0,c,P,R,B,K,Z),c.context=KI(null),g=c.current,_=Vn(),P=el(g),R=qs(_,P),R.callback=d??null,Qo(g,R,P),c.current.lanes=P,$o(c,P,_),ni(c,_),c}function yv(c,d,g,_){var P=d.current,R=Vn(),B=el(P);return g=KI(g),d.context===null?d.context=g:d.pendingContext=g,d=qs(R,B),d.payload={element:c},_=_===void 0?null:_,_!==null&&(d.callback=_),c=Qo(P,d,B),c!==null&&(Sa(c,P,B,R),Yg(c,P,B)),B}function xv(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function QI(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function v1(c,d){QI(c,d),(c=c.alternate)&&QI(c,d)}function bK(){return null}var XI=typeof reportError=="function"?reportError:function(c){console.error(c)};function y1(c){this._internalRoot=c}bv.prototype.render=y1.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));yv(c,d,null,null)},bv.prototype.unmount=y1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;jc(function(){yv(null,c,null,null)}),d[Fs]=null}};function bv(c){this._internalRoot=c}bv.prototype.unstable_scheduleHydration=function(c){if(c){var d=bg();c={blockedOn:null,target:c,priority:d};for(var g=0;g<Wa.length&&d!==0&&d<Wa[g].priority;g++);Wa.splice(g,0,c),g===0&&Sg(c)}};function x1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function wv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function JI(){}function wK(c,d,g,_,P){if(P){if(typeof _=="function"){var R=_;_=function(){var oe=xv(B);R.call(oe)}}var B=YI(d,_,c,0,null,!1,!1,"",JI);return c._reactRootContainer=B,c[Fs]=B.current,Nh(c.nodeType===8?c.parentNode:c),jc(),B}for(;P=c.lastChild;)c.removeChild(P);if(typeof _=="function"){var K=_;_=function(){var oe=xv(Z);K.call(oe)}}var Z=g1(c,0,!1,null,null,!1,!1,"",JI);return c._reactRootContainer=Z,c[Fs]=Z.current,Nh(c.nodeType===8?c.parentNode:c),jc(function(){yv(d,Z,g,_)}),Z}function _v(c,d,g,_,P){var R=g._reactRootContainer;if(R){var B=R;if(typeof P=="function"){var K=P;P=function(){var Z=xv(B);K.call(Z)}}yv(d,B,c,P)}else B=wK(g,d,c,P,_);return xv(B)}yg=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=Do(d.pendingLanes);g!==0&&(Fo(d,g|1),ni(d,ur()),(zt&6)===0&&(ad=ur()+500,Ko()))}break;case 13:jc(function(){var _=zs(c,1);if(_!==null){var P=Vn();Sa(_,c,1,P)}}),v1(c,1)}},ku=function(c){if(c.tag===13){var d=zs(c,134217728);if(d!==null){var g=Vn();Sa(d,c,134217728,g)}v1(c,134217728)}},xg=function(c){if(c.tag===13){var d=el(c),g=zs(c,d);if(g!==null){var _=Vn();Sa(g,c,d,_)}v1(c,d)}},bg=function(){return Mt},wg=function(c,d){var g=Mt;try{return Mt=c,d()}finally{Mt=g}},Rt=function(c,d,g){switch(d){case"input":if(mt(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var _=g[d];if(_!==c&&_.form===c.form){var P=Fg(_);if(!P)throw Error(r(90));le(_),mt(_,P)}}}break;case"textarea":$t(c,g);break;case"select":d=g.value,d!=null&&Oe(c,!!g.multiple,d,!1)}},jt=u1,cr=jc;var _K={usingClientEntryPoint:!1,Events:[Th,Wu,Fg,Me,Re,u1]},Uh={findFiberByHostInstance:gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SK={bundleType:Uh.bundleType,version:Uh.version,rendererPackageName:Uh.rendererPackageName,rendererConfig:Uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=ch(c),c===null?null:c.stateNode},findFiberByHostInstance:Uh.findFiberByHostInstance||bK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sv.isDisabled&&Sv.supportsFiber)try{cc=Sv.inject(SK),pi=Sv}catch{}}return ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_K,ii.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(d))throw Error(r(200));return xK(c,d,null,g)},ii.createRoot=function(c,d){if(!x1(c))throw Error(r(299));var g=!1,_="",P=XI;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=g1(c,1,!1,null,null,g,!1,_,P),c[Fs]=d.current,Nh(c.nodeType===8?c.parentNode:c),new y1(d)},ii.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=ch(d),c=c===null?null:c.stateNode,c},ii.flushSync=function(c){return jc(c)},ii.hydrate=function(c,d,g){if(!wv(d))throw Error(r(200));return _v(null,c,d,!0,g)},ii.hydrateRoot=function(c,d,g){if(!x1(c))throw Error(r(405));var _=g!=null&&g.hydratedSources||null,P=!1,R="",B=XI;if(g!=null&&(g.unstable_strictMode===!0&&(P=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),d=YI(d,null,c,1,g??null,P,!1,R,B),c[Fs]=d.current,Nh(c),_)for(c=0;c<_.length;c++)g=_[c],P=g._getVersion,P=P(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,P]:d.mutableSourceEagerHydrationData.push(g,P);return new bv(d)},ii.render=function(c,d,g){if(!wv(d))throw Error(r(200));return _v(null,c,d,!1,g)},ii.unmountComponentAtNode=function(c){if(!wv(c))throw Error(r(40));return c._reactRootContainer?(jc(function(){_v(null,null,c,!1,function(){c._reactRootContainer=null,c[Fs]=null})}),!0):!1},ii.unstable_batchedUpdates=u1,ii.unstable_renderSubtreeIntoContainer=function(c,d,g,_){if(!wv(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return _v(c,d,g,!1,_)},ii.version="18.3.1-next-f1338f8080-20240426",ii}var oO;function r6(){if(oO)return S1.exports;oO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S1.exports=OK(),S1.exports}var lO;function RK(){if(lO)return Ev;lO=1;var t=r6();return Ev.createRoot=t.createRoot,Ev.hydrateRoot=t.hydrateRoot,Ev}var MK=RK(),S=LT();const U=er(S),n6=AK({__proto__:null,default:U},[S]),DK=1,LK=1e6;let E1=0;function $K(){return E1=(E1+1)%Number.MAX_SAFE_INTEGER,E1.toString()}const A1=new Map,cO=t=>{if(A1.has(t))return;const e=setTimeout(()=>{A1.delete(t),pm({type:"REMOVE_TOAST",toastId:t})},LK);A1.set(t,e)},FK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DK)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?cO(r):t.toasts.forEach(n=>{cO(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},ny=[];let iy={toasts:[]};function pm(t){iy=FK(iy,t),ny.forEach(e=>{e(iy)})}function VK({...t}){const e=$K(),r=i=>pm({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>pm({type:"DISMISS_TOAST",toastId:e});return pm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function ar(){const[t,e]=S.useState(iy);return S.useEffect(()=>(ny.push(e),()=>{const r=ny.indexOf(e);r>-1&&ny.splice(r,1)}),[t]),{...t,toast:VK,dismiss:r=>pm({type:"DISMISS_TOAST",toastId:r})}}var Rf=r6();const i6=er(Rf);function He(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function BK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function a6(...t){return e=>t.forEach(r=>BK(r,e))}function Dt(...t){return S.useCallback(a6(...t),t)}function UK(t,e=[]){let r=[];function n(a,o){const l=S.createContext(o),u=r.length;r=[...r,o];function f(h){const{scope:p,children:y,...w}=h,b=(p==null?void 0:p[t][u])||l,v=S.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:v,children:y})}function m(h,p){const y=(p==null?void 0:p[t][u])||l,w=S.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,m]}const i=()=>{const a=r.map(o=>S.createContext(o));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,zK(i,...e)]}function zK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Jc=S.forwardRef((t,e)=>{const{children:r,...n}=t,i=S.Children.toArray(r),a=i.find(qK);if(a){const o=a.props.children,l=i.map(u=>u===a?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:u);return s.jsx(lE,{...n,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,l):null})}return s.jsx(lE,{...n,ref:e,children:r})});Jc.displayName="Slot";var lE=S.forwardRef((t,e)=>{const{children:r,...n}=t;if(S.isValidElement(r)){const i=WK(r);return S.cloneElement(r,{...HK(n,r.props),ref:e?a6(e,i):i})}return S.Children.count(r)>1?S.Children.only(null):null});lE.displayName="SlotClone";var s6=({children:t})=>s.jsx(s.Fragment,{children:t});function qK(t){return S.isValidElement(t)&&t.type===s6}function HK(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{a(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function WK(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function sb(t){const e=t+"CollectionProvider",[r,n]=UK(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:b}=y,v=U.useRef(null),A=U.useRef(new Map).current;return s.jsx(i,{scope:w,itemMap:A,collectionRef:v,children:b})};o.displayName=e;const l=t+"CollectionSlot",u=U.forwardRef((y,w)=>{const{scope:b,children:v}=y,A=a(l,b),E=Dt(w,A.collectionRef);return s.jsx(Jc,{ref:E,children:v})});u.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",h=U.forwardRef((y,w)=>{const{scope:b,children:v,...A}=y,E=U.useRef(null),j=Dt(w,E),N=a(f,b);return U.useEffect(()=>(N.itemMap.set(E,{ref:E,...A}),()=>void N.itemMap.delete(E))),s.jsx(Jc,{[m]:"",ref:j,children:v})});h.displayName=f;function p(y){const w=a(t+"CollectionConsumer",y);return U.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const A=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((N,T)=>A.indexOf(N.ref.current)-A.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},p,n]}function GK(t,e){const r=S.createContext(e),n=a=>{const{children:o,...l}=a,u=S.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function i(a){const o=S.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Va(t,e=[]){let r=[];function n(a,o){const l=S.createContext(o),u=r.length;r=[...r,o];const f=h=>{var A;const{scope:p,children:y,...w}=h,b=((A=p==null?void 0:p[t])==null?void 0:A[u])||l,v=S.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:v,children:y})};f.displayName=a+"Provider";function m(h,p){var b;const y=((b=p==null?void 0:p[t])==null?void 0:b[u])||l,w=S.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,m]}const i=()=>{const a=r.map(o=>S.createContext(o));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,KK(i,...e)]}function KK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var YK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qe=YK.reduce((t,e)=>{const r=S.forwardRef((n,i)=>{const{asChild:a,...o}=n,l=a?Jc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function o6(t,e){t&&Rf.flushSync(()=>t.dispatchEvent(e))}function Yn(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function QK(t,e=globalThis==null?void 0:globalThis.document){const r=Yn(t);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var XK="DismissableLayer",cE="dismissableLayer.update",JK="dismissableLayer.pointerDownOutside",ZK="dismissableLayer.focusOutside",uO,l6=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lp=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...u}=t,f=S.useContext(l6),[m,h]=S.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=S.useState({}),w=Dt(e,k=>h(k)),b=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),A=b.indexOf(v),E=m?b.indexOf(m):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,N=E>=A,T=tY(k=>{const C=k.target,M=[...f.branches].some(F=>F.contains(C));!N||M||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),O=rY(k=>{const C=k.target;[...f.branches].some(F=>F.contains(C))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return QK(k=>{E===f.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),S.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(uO=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),dO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=uO)}},[m,p,r,f]),S.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),dO())},[m,f]),S.useEffect(()=>{const k=()=>y({});return document.addEventListener(cE,k),()=>document.removeEventListener(cE,k)},[]),s.jsx(Qe.div,{...u,ref:w,style:{pointerEvents:j?N?"auto":"none":void 0,...t.style},onFocusCapture:He(t.onFocusCapture,O.onFocusCapture),onBlurCapture:He(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:He(t.onPointerDownCapture,T.onPointerDownCapture)})});Lp.displayName=XK;var eY="DismissableLayerBranch",c6=S.forwardRef((t,e)=>{const r=S.useContext(l6),n=S.useRef(null),i=Dt(e,n);return S.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Qe.div,{...t,ref:i})});c6.displayName=eY;function tY(t,e=globalThis==null?void 0:globalThis.document){const r=Yn(t),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let u=function(){u6(JK,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function rY(t,e=globalThis==null?void 0:globalThis.document){const r=Yn(t),n=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!n.current&&u6(ZK,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dO(){const t=new CustomEvent(cE);document.dispatchEvent(t)}function u6(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?o6(i,a):i.dispatchEvent(a)}var nY=Lp,iY=c6,un=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},aY="Portal",ob=S.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,a]=S.useState(!1);un(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?i6.createPortal(s.jsx(Qe.div,{...n,ref:e}),o):null});ob.displayName=aY;function sY(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var jo=t=>{const{present:e,children:r}=t,n=oY(e),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),a=Dt(n.ref,lY(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:a}):null};jo.displayName="Presence";function oY(t){const[e,r]=S.useState(),n=S.useRef({}),i=S.useRef(t),a=S.useRef("none"),o=t?"mounted":"unmounted",[l,u]=sY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Av(n.current);a.current=l==="mounted"?f:"none"},[l]),un(()=>{const f=n.current,m=i.current;if(m!==t){const p=a.current,y=Av(f);t?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(m&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),un(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,h=y=>{const b=Av(n.current).includes(y.animationName);if(y.target===e&&b&&(u("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=y=>{y.target===e&&(a.current=Av(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function Av(t){return(t==null?void 0:t.animationName)||"none"}function lY(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ma({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=cY({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,l=Yn(r),u=S.useCallback(f=>{if(a){const h=typeof f=="function"?f(t):f;h!==t&&l(h)}else i(f)},[a,t,i,l]);return[o,u]}function cY({defaultProp:t,onChange:e}){const r=S.useState(t),[n]=r,i=S.useRef(n),a=Yn(e);return S.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var uY="VisuallyHidden",$p=S.forwardRef((t,e)=>s.jsx(Qe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$p.displayName=uY;var dY=$p,$T="ToastProvider",[FT,fY,hY]=sb("Toast"),[d6,CPe]=Va("Toast",[hY]),[mY,lb]=d6($T),f6=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,u]=S.useState(null),[f,m]=S.useState(0),h=S.useRef(!1),p=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${$T}\`. Expected non-empty \`string\`.`),s.jsx(FT.Provider,{scope:e,children:s.jsx(mY,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:f,viewport:l,onViewportChange:u,onToastAdd:S.useCallback(()=>m(y=>y+1),[]),onToastRemove:S.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};f6.displayName=$T;var h6="ToastViewport",pY=["F8"],uE="toast.viewportPause",dE="toast.viewportResume",m6=S.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=pY,label:i="Notifications ({hotkey})",...a}=t,o=lb(h6,r),l=fY(r),u=S.useRef(null),f=S.useRef(null),m=S.useRef(null),h=S.useRef(null),p=Dt(e,h,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;S.useEffect(()=>{const v=A=>{var j;n.length!==0&&n.every(N=>A[N]||A.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),S.useEffect(()=>{const v=u.current,A=h.current;if(w&&v&&A){const E=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(uE);A.dispatchEvent(O),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(dE);A.dispatchEvent(O),o.isClosePausedRef.current=!1}},N=O=>{!v.contains(O.relatedTarget)&&j()},T=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",E),v.addEventListener("focusout",N),v.addEventListener("pointermove",E),v.addEventListener("pointerleave",T),window.addEventListener("blur",E),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",E),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",E),v.removeEventListener("pointerleave",T),window.removeEventListener("blur",E),window.removeEventListener("focus",j)}}},[w,o.isClosePausedRef]);const b=S.useCallback(({tabbingDirection:v})=>{const E=l().map(j=>{const N=j.ref.current,T=[N,...TY(N)];return v==="forwards"?T:T.reverse()});return(v==="forwards"?E.reverse():E).flat()},[l]);return S.useEffect(()=>{const v=h.current;if(v){const A=E=>{var T,O,k;const j=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!j){const C=document.activeElement,M=E.shiftKey;if(E.target===v&&M){(T=f.current)==null||T.focus();return}const V=b({tabbingDirection:M?"backwards":"forwards"}),$=V.findIndex(H=>H===C);T1(V.slice($+1))?E.preventDefault():M?(O=f.current)==null||O.focus():(k=m.current)==null||k.focus()}};return v.addEventListener("keydown",A),()=>v.removeEventListener("keydown",A)}},[l,b]),s.jsxs(iY,{ref:u,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(fE,{ref:f,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"forwards"});T1(v)}}),s.jsx(FT.Slot,{scope:r,children:s.jsx(Qe.ol,{tabIndex:-1,...a,ref:p})}),w&&s.jsx(fE,{ref:m,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"backwards"});T1(v)}})]})});m6.displayName=h6;var p6="ToastFocusProxy",fE=S.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=lb(p6,r);return s.jsx($p,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var f;const l=o.relatedTarget;!((f=a.viewport)!=null&&f.contains(l))&&n()}})});fE.displayName=p6;var cb="Toast",gY="toast.swipeStart",vY="toast.swipeMove",yY="toast.swipeCancel",xY="toast.swipeEnd",g6=S.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,u]=Ma({prop:n,defaultProp:i,onChange:a});return s.jsx(jo,{present:r||l,children:s.jsx(_Y,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:Yn(t.onPause),onResume:Yn(t.onResume),onSwipeStart:He(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(t.onSwipeMove,f=>{const{x:m,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:He(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(t.onSwipeEnd,f=>{const{x:m,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});g6.displayName=cb;var[bY,wY]=d6(cb,{onClose(){}}),_Y=S.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:f,onSwipeStart:m,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:y,...w}=t,b=lb(cb,r),[v,A]=S.useState(null),E=Dt(e,H=>A(H)),j=S.useRef(null),N=S.useRef(null),T=i||b.duration,O=S.useRef(0),k=S.useRef(T),C=S.useRef(0),{onToastAdd:M,onToastRemove:F}=b,D=Yn(()=>{var G;(v==null?void 0:v.contains(document.activeElement))&&((G=b.viewport)==null||G.focus()),o()}),V=S.useCallback(H=>{!H||H===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(D,H))},[D]);S.useEffect(()=>{const H=b.viewport;if(H){const G=()=>{V(k.current),f==null||f()},Q=()=>{const Y=new Date().getTime()-O.current;k.current=k.current-Y,window.clearTimeout(C.current),u==null||u()};return H.addEventListener(uE,Q),H.addEventListener(dE,G),()=>{H.removeEventListener(uE,Q),H.removeEventListener(dE,G)}}},[b.viewport,T,u,f,V]),S.useEffect(()=>{a&&!b.isClosePausedRef.current&&V(T)},[a,T,b.isClosePausedRef,V]),S.useEffect(()=>(M(),()=>F()),[M,F]);const $=S.useMemo(()=>v?S6(v):null,[v]);return b.viewport?s.jsxs(s.Fragment,{children:[$&&s.jsx(SY,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),s.jsx(bY,{scope:r,onClose:D,children:Rf.createPortal(s.jsx(FT.ItemSlot,{scope:r,children:s.jsx(nY,{asChild:!0,onEscapeKeyDown:He(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||D(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...w,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:He(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:He(t.onPointerDown,H=>{H.button===0&&(j.current={x:H.clientX,y:H.clientY})}),onPointerMove:He(t.onPointerMove,H=>{if(!j.current)return;const G=H.clientX-j.current.x,Q=H.clientY-j.current.y,Y=!!N.current,W=["left","right"].includes(b.swipeDirection),J=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ee=W?J(0,G):0,q=W?0:J(0,Q),X=H.pointerType==="touch"?10:2,se={x:ee,y:q},xe={originalEvent:H,delta:se};Y?(N.current=se,Tv(vY,h,xe,{discrete:!1})):fO(se,b.swipeDirection,X)?(N.current=se,Tv(gY,m,xe,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(G)>X||Math.abs(Q)>X)&&(j.current=null)}),onPointerUp:He(t.onPointerUp,H=>{const G=N.current,Q=H.target;if(Q.hasPointerCapture(H.pointerId)&&Q.releasePointerCapture(H.pointerId),N.current=null,j.current=null,G){const Y=H.currentTarget,W={originalEvent:H,delta:G};fO(G,b.swipeDirection,b.swipeThreshold)?Tv(xY,y,W,{discrete:!0}):Tv(yY,p,W,{discrete:!0}),Y.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),SY=t=>{const{__scopeToast:e,children:r,...n}=t,i=lb(cb,e),[a,o]=S.useState(!1),[l,u]=S.useState(!1);return EY(()=>o(!0)),S.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:s.jsx(ob,{asChild:!0,children:s.jsx($p,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},jY="ToastTitle",v6=S.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(Qe.div,{...n,ref:e})});v6.displayName=jY;var NY="ToastDescription",y6=S.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(Qe.div,{...n,ref:e})});y6.displayName=NY;var x6="ToastAction",b6=S.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?s.jsx(_6,{altText:r,asChild:!0,children:s.jsx(VT,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${x6}\`. Expected non-empty \`string\`.`),null)});b6.displayName=x6;var w6="ToastClose",VT=S.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=wY(w6,r);return s.jsx(_6,{asChild:!0,children:s.jsx(Qe.button,{type:"button",...n,ref:e,onClick:He(t.onClick,i.onClose)})})});VT.displayName=w6;var _6=S.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return s.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function S6(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),AY(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...S6(n))}}),e}function Tv(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?o6(i,a):i.dispatchEvent(a)}var fO=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function EY(t=()=>{}){const e=Yn(t);un(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function AY(t){return t.nodeType===t.ELEMENT_NODE}function TY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function T1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var PY=f6,j6=m6,N6=g6,E6=v6,A6=y6,T6=b6,P6=VT;function k6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=k6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function bt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=k6(t))&&(n&&(n+=" "),n+=e);return n}const hO=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,mO=bt,ub=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return mO(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(f=>{const m=r==null?void 0:r[f],h=a==null?void 0:a[f];if(m===null)return null;const p=hO(m)||hO(h);return i[f][p]}),l=r&&Object.entries(r).reduce((f,m)=>{let[h,p]=m;return p===void 0||(f[h]=p),f},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,m)=>{let{class:h,className:p,...y}=m;return Object.entries(y).every(w=>{let[b,v]=w;return Array.isArray(v)?v.includes({...a,...l}[b]):{...a,...l}[b]===v})?[...f,h,p]:f},[]);return mO(t,o,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},u)=>S.createElement("svg",{ref:u,...CY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:C6("lucide",i),...l},[...o.map(([f,m])=>S.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const r=S.forwardRef(({className:n,...i},a)=>S.createElement(IY,{ref:a,iconNode:e,className:C6(`lucide-${kY(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=we("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=we("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=we("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=we("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=we("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=we("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=we("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=we("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=we("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=we("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=we("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=we("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=we("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=we("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=we("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=we("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=we("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=we("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=we("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=we("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=we("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=we("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=we("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=we("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=we("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=we("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=we("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=we("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=we("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=we("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=we("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=we("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=we("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=we("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=we("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=we("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=we("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=we("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=we("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=we("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=we("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=we("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=we("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=we("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=we("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),KT="-",pQ=t=>{const e=vQ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(KT);return l[0]===""&&l.length!==1&&l.shift(),G6(l,e)||gQ(o)},getConflictingClassGroupIds:(o,l)=>{const u=r[o]||[];return l&&n[o]?[...u,...n[o]]:u}}},G6=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?G6(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(KT);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},gO=/^\[(.+)\]$/,gQ=t=>{if(gO.test(t)){const e=gO.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},vQ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return xQ(Object.entries(t.classGroups),r).forEach(([a,o])=>{yE(o,n,a,e)}),n},yE=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:vO(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(yQ(i)){yE(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{yE(o,vO(e,a),r,n)})})},vO=(t,e)=>{let r=t;return e.split(KT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},yQ=t=>t.isThemeGetter,xQ=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,bQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},K6="!",wQ=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const u=[];let f=0,m=0,h;for(let v=0;v<l.length;v++){let A=l[v];if(f===0){if(A===i&&(n||l.slice(v,v+a)===e)){u.push(l.slice(m,v)),m=v+a;continue}if(A==="/"){h=v;continue}}A==="["?f++:A==="]"&&f--}const p=u.length===0?l:l.substring(m),y=p.startsWith(K6),w=y?p.substring(1):p,b=h&&h>m?h-m:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},_Q=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},SQ=t=>({cache:bQ(t.cacheSize),parseClassName:wQ(t),...pQ(t)}),jQ=/\s+/,NQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(jQ);let l="";for(let u=o.length-1;u>=0;u-=1){const f=o[u],{modifiers:m,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=r(f);let w=!!y,b=n(w?p.substring(0,y):p);if(!b){if(!w){l=f+(l.length>0?" "+l:l);continue}if(b=n(p),!b){l=f+(l.length>0?" "+l:l);continue}w=!1}const v=_Q(m).join(":"),A=h?v+K6:v,E=A+b;if(a.includes(E))continue;a.push(E);const j=i(b,w);for(let N=0;N<j.length;++N){const T=j[N];a.push(A+T)}l=f+(l.length>0?" "+l:l)}return l};function EQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Y6(e))&&(n&&(n+=" "),n+=r);return n}const Y6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Y6(t[n]))&&(r&&(r+=" "),r+=e);return r};function AQ(t,...e){let r,n,i,a=o;function o(u){const f=e.reduce((m,h)=>h(m),t());return r=SQ(f),n=r.cache.get,i=r.cache.set,a=l,l(u)}function l(u){const f=n(u);if(f)return f;const m=NQ(u,r);return i(u,m),m}return function(){return a(EQ.apply(null,arguments))}}const xr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Q6=/^\[(?:([a-z-]+):)?(.+)\]$/i,TQ=/^\d+\/\d+$/,PQ=new Set(["px","full","screen"]),kQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gs=t=>Nd(t)||PQ.has(t)||TQ.test(t),il=t=>Mf(t,"length",UQ),Nd=t=>!!t&&!Number.isNaN(Number(t)),k1=t=>Mf(t,"number",Nd),qh=t=>!!t&&Number.isInteger(Number(t)),MQ=t=>t.endsWith("%")&&Nd(t.slice(0,-1)),wt=t=>Q6.test(t),al=t=>kQ.test(t),DQ=new Set(["length","size","percentage"]),LQ=t=>Mf(t,DQ,X6),$Q=t=>Mf(t,"position",X6),FQ=new Set(["image","url"]),VQ=t=>Mf(t,FQ,qQ),BQ=t=>Mf(t,"",zQ),Hh=()=>!0,Mf=(t,e,r)=>{const n=Q6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},UQ=t=>CQ.test(t)&&!IQ.test(t),X6=()=>!1,zQ=t=>OQ.test(t),qQ=t=>RQ.test(t),HQ=()=>{const t=xr("colors"),e=xr("spacing"),r=xr("blur"),n=xr("brightness"),i=xr("borderColor"),a=xr("borderRadius"),o=xr("borderSpacing"),l=xr("borderWidth"),u=xr("contrast"),f=xr("grayscale"),m=xr("hueRotate"),h=xr("invert"),p=xr("gap"),y=xr("gradientColorStops"),w=xr("gradientColorStopPositions"),b=xr("inset"),v=xr("margin"),A=xr("opacity"),E=xr("padding"),j=xr("saturate"),N=xr("scale"),T=xr("sepia"),O=xr("skew"),k=xr("space"),C=xr("translate"),M=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",wt,e],V=()=>[wt,e],$=()=>["",Gs,il],H=()=>["auto",Nd,wt],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",wt],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Nd,wt];return{cacheSize:500,separator:":",theme:{colors:[Hh],spacing:[Gs,il],blur:["none","",al,wt],brightness:q(),borderColor:[t],borderRadius:["none","","full",al,wt],borderSpacing:V(),borderWidth:$(),contrast:q(),grayscale:J(),hueRotate:q(),invert:J(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[MQ,il],inset:D(),margin:D(),opacity:q(),padding:V(),saturate:q(),scale:q(),sepia:J(),skew:q(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[al]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),wt]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qh,wt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",qh,wt]}],"grid-cols":[{"grid-cols":[Hh]}],"col-start-end":[{col:["auto",{span:["full",qh,wt]},wt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Hh]}],"row-start-end":[{row:["auto",{span:[qh,wt]},wt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,e]}],"min-w":[{"min-w":[wt,e,"min","max","fit"]}],"max-w":[{"max-w":[wt,e,"none","full","min","max","fit","prose",{screen:[al]},al]}],h:[{h:[wt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",al,il]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",k1]}],"font-family":[{font:[Hh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",Nd,k1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gs,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gs,il]}],"underline-offset":[{"underline-offset":["auto",Gs,wt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),$Q]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Gs,wt]}],"outline-w":[{outline:[Gs,il]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Gs,il]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",al,BQ]}],"shadow-color":[{shadow:[Hh]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",al,wt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[qh,wt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gs,il,k1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WQ=AQ(HQ);function at(...t){return WQ(bt(t))}const GQ=PY,J6=S.forwardRef(({className:t,...e},r)=>s.jsx(j6,{ref:r,className:at("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));J6.displayName=j6.displayName;const KQ=ub("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Z6=S.forwardRef(({className:t,variant:e,...r},n)=>s.jsx(N6,{ref:n,className:at(KQ({variant:e}),t),...r}));Z6.displayName=N6.displayName;const YQ=S.forwardRef(({className:t,...e},r)=>s.jsx(T6,{ref:r,className:at("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));YQ.displayName=T6.displayName;const eV=S.forwardRef(({className:t,...e},r)=>s.jsx(P6,{ref:r,className:at("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(fi,{className:"h-4 w-4"})}));eV.displayName=P6.displayName;const tV=S.forwardRef(({className:t,...e},r)=>s.jsx(E6,{ref:r,className:at("text-sm font-semibold",t),...e}));tV.displayName=E6.displayName;const rV=S.forwardRef(({className:t,...e},r)=>s.jsx(A6,{ref:r,className:at("text-sm opacity-90",t),...e}));rV.displayName=A6.displayName;function QQ(){const{toasts:t}=ar();return s.jsxs(GQ,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return s.jsxs(Z6,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(tV,{children:r}),n&&s.jsx(rV,{children:n})]}),i,s.jsx(eV,{})]},e)}),s.jsx(J6,{})]})}var yO=["light","dark"],XQ="(prefers-color-scheme: dark)",JQ=S.createContext(void 0),ZQ={setTheme:t=>{},themes:[]},eX=()=>{var t;return(t=S.useContext(JQ))!=null?t:ZQ};S.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:u})=>{let f=a==="system",m=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?yO.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,b=!1,v=!0)=>{let A=o?o[w]:w,E=b?w+"|| ''":`'${A}'`,j="";return i&&v&&!b&&yO.includes(w)&&(j+=`d.style.colorScheme = '${w}';`),r==="class"?b||A?j+=`c.add(${E})`:j+="null":A&&(j+=`d[s](n,${E})`),j},y=t?`!function(){${m}${p(t)}}()`:n?`!function(){try{${m}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${f})){var t='${XQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${f?"":"else{"+p(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${h}}catch(t){}}();`;return S.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var tX=t=>{switch(t){case"success":return iX;case"info":return sX;case"warning":return aX;case"error":return oX;default:return null}},rX=Array(12).fill(0),nX=({visible:t})=>U.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},U.createElement("div",{className:"sonner-spinner"},rX.map((e,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iX=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aX=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sX=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oX=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lX=()=>{let[t,e]=U.useState(document.hidden);return U.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},xE=1,cX=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:xE++,a=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0;return n.then(async a=>{if(dX(a)&&!a.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:r,type:"error",message:o,description:l})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(a):e.success,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async a=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(a):e.error,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=e.finally)==null||a.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||xE++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},ji=new cX,uX=(t,e)=>{let r=(e==null?void 0:e.id)||xE++;return ji.addToast({title:t,...e,id:r}),r},dX=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fX=uX,hX=()=>ji.toasts;Object.assign(fX,{success:ji.success,info:ji.info,warning:ji.warning,error:ji.error,custom:ji.custom,message:ji.message,promise:ji.promise,dismiss:ji.dismiss,loading:ji.loading},{getHistory:hX});function mX(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}mX(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pv(t){return t.label!==void 0}var pX=3,gX="32px",vX=4e3,yX=356,xX=14,bX=20,wX=200;function _X(...t){return t.filter(Boolean).join(" ")}var SX=t=>{var e,r,n,i,a,o,l,u,f,m;let{invert:h,toast:p,unstyled:y,interacting:w,setHeights:b,visibleToasts:v,heights:A,index:E,toasts:j,expanded:N,removeToast:T,defaultRichColors:O,closeButton:k,style:C,cancelButtonStyle:M,actionButtonStyle:F,className:D="",descriptionClassName:V="",duration:$,position:H,gap:G,loadingIcon:Q,expandByDefault:Y,classNames:W,icons:J,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:q,cn:X}=t,[se,xe]=U.useState(!1),[Ae,Te]=U.useState(!1),[me,Pe]=U.useState(!1),[ue,ve]=U.useState(!1),[_e,le]=U.useState(0),[Ye,Ke]=U.useState(0),ut=U.useRef(null),st=U.useRef(null),mt=E===0,lr=E+1<=v,Ct=p.type,Lt=p.dismissible!==!1,Oe=p.className||"",Ze=p.descriptionClassName||"",rt=U.useMemo(()=>A.findIndex(nt=>nt.toastId===p.id)||0,[A,p.id]),$t=U.useMemo(()=>{var nt;return(nt=p.closeButton)!=null?nt:k},[p.closeButton,k]),Ie=U.useMemo(()=>p.duration||$||vX,[p.duration,$]),De=U.useRef(0),Se=U.useRef(0),Ue=U.useRef(0),kt=U.useRef(null),[pr,la]=H.split("-"),Li=U.useMemo(()=>A.reduce((nt,Ft,Rt)=>Rt>=rt?nt:nt+Ft.height,0),[A,rt]),qa=lX(),Is=p.invert||h,$i=Ct==="loading";Se.current=U.useMemo(()=>rt*G+Li,[rt,Li]),U.useEffect(()=>{xe(!0)},[]),U.useLayoutEffect(()=>{if(!se)return;let nt=st.current,Ft=nt.style.height;nt.style.height="auto";let Rt=nt.getBoundingClientRect().height;nt.style.height=Ft,Ke(Rt),b(gr=>gr.find(Ar=>Ar.toastId===p.id)?gr.map(Ar=>Ar.toastId===p.id?{...Ar,height:Rt}:Ar):[{toastId:p.id,height:Rt,position:p.position},...gr])},[se,p.title,p.description,b,p.id]);let fn=U.useCallback(()=>{Te(!0),le(Se.current),b(nt=>nt.filter(Ft=>Ft.toastId!==p.id)),setTimeout(()=>{T(p)},wX)},[p,T,b,Se]);U.useEffect(()=>{if(p.promise&&Ct==="loading"||p.duration===1/0||p.type==="loading")return;let nt,Ft=Ie;return N||w||q&&qa?(()=>{if(Ue.current<De.current){let Rt=new Date().getTime()-De.current;Ft=Ft-Rt}Ue.current=new Date().getTime()})():Ft!==1/0&&(De.current=new Date().getTime(),nt=setTimeout(()=>{var Rt;(Rt=p.onAutoClose)==null||Rt.call(p,p),fn()},Ft)),()=>clearTimeout(nt)},[N,w,Y,p,Ie,fn,p.promise,Ct,q,qa]),U.useEffect(()=>{let nt=st.current;if(nt){let Ft=nt.getBoundingClientRect().height;return Ke(Ft),b(Rt=>[{toastId:p.id,height:Ft,position:p.position},...Rt]),()=>b(Rt=>Rt.filter(gr=>gr.toastId!==p.id))}},[b,p.id]),U.useEffect(()=>{p.delete&&fn()},[fn,p.delete]);function Os(){return J!=null&&J.loading?U.createElement("div",{className:"sonner-loader","data-visible":Ct==="loading"},J.loading):Q?U.createElement("div",{className:"sonner-loader","data-visible":Ct==="loading"},Q):U.createElement(nX,{visible:Ct==="loading"})}return U.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:st,className:X(D,Oe,W==null?void 0:W.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,W==null?void 0:W.default,W==null?void 0:W[Ct],(r=p==null?void 0:p.classNames)==null?void 0:r[Ct]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:O,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":se,"data-promise":!!p.promise,"data-removed":Ae,"data-visible":lr,"data-y-position":pr,"data-x-position":la,"data-index":E,"data-front":mt,"data-swiping":me,"data-dismissible":Lt,"data-type":Ct,"data-invert":Is,"data-swipe-out":ue,"data-expanded":!!(N||Y&&se),style:{"--index":E,"--toasts-before":E,"--z-index":j.length-E,"--offset":`${Ae?_e:Se.current}px`,"--initial-height":Y?"auto":`${Ye}px`,...C,...p.style},onPointerDown:nt=>{$i||!Lt||(ut.current=new Date,le(Se.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(Pe(!0),kt.current={x:nt.clientX,y:nt.clientY}))},onPointerUp:()=>{var nt,Ft,Rt,gr;if(ue||!Lt)return;kt.current=null;let Ar=Number(((nt=st.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),fe=new Date().getTime()-((Ft=ut.current)==null?void 0:Ft.getTime()),Me=Math.abs(Ar)/fe;if(Math.abs(Ar)>=bX||Me>.11){le(Se.current),(Rt=p.onDismiss)==null||Rt.call(p,p),fn(),ve(!0);return}(gr=st.current)==null||gr.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:nt=>{var Ft;if(!kt.current||!Lt)return;let Rt=nt.clientY-kt.current.y,gr=nt.clientX-kt.current.x,Ar=(pr==="top"?Math.min:Math.max)(0,Rt),fe=nt.pointerType==="touch"?10:2;Math.abs(Ar)>fe?(Ft=st.current)==null||Ft.style.setProperty("--swipe-amount",`${Rt}px`):Math.abs(gr)>fe&&(kt.current=null)}},$t&&!p.jsx?U.createElement("button",{"aria-label":ee,"data-disabled":$i,"data-close-button":!0,onClick:$i||!Lt?()=>{}:()=>{var nt;fn(),(nt=p.onDismiss)==null||nt.call(p,p)},className:X(W==null?void 0:W.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||U.isValidElement(p.title)?p.jsx||p.title:U.createElement(U.Fragment,null,Ct||p.icon||p.promise?U.createElement("div",{"data-icon":"",className:X(W==null?void 0:W.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Os():null,p.type!=="loading"?p.icon||(J==null?void 0:J[Ct])||tX(Ct):null):null,U.createElement("div",{"data-content":"",className:X(W==null?void 0:W.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},U.createElement("div",{"data-title":"",className:X(W==null?void 0:W.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},p.title),p.description?U.createElement("div",{"data-description":"",className:X(V,Ze,W==null?void 0:W.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},p.description):null),U.isValidElement(p.cancel)?p.cancel:p.cancel&&Pv(p.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||M,onClick:nt=>{var Ft,Rt;Pv(p.cancel)&&Lt&&((Rt=(Ft=p.cancel).onClick)==null||Rt.call(Ft,nt),fn())},className:X(W==null?void 0:W.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,U.isValidElement(p.action)?p.action:p.action&&Pv(p.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:nt=>{var Ft,Rt;Pv(p.action)&&(nt.defaultPrevented||((Rt=(Ft=p.action).onClick)==null||Rt.call(Ft,nt),fn()))},className:X(W==null?void 0:W.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function xO(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var jX=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,theme:u="light",richColors:f,duration:m,style:h,visibleToasts:p=pX,toastOptions:y,dir:w=xO(),gap:b=xX,loadingIcon:v,icons:A,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:j,cn:N=_X}=t,[T,O]=U.useState([]),k=U.useMemo(()=>Array.from(new Set([r].concat(T.filter(q=>q.position).map(q=>q.position)))),[T,r]),[C,M]=U.useState([]),[F,D]=U.useState(!1),[V,$]=U.useState(!1),[H,G]=U.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=U.useRef(null),Y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=U.useRef(null),J=U.useRef(!1),ee=U.useCallback(q=>{var X;(X=T.find(se=>se.id===q.id))!=null&&X.delete||ji.dismiss(q.id),O(se=>se.filter(({id:xe})=>xe!==q.id))},[T]);return U.useEffect(()=>ji.subscribe(q=>{if(q.dismiss){O(X=>X.map(se=>se.id===q.id?{...se,delete:!0}:se));return}setTimeout(()=>{i6.flushSync(()=>{O(X=>{let se=X.findIndex(xe=>xe.id===q.id);return se!==-1?[...X.slice(0,se),{...X[se],...q},...X.slice(se+1)]:[q,...X]})})})}),[]),U.useEffect(()=>{if(u!=="system"){G(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{G(q?"dark":"light")})},[u]),U.useEffect(()=>{T.length<=1&&D(!1)},[T]),U.useEffect(()=>{let q=X=>{var se,xe;n.every(Ae=>X[Ae]||X.code===Ae)&&(D(!0),(se=Q.current)==null||se.focus()),X.code==="Escape"&&(document.activeElement===Q.current||(xe=Q.current)!=null&&xe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[n]),U.useEffect(()=>{if(Q.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,J.current=!1)}},[Q.current]),T.length?U.createElement("section",{"aria-label":`${E} ${Y}`,tabIndex:-1},k.map((q,X)=>{var se;let[xe,Ae]=q.split("-");return U.createElement("ol",{key:q,dir:w==="auto"?xO():w,tabIndex:-1,ref:Q,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":xe,"data-x-position":Ae,style:{"--front-toast-height":`${((se=C[0])==null?void 0:se.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||gX,"--width":`${yX}px`,"--gap":`${b}px`,...h},onBlur:Te=>{J.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(J.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||J.current||(J.current=!0,W.current=Te.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{V||D(!1)},onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},T.filter(Te=>!Te.position&&X===0||Te.position===q).map((Te,me)=>{var Pe,ue;return U.createElement(SX,{key:Te.id,icons:A,index:me,toast:Te,defaultRichColors:f,duration:(Pe=y==null?void 0:y.duration)!=null?Pe:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:p,closeButton:(ue=y==null?void 0:y.closeButton)!=null?ue:a,interacting:V,position:q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ee,toasts:T.filter(ve=>ve.position==Te.position),heights:C.filter(ve=>ve.position==Te.position),setHeights:M,expandByDefault:i,gap:b,loadingIcon:v,expanded:F,pauseWhenPageIsHidden:j,cn:N})}))})):null};const NX=({...t})=>{const{theme:e="system"}=eX();return s.jsx(jX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var EX=n6.useId||(()=>{}),AX=0;function ao(t){const[e,r]=S.useState(EX());return un(()=>{r(n=>n??String(AX++))},[t]),e?`radix-${e}`:""}const TX=["top","right","bottom","left"],Ml=Math.min,Ei=Math.max,Ey=Math.round,kv=Math.floor,Dl=t=>({x:t,y:t}),PX={left:"right",right:"left",bottom:"top",top:"bottom"},kX={start:"end",end:"start"};function bE(t,e,r){return Ei(t,Ml(e,r))}function fo(t,e){return typeof t=="function"?t(e):t}function ho(t){return t.split("-")[0]}function Df(t){return t.split("-")[1]}function YT(t){return t==="x"?"y":"x"}function QT(t){return t==="y"?"height":"width"}function Ll(t){return["top","bottom"].includes(ho(t))?"y":"x"}function XT(t){return YT(Ll(t))}function CX(t,e,r){r===void 0&&(r=!1);const n=Df(t),i=XT(t),a=QT(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Ay(o)),[o,Ay(o)]}function IX(t){const e=Ay(t);return[wE(t),e,wE(e)]}function wE(t){return t.replace(/start|end/g,e=>kX[e])}function OX(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function RX(t,e,r,n){const i=Df(t);let a=OX(ho(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(wE)))),a}function Ay(t){return t.replace(/left|right|bottom|top/g,e=>PX[e])}function MX(t){return{top:0,right:0,bottom:0,left:0,...t}}function nV(t){return typeof t!="number"?MX(t):{top:t,right:t,bottom:t,left:t}}function Ty(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function bO(t,e,r){let{reference:n,floating:i}=t;const a=Ll(e),o=XT(e),l=QT(o),u=ho(e),f=a==="y",m=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[l]/2-i[l]/2;let y;switch(u){case"top":y={x:m,y:n.y-i.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:h};break;case"left":y={x:n.x-i.width,y:h};break;default:y={x:n.x,y:n.y}}switch(Df(e)){case"start":y[o]-=p*(r&&f?-1:1);break;case"end":y[o]+=p*(r&&f?-1:1);break}return y}const DX=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:h}=bO(f,n,u),p=n,y={},w=0;for(let b=0;b<l.length;b++){const{name:v,fn:A}=l[b],{x:E,y:j,data:N,reset:T}=await A({x:m,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:y,rects:f,platform:o,elements:{reference:t,floating:e}});m=E??m,h=j??h,y={...y,[v]:{...y[v],...N}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(f=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:m,y:h}=bO(f,p,u)),b=-1)}return{x:m,y:h,placement:p,strategy:i,middlewareData:y}};async function Mm(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=fo(e,t),w=nV(y),v=l[p?h==="floating"?"reference":"floating":h],A=Ty(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:m,strategy:u})),E=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},T=Ty(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:j,strategy:u}):E);return{top:(A.top-T.top+w.top)/N.y,bottom:(T.bottom-A.bottom+w.bottom)/N.y,left:(A.left-T.left+w.left)/N.x,right:(T.right-A.right+w.right)/N.x}}const LX=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:u}=e,{element:f,padding:m=0}=fo(t,e)||{};if(f==null)return{};const h=nV(m),p={x:r,y:n},y=XT(i),w=QT(y),b=await o.getDimensions(f),v=y==="y",A=v?"top":"left",E=v?"bottom":"right",j=v?"clientHeight":"clientWidth",N=a.reference[w]+a.reference[y]-p[y]-a.floating[w],T=p[y]-a.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let k=O?O[j]:0;(!k||!await(o.isElement==null?void 0:o.isElement(O)))&&(k=l.floating[j]||a.floating[w]);const C=N/2-T/2,M=k/2-b[w]/2-1,F=Ml(h[A],M),D=Ml(h[E],M),V=F,$=k-b[w]-D,H=k/2-b[w]/2+C,G=bE(V,H,$),Q=!u.arrow&&Df(i)!=null&&H!==G&&a.reference[w]/2-(H<V?F:D)-b[w]/2<0,Y=Q?H<V?H-V:H-$:0;return{[y]:p[y]+Y,data:{[y]:G,centerOffset:H-G-Y,...Q&&{alignmentOffset:Y}},reset:Q}}}),$X=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:u,elements:f}=e,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...v}=fo(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const A=ho(i),E=Ll(l),j=ho(l)===l,N=await(u.isRTL==null?void 0:u.isRTL(f.floating)),T=p||(j||!b?[Ay(l)]:IX(l)),O=w!=="none";!p&&O&&T.push(...RX(l,b,w,N));const k=[l,...T],C=await Mm(e,v),M=[];let F=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&M.push(C[A]),h){const H=CX(i,o,N);M.push(C[H[0]],C[H[1]])}if(F=[...F,{placement:i,overflows:M}],!M.every(H=>H<=0)){var D,V;const H=(((D=a.flip)==null?void 0:D.index)||0)+1,G=k[H];if(G)return{data:{index:H,overflows:F},reset:{placement:G}};let Q=(V=F.filter(Y=>Y.overflows[0]<=0).sort((Y,W)=>Y.overflows[1]-W.overflows[1])[0])==null?void 0:V.placement;if(!Q)switch(y){case"bestFit":{var $;const Y=($=F.filter(W=>{if(O){const J=Ll(W.placement);return J===E||J==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,ee)=>J+ee,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:$[0];Y&&(Q=Y);break}case"initialPlacement":Q=l;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function wO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _O(t){return TX.some(e=>t[e]>=0)}const FX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=fo(t,e);switch(n){case"referenceHidden":{const a=await Mm(e,{...i,elementContext:"reference"}),o=wO(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_O(o)}}}case"escaped":{const a=await Mm(e,{...i,altBoundary:!0}),o=wO(a,r.floating);return{data:{escapedOffsets:o,escaped:_O(o)}}}default:return{}}}}};async function VX(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=ho(r),l=Df(r),u=Ll(r)==="y",f=["left","top"].includes(o)?-1:1,m=a&&u?-1:1,h=fo(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),u?{x:y*m,y:p*f}:{x:p*f,y:y*m}}const BX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=e,u=await VX(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}},UX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:A,y:E}=v;return{x:A,y:E}}},...u}=fo(t,e),f={x:r,y:n},m=await Mm(e,u),h=Ll(ho(i)),p=YT(h);let y=f[p],w=f[h];if(a){const v=p==="y"?"top":"left",A=p==="y"?"bottom":"right",E=y+m[v],j=y-m[A];y=bE(E,y,j)}if(o){const v=h==="y"?"top":"left",A=h==="y"?"bottom":"right",E=w+m[v],j=w-m[A];w=bE(E,w,j)}const b=l.fn({...e,[p]:y,[h]:w});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[p]:a,[h]:o}}}}}},zX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=fo(t,e),m={x:r,y:n},h=Ll(i),p=YT(h);let y=m[p],w=m[h];const b=fo(l,e),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const j=p==="y"?"height":"width",N=a.reference[p]-a.floating[j]+v.mainAxis,T=a.reference[p]+a.reference[j]-v.mainAxis;y<N?y=N:y>T&&(y=T)}if(f){var A,E;const j=p==="y"?"width":"height",N=["top","left"].includes(ho(i)),T=a.reference[h]-a.floating[j]+(N&&((A=o.offset)==null?void 0:A[h])||0)+(N?0:v.crossAxis),O=a.reference[h]+a.reference[j]+(N?0:((E=o.offset)==null?void 0:E[h])||0)-(N?v.crossAxis:0);w<T?w=T:w>O&&(w=O)}return{[p]:y,[h]:w}}}},qX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:u=()=>{},...f}=fo(t,e),m=await Mm(e,f),h=ho(i),p=Df(i),y=Ll(i)==="y",{width:w,height:b}=a.floating;let v,A;h==="top"||h==="bottom"?(v=h,A=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(A=h,v=p==="end"?"top":"bottom");const E=b-m.top-m.bottom,j=w-m.left-m.right,N=Ml(b-m[v],E),T=Ml(w-m[A],j),O=!e.middlewareData.shift;let k=N,C=T;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=j),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=E),O&&!p){const F=Ei(m.left,0),D=Ei(m.right,0),V=Ei(m.top,0),$=Ei(m.bottom,0);y?C=w-2*(F!==0||D!==0?F+D:Ei(m.left,m.right)):k=b-2*(V!==0||$!==0?V+$:Ei(m.top,m.bottom))}await u({...e,availableWidth:C,availableHeight:k});const M=await o.getDimensions(l.floating);return w!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function hb(){return typeof window<"u"}function Lf(t){return iV(t)?(t.nodeName||"").toLowerCase():"#document"}function Oi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ts(t){var e;return(e=(iV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iV(t){return hb()?t instanceof Node||t instanceof Oi(t).Node:!1}function Da(t){return hb()?t instanceof Element||t instanceof Oi(t).Element:!1}function xs(t){return hb()?t instanceof HTMLElement||t instanceof Oi(t).HTMLElement:!1}function SO(t){return!hb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Oi(t).ShadowRoot}function Fp(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=La(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function HX(t){return["table","td","th"].includes(Lf(t))}function mb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function JT(t){const e=ZT(),r=Da(t)?La(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function WX(t){let e=$l(t);for(;xs(e)&&!Yd(e);){if(JT(e))return e;if(mb(e))return null;e=$l(e)}return null}function ZT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yd(t){return["html","body","#document"].includes(Lf(t))}function La(t){return Oi(t).getComputedStyle(t)}function pb(t){return Da(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $l(t){if(Lf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||SO(t)&&t.host||Ts(t);return SO(e)?e.host:e}function aV(t){const e=$l(t);return Yd(e)?t.ownerDocument?t.ownerDocument.body:t.body:xs(e)&&Fp(e)?e:aV(e)}function Dm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=aV(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=Oi(i);if(a){const l=_E(o);return e.concat(o,o.visualViewport||[],Fp(i)?i:[],l&&r?Dm(l):[])}return e.concat(i,Dm(i,[],r))}function _E(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sV(t){const e=La(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=xs(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=Ey(r)!==a||Ey(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function eP(t){return Da(t)?t:t.contextElement}function Ed(t){const e=eP(t);if(!xs(e))return Dl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=sV(e);let o=(a?Ey(r.width):r.width)/n,l=(a?Ey(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const GX=Dl(0);function oV(t){const e=Oi(t);return!ZT()||!e.visualViewport?GX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KX(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Oi(t)?!1:e}function eu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=eP(t);let o=Dl(1);e&&(n?Da(n)&&(o=Ed(n)):o=Ed(t));const l=KX(a,r,n)?oV(a):Dl(0);let u=(i.left+l.x)/o.x,f=(i.top+l.y)/o.y,m=i.width/o.x,h=i.height/o.y;if(a){const p=Oi(a),y=n&&Da(n)?Oi(n):n;let w=p,b=_E(w);for(;b&&n&&y!==w;){const v=Ed(b),A=b.getBoundingClientRect(),E=La(b),j=A.left+(b.clientLeft+parseFloat(E.paddingLeft))*v.x,N=A.top+(b.clientTop+parseFloat(E.paddingTop))*v.y;u*=v.x,f*=v.y,m*=v.x,h*=v.y,u+=j,f+=N,w=Oi(b),b=_E(w)}}return Ty({width:m,height:h,x:u,y:f})}function YX(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=Ts(n),l=e?mb(e.floating):!1;if(n===o||l&&a)return r;let u={scrollLeft:0,scrollTop:0},f=Dl(1);const m=Dl(0),h=xs(n);if((h||!h&&!a)&&((Lf(n)!=="body"||Fp(o))&&(u=pb(n)),xs(n))){const p=eu(n);f=Ed(n),m.x=p.x+n.clientLeft,m.y=p.y+n.clientTop}return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+m.x,y:r.y*f.y-u.scrollTop*f.y+m.y}}function QX(t){return Array.from(t.getClientRects())}function SE(t,e){const r=pb(t).scrollLeft;return e?e.left+r:eu(Ts(t)).left+r}function XX(t){const e=Ts(t),r=pb(t),n=t.ownerDocument.body,i=Ei(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ei(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+SE(t);const l=-r.scrollTop;return La(n).direction==="rtl"&&(o+=Ei(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}function JX(t,e){const r=Oi(t),n=Ts(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,u=0;if(i){a=i.width,o=i.height;const f=ZT();(!f||f&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:l,y:u}}function ZX(t,e){const r=eu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=xs(t)?Ed(t):Dl(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,u=i*a.x,f=n*a.y;return{width:o,height:l,x:u,y:f}}function jO(t,e,r){let n;if(e==="viewport")n=JX(t,r);else if(e==="document")n=XX(Ts(t));else if(Da(e))n=ZX(e,r);else{const i=oV(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Ty(n)}function lV(t,e){const r=$l(t);return r===e||!Da(r)||Yd(r)?!1:La(r).position==="fixed"||lV(r,e)}function eJ(t,e){const r=e.get(t);if(r)return r;let n=Dm(t,[],!1).filter(l=>Da(l)&&Lf(l)!=="body"),i=null;const a=La(t).position==="fixed";let o=a?$l(t):t;for(;Da(o)&&!Yd(o);){const l=La(o),u=JT(o);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fp(o)&&!u&&lV(t,o))?n=n.filter(m=>m!==o):i=l,o=$l(o)}return e.set(t,n),n}function tJ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?mb(e)?[]:eJ(e,this._c):[].concat(r),n],l=o[0],u=o.reduce((f,m)=>{const h=jO(e,m,i);return f.top=Ei(h.top,f.top),f.right=Ml(h.right,f.right),f.bottom=Ml(h.bottom,f.bottom),f.left=Ei(h.left,f.left),f},jO(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function rJ(t){const{width:e,height:r}=sV(t);return{width:e,height:r}}function nJ(t,e,r){const n=xs(e),i=Ts(e),a=r==="fixed",o=eu(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const u=Dl(0);if(n||!n&&!a)if((Lf(e)!=="body"||Fp(i))&&(l=pb(e)),n){const y=eu(e,!0,a,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&(u.x=SE(i));let f=0,m=0;if(i&&!n&&!a){const y=i.getBoundingClientRect();m=y.top+l.scrollTop,f=y.left+l.scrollLeft-SE(i,y)}const h=o.left+l.scrollLeft-u.x-f,p=o.top+l.scrollTop-u.y-m;return{x:h,y:p,width:o.width,height:o.height}}function C1(t){return La(t).position==="static"}function NO(t,e){if(!xs(t)||La(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ts(t)===r&&(r=r.ownerDocument.body),r}function cV(t,e){const r=Oi(t);if(mb(t))return r;if(!xs(t)){let i=$l(t);for(;i&&!Yd(i);){if(Da(i)&&!C1(i))return i;i=$l(i)}return r}let n=NO(t,e);for(;n&&HX(n)&&C1(n);)n=NO(n,e);return n&&Yd(n)&&C1(n)&&!JT(n)?r:n||WX(t)||r}const iJ=async function(t){const e=this.getOffsetParent||cV,r=this.getDimensions,n=await r(t.floating);return{reference:nJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aJ(t){return La(t).direction==="rtl"}const sJ={convertOffsetParentRelativeRectToViewportRelativeRect:YX,getDocumentElement:Ts,getClippingRect:tJ,getOffsetParent:cV,getElementRects:iJ,getClientRects:QX,getDimensions:rJ,getScale:Ed,isElement:Da,isRTL:aJ};function oJ(t,e){let r=null,n;const i=Ts(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const{left:f,top:m,width:h,height:p}=t.getBoundingClientRect();if(l||e(),!h||!p)return;const y=kv(m),w=kv(i.clientWidth-(f+h)),b=kv(i.clientHeight-(m+p)),v=kv(f),E={rootMargin:-y+"px "+-w+"px "+-b+"px "+-v+"px",threshold:Ei(0,Ml(1,u))||1};let j=!0;function N(T){const O=T[0].intersectionRatio;if(O!==u){if(!j)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{r=new IntersectionObserver(N,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,E)}r.observe(t)}return o(!0),a}function lJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=eP(t),m=i||a?[...f?Dm(f):[],...Dm(e)]:[];m.forEach(A=>{i&&A.addEventListener("scroll",r,{passive:!0}),a&&A.addEventListener("resize",r)});const h=f&&l?oJ(f,r):null;let p=-1,y=null;o&&(y=new ResizeObserver(A=>{let[E]=A;E&&E.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(e)})),r()}),f&&!u&&y.observe(f),y.observe(e));let w,b=u?eu(t):null;u&&v();function v(){const A=eu(t);b&&(A.x!==b.x||A.y!==b.y||A.width!==b.width||A.height!==b.height)&&r(),b=A,w=requestAnimationFrame(v)}return r(),()=>{var A;m.forEach(E=>{i&&E.removeEventListener("scroll",r),a&&E.removeEventListener("resize",r)}),h==null||h(),(A=y)==null||A.disconnect(),y=null,u&&cancelAnimationFrame(w)}}const cJ=BX,uJ=UX,dJ=$X,fJ=qX,hJ=FX,EO=LX,mJ=zX,pJ=(t,e,r)=>{const n=new Map,i={platform:sJ,...r},a={...i.platform,_c:n};return DX(t,e,{...i,platform:a})};var ay=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Py(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Py(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Py(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function uV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AO(t,e){const r=uV(t);return Math.round(e*r)/r}function I1(t){const e=S.useRef(t);return ay(()=>{e.current=t}),e}function gJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:u,open:f}=t,[m,h]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=S.useState(n);Py(p,n)||y(n);const[w,b]=S.useState(null),[v,A]=S.useState(null),E=S.useCallback(W=>{W!==O.current&&(O.current=W,b(W))},[]),j=S.useCallback(W=>{W!==k.current&&(k.current=W,A(W))},[]),N=a||w,T=o||v,O=S.useRef(null),k=S.useRef(null),C=S.useRef(m),M=u!=null,F=I1(u),D=I1(i),V=I1(f),$=S.useCallback(()=>{if(!O.current||!k.current)return;const W={placement:e,strategy:r,middleware:p};D.current&&(W.platform=D.current),pJ(O.current,k.current,W).then(J=>{const ee={...J,isPositioned:V.current!==!1};H.current&&!Py(C.current,ee)&&(C.current=ee,Rf.flushSync(()=>{h(ee)}))})},[p,e,r,D,V]);ay(()=>{f===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[f]);const H=S.useRef(!1);ay(()=>(H.current=!0,()=>{H.current=!1}),[]),ay(()=>{if(N&&(O.current=N),T&&(k.current=T),N&&T){if(F.current)return F.current(N,T,$);$()}},[N,T,$,F,M]);const G=S.useMemo(()=>({reference:O,floating:k,setReference:E,setFloating:j}),[E,j]),Q=S.useMemo(()=>({reference:N,floating:T}),[N,T]),Y=S.useMemo(()=>{const W={position:r,left:0,top:0};if(!Q.floating)return W;const J=AO(Q.floating,m.x),ee=AO(Q.floating,m.y);return l?{...W,transform:"translate("+J+"px, "+ee+"px)",...uV(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:ee}},[r,l,Q.floating,m.x,m.y]);return S.useMemo(()=>({...m,update:$,refs:G,elements:Q,floatingStyles:Y}),[m,$,G,Q,Y])}const vJ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?EO({element:n.current,padding:i}).fn(r):{}:n?EO({element:n,padding:i}).fn(r):{}}}},yJ=(t,e)=>({...cJ(t),options:[t,e]}),xJ=(t,e)=>({...uJ(t),options:[t,e]}),bJ=(t,e)=>({...mJ(t),options:[t,e]}),wJ=(t,e)=>({...dJ(t),options:[t,e]}),_J=(t,e)=>({...fJ(t),options:[t,e]}),SJ=(t,e)=>({...hJ(t),options:[t,e]}),jJ=(t,e)=>({...vJ(t),options:[t,e]});var NJ="Arrow",dV=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(Qe.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});dV.displayName=NJ;var EJ=dV;function AJ(t,e=[]){let r=[];function n(a,o){const l=S.createContext(o),u=r.length;r=[...r,o];function f(h){const{scope:p,children:y,...w}=h,b=(p==null?void 0:p[t][u])||l,v=S.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:v,children:y})}function m(h,p){const y=(p==null?void 0:p[t][u])||l,w=S.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,m]}const i=()=>{const a=r.map(o=>S.createContext(o));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,TJ(i,...e)]}function TJ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Vp(t){const[e,r]=S.useState(void 0);return un(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,l=f.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var tP="Popper",[fV,gb]=AJ(tP),[PJ,hV]=fV(tP),mV=t=>{const{__scopePopper:e,children:r}=t,[n,i]=S.useState(null);return s.jsx(PJ,{scope:e,anchor:n,onAnchorChange:i,children:r})};mV.displayName=tP;var pV="PopperAnchor",gV=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=hV(pV,r),o=S.useRef(null),l=Dt(e,o);return S.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Qe.div,{...i,ref:l})});gV.displayName=pV;var rP="PopperContent",[kJ,CJ]=fV(rP),vV=S.forwardRef((t,e)=>{var me,Pe,ue,ve,_e,le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:w,...b}=t,v=hV(rP,r),[A,E]=S.useState(null),j=Dt(e,Ye=>E(Ye)),[N,T]=S.useState(null),O=Vp(N),k=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,M=n+(a!=="center"?"-"+a:""),F=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},D=Array.isArray(f)?f:[f],V=D.length>0,$={padding:F,boundary:D.filter(OJ),altBoundary:V},{refs:H,floatingStyles:G,placement:Q,isPositioned:Y,middlewareData:W}=gJ({strategy:"fixed",placement:M,whileElementsMounted:(...Ye)=>lJ(...Ye,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[yJ({mainAxis:i+C,alignmentAxis:o}),u&&xJ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?bJ():void 0,...$}),u&&wJ({...$}),_J({...$,apply:({elements:Ye,rects:Ke,availableWidth:ut,availableHeight:st})=>{const{width:mt,height:lr}=Ke.reference,Ct=Ye.floating.style;Ct.setProperty("--radix-popper-available-width",`${ut}px`),Ct.setProperty("--radix-popper-available-height",`${st}px`),Ct.setProperty("--radix-popper-anchor-width",`${mt}px`),Ct.setProperty("--radix-popper-anchor-height",`${lr}px`)}}),N&&jJ({element:N,padding:l}),RJ({arrowWidth:k,arrowHeight:C}),p&&SJ({strategy:"referenceHidden",...$})]}),[J,ee]=bV(Q),q=Yn(w);un(()=>{Y&&(q==null||q())},[Y,q]);const X=(me=W.arrow)==null?void 0:me.x,se=(Pe=W.arrow)==null?void 0:Pe.y,xe=((ue=W.arrow)==null?void 0:ue.centerOffset)!==0,[Ae,Te]=S.useState();return un(()=>{A&&Te(window.getComputedStyle(A).zIndex)},[A]),s.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Y?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(ve=W.transformOrigin)==null?void 0:ve.x,(_e=W.transformOrigin)==null?void 0:_e.y].join(" "),...((le=W.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(kJ,{scope:r,placedSide:J,onArrowChange:T,arrowX:X,arrowY:se,shouldHideArrow:xe,children:s.jsx(Qe.div,{"data-side":J,"data-align":ee,...b,ref:j,style:{...b.style,animation:Y?void 0:"none"}})})})});vV.displayName=rP;var yV="PopperArrow",IJ={top:"bottom",right:"left",bottom:"top",left:"right"},xV=S.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=CJ(yV,n),o=IJ[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(EJ,{...i,ref:r,style:{...i.style,display:"block"}})})});xV.displayName=yV;function OJ(t){return t!==null}var RJ=t=>({name:"transformOrigin",options:t,fn(e){var v,A,E;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,m]=bV(r),h={start:"0%",center:"50%",end:"100%"}[m],p=(((A=i.arrow)==null?void 0:A.x)??0)+l/2,y=(((E=i.arrow)==null?void 0:E.y)??0)+u/2;let w="",b="";return f==="bottom"?(w=o?h:`${p}px`,b=`${-u}px`):f==="top"?(w=o?h:`${p}px`,b=`${n.floating.height+u}px`):f==="right"?(w=`${-u}px`,b=o?h:`${y}px`):f==="left"&&(w=`${n.floating.width+u}px`,b=o?h:`${y}px`),{data:{x:w,y:b}}}});function bV(t){const[e,r="center"]=t.split("-");return[e,r]}var wV=mV,_V=gV,SV=vV,jV=xV,[vb,IPe]=Va("Tooltip",[gb]),yb=gb(),NV="TooltipProvider",MJ=700,jE="tooltip.open",[DJ,nP]=vb(NV),EV=t=>{const{__scopeTooltip:e,delayDuration:r=MJ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,[o,l]=S.useState(!0),u=S.useRef(!1),f=S.useRef(0);return S.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),s.jsx(DJ,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(f.current),l(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:S.useCallback(m=>{u.current=m},[]),disableHoverableContent:i,children:a})};EV.displayName=NV;var xb="Tooltip",[LJ,bb]=vb(xb),AV=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,u=nP(xb,t.__scopeTooltip),f=yb(e),[m,h]=S.useState(null),p=ao(),y=S.useRef(0),w=o??u.disableHoverableContent,b=l??u.delayDuration,v=S.useRef(!1),[A=!1,E]=Ma({prop:n,defaultProp:i,onChange:k=>{k?(u.onOpen(),document.dispatchEvent(new CustomEvent(jE))):u.onClose(),a==null||a(k)}}),j=S.useMemo(()=>A?v.current?"delayed-open":"instant-open":"closed",[A]),N=S.useCallback(()=>{window.clearTimeout(y.current),y.current=0,v.current=!1,E(!0)},[E]),T=S.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E(!1)},[E]),O=S.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{v.current=!0,E(!0),y.current=0},b)},[b,E]);return S.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),s.jsx(wV,{...f,children:s.jsx(LJ,{scope:e,contentId:p,open:A,stateAttribute:j,trigger:m,onTriggerChange:h,onTriggerEnter:S.useCallback(()=>{u.isOpenDelayed?O():N()},[u.isOpenDelayed,O,N]),onTriggerLeave:S.useCallback(()=>{w?T():(window.clearTimeout(y.current),y.current=0)},[T,w]),onOpen:N,onClose:T,disableHoverableContent:w,children:r})})};AV.displayName=xb;var NE="TooltipTrigger",TV=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=bb(NE,r),a=nP(NE,r),o=yb(r),l=S.useRef(null),u=Dt(e,l,i.onTriggerChange),f=S.useRef(!1),m=S.useRef(!1),h=S.useCallback(()=>f.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(_V,{asChild:!0,...o,children:s.jsx(Qe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:He(t.onPointerMove,p=>{p.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:He(t.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:He(t.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:He(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:He(t.onBlur,i.onClose),onClick:He(t.onClick,i.onClose)})})});TV.displayName=NE;var $J="TooltipPortal",[OPe,FJ]=vb($J,{forceMount:void 0}),Qd="TooltipContent",PV=S.forwardRef((t,e)=>{const r=FJ(Qd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=bb(Qd,t.__scopeTooltip);return s.jsx(jo,{present:n||o.open,children:o.disableHoverableContent?s.jsx(kV,{side:i,...a,ref:e}):s.jsx(VJ,{side:i,...a,ref:e})})}),VJ=S.forwardRef((t,e)=>{const r=bb(Qd,t.__scopeTooltip),n=nP(Qd,t.__scopeTooltip),i=S.useRef(null),a=Dt(e,i),[o,l]=S.useState(null),{trigger:u,onClose:f}=r,m=i.current,{onPointerInTransitChange:h}=n,p=S.useCallback(()=>{l(null),h(!1)},[h]),y=S.useCallback((w,b)=>{const v=w.currentTarget,A={x:w.clientX,y:w.clientY},E=qJ(A,v.getBoundingClientRect()),j=HJ(A,E),N=WJ(b.getBoundingClientRect()),T=KJ([...j,...N]);l(T),h(!0)},[h]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(u&&m){const w=v=>y(v,m),b=v=>y(v,u);return u.addEventListener("pointerleave",w),m.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",b)}}},[u,m,y,p]),S.useEffect(()=>{if(o){const w=b=>{const v=b.target,A={x:b.clientX,y:b.clientY},E=(u==null?void 0:u.contains(v))||(m==null?void 0:m.contains(v)),j=!GJ(A,o);E?p():j&&(p(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[u,m,o,f,p]),s.jsx(kV,{...t,ref:a})}),[BJ,UJ]=vb(xb,{isInside:!1}),kV=S.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,u=bb(Qd,r),f=yb(r),{onClose:m}=u;return S.useEffect(()=>(document.addEventListener(jE,m),()=>document.removeEventListener(jE,m)),[m]),S.useEffect(()=>{if(u.trigger){const h=p=>{const y=p.target;y!=null&&y.contains(u.trigger)&&m()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,m]),s.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:m,children:s.jsxs(SV,{"data-state":u.stateAttribute,...f,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(s6,{children:n}),s.jsx(BJ,{scope:r,isInside:!0,children:s.jsx(dY,{id:u.contentId,role:"tooltip",children:i||n})})]})})});PV.displayName=Qd;var CV="TooltipArrow",zJ=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=yb(r);return UJ(CV,r).isInside?null:s.jsx(jV,{...i,...n,ref:e})});zJ.displayName=CV;function qJ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function HJ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function WJ(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function GJ(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,u=e[a].y,f=e[o].x,m=e[o].y;u>n!=m>n&&r<(f-l)*(n-u)/(m-u)+l&&(i=!i)}return i}function KJ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),YJ(e)}function YJ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var QJ=EV,XJ=AV,JJ=TV,IV=PV;const Ad=QJ,gm=XJ,vm=JJ,Td=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(IV,{ref:n,sideOffset:e,className:at("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Td.displayName=IV.displayName;const ZJ=ub("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?Jc:"button";return s.jsx(o,{className:at(ZJ({variant:e,size:r,className:t})),ref:a,...i})});re.displayName="Button";const ke=S.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:at("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ke.displayName="Card";const pt=S.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:at("flex flex-col space-y-1.5 p-6",t),...e}));pt.displayName="CardHeader";const ht=S.forwardRef(({className:t,...e},r)=>s.jsx("h3",{ref:r,className:at("text-2xl font-semibold leading-none tracking-tight",t),...e}));ht.displayName="CardTitle";const tu=S.forwardRef(({className:t,...e},r)=>s.jsx("p",{ref:r,className:at("text-sm text-muted-foreground",t),...e}));tu.displayName="CardDescription";const it=S.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:at("p-6 pt-0",t),...e}));it.displayName="CardContent";const bs=S.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:at("flex items-center p-6 pt-0",t),...e}));bs.displayName="CardFooter";class eZ extends S.Component{constructor(){super(...arguments);vn(this,"state",{hasError:!1,error:null,errorInfo:null});vn(this,"handleReload",()=>{window.location.reload()});vn(this,"handleGoHome",()=>{window.location.href="/SafeBite-V1/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:s.jsxs(ke,{className:"w-full max-w-md border-safebite-teal/50 bg-safebite-card-bg",children:[s.jsx(pt,{children:s.jsx(ht,{className:"text-safebite-text text-xl",children:"Something went wrong"})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-safebite-text-secondary",children:"We're sorry, but an error occurred while loading the application."}),this.state.error&&s.jsx("div",{className:"bg-safebite-card-bg-alt p-3 rounded-md overflow-auto max-h-40",children:s.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error.toString()})})]})}),s.jsxs(bs,{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",onClick:this.handleGoHome,children:"Go to Home"}),s.jsx(re,{onClick:this.handleReload,children:"Reload Page"})]})]})}):this.props.children}}var wb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_b=typeof window>"u"||"Deno"in globalThis;function Aa(){}function tZ(t,e){return typeof t=="function"?t(e):t}function rZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function nZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function TO(t,e){return typeof t=="function"?t(e):t}function iZ(t,e){return typeof t=="function"?t(e):t}function PO(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==iP(o,e.options))return!1}else if(!$m(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function kO(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Lm(e.options.mutationKey)!==Lm(a))return!1}else if(!$m(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function iP(t,e){return((e==null?void 0:e.queryKeyHashFn)||Lm)(t)}function Lm(t){return JSON.stringify(t,(e,r)=>EE(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function $m(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!$m(t[r],e[r])):!1}function OV(t,e){if(t===e)return t;const r=CO(t)&&CO(e);if(r||EE(t)&&EE(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let u=0;for(let f=0;f<o;f++){const m=r?f:a[f];(!r&&n.includes(m)||r)&&t[m]===void 0&&e[m]===void 0?(l[m]=void 0,u++):(l[m]=OV(t[m],e[m]),l[m]===t[m]&&t[m]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function CO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function EE(t){if(!IO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!IO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function IO(t){return Object.prototype.toString.call(t)==="[object Object]"}function aZ(t){return new Promise(e=>{setTimeout(e,t)})}function sZ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?OV(t,e):e}function oZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function lZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var aP=Symbol();function RV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===aP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zc,vl,$d,KF,cZ=(KF=class extends wb{constructor(){super();Yt(this,zc);Yt(this,vl);Yt(this,$d);Nt(this,$d,e=>{if(!_b&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ge(this,vl)||this.setEventListener(ge(this,$d))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,vl))==null||e.call(this),Nt(this,vl,void 0))}setEventListener(e){var r;Nt(this,$d,e),(r=ge(this,vl))==null||r.call(this),Nt(this,vl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ge(this,zc)!==e&&(Nt(this,zc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ge(this,zc)=="boolean"?ge(this,zc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zc=new WeakMap,vl=new WeakMap,$d=new WeakMap,KF),MV=new cZ,Fd,yl,Vd,YF,uZ=(YF=class extends wb{constructor(){super();Yt(this,Fd,!0);Yt(this,yl);Yt(this,Vd);Nt(this,Vd,e=>{if(!_b&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ge(this,yl)||this.setEventListener(ge(this,Vd))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,yl))==null||e.call(this),Nt(this,yl,void 0))}setEventListener(e){var r;Nt(this,Vd,e),(r=ge(this,yl))==null||r.call(this),Nt(this,yl,e(this.setOnline.bind(this)))}setOnline(e){ge(this,Fd)!==e&&(Nt(this,Fd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ge(this,Fd)}},Fd=new WeakMap,yl=new WeakMap,Vd=new WeakMap,YF),ky=new uZ;function dZ(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function fZ(t){return Math.min(1e3*2**t,3e4)}function DV(t){return(t??"online")==="online"?ky.isOnline():!0}var LV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function O1(t){return t instanceof LV}function $V(t){let e=!1,r=0,n=!1,i;const a=dZ(),o=b=>{var v;n||(p(new LV(b)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},u=()=>{e=!1},f=()=>MV.isFocused()&&(t.networkMode==="always"||ky.isOnline())&&t.canRun(),m=()=>DV(t.networkMode)&&t.canRun(),h=b=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,b),i==null||i(),a.resolve(b))},p=b=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,b),i==null||i(),a.reject(b))},y=()=>new Promise(b=>{var v;i=A=>{(n||f())&&b(A)},(v=t.onPause)==null||v.call(t)}).then(()=>{var b;i=void 0,n||(b=t.onContinue)==null||b.call(t)}),w=()=>{if(n)return;let b;const v=r===0?t.initialPromise:void 0;try{b=v??t.fn()}catch(A){b=Promise.reject(A)}Promise.resolve(b).then(h).catch(A=>{var O;if(n)return;const E=t.retry??(_b?0:3),j=t.retryDelay??fZ,N=typeof j=="function"?j(r,A):j,T=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,A);if(e||!T){p(A);return}r++,(O=t.onFail)==null||O.call(t,r,A),aZ(N).then(()=>f()?void 0:y()).then(()=>{e?p(A):w()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:u,canStart:m,start:()=>(m()?w():y().then(w),a)}}function hZ(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{a(()=>{l(...u)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var zn=hZ(),qc,QF,FV=(QF=class{constructor(){Yt(this,qc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rZ(this.gcTime)&&Nt(this,qc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_b?1/0:5*60*1e3))}clearGcTimeout(){ge(this,qc)&&(clearTimeout(ge(this,qc)),Nt(this,qc,void 0))}},qc=new WeakMap,QF),Bd,Ud,Qi,Pn,Mp,Hc,Ta,Qs,XF,mZ=(XF=class extends FV{constructor(r){super();Yt(this,Ta);Yt(this,Bd);Yt(this,Ud);Yt(this,Qi);Yt(this,Pn);Yt(this,Mp);Yt(this,Hc);Nt(this,Hc,!1),Nt(this,Mp,r.defaultOptions),this.setOptions(r.options),this.observers=[],Nt(this,Qi,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Nt(this,Bd,gZ(this.options)),this.state=r.state??ge(this,Bd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=ge(this,Pn))==null?void 0:r.promise}setOptions(r){this.options={...ge(this,Mp),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Qi).remove(this)}setData(r,n){const i=sZ(this.state.data,r,this.options);return An(this,Ta,Qs).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){An(this,Ta,Qs).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=ge(this,Pn))==null?void 0:i.promise;return(a=ge(this,Pn))==null||a.cancel(r),n?n.then(Aa).catch(Aa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,Bd))}isActive(){return this.observers.some(r=>iZ(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!nZ(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=ge(this,Pn))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=ge(this,Pn))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),ge(this,Qi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(ge(this,Pn)&&(ge(this,Hc)?ge(this,Pn).cancel({revert:!0}):ge(this,Pn).cancelRetry()),this.scheduleGc()),ge(this,Qi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||An(this,Ta,Qs).call(this,{type:"invalidate"})}fetch(r,n){var f,m,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,Pn))return ge(this,Pn).continueRetry(),ge(this,Pn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Nt(this,Hc,!0),i.signal)})},o=()=>{const p=RV(this.options,n),y={queryKey:this.queryKey,meta:this.meta};return a(y),Nt(this,Hc,!1),this.options.persister?this.options.persister(p,y,this):p(y)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(f=this.options.behavior)==null||f.onFetch(l,this),Nt(this,Ud,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=l.fetchOptions)==null?void 0:m.meta))&&An(this,Ta,Qs).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const u=p=>{var y,w,b,v;O1(p)&&p.silent||An(this,Ta,Qs).call(this,{type:"error",error:p}),O1(p)||((w=(y=ge(this,Qi).config).onError)==null||w.call(y,p,this),(v=(b=ge(this,Qi).config).onSettled)==null||v.call(b,this.state.data,p,this)),this.scheduleGc()};return Nt(this,Pn,$V({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var y,w,b,v;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(A){u(A);return}(w=(y=ge(this,Qi).config).onSuccess)==null||w.call(y,p,this),(v=(b=ge(this,Qi).config).onSettled)==null||v.call(b,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,y)=>{An(this,Ta,Qs).call(this,{type:"failed",failureCount:p,error:y})},onPause:()=>{An(this,Ta,Qs).call(this,{type:"pause"})},onContinue:()=>{An(this,Ta,Qs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ge(this,Pn).start()}},Bd=new WeakMap,Ud=new WeakMap,Qi=new WeakMap,Pn=new WeakMap,Mp=new WeakMap,Hc=new WeakMap,Ta=new WeakSet,Qs=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...pZ(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return O1(a)&&a.revert&&ge(this,Ud)?{...ge(this,Ud),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),zn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ge(this,Qi).notify({query:this,type:"updated",action:r})})},XF);function pZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ns,JF,vZ=(JF=class extends wb{constructor(e={}){super();Yt(this,ns);this.config=e,Nt(this,ns,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??iP(i,r);let o=this.get(a);return o||(o=new mZ({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ge(this,ns).has(e.queryHash)||(ge(this,ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ge(this,ns).get(e.queryHash);r&&(e.destroy(),r===e&&ge(this,ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ge(this,ns).get(e)}getAll(){return[...ge(this,ns).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>PO(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>PO(e,n)):r}notify(e){zn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ns=new WeakMap,JF),is,Un,Wc,as,ll,ZF,yZ=(ZF=class extends FV{constructor(r){super();Yt(this,as);Yt(this,is);Yt(this,Un);Yt(this,Wc);this.mutationId=r.mutationId,Nt(this,Un,r.mutationCache),Nt(this,is,[]),this.state=r.state||xZ(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){ge(this,is).includes(r)||(ge(this,is).push(r),this.clearGcTimeout(),ge(this,Un).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Nt(this,is,ge(this,is).filter(n=>n!==r)),this.scheduleGc(),ge(this,Un).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){ge(this,is).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Un).remove(this))}continue(){var r;return((r=ge(this,Wc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,o,l,u,f,m,h,p,y,w,b,v,A,E,j,N,T,O,k,C;Nt(this,Wc,$V({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(M,F)=>{An(this,as,ll).call(this,{type:"failed",failureCount:M,error:F})},onPause:()=>{An(this,as,ll).call(this,{type:"pause"})},onContinue:()=>{An(this,as,ll).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Un).canRun(this)}));const n=this.state.status==="pending",i=!ge(this,Wc).canStart();try{if(!n){An(this,as,ll).call(this,{type:"pending",variables:r,isPaused:i}),await((o=(a=ge(this,Un).config).onMutate)==null?void 0:o.call(a,r,this));const F=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,r));F!==this.state.context&&An(this,as,ll).call(this,{type:"pending",context:F,variables:r,isPaused:i})}const M=await ge(this,Wc).start();return await((m=(f=ge(this,Un).config).onSuccess)==null?void 0:m.call(f,M,r,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,M,r,this.state.context)),await((w=(y=ge(this,Un).config).onSettled)==null?void 0:w.call(y,M,null,this.state.variables,this.state.context,this)),await((v=(b=this.options).onSettled)==null?void 0:v.call(b,M,null,r,this.state.context)),An(this,as,ll).call(this,{type:"success",data:M}),M}catch(M){try{throw await((E=(A=ge(this,Un).config).onError)==null?void 0:E.call(A,M,r,this.state.context,this)),await((N=(j=this.options).onError)==null?void 0:N.call(j,M,r,this.state.context)),await((O=(T=ge(this,Un).config).onSettled)==null?void 0:O.call(T,void 0,M,this.state.variables,this.state.context,this)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,M,r,this.state.context)),M}finally{An(this,as,ll).call(this,{type:"error",error:M})}}finally{ge(this,Un).runNext(this)}}},is=new WeakMap,Un=new WeakMap,Wc=new WeakMap,as=new WeakSet,ll=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zn.batch(()=>{ge(this,is).forEach(i=>{i.onMutationUpdate(r)}),ge(this,Un).notify({mutation:this,type:"updated",action:r})})},ZF);function xZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Si,Dp,e6,bZ=(e6=class extends wb{constructor(e={}){super();Yt(this,Si);Yt(this,Dp);this.config=e,Nt(this,Si,new Map),Nt(this,Dp,Date.now())}build(e,r,n){const i=new yZ({mutationCache:this,mutationId:++jv(this,Dp)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=Cv(e),n=ge(this,Si).get(r)??[];n.push(e),ge(this,Si).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Cv(e);if(ge(this,Si).has(r)){const i=(n=ge(this,Si).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?ge(this,Si).delete(r):ge(this,Si).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=ge(this,Si).get(Cv(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=ge(this,Si).get(Cv(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ge(this,Si).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>kO(r,n))}findAll(e={}){return this.getAll().filter(r=>kO(e,r))}notify(e){zn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return zn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Aa))))}},Si=new WeakMap,Dp=new WeakMap,e6);function Cv(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function OO(t){return{onFetch:(e,r)=>{var m,h,p,y,w;const n=e.options,i=(p=(h=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let b=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},A=RV(e.options,e.fetchOptions),E=async(j,N,T)=>{if(b)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const O={queryKey:e.queryKey,pageParam:N,direction:T?"backward":"forward",meta:e.options.meta};v(O);const k=await A(O),{maxPages:C}=e.options,M=T?lZ:oZ;return{pages:M(j.pages,k,C),pageParams:M(j.pageParams,N,C)}};if(i&&a.length){const j=i==="backward",N=j?wZ:RO,T={pages:a,pageParams:o},O=N(n,T);l=await E(T,O,j)}else{const j=t??a.length;do{const N=u===0?o[0]??n.initialPageParam:RO(n,l);if(u>0&&N==null)break;l=await E(l,N),u++}while(u<j)}return l};e.options.persister?e.fetchFn=()=>{var b,v;return(v=(b=e.options).persister)==null?void 0:v.call(b,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=f}}}function RO(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function wZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Mr,xl,bl,zd,qd,wl,Hd,Wd,t6,_Z=(t6=class{constructor(t={}){Yt(this,Mr);Yt(this,xl);Yt(this,bl);Yt(this,zd);Yt(this,qd);Yt(this,wl);Yt(this,Hd);Yt(this,Wd);Nt(this,Mr,t.queryCache||new vZ),Nt(this,xl,t.mutationCache||new bZ),Nt(this,bl,t.defaultOptions||{}),Nt(this,zd,new Map),Nt(this,qd,new Map),Nt(this,wl,0)}mount(){jv(this,wl)._++,ge(this,wl)===1&&(Nt(this,Hd,MV.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Mr).onFocus())})),Nt(this,Wd,ky.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Mr).onOnline())})))}unmount(){var t,e;jv(this,wl)._--,ge(this,wl)===0&&((t=ge(this,Hd))==null||t.call(this),Nt(this,Hd,void 0),(e=ge(this,Wd))==null||e.call(this),Nt(this,Wd,void 0))}isFetching(t){return ge(this,Mr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ge(this,xl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ge(this,Mr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=ge(this,Mr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(TO(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return ge(this,Mr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=ge(this,Mr).get(n.queryHash),a=i==null?void 0:i.state.data,o=tZ(e,a);if(o!==void 0)return ge(this,Mr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return zn.batch(()=>ge(this,Mr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ge(this,Mr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ge(this,Mr);zn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ge(this,Mr),n={type:"active",...t};return zn.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=zn.batch(()=>ge(this,Mr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Aa).catch(Aa)}invalidateQueries(t={},e={}){return zn.batch(()=>{if(ge(this,Mr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=zn.batch(()=>ge(this,Mr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Aa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Aa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ge(this,Mr).build(this,e);return r.isStaleByTime(TO(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Aa).catch(Aa)}fetchInfiniteQuery(t){return t.behavior=OO(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Aa).catch(Aa)}ensureInfiniteQueryData(t){return t.behavior=OO(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ky.isOnline()?ge(this,xl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,Mr)}getMutationCache(){return ge(this,xl)}getDefaultOptions(){return ge(this,bl)}setDefaultOptions(t){Nt(this,bl,t)}setQueryDefaults(t,e){ge(this,zd).set(Lm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ge(this,zd).values()];let r={};return e.forEach(n=>{$m(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){ge(this,qd).set(Lm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ge(this,qd).values()];let r={};return e.forEach(n=>{$m(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ge(this,bl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===aP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ge(this,bl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ge(this,Mr).clear(),ge(this,xl).clear()}},Mr=new WeakMap,xl=new WeakMap,bl=new WeakMap,zd=new WeakMap,qd=new WeakMap,wl=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,t6),SZ=S.createContext(void 0),jZ=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(SZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(this,arguments)}var _l;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_l||(_l={}));const MO="popstate";function NZ(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return AE("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Cy(i)}return AZ(e,r,null,t)}function Cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VV(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EZ(){return Math.random().toString(36).substr(2,8)}function DO(t,e){return{usr:t.state,key:t.key,idx:e}}function AE(t,e,r,n){return r===void 0&&(r=null),Fm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$f(e):e,{state:r,key:e&&e.key||n||EZ()})}function Cy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $f(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function AZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=_l.Pop,u=null,f=m();f==null&&(f=0,o.replaceState(Fm({},o.state,{idx:f}),""));function m(){return(o.state||{idx:null}).idx}function h(){l=_l.Pop;let v=m(),A=v==null?null:v-f;f=v,u&&u({action:l,location:b.location,delta:A})}function p(v,A){l=_l.Push;let E=AE(b.location,v,A);f=m()+1;let j=DO(E,f),N=b.createHref(E);try{o.pushState(j,"",N)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(N)}a&&u&&u({action:l,location:b.location,delta:1})}function y(v,A){l=_l.Replace;let E=AE(b.location,v,A);f=m();let j=DO(E,f),N=b.createHref(E);o.replaceState(j,"",N),a&&u&&u({action:l,location:b.location,delta:0})}function w(v){let A=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof v=="string"?v:Cy(v);return E=E.replace(/ $/,"%20"),Cr(A,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,A)}let b={get action(){return l},get location(){return t(i,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(MO,h),u=v,()=>{i.removeEventListener(MO,h),u=null}},createHref(v){return e(i,v)},createURL:w,encodeLocation(v){let A=w(v);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:y,go(v){return o.go(v)}};return b}var LO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(LO||(LO={}));function TZ(t,e,r){return r===void 0&&(r="/"),PZ(t,e,r)}function PZ(t,e,r,n){let i=typeof e=="string"?$f(e):e,a=Xd(i.pathname||"/",r);if(a==null)return null;let o=BV(t);kZ(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=BZ(a);l=FZ(o[u],f)}return l}function BV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Cr(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=El([n,u.relativePath]),m=r.concat(u);a.children&&a.children.length>0&&(Cr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),BV(a.children,e,m,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:LZ(f,a.index),routesMeta:m})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of UV(a.path))i(a,o,u)}),e}function UV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=UV(n.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function kZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:$Z(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const CZ=/^:[\w-]+$/,IZ=3,OZ=2,RZ=1,MZ=10,DZ=-2,$O=t=>t==="*";function LZ(t,e){let r=t.split("/"),n=r.length;return r.some($O)&&(n+=DZ),e&&(n+=OZ),r.filter(i=>!$O(i)).reduce((i,a)=>i+(CZ.test(a)?IZ:a===""?RZ:MZ),n)}function $Z(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function FZ(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,m=a==="/"?e:e.slice(a.length)||"/",h=TE({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),p=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:El([a,h.pathname]),pathnameBase:HZ(El([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=El([a,h.pathnameBase]))}return o}function TE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=VZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,m,h)=>{let{paramName:p,isOptional:y}=m;if(p==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=l[h];return y&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function VZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),VV(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function BZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VV(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function UZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?$f(t):t;return{pathname:r?r.startsWith("/")?r:zZ(r,e):e,search:WZ(n),hash:GZ(i)}}function zZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function R1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sP(t,e){let r=qZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oP(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=$f(t):(i=Fm({},t),Cr(!i.pathname||!i.pathname.includes("?"),R1("?","pathname","search",i)),Cr(!i.pathname||!i.pathname.includes("#"),R1("#","pathname","hash",i)),Cr(!i.search||!i.search.includes("#"),R1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?e[h]:"/"}let u=UZ(i,l),f=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}const El=t=>t.join("/").replace(/\/\/+/g,"/"),HZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zV=["post","put","patch","delete"];new Set(zV);const YZ=["get",...zV];new Set(YZ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(this,arguments)}const Sb=S.createContext(null),qV=S.createContext(null),No=S.createContext(null),jb=S.createContext(null),Wl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),HV=S.createContext(null);function QZ(t,e){let{relative:r}=e===void 0?{}:e;Ff()||Cr(!1);let{basename:n,navigator:i}=S.useContext(No),{hash:a,pathname:o,search:l}=Nb(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:El([n,o])),i.createHref({pathname:u,search:l,hash:a})}function Ff(){return S.useContext(jb)!=null}function Eo(){return Ff()||Cr(!1),S.useContext(jb).location}function WV(t){S.useContext(No).static||S.useLayoutEffect(t)}function Gr(){let{isDataRoute:t}=S.useContext(Wl);return t?cee():XZ()}function XZ(){Ff()||Cr(!1);let t=S.useContext(Sb),{basename:e,future:r,navigator:n}=S.useContext(No),{matches:i}=S.useContext(Wl),{pathname:a}=Eo(),o=JSON.stringify(sP(i,r.v7_relativeSplatPath)),l=S.useRef(!1);return WV(()=>{l.current=!0}),S.useCallback(function(f,m){if(m===void 0&&(m={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let h=oP(f,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:El([e,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[e,n,o,a,t])}function Nb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=S.useContext(No),{matches:i}=S.useContext(Wl),{pathname:a}=Eo(),o=JSON.stringify(sP(i,n.v7_relativeSplatPath));return S.useMemo(()=>oP(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function JZ(t,e){return ZZ(t,e)}function ZZ(t,e,r,n){Ff()||Cr(!1);let{navigator:i}=S.useContext(No),{matches:a}=S.useContext(Wl),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=Eo(),m;if(e){var h;let v=typeof e=="string"?$f(e):e;u==="/"||(h=v.pathname)!=null&&h.startsWith(u)||Cr(!1),m=v}else m=f;let p=m.pathname||"/",y=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=TZ(t,{pathname:y}),b=iee(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:El([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:El([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&b?S.createElement(jb.Provider,{value:{location:Vm({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:_l.Pop}},b):b}function eee(){let t=lee(),e=KZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:i},r):null,null)}const tee=S.createElement(eee,null);class ree extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(Wl.Provider,{value:this.props.routeContext},S.createElement(HV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nee(t){let{routeContext:e,match:r,children:n}=t,i=S.useContext(Sb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(Wl.Provider,{value:e},n)}function iee(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);m>=0||Cr(!1),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<o.length;m++){let h=o[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=m),h.route.id){let{loaderData:p,errors:y}=r,w=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,h,p)=>{let y,w=!1,b=null,v=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||tee,u&&(f<0&&p===0?(uee("route-fallback"),w=!0,v=null):f===p&&(w=!0,v=h.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,p+1)),E=()=>{let j;return y?j=b:w?j=v:h.route.Component?j=S.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=m,S.createElement(nee,{match:h,routeContext:{outlet:m,matches:A,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(ree,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}var GV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GV||{}),KV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(KV||{});function aee(t){let e=S.useContext(Sb);return e||Cr(!1),e}function see(t){let e=S.useContext(qV);return e||Cr(!1),e}function oee(t){let e=S.useContext(Wl);return e||Cr(!1),e}function YV(t){let e=oee(),r=e.matches[e.matches.length-1];return r.route.id||Cr(!1),r.route.id}function lee(){var t;let e=S.useContext(HV),r=see(),n=YV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function cee(){let{router:t}=aee(GV.UseNavigateStable),e=YV(KV.UseNavigateStable),r=S.useRef(!1);return WV(()=>{r.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vm({fromRouteId:e},a)))},[t,e])}const FO={};function uee(t,e,r){FO[t]||(FO[t]=!0)}function dee(t){let{to:e,replace:r,state:n,relative:i}=t;Ff()||Cr(!1);let{future:a,static:o}=S.useContext(No),{matches:l}=S.useContext(Wl),{pathname:u}=Eo(),f=Gr(),m=oP(e,sP(l,a.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(m);return S.useEffect(()=>f(JSON.parse(h),{replace:r,state:n,relative:i}),[f,h,i,r,n]),null}function Rr(t){Cr(!1)}function fee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=_l.Pop,navigator:a,static:o=!1,future:l}=t;Ff()&&Cr(!1);let u=e.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:u,navigator:a,static:o,future:Vm({v7_relativeSplatPath:!1},l)}),[u,l,a,o]);typeof n=="string"&&(n=$f(n));let{pathname:m="/",search:h="",hash:p="",state:y=null,key:w="default"}=n,b=S.useMemo(()=>{let v=Xd(m,u);return v==null?null:{location:{pathname:v,search:h,hash:p,state:y,key:w},navigationType:i}},[u,m,h,p,y,w,i]);return b==null?null:S.createElement(No.Provider,{value:f},S.createElement(jb.Provider,{children:r,value:b}))}function hee(t){let{children:e,location:r}=t;return JZ(PE(e),r)}new Promise(()=>{});function PE(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(n,i)=>{if(!S.isValidElement(n))return;let a=[...e,i];if(n.type===S.Fragment){r.push.apply(r,PE(n.props.children,a));return}n.type!==Rr&&Cr(!1),!n.props.index||!n.props.children||Cr(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=PE(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iy.apply(this,arguments)}function QV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function mee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pee(t,e){return t.button===0&&(!e||e==="_self")&&!mee(t)}const gee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yee="6";try{window.__reactRouterVersion=yee}catch{}const xee=S.createContext({isTransitioning:!1}),bee="startTransition",VO=n6[bee];function wee(t){let{basename:e,children:r,future:n,window:i}=t,a=S.useRef();a.current==null&&(a.current=NZ({window:i,v5Compat:!0}));let o=a.current,[l,u]=S.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},m=S.useCallback(h=>{f&&VO?VO(()=>u(h)):u(h)},[u,f]);return S.useLayoutEffect(()=>o.listen(m),[o,m]),S.createElement(fee,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const _ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",See=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=S.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:u,to:f,preventScrollReset:m,viewTransition:h}=e,p=QV(e,gee),{basename:y}=S.useContext(No),w,b=!1;if(typeof f=="string"&&See.test(f)&&(w=f,_ee))try{let j=new URL(window.location.href),N=f.startsWith("//")?new URL(j.protocol+f):new URL(f),T=Xd(N.pathname,y);N.origin===j.origin&&T!=null?f=T+N.search+N.hash:b=!0}catch{}let v=QZ(f,{relative:i}),A=Eee(f,{replace:o,state:l,target:u,preventScrollReset:m,relative:i,viewTransition:h});function E(j){n&&n(j),j.defaultPrevented||A(j)}return S.createElement("a",Iy({},p,{href:w||v,onClick:b||a?n:E,ref:r,target:u}))}),jee=S.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:f,children:m}=e,h=QV(e,vee),p=Nb(u,{relative:h.relative}),y=Eo(),w=S.useContext(qV),{navigator:b,basename:v}=S.useContext(No),A=w!=null&&Aee(p)&&f===!0,E=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,j=y.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(j=j.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&v&&(N=Xd(N,v)||N);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=j===E||!o&&j.startsWith(E)&&j.charAt(T)==="/",k=N!=null&&(N===E||!o&&N.startsWith(E)&&N.charAt(E.length)==="/"),C={isActive:O,isPending:k,isTransitioning:A},M=O?n:void 0,F;typeof a=="function"?F=a(C):F=[a,O?"active":null,k?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(C):l;return S.createElement(Ht,Iy({},h,{"aria-current":M,className:F,ref:r,style:D,to:u,viewTransition:f}),typeof m=="function"?m(C):m)});var kE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kE||(kE={}));var BO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BO||(BO={}));function Nee(t){let e=S.useContext(Sb);return e||Cr(!1),e}function Eee(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,u=Gr(),f=Eo(),m=Nb(t,{relative:o});return S.useCallback(h=>{if(pee(h,r)){h.preventDefault();let p=n!==void 0?n:Cy(f)===Cy(m);u(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[f,u,m,n,i,r,t,a,o,l])}function Aee(t,e){e===void 0&&(e={});let r=S.useContext(xee);r==null&&Cr(!1);let{basename:n}=Nee(kE.useViewTransitionState),i=Nb(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Xd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Xd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return TE(i.pathname,o)!=null||TE(i.pathname,a)!=null}const Oy=({size:t="md",className:e=""})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-24 h-24",xl:"w-32 h-32"};return s.jsxs("div",{className:`relative ${r[t]} ${e} aspect-square`,children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/30 blur-md animate-pulse"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal overflow-hidden",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-safebite-teal/20 to-transparent animate-spin-slow"})}),s.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:s.jsxs("svg",{className:"w-full h-full animate-spin-very-slow",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"50",cy:"50",r:"48",stroke:"rgba(20, 184, 166, 0.3)",strokeWidth:"0.5",strokeDasharray:"8 4"}),s.jsx("path",{d:"M50 2 L50 10 M2 50 L10 50 M50 90 L50 98 M90 50 L98 50",stroke:"rgba(20, 184, 166, 0.6)",strokeWidth:"0.5"}),s.jsx("circle",{cx:"50",cy:"10",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),s.jsx("circle",{cx:"10",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),s.jsx("circle",{cx:"50",cy:"90",r:"1",fill:"rgba(20, 184, 166, 0.8)"}),s.jsx("circle",{cx:"90",cy:"50",r:"1",fill:"rgba(20, 184, 166, 0.8)"})]})}),s.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",children:s.jsxs("svg",{className:"w-full h-full animate-spin-slow-reverse",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"rgba(20, 184, 166, 0.2)",strokeWidth:"0.5",strokeDasharray:"6 2"}),s.jsx("path",{d:"M50 15 L50 20 M15 50 L20 50 M50 80 L50 85 M80 50 L85 50",stroke:"rgba(20, 184, 166, 0.4)",strokeWidth:"0.5"}),s.jsx("circle",{cx:"50",cy:"20",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),s.jsx("circle",{cx:"20",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),s.jsx("circle",{cx:"50",cy:"80",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"}),s.jsx("circle",{cx:"80",cy:"50",r:"0.5",fill:"rgba(20, 184, 166, 0.6)"})]})}),s.jsx("div",{className:"absolute inset-2 rounded-full overflow-hidden border-2 border-safebite-teal/50 z-10 shadow-[0_0_10px_rgba(20,184,166,0.5)]",children:s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"/SafeBite-V1/ProfilePic-AdityaShenvi.jpg",alt:"Aditya Shenvi",className:"w-[150%] h-[150%] object-cover",style:{objectPosition:"center 25%"}})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-safebite-teal/10 to-transparent"})]})}),s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),s.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-safebite-teal rounded-full z-30 animate-pulse"})]})},XV=({developerName:t="Aditya Shenvi",version:e="v2.2"})=>{const[r,n]=S.useState(!1),[i,a]=S.useState(!1);S.useEffect(()=>{if(!localStorage.getItem("safebite_popup_shown")){const h=setTimeout(()=>{n(!0),localStorage.setItem("safebite_popup_shown","true")},2e3);return()=>clearTimeout(h)}},[]);const o=()=>{n(!1)},l=()=>{a(!i)};if(!r)return null;const u=["Added Product Recommendations page with MongoDB integration","Implemented user activity tracking for ML personalization","Added fitness wearable data import functionality","Fixed Healthbox component errors and improved UI","Added guest mode for testing without authentication","Improved Firebase security and error handling","Enhanced dashboard with real-time data visualization","Added login prompts for guest users"],f=[{name:"SafeBite Backend API",url:"https://safebite-backend.onrender.com"},{name:"MongoDB Atlas",url:"https://www.mongodb.com/atlas/database"},{name:"Edamam Food Database API",url:"https://www.edamam.com/"},{name:"CalorieNinjas API",url:"https://calorieninjas.com/"},{name:"FatSecret Platform API",url:"https://platform.fatsecret.com/"},{name:"Open Food Facts",url:"https://world.openfoodfacts.org/"},{name:"Unsplash Images",url:"https://unsplash.com/"},{name:"Firebase",url:"https://firebase.google.com/"}];return s.jsx(s.Fragment,{children:i?s.jsx("div",{className:"fixed bottom-4 right-4 bg-safebite-teal text-safebite-dark-blue p-2 rounded-full cursor-pointer z-50 shadow-lg hover:bg-safebite-teal/90 transition-all",onClick:l,children:s.jsx(ys,{size:24})}):s.jsxs("div",{className:"fixed bottom-4 right-4 w-80 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg shadow-xl z-50 sci-fi-card overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-safebite-card-bg-alt border-b border-safebite-card-bg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Oy,{size:"sm",className:"mr-2"}),s.jsx("h3",{className:"text-safebite-text font-medium",children:"Developer Info"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:l,className:"text-safebite-text-secondary hover:text-safebite-teal p-1 rounded",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),s.jsx("button",{onClick:o,className:"text-safebite-text-secondary hover:text-red-500 p-1 rounded",children:s.jsx(fi,{size:16})})]})]}),s.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"bg-safebite-teal/20 text-safebite-teal px-2 py-1 rounded text-xs mr-2",children:e}),s.jsx("div",{className:"bg-red-500/20 text-red-500 px-2 py-1 rounded text-xs",children:"Under Development"})]}),s.jsxs("p",{className:"text-safebite-text mb-3 font-medium",children:["Special Project by ",s.jsx("span",{className:"text-safebite-teal",children:t})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[s.jsx(ea,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"What's New in ",e]}),s.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:u.map((m,h)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),s.jsx("span",{children:m})]},h))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"text-safebite-text font-medium flex items-center mb-2",children:[s.jsx(ys,{className:"h-4 w-4 mr-1 text-safebite-teal"}),"Data & API Credits"]}),s.jsx("p",{className:"text-xs text-safebite-text-secondary mb-2",children:"SafeBite uses data from the following sources for educational purposes:"}),s.jsx("ul",{className:"text-xs text-safebite-text-secondary space-y-1",children:f.map((m,h)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-safebite-teal mr-1",children:"•"}),s.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-safebite-teal",children:[m.name,s.jsx(xd,{className:"h-3 w-3 ml-1"})]})]},h))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(re,{variant:"outline",size:"sm",className:"text-xs",onClick:o,children:"Dismiss"})})]})]})})},Eb=()=>{const[t,e]=S.useState(!1),r=Gr(),n=()=>{e(!t)};return s.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-safebite-dark-blue/90 backdrop-blur-md border-b border-safebite-card-bg-alt",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx(Ht,{to:"/",className:"flex items-center",children:s.jsx("span",{className:"text-2xl font-bold gradient-text",children:"SafeBite"})})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[s.jsx(Ht,{to:"/",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Home"}),s.jsx(Ht,{to:"/features",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"Features"}),s.jsx(Ht,{to:"/about",className:"text-safebite-text hover:text-safebite-teal transition-colors",children:"About"}),s.jsxs(re,{variant:"outline",className:"sci-fi-button",onClick:()=>r("/auth/login"),children:[s.jsx(Im,{className:"mr-2 h-4 w-4"}),"Login"]}),s.jsxs(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r("/auth/signup"),children:[s.jsx(Rm,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]}),s.jsx("div",{className:"md:hidden flex items-center",children:s.jsx("button",{onClick:n,className:"text-safebite-text hover:text-safebite-teal focus:outline-none",children:t?s.jsx(fi,{size:24}):s.jsx(V6,{size:24})})})]})}),t&&s.jsx("div",{className:"md:hidden bg-safebite-card-bg border-b border-safebite-card-bg-alt",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[s.jsx(Ht,{to:"/",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Home"}),s.jsx(Ht,{to:"/features",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"Features"}),s.jsx(Ht,{to:"/about",className:"block px-3 py-2 rounded-md text-safebite-text hover:bg-safebite-card-bg-alt hover:text-safebite-teal",onClick:()=>e(!1),children:"About"}),s.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[s.jsxs(re,{variant:"outline",className:"sci-fi-button w-full justify-center",onClick:()=>{r("/auth/login"),e(!1)},children:[s.jsx(Im,{className:"mr-2 h-4 w-4"}),"Login"]}),s.jsxs(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full justify-center",onClick:()=>{r("/auth/signup"),e(!1)},children:[s.jsx(Rm,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})})]})};var Tee="Separator",UO="horizontal",Pee=["horizontal","vertical"],JV=S.forwardRef((t,e)=>{const{decorative:r,orientation:n=UO,...i}=t,a=kee(n)?n:UO,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Qe.div,{"data-orientation":a,...l,...i,ref:e})});JV.displayName=Tee;function kee(t){return Pee.includes(t)}var ZV=JV;const lP=S.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>s.jsx(ZV,{ref:i,decorative:r,orientation:e,className:at("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));lP.displayName=ZV.displayName;const Bp=()=>s.jsx("footer",{className:"bg-safebite-dark-blue border-t border-safebite-card-bg-alt py-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold gradient-text mb-4",children:"SafeBite"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Your personal food safety and nutrition companion. Make informed choices for a healthier you."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:s.jsx(ZY,{size:20})}),s.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:s.jsx(vE,{size:20})}),s.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:s.jsx(pE,{size:20})}),s.jsx("a",{href:"#",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:s.jsx($6,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ht,{to:"/about",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/team",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Our Team"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/careers",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Careers"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/contact",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Contact"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Resources"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ht,{to:"/blog",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Blog"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/guides",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Nutrition Guides"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/faq",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"FAQs"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/community",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Community"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-safebite-text mb-4",children:"Legal"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ht,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Cookie Policy"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/data",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Data Protection"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/admin/login",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors",children:"Admin Login"})})]})]})]}),s.jsx(lP,{className:"my-8 bg-safebite-card-bg-alt"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("div",{className:"text-safebite-text-secondary text-sm",children:[s.jsxs("p",{children:["© ",new Date().getFullYear()," SafeBite. All rights reserved."]}),s.jsxs("p",{className:"mt-1",children:["A Special Engineering Project by ",s.jsx("span",{className:"text-safebite-teal font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsxs("ul",{className:"flex space-x-6",children:[s.jsx("li",{children:s.jsx(Ht,{to:"/privacy",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Privacy"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/terms",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Terms"})}),s.jsx("li",{children:s.jsx(Ht,{to:"/cookies",className:"text-safebite-text-secondary hover:text-safebite-teal transition-colors text-sm",children:"Cookies"})})]})})]})]})}),Ks=({title:t,description:e,icon:r,className:n})=>s.jsxs("div",{className:at("sci-fi-card group",n),children:[s.jsx("div",{className:"mb-4 inline-block p-3 rounded-full bg-safebite-card-bg-alt text-safebite-teal group-hover:text-safebite-dark-blue group-hover:bg-safebite-teal transition-colors duration-300",children:r}),s.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:t}),s.jsx("p",{className:"text-safebite-text-secondary",children:e})]}),M1=({quote:t,author:e,role:r,avatar:n,className:i})=>s.jsxs("div",{className:at("sci-fi-card flex flex-col",i),children:[s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-safebite-text-secondary italic",children:['"',t,'"']})}),s.jsxs("div",{className:"flex items-center",children:[n?s.jsx("img",{src:n,alt:e,className:"w-12 h-12 rounded-full mr-4 border-2 border-safebite-teal"}):s.jsx("div",{className:"w-12 h-12 rounded-full mr-4 bg-safebite-card-bg-alt flex items-center justify-center border-2 border-safebite-teal",children:s.jsx("span",{className:"text-safebite-teal text-lg font-bold",children:e.charAt(0)})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-safebite-text font-semibold",children:e}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:r})]})]})]}),Cee=()=>s.jsxs("div",{className:"relative w-full h-full min-h-[400px]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-safebite-teal/30 to-transparent rounded-xl blur-xl"}),s.jsxs("div",{className:"absolute inset-0 rounded-xl border-2 border-safebite-teal/50 bg-safebite-dark-blue/80 backdrop-blur-md overflow-hidden shadow-[0_0_30px_rgba(20,184,166,0.3)]",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[s.jsxs("pattern",{id:"circuit",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[s.jsx("path",{d:"M10 0 L10 10 L0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),s.jsx("path",{d:"M40 0 L40 40 L0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),s.jsx("path",{d:"M25 0 L25 25 L0 25",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),s.jsx("circle",{cx:"10",cy:"10",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"25",cy:"25",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"currentColor"})]}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit)",className:"text-safebite-teal"})]})}),s.jsxs("div",{className:"absolute inset-4 flex flex-col rounded-lg border border-safebite-card-bg-alt bg-safebite-card-bg overflow-hidden",children:[s.jsxs("div",{className:"bg-safebite-card-bg-alt p-3 border-b border-safebite-card-bg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal",children:s.jsx(Ai,{size:16})}),s.jsx("span",{className:"ml-2 font-semibold text-safebite-text",children:"SafeBite Dashboard"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})]}),s.jsxs("div",{className:"flex-1 p-4",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(wn,{size:16,className:"text-safebite-text-secondary"})}),s.jsx("div",{className:"w-full h-10 pl-10 pr-4 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text-secondary flex items-center",children:"Search for food products..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(qn,{size:16,className:"text-safebite-teal mr-2"}),s.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Health Score"})]}),s.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["87",s.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/100"})]}),s.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:s.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"87%"}})})]}),s.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ui,{size:16,className:"text-safebite-teal mr-2"}),s.jsx("span",{className:"text-xs font-medium text-safebite-text",children:"Daily Goals"})]}),s.jsxs("div",{className:"text-lg font-bold text-safebite-teal",children:["3",s.jsx("span",{className:"text-xs text-safebite-text-secondary",children:"/5"})]}),s.jsx("div",{className:"w-full h-1.5 bg-safebite-dark-blue rounded-full mt-2",children:s.jsx("div",{className:"h-full bg-safebite-teal rounded-full",style:{width:"60%"}})})]})]}),s.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 mb-4 flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:s.jsx(Ai,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-safebite-text",children:"Organic Quinoa Bowl"}),s.jsx("div",{className:"text-xs text-safebite-text-secondary",children:"420 calories • High protein • Gluten-free"})]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal flex items-center justify-center text-safebite-dark-blue font-bold",children:"9.2"})]}),s.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 border border-safebite-teal/20 flex items-start",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-3",children:"AI"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs font-medium text-safebite-text mb-1",children:"AI Assistant"}),s.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Based on your recent meals, I recommend increasing your fiber intake. Consider adding more...",s.jsx("span",{className:"inline-block w-1.5 h-3 bg-safebite-teal ml-1 animate-pulse"})]})]})]})]})]}),s.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),s.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),s.jsx("div",{className:"absolute bottom-2 left-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"}),s.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 bg-safebite-teal rounded-full animate-pulse"})]}),s.jsx("div",{className:"absolute -top-3 -right-3 bg-safebite-teal text-safebite-dark-blue text-xs font-bold px-2 py-1 rounded-full shadow-lg z-10",children:"v2.2"}),s.jsx("div",{className:"absolute -left-4 top-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float",children:s.jsx(Ai,{size:20,className:"text-safebite-teal"})}),s.jsx("div",{className:"absolute -right-4 top-2/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay",children:s.jsx(qn,{size:20,className:"text-safebite-teal"})}),s.jsx("div",{className:"absolute -left-4 bottom-1/4 bg-safebite-card-bg border border-safebite-teal/30 rounded-lg p-2 shadow-[0_0_10px_rgba(20,184,166,0.2)] animate-float-delay-2",children:s.jsx(ui,{size:20,className:"text-safebite-teal"})})]}),Iee=()=>{const t=S.useRef(null),e=S.useRef([]),r=S.useRef(null);return S.useEffect(()=>{const n=t.current;if(!n)return;const i=n.getContext("2d");if(!i)return;const a=()=>{n.width=window.innerWidth,n.height=window.innerHeight,o()},o=()=>{e.current=[];const u=Math.min(Math.floor(window.innerWidth/10),100);for(let f=0;f<u;f++)e.current.push({x:Math.random()*n.width,y:Math.random()*n.height,size:Math.random()*1.5+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,color:`rgba(20, 184, 166, ${Math.random()*.5+.1})`})},l=()=>{i.clearRect(0,0,n.width,n.height),e.current.forEach((u,f)=>{u.x+=u.speedX,u.y+=u.speedY,u.x<0&&(u.x=n.width),u.x>n.width&&(u.x=0),u.y<0&&(u.y=n.height),u.y>n.height&&(u.y=0),i.beginPath(),i.arc(u.x,u.y,u.size,0,Math.PI*2),i.fillStyle=u.color,i.fill(),e.current.forEach((m,h)=>{if(f===h)return;const p=u.x-m.x,y=u.y-m.y,w=Math.sqrt(p*p+y*y);w<100&&(i.beginPath(),i.strokeStyle=`rgba(20, 184, 166, ${.1*(1-w/100)})`,i.lineWidth=.5,i.moveTo(u.x,u.y),i.lineTo(m.x,m.y),i.stroke())})}),r.current=requestAnimationFrame(l)};return window.addEventListener("resize",a),a(),l(),()=>{window.removeEventListener("resize",a),r.current&&cancelAnimationFrame(r.current)}},[]),s.jsx("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",style:{opacity:.3}})},Oee=()=>{const[t,e]=S.useState(!1),r=Gr(),n=()=>{e(!t)},i=a=>{r(a),e(!1)};return s.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&s.jsxs("div",{className:"flex flex-col-reverse gap-3 mb-3 items-center",children:[s.jsxs("button",{onClick:()=>i("/search"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Search",children:[s.jsx(wn,{size:18}),s.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Search"})]}),s.jsxs("button",{onClick:()=>i("/auth/login"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Login",children:[s.jsx(Rm,{size:18}),s.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Login"})]}),s.jsxs("button",{onClick:()=>i("/healthbox"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Health Tools",children:[s.jsx(qn,{size:18}),s.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Health Tools"})]}),s.jsxs("button",{onClick:()=>i("/products"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Products",children:[s.jsx(Ai,{size:18}),s.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Products"})]}),s.jsxs("button",{onClick:()=>i("/help"),className:"w-10 h-10 rounded-full bg-safebite-card-bg border border-safebite-teal/50 text-safebite-teal flex items-center justify-center shadow-lg hover:bg-safebite-teal hover:text-safebite-dark-blue transition-colors group relative","aria-label":"Help",children:[s.jsx(UY,{size:18}),s.jsx("span",{className:"absolute right-full mr-2 bg-safebite-card-bg border border-safebite-card-bg-alt rounded-md px-2 py-1 text-xs text-safebite-text whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Help"})]})]}),s.jsx("button",{onClick:n,className:`w-14 h-14 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center shadow-lg hover:bg-safebite-teal/90 transition-all ${t?"rotate-180":""}`,"aria-label":t?"Close menu":"Open menu",children:s.jsx(M6,{size:24})})]})},Ree=()=>{const[t,e]=S.useState(!1),[r,n]=S.useState(""),[i,a]=S.useState(!1),[o,l]=S.useState([]),u=[{name:"Organic Quinoa",healthScore:9.5,tags:["Organic","Gluten-Free","High Protein"]},{name:"Greek Yogurt",healthScore:8.7,tags:["Probiotic","High Protein","Calcium Rich"]},{name:"Processed Cheese Slices",healthScore:4.2,tags:["Processed","High Sodium"],warning:"Contains artificial colors and preservatives"},{name:"Chocolate Cereal",healthScore:3.8,tags:["High Sugar","Processed"],warning:"High in added sugars"},{name:"Avocado",healthScore:9.8,tags:["Healthy Fats","Nutrient Dense","Fiber Rich"]}],f=()=>{e(!t),t||(n(""),l([]))},m=()=>{r.trim()&&(a(!0),setTimeout(()=>{const p=u.filter(y=>y.name.toLowerCase().includes(r.toLowerCase()));l(p),a(!1)},800))},h=p=>{p.key==="Enter"&&m()};return S.useEffect(()=>{r===""&&l([])},[r]),t?s.jsxs("div",{className:"sci-fi-card p-4 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-safebite-text font-medium",children:"Quick Food Search"}),s.jsx(re,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8 rounded-full",children:s.jsx(fi,{size:16})})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(wn,{size:16,className:"text-safebite-text-secondary"})}),s.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),onKeyPress:h,placeholder:"Search for a food item...",className:"w-full pl-10 pr-4 py-2 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt text-sm text-safebite-text focus:border-safebite-teal focus:ring-1 focus:ring-safebite-teal outline-none transition-colors"}),s.jsx(re,{onClick:m,className:"absolute inset-y-0 right-0 px-3 bg-safebite-teal text-safebite-dark-blue rounded-r-md",children:"Search"})]}),i?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-safebite-teal border-t-transparent rounded-full"})}):o.length>0?s.jsx("div",{className:"space-y-3",children:o.map((p,y)=>s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt hover:border-safebite-teal/50 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-safebite-text font-medium",children:p.name}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.tags.map((w,b)=>s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${w.includes("High Sugar")||w.includes("Processed")?"bg-red-500/20 text-red-500":"bg-safebite-teal/20 text-safebite-teal"}`,children:w},b))})]}),s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${p.healthScore>=7?"bg-green-500/20 text-green-500":p.healthScore>=5?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:p.healthScore.toFixed(1)})]}),p.warning&&s.jsxs("div",{className:"mt-2 flex items-start text-xs text-red-500",children:[s.jsx(Kn,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:p.warning})]}),!p.warning&&p.healthScore>=7&&s.jsxs("div",{className:"mt-2 flex items-start text-xs text-green-500",children:[s.jsx(Ai,{size:12,className:"mr-1 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Excellent nutritional profile"})]})]},y))}):r&&s.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[s.jsxs("p",{children:['No results found for "',r,'"']}),s.jsx("p",{className:"text-xs mt-1",children:'Try searching for "quinoa", "yogurt", "avocado", or "cereal"'})]}),!r&&s.jsxs("div",{className:"text-center py-6 text-safebite-text-secondary",children:[s.jsx("p",{children:'Try searching for foods like "quinoa", "yogurt", "avocado", or "cereal"'}),s.jsx("p",{className:"text-xs mt-1",children:"This is a demo of the SafeBite food search functionality"})]})]}):s.jsxs(re,{onClick:f,variant:"outline",className:"sci-fi-button flex items-center",children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),"Try Quick Search"]})},Mee=()=>{const t=Gr();return s.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[s.jsx(Iee,{}),s.jsx(Eb,{}),s.jsx(XV,{}),s.jsx(Oee,{}),s.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-32 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsxs("div",{className:"md:w-1/2 md:pr-8 mb-10 md:mb-0",children:[s.jsx("div",{className:"inline-block bg-safebite-teal/20 text-safebite-teal px-3 py-1 rounded-full text-sm font-medium mb-4 animate-pulse",children:"Version 2.2 - Now with AI Analysis"}),s.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[s.jsx("span",{className:"gradient-text animate-gradient-text",children:"Safe Food Choices"}),s.jsx("br",{}),s.jsx("span",{className:"text-safebite-text",children:"for a Healthier You"})]}),s.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8",children:"Know exactly what's in your food. Track nutrition, receive personalized recommendations, and make informed choices for your health journey."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs(re,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6 shadow-neon-teal",children:["Get Started Free",s.jsx(Ii,{className:"ml-2 h-5 w-5"})]}),s.jsxs(re,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-6",children:[s.jsx(Im,{className:"mr-2 h-5 w-5"}),"Guest Login"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Ree,{})})]}),s.jsx("div",{className:"md:w-1/2 relative",children:s.jsx(Cee,{})})]})}),s.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Powered by AI & Machine Learning"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"Intelligent Food Safety"}),s.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with nutritional science to help you make the best food choices."}),s.jsxs("div",{className:"flex items-center justify-center mt-4",children:[s.jsx(Oy,{size:"sm",className:"mr-2"}),s.jsxs("p",{className:"text-safebite-teal text-sm",children:["A Special Engineering Project by ",s.jsx("span",{className:"font-medium",children:"Aditya Shenvi"})," at IFHE Hyderabad"]})]})]}),s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"p-6 border border-safebite-teal/30 rounded-lg bg-safebite-card-bg mb-8 sci-fi-card shadow-neon-teal",children:[s.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[s.jsx(ea,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Featured Capabilities"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Ks,{title:"Food Safety Analysis",description:"Instantly analyze food products for additives, allergens, and harmful ingredients to make safe choices.",icon:s.jsx(Ai,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),s.jsx(Ks,{title:"AI-Powered Recommendations",description:"Receive personalized food suggestions based on your health profile, preferences, and goals.",icon:s.jsx(BT,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"}),s.jsx(Ks,{title:"Nutritional Tracking",description:"Monitor your daily intake of calories, macros, vitamins, and minerals with detailed insights.",icon:s.jsx(qn,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300 hover:shadow-neon-teal"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsx(Ks,{title:"Simple Food Search",description:"Search or scan barcodes to instantly access comprehensive food information and safety ratings.",icon:s.jsx(wn,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300"}),s.jsx(Ks,{title:"Health Goal Setting",description:"Set personalized health goals and track your progress with interactive charts and reports.",icon:s.jsx($Y,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300"}),s.jsx(Ks,{title:"Community Support",description:"Connect with like-minded individuals, share experiences, and get motivation from our community.",icon:s.jsx(os,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300"}),s.jsx(Ks,{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations.",icon:s.jsx(oi,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300"}),s.jsx(Ks,{title:"Personalized Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals.",icon:s.jsx(ui,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300"}),s.jsx(Ks,{title:"Food Tracker",description:"Add foods to your daily tracker to monitor your nutrition intake and stay on target with your goals.",icon:s.jsx(ui,{size:24}),className:"hover:border-safebite-teal/50 transition-all duration-300"})]})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs(re,{onClick:()=>t("/features"),variant:"outline",className:"sci-fi-button hover:shadow-neon-teal transition-all duration-300",children:["View All Features",s.jsx(Ii,{className:"ml-2 h-5 w-5"})]})})]}),s.jsxs("section",{className:"py-20 bg-safebite-card-bg relative",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:s.jsx("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"currentColor",strokeWidth:"0.5"})}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)",className:"text-safebite-teal"})]})}),s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Simple 3-Step Process"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"How SafeBite Works"}),s.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Getting started is easy. Three simple steps to transform your food choices."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"1"}),s.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:s.jsx(os,{size:48})}),s.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Create Your Profile"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Sign up and complete a short questionnaire about your health, dietary needs, and personal goals."})]}),s.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"2"}),s.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:s.jsx(wn,{size:48})}),s.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Search & Analyze"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food items or scan barcodes to instantly get detailed nutrition and safety information."})]}),s.jsxs("div",{className:"sci-fi-card text-center relative hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50 group",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-safebite-teal text-safebite-dark-blue flex items-center justify-center font-bold text-xl shadow-neon-teal group-hover:scale-110 transition-transform duration-300",children:"3"}),s.jsx("div",{className:"mb-6 mx-auto text-safebite-teal group-hover:scale-110 transition-transform duration-300",children:s.jsx(ui,{size:48})}),s.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text group-hover:text-safebite-teal transition-colors duration-300",children:"Track & Improve"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Track your nutrition, view progress charts, and receive personalized recommendations to improve your health."})]})]}),s.jsx("div",{className:"bg-safebite-dark-blue p-6 rounded-lg border border-safebite-teal/30 sci-fi-card shadow-neon-teal",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-4",children:[s.jsx(Oy,{size:"md",className:"mr-0 md:mr-3 mb-4 md:mb-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text text-center md:text-left",children:"Developer's Note"}),s.jsx("p",{className:"text-safebite-teal text-sm text-center md:text-left",children:"Aditya Shenvi | IFHE Hyderabad"}),s.jsx("p",{className:"text-safebite-text-secondary my-4",children:"SafeBite was developed as a special engineering project to demonstrate how technology can help people make better food choices. The application combines modern web technologies with nutritional science to create an intuitive platform for food analysis and health tracking."}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"React"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"TypeScript"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Firebase"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Tailwind CSS"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"MongoDB"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Flask"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-teal border border-safebite-teal/20 hover:bg-safebite-teal/20 transition-colors cursor-default",children:"Food APIs"})]})]})]})})]})]}),s.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"User Experiences"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text animate-gradient-text",children:"What Our Users Say"}),s.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Join thousands of satisfied users who have transformed their health with SafeBite."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsx(M1,{quote:"SafeBite completely changed how I shop for groceries. I've discovered so many healthier alternatives to my favorite foods!",author:"Sarah M.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),s.jsx(M1,{quote:"As someone with multiple food allergies, this app has been a lifesaver. I can quickly check if a product is safe for me to eat.",author:"James K.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"}),s.jsx(M1,{quote:"The personalized recommendations are spot on! I've lost 15 pounds just by making smarter food choices with SafeBite.",author:"Monica R.",role:"SafeBite User",className:"hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50"})]})]}),s.jsxs("section",{className:"py-20 bg-safebite-card-bg border-y border-safebite-teal/20 relative",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[s.jsxs("pattern",{id:"circuit-pattern",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[s.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),s.jsx("circle",{cx:"50",cy:"50",r:"30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),s.jsx("circle",{cx:"50",cy:"50",r:"20",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),s.jsx("path",{d:"M50 0 L50 20 M0 50 L20 50 M50 80 L50 100 M80 50 L100 50",stroke:"currentColor",strokeWidth:"0.5"})]}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit-pattern)",className:"text-safebite-teal"})]})}),s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto text-center relative z-10",children:[s.jsx("div",{className:"inline-block bg-safebite-teal/10 text-safebite-teal px-4 py-2 rounded-full text-sm font-medium mb-4 border border-safebite-teal/20",children:"Get Started Today"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 gradient-text animate-gradient-text",children:"Ready to Transform Your Food Choices?"}),s.jsx("p",{className:"text-safebite-text-secondary text-lg mb-8 max-w-2xl mx-auto",children:"Join SafeBite today and start your journey to better health through informed food choices. It's free to get started!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(re,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 text-lg px-8 py-6 shadow-neon-teal",children:["Sign Up Now",s.jsx(Ii,{className:"ml-2 h-5 w-5"})]}),s.jsxs(re,{variant:"outline",onClick:()=>t("/auth/login?guest=true"),className:"sci-fi-button text-lg px-8 py-6",children:[s.jsx(Im,{className:"mr-2 h-5 w-5"}),"Try as Guest"]})]})]})]}),s.jsx(Bp,{})]})},Dee=()=>{};var zO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Lee=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},tB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,m=a>>2,h=(a&3)<<4|l>>4;let p=(l&15)<<2|f>>6,y=f&63;u||(y=64,o||(p=64)),n.push(r[m],r[h],r[p],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||h==null)throw new $ee;const p=a<<2|l>>4;if(n.push(p),f!==64){const y=l<<4&240|f>>2;if(n.push(y),h!==64){const w=f<<6&192|h;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fee=function(t){const e=eB(t);return tB.encodeByteArray(e,!0)},Ry=function(t){return Fee(t).replace(/\./g,"")},rB=function(t){try{return tB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=()=>Vee().__FIREBASE_DEFAULTS__,Uee=()=>{if(typeof process>"u"||typeof zO>"u")return;const t=zO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rB(t[1]);return e&&JSON.parse(e)},Ab=()=>{try{return Dee()||Bee()||Uee()||zee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nB=t=>{var e,r;return(r=(e=Ab())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},qee=t=>{const e=nB(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},iB=()=>{var t;return(t=Ab())===null||t===void 0?void 0:t.config},aB=t=>{var e;return(e=Ab())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ry(JSON.stringify(r)),Ry(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function Kee(){var t;const e=(t=Ab())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xee(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jee(){return!Kee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oB(){try{return typeof indexedDB=="object"}catch{return!1}}function lB(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function Zee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete="FirebaseError";class Ba extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=ete,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?tte(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ba(i,l,n)}}function tte(t,e){return t.replace(rte,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const rte=/\{\$([^}]+)}/g;function nte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(qO(a)&&qO(o)){if(!mo(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function qO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function im(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function am(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function ite(t,e){const r=new ate(t,e);return r.subscribe.bind(r)}class ate{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");ste(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=D1),i.error===void 0&&(i.error=D1),i.complete===void 0&&(i.complete=D1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ste(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function D1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=1e3,lte=2,cte=4*60*60*1e3,ute=.5;function HO(t,e=ote,r=lte){const n=e*Math.pow(r,t),i=Math.round(ute*n*(Math.random()-.5)*2);return Math.min(cte,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t&&t._delegate?t._delegate:t}class $a{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Hee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hte(e))try{this.getOrInitializeService({instanceIdentifier:Cc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cc){return this.instances.has(e)}getOptions(e=Cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:fte(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Cc){return this.component?this.component.multipleInstances?e:Cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fte(t){return t===Cc?void 0:t}function hte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new dte(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const pte={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},gte=It.INFO,vte={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},yte=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=vte[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tb{constructor(e){this.name=e,this._logLevel=gte,this._logHandler=yte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const xte=(t,e)=>e.some(r=>t instanceof r);let WO,GO;function bte(){return WO||(WO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wte(){return GO||(GO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cB=new WeakMap,CE=new WeakMap,uB=new WeakMap,L1=new WeakMap,cP=new WeakMap;function _te(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Al(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&cB.set(r,t)}).catch(()=>{}),cP.set(e,t),e}function Ste(t){if(CE.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});CE.set(t,e)}let IE={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return CE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uB.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Al(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jte(t){IE=t(IE)}function Nte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call($1(this),e,...r);return uB.set(n,e.sort?e.sort():[e]),Al(n)}:wte().includes(t)?function(...e){return t.apply($1(this),e),Al(cB.get(this))}:function(...e){return Al(t.apply($1(this),e))}}function Ete(t){return typeof t=="function"?Nte(t):(t instanceof IDBTransaction&&Ste(t),xte(t,bte())?new Proxy(t,IE):t)}function Al(t){if(t instanceof IDBRequest)return _te(t);if(L1.has(t))return L1.get(t);const e=Ete(t);return e!==t&&(L1.set(t,e),cP.set(e,t)),e}const $1=t=>cP.get(t);function dB(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Al(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Al(o.result),u.oldVersion,u.newVersion,Al(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Ate=["get","getKey","getAll","getAllKeys","count"],Tte=["put","add","delete","clear"],F1=new Map;function KO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(F1.get(e))return F1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Tte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Ate.includes(r)))return;const a=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&u.done]))[0]};return F1.set(e,a),a}jte(t=>({...t,get:(e,r,n)=>KO(e,r)||t.get(e,r,n),has:(e,r)=>!!KO(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(kte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function kte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const OE="@firebase/app",YO="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Tb("@firebase/app"),Cte="@firebase/app-compat",Ite="@firebase/analytics-compat",Ote="@firebase/analytics",Rte="@firebase/app-check-compat",Mte="@firebase/app-check",Dte="@firebase/auth",Lte="@firebase/auth-compat",$te="@firebase/database",Fte="@firebase/data-connect",Vte="@firebase/database-compat",Bte="@firebase/functions",Ute="@firebase/functions-compat",zte="@firebase/installations",qte="@firebase/installations-compat",Hte="@firebase/messaging",Wte="@firebase/messaging-compat",Gte="@firebase/performance",Kte="@firebase/performance-compat",Yte="@firebase/remote-config",Qte="@firebase/remote-config-compat",Xte="@firebase/storage",Jte="@firebase/storage-compat",Zte="@firebase/firestore",ere="@firebase/vertexai",tre="@firebase/firestore-compat",rre="firebase",nre="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="[DEFAULT]",ire={[OE]:"fire-core",[Cte]:"fire-core-compat",[Ote]:"fire-analytics",[Ite]:"fire-analytics-compat",[Mte]:"fire-app-check",[Rte]:"fire-app-check-compat",[Dte]:"fire-auth",[Lte]:"fire-auth-compat",[$te]:"fire-rtdb",[Fte]:"fire-data-connect",[Vte]:"fire-rtdb-compat",[Bte]:"fire-fn",[Ute]:"fire-fn-compat",[zte]:"fire-iid",[qte]:"fire-iid-compat",[Hte]:"fire-fcm",[Wte]:"fire-fcm-compat",[Gte]:"fire-perf",[Kte]:"fire-perf-compat",[Yte]:"fire-rc",[Qte]:"fire-rc-compat",[Xte]:"fire-gcs",[Jte]:"fire-gcs-compat",[Zte]:"fire-fst",[tre]:"fire-fst-compat",[ere]:"fire-vertex","fire-js":"fire-js",[rre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map,are=new Map,ME=new Map;function QO(t,e){try{t.container.addComponent(e)}catch(r){po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ws(t){const e=t.name;if(ME.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;ME.set(e,t);for(const r of My.values())QO(r,t);for(const r of are.values())QO(r,t);return!0}function gu(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tl=new pu("app","Firebase",sre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=nre;function fB(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:RE,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Tl.create("bad-app-name",{appName:String(i)});if(r||(r=iB()),!r)throw Tl.create("no-options");const a=My.get(i);if(a){if(mo(r,a.options)&&mo(n,a.config))return a;throw Tl.create("duplicate-app",{appName:i})}const o=new mte(i);for(const u of ME.values())o.addComponent(u);const l=new ore(r,n,o);return My.set(i,l),l}function uP(t=RE){const e=My.get(t);if(!e&&t===RE&&iB())return fB();if(!e)throw Tl.create("no-app",{appName:t});return e}function ra(t,e,r){var n;let i=(n=ire[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(l.join(" "));return}ws(new $a(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre="firebase-heartbeat-database",cre=1,Bm="firebase-heartbeat-store";let V1=null;function hB(){return V1||(V1=dB(lre,cre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bm)}catch(r){console.warn(r)}}}}).catch(t=>{throw Tl.create("idb-open",{originalErrorMessage:t.message})})),V1}async function ure(t){try{const r=(await hB()).transaction(Bm),n=await r.objectStore(Bm).get(mB(t));return await r.done,n}catch(e){if(e instanceof Ba)po.warn(e.message);else{const r=Tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});po.warn(r.message)}}}async function XO(t,e){try{const n=(await hB()).transaction(Bm,"readwrite");await n.objectStore(Bm).put(e,mB(t)),await n.done}catch(r){if(r instanceof Ba)po.warn(r.message);else{const n=Tl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});po.warn(n.message)}}}function mB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre=1024,fre=30;class hre{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new pre(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=JO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fre){const o=gre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){po.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=JO(),{heartbeatsToSend:n,unsentEntries:i}=mre(this._heartbeatsCache.heartbeats),a=Ry(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return po.warn(r),""}}}function JO(){return new Date().toISOString().substring(0,10)}function mre(t,e=dre){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),ZO(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ZO(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class pre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oB()?lB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ure(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return XO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return XO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZO(t){return Ry(JSON.stringify({version:2,heartbeats:t})).length}function gre(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t){ws(new $a("platform-logger",e=>new Pte(e),"PRIVATE")),ws(new $a("heartbeat",e=>new hre(e),"PRIVATE")),ra(OE,YO,t),ra(OE,YO,"esm2017"),ra("fire-js","")}vre("");var ls=function(){return ls=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ls.apply(this,arguments)};function zp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yre(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function pB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xre=pB,gB=new pu("auth","Firebase",pB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new Tb("@firebase/auth");function bre(t,...e){Dy.logLevel<=It.WARN&&Dy.warn(`Auth (${Vf}): ${t}`,...e)}function sy(t,...e){Dy.logLevel<=It.ERROR&&Dy.error(`Auth (${Vf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,...e){throw fP(t,...e)}function Ia(t,...e){return fP(t,...e)}function dP(t,e,r){const n=Object.assign(Object.assign({},xre()),{[e]:r});return new pu("auth","Firebase",n).create(e,{appName:t.name})}function so(t){return dP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wre(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&aa(t,"argument-error"),dP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fP(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return gB.create(t,...e)}function ot(t,e,...r){if(!t)throw fP(e,...r)}function Zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sy(e),new Error(e)}function go(t,e){t||Zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _re(){return eR()==="http:"||eR()==="https:"}function eR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_re()||sB()||"connection"in navigator)?navigator.onLine:!0}function jre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,r){this.shortDelay=e,this.longDelay=r,go(r>e,"Short delay should be less than long delay!"),this.isMobile=Gee()||Qee()}get(){return Sre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e){go(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere=new qp(3e4,6e4);function Gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kl(t,e,r,n,i={}){return yB(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=Up(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},a);return Yee()||(f.referrerPolicy="no-referrer"),vB.fetch()(xB(t,t.config.apiHost,r,l),f)})}async function yB(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Nre),e);try{const i=new Tre(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Iv(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iv(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Iv(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Iv(t,"user-disabled",o);const m=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw dP(t,m,f);aa(t,m)}}catch(i){if(i instanceof Ba)throw i;aa(t,"network-request-failed",{message:String(i)})}}async function Hp(t,e,r,n,i={}){const a=await Kl(t,e,r,n,i);return"mfaPendingCredential"in a&&aa(t,"multi-factor-auth-required",{_serverResponse:a}),a}function xB(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?hP(t.config,i):`${t.config.apiScheme}://${i}`}function Are(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ia(this.auth,"network-request-failed")),Ere.get())})}}function Iv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ia(t,e,n);return i.customData._tokenResponse=r,i}function tR(t){return t!==void 0&&t.enterprise!==void 0}class Pre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Are(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kre(t,e){return Kl(t,"GET","/v2/recaptchaConfig",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cre(t,e){return Kl(t,"POST","/v1/accounts:delete",e)}async function bB(t,e){return Kl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ire(t,e=!1){const r=Wr(t),n=await r.getIdToken(e),i=mP(n);ot(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:ym(B1(i.auth_time)),issuedAtTime:ym(B1(i.iat)),expirationTime:ym(B1(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function B1(t){return Number(t)*1e3}function mP(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return sy("JWT malformed, contained fewer than 3 sections"),null;try{const i=rB(r);return i?JSON.parse(i):(sy("Failed to decode base64 JWT payload"),null)}catch(i){return sy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rR(t){const e=mP(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ba&&Ore(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Ore({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ym(this.lastLoginAt),this.creationTime=ym(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ly(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Um(t,bB(r,{idToken:n}));ot(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wB(a.providerUserInfo):[],l=Dre(t.providerData,o),u=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),m=u?f:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new LE(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,h)}async function Mre(t){const e=Wr(t);await Ly(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dre(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function wB(t){return t.map(e=>{var{providerId:r}=e,n=zp(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lre(t,e){const r=await yB(t,{},async()=>{const n=Up({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=xB(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",vB.fetch()(o,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function $re(t,e){return Kl(t,"POST","/v2/accounts:revokeToken",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const r=rR(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Lre(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Pd;return n&&(ot(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ot(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pd,this.toJSON())}_performRefresh(){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eo{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new LE(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Um(this,this.stsTokenManager.getToken(this.auth,e));return ot(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Ire(this,e)}reload(){return Mre(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ly(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await Um(this,Cre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,l,u,f,m;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,y=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,w=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(l=r.tenantId)!==null&&l!==void 0?l:void 0,v=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,A=(f=r.createdAt)!==null&&f!==void 0?f:void 0,E=(m=r.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:N,isAnonymous:T,providerData:O,stsTokenManager:k}=r;ot(j&&k,e,"internal-error");const C=Pd.fromJSON(this.name,k);ot(typeof j=="string",e,"internal-error"),sl(h,e.name),sl(p,e.name),ot(typeof N=="boolean",e,"internal-error"),ot(typeof T=="boolean",e,"internal-error"),sl(y,e.name),sl(w,e.name),sl(b,e.name),sl(v,e.name),sl(A,e.name),sl(E,e.name);const M=new eo({uid:j,auth:e,email:p,emailVerified:N,displayName:h,isAnonymous:T,photoURL:w,phoneNumber:y,tenantId:b,stsTokenManager:C,createdAt:A,lastLoginAt:E});return O&&Array.isArray(O)&&(M.providerData=O.map(F=>Object.assign({},F))),v&&(M._redirectEventId=v),M}static async _fromIdTokenResponse(e,r,n=!1){const i=new Pd;i.updateFromServerResponse(r);const a=new eo({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ly(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ot(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?wB(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Pd;l.updateFromIdToken(n);const u=new eo({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new LE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Map;function to(t){go(t instanceof Function,"Expected a class definition");let e=nR.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}_B.type="NONE";const iR=_B;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e,r){return`firebase:${t}:${e}:${r}`}class kd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=oy(this.userKey,i.apiKey,a),this.fullPersistenceKey=oy("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new kd(to(iR),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||to(iR);const o=oy(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const m=await f._get(o);if(m){const h=eo._fromJSON(e,m);f!==a&&(l=h),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new kd(a,e,n):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new kd(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TB(e))return"Blackberry";if(PB(e))return"Webos";if(jB(e))return"Safari";if((e.includes("chrome/")||NB(e))&&!e.includes("edge/"))return"Chrome";if(AB(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function SB(t=Dn()){return/firefox\//i.test(t)}function jB(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NB(t=Dn()){return/crios\//i.test(t)}function EB(t=Dn()){return/iemobile/i.test(t)}function AB(t=Dn()){return/android/i.test(t)}function TB(t=Dn()){return/blackberry/i.test(t)}function PB(t=Dn()){return/webos/i.test(t)}function pP(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fre(t=Dn()){var e;return pP(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Vre(){return Xee()&&document.documentMode===10}function kB(t=Dn()){return pP(t)||AB(t)||PB(t)||TB(t)||/windows phone/i.test(t)||EB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t,e=[]){let r;switch(t){case"Browser":r=aR(Dn());break;case"Worker":r=`${aR(Dn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ure(t,e={}){return Kl(t,"GET","/v2/passwordPolicy",Gl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=6;class qre{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:zre,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sR(this),this.idTokenSubscription=new sR(this),this.beforeStateQueue=new Bre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=to(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await kd.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await bB(this,{idToken:e}),n=await eo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ly(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(so(this));const r=e?Wr(e):null;return r&&ot(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ure(this),r=new qre(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await $re(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&to(e)||this._popupRedirectResolver;ot(r,this,"argument-error"),this.redirectPersistenceManager=await kd.create(this,[to(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{o=!0,u()}}else{const u=e.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&bre(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Yl(t){return Wr(t)}class sR{constructor(e){this.auth=e,this.observer=null,this.addObserver=ite(r=>this.observer=r)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wre(t){Pb=t}function IB(t){return Pb.loadJS(t)}function Gre(){return Pb.recaptchaEnterpriseScript}function Kre(){return Pb.gapiScript}function Yre(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Qre{constructor(){this.enterprise=new Xre}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Xre{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Jre="recaptcha-enterprise",OB="NO_RECAPTCHA";class Zre{constructor(e){this.type=Jre,this.auth=Yl(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{kre(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Pre(u);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(u=>{l(u)})})}function i(a,o,l){const u=window.grecaptcha;tR(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(OB)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qre().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&tR(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Gre();u.length!==0&&(u+=l),IB(u).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function oR(t,e,r,n=!1,i=!1){const a=new Zre(t);let o;if(i)o=OB;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function $E(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await oR(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await oR(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ene(t,e){const r=gu(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(mo(a,e??{}))return i;aa(i,"already-initialized")}return r.initialize({options:e})}function tne(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(to);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function rne(t,e,r){const n=Yl(t);ot(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=RB(e),{host:o,port:l}=nne(e),u=l===null?"":`:${l}`,f={url:`${a}//${o}${u}/`},m=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ot(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ot(mo(f,n.config.emulator)&&mo(m,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=m,n.settings.appVerificationDisabledForTesting=!0,ine()}function RB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nne(t){const e=RB(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:lR(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:lR(o)}}}function lR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ine(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,r){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function ane(t,e){return Kl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sne(t,e){return Hp(t,"POST","/v1/accounts:signInWithPassword",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function one(t,e){return Hp(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}async function lne(t,e){return Hp(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends gP{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new zm(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new zm(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $E(e,r,"signInWithPassword",sne);case"emailLink":return one(e,{email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $E(e,n,"signUpPassword",ane);case"emailLink":return lne(e,{idToken:r,email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t,e){return Hp(t,"POST","/v1/accounts:signInWithIdp",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne="http://localhost";class ru extends gP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):aa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=zp(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ru(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Cd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Cd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Cd(e,r)}buildRequest(){const e={requestUri:cne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Up(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dne(t){const e=im(am(t)).link,r=e?im(am(e)).deep_link_id:null,n=im(am(t)).deep_link_id;return(n?im(am(n)).link:null)||n||r||e||t}class vP{constructor(e){var r,n,i,a,o,l;const u=im(am(e)),f=(r=u.apiKey)!==null&&r!==void 0?r:null,m=(n=u.oobCode)!==null&&n!==void 0?n:null,h=une((i=u.mode)!==null&&i!==void 0?i:null);ot(f&&m&&h,"argument-error"),this.apiKey=f,this.operation=h,this.code=m,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=dne(e);try{return new vP(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.providerId=Bf.PROVIDER_ID}static credential(e,r){return zm._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=vP.parseLink(r);return ot(n,"argument-error"),zm._fromEmailAndCode(e,n.code,n.tenantId)}}Bf.PROVIDER_ID="password";Bf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends yP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Wp{constructor(){super("facebook.com")}static credential(e){return ru._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.FACEBOOK_SIGN_IN_METHOD="facebook.com";fl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ru._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ka.credential(r,n)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Wp{constructor(){super("github.com")}static credential(e){return ru._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hl.credential(e.oauthAccessToken)}catch{return null}}}hl.GITHUB_SIGN_IN_METHOD="github.com";hl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Wp{constructor(){super("twitter.com")}static credential(e,r){return ru._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ml.credential(r,n)}catch{return null}}}ml.TWITTER_SIGN_IN_METHOD="twitter.com";ml.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fne(t,e){return Hp(t,"POST","/v1/accounts:signUp",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await eo._fromIdTokenResponse(e,n,i),o=cR(n);return new nu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=cR(n);return new nu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function cR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Ba{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,$y.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new $y(e,r,n,i)}}function MB(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$y._fromErrorAndOperation(t,a,e,n):a})}async function hne(t,e,r=!1){const n=await Um(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return nu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mne(t,e,r=!1){const{auth:n}=t;if(Ti(n.app))return Promise.reject(so(n));const i="reauthenticate";try{const a=await Um(t,MB(n,i,e,t),r);ot(a.idToken,n,"internal-error");const o=mP(a.idToken);ot(o,n,"internal-error");const{sub:l}=o;return ot(t.uid===l,n,"user-mismatch"),nu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&aa(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(t,e,r=!1){if(Ti(t.app))return Promise.reject(so(t));const n="signIn",i=await MB(t,n,e),a=await nu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function pne(t,e){return DB(Yl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t){const e=Yl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gne(t,e,r){if(Ti(t.app))return Promise.reject(so(t));const n=Yl(t),o=await $E(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fne).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&LB(t),u}),l=await nu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function vne(t,e,r){return Ti(t.app)?Promise.reject(so(t)):pne(Wr(t),Bf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&LB(t),n})}function yne(t,e,r,n){return Wr(t).onIdTokenChanged(e,r,n)}function xne(t,e,r){return Wr(t).beforeAuthStateChanged(e,r)}function bne(t){return Wr(t).signOut()}const Fy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Fy,"1"),this.storage.removeItem(Fy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne=1e3,_ne=10;class FB extends $B{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);Vre()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_ne):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},wne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}FB.type="LOCAL";const Sne=FB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB extends $B{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}VB.type="SESSION";const BB=VB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new kb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async f=>f(r.origin,a)),u=await jne(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const f=xP("",20);i.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===f)switch(p.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(m),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(){return window}function Ene(t){fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function Ane(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Pne(){return UB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="firebaseLocalStorageDb",kne=1,Vy="firebaseLocalStorage",qB="fbase_key";class Gp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Cb(t,e){return t.transaction([Vy],e?"readwrite":"readonly").objectStore(Vy)}function Cne(){const t=indexedDB.deleteDatabase(zB);return new Gp(t).toPromise()}function FE(){const t=indexedDB.open(zB,kne);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Vy,{keyPath:qB})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Vy)?e(n):(n.close(),await Cne(),e(await FE()))})})}async function uR(t,e,r){const n=Cb(t,!0).put({[qB]:e,value:r});return new Gp(n).toPromise()}async function Ine(t,e){const r=Cb(t,!1).get(e),n=await new Gp(r).toPromise();return n===void 0?null:n.value}function dR(t,e){const r=Cb(t,!0).delete(e);return new Gp(r).toPromise()}const One=800,Rne=3;class HB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await FE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Rne)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kb._getInstance(Pne()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Ane(),!this.activeServiceWorker)return;this.sender=new Nne(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await FE();return await uR(e,Fy,"1"),await dR(e,Fy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>uR(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Ine(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>dR(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Cb(i,!1).getAll();return new Gp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),One)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HB.type="LOCAL";const Mne=HB;new qp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t,e){return e?to(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP extends gP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Cd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Cd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Dne(t){return DB(t.auth,new bP(t),t.bypassAuthState)}function Lne(t){const{auth:e,user:r}=t;return ot(r,e,"internal-error"),mne(r,new bP(t),t.bypassAuthState)}async function $ne(t){const{auth:e,user:r}=t;return ot(r,e,"internal-error"),hne(r,new bP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dne;case"linkViaPopup":case"linkViaRedirect":return $ne;case"reauthViaPopup":case"reauthViaRedirect":return Lne;default:aa(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fne=new qp(2e3,1e4);async function wP(t,e,r){if(Ti(t.app))return Promise.reject(Ia(t,"operation-not-supported-in-this-environment"));const n=Yl(t);wre(t,e,yP);const i=WB(n,r);return new Mc(n,"signInViaPopup",e,i).executeNotNull()}class Mc extends GB{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Mc.currentPopupAction&&Mc.currentPopupAction.cancel(),Mc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=xP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ia(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ia(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fne.get())};e()}}Mc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne="pendingRedirect",ly=new Map;class Bne extends GB{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=ly.get(this.auth._key());if(!e){try{const n=await Une(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}ly.set(this.auth._key(),e)}return this.bypassAuthState||ly.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Une(t,e){const r=Hne(e),n=qne(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function zne(t,e){ly.set(t._key(),e)}function qne(t){return to(t._redirectPersistence)}function Hne(t){return oy(Vne,t.config.apiKey,t.name)}async function Wne(t,e,r=!1){if(Ti(t.app))return Promise.reject(so(t));const n=Yl(t),i=WB(n,e),o=await new Bne(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne=10*60*1e3;class Kne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yne(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!KB(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ia(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gne&&this.cachedEventUids.clear(),this.cachedEventUids.has(fR(e))}saveEventToCache(e){this.cachedEventUids.add(fR(e)),this.lastProcessedEventTime=Date.now()}}function fR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qne(t,e={}){return Kl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jne=/^https?/;async function Zne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Qne(t);for(const r of e)try{if(eie(r))return}catch{}aa(t,"unauthorized-domain")}function eie(t){const e=DE(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Jne.test(r))return!1;if(Xne.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=new qp(3e4,6e4);function hR(){const t=fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function rie(t){return new Promise((e,r)=>{var n,i,a;function o(){hR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hR(),r(Ia(t,"network-request-failed"))},timeout:tie.get()})}if(!((i=(n=fs().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=fs().gapi)===null||a===void 0)&&a.load)o();else{const l=Yre("iframefcb");return fs()[l]=()=>{gapi.load?o():r(Ia(t,"network-request-failed"))},IB(`${Kre()}?onload=${l}`).catch(u=>r(u))}}).catch(e=>{throw cy=null,e})}let cy=null;function nie(t){return cy=cy||rie(t),cy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=new qp(5e3,15e3),aie="__/auth/iframe",sie="emulator/auth/iframe",oie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cie(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?hP(e,sie):`https://${t.config.authDomain}/${aie}`,n={apiKey:e.apiKey,appName:t.name,v:Vf},i=lie.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Up(n).slice(1)}`}async function uie(t){const e=await nie(t),r=fs().gapi;return ot(r,t,"internal-error"),e.open({where:document.body,url:cie(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oie,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Ia(t,"network-request-failed"),l=fs().setTimeout(()=>{a(o)},iie.get());function u(){fs().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fie=500,hie=600,mie="_blank",pie="http://localhost";class mR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gie(t,e,r,n=fie,i=hie){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u=Object.assign(Object.assign({},die),{width:n.toString(),height:i.toString(),top:a,left:o}),f=Dn().toLowerCase();r&&(l=NB(f)?mie:r),SB(f)&&(e=e||pie,u.scrollbars="yes");const m=Object.entries(u).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(Fre(f)&&l!=="_self")return vie(e||"",l),new mR(null);const h=window.open(e||"",l,m);ot(h,t,"popup-blocked");try{h.focus()}catch{}return new mR(h)}function vie(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie="__/auth/handler",xie="emulator/auth/handler",bie=encodeURIComponent("fac");async function pR(t,e,r,n,i,a){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vf,eventId:i};if(e instanceof yP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,h]of Object.entries({}))o[m]=h}if(e instanceof Wp){const m=e.getScopes().filter(h=>h!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const u=await t._getAppCheckToken(),f=u?`#${bie}=${encodeURIComponent(u)}`:"";return`${wie(t)}?${Up(l).slice(1)}${f}`}function wie({config:t}){return t.emulator?hP(t,xie):`https://${t.authDomain}/${yie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="webStorageSupport";class _ie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BB,this._completeRedirectFn=Wne,this._overrideRedirectResult=zne}async _openPopup(e,r,n,i){var a;go((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await pR(e,r,n,DE(),i);return gie(e,o,xP())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await pR(e,r,n,DE(),i);return Ene(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(go(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await uie(e),n=new Kne(e);return r.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(U1,{type:U1},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[U1];o!==void 0&&r(!!o),aa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Zne(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return kB()||jB()||pP()}}const Sie=_ie;var gR="@firebase/auth",vR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Eie(t){ws(new $a("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;ot(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CB(t)},f=new Hre(n,i,a,u);return tne(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ws(new $a("auth-internal",e=>{const r=Yl(e.getProvider("auth").getImmediate());return(n=>new jie(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra(gR,vR,Nie(t)),ra(gR,vR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie=5*60,Tie=aB("authIdTokenMaxAge")||Aie;let yR=null;const Pie=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Tie)return;const i=r==null?void 0:r.token;yR!==i&&(yR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wt(t=uP()){const e=gu(t,"auth");if(e.isInitialized())return e.getImmediate();const r=ene(t,{popupRedirectResolver:Sie,persistence:[Mne,Sne,BB]}),n=aB("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Pie(a.toString());xne(r,o,()=>o(r.currentUser)),yne(r,l=>o(l))}}const i=nB("auth");return i&&rne(r,`http://${i}`),r}function kie(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wre({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ia("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",kie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Eie("Browser");var Cie="firebase",Iie="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ra(Cie,Iie,"app");const YB="@firebase/installations",_P="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=1e4,XB=`w:${_P}`,JB="FIS_v2",Oie="https://firebaseinstallations.googleapis.com/v1",Rie=60*60*1e3,Mie="installations",Die="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},iu=new pu(Mie,Die,Lie);function ZB(t){return t instanceof Ba&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8({projectId:t}){return`${Oie}/projects/${t}/installations`}function t8(t){return{token:t.token,requestStatus:2,expiresIn:Fie(t.expiresIn),creationTime:Date.now()}}async function r8(t,e){const n=(await e.json()).error;return iu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function n8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $ie(t,{refreshToken:e}){const r=n8(t);return r.append("Authorization",Vie(e)),r}async function i8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Fie(t){return Number(t.replace("s","000"))}function Vie(t){return`${JB} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bie({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=e8(t),i=n8(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:r,authVersion:JB,appId:t.appId,sdkVersion:XB},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await i8(()=>fetch(n,l));if(u.ok){const f=await u.json();return{fid:f.fid||r,registrationStatus:2,refreshToken:f.refreshToken,authToken:t8(f.authToken)}}else throw await r8("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=/^[cdef][\w-]{21}$/,VE="";function qie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Hie(t);return zie.test(r)?r:VE}catch{return VE}}function Hie(t){return Uie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=new Map;function o8(t,e){const r=Ib(t);l8(r,e),Wie(r,e)}function l8(t,e){const r=s8.get(t);if(r)for(const n of r)n(e)}function Wie(t,e){const r=Gie();r&&r.postMessage({key:t,fid:e}),Kie()}let Dc=null;function Gie(){return!Dc&&"BroadcastChannel"in self&&(Dc=new BroadcastChannel("[Firebase] FID Change"),Dc.onmessage=t=>{l8(t.data.key,t.data.fid)}),Dc}function Kie(){s8.size===0&&Dc&&(Dc.close(),Dc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie="firebase-installations-database",Qie=1,au="firebase-installations-store";let z1=null;function SP(){return z1||(z1=dB(Yie,Qie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(au)}}})),z1}async function By(t,e){const r=Ib(t),i=(await SP()).transaction(au,"readwrite"),a=i.objectStore(au),o=await a.get(r);return await a.put(e,r),await i.done,(!o||o.fid!==e.fid)&&o8(t,e.fid),e}async function c8(t){const e=Ib(t),n=(await SP()).transaction(au,"readwrite");await n.objectStore(au).delete(e),await n.done}async function Ob(t,e){const r=Ib(t),i=(await SP()).transaction(au,"readwrite"),a=i.objectStore(au),o=await a.get(r),l=e(o);return l===void 0?await a.delete(r):await a.put(l,r),await i.done,l&&(!o||o.fid!==l.fid)&&o8(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t){let e;const r=await Ob(t.appConfig,n=>{const i=Xie(n),a=Jie(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===VE?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Xie(t){const e=t||{fid:qie(),registrationStatus:0};return u8(e)}function Jie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(iu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Zie(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eae(t)}:{installationEntry:e}}async function Zie(t,e){try{const r=await Bie(t,e);return By(t.appConfig,r)}catch(r){throw ZB(r)&&r.customData.serverCode===409?await c8(t.appConfig):await By(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function eae(t){let e=await xR(t.appConfig);for(;e.registrationStatus===1;)await a8(100),e=await xR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await jP(t);return n||r}return e}function xR(t){return Ob(t,e=>{if(!e)throw iu.create("installation-not-found");return u8(e)})}function u8(t){return tae(t)?{fid:t.fid,registrationStatus:0}:t}function tae(t){return t.registrationStatus===1&&t.registrationTime+QB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rae({appConfig:t,heartbeatServiceProvider:e},r){const n=nae(t,r),i=$ie(t,r),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:XB,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await i8(()=>fetch(n,l));if(u.ok){const f=await u.json();return t8(f)}else throw await r8("Generate Auth Token",u)}function nae(t,{fid:e}){return`${e8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e=!1){let r;const n=await Ob(t.appConfig,a=>{if(!d8(a))throw iu.create("not-registered");const o=a.authToken;if(!e&&sae(o))return a;if(o.requestStatus===1)return r=iae(t,e),a;{if(!navigator.onLine)throw iu.create("app-offline");const l=lae(a);return r=aae(t,l),l}});return r?await r:n.authToken}async function iae(t,e){let r=await bR(t.appConfig);for(;r.authToken.requestStatus===1;)await a8(100),r=await bR(t.appConfig);const n=r.authToken;return n.requestStatus===0?NP(t,e):n}function bR(t){return Ob(t,e=>{if(!d8(e))throw iu.create("not-registered");const r=e.authToken;return cae(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function aae(t,e){try{const r=await rae(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await By(t.appConfig,n),r}catch(r){if(ZB(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await c8(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await By(t.appConfig,n)}throw r}}function d8(t){return t!==void 0&&t.registrationStatus===2}function sae(t){return t.requestStatus===2&&!oae(t)}function oae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Rie}function lae(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function cae(t){return t.requestStatus===1&&t.requestTime+QB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uae(t){const e=t,{installationEntry:r,registrationPromise:n}=await jP(e);return n?n.catch(console.error):NP(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dae(t,e=!1){const r=t;return await fae(r),(await NP(r,e)).token}async function fae(t){const{registrationPromise:e}=await jP(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hae(t){if(!t||!t.options)throw q1("App Configuration");if(!t.name)throw q1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw q1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function q1(t){return iu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="installations",mae="installations-internal",pae=t=>{const e=t.getProvider("app").getImmediate(),r=hae(e),n=gu(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},gae=t=>{const e=t.getProvider("app").getImmediate(),r=gu(e,f8).getImmediate();return{getId:()=>uae(r),getToken:i=>dae(r,i)}};function vae(){ws(new $a(f8,pae,"PUBLIC")),ws(new $a(mae,gae,"PRIVATE"))}vae();ra(YB,_P);ra(YB,_P,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="analytics",yae="firebase_id",xae="origin",bae=60*1e3,wae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",EP="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Tb("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ae={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ri=new pu("analytics","Analytics",_ae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sae(t){if(!t.startsWith(EP)){const e=Ri.create("invalid-gtag-resource",{gtagURL:t});return di.warn(e.message),""}return t}function h8(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function jae(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Nae(t,e){const r=jae("firebase-js-sdk-policy",{createScriptURL:Sae}),n=document.createElement("script"),i=`${EP}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Eae(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Aae(t,e,r,n,i,a){const o=n[i];try{if(o)await e[o];else{const u=(await h8(r)).find(f=>f.measurementId===i);u&&await e[u.appId]}}catch(l){di.error(l)}t("config",i,a)}async function Tae(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await h8(r);for(const u of o){const f=l.find(h=>h.measurementId===u),m=f&&e[f.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){di.error(a)}}function Pae(t,e,r,n){async function i(a,...o){try{if(a==="event"){const[l,u]=o;await Tae(t,e,r,l,u)}else if(a==="config"){const[l,u]=o;await Aae(t,e,r,n,l,u)}else if(a==="consent"){const[l,u]=o;t("consent",l,u)}else if(a==="get"){const[l,u,f]=o;t("get",l,u,f)}else if(a==="set"){const[l]=o;t("set",l)}else t(a,...o)}catch(l){di.error(l)}}return i}function kae(t,e,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Pae(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function Cae(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(EP)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=30,Oae=1e3;class Rae{constructor(e={},r=Oae){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const m8=new Rae;function Mae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Dae(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:Mae(n)},a=wae.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw Ri.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Lae(t,e=m8,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Ri.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Ri.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Vae;return setTimeout(async()=>{l.abort()},bae),p8({appId:n,apiKey:i,measurementId:a},o,l,e)}async function p8(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=m8){var a;const{appId:o,measurementId:l}=t;try{await $ae(n,e)}catch(u){if(l)return di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await Dae(t);return i.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!Fae(f)){if(i.deleteThrottleMetadata(o),l)return di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:l};throw u}const m=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?HO(r,i.intervalMillis,Iae):HO(r,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return i.setThrottleMetadata(o,h),di.debug(`Calling attemptFetch again in ${m} millis`),p8(t,h,n,i)}}function $ae(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Fae(t){if(!(t instanceof Ba)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Bae(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uae(){if(oB())try{await lB()}catch(t){return di.warn(Ri.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return di.warn(Ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zae(t,e,r,n,i,a,o){var l;const u=Lae(t);u.then(y=>{r[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&di.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>di.error(y)),e.push(u);const f=Uae().then(y=>{if(y)return n.getId()}),[m,h]=await Promise.all([u,f]);Cae(a)||Nae(a,m.measurementId),i("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[xae]="firebase",p.update=!0,h!=null&&(p[yae]=h),i("config",m.measurementId,p),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(e){this.app=e}_delete(){return delete xm[this.app.options.appId],Promise.resolve()}}let xm={},wR=[];const _R={};let H1="dataLayer",Hae="gtag",SR,g8,jR=!1;function Wae(){const t=[];if(sB()&&t.push("This is a browser extension environment."),Zee()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Ri.create("invalid-analytics-context",{errorInfo:e});di.warn(r.message)}}function Gae(t,e,r){Wae();const n=t.options.appId;if(!n)throw Ri.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ri.create("no-api-key");if(xm[n]!=null)throw Ri.create("already-exists",{id:n});if(!jR){Eae(H1);const{wrappedGtag:a,gtagCore:o}=kae(xm,wR,_R,H1,Hae);g8=a,SR=o,jR=!0}return xm[n]=zae(t,wR,_R,e,SR,H1,r),new qae(t)}function Kae(t=uP()){t=Wr(t);const e=gu(t,Uy);return e.isInitialized()?e.getImmediate():Yae(t)}function Yae(t,e={}){const r=gu(t,Uy);if(r.isInitialized()){const i=r.getImmediate();if(mo(e,r.getOptions()))return i;throw Ri.create("already-initialized")}return r.initialize({options:e})}function Qae(t,e,r,n){t=Wr(t),Bae(g8,xm[t.app.options.appId],e,r,n).catch(i=>di.error(i))}const NR="@firebase/analytics",ER="0.10.12";function Xae(){ws(new $a(Uy,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Gae(n,i,r)},"PUBLIC")),ws(new $a("analytics-internal",t,"PRIVATE")),ra(NR,ER),ra(NR,ER,"esm2017");function t(e){try{const r=e.getProvider(Uy).getImmediate();return{logEvent:(n,i,a)=>Qae(r,n,i,a)}}catch(r){throw Ri.create("interop-component-reg-failed",{reason:r})}}}Xae();const Jae={apiKey:"AIzaSyBuaEOWCEYeV2AknrXhqzuTdIp0rApYPw0",authDomain:"safebite-a5a03.firebaseapp.com",projectId:"safebite-a5a03",storageBucket:"safebite-a5a03.firebasestorage.app",messagingSenderId:"203093821661",appId:"1:203093821661:web:127b2d80f7e08e6c23b334",measurementId:"G-P4KG3JTM4N"},We=fB(Jae);Kae(We);const _s=()=>{var f;const[t,e]=S.useState(!1),r=Gr(),{toast:n}=ar(),i=Wt(We),a=i.currentUser,o=()=>{e(!t)},l=async()=>{try{await bne(i),n({title:"Logged out successfully",description:"Thank you for using SafeBite!"}),r("/")}catch(m){n({title:"Logout failed",description:m.message,variant:"destructive"}),console.error("Logout error:",m)}},u=[{path:"/dashboard",name:"Dashboard",icon:s.jsx(F6,{size:20})},{path:"/food-search",name:"Food Search",icon:s.jsx(wn,{size:20})},{path:"/recipes",name:"Recipes",icon:s.jsx(B6,{size:20})},{path:"/products",name:"Products",icon:s.jsx(Sy,{size:20,className:"text-safebite-teal"})},{path:"/community",name:"Community",icon:s.jsx(os,{size:20})},{path:"/healthbox",name:"HealthBox",icon:s.jsx(Kc,{size:20,className:"text-safebite-teal"})},{path:"/weekly-questions",name:"Health Check",icon:s.jsx(qn,{size:20})},{path:"/reports",name:"Reports",icon:s.jsx(mE,{size:20})},{path:"/settings",name:"Settings",icon:s.jsx(gE,{size:20})}];return s.jsxs(s.Fragment,{children:[s.jsx(re,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-safebite-card-bg border-safebite-card-bg-alt",onClick:o,children:t?s.jsx(fi,{size:20}):s.jsx(V6,{size:20})}),s.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-safebite-dark-blue border-r border-safebite-card-bg-alt transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 border-b border-safebite-card-bg-alt",children:[s.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"SafeBite"}),s.jsx("p",{className:"text-xs text-safebite-text-secondary mt-1",children:"Smart Food Safety"})]}),s.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:s.jsx("ul",{className:"space-y-2 px-4",children:u.map(m=>s.jsx("li",{children:s.jsxs(jee,{to:m.path,className:({isActive:h})=>`flex items-center py-2 px-4 rounded-md transition-colors ${h?"bg-safebite-teal text-safebite-dark-blue font-medium":"text-safebite-text hover:bg-safebite-card-bg-alt"}`,children:[s.jsx("span",{className:"mr-3",children:m.icon}),m.name]})},m.path))})}),s.jsxs("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-safebite-card-bg-alt flex items-center justify-center text-safebite-teal",children:((f=a==null?void 0:a.email)==null?void 0:f.charAt(0).toUpperCase())||"A"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-safebite-text font-medium",children:(a==null?void 0:a.displayName)||(a==null?void 0:a.email)||"Alex Smith"}),s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Premium member"})]})]}),s.jsxs(re,{variant:"outline",className:"w-full sci-fi-button flex items-center justify-center",onClick:l,children:[s.jsx(nQ,{size:18,className:"mr-2"}),"Sign Out"]})]})]})})]})};var AR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pl,v8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function M(){}M.prototype=C.prototype,k.D=C.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(F,D,V){for(var $=Array(arguments.length-2),H=2;H<arguments.length;H++)$[H-2]=arguments[H];return C.prototype[D].apply(F,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,M){M||(M=0);var F=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)F[D]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(D=0;16>D;++D)F[D]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=k.g[0],M=k.g[1],D=k.g[2];var V=k.g[3],$=C+(V^M&(D^V))+F[0]+3614090360&4294967295;C=M+($<<7&4294967295|$>>>25),$=V+(D^C&(M^D))+F[1]+3905402710&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(M^V&(C^M))+F[2]+606105819&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(C^D&(V^C))+F[3]+3250441966&4294967295,M=D+($<<22&4294967295|$>>>10),$=C+(V^M&(D^V))+F[4]+4118548399&4294967295,C=M+($<<7&4294967295|$>>>25),$=V+(D^C&(M^D))+F[5]+1200080426&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(M^V&(C^M))+F[6]+2821735955&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(C^D&(V^C))+F[7]+4249261313&4294967295,M=D+($<<22&4294967295|$>>>10),$=C+(V^M&(D^V))+F[8]+1770035416&4294967295,C=M+($<<7&4294967295|$>>>25),$=V+(D^C&(M^D))+F[9]+2336552879&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(M^V&(C^M))+F[10]+4294925233&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(C^D&(V^C))+F[11]+2304563134&4294967295,M=D+($<<22&4294967295|$>>>10),$=C+(V^M&(D^V))+F[12]+1804603682&4294967295,C=M+($<<7&4294967295|$>>>25),$=V+(D^C&(M^D))+F[13]+4254626195&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(M^V&(C^M))+F[14]+2792965006&4294967295,D=V+($<<17&4294967295|$>>>15),$=M+(C^D&(V^C))+F[15]+1236535329&4294967295,M=D+($<<22&4294967295|$>>>10),$=C+(D^V&(M^D))+F[1]+4129170786&4294967295,C=M+($<<5&4294967295|$>>>27),$=V+(M^D&(C^M))+F[6]+3225465664&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^M&(V^C))+F[11]+643717713&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^C&(D^V))+F[0]+3921069994&4294967295,M=D+($<<20&4294967295|$>>>12),$=C+(D^V&(M^D))+F[5]+3593408605&4294967295,C=M+($<<5&4294967295|$>>>27),$=V+(M^D&(C^M))+F[10]+38016083&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^M&(V^C))+F[15]+3634488961&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^C&(D^V))+F[4]+3889429448&4294967295,M=D+($<<20&4294967295|$>>>12),$=C+(D^V&(M^D))+F[9]+568446438&4294967295,C=M+($<<5&4294967295|$>>>27),$=V+(M^D&(C^M))+F[14]+3275163606&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^M&(V^C))+F[3]+4107603335&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^C&(D^V))+F[8]+1163531501&4294967295,M=D+($<<20&4294967295|$>>>12),$=C+(D^V&(M^D))+F[13]+2850285829&4294967295,C=M+($<<5&4294967295|$>>>27),$=V+(M^D&(C^M))+F[2]+4243563512&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^M&(V^C))+F[7]+1735328473&4294967295,D=V+($<<14&4294967295|$>>>18),$=M+(V^C&(D^V))+F[12]+2368359562&4294967295,M=D+($<<20&4294967295|$>>>12),$=C+(M^D^V)+F[5]+4294588738&4294967295,C=M+($<<4&4294967295|$>>>28),$=V+(C^M^D)+F[8]+2272392833&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^M)+F[11]+1839030562&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^C)+F[14]+4259657740&4294967295,M=D+($<<23&4294967295|$>>>9),$=C+(M^D^V)+F[1]+2763975236&4294967295,C=M+($<<4&4294967295|$>>>28),$=V+(C^M^D)+F[4]+1272893353&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^M)+F[7]+4139469664&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^C)+F[10]+3200236656&4294967295,M=D+($<<23&4294967295|$>>>9),$=C+(M^D^V)+F[13]+681279174&4294967295,C=M+($<<4&4294967295|$>>>28),$=V+(C^M^D)+F[0]+3936430074&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^M)+F[3]+3572445317&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^C)+F[6]+76029189&4294967295,M=D+($<<23&4294967295|$>>>9),$=C+(M^D^V)+F[9]+3654602809&4294967295,C=M+($<<4&4294967295|$>>>28),$=V+(C^M^D)+F[12]+3873151461&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^M)+F[15]+530742520&4294967295,D=V+($<<16&4294967295|$>>>16),$=M+(D^V^C)+F[2]+3299628645&4294967295,M=D+($<<23&4294967295|$>>>9),$=C+(D^(M|~V))+F[0]+4096336452&4294967295,C=M+($<<6&4294967295|$>>>26),$=V+(M^(C|~D))+F[7]+1126891415&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~M))+F[14]+2878612391&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~C))+F[5]+4237533241&4294967295,M=D+($<<21&4294967295|$>>>11),$=C+(D^(M|~V))+F[12]+1700485571&4294967295,C=M+($<<6&4294967295|$>>>26),$=V+(M^(C|~D))+F[3]+2399980690&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~M))+F[10]+4293915773&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~C))+F[1]+2240044497&4294967295,M=D+($<<21&4294967295|$>>>11),$=C+(D^(M|~V))+F[8]+1873313359&4294967295,C=M+($<<6&4294967295|$>>>26),$=V+(M^(C|~D))+F[15]+4264355552&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~M))+F[6]+2734768916&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~C))+F[13]+1309151649&4294967295,M=D+($<<21&4294967295|$>>>11),$=C+(D^(M|~V))+F[4]+4149444226&4294967295,C=M+($<<6&4294967295|$>>>26),$=V+(M^(C|~D))+F[11]+3174756917&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~M))+F[2]+718787259&4294967295,D=V+($<<15&4294967295|$>>>17),$=M+(V^(D|~C))+F[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+V&4294967295}n.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var M=C-this.blockSize,F=this.B,D=this.h,V=0;V<C;){if(D==0)for(;V<=M;)i(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<C;)if(F[D++]=k.charCodeAt(V++),D==this.blockSize){i(this,F),D=0;break}}else for(;V<C;)if(F[D++]=k[V++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=C},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var M=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=M&255,M/=256;for(this.u(k),k=Array(16),C=M=0;4>C;++C)for(var F=0;32>F;F+=8)k[M++]=this.g[C]>>>F&255;return k};function a(k,C){var M=l;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=C(k)}function o(k,C){this.h=C;for(var M=[],F=!0,D=k.length-1;0<=D;D--){var V=k[D]|0;F&&V==C||(M[D]=V,F=!1)}this.g=M}var l={};function u(k){return-128<=k&&128>k?a(k,function(C){return new o([C|0],0>C?-1:0)}):new o([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return v(f(-k));for(var C=[],M=1,F=0;k>=M;F++)C[F]=k/M|0,M*=4294967296;return new o(C,0)}function m(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return v(m(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(C,8)),F=h,D=0;D<k.length;D+=8){var V=Math.min(8,k.length-D),$=parseInt(k.substring(D,D+V),C);8>V?(V=f(Math.pow(C,V)),F=F.j(V).add(f($))):(F=F.j(M),F=F.add(f($)))}return F}var h=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-v(this).m();for(var k=0,C=1,M=0;M<this.g.length;M++){var F=this.i(M);k+=(0<=F?F:4294967296+F)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(w(this))return"0";if(b(this))return"-"+v(this).toString(k);for(var C=f(Math.pow(k,6)),M=this,F="";;){var D=N(M,C).g;M=A(M,D.j(C));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=D,w(M))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function w(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=A(this,k),b(k)?-1:w(k)?0:1};function v(k){for(var C=k.g.length,M=[],F=0;F<C;F++)M[F]=~k.g[F];return new o(M,~k.h).add(p)}t.abs=function(){return b(this)?v(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],F=0,D=0;D<=C;D++){var V=F+(this.i(D)&65535)+(k.i(D)&65535),$=(V>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);F=$>>>16,V&=65535,$&=65535,M[D]=$<<16|V}return new o(M,M[M.length-1]&-2147483648?-1:0)};function A(k,C){return k.add(v(C))}t.j=function(k){if(w(this)||w(k))return h;if(b(this))return b(k)?v(this).j(v(k)):v(v(this).j(k));if(b(k))return v(this.j(v(k)));if(0>this.l(y)&&0>k.l(y))return f(this.m()*k.m());for(var C=this.g.length+k.g.length,M=[],F=0;F<2*C;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<k.g.length;D++){var V=this.i(F)>>>16,$=this.i(F)&65535,H=k.i(D)>>>16,G=k.i(D)&65535;M[2*F+2*D]+=$*G,E(M,2*F+2*D),M[2*F+2*D+1]+=V*G,E(M,2*F+2*D+1),M[2*F+2*D+1]+=$*H,E(M,2*F+2*D+1),M[2*F+2*D+2]+=V*H,E(M,2*F+2*D+2)}for(F=0;F<C;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=C;F<2*C;F++)M[F]=0;return new o(M,0)};function E(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function j(k,C){this.g=k,this.h=C}function N(k,C){if(w(C))throw Error("division by zero");if(w(k))return new j(h,h);if(b(k))return C=N(v(k),C),new j(v(C.g),v(C.h));if(b(C))return C=N(k,v(C)),new j(v(C.g),C.h);if(30<k.g.length){if(b(k)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var M=p,F=C;0>=F.l(k);)M=T(M),F=T(F);var D=O(M,1),V=O(F,1);for(F=O(F,2),M=O(M,2);!w(F);){var $=V.add(F);0>=$.l(k)&&(D=D.add(M),V=$),F=O(F,1),M=O(M,1)}return C=A(k,D.j(C)),new j(D,C)}for(D=h;0<=k.l(C);){for(M=Math.max(1,Math.floor(k.m()/C.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(M),$=V.j(C);b($)||0<$.l(k);)M-=F,V=f(M),$=V.j(C);w(V)&&(V=p),D=D.add(V),k=A(k,$)}return new j(D,k)}t.A=function(k){return N(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],F=0;F<C;F++)M[F]=this.i(F)&k.i(F);return new o(M,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],F=0;F<C;F++)M[F]=this.i(F)|k.i(F);return new o(M,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],F=0;F<C;F++)M[F]=this.i(F)^k.i(F);return new o(M,this.h^k.h)};function T(k){for(var C=k.g.length+1,M=[],F=0;F<C;F++)M[F]=k.i(F)<<1|k.i(F-1)>>>31;return new o(M,k.h)}function O(k,C){var M=C>>5;C%=32;for(var F=k.g.length-M,D=[],V=0;V<F;V++)D[V]=0<C?k.i(V+M)>>>C|k.i(V+M+1)<<32-C:k.i(V+M);return new o(D,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,v8=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=m,Pl=o}).apply(typeof AR<"u"?AR:typeof self<"u"?self:typeof window<"u"?window:{});var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y8,sm,x8,uy,BE,b8,w8,_8;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,I,L){return x==Array.prototype||x==Object.prototype||(x[I]=L.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ov=="object"&&Ov];for(var I=0;I<x.length;++I){var L=x[I];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var n=r(this);function i(x,I){if(I)e:{var L=n;x=x.split(".");for(var z=0;z<x.length-1;z++){var ne=x[z];if(!(ne in L))break e;L=L[ne]}x=x[x.length-1],z=L[x],I=I(z),I!=z&&I!=null&&e(L,x,{configurable:!0,writable:!0,value:I})}}function a(x,I){x instanceof String&&(x+="");var L=0,z=!1,ne={next:function(){if(!z&&L<x.length){var ce=L++;return{value:I(ce,x[ce]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(x){return x||function(){return a(this,function(I,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(x){var I=typeof x;return I=I!="object"?I:x?Array.isArray(x)?"array":I:"null",I=="array"||I=="object"&&typeof x.length=="number"}function f(x){var I=typeof x;return I=="object"&&x!=null||I=="function"}function m(x,I,L){return x.call.apply(x.bind,arguments)}function h(x,I,L){if(!x)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,z),x.apply(I,ne)}}return function(){return x.apply(I,arguments)}}function p(x,I,L){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:h,p.apply(null,arguments)}function y(x,I){var L=Array.prototype.slice.call(arguments,1);return function(){var z=L.slice();return z.push.apply(z,arguments),x.apply(this,z)}}function w(x,I){function L(){}L.prototype=I.prototype,x.aa=I.prototype,x.prototype=new L,x.prototype.constructor=x,x.Qb=function(z,ne,ce){for(var Ce=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)Ce[tr-2]=arguments[tr];return I.prototype[ne].apply(z,Ce)}}function b(x){const I=x.length;if(0<I){const L=Array(I);for(let z=0;z<I;z++)L[z]=x[z];return L}return[]}function v(x,I){for(let L=1;L<arguments.length;L++){const z=arguments[L];if(u(z)){const ne=x.length||0,ce=z.length||0;x.length=ne+ce;for(let Ce=0;Ce<ce;Ce++)x[ne+Ce]=z[Ce]}else x.push(z)}}class A{constructor(I,L){this.i=I,this.j=L,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function E(x){return/^[\s\xa0]*$/.test(x)}function j(){var x=l.navigator;return x&&(x=x.userAgent)?x:""}function N(x){return N[" "](x),x}N[" "]=function(){};var T=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function O(x,I,L){for(const z in x)I.call(L,x[z],z,x)}function k(x,I){for(const L in x)I.call(void 0,x[L],L,x)}function C(x){const I={};for(const L in x)I[L]=x[L];return I}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(x,I){let L,z;for(let ne=1;ne<arguments.length;ne++){z=arguments[ne];for(L in z)x[L]=z[L];for(let ce=0;ce<M.length;ce++)L=M[ce],Object.prototype.hasOwnProperty.call(z,L)&&(x[L]=z[L])}}function D(x){var I=1;x=x.split(":");const L=[];for(;0<I&&x.length;)L.push(x.shift()),I--;return x.length&&L.push(x.join(":")),L}function V(x){l.setTimeout(()=>{throw x},0)}function $(){var x=J;let I=null;return x.g&&(I=x.g,x.g=x.g.next,x.g||(x.h=null),I.next=null),I}class H{constructor(){this.h=this.g=null}add(I,L){const z=G.get();z.set(I,L),this.h?this.h.next=z:this.g=z,this.h=z}}var G=new A(()=>new Q,x=>x.reset());class Q{constructor(){this.next=this.g=this.h=null}set(I,L){this.h=I,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,W=!1,J=new H,ee=()=>{const x=l.Promise.resolve(void 0);Y=()=>{x.then(q)}};var q=()=>{for(var x;x=$();){try{x.h.call(x.g)}catch(L){V(L)}var I=G;I.j(x),100>I.h&&(I.h++,x.next=I.g,I.g=x)}W=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(x,I){this.type=x,this.g=this.target=I,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,I=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const L=()=>{};l.addEventListener("test",L,I),l.removeEventListener("test",L,I)}catch{}return x}();function Ae(x,I){if(se.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var L=this.type=x.type,z=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=I,I=x.relatedTarget){if(T){e:{try{N(I.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(I=null)}}else L=="mouseover"?I=x.fromElement:L=="mouseout"&&(I=x.toElement);this.relatedTarget=I,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:Te[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&Ae.aa.h.call(this)}}w(Ae,se);var Te={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function ue(x,I,L,z,ne){this.listener=x,this.proxy=null,this.src=I,this.type=L,this.capture=!!z,this.ha=ne,this.key=++Pe,this.da=this.fa=!1}function ve(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function _e(x){this.src=x,this.g={},this.h=0}_e.prototype.add=function(x,I,L,z,ne){var ce=x.toString();x=this.g[ce],x||(x=this.g[ce]=[],this.h++);var Ce=Ye(x,I,z,ne);return-1<Ce?(I=x[Ce],L||(I.fa=!1)):(I=new ue(I,this.src,ce,!!z,ne),I.fa=L,x.push(I)),I};function le(x,I){var L=I.type;if(L in x.g){var z=x.g[L],ne=Array.prototype.indexOf.call(z,I,void 0),ce;(ce=0<=ne)&&Array.prototype.splice.call(z,ne,1),ce&&(ve(I),x.g[L].length==0&&(delete x.g[L],x.h--))}}function Ye(x,I,L,z){for(var ne=0;ne<x.length;++ne){var ce=x[ne];if(!ce.da&&ce.listener==I&&ce.capture==!!L&&ce.ha==z)return ne}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),ut={};function st(x,I,L,z,ne){if(Array.isArray(I)){for(var ce=0;ce<I.length;ce++)st(x,I[ce],L,z,ne);return null}return L=Ie(L),x&&x[me]?x.K(I,L,f(z)?!!z.capture:!1,ne):mt(x,I,L,!1,z,ne)}function mt(x,I,L,z,ne,ce){if(!I)throw Error("Invalid event type");var Ce=f(ne)?!!ne.capture:!!ne,tr=rt(x);if(tr||(x[Ke]=tr=new _e(x)),L=tr.add(I,L,z,Ce,ce),L.proxy)return L;if(z=lr(),L.proxy=z,z.src=x,z.listener=L,x.addEventListener)xe||(ne=Ce),ne===void 0&&(ne=!1),x.addEventListener(I.toString(),z,ne);else if(x.attachEvent)x.attachEvent(Oe(I.toString()),z);else if(x.addListener&&x.removeListener)x.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return L}function lr(){function x(L){return I.call(x.src,x.listener,L)}const I=Ze;return x}function Ct(x,I,L,z,ne){if(Array.isArray(I))for(var ce=0;ce<I.length;ce++)Ct(x,I[ce],L,z,ne);else z=f(z)?!!z.capture:!!z,L=Ie(L),x&&x[me]?(x=x.i,I=String(I).toString(),I in x.g&&(ce=x.g[I],L=Ye(ce,L,z,ne),-1<L&&(ve(ce[L]),Array.prototype.splice.call(ce,L,1),ce.length==0&&(delete x.g[I],x.h--)))):x&&(x=rt(x))&&(I=x.g[I.toString()],x=-1,I&&(x=Ye(I,L,z,ne)),(L=-1<x?I[x]:null)&&Lt(L))}function Lt(x){if(typeof x!="number"&&x&&!x.da){var I=x.src;if(I&&I[me])le(I.i,x);else{var L=x.type,z=x.proxy;I.removeEventListener?I.removeEventListener(L,z,x.capture):I.detachEvent?I.detachEvent(Oe(L),z):I.addListener&&I.removeListener&&I.removeListener(z),(L=rt(I))?(le(L,x),L.h==0&&(L.src=null,I[Ke]=null)):ve(x)}}}function Oe(x){return x in ut?ut[x]:ut[x]="on"+x}function Ze(x,I){if(x.da)x=!0;else{I=new Ae(I,this);var L=x.listener,z=x.ha||x.src;x.fa&&Lt(x),x=L.call(z,I)}return x}function rt(x){return x=x[Ke],x instanceof _e?x:null}var $t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(x){return typeof x=="function"?x:(x[$t]||(x[$t]=function(I){return x.handleEvent(I)}),x[$t])}function De(){X.call(this),this.i=new _e(this),this.M=this,this.F=null}w(De,X),De.prototype[me]=!0,De.prototype.removeEventListener=function(x,I,L,z){Ct(this,x,I,L,z)};function Se(x,I){var L,z=x.F;if(z)for(L=[];z;z=z.F)L.push(z);if(x=x.M,z=I.type||I,typeof I=="string")I=new se(I,x);else if(I instanceof se)I.target=I.target||x;else{var ne=I;I=new se(z,x),F(I,ne)}if(ne=!0,L)for(var ce=L.length-1;0<=ce;ce--){var Ce=I.g=L[ce];ne=Ue(Ce,z,!0,I)&&ne}if(Ce=I.g=x,ne=Ue(Ce,z,!0,I)&&ne,ne=Ue(Ce,z,!1,I)&&ne,L)for(ce=0;ce<L.length;ce++)Ce=I.g=L[ce],ne=Ue(Ce,z,!1,I)&&ne}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var x=this.i,I;for(I in x.g){for(var L=x.g[I],z=0;z<L.length;z++)ve(L[z]);delete x.g[I],x.h--}}this.F=null},De.prototype.K=function(x,I,L,z){return this.i.add(String(x),I,!1,L,z)},De.prototype.L=function(x,I,L,z){return this.i.add(String(x),I,!0,L,z)};function Ue(x,I,L,z){if(I=x.i.g[String(I)],!I)return!0;I=I.concat();for(var ne=!0,ce=0;ce<I.length;++ce){var Ce=I[ce];if(Ce&&!Ce.da&&Ce.capture==L){var tr=Ce.listener,Kr=Ce.ha||Ce.src;Ce.fa&&le(x.i,Ce),ne=tr.call(Kr,z)!==!1&&ne}}return ne&&!z.defaultPrevented}function kt(x,I,L){if(typeof x=="function")L&&(x=p(x,L));else if(x&&typeof x.handleEvent=="function")x=p(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:l.setTimeout(x,I||0)}function pr(x){x.g=kt(()=>{x.g=null,x.i&&(x.i=!1,pr(x))},x.l);const I=x.h;x.h=null,x.m.apply(null,I)}class la extends X{constructor(I,L){super(),this.m=I,this.l=L,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(x){X.call(this),this.h=x,this.g={}}w(Li,X);var qa=[];function Is(x){O(x.g,function(I,L){this.g.hasOwnProperty(L)&&Lt(I)},x),x.g={}}Li.prototype.N=function(){Li.aa.N.call(this),Is(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=l.JSON.stringify,fn=l.JSON.parse,Os=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function nt(){}nt.prototype.h=null;function Ft(x){return x.h||(x.h=x.i())}function Rt(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){se.call(this,"d")}w(Ar,se);function fe(){se.call(this,"c")}w(fe,se);var Me={},Re=null;function jt(){return Re=Re||new De}Me.La="serverreachability";function cr(x){se.call(this,Me.La,x)}w(cr,se);function Qn(x){const I=jt();Se(I,new cr(I))}Me.STAT_EVENT="statevent";function Ro(x,I){se.call(this,Me.STAT_EVENT,x),this.stat=I}w(Ro,se);function Sr(x){const I=jt();Se(I,new Ro(I,x))}Me.Ma="timingevent";function mi(x,I){se.call(this,Me.Ma,x),this.size=I}w(mi,se);function ca(x,I){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},I)}function ac(){this.g=!0}ac.prototype.xa=function(){this.g=!1};function sc(x,I,L,z,ne,ce){x.info(function(){if(x.g)if(ce)for(var Ce="",tr=ce.split("&"),Kr=0;Kr<tr.length;Kr++){var Vt=tr[Kr].split("=");if(1<Vt.length){var rn=Vt[0];Vt=Vt[1];var Vr=rn.split("_");Ce=2<=Vr.length&&Vr[1]=="type"?Ce+(rn+"="+Vt+"&"):Ce+(rn+"=redacted&")}}else Ce=null;else Ce=ce;return"XMLHTTP REQ ("+z+") [attempt "+ne+"]: "+I+`
`+L+`
`+Ce})}function ju(x,I,L,z,ne,ce,Ce){x.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ne+"]: "+I+`
`+L+`
`+ce+" "+Ce})}function ua(x,I,L,z){x.info(function(){return"XMLHTTP TEXT ("+I+"): "+K0(x,L)+(z?" "+z:"")})}function lh(x,I){x.info(function(){return"TIMEOUT: "+I})}ac.prototype.info=function(){};function K0(x,I){if(!x.g)return I;if(!I)return null;try{var L=JSON.parse(I);if(L){for(x=0;x<L.length;x++)if(Array.isArray(L[x])){var z=L[x];if(!(2>z.length)){var ne=z[1];if(Array.isArray(ne)&&!(1>ne.length)){var ce=ne[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ce=1;Ce<ne.length;Ce++)ne[Ce]=""}}}}return $i(L)}catch{return I}}var Nu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ug={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},da;function oc(){}w(oc,nt),oc.prototype.g=function(){return new XMLHttpRequest},oc.prototype.i=function(){return{}},da=new oc;function fa(x,I,L,z){this.j=x,this.i=I,this.l=L,this.R=z||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dg}function dg(){this.i=null,this.g="",this.h=!1}var ch={},Eu={};function Au(x,I,L){x.L=1,x.v=Fo(gi(I)),x.m=L,x.P=!0,uh(x,null)}function uh(x,I){x.F=Date.now(),ur(x),x.A=gi(x.v);var L=x.A,z=x.R;Array.isArray(z)||(z=[String(z)]),Bo(L.i,"t",z),x.C=0,L=x.j.J,x.h=new dg,x.g=Pg(x.j,L?I:null,!x.m),0<x.O&&(x.M=new la(p(x.Y,x,x.g),x.O)),I=x.U,L=x.g,z=x.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(qa[0]=ne.toString()),ne=qa);for(var ce=0;ce<ne.length;ce++){var Ce=st(L,ne[ce],z||I.handleEvent,!1,I.h||I);if(!Ce)break;I.g[Ce.key]=Ce}I=x.H?C(x.H):{},x.m?(x.u||(x.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,I)):(x.u="GET",x.g.ea(x.A,x.u,null,I)),Qn(),sc(x.i,x.u,x.A,x.l,x.R,x.m)}fa.prototype.ca=function(x){x=x.target;const I=this.M;I&&Jn(x)==3?I.j():this.Y(x)},fa.prototype.Y=function(x){try{if(x==this.g)e:{const Vr=Jn(this.g);var I=this.g.Ba();const Bi=this.g.Z();if(!(3>Vr)&&(Vr!=3||this.g&&(this.h.h||this.g.oa()||gh(this.g)))){this.J||Vr!=4||I==7||(I==8||0>=Bi?Qn(3):Qn(2)),lc(this);var L=this.g.Z();this.X=L;t:if(fg(this)){var z=gh(this.g);x="";var ne=z.length,ce=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),Mo(this);var Ce="";break t}this.h.i=new l.TextDecoder}for(I=0;I<ne;I++)this.h.h=!0,x+=this.h.i.decode(z[I],{stream:!(ce&&I==ne-1)});z.length=0,this.h.g+=x,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=L==200,ju(this.i,this.u,this.A,this.l,this.R,Vr,L),this.o){if(this.T&&!this.K){t:{if(this.g){var tr,Kr=this.g;if((tr=Kr.g?Kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(tr)){var Vt=tr;break t}}Vt=null}if(L=Vt)ua(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dh(this,L);else{this.o=!1,this.s=3,Sr(12),Fi(this),Mo(this);break e}}if(this.P){L=!0;let yi;for(;!this.J&&this.C<Ce.length;)if(yi=Y0(this,Ce),yi==Eu){Vr==4&&(this.s=4,Sr(14),L=!1),ua(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==ch){this.s=4,Sr(15),ua(this.i,this.l,Ce,"[Invalid Chunk]"),L=!1;break}else ua(this.i,this.l,yi,null),dh(this,yi);if(fg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vr!=4||Ce.length!=0||this.h.h||(this.s=1,Sr(16),L=!1),this.o=this.o&&L,!L)ua(this.i,this.l,Ce,"[Invalid Chunked Response]"),Fi(this),Mo(this);else if(0<Ce.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),yh(rn),rn.M=!0,Sr(11))}}else ua(this.i,this.l,Ce,null),dh(this,Ce);Vr==4&&Fi(this),this.o&&!this.J&&(Vr==4?$u(this.j,this):(this.o=!1,ur(this)))}else Ou(this.g),L==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Sr(12)):(this.s=0,Sr(13)),Fi(this),Mo(this)}}}catch{}finally{}};function fg(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function Y0(x,I){var L=x.C,z=I.indexOf(`
`,L);return z==-1?Eu:(L=Number(I.substring(L,z)),isNaN(L)?ch:(z+=1,z+L>I.length?Eu:(I=I.slice(z,z+L),x.C=z+L,I)))}fa.prototype.cancel=function(){this.J=!0,Fi(this)};function ur(x){x.S=Date.now()+x.I,hg(x,x.I)}function hg(x,I){if(x.B!=null)throw Error("WatchDog timer not null");x.B=ca(p(x.ba,x),I)}function lc(x){x.B&&(l.clearTimeout(x.B),x.B=null)}fa.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(lh(this.i,this.A),this.L!=2&&(Qn(),Sr(17)),Fi(this),this.s=2,Mo(this)):hg(this,this.S-x)};function Mo(x){x.j.G==0||x.J||$u(x.j,x)}function Fi(x){lc(x);var I=x.M;I&&typeof I.ma=="function"&&I.ma(),x.M=null,Is(x.U),x.g&&(I=x.g,x.g=null,I.abort(),I.ma())}function dh(x,I){try{var L=x.j;if(L.G!=0&&(L.g==x||Ln(L.h,x))){if(!x.K&&Ln(L.h,x)&&L.G==3){try{var z=L.Da.g.parse(I)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ne=z;if(ne[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<x.F)Lu(L),va(L);else break e;Du(L),Sr(18)}}else L.za=ne[1],0<L.za-L.T&&37500>ne[2]&&L.F&&L.v==0&&!L.C&&(L.C=ca(p(L.Za,L),6e3));if(1>=pg(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else $s(L,11)}else if((x.K||L.g==x)&&Lu(L),!E(I))for(ne=L.Da.g.parse(I),I=0;I<ne.length;I++){let Vt=ne[I];if(L.T=Vt[0],Vt=Vt[1],L.G==2)if(Vt[0]=="c"){L.K=Vt[1],L.ia=Vt[2];const rn=Vt[3];rn!=null&&(L.la=rn,L.j.info("VER="+L.la));const Vr=Vt[4];Vr!=null&&(L.Aa=Vr,L.j.info("SVER="+L.Aa));const Bi=Vt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(z=1.5*Bi,L.L=z,L.j.info("backChannelRequestTimeoutMs_="+z)),z=L;const yi=x.g;if(yi){const pc=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var ce=z.h;ce.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(fh(ce,ce.h),ce.h=null))}if(z.D){const Vu=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Vu&&(z.ya=Vu,sr(z.I,z.D,Vu))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-x.F,L.j.info("Handshake RTT: "+L.R+"ms")),z=L;var Ce=x;if(z.qa=Tg(z,z.J?z.ia:null,z.W),Ce.K){gg(z.h,Ce);var tr=Ce,Kr=z.L;Kr&&(tr.I=Kr),tr.B&&(lc(tr),ur(tr)),z.g=Ce}else mc(z);0<L.i.length&&Ka(L)}else Vt[0]!="stop"&&Vt[0]!="close"||$s(L,7);else L.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?$s(L,7):mn(L):Vt[0]!="noop"&&L.l&&L.l.ta(Vt),L.v=0)}}Qn(4)}catch{}}var mg=class{constructor(x,I){this.g=x,this.map=I}};function cc(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pi(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function pg(x){return x.h?1:x.g?x.g.size:0}function Ln(x,I){return x.h?x.h==I:x.g?x.g.has(I):!1}function fh(x,I){x.g?x.g.add(I):x.h=I}function gg(x,I){x.h&&x.h==I?x.h=null:x.g&&x.g.has(I)&&x.g.delete(I)}cc.prototype.cancel=function(){if(this.i=vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function vg(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let I=x.i;for(const L of x.g.values())I=I.concat(L.D);return I}return b(x.i)}function Tu(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(u(x)){for(var I=[],L=x.length,z=0;z<L;z++)I.push(x[z]);return I}I=[],L=0;for(z in x)I[L++]=x[z];return I}function Pu(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(u(x)||typeof x=="string"){var I=[];x=x.length;for(var L=0;L<x;L++)I.push(L);return I}I=[],L=0;for(const z in x)I[L++]=z;return I}}}function Do(x,I){if(x.forEach&&typeof x.forEach=="function")x.forEach(I,void 0);else if(u(x)||typeof x=="string")Array.prototype.forEach.call(x,I,void 0);else for(var L=Pu(x),z=Tu(x),ne=z.length,ce=0;ce<ne;ce++)I.call(void 0,z[ce],L&&L[ce],x)}var uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q0(x,I){if(x){x=x.split("&");for(var L=0;L<x.length;L++){var z=x[L].indexOf("="),ne=null;if(0<=z){var ce=x[L].substring(0,z);ne=x[L].substring(z+1)}else ce=x[L];I(ce,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Rs(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Rs){this.h=x.h,dc(this,x.j),this.o=x.o,this.g=x.g,Lo(this,x.s),this.l=x.l;var I=x.i,L=new Ha;L.i=I.i,I.g&&(L.g=new Map(I.g),L.h=I.h),$o(this,L),this.m=x.m}else x&&(I=String(x).match(uc))?(this.h=!1,dc(this,I[1]||"",!0),this.o=Mt(I[2]||""),this.g=Mt(I[3]||"",!0),Lo(this,I[4]),this.l=Mt(I[5]||"",!0),$o(this,I[6]||"",!0),this.m=Mt(I[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}Rs.prototype.toString=function(){var x=[],I=this.j;I&&x.push(Vo(I,ku,!0),":");var L=this.g;return(L||I=="file")&&(x.push("//"),(I=this.o)&&x.push(Vo(I,ku,!0),"@"),x.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&x.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&x.push("/"),x.push(Vo(L,L.charAt(0)=="/"?bg:xg,!0))),(L=this.i.toString())&&x.push("?",L),(L=this.m)&&x.push("#",Vo(L,hh)),x.join("")};function gi(x){return new Rs(x)}function dc(x,I,L){x.j=L?Mt(I,!0):I,x.j&&(x.j=x.j.replace(/:$/,""))}function Lo(x,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);x.s=I}else x.s=null}function $o(x,I,L){I instanceof Ha?(x.i=I,Wa(x.i,x.h)):(L||(I=Vo(I,wg)),x.i=new Ha(I,x.h))}function sr(x,I,L){x.i.set(I,L)}function Fo(x){return sr(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function Mt(x,I){return x?I?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Vo(x,I,L){return typeof x=="string"?(x=encodeURI(x).replace(I,yg),L&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function yg(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var ku=/[#\/\?@]/g,xg=/[#\?:]/g,bg=/[#\?]/g,wg=/[#\?@]/g,hh=/#/g;function Ha(x,I){this.h=this.g=null,this.i=x||null,this.j=!!I}function hn(x){x.g||(x.g=new Map,x.h=0,x.i&&Q0(x.i,function(I,L){x.add(decodeURIComponent(I.replace(/\+/g," ")),L)}))}t=Ha.prototype,t.add=function(x,I){hn(this),this.i=null,x=Vi(this,x);var L=this.g.get(x);return L||this.g.set(x,L=[]),L.push(I),this.h+=1,this};function ha(x,I){hn(x),I=Vi(x,I),x.g.has(I)&&(x.i=null,x.h-=x.g.get(I).length,x.g.delete(I))}function ma(x,I){return hn(x),I=Vi(x,I),x.g.has(I)}t.forEach=function(x,I){hn(this),this.g.forEach(function(L,z){L.forEach(function(ne){x.call(I,ne,z,this)},this)},this)},t.na=function(){hn(this);const x=Array.from(this.g.values()),I=Array.from(this.g.keys()),L=[];for(let z=0;z<I.length;z++){const ne=x[z];for(let ce=0;ce<ne.length;ce++)L.push(I[z])}return L},t.V=function(x){hn(this);let I=[];if(typeof x=="string")ma(this,x)&&(I=I.concat(this.g.get(Vi(this,x))));else{x=Array.from(this.g.values());for(let L=0;L<x.length;L++)I=I.concat(x[L])}return I},t.set=function(x,I){return hn(this),this.i=null,x=Vi(this,x),ma(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[I]),this.h+=1,this},t.get=function(x,I){return x?(x=this.V(x),0<x.length?String(x[0]):I):I};function Bo(x,I,L){ha(x,I),0<L.length&&(x.i=null,x.g.set(Vi(x,I),b(L)),x.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],I=Array.from(this.g.keys());for(var L=0;L<I.length;L++){var z=I[L];const ce=encodeURIComponent(String(z)),Ce=this.V(z);for(z=0;z<Ce.length;z++){var ne=ce;Ce[z]!==""&&(ne+="="+encodeURIComponent(String(Ce[z]))),x.push(ne)}}return this.i=x.join("&")};function Vi(x,I){return I=String(I),x.j&&(I=I.toLowerCase()),I}function Wa(x,I){I&&!x.j&&(hn(x),x.i=null,x.g.forEach(function(L,z){var ne=z.toLowerCase();z!=ne&&(ha(this,z),Bo(this,ne,L))},x)),x.j=I}function X0(x,I){const L=new ac;if(l.Image){const z=new Image;z.onload=y(Xn,L,"TestLoadImage: loaded",!0,I,z),z.onerror=y(Xn,L,"TestLoadImage: error",!1,I,z),z.onabort=y(Xn,L,"TestLoadImage: abort",!1,I,z),z.ontimeout=y(Xn,L,"TestLoadImage: timeout",!1,I,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=x}else I(!1)}function _g(x,I){const L=new ac,z=new AbortController,ne=setTimeout(()=>{z.abort(),Xn(L,"TestPingServer: timeout",!1,I)},1e4);fetch(x,{signal:z.signal}).then(ce=>{clearTimeout(ne),ce.ok?Xn(L,"TestPingServer: ok",!0,I):Xn(L,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(ne),Xn(L,"TestPingServer: error",!1,I)})}function Xn(x,I,L,z,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),z(L)}catch{}}function J0(){this.g=new Os}function Sg(x,I,L){const z=L||"";try{Do(x,function(ne,ce){let Ce=ne;f(ne)&&(Ce=$i(ne)),I.push(z+ce+"="+encodeURIComponent(Ce))})}catch(ne){throw I.push(z+"type="+encodeURIComponent("_badmap")),ne}}function Ms(x){this.l=x.Ub||null,this.j=x.eb||!1}w(Ms,nt),Ms.prototype.g=function(){return new fc(this.l,this.j)},Ms.prototype.i=function(x){return function(){return x}}({});function fc(x,I){De.call(this),this.D=x,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(fc,De),t=fc.prototype,t.open=function(x,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=I,this.readyState=1,ga(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(I.body=x),(this.D||l).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jg(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function jg(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var I=x.value?x.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!x.done}))&&(this.response=this.responseText+=I)}x.done?pa(this):ga(this),this.readyState==3&&jg(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,pa(this))},t.Qa=function(x){this.g&&(this.response=x,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(x){x.readyState=4,x.l=null,x.j=null,x.v=null,ga(x)}t.setRequestHeader=function(x,I){this.u.append(x,I)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],I=this.h.entries();for(var L=I.next();!L.done;)L=L.value,x.push(L[0]+": "+L[1]),L=I.next();return x.join(`\r
`)};function ga(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Ds(x){let I="";return O(x,function(L,z){I+=z,I+=":",I+=L,I+=`\r
`}),I}function Uo(x,I,L){e:{for(z in L){var z=!1;break e}z=!0}z||(L=Ds(L),typeof x=="string"?L!=null&&encodeURIComponent(String(L)):sr(x,I,L))}function jr(x){De.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(jr,De);var Z0=/^https?$/i,mh=["POST","PUT"];t=jr.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,I,L,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);I=I?I.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():da.g(),this.v=this.o?Ft(this.o):Ft(da),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(I,String(x),!0),this.B=!1}catch(ce){hc(this,ce);return}if(x=L||"",L=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ne in z)L.set(ne,z[ne]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ce of z.keys())L.set(ce,z.get(ce));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(L.keys()).find(ce=>ce.toLowerCase()=="content-type"),ne=l.FormData&&x instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mh,I,void 0))||z||ne||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ce]of L)this.g.setRequestHeader(ce,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Iu(this),this.u=!0,this.g.send(x),this.u=!1}catch(ce){hc(this,ce)}};function hc(x,I){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=I,x.m=5,Cu(x),vi(x)}function Cu(x){x.A||(x.A=!0,Se(x,"complete"),Se(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Se(this,"complete"),Se(this,"abort"),vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),jr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ph(this):this.bb())},t.bb=function(){ph(this)};function ph(x){if(x.h&&typeof o<"u"&&(!x.v[1]||Jn(x)!=4||x.Z()!=2)){if(x.u&&Jn(x)==4)kt(x.Ea,0,x);else if(Se(x,"readystatechange"),Jn(x)==4){x.h=!1;try{const Ce=x.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var L;if(!(L=I)){var z;if(z=Ce===0){var ne=String(x.D).match(uc)[1]||null;!ne&&l.self&&l.self.location&&(ne=l.self.location.protocol.slice(0,-1)),z=!Z0.test(ne?ne.toLowerCase():"")}L=z}if(L)Se(x,"complete"),Se(x,"success");else{x.m=6;try{var ce=2<Jn(x)?x.g.statusText:""}catch{ce=""}x.l=ce+" ["+x.Z()+"]",Cu(x)}}finally{vi(x)}}}}function vi(x,I){if(x.g){Iu(x);const L=x.g,z=x.v[0]?()=>{}:null;x.g=null,x.v=null,I||Se(x,"ready");try{L.onreadystatechange=z}catch{}}}function Iu(x){x.I&&(l.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function Jn(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var I=this.g.responseText;return x&&I.indexOf(x)==0&&(I=I.substring(x.length)),fn(I)}};function gh(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Ou(x){const I={};x=(x.g&&2<=Jn(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<x.length;z++){if(E(x[z]))continue;var L=D(x[z]);const ne=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ce=I[ne]||[];I[ne]=ce,ce.push(L)}k(I,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(x,I,L){return L&&L.internalChannelParams&&L.internalChannelParams[x]||I}function vh(x){this.Aa=0,this.i=[],this.j=new ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,x),this.cb=Ga("retryDelaySeedMs",1e4,x),this.Wa=Ga("forwardChannelMaxRetries",2,x),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new cc(x&&x.concurrentRequestLimit),this.Da=new J0,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vh.prototype,t.la=8,t.G=1,t.connect=function(x,I,L,z){Sr(0),this.W=x,this.H=I||{},L&&z!==void 0&&(this.H.OSID=L,this.H.OAID=z),this.F=this.X,this.I=Tg(this,null,this.W),Ka(this)};function mn(x){if(Ru(x),x.G==3){var I=x.U++,L=gi(x.I);if(sr(L,"SID",x.K),sr(L,"RID",I),sr(L,"TYPE","terminate"),Ls(x,L),I=new fa(x,x.j,I),I.L=2,I.v=Fo(gi(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(I.v.toString(),"")}catch{}!L&&l.Image&&(new Image().src=I.v,L=!0),L||(I.g=Pg(I.j,null),I.g.ea(I.v)),I.F=Date.now(),ur(I)}Ag(x)}function va(x){x.g&&(yh(x),x.g.cancel(),x.g=null)}function Ru(x){va(x),x.u&&(l.clearTimeout(x.u),x.u=null),Lu(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&l.clearTimeout(x.s),x.s=null)}function Ka(x){if(!pi(x.h)&&!x.s){x.s=!0;var I=x.Ga;Y||ee(),W||(Y(),W=!0),J.add(I,x),x.B=0}}function ew(x,I){return pg(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=I.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=ca(p(x.Ga,x,I),Eg(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const ne=new fa(this,this.j,x);let ce=this.o;if(this.S&&(ce?(ce=C(ce),F(ce,this.S)):ce=this.S),this.m!==null||this.O||(ne.H=ce,ce=null),this.P)e:{for(var I=0,L=0;L<this.i.length;L++){t:{var z=this.i[L];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(I+=z,4096<I){I=L;break e}if(I===4096||L===this.i.length-1){I=L+1;break e}}I=1e3}else I=1e3;I=zo(this,ne,I),L=gi(this.I),sr(L,"RID",x),sr(L,"CVER",22),this.D&&sr(L,"X-HTTP-Session-Id",this.D),Ls(this,L),ce&&(this.O?I="headers="+encodeURIComponent(String(Ds(ce)))+"&"+I:this.m&&Uo(L,this.m,ce)),fh(this.h,ne),this.Ua&&sr(L,"TYPE","init"),this.P?(sr(L,"$req",I),sr(L,"SID","null"),ne.T=!0,Au(ne,L,null)):Au(ne,L,I),this.G=2}}else this.G==3&&(x?Mu(this,x):this.i.length==0||pi(this.h)||Mu(this))};function Mu(x,I){var L;I?L=I.l:L=x.U++;const z=gi(x.I);sr(z,"SID",x.K),sr(z,"RID",L),sr(z,"AID",x.T),Ls(x,z),x.m&&x.o&&Uo(z,x.m,x.o),L=new fa(x,x.j,L,x.B+1),x.m===null&&(L.H=x.o),I&&(x.i=I.D.concat(x.i)),I=zo(x,L,1e3),L.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),fh(x.h,L),Au(L,z,I)}function Ls(x,I){x.H&&O(x.H,function(L,z){sr(I,z,L)}),x.l&&Do({},function(L,z){sr(I,z,L)})}function zo(x,I,L){L=Math.min(x.i.length,L);var z=x.l?p(x.l.Na,x.l,x):null;e:{var ne=x.i;let ce=-1;for(;;){const Ce=["count="+L];ce==-1?0<L?(ce=ne[0].g,Ce.push("ofs="+ce)):ce=0:Ce.push("ofs="+ce);let tr=!0;for(let Kr=0;Kr<L;Kr++){let Vt=ne[Kr].g;const rn=ne[Kr].map;if(Vt-=ce,0>Vt)ce=Math.max(0,ne[Kr].g-100),tr=!1;else try{Sg(rn,Ce,"req"+Vt+"_")}catch{z&&z(rn)}}if(tr){z=Ce.join("&");break e}}}return x=x.i.splice(0,L),I.D=x,z}function mc(x){if(!x.g&&!x.u){x.Y=1;var I=x.Fa;Y||ee(),W||(Y(),W=!0),J.add(I,x),x.v=0}}function Du(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=ca(p(x.Fa,x),Eg(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,Ng(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=ca(p(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sr(10),va(this),Ng(this))};function yh(x){x.A!=null&&(l.clearTimeout(x.A),x.A=null)}function Ng(x){x.g=new fa(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var I=gi(x.qa);sr(I,"RID","rpc"),sr(I,"SID",x.K),sr(I,"AID",x.T),sr(I,"CI",x.F?"0":"1"),!x.F&&x.ja&&sr(I,"TO",x.ja),sr(I,"TYPE","xmlhttp"),Ls(x,I),x.m&&x.o&&Uo(I,x.m,x.o),x.L&&(x.g.I=x.L);var L=x.g;x=x.ia,L.L=1,L.v=Fo(gi(I)),L.m=null,L.P=!0,uh(L,x)}t.Za=function(){this.C!=null&&(this.C=null,va(this),Du(this),Sr(19))};function Lu(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function $u(x,I){var L=null;if(x.g==I){Lu(x),yh(x),x.g=null;var z=2}else if(Ln(x.h,I))L=I.D,gg(x.h,I),z=1;else return;if(x.G!=0){if(I.o)if(z==1){L=I.m?I.m.length:0,I=Date.now()-I.F;var ne=x.B;z=jt(),Se(z,new mi(z,L)),Ka(x)}else mc(x);else if(ne=I.s,ne==3||ne==0&&0<I.X||!(z==1&&ew(x,I)||z==2&&Du(x)))switch(L&&0<L.length&&(I=x.h,I.i=I.i.concat(L)),ne){case 1:$s(x,5);break;case 4:$s(x,10);break;case 3:$s(x,6);break;default:$s(x,2)}}}function Eg(x,I){let L=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(L*=2),L*I}function $s(x,I){if(x.j.info("Error code "+I),I==2){var L=p(x.fb,x),z=x.Xa;const ne=!z;z=new Rs(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||dc(z,"https"),Fo(z),ne?X0(z.toString(),L):_g(z.toString(),L)}else Sr(2);x.G=0,x.l&&x.l.sa(I),Ag(x),Ru(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),Sr(2)):(this.j.info("Failed to ping google.com"),Sr(1))};function Ag(x){if(x.G=0,x.ka=[],x.l){const I=vg(x.h);(I.length!=0||x.i.length!=0)&&(v(x.ka,I),v(x.ka,x.i),x.h.i.length=0,b(x.i),x.i.length=0),x.l.ra()}}function Tg(x,I,L){var z=L instanceof Rs?gi(L):new Rs(L);if(z.g!="")I&&(z.g=I+"."+z.g),Lo(z,z.s);else{var ne=l.location;z=ne.protocol,I=I?I+"."+ne.hostname:ne.hostname,ne=+ne.port;var ce=new Rs(null);z&&dc(ce,z),I&&(ce.g=I),ne&&Lo(ce,ne),L&&(ce.l=L),z=ce}return L=x.D,I=x.ya,L&&I&&sr(z,L,I),sr(z,"VER",x.la),Ls(x,z),z}function Pg(x,I,L){if(I&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=x.Ca&&!x.pa?new jr(new Ms({eb:L})):new jr(x.pa),I.Ha(x.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xh(){}t=xh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fu(){}Fu.prototype.g=function(x,I){return new $n(x,I)};function $n(x,I){De.call(this),this.g=new vh(I),this.l=x,this.h=I&&I.messageUrlParams||null,x=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(x?x["X-WebChannel-Content-Type"]=I.messageContentType:x={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(x?x["X-WebChannel-Client-Profile"]=I.va:x={"X-WebChannel-Client-Profile":I.va}),this.g.S=x,(x=I&&I.Sb)&&!E(x)&&(this.g.m=x),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!E(I)&&(this.g.D=I,x=this.h,x!==null&&I in x&&(x=this.h,I in x&&delete x[I])),this.j=new Ya(this)}w($n,De),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){mn(this.g)},$n.prototype.o=function(x){var I=this.g;if(typeof x=="string"){var L={};L.__data__=x,x=L}else this.u&&(L={},L.__data__=$i(x),x=L);I.i.push(new mg(I.Ya++,x)),I.G==3&&Ka(I)},$n.prototype.N=function(){this.g.l=null,delete this.j,mn(this.g),delete this.g,$n.aa.N.call(this)};function kg(x){Ar.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var I=x.__sm__;if(I){e:{for(const L in I){x=L;break e}x=void 0}(this.i=x)&&(x=this.i,I=I!==null&&x in I?I[x]:void 0),this.data=I}else this.data=x}w(kg,Ar);function Cg(){fe.call(this),this.status=1}w(Cg,fe);function Ya(x){this.g=x}w(Ya,xh),Ya.prototype.ua=function(){Se(this.g,"a")},Ya.prototype.ta=function(x){Se(this.g,new kg(x))},Ya.prototype.sa=function(x){Se(this.g,new Cg)},Ya.prototype.ra=function(){Se(this.g,"b")},Fu.prototype.createWebChannel=Fu.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,_8=function(){return new Fu},w8=function(){return jt()},b8=Me,BE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nu.NO_ERROR=0,Nu.TIMEOUT=8,Nu.HTTP_ERROR=6,uy=Nu,ug.COMPLETE="complete",x8=ug,Rt.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",De.prototype.listen=De.prototype.K,sm=Rt,jr.prototype.listenOnce=jr.prototype.L,jr.prototype.getLastError=jr.prototype.Ka,jr.prototype.getLastErrorCode=jr.prototype.Ba,jr.prototype.getStatus=jr.prototype.Z,jr.prototype.getResponseJson=jr.prototype.Oa,jr.prototype.getResponseText=jr.prototype.oa,jr.prototype.send=jr.prototype.ea,jr.prototype.setWithCredentials=jr.prototype.Ha,y8=jr}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});const TR="@firebase/firestore",PR="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Tb("@firebase/firestore");function md(){return su.logLevel}function Fe(t,...e){if(su.logLevel<=It.DEBUG){const r=e.map(AP);su.debug(`Firestore (${Uf}): ${t}`,...r)}}function vo(t,...e){if(su.logLevel<=It.ERROR){const r=e.map(AP);su.error(`Firestore (${Uf}): ${t}`,...r)}}function Jd(t,...e){if(su.logLevel<=It.WARN){const r=e.map(AP);su.warn(`Firestore (${Uf}): ${t}`,...r)}}function AP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t="Unexpected state"){const e=`FIRESTORE (${Uf}) INTERNAL ASSERTION FAILED: `+t;throw vo(e),new Error(e)}function Zt(t,e){t||ct()}function yt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Ba{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Cn.UNAUTHENTICATED))}shutdown(){}}class ese{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class tse{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Zt(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let a=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oo)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Zt(typeof n.accessToken=="string"),new S8(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string"),new Cn(e)}}class rse{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nse{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new rse(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ise{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ti(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Zt(this.o===void 0);const n=a=>{a.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new kR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Zt(typeof r.token=="string"),this.R=r.token,new kR(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=ase(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Et(t,e){return t<e?-1:t>e?1:0}function UE(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Et(n,i);{const a=j8(),o=sse(a.encode(CR(t,r)),a.encode(CR(e,r)));return o!==0?o:Et(n,i)}}r+=n>65535?2:1}return Et(t.length,e.length)}function CR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function sse(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Et(t[r],e[r]);return Et(t.length,e.length)}function Zd(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=-62135596800,OR=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*OR);return new Jt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<IR)throw new $e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OR}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-IR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Jt(0,0))}static max(){return new gt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="__name__";class rs{constructor(e,r,n){r===void 0?r=0:r>e.length&&ct(),n===void 0?n=e.length-r:n>e.length-r&&ct(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=rs.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Et(e.length,r.length)}static compareSegments(e,r){const n=rs.isNumericId(e),i=rs.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?rs.extractNumericId(e).compare(rs.extractNumericId(r)):UE(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pl.fromString(e.substring(4,e.length-2))}}class wr extends rs{construct(e,r,n){return new wr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new $e(he.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new wr(r)}static emptyPath(){return new wr([])}}const ose=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends rs{construct(e,r,n){return new bn(e,r,n)}static isValidIdentifier(e){return ose.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RR}static keyField(){return new bn([RR])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new $e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new $e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new $e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(r)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(wr.fromString(e))}static fromName(e){return new Je(wr.fromString(e).popFirst(5))}static empty(){return new Je(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new wr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function lse(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=gt.fromTimestamp(n===1e9?new Jt(r+1,0):new Jt(r,n));return new Fl(i,Je.empty(),e)}function cse(t){return new Fl(t.readTime,t.key,qm)}class Fl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Fl(gt.min(),Je.empty(),qm)}static max(){return new Fl(gt.max(),Je.empty(),qm)}}function use(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Je.comparator(t.documentKey,e.documentKey),r!==0?r:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dse="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==dse)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,n)=>{r(e)})}static reject(e){return new pe((r,n)=>{n(e)})}static waitFor(e){return new pe((r,n)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&r()},u=>n(u))}),o=!0,a===i&&r()})}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next(i=>i?pe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new pe((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const f=u;r(e[f]).next(m=>{o[f]=m,++l,l===a&&n(o)},m=>i(m))}})}static doWhile(e,r){return new pe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function hse(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rb.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=-1;function Mb(t){return t==null}function zy(t){return t===0&&1/t==-1/0}function mse(t){return typeof t=="number"&&Number.isInteger(t)&&!zy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="";function pse(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=MR(e)),e=gse(t.get(r),e);return MR(e)}function gse(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case E8:r+="";break;default:r+=a}}return r}function MR(t){return t+E8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ql(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function A8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,r){this.comparator=e,this.root=r||xn.EMPTY}insert(e,r){return new Ir(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rv(this.root,e,this.comparator,!0)}}class Rv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??xn.RED,this.left=i??xn.EMPTY,this.right=a??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new xn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(e,r,n,i,a){return this}insert(e,r,n){return new xn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new LR(this.data.getIterator())}getIteratorFrom(e){return new LR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new en(this.comparator);return r.data=e,r}}class LR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ki([])}unionWith(e){let r=new en(bn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ki(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new T8("Invalid base64 string: "+a):a}}(e);return new _n(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new _n(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const vse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vl(t){if(Zt(!!t),typeof t=="string"){let e=0;const r=vse.exec(t);if(Zt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:$r(t.seconds),nanos:$r(t.nanos)}}function $r(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bl(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="server_timestamp",k8="__type__",C8="__previous_value__",I8="__local_write_time__";function PP(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[k8])===null||r===void 0?void 0:r.stringValue)===P8}function Db(t){const e=t.mapValue.fields[C8];return PP(e)?Db(e):e}function Hm(t){const e=Vl(t.mapValue.fields[I8].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e,r,n,i,a,o,l,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f}}const qy="(default)";class Wm{constructor(e,r){this.projectId=e,this.database=r||qy}static empty(){return new Wm("","")}get isDefaultDatabase(){return this.database===qy}isEqual(e){return e instanceof Wm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="__type__",xse="__max__",Mv={mapValue:{}},R8="__vector__",Hy="value";function Ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?PP(t)?4:wse(t)?9007199254740991:bse(t)?10:11:ct()}function Ss(t,e){if(t===e)return!0;const r=Ul(t);if(r!==Ul(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hm(t).isEqual(Hm(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Vl(i.timestampValue),l=Vl(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Bl(i.bytesValue).isEqual(Bl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return $r(i.geoPointValue.latitude)===$r(a.geoPointValue.latitude)&&$r(i.geoPointValue.longitude)===$r(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return $r(i.integerValue)===$r(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=$r(i.doubleValue),l=$r(a.doubleValue);return o===l?zy(o)===zy(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Zd(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(DR(o)!==DR(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Ss(o[u],l[u])))return!1;return!0}(t,e);default:return ct()}}function Gm(t,e){return(t.values||[]).find(r=>Ss(r,e))!==void 0}function ef(t,e){if(t===e)return 0;const r=Ul(t),n=Ul(e);if(r!==n)return Et(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=$r(a.integerValue||a.doubleValue),u=$r(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return $R(t.timestampValue,e.timestampValue);case 4:return $R(Hm(t),Hm(e));case 5:return UE(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Bl(a),u=Bl(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),u=o.split("/");for(let f=0;f<l.length&&f<u.length;f++){const m=Et(l[f],u[f]);if(m!==0)return m}return Et(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Et($r(a.latitude),$r(o.latitude));return l!==0?l:Et($r(a.longitude),$r(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FR(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,u,f,m;const h=a.fields||{},p=o.fields||{},y=(l=h[Hy])===null||l===void 0?void 0:l.arrayValue,w=(u=p[Hy])===null||u===void 0?void 0:u.arrayValue,b=Et(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0);return b!==0?b:FR(y,w)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Mv.mapValue&&o===Mv.mapValue)return 0;if(a===Mv.mapValue)return 1;if(o===Mv.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),f=o.fields||{},m=Object.keys(f);u.sort(),m.sort();for(let h=0;h<u.length&&h<m.length;++h){const p=UE(u[h],m[h]);if(p!==0)return p;const y=ef(l[u[h]],f[m[h]]);if(y!==0)return y}return Et(u.length,m.length)}(t.mapValue,e.mapValue);default:throw ct()}}function $R(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const r=Vl(t),n=Vl(e),i=Et(r.seconds,n.seconds);return i!==0?i:Et(r.nanos,n.nanos)}function FR(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ef(r[i],n[i]);if(a)return a}return Et(r.length,n.length)}function tf(t){return zE(t)}function zE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Vl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Bl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Je.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=zE(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${zE(r.fields[o])}`;return i+"}"}(t.mapValue):ct()}function dy(t){switch(Ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Db(t);return e?16+dy(e):16;case 5:return 2*t.stringValue.length;case 6:return Bl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+dy(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Ql(n.fields,(a,o)=>{i+=a.length+dy(o)}),i}(t.mapValue);default:throw ct()}}function VR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qE(t){return!!t&&"integerValue"in t}function kP(t){return!!t&&"arrayValue"in t}function BR(t){return!!t&&"nullValue"in t}function UR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fy(t){return!!t&&"mapValue"in t}function bse(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[O8])===null||r===void 0?void 0:r.stringValue)===R8}function bm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ql(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=bm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function wse(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xse}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!fy(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bm(r)}setAll(e){let r=bn.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=bm(o):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());fy(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];fy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ql(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new li(bm(this.value))}}function M8(t){const e=[];return Ql(t.fields,(r,n)=>{const i=new bn([r]);if(fy(n)){const a=M8(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new ki(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new In(e,0,gt.min(),gt.min(),gt.min(),li.empty(),0)}static newFoundDocument(e,r,n,i){return new In(e,1,r,gt.min(),n,i,0)}static newNoDocument(e,r){return new In(e,2,r,gt.min(),gt.min(),li.empty(),0)}static newUnknownDocument(e,r){return new In(e,3,r,gt.min(),gt.min(),li.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,r){this.position=e,this.inclusive=r}}function zR(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Je.comparator(Je.fromName(o.referenceValue),r.key):n=ef(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function qR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ss(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,r="asc"){this.field=e,this.dir=r}}function _se(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{}class qr extends D8{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new jse(e,r,n):r==="array-contains"?new Ase(e,n):r==="in"?new Tse(e,n):r==="not-in"?new Pse(e,n):r==="array-contains-any"?new kse(e,n):new qr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Nse(e,n):new Ese(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ef(r,this.value)):r!==null&&Ul(this.value)===Ul(r)&&this.matchesComparison(ef(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fa extends D8{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Fa(e,r)}matches(e){return L8(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function L8(t){return t.op==="and"}function $8(t){return Sse(t)&&L8(t)}function Sse(t){for(const e of t.filters)if(e instanceof Fa)return!1;return!0}function HE(t){if(t instanceof qr)return t.field.canonicalString()+t.op.toString()+tf(t.value);if($8(t))return t.filters.map(e=>HE(e)).join(",");{const e=t.filters.map(r=>HE(r)).join(",");return`${t.op}(${e})`}}function F8(t,e){return t instanceof qr?function(n,i){return i instanceof qr&&n.op===i.op&&n.field.isEqual(i.field)&&Ss(n.value,i.value)}(t,e):t instanceof Fa?function(n,i){return i instanceof Fa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,l)=>a&&F8(o,i.filters[l]),!0):!1}(t,e):void ct()}function V8(t){return t instanceof qr?function(r){return`${r.field.canonicalString()} ${r.op} ${tf(r.value)}`}(t):t instanceof Fa?function(r){return r.op.toString()+" {"+r.getFilters().map(V8).join(" ,")+"}"}(t):"Filter"}class jse extends qr{constructor(e,r,n){super(e,r,n),this.key=Je.fromName(n.referenceValue)}matches(e){const r=Je.comparator(e.key,this.key);return this.matchesComparison(r)}}class Nse extends qr{constructor(e,r){super(e,"in",r),this.keys=B8("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ese extends qr{constructor(e,r){super(e,"not-in",r),this.keys=B8("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function B8(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Je.fromName(n.referenceValue))}class Ase extends qr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return kP(r)&&Gm(r.arrayValue,this.value)}}class Tse extends qr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Gm(this.value.arrayValue,r)}}class Pse extends qr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Gm(this.value.arrayValue,r)}}class kse extends qr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!kP(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Gm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.le=null}}function HR(t,e=null,r=[],n=[],i=null,a=null,o=null){return new Cse(t,e,r,n,i,a,o)}function CP(t){const e=yt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>HE(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Mb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>tf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>tf(n)).join(",")),e.le=r}return e.le}function IP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!_se(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!F8(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qR(t.startAt,e.startAt)&&qR(t.endAt,e.endAt)}function WE(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ise(t,e,r,n,i,a,o,l){return new Hf(t,e,r,n,i,a,o,l)}function Lb(t){return new Hf(t)}function WR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U8(t){return t.collectionGroup!==null}function wm(t){const e=yt(t);if(e.he===null){e.he=[];const r=new Set;for(const a of e.explicitOrderBy)e.he.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new en(bn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.he.push(new Km(a,n))}),r.has(bn.keyField().canonicalString())||e.he.push(new Km(bn.keyField(),n))}return e.he}function hs(t){const e=yt(t);return e.Pe||(e.Pe=Ose(e,wm(t))),e.Pe}function Ose(t,e){if(t.limitType==="F")return HR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Km(i.field,a)});const r=t.endAt?new Wy(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Wy(t.startAt.position,t.startAt.inclusive):null;return HR(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function GE(t,e){const r=t.filters.concat([e]);return new Hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Gy(t,e,r){return new Hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function $b(t,e){return IP(hs(t),hs(e))&&t.limitType===e.limitType}function z8(t){return`${CP(hs(t))}|lt:${t.limitType}`}function pd(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>V8(i)).join(", ")}]`),Mb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>tf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>tf(i)).join(",")),`Target(${n})`}(hs(t))}; limitType=${t.limitType})`}function Fb(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Je.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of wm(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,l,u){const f=zR(o,l,u);return o.inclusive?f<=0:f<0}(n.startAt,wm(n),i)||n.endAt&&!function(o,l,u){const f=zR(o,l,u);return o.inclusive?f>=0:f>0}(n.endAt,wm(n),i))}(t,e)}function Rse(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function q8(t){return(e,r)=>{let n=!1;for(const i of wm(t)){const a=Mse(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Mse(t,e,r){const n=t.field.isKeyField()?Je.comparator(e.key,r.key):function(a,o,l){const u=o.data.field(a),f=l.data.field(a);return u!==null&&f!==null?ef(u,f):ct()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return A8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse=new Ir(Je.comparator);function yo(){return Dse}const H8=new Ir(Je.comparator);function om(...t){let e=H8;for(const r of t)e=e.insert(r.key,r);return e}function W8(t){let e=H8;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Lc(){return _m()}function G8(){return _m()}function _m(){return new vu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lse=new Ir(Je.comparator),$se=new en(Je.comparator);function Ot(...t){let e=$se;for(const r of t)e=e.add(r);return e}const Fse=new en(Et);function Vse(){return Fse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(e)?"-0":e}}function K8(t){return{integerValue:""+t}}function Bse(t,e){return mse(e)?K8(e):OP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this._=void 0}}function Use(t,e,r){return t instanceof Ym?function(i,a){const o={fields:{[k8]:{stringValue:P8},[I8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&PP(a)&&(a=Db(a)),a&&(o.fields[C8]=a),{mapValue:o}}(r,e):t instanceof rf?Q8(t,e):t instanceof Qm?X8(t,e):function(i,a){const o=Y8(i,a),l=GR(o)+GR(i.Ie);return qE(o)&&qE(i.Ie)?K8(l):OP(i.serializer,l)}(t,e)}function zse(t,e,r){return t instanceof rf?Q8(t,e):t instanceof Qm?X8(t,e):r}function Y8(t,e){return t instanceof Ky?function(n){return qE(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Ym extends Vb{}class rf extends Vb{constructor(e){super(),this.elements=e}}function Q8(t,e){const r=J8(e);for(const n of t.elements)r.some(i=>Ss(i,n))||r.push(n);return{arrayValue:{values:r}}}class Qm extends Vb{constructor(e){super(),this.elements=e}}function X8(t,e){let r=J8(e);for(const n of t.elements)r=r.filter(i=>!Ss(i,n));return{arrayValue:{values:r}}}class Ky extends Vb{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function GR(t){return $r(t.integerValue||t.doubleValue)}function J8(t){return kP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,r){this.field=e,this.transform=r}}function qse(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof rf&&i instanceof rf||n instanceof Qm&&i instanceof Qm?Zd(n.elements,i.elements,Ss):n instanceof Ky&&i instanceof Ky?Ss(n.Ie,i.Ie):n instanceof Ym&&i instanceof Ym}(t.transform,e.transform)}class Hse{constructor(e,r){this.version=e,this.transformResults=r}}class Oa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Oa}static exists(e){return new Oa(void 0,e)}static updateTime(e){return new Oa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bb{}function eU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rU(t.key,Oa.none()):new Kp(t.key,t.data,Oa.none());{const r=t.data,n=li.empty();let i=new en(bn.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Xl(t.key,n,new ki(i.toArray()),Oa.none())}}function Wse(t,e,r){t instanceof Kp?function(i,a,o){const l=i.value.clone(),u=YR(i.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Xl?function(i,a,o){if(!hy(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=YR(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(tU(i)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Sm(t,e,r,n){return t instanceof Kp?function(a,o,l,u){if(!hy(a.precondition,o))return l;const f=a.value.clone(),m=QR(a.fieldTransforms,u,o);return f.setAll(m),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Xl?function(a,o,l,u){if(!hy(a.precondition,o))return l;const f=QR(a.fieldTransforms,u,o),m=o.data;return m.setAll(tU(a)),m.setAll(f),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,o,l){return hy(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function Gse(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Y8(n.transform,i||null);a!=null&&(r===null&&(r=li.empty()),r.set(n.field,a))}return r||null}function KR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Zd(n,i,(a,o)=>qse(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kp extends Bb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xl extends Bb{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tU(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function YR(t,e,r){const n=new Map;Zt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,zse(o,l,r[i]))}return n}function QR(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,Use(a,o,e))}return n}class rU extends Bb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kse extends Bb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Wse(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Sm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Sm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=G8();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const u=eU(o,l);u!==null&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(gt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ot())}isEqual(e){return this.batchId===e.batchId&&Zd(this.mutations,e.mutations,(r,n)=>KR(r,n))&&Zd(this.baseMutations,e.baseMutations,(r,n)=>KR(r,n))}}class RP{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Zt(e.mutations.length===n.length);let i=function(){return Lse}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new RP(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qse=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,Bt;function Jse(t){switch(t){case he.OK:return ct();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return ct()}}function nU(t){if(t===void 0)return vo("GRPC error has no .code"),he.UNKNOWN;switch(t){case Ur.OK:return he.OK;case Ur.CANCELLED:return he.CANCELLED;case Ur.UNKNOWN:return he.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return he.INTERNAL;case Ur.UNAVAILABLE:return he.UNAVAILABLE;case Ur.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ur.NOT_FOUND:return he.NOT_FOUND;case Ur.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ur.ABORTED:return he.ABORTED;case Ur.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ur.DATA_LOSS:return he.DATA_LOSS;default:return ct()}}(Bt=Ur||(Ur={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse=new Pl([4294967295,4294967295],0);function XR(t){const e=j8().encode(t),r=new v8;return r.update(e),new Uint8Array(r.digest())}function JR(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pl([r,n],0),new Pl([i,a],0)]}class MP{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new lm(`Invalid padding: ${r}`);if(n<0)throw new lm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new lm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new lm(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Pl.fromNumber(this.Ee)}Ae(e,r,n){let i=e.add(r.multiply(Pl.fromNumber(n)));return i.compare(Zse)===1&&(i=new Pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=XR(e),[n,i]=JR(r);for(let a=0;a<this.hashCount;a++){const o=this.Ae(n,i,a);if(!this.Re(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new MP(a,i,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const r=XR(e),[n,i]=JR(r);for(let a=0;a<this.hashCount;a++){const o=this.Ae(n,i,a);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class lm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Yp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ub(gt.min(),i,new Ir(Et),yo(),Ot())}}class Yp{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Yp(n,r,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,r,n,i){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=i}}class iU{constructor(e,r){this.targetId=e,this.ge=r}}class aU{constructor(e,r,n=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class ZR{constructor(){this.pe=0,this.ye=eM(),this.we=_n.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ot(),r=Ot(),n=Ot();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ct()}}),new Yp(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=eM()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class eoe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=yo(),this.$e=Dv(),this.Ue=Dv(),this.Ke=new Ir(Et)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:ct()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((n,i)=>{this.Je(i)&&r(i)})}Ze(e){const r=e.targetId,n=e.ge.count,i=this.Xe(r);if(i){const a=i.target;if(WE(a))if(n===0){const o=new Je(a.path);this.ze(r,o,In.newNoDocument(o,gt.min()))}else Zt(n===1);else{const o=this.et(r);if(o!==n){const l=this.tt(e),u=l?this.nt(l,e,o):1;if(u!==0){this.Ye(r);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,f)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=Bl(n).toUint8Array()}catch(u){if(u instanceof T8)return Jd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new MP(o,i,a)}catch(u){return Jd(u instanceof lm?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.ze(r,a,null),i++)}),i}ot(e){const r=new Map;this.qe.forEach((a,o)=>{const l=this.Xe(o);if(l){if(a.current&&WE(l.target)){const u=new Je(l.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,In.newNoDocument(u,e))}a.ve&&(r.set(o,a.Fe()),a.Me())}});let n=Ot();this.Ue.forEach((a,o)=>{let l=!0;o.forEachWhile(u=>{const f=this.Xe(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.Qe.forEach((a,o)=>o.setReadTime(e));const i=new Ub(e,r,this.Ke,this.Qe,n);return this.Qe=yo(),this.$e=Dv(),this.Ue=Dv(),this.Ke=new Ir(Et),i}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new ZR,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new en(Et),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new en(Et),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||Fe("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ZR),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function Dv(){return new Ir(Je.comparator)}function eM(){return new Ir(Je.comparator)}const toe={asc:"ASCENDING",desc:"DESCENDING"},roe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},noe={and:"AND",or:"OR"};class ioe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function KE(t,e){return t.useProto3Json||Mb(e)?e:{value:e}}function Yy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aoe(t,e){return Yy(t,e.toTimestamp())}function ms(t){return Zt(!!t),gt.fromTimestamp(function(r){const n=Vl(r);return new Jt(n.seconds,n.nanos)}(t))}function DP(t,e){return YE(t,e).canonicalString()}function YE(t,e){const r=function(i){return new wr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function oU(t){const e=wr.fromString(t);return Zt(fU(e)),e}function QE(t,e){return DP(t.databaseId,e.path)}function W1(t,e){const r=oU(e);if(r.get(1)!==t.databaseId.projectId)throw new $e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new $e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Je(cU(r))}function lU(t,e){return DP(t.databaseId,e)}function soe(t){const e=oU(t);return e.length===4?wr.emptyPath():cU(e)}function XE(t){return new wr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cU(t){return Zt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tM(t,e,r){return{name:QE(t,e),fields:r.value.mapValue.fields}}function ooe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ct()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,m){return f.useProto3Json?(Zt(m===void 0||typeof m=="string"),_n.fromBase64String(m||"")):(Zt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),_n.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const m=f.code===void 0?he.UNKNOWN:nU(f.code);return new $e(m,f.message||"")}(o);r=new aU(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=W1(t,n.document.name),a=ms(n.document.updateTime),o=n.document.createTime?ms(n.document.createTime):gt.min(),l=new li({mapValue:{fields:n.document.fields}}),u=In.newFoundDocument(i,a,o,l),f=n.targetIds||[],m=n.removedTargetIds||[];r=new my(f,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=W1(t,n.document),a=n.readTime?ms(n.readTime):gt.min(),o=In.newNoDocument(i,a),l=n.removedTargetIds||[];r=new my([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=W1(t,n.document),a=n.removedTargetIds||[];r=new my([],a,i,null)}else{if(!("filter"in e))return ct();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new Xse(i,a),l=n.targetId;r=new iU(l,o)}}return r}function loe(t,e){let r;if(e instanceof Kp)r={update:tM(t,e.key,e.value)};else if(e instanceof rU)r={delete:QE(t,e.key)};else if(e instanceof Xl)r={update:tM(t,e.key,e.data),updateMask:voe(e.fieldMask)};else{if(!(e instanceof Kse))return ct();r={verify:QE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof Ym)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof rf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Qm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ky)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw ct()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:aoe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ct()}(t,e.precondition)),r}function coe(t,e){return t&&t.length>0?(Zt(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?ms(i.updateTime):ms(a);return o.isEqual(gt.min())&&(o=ms(a)),new Hse(o,i.transformResults||[])}(r,e))):[]}function uoe(t,e){return{documents:[lU(t,e.path)]}}function doe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=lU(t,i);const a=function(f){if(f.length!==0)return dU(Fa.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(m=>function(p){return{field:gd(p.field),direction:moe(p.dir)}}(m))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=KE(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:r,parent:i}}function foe(t){let e=soe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Zt(n===1);const m=r.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];r.where&&(a=function(h){const p=uU(h);return p instanceof Fa&&$8(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(p=>function(w){return new Km(vd(w.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(r.orderBy));let l=null;r.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,Mb(p)?null:p}(r.limit));let u=null;r.startAt&&(u=function(h){const p=!!h.before,y=h.values||[];return new Wy(y,p)}(r.startAt));let f=null;return r.endAt&&(f=function(h){const p=!h.before,y=h.values||[];return new Wy(y,p)}(r.endAt)),Ise(e,i,o,a,l,"F",u,f)}function hoe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function uU(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=vd(r.unaryFilter.field);return qr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=vd(r.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vd(r.unaryFilter.field);return qr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vd(r.unaryFilter.field);return qr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(t):t.fieldFilter!==void 0?function(r){return qr.create(vd(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Fa.create(r.compositeFilter.filters.map(n=>uU(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct()}}(r.compositeFilter.op))}(t):ct()}function moe(t){return toe[t]}function poe(t){return roe[t]}function goe(t){return noe[t]}function gd(t){return{fieldPath:t.canonicalString()}}function vd(t){return bn.fromServerFormat(t.fieldPath)}function dU(t){return t instanceof qr?function(r){if(r.op==="=="){if(UR(r.value))return{unaryFilter:{field:gd(r.field),op:"IS_NAN"}};if(BR(r.value))return{unaryFilter:{field:gd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(UR(r.value))return{unaryFilter:{field:gd(r.field),op:"IS_NOT_NAN"}};if(BR(r.value))return{unaryFilter:{field:gd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gd(r.field),op:poe(r.op),value:r.value}}}(t):t instanceof Fa?function(r){const n=r.getFilters().map(i=>dU(i));return n.length===1?n[0]:{compositeFilter:{op:goe(r.op),filters:n}}}(t):ct()}function voe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function fU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,r,n,i,a=gt.min(),o=gt.min(),l=_n.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e){this.Tt=e}}function xoe(t){const e=foe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(){this.Tn=new woe}addToCollectionParentIndex(e,r){return this.Tn.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(Fl.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(Fl.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class woe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new en(wr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new en(wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hU=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(hU,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new nf(0)}static Kn(){return new nf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="LruGarbageCollector",_oe=1048576;function iM([t,e],[r,n]){const i=Et(t,r);return i===0?Et(e,n):i}class Soe{constructor(e){this.Hn=e,this.buffer=new en(iM),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();iM(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class joe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Fe(nM,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){qf(r)?Fe(nM,"Ignoring IndexedDB error during garbage collection: ",r):await zf(r)}await this.er(3e5)})}}class Noe{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return pe.resolve(Rb.ae);const n=new Soe(r);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(rM)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rM):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,i,a,o,l,u,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,l=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(f=Date.now(),md()<=It.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(f-u)+`ms
Total Duration: ${f-m}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function Eoe(t,e){return new Noe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(){this.changes=new vu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Sm(n.mutation,i,ki.empty(),Jt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ot()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ot()){const i=Lc();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=om();return a.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Lc();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ot()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,i){let a=yo();const o=_m(),l=function(){return _m()}();return r.forEach((u,f)=>{const m=n.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Xl)?a=a.insert(f.key,f):m!==void 0?(o.set(f.key,m.mutation.getFieldMask()),Sm(m.mutation,f,m.mutation.getFieldMask(),Jt.now())):o.set(f.key,ki.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((f,m)=>o.set(f,m)),r.forEach((f,m)=>{var h;return l.set(f,new Toe(m,(h=o.get(f))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,r){const n=_m();let i=new Ir((o,l)=>o-l),a=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(u=>{const f=r.get(u);if(f===null)return;let m=n.get(u)||ki.empty();m=l.applyToLocalView(f,m),n.set(u,m);const h=(i.get(l.batchId)||Ot()).add(u);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,m=u.value,h=G8();m.forEach(p=>{if(!a.has(p)){const y=eU(r.get(p),n.get(p));y!==null&&h.set(p,y),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,h))}return pe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):U8(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):pe.resolve(Lc());let l=qm,u=a;return o.next(f=>pe.forEach(f,(m,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(m)?pe.resolve():this.remoteDocumentCache.getEntry(e,m).next(p=>{u=u.insert(m,p)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,u,f,Ot())).next(m=>({batchId:l,changes:W8(m)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Je(r)).next(n=>{let i=om();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=om();return this.indexManager.getCollectionParents(e,a).next(l=>pe.forEach(l,u=>{const f=function(h,p){return new Hf(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(m=>{m.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((u,f)=>{const m=f.getKey();o.get(m)===null&&(o=o.insert(m,In.newInvalidDocument(m)))});let l=om();return o.forEach((u,f)=>{const m=a.get(u);m!==void 0&&Sm(m.mutation,f,ki.empty(),Jt.now()),Fb(r,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return pe.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ms(i.createTime)}}(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:xoe(i.bundledQuery),readTime:ms(i.readTime)}}(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(){this.overlays=new Ir(Je.comparator),this.Rr=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Lc();return pe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.Et(e,r,a)}),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=Lc(),a=r.length+1,o=new Je(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>n&&i.set(u.getKey(),u)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ir((f,m)=>f-m);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let m=a.get(f.largestBatchId);m===null&&(m=Lc(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const l=Lc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,m)=>l.set(f,m)),!(l.size()>=i)););return pe.resolve(l)}Et(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Qse(r,n));let a=this.Rr.get(r);a===void 0&&(a=Ot(),this.Rr.set(r,a)),this.Rr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.Vr=new en(on.mr),this.gr=new en(on.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new on(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.wr(new on(e,r))}Sr(e,r){e.forEach(n=>this.removeReference(n,r))}br(e){const r=new Je(new wr([])),n=new on(r,e),i=new on(r,e+1),a=[];return this.gr.forEachInRange([n,i],o=>{this.wr(o),a.push(o.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new Je(new wr([])),n=new on(r,e),i=new on(r,e+1);let a=Ot();return this.gr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new on(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class on{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return Je.comparator(e.key,r.key)||Et(e.Cr,r.Cr)}static pr(e,r){return Et(e.Cr,r.Cr)||Je.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ooe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new en(on.mr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yse(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Mr=this.Mr.add(new on(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,r){return pe.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Nr(n),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?TP:this.Fr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new on(r,0),i=new on(r,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,i],o=>{const l=this.Or(o.Cr);a.push(l)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new en(Et);return r.forEach(i=>{const a=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,o],l=>{n=n.add(l.Cr)})}),pe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Je.isDocumentKey(a)||(a=a.child(""));const o=new on(new Je(a),0);let l=new en(Et);return this.Mr.forEachWhile(u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Cr)),!0)},o),pe.resolve(this.Br(l))}Br(e){const r=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Zt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return pe.forEach(r.mutations,i=>{const a=new on(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,r){const n=new on(r,0),i=this.Mr.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(e){this.kr=e,this.docs=function(){return new Ir(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():In.newInvalidDocument(r))}getEntries(e,r){let n=yo();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():In.newInvalidDocument(i))}),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=yo();const o=r.path,l=new Je(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:m}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||use(cse(m),n)<=0||(i.has(m.key)||Fb(r,m))&&(a=a.insert(m.key,m.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ct()}qr(e,r){return pe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Moe(this)}getSize(e){return pe.resolve(this.size)}}class Moe extends Aoe{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),pe.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e){this.persistence=e,this.Qr=new vu(r=>CP(r),IP),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new LP,this.targetCount=0,this.Kr=nf.Un()}forEachTarget(e,r){return this.Qr.forEach((n,i)=>r(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),pe.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new nf(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.zn(r),pe.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Qr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new Rb(0),this.zr=!1,this.zr=!0,this.jr=new Ioe,this.referenceDelegate=e(this),this.Hr=new Doe(this),this.indexManager=new boe,this.remoteDocumentCache=function(i){return new Roe(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new yoe(r),this.Yr=new koe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Coe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new Ooe(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){Fe("MemoryPersistence","Starting transaction:",e);const i=new Loe(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,r){return pe.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,r)))}}class Loe extends fse{constructor(e){super(),this.currentSequenceNumber=e}}class $P{constructor(e){this.persistence=e,this.ti=new LP,this.ni=null}static ri(e){return new $P(e)}get ii(){if(this.ni)return this.ni;throw ct()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),pe.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ii,n=>{const i=Je.fromPath(n);return this.si(e,i).next(a=>{a||r.removeEntry(i,gt.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return pe.or([()=>pe.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class Qy{constructor(e,r){this.persistence=e,this.oi=new vu(n=>pse(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Eoe(this,r)}static ri(e,r){return new Qy(e,r)}Zr(){}Xr(e){return pe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}rr(e,r){return pe.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(a=>a?pe.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,r).next(l=>{l||(n++,a.removeEntry(o,gt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),pe.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=dy(e.data.value)),r}ar(e,r,n){return pe.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.oi.get(r);return pe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=i}static Yi(e,r){let n=Ot(),i=Ot();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new FP(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Jee()?8:hse(Dn())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.rs(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ss(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new $oe;return this._s(e,r,o).next(l=>{if(a.result=l,this.Xi)return this.us(e,r,o,l.size)})}).next(()=>a.result)}us(e,r,n,i){return n.documentReadCount<this.es?(md()<=It.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",pd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pe.resolve()):(md()<=It.DEBUG&&Fe("QueryEngine","Query:",pd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(md()<=It.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",pd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(r))):pe.resolve())}rs(e,r){if(WR(r))return pe.resolve(null);let n=hs(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Gy(r,null,"F"),n=hs(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Ot(...a);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const f=this.cs(r,l);return this.ls(r,f,o,u.readTime)?this.rs(e,Gy(r,null,"F")):this.hs(e,f,r,u)}))})))}ss(e,r,n,i){return WR(r)||i.isEqual(gt.min())?pe.resolve(null):this.ns.getDocuments(e,n).next(a=>{const o=this.cs(r,a);return this.ls(r,o,n,i)?pe.resolve(null):(md()<=It.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pd(r)),this.hs(e,o,r,lse(i,qm)).next(l=>l))})}cs(e,r){let n=new en(q8(e));return r.forEach((i,a)=>{Fb(e,a)&&(n=n.add(a))}),n}ls(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,r,n){return md()<=It.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",pd(r)),this.ns.getDocumentsMatchingQuery(e,r,Fl.min(),n)}hs(e,r,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="LocalStore",Voe=3e8;class Boe{constructor(e,r,n,i){this.persistence=e,this.Ps=r,this.serializer=i,this.Ts=new Ir(Et),this.Is=new vu(a=>CP(a),IP),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Poe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function Uoe(t,e,r,n){return new Boe(t,e,r,n)}async function pU(t,e){const r=yt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.As(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let u=Ot();for(const f of i){o.push(f.batchId);for(const m of f.mutations)u=u.add(m.key)}for(const f of a){l.push(f.batchId);for(const m of f.mutations)u=u.add(m.key)}return r.localDocuments.getDocuments(n,u).next(f=>({Rs:f,removedBatchIds:o,addedBatchIds:l}))})})}function zoe(t,e){const r=yt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,f,m){const h=f.batch,p=h.keys();let y=pe.resolve();return p.forEach(w=>{y=y.next(()=>m.getEntry(u,w)).next(b=>{const v=f.docVersions.get(w);Zt(v!==null),b.version.compareTo(v)<0&&(h.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),m.addEntry(b)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=Ot();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function gU(t){const e=yt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function qoe(t,e){const r=yt(t),n=e.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const l=[];e.targetChanges.forEach((m,h)=>{const p=i.get(h);if(!p)return;l.push(r.Hr.removeMatchingKeys(a,m.removedDocuments,h).next(()=>r.Hr.addMatchingKeys(a,m.addedDocuments,h)));let y=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(_n.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,n)),i=i.insert(h,y),function(b,v,A){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Voe?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(p,y,m)&&l.push(r.Hr.updateTargetData(a,y))});let u=yo(),f=Ot();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,m))}),l.push(Hoe(a,o,e.documentUpdates).next(m=>{u=m.Vs,f=m.fs})),!n.isEqual(gt.min())){const m=r.Hr.getLastRemoteSnapshotVersion(a).next(h=>r.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(m)}return pe.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,u,f)).next(()=>u)}).then(a=>(r.Ts=i,a))}function Hoe(t,e,r){let n=Ot(),i=Ot();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=yo();return r.forEach((l,u)=>{const f=a.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(gt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Fe(VP,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function Woe(t,e){const r=yt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=TP),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Goe(t,e){const r=yt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Hr.getTargetData(n,e).next(a=>a?(i=a,pe.resolve(i)):r.Hr.allocateTargetId(n).next(o=>(i=new Sl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n})}async function JE(t,e,r){const n=yt(t),i=n.Ts.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qf(o))throw o;Fe(VP,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function aM(t,e,r){const n=yt(t);let i=gt.min(),a=Ot();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,m){const h=yt(u),p=h.Is.get(m);return p!==void 0?pe.resolve(h.Ts.get(p)):h.Hr.getTargetData(f,m)}(n,o,hs(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{a=u})}).next(()=>n.Ps.getDocumentsMatchingQuery(o,e,r?i:gt.min(),r?a:Ot())).next(l=>(Koe(n,Rse(e),l),{documents:l,gs:a})))}function Koe(t,e,r){let n=t.Es.get(e)||gt.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Es.set(e,n)}class sM{constructor(){this.activeTargetIds=Vse()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yoe{constructor(){this.ho=new sM,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sM,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="ConnectivityMonitor";class lM{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Fe(oM,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Fe(oM,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv=null;function ZE(){return Lv===null?Lv=function(){return 268435456+Math.round(2147483648*Math.random())}():Lv++,"0x"+Lv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="RestConnection",Xoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Joe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===qy?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,r,n,i,a){const o=ZE(),l=this.bo(e,r.toUriEncodedString());Fe(G1,`Sending RPC '${e}' ${o}:`,l,n);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,a),this.vo(e,l,u,n).then(f=>(Fe(G1,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Jd(G1,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",n),f})}Co(e,r,n,i,a,o){return this.So(e,r,n,i,a)}Do(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}bo(e,r){const n=Xoe[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class ele extends Joe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,i){const a=ZE();return new Promise((o,l)=>{const u=new y8;u.setWithCredentials(!0),u.listenOnce(x8.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uy.NO_ERROR:const m=u.getResponseJson();Fe(Tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case uy.TIMEOUT:Fe(Tn,`RPC '${e}' ${a} timed out`),l(new $e(he.DEADLINE_EXCEEDED,"Request time out"));break;case uy.HTTP_ERROR:const h=u.getStatus();if(Fe(Tn,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(v){const A=v.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(A)>=0?A:he.UNKNOWN}(y.status);l(new $e(w,y.message))}else l(new $e(he.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new $e(he.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Fe(Tn,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Fe(Tn,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",f,n,15)})}Wo(e,r,n){const i=ZE(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_8(),l=w8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const m=a.join("");Fe(Tn,`Creating RPC '${e}' stream ${i}: ${m}`,u);const h=o.createWebChannel(m,u);let p=!1,y=!1;const w=new Zoe({Fo:v=>{y?Fe(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(p||(Fe(Tn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Fe(Tn,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Mo:()=>h.close()}),b=(v,A,E)=>{v.listen(A,j=>{try{E(j)}catch(N){setTimeout(()=>{throw N},0)}})};return b(h,sm.EventType.OPEN,()=>{y||(Fe(Tn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),b(h,sm.EventType.CLOSE,()=>{y||(y=!0,Fe(Tn,`RPC '${e}' stream ${i} transport closed`),w.Uo())}),b(h,sm.EventType.ERROR,v=>{y||(y=!0,Jd(Tn,`RPC '${e}' stream ${i} transport errored:`,v),w.Uo(new $e(he.UNAVAILABLE,"The operation could not be completed")))}),b(h,sm.EventType.MESSAGE,v=>{var A;if(!y){const E=v.data[0];Zt(!!E);const j=E,N=(j==null?void 0:j.error)||((A=j[0])===null||A===void 0?void 0:A.error);if(N){Fe(Tn,`RPC '${e}' stream ${i} received error:`,N);const T=N.status;let O=function(M){const F=Ur[M];if(F!==void 0)return nU(F)}(T),k=N.message;O===void 0&&(O=he.INTERNAL,k="Unknown error status: "+T+" with message "+N.message),y=!0,w.Uo(new $e(O,k)),h.close()}else Fe(Tn,`RPC '${e}' stream ${i} received:`,E),w.Ko(E)}}),b(l,b8.STAT_EVENT,v=>{v.stat===BE.PROXY?Fe(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===BE.NOPROXY&&Fe(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function K1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){return new ioe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-n);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="PersistentStream";class yU{constructor(e,r,n,i,a,o,l,u){this.Ti=e,this.n_=n,this.r_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vU(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===he.RESOURCE_EXHAUSTED?(vo(r.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===r&&this.V_(n,i)},n=>{e(()=>{const i=new $e(he.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Fe(cM,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(Fe(cM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tle extends yU{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=ooe(this.serializer,e),n=function(a){if(!("targetChange"in a))return gt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?ms(o.readTime):gt.min()}(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=XE(this.serializer),r.addTarget=function(a,o){let l;const u=o.target;if(l=WE(u)?{documents:uoe(a,u)}:{query:doe(a,u).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=sU(a,o.resumeToken);const f=KE(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(gt.min())>0){l.readTime=Yy(a,o.snapshotVersion.toTimestamp());const f=KE(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const n=hoe(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=XE(this.serializer),r.removeTarget=e,this.I_(r)}}class rle extends yU{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=coe(e.writeResults,e.commitTime),n=ms(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=XE(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>loe(this.serializer,n))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nle{}class ile extends nle{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new $e(he.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.So(e,YE(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(he.UNKNOWN,a.toString())})}Co(e,r,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,YE(r,n),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(he.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ale{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vo(r),this.N_=!1):Fe("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="RemoteStore";class sle{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(o=>{n.enqueueAndForget(async()=>{yu(this)&&(Fe(ou,"Restarting streams for network reachability change."),await async function(u){const f=yt(u);f.W_.add(4),await Qp(f),f.j_.set("Unknown"),f.W_.delete(4),await qb(f)}(this))})}),this.j_=new ale(n,i)}}async function qb(t){if(yu(t))for(const e of t.G_)await e(!0)}async function Qp(t){for(const e of t.G_)await e(!1)}function xU(t,e){const r=yt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),qP(r)?zP(r):Wf(r).c_()&&UP(r,e))}function BP(t,e){const r=yt(t),n=Wf(r);r.K_.delete(e),n.c_()&&bU(r,e),r.K_.size===0&&(n.c_()?n.P_():yu(r)&&r.j_.set("Unknown"))}function UP(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wf(t).y_(e)}function bU(t,e){t.H_.Ne(e),Wf(t).w_(e)}function zP(t){t.H_=new eoe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Wf(t).start(),t.j_.B_()}function qP(t){return yu(t)&&!Wf(t).u_()&&t.K_.size>0}function yu(t){return yt(t).W_.size===0}function wU(t){t.H_=void 0}async function ole(t){t.j_.set("Online")}async function lle(t){t.K_.forEach((e,r)=>{UP(t,e)})}async function cle(t,e){wU(t),qP(t)?(t.j_.q_(e),zP(t)):t.j_.set("Unknown")}async function ule(t,e,r){if(t.j_.set("Online"),e instanceof aU&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.K_.delete(l),i.H_.removeTarget(l))}(t,e)}catch(n){Fe(ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xy(t,n)}else if(e instanceof my?t.H_.We(e):e instanceof iU?t.H_.Ze(e):t.H_.je(e),!r.isEqual(gt.min()))try{const n=await gU(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.H_.ot(o);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const m=a.K_.get(f);m&&a.K_.set(f,m.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,f)=>{const m=a.K_.get(u);if(!m)return;a.K_.set(u,m.withResumeToken(_n.EMPTY_BYTE_STRING,m.snapshotVersion)),bU(a,u);const h=new Sl(m.target,u,f,m.sequenceNumber);UP(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Fe(ou,"Failed to raise snapshot:",n),await Xy(t,n)}}async function Xy(t,e,r){if(!qf(e))throw e;t.W_.add(1),await Qp(t),t.j_.set("Offline"),r||(r=()=>gU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe(ou,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await qb(t)})}function _U(t,e){return e().catch(r=>Xy(t,r,e))}async function Hb(t){const e=yt(t),r=zl(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:TP;for(;dle(e);)try{const i=await Woe(e.localStore,n);if(i===null){e.U_.length===0&&r.P_();break}n=i.batchId,fle(e,i)}catch(i){await Xy(e,i)}SU(e)&&jU(e)}function dle(t){return yu(t)&&t.U_.length<10}function fle(t,e){t.U_.push(e);const r=zl(t);r.c_()&&r.S_&&r.b_(e.mutations)}function SU(t){return yu(t)&&!zl(t).u_()&&t.U_.length>0}function jU(t){zl(t).start()}async function hle(t){zl(t).C_()}async function mle(t){const e=zl(t);for(const r of t.U_)e.b_(r.mutations)}async function ple(t,e,r){const n=t.U_.shift(),i=RP.from(n,e,r);await _U(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hb(t)}async function gle(t,e){e&&zl(t).S_&&await async function(n,i){if(function(o){return Jse(o)&&o!==he.ABORTED}(i.code)){const a=n.U_.shift();zl(n).h_(),await _U(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Hb(n)}}(t,e),SU(t)&&jU(t)}async function uM(t,e){const r=yt(t);r.asyncQueue.verifyOperationInProgress(),Fe(ou,"RemoteStore received new credentials");const n=yu(r);r.W_.add(3),await Qp(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await qb(r)}async function vle(t,e){const r=yt(t);e?(r.W_.delete(2),await qb(r)):e||(r.W_.add(2),await Qp(r),r.j_.set("Unknown"))}function Wf(t){return t.J_||(t.J_=function(r,n,i){const a=yt(r);return a.M_(),new tle(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:ole.bind(null,t),No:lle.bind(null,t),Lo:cle.bind(null,t),p_:ule.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),qP(t)?zP(t):t.j_.set("Unknown")):(await t.J_.stop(),wU(t))})),t.J_}function zl(t){return t.Y_||(t.Y_=function(r,n,i){const a=yt(r);return a.M_(),new rle(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:hle.bind(null,t),Lo:gle.bind(null,t),D_:mle.bind(null,t),v_:ple.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Hb(t)):(await t.Y_.stop(),t.U_.length>0&&(Fe(ou,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new HP(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WP(t,e){if(vo("AsyncQueue",`${e}: ${t}`),qf(t))return new $e(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{static emptySet(e){return new Id(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Je.comparator(r.key,n.key):(r,n)=>Je.comparator(r.key,n.key),this.keyedMap=om(),this.sortedSet=new Ir(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Id)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Id;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.Z_=new Ir(Je.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):ct():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class af{constructor(e,r,n,i,a,o,l,u,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new af(e,r,Id.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$b(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yle{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class xle{constructor(){this.queries=fM(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const i=yt(r),a=i.queries;i.queries=fM(),a.forEach((o,l)=>{for(const u of l.ta)u.onError(n)})})(this,new $e(he.ABORTED,"Firestore shutting down"))}}function fM(){return new vu(t=>z8(t),$b)}async function GP(t,e){const r=yt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.na()&&e.ra()&&(n=2):(a=new yle,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await r.onListen(i,!0);break;case 1:a.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=WP(o,`Initialization of query '${pd(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.ta.push(e),e.sa(r.onlineState),a.ea&&e.oa(a.ea)&&YP(r)}async function KP(t,e){const r=yt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.ta.indexOf(e);o>=0&&(a.ta.splice(o,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function ble(t,e){const r=yt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.ta)l.oa(i)&&(n=!0);o.ea=i}}n&&YP(r)}function wle(t,e,r){const n=yt(t),i=n.queries.get(e);if(i)for(const a of i.ta)a.onError(r);n.queries.delete(e)}function YP(t){t.ia.forEach(e=>{e.next()})}var eA,hM;(hM=eA||(eA={}))._a="default",hM.Cache="cache";class QP{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new af(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==eA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.key=e}}class EU{constructor(e){this.key=e}}class _le{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=q8(e),this.wa=new Id(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new dM,i=r?r.wa:this.wa;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,h)=>{const p=i.get(m),y=Fb(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let v=!1;p&&y?p.data.isEqual(y.data)?w!==b&&(n.track({type:3,doc:y}),v=!0):this.va(p,y)||(n.track({type:2,doc:y}),v=!0,(u&&this.ya(y,u)>0||f&&this.ya(y,f)<0)&&(l=!0)):!p&&y?(n.track({type:0,doc:y}),v=!0):p&&!y&&(n.track({type:1,doc:p}),v=!0,(u||f)&&(l=!0)),v&&(y?(o=o.add(y),a=b?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),n.track({type:1,doc:m})}return{wa:o,Da:n,ls:l,mutatedKeys:a}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((m,h)=>function(y,w){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return b(y)-b(w)}(m.type,h.type)||this.ya(m.doc,h.doc)),this.Ca(n),i=i!=null&&i;const l=r&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,f=u!==this.ga;return this.ga=u,o.length!==0||f?{snapshot:new af(this.query,e.wa,a,o,e.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new dM,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ot(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const r=[];return e.forEach(n=>{this.pa.has(n)||r.push(new EU(n))}),this.pa.forEach(n=>{e.has(n)||r.push(new NU(n))}),r}Oa(e){this.fa=e.gs,this.pa=Ot();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return af.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const XP="SyncEngine";class Sle{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class jle{constructor(e){this.key=e,this.Ba=!1}}class Nle{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new vu(l=>z8(l),$b),this.qa=new Map,this.Qa=new Set,this.$a=new Ir(Je.comparator),this.Ua=new Map,this.Ka=new LP,this.Wa={},this.Ga=new Map,this.za=nf.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ele(t,e,r=!0){const n=IU(t);let i;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await AU(n,e,r,!0),i}async function Ale(t,e){const r=IU(t);await AU(r,e,!0,!1)}async function AU(t,e,r,n){const i=await Goe(t.localStore,hs(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await Tle(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&xU(t.remoteStore,i),l}async function Tle(t,e,r,n,i){t.Ha=(h,p,y)=>async function(b,v,A,E){let j=v.view.ba(A);j.ls&&(j=await aM(b.localStore,v.query,!1).then(({documents:k})=>v.view.ba(k,j)));const N=E&&E.targetChanges.get(v.targetId),T=E&&E.targetMismatches.get(v.targetId)!=null,O=v.view.applyChanges(j,b.isPrimaryClient,N,T);return pM(b,v.targetId,O.Ma),O.snapshot}(t,h,p,y);const a=await aM(t.localStore,e,!0),o=new _le(e,a.gs),l=o.ba(a.documents),u=Yp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,u);pM(t,r,f.Ma);const m=new Sle(e,r,o);return t.ka.set(e,m),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),f.snapshot}async function Ple(t,e,r){const n=yt(t),i=n.ka.get(e),a=n.qa.get(i.targetId);if(a.length>1)return n.qa.set(i.targetId,a.filter(o=>!$b(o,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await JE(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&BP(n.remoteStore,i.targetId),tA(n,i.targetId)}).catch(zf)):(tA(n,i.targetId),await JE(n.localStore,i.targetId,!0))}async function kle(t,e){const r=yt(t),n=r.ka.get(e),i=r.qa.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),BP(r.remoteStore,n.targetId))}async function Cle(t,e,r){const n=$le(t);try{const i=await function(o,l){const u=yt(o),f=Jt.now(),m=l.reduce((y,w)=>y.add(w.key),Ot());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=yo(),b=Ot();return u.ds.getEntries(y,m).next(v=>{w=v,w.forEach((A,E)=>{E.isValidDocument()||(b=b.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(v=>{h=v;const A=[];for(const E of l){const j=Gse(E,h.get(E.key).overlayedDocument);j!=null&&A.push(new Xl(E.key,j,M8(j.value.mapValue),Oa.exists(!0)))}return u.mutationQueue.addMutationBatch(y,f,A,l)}).next(v=>{p=v;const A=v.applyToLocalDocumentSet(h,b);return u.documentOverlayCache.saveOverlays(y,v.batchId,A)})}).then(()=>({batchId:p.batchId,changes:W8(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let f=o.Wa[o.currentUser.toKey()];f||(f=new Ir(Et)),f=f.insert(l,u),o.Wa[o.currentUser.toKey()]=f}(n,i.batchId,r),await Xp(n,i.changes),await Hb(n.remoteStore)}catch(i){const a=WP(i,"Failed to persist write");r.reject(a)}}async function TU(t,e){const r=yt(t);try{const n=await qoe(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Ua.get(a);o&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Zt(o.Ba):i.removedDocuments.size>0&&(Zt(o.Ba),o.Ba=!1))}),await Xp(r,n,e)}catch(n){await zf(n)}}function mM(t,e,r){const n=yt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ka.forEach((a,o)=>{const l=o.view.sa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=yt(o);u.onlineState=l;let f=!1;u.queries.forEach((m,h)=>{for(const p of h.ta)p.sa(l)&&(f=!0)}),f&&YP(u)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Ile(t,e,r){const n=yt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ua.get(e),a=i&&i.key;if(a){let o=new Ir(Je.comparator);o=o.insert(a,In.newNoDocument(a,gt.min()));const l=Ot().add(a),u=new Ub(gt.min(),new Map,new Ir(Et),o,l);await TU(n,u),n.$a=n.$a.remove(a),n.Ua.delete(e),JP(n)}else await JE(n.localStore,e,!1).then(()=>tA(n,e,r)).catch(zf)}async function Ole(t,e){const r=yt(t),n=e.batch.batchId;try{const i=await zoe(r.localStore,e);kU(r,n,null),PU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Xp(r,i)}catch(i){await zf(i)}}async function Rle(t,e,r){const n=yt(t);try{const i=await function(o,l){const u=yt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return u.mutationQueue.lookupMutationBatch(f,l).next(h=>(Zt(h!==null),m=h.keys(),u.mutationQueue.removeMutationBatch(f,h))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,m,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>u.localDocuments.getDocuments(f,m))})}(n.localStore,e);kU(n,e,r),PU(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Xp(n,i)}catch(i){await zf(i)}}function PU(t,e){(t.Ga.get(e)||[]).forEach(r=>{r.resolve()}),t.Ga.delete(e)}function kU(t,e,r){const n=yt(t);let i=n.Wa[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function tA(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(n=>{t.Ka.containsKey(n)||CU(t,n)})}function CU(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(BP(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),JP(t))}function pM(t,e,r){for(const n of r)n instanceof NU?(t.Ka.addReference(n.key,e),Mle(t,n)):n instanceof EU?(Fe(XP,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||CU(t,n.key)):ct()}function Mle(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(Fe(XP,"New document in limbo: "+r),t.Qa.add(n),JP(t))}function JP(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new Je(wr.fromString(e)),n=t.za.next();t.Ua.set(n,new jle(r)),t.$a=t.$a.insert(r,n),xU(t.remoteStore,new Sl(hs(Lb(r.path)),n,"TargetPurposeLimboResolution",Rb.ae))}}async function Xp(t,e,r){const n=yt(t),i=[],a=[],o=[];n.ka.isEmpty()||(n.ka.forEach((l,u)=>{o.push(n.Ha(u,e,r).then(f=>{var m;if((f||r)&&n.isPrimaryClient){const h=f?!f.fromCache:(m=r==null?void 0:r.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(f){i.push(f);const h=FP.Yi(u.targetId,f);a.push(h)}}))}),await Promise.all(o),n.La.p_(i),await async function(u,f){const m=yt(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>pe.forEach(f,p=>pe.forEach(p.Hi,y=>m.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>pe.forEach(p.Ji,y=>m.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!qf(h))throw h;Fe(VP,"Failed to update sequence numbers: "+h)}for(const h of f){const p=h.targetId;if(!h.fromCache){const y=m.Ts.get(p),w=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(w);m.Ts=m.Ts.insert(p,b)}}}(n.localStore,a))}async function Dle(t,e){const r=yt(t);if(!r.currentUser.isEqual(e)){Fe(XP,"User change. New user:",e.toKey());const n=await pU(r.localStore,e);r.currentUser=e,function(a,o){a.Ga.forEach(l=>{l.forEach(u=>{u.reject(new $e(he.CANCELLED,o))})}),a.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Xp(r,n.Rs)}}function Lle(t,e){const r=yt(t),n=r.Ua.get(e);if(n&&n.Ba)return Ot().add(n.key);{let i=Ot();const a=r.qa.get(e);if(!a)return i;for(const o of a){const l=r.ka.get(o);i=i.unionWith(l.view.Sa)}return i}}function IU(t){const e=yt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ile.bind(null,e),e.La.p_=ble.bind(null,e.eventManager),e.La.Ja=wle.bind(null,e.eventManager),e}function $le(t){const e=yt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ole.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rle.bind(null,e),e}class Jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zb(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return Uoe(this.persistence,new Foe,e.initialUser,this.serializer)}Xa(e){return new mU($P.ri,this.serializer)}Za(e){return new Yoe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jy.provider={build:()=>new Jy};class Fle extends Jy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Zt(this.persistence.referenceDelegate instanceof Qy);const n=this.persistence.referenceDelegate.garbageCollector;return new joe(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new mU(n=>Qy.ri(n,r),this.serializer)}}class rA{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>mM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dle.bind(null,this.syncEngine),await vle(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xle}()}createDatastore(e){const r=zb(e.databaseInfo.databaseId),n=function(a){return new ele(a)}(e.databaseInfo);return function(a,o,l,u){return new ile(a,o,l,u)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,l){return new sle(n,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>mM(this.syncEngine,r,0),function(){return lM.D()?new lM:new Qoe}())}createSyncEngine(e,r){return function(i,a,o,l,u,f,m){const h=new Nle(i,a,o,l,u,f);return m&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=yt(i);Fe(ou,"RemoteStore shutting down."),a.W_.add(5),await Qp(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}rA.provider={build:()=>new rA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="FirestoreClient";class Vle{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Cn.UNAUTHENTICATED,this.clientId=N8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Fe(ql,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Fe(ql,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=WP(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Y1(t,e){t.asyncQueue.verifyOperationInProgress(),Fe(ql,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await pU(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gM(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Ble(t);Fe(ql,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>uM(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>uM(e.remoteStore,i)),t._onlineComponents=e}async function Ble(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe(ql,"Using user provided OfflineComponentProvider");try{await Y1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Jd("Error using user provided cache. Falling back to memory cache: "+r),await Y1(t,new Jy)}}else Fe(ql,"Using default OfflineComponentProvider"),await Y1(t,new Fle(void 0));return t._offlineComponents}async function OU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe(ql,"Using user provided OnlineComponentProvider"),await gM(t,t._uninitializedComponentsProvider._online)):(Fe(ql,"Using default OnlineComponentProvider"),await gM(t,new rA))),t._onlineComponents}function Ule(t){return OU(t).then(e=>e.syncEngine)}async function Zy(t){const e=await OU(t),r=e.eventManager;return r.onListen=Ele.bind(null,e.syncEngine),r.onUnlisten=Ple.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ale.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=kle.bind(null,e.syncEngine),r}function zle(t,e,r={}){const n=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,f){const m=new ZP({next:p=>{m.su(),o.enqueueAndForget(()=>KP(a,h));const y=p.docs.has(l);!y&&p.fromCache?f.reject(new $e(he.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?f.reject(new $e(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(p)},error:p=>f.reject(p)}),h=new QP(Lb(l.path),m,{includeMetadataChanges:!0,Ta:!0});return GP(a,h)}(await Zy(t),t.asyncQueue,e,r,n)),n.promise}function qle(t,e,r={}){const n=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,f){const m=new ZP({next:p=>{m.su(),o.enqueueAndForget(()=>KP(a,h)),p.fromCache&&u.source==="server"?f.reject(new $e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(p)},error:p=>f.reject(p)}),h=new QP(l,m,{includeMetadataChanges:!0,Ta:!0});return GP(a,h)}(await Zy(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t,e,r){if(!r)throw new $e(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hle(t,e,r,n){if(e===!0&&n===!0)throw new $e(he.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function yM(t){if(!Je.isDocumentKey(t))throw new $e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xM(t){if(Je.isDocumentKey(t))throw new $e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wb(t);throw new $e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Wle(t,e){if(e<=0)throw new $e(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="firestore.googleapis.com",bM=!0;class wM{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DU,this.ssl=bM}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:bM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_oe)throw new $e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RU((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new $e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new $e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new $e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Zae;switch(n.type){case"firstParty":return new nse(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=vM.get(r);n&&(Fe("ComponentProvider","Removing Datastore"),vM.delete(r),n.terminate())}(this),Promise.resolve()}}function Gle(t,e,r,n={}){var i;const a=(t=Mi(t,Gb))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;a.host!==DU&&a.host!==l&&Jd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:n});if(!mo(u,o)&&(t._setSettings(u),n.mockUserToken)){let f,m;if(typeof n.mockUserToken=="string")f=n.mockUserToken,m=Cn.MOCK_USER;else{f=Wee(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new $e(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Cn(h)}t._authCredentials=new ese(new S8(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Rn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class kl extends Ao{constructor(e,r,n){super(e,r,Lb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Je(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function sf(t,e,...r){if(t=Wr(t),MU("collection","path",e),t instanceof Gb){const n=wr.fromString(e,...r);return xM(n),new kl(t,null,n)}{if(!(t instanceof Rn||t instanceof kl))throw new $e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return xM(n),new kl(t.firestore,null,n)}}function Pt(t,e,...r){if(t=Wr(t),arguments.length===1&&(e=N8.newId()),MU("doc","path",e),t instanceof Gb){const n=wr.fromString(e,...r);return yM(n),new Rn(t,null,new Je(n))}{if(!(t instanceof Rn||t instanceof kl))throw new $e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return yM(n),new Rn(t.firestore,t instanceof kl?t.converter:null,new Je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="AsyncQueue";class SM{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vU(this,"async_queue_retry"),this.Su=()=>{const n=K1();n&&Fe(_M,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=K1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=K1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new oo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!qf(e))throw e;Fe(_M,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(n);throw vo("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const i=HP.createAndSchedule(this,e,r,n,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&ct()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function jM(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Hl extends Gb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new SM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SM(e),this._firestoreClient=void 0,await e}}}function ir(t,e){const r=typeof t=="object"?t:uP(),n=typeof t=="string"?t:qy,i=gu(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=qee("firestore");a&&Gle(i,...a)}return i}function Kb(t){if(t._terminated)throw new $e(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Kle(t),t._firestoreClient}function Kle(t){var e,r,n;const i=t._freezeSettings(),a=function(l,u,f,m){return new yse(l,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,RU(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Vle(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this._byteString=e}static fromBase64String(e){try{return new of(_n.fromBase64String(e))}catch(r){throw new $e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new of(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new $e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle=/^__.*__$/;class Qle{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Xl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Kp(e,this.data,r,this.fieldTransforms)}}class LU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Xl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function $U(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class Qb{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ex(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($U(this.Lu)&&Yle.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Xle{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||zb(e)}ju(e,r,n,i=!1){return new Qb({Lu:e,methodName:r,zu:n,path:bn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xb(t){const e=t._freezeSettings(),r=zb(t._databaseId);return new Xle(t._databaseId,!!e.ignoreUndefinedProperties,r)}function FU(t,e,r,n,i,a={}){const o=t.ju(a.merge||a.mergeFields?2:0,e,r,i);ik("Data must be an object, but it was:",o,n);const l=VU(n,o);let u,f;if(a.merge)u=new ki(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const h of a.mergeFields){const p=nA(e,h,r);if(!o.contains(p))throw new $e(he.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);UU(m,p)||m.push(p)}u=new ki(m),f=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,f=o.fieldTransforms;return new Qle(new li(l),u,f)}class Jb extends Jp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jb}}function Jle(t,e,r){return new Qb({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rk extends Jp{_toFieldTransform(e){return new Z8(e.path,new Ym)}isEqual(e){return e instanceof rk}}class nk extends Jp{constructor(e,r){super(e),this.Hu=r}_toFieldTransform(e){const r=Jle(this,e,!0),n=this.Hu.map(a=>Gf(a,r)),i=new rf(n);return new Z8(e.path,i)}isEqual(e){return e instanceof nk&&mo(this.Hu,e.Hu)}}function Zle(t,e,r,n){const i=t.ju(1,e,r);ik("Data must be an object, but it was:",i,n);const a=[],o=li.empty();Ql(n,(u,f)=>{const m=ak(e,u,r);f=Wr(f);const h=i.Uu(m);if(f instanceof Jb)a.push(m);else{const p=Gf(f,h);p!=null&&(a.push(m),o.set(m,p))}});const l=new ki(a);return new LU(o,l,i.fieldTransforms)}function ece(t,e,r,n,i,a){const o=t.ju(1,e,r),l=[nA(e,n,r)],u=[i];if(a.length%2!=0)throw new $e(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(nA(e,a[p])),u.push(a[p+1]);const f=[],m=li.empty();for(let p=l.length-1;p>=0;--p)if(!UU(f,l[p])){const y=l[p];let w=u[p];w=Wr(w);const b=o.Uu(y);if(w instanceof Jb)f.push(y);else{const v=Gf(w,b);v!=null&&(f.push(y),m.set(y,v))}}const h=new ki(f);return new LU(m,h,o.fieldTransforms)}function tce(t,e,r,n=!1){return Gf(r,t.ju(n?4:3,e))}function Gf(t,e){if(BU(t=Wr(t)))return ik("Unsupported field value:",e,t),VU(t,e);if(t instanceof Jp)return function(n,i){if(!$U(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const l of n){let u=Gf(l,i.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Wr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Bse(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Jt.fromDate(n);return{timestampValue:Yy(i.serializer,a)}}if(n instanceof Jt){const a=new Jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yy(i.serializer,a)}}if(n instanceof ek)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof of)return{bytesValue:sU(i.serializer,n._byteString)};if(n instanceof Rn){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:DP(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof tk)return function(o,l){return{mapValue:{fields:{[O8]:{stringValue:R8},[Hy]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw l.Wu("VectorValues must only contain numeric values.");return OP(l.serializer,f)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${Wb(n)}`)}(t,e)}function VU(t,e){const r={};return A8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(t,(n,i)=>{const a=Gf(i,e.qu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function BU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof ek||t instanceof of||t instanceof Rn||t instanceof Jp||t instanceof tk)}function ik(t,e,r){if(!BU(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Wb(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function nA(t,e,r){if((e=Wr(e))instanceof Yb)return e._internalPath;if(typeof e=="string")return ak(t,e);throw ex("Field path arguments must be of type string or ",t,!1,void 0,r)}const rce=new RegExp("[~\\*/\\[\\]]");function ak(t,e,r){if(e.search(rce)>=0)throw ex(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Yb(...e.split("."))._internalPath}catch{throw ex(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ex(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new $e(he.INVALID_ARGUMENT,l+t+u)}function UU(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Zb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class nce extends zU{data(){return super.data()}}function Zb(t,e){return typeof e=="string"?ak(t,e):e instanceof Yb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sk{}class ok extends sk{}function lk(t,e,...r){let n=[];e instanceof sk&&n.push(e),n=n.concat(r),function(a){const o=a.filter(u=>u instanceof ck).length,l=a.filter(u=>u instanceof e0).length;if(o>1||o>0&&l>0)throw new $e(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class e0 extends ok{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new e0(e,r,n)}_apply(e){const r=this._parse(e);return HU(e._query,r),new Ao(e.firestore,e.converter,GE(e._query,r))}_parse(e){const r=Xb(e.firestore);return function(a,o,l,u,f,m,h){let p;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new $e(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){EM(h,m);const w=[];for(const b of h)w.push(NM(u,a,b));p={arrayValue:{values:w}}}else p=NM(u,a,h)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||EM(h,m),p=tce(l,o,h,m==="in"||m==="not-in");return qr.create(f,m,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function ice(t,e,r){const n=e,i=Zb("where",t);return e0._create(i,n,r)}class ck extends sk{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new ck(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Fa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const u of l)HU(o,u),o=GE(o,u)}(e._query,r),new Ao(e.firestore,e.converter,GE(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uk extends ok{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new uk(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new $e(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $e(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Km(a,o)}(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Hf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function dk(t,e="asc"){const r=e,n=Zb("orderBy",t);return uk._create(n,r)}class fk extends ok{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new fk(e,r,n)}_apply(e){return new Ao(e.firestore,e.converter,Gy(e._query,this._limit,this._limitType))}}function hk(t){return Wle("limit",t),fk._create("limit",t,"F")}function NM(t,e,r){if(typeof(r=Wr(r))=="string"){if(r==="")throw new $e(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U8(e)&&r.indexOf("/")!==-1)throw new $e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wr.fromString(r));if(!Je.isDocumentKey(n))throw new $e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return VR(t,new Je(n))}if(r instanceof Rn)return VR(t,r._key);throw new $e(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wb(r)}.`)}function EM(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HU(t,e){const r=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new $e(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ace{convertValue(e,r="none"){switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ct()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ql(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Hy].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>$r(o.doubleValue));return new tk(a)}convertGeoPoint(e){return new ek($r(e.latitude),$r(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Db(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Hm(e));default:return null}}convertTimestamp(e){const r=Vl(e);return new Jt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wr.fromString(e);Zt(fU(n));const i=new Wm(n.get(1),n.get(3)),a=new Je(n.popFirst(5));return i.isEqual(r)||vo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GU extends zU{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Zb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class py extends GU{data(e={}){return super.data(e)}}class KU{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new cm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new py(this._firestore,this._userDataWriter,n.key,n,new cm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new py(i._firestore,i._userDataWriter,l.doc.key,l.doc,new cm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new py(i._firestore,i._userDataWriter,l.doc.key,l.doc,new cm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),m=o.indexOf(l.doc.key)),{type:sce(l.type),doc:u,oldIndex:f,newIndex:m}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function sce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){t=Mi(t,Rn);const e=Mi(t.firestore,Hl);return zle(Kb(e),t._key).then(r=>QU(e,t,r))}class mk extends ace{constructor(e){super(),this.firestore=e}convertBytes(e){return new of(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,r)}}function pk(t){t=Mi(t,Ao);const e=Mi(t.firestore,Hl),r=Kb(e),n=new mk(e);return qU(t._query),qle(r,t._query).then(i=>new KU(e,n,t,i))}function Mn(t,e,r){t=Mi(t,Rn);const n=Mi(t.firestore,Hl),i=WU(t.converter,e,r);return gk(n,[FU(Xb(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Oa.none())])}function Xm(t,e,r,...n){t=Mi(t,Rn);const i=Mi(t.firestore,Hl),a=Xb(i);let o;return o=typeof(e=Wr(e))=="string"||e instanceof Yb?ece(a,"updateDoc",t._key,e,r,n):Zle(a,"updateDoc",t._key,e),gk(i,[o.toMutation(t._key,Oa.exists(!0))])}function YU(t,e){const r=Mi(t.firestore,Hl),n=Pt(t),i=WU(t.converter,e);return gk(r,[FU(Xb(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Oa.exists(!1))]).then(()=>n)}function oce(t,...e){var r,n,i;t=Wr(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jM(e[o])||(a=e[o],o++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(jM(e[o])){const h=e[o];e[o]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[o+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,f,m;if(t instanceof Rn)f=Mi(t.firestore,Hl),m=Lb(t._key.path),u={next:h=>{e[o]&&e[o](QU(f,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Mi(t,Ao);f=Mi(h.firestore,Hl),m=h._query;const p=new mk(f);u={next:y=>{e[o]&&e[o](new KU(f,p,h,y))},error:e[o+1],complete:e[o+2]},qU(t._query)}return function(p,y,w,b){const v=new ZP(b),A=new QP(y,v,w);return p.asyncQueue.enqueueAndForget(async()=>GP(await Zy(p),A)),()=>{v.su(),p.asyncQueue.enqueueAndForget(async()=>KP(await Zy(p),A))}}(Kb(f),m,l,u)}function gk(t,e){return function(n,i){const a=new oo;return n.asyncQueue.enqueueAndForget(async()=>Cle(await Ule(n),i,a)),a.promise}(Kb(t),e)}function QU(t,e,r){const n=r.docs.get(e._key),i=new mk(t);return new GU(t,i,e._key,n,new cm(r.hasPendingWrites,r.fromCache),e.converter)}function iA(){return new rk("serverTimestamp")}function vk(...t){return new nk("arrayUnion",t)}(function(e,r=!0){(function(i){Uf=i})(Vf),ws(new $a("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new Hl(new tse(n.getProvider("auth-internal")),new ise(o,n.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new $e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wm(f.options.projectId,m)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),ra(TR,PR,e),ra(TR,PR,"esm2017")})();function lce(t,e=[]){let r=[];function n(a,o){const l=S.createContext(o),u=r.length;r=[...r,o];function f(h){const{scope:p,children:y,...w}=h,b=(p==null?void 0:p[t][u])||l,v=S.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:v,children:y})}function m(h,p){const y=(p==null?void 0:p[t][u])||l,w=S.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,m]}const i=()=>{const a=r.map(o=>S.createContext(o));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,cce(i,...e)]}function cce(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var uce=S.createContext(void 0);function Zp(t){const e=S.useContext(uce);return t||e||"ltr"}var Q1="rovingFocusGroup.onEntryFocus",dce={bubbles:!1,cancelable:!0},t0="RovingFocusGroup",[aA,XU,fce]=sb(t0),[hce,r0]=lce(t0,[fce]),[mce,pce]=hce(t0),JU=S.forwardRef((t,e)=>s.jsx(aA.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(aA.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(gce,{...t,ref:e})})}));JU.displayName=t0;var gce=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...h}=t,p=S.useRef(null),y=Dt(e,p),w=Zp(a),[b=null,v]=Ma({prop:o,defaultProp:l,onChange:u}),[A,E]=S.useState(!1),j=Yn(f),N=XU(r),T=S.useRef(!1),[O,k]=S.useState(0);return S.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(Q1,j),()=>C.removeEventListener(Q1,j)},[j]),s.jsx(mce,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:b,onItemFocus:S.useCallback(C=>v(C),[v]),onItemShiftTab:S.useCallback(()=>E(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>k(C=>C-1),[]),children:s.jsx(Qe.div,{tabIndex:A||O===0?-1:0,"data-orientation":n,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:He(t.onMouseDown,()=>{T.current=!0}),onFocus:He(t.onFocus,C=>{const M=!T.current;if(C.target===C.currentTarget&&M&&!A){const F=new CustomEvent(Q1,dce);if(C.currentTarget.dispatchEvent(F),!F.defaultPrevented){const D=N().filter(Q=>Q.focusable),V=D.find(Q=>Q.active),$=D.find(Q=>Q.id===b),G=[V,$,...D].filter(Boolean).map(Q=>Q.ref.current);t9(G,m)}}T.current=!1}),onBlur:He(t.onBlur,()=>E(!1))})})}),ZU="RovingFocusGroupItem",e9=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,l=ao(),u=a||l,f=pce(ZU,r),m=f.currentTabStopId===u,h=XU(r),{onFocusableItemAdd:p,onFocusableItemRemove:y}=f;return S.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(aA.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:s.jsx(Qe.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:He(t.onMouseDown,w=>{n?f.onItemFocus(u):w.preventDefault()}),onFocus:He(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:He(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=xce(w,f.orientation,f.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let A=h().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")A.reverse();else if(b==="prev"||b==="next"){b==="prev"&&A.reverse();const E=A.indexOf(w.currentTarget);A=f.loop?bce(A,E+1):A.slice(E+1)}setTimeout(()=>t9(A))}})})})});e9.displayName=ZU;var vce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xce(t,e,r){const n=yce(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vce[n]}function t9(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function bce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var r9=JU,n9=e9,yk="Tabs",[wce,$Pe]=Va(yk,[r0]),i9=r0(),[_ce,xk]=wce(yk),a9=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:u="automatic",...f}=t,m=Zp(l),[h,p]=Ma({prop:n,onChange:i,defaultProp:a});return s.jsx(_ce,{scope:r,baseId:ao(),value:h,onValueChange:p,orientation:o,dir:m,activationMode:u,children:s.jsx(Qe.div,{dir:m,"data-orientation":o,...f,ref:e})})});a9.displayName=yk;var s9="TabsList",o9=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=xk(s9,r),o=i9(r);return s.jsx(r9,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Qe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});o9.displayName=s9;var l9="TabsTrigger",c9=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=xk(l9,r),l=i9(r),u=f9(o.baseId,n),f=h9(o.baseId,n),m=n===o.value;return s.jsx(n9,{asChild:!0,...l,focusable:!i,active:m,children:s.jsx(Qe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:e,onMouseDown:He(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:He(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:He(t.onFocus,()=>{const h=o.activationMode!=="manual";!m&&!i&&h&&o.onValueChange(n)})})})});c9.displayName=l9;var u9="TabsContent",d9=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,l=xk(u9,r),u=f9(l.baseId,n),f=h9(l.baseId,n),m=n===l.value,h=S.useRef(m);return S.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(jo,{present:i||m,children:({present:p})=>s.jsx(Qe.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!p,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});d9.displayName=u9;function f9(t,e){return`${t}-trigger-${e}`}function h9(t,e){return`${t}-content-${e}`}var Sce=a9,m9=o9,p9=c9,g9=d9;const To=Sce,Ps=S.forwardRef(({className:t,...e},r)=>s.jsx(m9,{ref:r,className:at("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ps.displayName=m9.displayName;const Xt=S.forwardRef(({className:t,...e},r)=>s.jsx(p9,{ref:r,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Xt.displayName=p9.displayName;const _r=S.forwardRef(({className:t,...e},r)=>s.jsx(g9,{ref:r,className:at("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_r.displayName=g9.displayName;const jce=ub("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function St({className:t,variant:e,...r}){return s.jsx("div",{className:at(jce({variant:e}),t),...r})}function eg(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bk="Switch",[Nce,FPe]=Va(bk),[Ece,Ace]=Nce(bk),v9=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:u="on",onCheckedChange:f,form:m,...h}=t,[p,y]=S.useState(null),w=Dt(e,j=>y(j)),b=S.useRef(!1),v=p?m||!!p.closest("form"):!0,[A=!1,E]=Ma({prop:i,defaultProp:a,onChange:f});return s.jsxs(Ece,{scope:r,checked:A,disabled:l,children:[s.jsx(Qe.button,{type:"button",role:"switch","aria-checked":A,"aria-required":o,"data-state":b9(A),"data-disabled":l?"":void 0,disabled:l,value:u,...h,ref:w,onClick:He(t.onClick,j=>{E(N=>!N),v&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),v&&s.jsx(Tce,{control:p,bubbles:!b.current,name:n,value:u,checked:A,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});v9.displayName=bk;var y9="SwitchThumb",x9=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Ace(y9,r);return s.jsx(Qe.span,{"data-state":b9(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});x9.displayName=y9;var Tce=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=S.useRef(null),o=eg(r),l=Vp(e);return S.useEffect(()=>{const u=a.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&h){const p=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(p)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b9(t){return t?"checked":"unchecked"}var w9=v9,Pce=x9;const n0=S.forwardRef(({className:t,...e},r)=>s.jsx(w9,{className:at("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(Pce,{className:at("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));n0.displayName=w9.displayName;const kce=({onIntegrationToggle:t,integrations:e={}})=>{const[r,n]=S.useState(null),i=async l=>{n(l);try{await new Promise(u=>setTimeout(u,1500)),await t(l,!0),console.log(`Successfully connected to ${l}`)}catch(u){console.error(`Error connecting to ${l}:`,u)}finally{n(null)}},a=async l=>{try{await t(l,!1),console.log(`Disconnected from ${l}`)}catch(u){console.error(`Error disconnecting from ${l}:`,u)}},o=[{id:"google_fit",name:"Google Fit",icon:s.jsx(Xi,{className:"h-5 w-5 text-green-500"}),description:"Import steps, activity, and workout data from Google Fit",dataPoints:["Steps","Activity","Workouts","Heart Rate"],apiUrl:"https://developers.google.com/fit/rest/v1/get-started",free:!0},{id:"apple_health",name:"Apple Health",icon:s.jsx(qn,{className:"h-5 w-5 text-red-500"}),description:"Import health data from Apple Health",dataPoints:["Steps","Activity","Workouts","Heart Rate","Sleep"],apiUrl:"https://developer.apple.com/documentation/healthkit",free:!0},{id:"fitbit",name:"Fitbit",icon:s.jsx(Ny,{className:"h-5 w-5 text-blue-500"}),description:"Import activity and sleep data from Fitbit",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://dev.fitbit.com/build/reference/web-api/",free:!0},{id:"samsung_health",name:"Samsung Health",icon:s.jsx(jy,{className:"h-5 w-5 text-blue-400"}),description:"Import health data from Samsung Health",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.samsung.com/health/android/overview.html",free:!0},{id:"strava",name:"Strava",icon:s.jsx(QY,{className:"h-5 w-5 text-orange-500"}),description:"Import running and cycling data from Strava",dataPoints:["Runs","Rides","Workouts"],apiUrl:"https://developers.strava.com/",free:!0},{id:"garmin",name:"Garmin Connect",icon:s.jsx(Ny,{className:"h-5 w-5 text-purple-500"}),description:"Import activity data from Garmin devices",dataPoints:["Steps","Activity","Sleep","Heart Rate"],apiUrl:"https://developer.garmin.com/gc-developer-program/overview/",free:!0},{id:"myfitnesspal",name:"MyFitnessPal",icon:s.jsx(HT,{className:"h-5 w-5 text-blue-600"}),description:"Import nutrition and exercise data from MyFitnessPal",dataPoints:["Nutrition","Calories","Exercise"],apiUrl:"https://www.myfitnesspal.com/api",free:!0},{id:"oura",name:"Oura Ring",icon:s.jsx(oQ,{className:"h-5 w-5 text-gray-400"}),description:"Import sleep and recovery data from Oura Ring",dataPoints:["Sleep","Readiness","Activity"],apiUrl:"https://cloud.ouraring.com/docs/",free:!0}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Health Data Integrations"}),s.jsx(St,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal",children:"Beta Feature"})]}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Connect SafeBite with your favorite health apps and wearables to import your health data and get more personalized recommendations."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(l=>s.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[e[l.id]&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(St,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[s.jsx(Zc,{className:"mr-1 h-3 w-3"}),"Connected"]})}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-4 p-2 bg-safebite-card-bg-alt rounded-md",children:l.icon}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:l.name}),l.free&&s.jsx(St,{variant:"outline",className:"ml-2 text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:"Free API"})]}),s.jsx("p",{className:"text-sm text-safebite-text-secondary mb-2",children:l.description}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:l.dataPoints.map(u=>s.jsx(St,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:u},u))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(n0,{checked:!!e[l.id],onCheckedChange:u=>{u?i(l.id):a(l.id)},disabled:r===l.id,className:"mr-2"}),s.jsx("span",{className:"text-sm text-safebite-text-secondary",children:e[l.id]?"Connected":"Disconnected"})]}),s.jsx(Ad,{children:s.jsxs(gm,{children:[s.jsx(vm,{asChild:!0,children:s.jsx(re,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>window.open(l.apiUrl,"_blank"),children:"API Docs"})}),s.jsx(Td,{children:s.jsx("p",{children:"View API documentation"})})]})})]})]})]}),r===l.id&&s.jsx("div",{className:"absolute inset-0 bg-safebite-dark-blue/80 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ui,{className:"h-8 w-8 text-safebite-teal animate-pulse mx-auto mb-2"}),s.jsxs("p",{className:"text-safebite-text",children:["Connecting to ",l.name,"..."]})]})})]},l.id))}),s.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg border border-safebite-card-bg flex items-start",children:[s.jsx(vs,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-safebite-text-secondary",children:[s.jsx("span",{className:"font-medium text-safebite-text",children:"Note:"})," These integrations are currently in beta. To use them, you'll need to set up API keys for each service. The data will be integrated into your dashboard to provide more personalized nutrition recommendations based on your activity levels, sleep patterns, and more."]})})]})]})};class Cce{constructor(){vn(this,"userId",null);vn(this,"db",null);vn(this,"auth",null);vn(this,"activityHistory",[]);vn(this,"userPreferences",{});vn(this,"initialized",!1);this.initialize()}async initialize(){try{if(this.initialized||(this.db=ir(We),this.auth=Wt(We),this.initialized=!0,console.log("Firebase services initialized in mlService")),this.auth){const e=this.auth.currentUser;e&&(this.userId=e.uid,await this.loadUserData()),this.auth.onAuthStateChanged(async r=>{r?(this.userId=r.uid,await this.loadUserData()):(this.userId=null,this.activityHistory=[],this.userPreferences={})})}}catch(e){console.error("Error initializing mlService:",e)}}async loadUserData(){if(!(!this.userId||!this.db))try{const e=Pt(this.db,"users",this.userId),r=await Fr(e);if(r.exists()){const n=r.data();n.profile&&(this.userPreferences={dietaryPreference:n.profile.dietary_preferences,healthGoal:n.profile.health_goals,activityLevel:n.profile.activity_level,foodPreferences:n.profile.food_preferences||[],allergies:n.profile.allergies||[]}),n.activityHistory&&(this.activityHistory=n.activityHistory)}}catch(e){console.error("Error loading user data:",e)}}async trackActivity(e,r){if(!(!this.userId||!this.db))try{const n={timestamp:Date.now(),action:e,data:r};this.activityHistory.push(n);const i=Pt(this.db,"users",this.userId);await Xm(i,{activityHistory:vk(n)}),console.log(`Tracked activity: ${e}`)}catch(n){console.error("Error tracking activity:",n)}}async trackFoodSearch(e,r){await this.trackActivity("food_search",{query:e,selectedItems:r.map(n=>({id:n.id,name:n.name,category:n.category||"unknown"}))})}async trackRecipeSearch(e,r){await this.trackActivity("recipe_search",{query:e,selectedRecipes:r.map(n=>({id:n.id,title:n.title,healthLabels:n.healthLabels||[]}))})}async trackHealthBoxInteraction(e,r){await this.trackActivity("health_box",{boxType:e,action:r})}async trackPreferenceChange(e,r){await this.trackActivity("preference_change",{preference:e,value:r})}getDefaultRecommendations(){return["Spinach","Chicken Breast","Brown Rice","Greek Yogurt","Almonds"]}getCategoryRecommendations(e){switch(e){case"protein":return["Chicken Breast","Tofu","Lentils","Salmon","Greek Yogurt"];case"carbs":return["Brown Rice","Quinoa","Sweet Potato","Oats","Whole Wheat Bread"];case"vegetables":return["Spinach","Broccoli","Kale","Bell Peppers","Carrots"];case"fruits":return["Blueberries","Apples","Bananas","Oranges","Strawberries"];case"dairy":return["Greek Yogurt","Cottage Cheese","Milk","Cheese","Kefir"];default:return this.getDefaultRecommendations()}}getHealthGoalRecommendations(e){const r=e.toLowerCase();return r.includes("weight loss")?["Leafy Greens","Lean Protein","Berries","Green Tea","Chia Seeds"]:r.includes("muscle")||r.includes("gain")?["Chicken Breast","Eggs","Salmon","Greek Yogurt","Quinoa"]:r.includes("health")?["Spinach","Blueberries","Salmon","Walnuts","Sweet Potatoes"]:this.getDefaultRecommendations()}async getFoodRecommendations(){if(!this.initialized||!this.userId||!this.db)return this.getDefaultRecommendations();try{const e=[];if(this.userPreferences.dietaryPreference){const r=this.userPreferences.dietaryPreference.toLowerCase();r.includes("vegetarian")?e.push("Tofu","Lentils","Chickpeas"):r.includes("vegan")?e.push("Tofu","Tempeh","Nutritional Yeast"):r.includes("keto")?e.push("Avocado","Eggs","Salmon"):e.push("Chicken Breast","Salmon","Eggs")}if(this.userPreferences.healthGoal){const r=this.getHealthGoalRecommendations(this.userPreferences.healthGoal);e.push(...r.slice(0,2))}if(this.userPreferences.foodPreferences&&this.userPreferences.foodPreferences.length>0){const r=Math.floor(Math.random()*this.userPreferences.foodPreferences.length),n=this.userPreferences.foodPreferences[r].toLowerCase();n.includes("indian")?e.push("Lentils","Chickpeas","Basmati Rice"):n.includes("italian")?e.push("Whole Wheat Pasta","Tomatoes","Olive Oil"):n.includes("chinese")?e.push("Bok Choy","Brown Rice","Shiitake Mushrooms"):n.includes("mexican")&&e.push("Black Beans","Avocado","Bell Peppers")}return[...new Set(e)].slice(0,5)}catch(e){return console.error("Error getting food recommendations:",e),this.getDefaultRecommendations()}}}const i0=new Cce,Ice=(t,e)=>i0.trackRecipeSearch(t,e),na=(t,e)=>i0.trackHealthBoxInteraction(t,e),Wh=(t,e)=>i0.trackPreferenceChange(t,e),tx=async(t,e={})=>{try{await i0.trackActivity(t,e),console.log(`Tracked user interaction: ${t}`,e)}catch(r){console.error("Error tracking user interaction:",r)}},Oce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(""),[o,l]=S.useState([]),[u,f]=S.useState([]),[m,h]=S.useState(!1),[p,y]=S.useState(!1),[w,b]=S.useState({}),[v,A]=S.useState(!1),[E,j]=S.useState(!1),N=Wt(We),T=ir(We),O=N.currentUser,{toast:k}=ar();S.useEffect(()=>{(async()=>{var ee,q,X,se,xe,Ae,Te,me,Pe;if(O){const ue=Pt(T,"users",O.uid);try{const ve=await Fr(ue);if(ve.exists()){const _e=ve.data();e(((ee=_e.profile)==null?void 0:ee.health_goals)||""),n(((q=_e.profile)==null?void 0:q.dietary_preferences)||""),a(((X=_e.profile)==null?void 0:X.activity_level)||""),l(((se=_e.profile)==null?void 0:se.food_preferences)||[]),f(((xe=_e.profile)==null?void 0:xe.allergies)||[]),h(((Ae=_e.profile)==null?void 0:Ae.notificationsEnabled)||!1),y(((Te=_e.profile)==null?void 0:Te.foodSafetyAlertsEnabled)||!1),b(_e.healthIntegrations||{}),A(((me=_e.profile)==null?void 0:me.communityEnabled)||!1),j(((Pe=_e.profile)==null?void 0:Pe.shareHealthData)||!1)}else console.log("No such document!")}catch(ve){console.error("Error fetching user profile:",ve)}}})()},[O,T]);const C=async J=>{const ee=J.target.value;e(ee),await Y({health_goals:ee}),Wh("health_goals",ee)},M=async J=>{const ee=J.target.checked;h(ee),await Y({notificationsEnabled:ee})},F=async J=>{const ee=J.target.checked;y(ee),await Y({foodSafetyAlertsEnabled:ee})},D=async J=>{const ee=J.target.value;n(ee),await Y({dietary_preferences:ee}),Wh("dietary_preferences",ee)},V=async J=>{const ee=J.target.value;a(ee),await Y({activity_level:ee}),Wh("activity_level",ee)},$=async J=>{let ee;o.includes(J)?ee=o.filter(q=>q!==J):ee=[...o,J],l(ee),await Y({food_preferences:ee}),Wh("food_preferences",ee)},H=async J=>{let ee;u.includes(J)?ee=u.filter(q=>q!==J):ee=[...u,J],f(ee),await Y({allergies:ee}),Wh("allergies",ee)},G=async J=>{const ee=J.target.checked;A(ee),await Y({communityEnabled:ee})},Q=async J=>{const ee=J.target.checked;j(ee),await Y({shareHealthData:ee})},Y=async J=>{if(O){const ee=Pt(T,"users",O.uid);try{await Mn(ee,{profile:J},{merge:!0}),k({title:"Settings Updated",description:"Your settings have been updated."})}catch(q){k({title:"Error updating settings",description:q.message,variant:"destructive"}),console.error("Error updating user profile:",q)}}},W=async(J,ee)=>{if(O){const q=Pt(T,"users",O.uid);try{const X={...w,[J]:ee};b(X),await Mn(q,{healthIntegrations:X},{merge:!0}),k({title:ee?"Integration Connected":"Integration Disconnected",description:`Successfully ${ee?"connected to":"disconnected from"} the health service.`})}catch(X){k({title:"Error updating integration",description:X.message,variant:"destructive"}),console.error("Error updating health integration:",X)}}};return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-4",children:"Settings"}),s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Here you can manage your preferences and other settings."}),s.jsxs(To,{defaultValue:"preferences",className:"w-full",children:[s.jsxs(Ps,{className:"grid grid-cols-4 mb-8",children:[s.jsxs(Xt,{value:"preferences",className:"flex items-center",children:[s.jsx(dQ,{className:"mr-2 h-4 w-4"}),"Preferences"]}),s.jsxs(Xt,{value:"notifications",className:"flex items-center",children:[s.jsx(Gd,{className:"mr-2 h-4 w-4"}),"Notifications"]}),s.jsxs(Xt,{value:"community",className:"flex items-center",children:[s.jsx(Rm,{className:"mr-2 h-4 w-4"}),"Community"]}),s.jsxs(Xt,{value:"integrations",className:"flex items-center",children:[s.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Health Data"]})]}),s.jsx(_r,{value:"preferences",className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Preferences"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Health Goal"}),s.jsxs("select",{className:"sci-fi-input w-full",value:t,onChange:C,children:[s.jsx("option",{value:"",children:"Select a goal"}),s.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),s.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),s.jsx("option",{value:"General Health",children:"General Health"}),s.jsx("option",{value:"No Goal",children:"No Goal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Dietary Preference"}),s.jsxs("select",{className:"sci-fi-input w-full",value:r,onChange:D,children:[s.jsx("option",{value:"",children:"Select a preference"}),s.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),s.jsx("option",{value:"Vegan",children:"Vegan"}),s.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),s.jsx("option",{value:"Pescatarian",children:"Pescatarian"}),s.jsx("option",{value:"Keto",children:"Keto"}),s.jsx("option",{value:"Paleo",children:"Paleo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Activity Level"}),s.jsxs("select",{className:"sci-fi-input w-full",value:i,onChange:V,children:[s.jsx("option",{value:"",children:"Select activity level"}),s.jsx("option",{value:"Sedentary",children:"Sedentary (little or no exercise)"}),s.jsx("option",{value:"Light",children:"Light (exercise 1-3 days/week)"}),s.jsx("option",{value:"Moderate",children:"Moderate (exercise 3-5 days/week)"}),s.jsx("option",{value:"Active",children:"Active (exercise 6-7 days/week)"}),s.jsx("option",{value:"Very Active",children:"Very Active (intense exercise daily)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Food Preferences"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Indian","Chinese","Italian","Mexican","Thai","Japanese","Mediterranean","American"].map(J=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`pref-${J}`,checked:o.includes(J),onChange:()=>$(J),className:"sci-fi-checkbox"}),s.jsx("label",{htmlFor:`pref-${J}`,className:"ml-2 text-safebite-text",children:J})]},J))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-safebite-text-secondary block mb-2",children:"Allergies & Intolerances"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Gluten","Dairy","Nuts","Eggs","Soy","Shellfish","Fish","Wheat"].map(J=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`allergy-${J}`,checked:u.includes(J),onChange:()=>H(J),className:"sci-fi-checkbox"}),s.jsx("label",{htmlFor:`allergy-${J}`,className:"ml-2 text-safebite-text",children:J})]},J))})]})]})]})}),s.jsx(_r,{value:"notifications",className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-safebite-text font-medium",children:"App Notifications"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Receive notifications about your health goals and progress"})]}),s.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:m,onChange:M})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-safebite-text font-medium",children:"Food Safety Alerts"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Get alerts about food safety issues for products you've searched"})]}),s.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:p,onChange:F})]})]})]})}),s.jsx(_r,{value:"community",className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Community Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-safebite-text font-medium",children:"Enable Community Features"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Allow sharing and viewing community-contributed food products"})]}),s.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:v,onChange:G})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 sci-fi-card",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-safebite-text font-medium",children:"Share Health Data"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Share anonymized health data to help improve recommendations"})]}),s.jsx("input",{type:"checkbox",className:"sci-fi-checkbox",checked:E,onChange:Q})]}),s.jsxs("div",{className:"p-4 sci-fi-card",children:[s.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"Community Contribution"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"You can contribute to the SafeBite community by sharing food products you've scanned or reviewed."}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"1"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Scan or search for a food product"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"2"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Add your review or additional information"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2",children:"3"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Share with the community"})]})]})]})]})]})}),s.jsx(_r,{value:"integrations",className:"space-y-6",children:s.jsx(kce,{onIntegrationToggle:W,integrations:w})})]})]})})]})},At=S.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));At.displayName="Input";var Rce="Label",_9=S.forwardRef((t,e)=>s.jsx(Qe.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_9.displayName=Rce;var S9=_9;const Mce=ub("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vt=S.forwardRef(({className:t,...e},r)=>s.jsx(S9,{ref:r,className:at(Mce(),t),...e}));vt.displayName=S9.displayName;const Js=({size:t="md",text:e,className:r=""})=>{const n={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-16 w-16 border-4"};return s.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[s.jsx("div",{className:`animate-spin rounded-full border-t-transparent border-safebite-teal ${n[t]}`,"aria-label":"Loading"}),e&&s.jsx("p",{className:"mt-3 text-safebite-text-secondary",children:e})]})};class Dce{constructor(){vn(this,"auth",Wt(We))}async signInAsGuest(){try{const e="guest_"+Math.random().toString(36).substring(2,15);localStorage.setItem("userType","guest"),sessionStorage.setItem("safebite-guest-mode","true"),localStorage.setItem("guestId",e);const r={displayName:"Guest User",createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"dark",notifications:!1},healthData:{healthScore:75,weeklyProgress:[65,68,70,72,75],nutritionGoals:{calories:2e3,protein:100,carbs:250,fat:65}}};sessionStorage.setItem("guestUserData",JSON.stringify(r)),console.log("Guest login successful",e);return}catch(e){throw console.error("Error setting up guest mode:",e),e}}isGuestUser(){return localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"}getGuestUserData(){const e=sessionStorage.getItem("guestUserData");return e?JSON.parse(e):null}updateGuestUserData(e){const n={...this.getGuestUserData()||{displayName:"Guest User",createdAt:new Date,lastLoginAt:new Date,preferences:{},healthData:{}},...e,lastLoginAt:new Date};sessionStorage.setItem("guestUserData",JSON.stringify(n))}exitGuestMode(){localStorage.removeItem("userType"),localStorage.removeItem("guestId"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),console.log("Exited guest mode")}async convertGuestToPermanent(e,r){throw console.log("Converting guest to permanent account is not implemented yet"),new Error("Not implemented")}}const j9=new Dce,Lce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(!1),[o,l]=S.useState(!1),[u,f]=S.useState(!1),m=Gr(),h=Eo(),{toast:p}=ar(),y=Wt(We);S.useEffect(()=>{new URLSearchParams(h.search).get("guest")==="true"&&f(!0)},[h]);const w=async E=>{E.preventDefault(),l(!0);try{await vne(y,t,r),p({title:"Login successful",description:"Welcome back to SafeBite!"}),m("/dashboard")}catch(j){console.error("Login error:",j),p({title:"Login failed",description:j.message,variant:"destructive"})}finally{l(!1)}},b=async()=>{l(!0);const E=new ka;try{await wP(y,E),p({title:"Google login successful",description:"Welcome to SafeBite!"}),m("/dashboard")}catch(j){console.error("Google login error:",j),p({title:"Google login failed",description:j.message,variant:"destructive"})}finally{l(!1)}},v=async()=>{l(!0);try{await j9.signInAsGuest(),p({title:"Guest login successful",description:"You're now using SafeBite in guest mode. Your data won't be saved."}),m("/dashboard")}catch(E){console.error("Guest login error:",E),p({title:"Guest login failed",description:E.message,variant:"destructive"})}finally{l(!1)}},A=()=>{f(!u)};return s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:s.jsxs(ke,{className:"sci-fi-card max-w-md w-full p-6",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"SafeBite"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Sign in to access your health dashboard"})]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(vt,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Om,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{id:"email",placeholder:"your.email@example.com",type:"email",className:"sci-fi-input pl-10",value:t,onChange:E=>e(E.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx(vt,{htmlFor:"password",children:"Password"}),s.jsx(Ht,{to:"/auth/forgot-password",className:"text-xs text-safebite-teal hover:text-safebite-teal/80",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Gc,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{id:"password",placeholder:"••••••••",type:i?"text":"password",className:"sci-fi-input pl-10",value:r,onChange:E=>n(E.target.value),required:!0}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-2.5",children:i?s.jsx(GY,{className:"h-5 w-5 text-safebite-text-secondary"}):s.jsx(L6,{className:"h-5 w-5 text-safebite-text-secondary"})})]})]}),s.jsxs(re,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:o,children:[o?s.jsx(Js,{size:"sm",className:"mr-2"}):null,"Sign In"]})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-safebite-card-bg-alt"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-safebite-card-bg px-2 text-safebite-text-secondary",children:"Or continue with"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(re,{variant:"outline",className:"sci-fi-button",onClick:b,disabled:o,children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),s.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),s.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),s.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),"Google"]}),s.jsxs(re,{variant:"outline",className:"sci-fi-button",onClick:v,disabled:o,children:[s.jsx(zT,{className:"mr-2 h-4 w-4"}),"Guest"]})]}),u&&s.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ys,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),s.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[s.jsx("li",{children:"Access all features and tools without registration"}),s.jsx("li",{children:"Your data won't be saved when you leave"}),s.jsx("li",{children:"No personalized recommendations over time"}),s.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Don't have an account? "}),s.jsxs("button",{onClick:A,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[s.jsx(ys,{className:"h-3 w-3 mr-1"}),u?"Hide":"About"," guest mode"]})]}),s.jsx("div",{className:"flex justify-center space-x-4",children:s.jsx(Ht,{to:"/auth/signup",className:"text-safebite-teal hover:text-safebite-teal/80",children:"Sign up"})})]})]})})},$ce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(""),[o,l]=S.useState(""),[u,f]=S.useState(!1),[m,h]=S.useState(""),[p,y]=S.useState(!1),w=Gr(),{toast:b}=ar(),v=Wt(We),A=()=>{y(!p)},E=async T=>{if(T.preventDefault(),!t||!r||!i||!o){h("Please fill in all fields");return}if(i!==o){h("Passwords do not match");return}if(i.length<6){h("Password must be at least 6 characters long");return}f(!0),h("");try{await gne(v,r,i),b({title:"Account created",description:"Welcome to SafeBite! Please answer a few questions to personalize your experience."}),w("/questionnaire")}catch(O){console.error("Signup error:",O),h(O.message)}finally{f(!1)}},j=async()=>{f(!0),h("");const T=new ka;try{await wP(v,T),b({title:"Account created",description:"Welcome to SafeBite! Let's get started with some questions."}),w("/questionnaire")}catch(O){console.error("Google signup error:",O),h(O.message)}finally{f(!1)}},N=async()=>{f(!0),h("");try{await j9.signInAsGuest(),b({title:"Guest login successful",description:"You're now using SafeBite in guest mode. Your data won't be saved."}),w("/dashboard")}catch(T){console.error("Guest login error:",T),h(T.message)}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Create Account"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Join SafeBite and start your health journey"})]}),s.jsxs("div",{className:"sci-fi-card",children:[m&&s.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[s.jsx(vs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:m})]}),s.jsx("form",{onSubmit:E,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(vt,{htmlFor:"name",className:"text-safebite-text",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rm,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{id:"name",type:"text",placeholder:"Enter your full name",value:t,onChange:T=>e(T.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vt,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Om,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:T=>n(T.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vt,{htmlFor:"password",className:"text-safebite-text",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gc,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{id:"password",type:"password",placeholder:"Create a password",value:i,onChange:T=>a(T.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vt,{htmlFor:"confirm-password",className:"text-safebite-text",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gc,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:o,onChange:T=>l(T.target.value),className:"sci-fi-input pl-10",disabled:u})]})]}),s.jsx(re,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:u,children:u?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating account..."]}):s.jsxs("span",{className:"flex items-center",children:[s.jsx(W6,{className:"mr-2 h-5 w-5"}),"Create Account"]})}),s.jsx(lP,{className:"my-6 bg-safebite-card-bg-alt"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(re,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:j,disabled:u,children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),s.jsxs(re,{type:"button",variant:"outline",className:"border-safebite-card-bg-alt text-safebite-text hover:bg-safebite-card-bg-alt",onClick:N,disabled:u,children:[s.jsx(zT,{className:"mr-2 h-5 w-5"}),"Guest"]})]}),p&&s.jsx("div",{className:"mt-4 p-3 bg-safebite-teal/10 border border-safebite-teal/30 rounded-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ys,{className:"h-5 w-5 text-safebite-teal mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-safebite-text mb-1",children:"About Guest Mode"}),s.jsxs("ul",{className:"text-xs text-safebite-text-secondary space-y-1 list-disc pl-4",children:[s.jsx("li",{children:"Access all features and tools without registration"}),s.jsx("li",{children:"Your data won't be saved when you leave"}),s.jsx("li",{children:"No personalized recommendations over time"}),s.jsx("li",{children:"Create an account anytime to save your progress"})]})]})]})})]})})]}),s.jsxs("div",{className:"text-center mt-6",children:[s.jsx("div",{className:"flex justify-center items-center mb-2",children:s.jsxs("button",{onClick:A,className:"text-xs text-safebite-teal hover:text-safebite-teal/80 flex items-center",type:"button",children:[s.jsx(ys,{className:"h-3 w-3 mr-1"}),p?"Hide":"About"," guest mode"]})}),s.jsxs("p",{className:"text-safebite-text-secondary",children:["Already have an account?"," ",s.jsx(Ht,{to:"/auth/login",className:"text-safebite-teal hover:underline",children:"Sign in"})]})]})]})})},Fce=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(!1),[i,a]=S.useState(!1),[o,l]=S.useState(""),{toast:u}=ar(),f=async m=>{if(m.preventDefault(),!t){l("Please enter your email");return}n(!0),l("");try{setTimeout(()=>{console.log("Password reset email sent to:",t),a(!0),u({title:"Reset link sent",description:"If your email exists in our system, you'll receive a reset link shortly."})},1500)}catch(h){console.error("Password reset error:",h),l("Failed to send reset link. Please try again.")}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-safebite-dark-blue",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Forgot Password"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"We'll send you a link to reset your password"})]}),s.jsxs("div",{className:"sci-fi-card",children:[o&&s.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[s.jsx(vs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),i?s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 text-green-400 mb-4",children:s.jsx(Om,{className:"h-8 w-8"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 text-safebite-text",children:"Check Your Email"}),s.jsxs("p",{className:"text-safebite-text-secondary mb-6",children:["We've sent a password reset link to ",s.jsx("span",{className:"text-safebite-teal",children:t}),". Follow the instructions in the email to reset your password."]}),s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:()=>a(!1),children:"Back to Reset"})]}):s.jsx("form",{onSubmit:f,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(vt,{htmlFor:"email",className:"text-safebite-text",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Om,{className:"absolute left-3 top-3 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:m=>e(m.target.value),className:"sci-fi-input pl-10",disabled:r})]})]}),s.jsx(re,{type:"submit",className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:r,children:r?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-safebite-dark-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"Send Reset Link"})]})})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs(Ht,{to:"/auth/login",className:"inline-flex items-center text-safebite-teal hover:underline",children:[s.jsx(db,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})})};function Vce(t,e=[]){let r=[];function n(a,o){const l=S.createContext(o),u=r.length;r=[...r,o];function f(h){const{scope:p,children:y,...w}=h,b=(p==null?void 0:p[t][u])||l,v=S.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:v,children:y})}function m(h,p){const y=(p==null?void 0:p[t][u])||l,w=S.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,m]}const i=()=>{const a=r.map(o=>S.createContext(o));return function(l){const u=(l==null?void 0:l[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,Bce(i,...e)]}function Bce(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var wk="Progress",_k=100,[Uce,VPe]=Vce(wk),[zce,qce]=Uce(wk),N9=S.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=Hce,...o}=t;(i||i===0)&&!AM(i)&&console.error(Wce(`${i}`,"Progress"));const l=AM(i)?i:_k;n!==null&&!TM(n,l)&&console.error(Gce(`${n}`,"Progress"));const u=TM(n,l)?n:null,f=rx(u)?a(u,l):void 0;return s.jsx(zce,{scope:r,value:u,max:l,children:s.jsx(Qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":rx(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":T9(u,l),"data-value":u??void 0,"data-max":l,...o,ref:e})})});N9.displayName=wk;var E9="ProgressIndicator",A9=S.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=qce(E9,r);return s.jsx(Qe.div,{"data-state":T9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});A9.displayName=E9;function Hce(t,e){return`${Math.round(t/e*100)}%`}function T9(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function rx(t){return typeof t=="number"}function AM(t){return rx(t)&&!isNaN(t)&&t>0}function TM(t,e){return rx(t)&&!isNaN(t)&&t<=e&&t>=0}function Wce(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_k}\`.`}function Gce(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_k} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var P9=N9,Kce=A9;const Jm=S.forwardRef(({className:t,value:e,...r},n)=>s.jsx(P9,{ref:n,className:at("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:s.jsx(Kce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Jm.displayName=P9.displayName;var Sk="Radio",[Yce,k9]=Va(Sk),[Qce,Xce]=Yce(Sk),C9=S.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:u,form:f,...m}=t,[h,p]=S.useState(null),y=Dt(e,v=>p(v)),w=S.useRef(!1),b=h?f||!!h.closest("form"):!0;return s.jsxs(Qce,{scope:r,checked:i,disabled:o,children:[s.jsx(Qe.button,{type:"button",role:"radio","aria-checked":i,"data-state":R9(i),"data-disabled":o?"":void 0,disabled:o,value:l,...m,ref:y,onClick:He(t.onClick,v=>{i||u==null||u(),b&&(w.current=v.isPropagationStopped(),w.current||v.stopPropagation())})}),b&&s.jsx(Jce,{control:h,bubbles:!w.current,name:n,value:l,checked:i,required:a,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});C9.displayName=Sk;var I9="RadioIndicator",O9=S.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=Xce(I9,r);return s.jsx(jo,{present:n||a.checked,children:s.jsx(Qe.span,{"data-state":R9(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});O9.displayName=I9;var Jce=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=S.useRef(null),o=eg(r),l=Vp(e);return S.useEffect(()=>{const u=a.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&h){const p=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(p)}},[o,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function R9(t){return t?"checked":"unchecked"}var Zce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jk="RadioGroup",[eue,BPe]=Va(jk,[r0,k9]),M9=r0(),D9=k9(),[tue,rue]=eue(jk),L9=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:u,dir:f,loop:m=!0,onValueChange:h,...p}=t,y=M9(r),w=Zp(f),[b,v]=Ma({prop:a,defaultProp:i,onChange:h});return s.jsx(tue,{scope:r,name:n,required:o,disabled:l,value:b,onValueChange:v,children:s.jsx(r9,{asChild:!0,...y,orientation:u,dir:w,loop:m,children:s.jsx(Qe.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:w,...p,ref:e})})})});L9.displayName=jk;var $9="RadioGroupItem",F9=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=rue($9,r),o=a.disabled||n,l=M9(r),u=D9(r),f=S.useRef(null),m=Dt(e,f),h=a.value===i.value,p=S.useRef(!1);return S.useEffect(()=>{const y=b=>{Zce.includes(b.key)&&(p.current=!0)},w=()=>p.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),s.jsx(n9,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(C9,{disabled:o,required:a.required,checked:h,...u,...i,name:a.name,ref:m,onCheck:()=>a.onValueChange(i.value),onKeyDown:He(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:He(i.onFocus,()=>{var y;p.current&&((y=f.current)==null||y.click())})})})});F9.displayName=$9;var nue="RadioGroupIndicator",V9=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=D9(r);return s.jsx(O9,{...i,...n,ref:e})});V9.displayName=nue;var B9=L9,U9=F9,iue=V9;const z9=S.forwardRef(({className:t,...e},r)=>s.jsx(B9,{className:at("grid gap-2",t),...e,ref:r}));z9.displayName=B9.displayName;const q9=S.forwardRef(({className:t,...e},r)=>s.jsx(U9,{ref:r,className:at("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(iue,{className:"flex items-center justify-center",children:s.jsx(zY,{className:"h-2.5 w-2.5 fill-current text-current"})})}));q9.displayName=U9.displayName;function nx(t,[e,r]){return Math.min(r,Math.max(e,t))}var H9=["PageUp","PageDown"],W9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Kf="Slider",[sA,aue,sue]=sb(Kf),[K9,UPe]=Va(Kf,[sue]),[oue,a0]=K9(Kf),Y9=S.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[n],value:m,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:w,...b}=t,v=S.useRef(new Set),A=S.useRef(0),j=o==="horizontal"?lue:cue,[N=[],T]=Ma({prop:m,defaultProp:f,onChange:D=>{var $;($=[...v.current][A.current])==null||$.focus(),h(D)}}),O=S.useRef(N);function k(D){const V=mue(N,D);F(D,V)}function C(D){F(D,A.current)}function M(){const D=O.current[A.current];N[A.current]!==D&&p(N)}function F(D,V,{commit:$}={commit:!1}){const H=yue(a),G=xue(Math.round((D-n)/a)*a+n,H),Q=nx(G,[n,i]);T((Y=[])=>{const W=fue(Y,Q,V);if(vue(W,u*a)){A.current=W.indexOf(Q);const J=String(W)!==String(Y);return J&&$&&p(W),J?W:Y}else return Y})}return s.jsx(oue,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:A,thumbs:v.current,values:N,orientation:o,form:w,children:s.jsx(sA.Provider,{scope:t.__scopeSlider,children:s.jsx(sA.Slot,{scope:t.__scopeSlider,children:s.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:e,onPointerDown:He(b.onPointerDown,()=>{l||(O.current=N)}),min:n,max:i,inverted:y,onSlideStart:l?void 0:k,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&F(n,0,{commit:!0}),onEndKeyDown:()=>!l&&F(i,N.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:V})=>{if(!l){const G=H9.includes(D.key)||D.shiftKey&&W9.includes(D.key)?10:1,Q=A.current,Y=N[Q],W=a*G*V;F(Y+W,Q,{commit:!0})}}})})})})});Y9.displayName=Kf;var[Q9,X9]=K9(Kf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lue=S.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:f,...m}=t,[h,p]=S.useState(null),y=Dt(e,j=>p(j)),w=S.useRef(),b=Zp(i),v=b==="ltr",A=v&&!a||!v&&a;function E(j){const N=w.current||h.getBoundingClientRect(),T=[0,N.width],k=Nk(T,A?[r,n]:[n,r]);return w.current=N,k(j-N.left)}return s.jsx(Q9,{scope:t.__scopeSlider,startEdge:A?"left":"right",endEdge:A?"right":"left",direction:A?1:-1,size:"width",children:s.jsx(J9,{dir:b,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const N=E(j.clientX);o==null||o(N)},onSlideMove:j=>{const N=E(j.clientX);l==null||l(N)},onSlideEnd:()=>{w.current=void 0,u==null||u()},onStepKeyDown:j=>{const T=G9[A?"from-left":"from-right"].includes(j.key);f==null||f({event:j,direction:T?-1:1})}})})}),cue=S.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:u,...f}=t,m=S.useRef(null),h=Dt(e,m),p=S.useRef(),y=!i;function w(b){const v=p.current||m.current.getBoundingClientRect(),A=[0,v.height],j=Nk(A,y?[n,r]:[r,n]);return p.current=v,j(b-v.top)}return s.jsx(Q9,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:s.jsx(J9,{"data-orientation":"vertical",...f,ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const v=w(b.clientY);a==null||a(v)},onSlideMove:b=>{const v=w(b.clientY);o==null||o(v)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:b=>{const A=G9[y?"from-bottom":"from-top"].includes(b.key);u==null||u({event:b,direction:A?-1:1})}})})}),J9=S.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:u,...f}=t,m=a0(Kf,r);return s.jsx(Qe.span,{...f,ref:e,onKeyDown:He(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):H9.concat(W9).includes(h.key)&&(u(h),h.preventDefault())}),onPointerDown:He(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),m.thumbs.has(p)?p.focus():n(h)}),onPointerMove:He(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:He(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),a(h))})})}),Z9="SliderTrack",ez=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=a0(Z9,r);return s.jsx(Qe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});ez.displayName=Z9;var oA="SliderRange",tz=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=a0(oA,r),a=X9(oA,r),o=S.useRef(null),l=Dt(e,o),u=i.values.length,f=i.values.map(p=>nz(p,i.min,i.max)),m=u>1?Math.min(...f):0,h=100-Math.max(...f);return s.jsx(Qe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:m+"%",[a.endEdge]:h+"%"}})});tz.displayName=oA;var lA="SliderThumb",rz=S.forwardRef((t,e)=>{const r=aue(t.__scopeSlider),[n,i]=S.useState(null),a=Dt(e,l=>i(l)),o=S.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(uue,{...t,ref:a,index:o})}),uue=S.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...a}=t,o=a0(lA,r),l=X9(lA,r),[u,f]=S.useState(null),m=Dt(e,E=>f(E)),h=u?o.form||!!u.closest("form"):!0,p=Vp(u),y=o.values[n],w=y===void 0?0:nz(y,o.min,o.max),b=hue(n,o.values.length),v=p==null?void 0:p[l.size],A=v?pue(v,w,l.direction):0;return S.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${A}px)`},children:[s.jsx(sA.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(Qe.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:m,style:y===void 0?{display:"none"}:t.style,onFocus:He(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&s.jsx(due,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},n)]})});rz.displayName=lA;var due=t=>{const{value:e,...r}=t,n=S.useRef(null),i=eg(e);return S.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&u){const f=new Event("input",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[i,e]),s.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function fue(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,a)=>i-a)}function nz(t,e,r){const a=100/(r-e)*(t-e);return nx(a,[0,100])}function hue(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function mue(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function pue(t,e,r){const n=t/2,a=Nk([0,50],[0,n]);return(n-a(e)*r)*r}function gue(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function vue(t,e){if(e>0){const r=gue(t);return Math.min(...r)>=e}return!0}function Nk(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function yue(t){return(String(t).split(".")[1]||"").length}function xue(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var iz=Y9,bue=ez,wue=tz,_ue=rz;const az=S.forwardRef(({className:t,...e},r)=>s.jsxs(iz,{ref:r,className:at("relative flex w-full touch-none select-none items-center",t),...e,children:[s.jsx(bue,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(wue,{className:"absolute h-full bg-primary"})}),s.jsx(_ue,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));az.displayName=iz.displayName;const Sue=({question:t,value:e,onChange:r,onNext:n,onBack:i,isFirst:a=!1,isLast:o=!1,isLoading:l=!1})=>{const[u,f]=S.useState(e),m=p=>{f(p),r(t.id,p)},h=()=>{var p;switch(t.type){case"radio":return s.jsx(z9,{value:u,onValueChange:m,children:s.jsx("div",{className:"space-y-3",children:(p=t.options)==null?void 0:p.map(y=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(q9,{value:y,id:`${t.id}-${y}`,className:"border-safebite-text-secondary text-safebite-teal"}),s.jsx(vt,{htmlFor:`${t.id}-${y}`,className:"text-safebite-text",children:y})]},y))})});case"text":return s.jsx(At,{type:"text",value:u||"",onChange:y=>m(y.target.value),className:"sci-fi-input mt-2"});case"slider":return s.jsxs("div",{className:"space-y-4 mt-6",children:[s.jsx(az,{value:[u],min:t.min||0,max:t.max||100,step:t.step||1,onValueChange:y=>m(y[0]),className:"mt-2"}),s.jsxs("div",{className:"flex justify-between text-safebite-text-secondary text-sm",children:[s.jsx("span",{children:t.min}),s.jsxs("span",{className:"text-safebite-teal font-medium",children:["Current: ",u]}),s.jsx("span",{children:t.max})]})]});default:return null}};return s.jsxs("div",{className:"sci-fi-card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:t.question}),h(),s.jsxs("div",{className:"flex justify-between mt-8",children:[a?s.jsx("div",{}):s.jsx(re,{type:"button",variant:"outline",onClick:i,className:"sci-fi-button",children:"Back"}),s.jsx(re,{type:"button",onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:l,children:l?o?"Submitting...":"Loading...":o?"Submit":"Next"})]})]})},sz=({achievement:t,size:e="md",showXP:r=!0,className:n=""})=>{const i={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},a={sm:24,md:32,lg:48},o=()=>{const l=a[e];switch(t.icon){case"trophy":return s.jsx(Yc,{size:l,className:"text-yellow-400"});case"award":return s.jsx(Cm,{size:l,className:"text-blue-400"});case"star":return s.jsx(ea,{size:l,className:"text-purple-400"});case"medal":return s.jsx(aQ,{size:l,className:"text-green-400"});case"zap":return s.jsx(ui,{size:l,className:"text-safebite-teal"});default:return s.jsx(Yc,{size:l,className:"text-yellow-400"})}};return s.jsxs("div",{className:`flex flex-col items-center ${n}`,children:[s.jsxs("div",{className:`${i[e]} relative flex items-center justify-center`,children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-safebite-teal/20 blur-md"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-safebite-teal flex items-center justify-center bg-safebite-card-bg",children:o()}),r&&s.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-safebite-teal text-safebite-dark-blue text-xs font-bold rounded-full px-2 py-1 border border-safebite-dark-blue",children:["+",t.xp," XP"]})]}),s.jsx("h3",{className:"mt-2 text-safebite-text font-medium text-center",children:t.title}),t.completed?s.jsx(St,{variant:"outline",className:"mt-1 bg-safebite-teal/20 text-safebite-teal border-safebite-teal/50",children:"Completed"}):s.jsx(St,{variant:"outline",className:"mt-1 bg-safebite-card-bg-alt text-safebite-text-secondary",children:"In Progress"})]})},jue=({onClose:t})=>{const[e,r]=S.useState(!1);S.useEffect(()=>{const a=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(a)},[]);const n=()=>{r(!1),setTimeout(t,300)},i={id:"questionnaire_complete",title:"Profile Complete",description:"Completed your health profile questionnaire",xp:10,icon:"trophy",completed:!0,date:new Date};return s.jsxs("div",{className:`fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:n}),s.jsxs("div",{className:"relative bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 max-w-md w-full transform transition-all duration-300 sci-fi-card",children:[s.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-safebite-text-secondary hover:text-safebite-text",children:s.jsx(fi,{size:20})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Achievement Unlocked!"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"You've earned your first achievement badge and XP points."})]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(sz,{achievement:i,size:"lg",showXP:!0})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Continue using SafeBite to earn more achievements and XP points!"}),s.jsx(re,{onClick:n,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Continue to Dashboard"})]})]})]})},ol=[{id:"age",type:"radio",question:"What is your age?",options:["18-25","26-35","36-45","46-55","55+"]},{id:"gender",type:"radio",question:"What is your gender?",options:["Male","Female","Other"]},{id:"height_weight",type:"text",question:"What is your height and weight? (e.g., 170cm, 70kg)"},{id:"activity_level",type:"radio",question:"What is your activity level?",options:["Sedentary","Lightly Active","Active","Very Active"]},{id:"health_conditions",type:"radio",question:"Do you have any known health conditions?",options:["Diabetes","Hypertension","Heart Issues","None"]},{id:"dietary_preferences",type:"radio",question:"Do you have any dietary preferences?",options:["Veg","Vegan","Non-Veg","Keto","Gluten-Free","Other"]},{id:"food_allergies",type:"text",question:"Do you have any food allergies? (Check common allergens or manually input)"},{id:"meals_per_day",type:"radio",question:"How many meals do you eat per day?",options:["2","3","4","5+"]},{id:"water_intake",type:"radio",question:"How much water do you drink daily?",options:["<1L","1-2L","2-3L","3L+"]},{id:"outside_food",type:"radio",question:"How often do you eat outside or order food?",options:["Rarely","Weekly","Daily"]},{id:"homemade_processed",type:"radio",question:"Do you prefer homemade or processed foods?",options:["Homemade","Processed","Mixed"]},{id:"packaged_food",type:"radio",question:"How often do you eat packaged food?",options:["Rarely","Weekly","Daily"]},{id:"food_priorities",type:"radio",question:"What do you prioritize while choosing food?",options:["Taste","Health","Price","Convenience"]},{id:"sugary_drinks",type:"radio",question:"Do you consume sugary drinks often?",options:["Yes","No","Occasionally"]},{id:"protein_source",type:"radio",question:"What’s your usual protein source?",options:["Veg","Dairy","Meat","Eggs","Mix"]},{id:"calorie_tracking",type:"radio",question:"Do you track your calorie intake?",options:["Yes","No","Sometimes"]},{id:"health_goals",type:"radio",question:"What are your health goals?",options:["Weight Loss","Muscle Gain","General Health","No Goal"]},{id:"exercise_frequency",type:"radio",question:"How often do you exercise?",options:["Never","Weekly","3-4 Times a Week","Daily"]},{id:"diet_recommendations",type:"radio",question:"Are you looking for diet & meal plan recommendations?",options:["Yes","No","Maybe Later"]},{id:"reminders",type:"radio",question:"Would you like reminders for healthy habits?",options:["Yes","No","Maybe Later"]},{id:"food_safety_alerts",type:"radio",question:"Would you like food safety alerts for the products you buy?",options:["Yes","No","Maybe Later"]},{id:"username",type:"text",question:"What name would you like us to call you?"}],Nue=()=>{const t=Gr(),{toast:e}=ar(),[r,n]=S.useState(0),[i,a]=S.useState({}),[o,l]=S.useState(!1),[u,f]=S.useState(""),[m,h]=S.useState(!1),p=Wt(We),y=ir(We);S.useEffect(()=>{const N={};ol.forEach(T=>{T.type==="radio"?N[T.id]=void 0:T.type==="text"?N[T.id]="":N[T.id]=null}),a(N)},[]);const w=(N,T)=>{a(O=>({...O,[N]:T})),f("")},b=N=>N?/^\d+(\.\d+)?cm, ?\d+(\.\d+)?kg$/.test(N.trim()):!1,v=async()=>{f("");const N=ol[r],T=i[N.id];if(["diet_recommendations","reminders","food_safety_alerts"].includes(N.id))T===void 0&&onChange(N.id,"Yes");else{if(T===void 0||T===""){f("Please answer this question before proceeding."),e({title:"Missing Answer",description:"Please answer the current question.",variant:"destructive"});return}if(N.id==="height_weight"&&!b(T)){f("Please enter height and weight in the correct format (e.g., 170cm, 70kg)"),e({title:"Invalid Format",description:"Please enter height and weight in the format '170cm, 70kg'.",variant:"destructive"});return}}if(l(!0),r===ol.length-1){const k=p.currentUser;if(k){const C=k.uid,M=Pt(y,"users",C);try{await Mn(M,{profile:i,questionnaireCompleted:!0,lastWeeklyPrompt:null,achievements:{questionnaire:{completed:!0,date:new Date,xp:10}},xp:10},{merge:!0}),e({title:"Questionnaire completed!",description:"Your profile is set up. You earned 10 XP!"}),h(!0),l(!1)}catch(F){e({title:"Error saving profile",description:F.message,variant:"destructive"}),console.error("Error writing user profile to Firestore: ",F),f("Failed to save your profile. Please try again.")}finally{l(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),l(!1),t("/auth/login")}else n(k=>k+1),l(!1)},A=()=>{f(""),n(N=>Math.max(0,N-1))},E=(r+1)/ol.length*100,j=()=>{h(!1),t("/dashboard")};return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:[m&&s.jsx(jue,{onClose:j}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Let's Get to Know You"}),s.jsx("p",{className:"text-safebite-text-secondary",children:o?"Saving your profile...":"Help us personalize your SafeBite experience."})]}),o?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Js,{size:"lg"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",r+1,"/",ol.length]}),s.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(E),"% Complete"]})]}),s.jsx(Jm,{value:E,className:"h-2 bg-safebite-card-bg-alt"})]}),u&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[s.jsx(vs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:u})]}),s.jsx(Sue,{question:ol[r],value:i[ol[r].id],onChange:w,onNext:v,onBack:A,isFirst:r===0,isLast:r===ol.length-1,isLoading:o})]})]})})]})},$v=({title:t,value:e,icon:r,change:n,className:i})=>s.jsxs("div",{className:at("sci-fi-card flex flex-col",i),children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-safebite-text-secondary font-medium",children:t}),s.jsx("div",{className:"text-safebite-teal",children:r})]}),s.jsx("div",{className:"text-2xl font-bold text-safebite-text mb-2",children:e}),n&&s.jsxs("div",{className:`text-sm font-medium ${n.isPositive?"text-green-400":"text-red-400"}`,children:[n.isPositive?"↑":"↓"," ",n.value," from last week"]})]});var X1,PM;function hi(){if(PM)return X1;PM=1;var t=Array.isArray;return X1=t,X1}var J1,kM;function oz(){if(kM)return J1;kM=1;var t=typeof Nv=="object"&&Nv&&Nv.Object===Object&&Nv;return J1=t,J1}var Z1,CM;function ks(){if(CM)return Z1;CM=1;var t=oz(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Z1=r,Z1}var e_,IM;function tg(){if(IM)return e_;IM=1;var t=ks(),e=t.Symbol;return e_=e,e_}var t_,OM;function Eue(){if(OM)return t_;OM=1;var t=tg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),u=o[i];try{o[i]=void 0;var f=!0}catch{}var m=n.call(o);return f&&(l?o[i]=u:delete o[i]),m}return t_=a,t_}var r_,RM;function Aue(){if(RM)return r_;RM=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return r_=r,r_}var n_,MM;function Po(){if(MM)return n_;MM=1;var t=tg(),e=Eue(),r=Aue(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return n_=o,n_}var i_,DM;function ko(){if(DM)return i_;DM=1;function t(e){return e!=null&&typeof e=="object"}return i_=t,i_}var a_,LM;function Yf(){if(LM)return a_;LM=1;var t=Po(),e=ko(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return a_=n,a_}var s_,$M;function Ek(){if($M)return s_;$M=1;var t=hi(),e=Yf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return s_=i,s_}var o_,FM;function Jl(){if(FM)return o_;FM=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return o_=t,o_}var l_,VM;function Ak(){if(VM)return l_;VM=1;var t=Po(),e=Jl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==n||u==i||u==r||u==a}return l_=o,l_}var c_,BM;function Tue(){if(BM)return c_;BM=1;var t=ks(),e=t["__core-js_shared__"];return c_=e,c_}var u_,UM;function Pue(){if(UM)return u_;UM=1;var t=Tue(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return u_=r,u_}var d_,zM;function lz(){if(zM)return d_;zM=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return d_=r,d_}var f_,qM;function kue(){if(qM)return f_;qM=1;var t=Ak(),e=Pue(),r=Jl(),n=lz(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,f=l.hasOwnProperty,m=RegExp("^"+u.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||e(p))return!1;var y=t(p)?m:a;return y.test(n(p))}return f_=h,f_}var h_,HM;function Cue(){if(HM)return h_;HM=1;function t(e,r){return e==null?void 0:e[r]}return h_=t,h_}var m_,WM;function xu(){if(WM)return m_;WM=1;var t=kue(),e=Cue();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return m_=r,m_}var p_,GM;function s0(){if(GM)return p_;GM=1;var t=xu(),e=t(Object,"create");return p_=e,p_}var g_,KM;function Iue(){if(KM)return g_;KM=1;var t=s0();function e(){this.__data__=t?t(null):{},this.size=0}return g_=e,g_}var v_,YM;function Oue(){if(YM)return v_;YM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return v_=t,v_}var y_,QM;function Rue(){if(QM)return y_;QM=1;var t=s0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return y_=i,y_}var x_,XM;function Mue(){if(XM)return x_;XM=1;var t=s0(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return x_=n,x_}var b_,JM;function Due(){if(JM)return b_;JM=1;var t=s0(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return b_=r,b_}var w_,ZM;function Lue(){if(ZM)return w_;ZM=1;var t=Iue(),e=Oue(),r=Rue(),n=Mue(),i=Due();function a(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,w_=a,w_}var __,eD;function $ue(){if(eD)return __;eD=1;function t(){this.__data__=[],this.size=0}return __=t,__}var S_,tD;function Tk(){if(tD)return S_;tD=1;function t(e,r){return e===r||e!==e&&r!==r}return S_=t,S_}var j_,rD;function o0(){if(rD)return j_;rD=1;var t=Tk();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return j_=e,j_}var N_,nD;function Fue(){if(nD)return N_;nD=1;var t=o0(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return N_=n,N_}var E_,iD;function Vue(){if(iD)return E_;iD=1;var t=o0();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return E_=e,E_}var A_,aD;function Bue(){if(aD)return A_;aD=1;var t=o0();function e(r){return t(this.__data__,r)>-1}return A_=e,A_}var T_,sD;function Uue(){if(sD)return T_;sD=1;var t=o0();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return T_=e,T_}var P_,oD;function l0(){if(oD)return P_;oD=1;var t=$ue(),e=Fue(),r=Vue(),n=Bue(),i=Uue();function a(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,P_=a,P_}var k_,lD;function Pk(){if(lD)return k_;lD=1;var t=xu(),e=ks(),r=t(e,"Map");return k_=r,k_}var C_,cD;function zue(){if(cD)return C_;cD=1;var t=Lue(),e=l0(),r=Pk();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return C_=n,C_}var I_,uD;function que(){if(uD)return I_;uD=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return I_=t,I_}var O_,dD;function c0(){if(dD)return O_;dD=1;var t=que();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return O_=e,O_}var R_,fD;function Hue(){if(fD)return R_;fD=1;var t=c0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return R_=e,R_}var M_,hD;function Wue(){if(hD)return M_;hD=1;var t=c0();function e(r){return t(this,r).get(r)}return M_=e,M_}var D_,mD;function Gue(){if(mD)return D_;mD=1;var t=c0();function e(r){return t(this,r).has(r)}return D_=e,D_}var L_,pD;function Kue(){if(pD)return L_;pD=1;var t=c0();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return L_=e,L_}var $_,gD;function kk(){if(gD)return $_;gD=1;var t=zue(),e=Hue(),r=Wue(),n=Gue(),i=Kue();function a(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,$_=a,$_}var F_,vD;function cz(){if(vD)return F_;vD=1;var t=kk(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],u=a.cache;if(u.has(l))return u.get(l);var f=n.apply(this,o);return a.cache=u.set(l,f)||u,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,F_=r,F_}var V_,yD;function Yue(){if(yD)return V_;yD=1;var t=cz(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return V_=r,V_}var B_,xD;function Que(){if(xD)return B_;xD=1;var t=Yue(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,u,f){a.push(u?f.replace(r,"$1"):l||o)}),a});return B_=n,B_}var U_,bD;function Ck(){if(bD)return U_;bD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return U_=t,U_}var z_,wD;function Xue(){if(wD)return z_;wD=1;var t=tg(),e=Ck(),r=hi(),n=Yf(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return z_=o,z_}var q_,_D;function uz(){if(_D)return q_;_D=1;var t=Xue();function e(r){return r==null?"":t(r)}return q_=e,q_}var H_,SD;function dz(){if(SD)return H_;SD=1;var t=hi(),e=Ek(),r=Que(),n=uz();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return H_=i,H_}var W_,jD;function u0(){if(jD)return W_;jD=1;var t=Yf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return W_=e,W_}var G_,ND;function Ik(){if(ND)return G_;ND=1;var t=dz(),e=u0();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return G_=r,G_}var K_,ED;function fz(){if(ED)return K_;ED=1;var t=Ik();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return K_=e,K_}var Jue=fz();const Di=er(Jue);var Y_,AD;function Zue(){if(AD)return Y_;AD=1;function t(e){return e==null}return Y_=t,Y_}var ede=Zue();const xt=er(ede);var Q_,TD;function tde(){if(TD)return Q_;TD=1;var t=Po(),e=hi(),r=ko(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Q_=i,Q_}var rde=tde();const rg=er(rde);var nde=Ak();const ft=er(nde);var ide=Jl();const Qf=er(ide);var X_={exports:{}},Qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD;function ade(){if(PD)return Qt;PD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(v){if(typeof v=="object"&&v!==null){var A=v.$$typeof;switch(A){case t:switch(v=v.type,v){case r:case i:case n:case f:case m:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case u:case p:case h:case a:return v;default:return A}}case e:return A}}}return Qt.ContextConsumer=o,Qt.ContextProvider=a,Qt.Element=t,Qt.ForwardRef=u,Qt.Fragment=r,Qt.Lazy=p,Qt.Memo=h,Qt.Portal=e,Qt.Profiler=i,Qt.StrictMode=n,Qt.Suspense=f,Qt.SuspenseList=m,Qt.isAsyncMode=function(){return!1},Qt.isConcurrentMode=function(){return!1},Qt.isContextConsumer=function(v){return b(v)===o},Qt.isContextProvider=function(v){return b(v)===a},Qt.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Qt.isForwardRef=function(v){return b(v)===u},Qt.isFragment=function(v){return b(v)===r},Qt.isLazy=function(v){return b(v)===p},Qt.isMemo=function(v){return b(v)===h},Qt.isPortal=function(v){return b(v)===e},Qt.isProfiler=function(v){return b(v)===i},Qt.isStrictMode=function(v){return b(v)===n},Qt.isSuspense=function(v){return b(v)===f},Qt.isSuspenseList=function(v){return b(v)===m},Qt.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===f||v===m||v===y||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===h||v.$$typeof===a||v.$$typeof===o||v.$$typeof===u||v.$$typeof===w||v.getModuleId!==void 0)},Qt.typeOf=b,Qt}var kD;function sde(){return kD||(kD=1,X_.exports=ade()),X_.exports}var hz=sde(),J_,CD;function mz(){if(CD)return J_;CD=1;var t=Po(),e=ko(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return J_=n,J_}var Z_,ID;function ode(){if(ID)return Z_;ID=1;var t=mz();function e(r){return t(r)&&r!=+r}return Z_=e,Z_}var lde=ode();const Xf=er(lde);var cde=mz();const ude=er(cde);var Hn=function(e){return e===0?0:e>0?1:-1},$c=function(e){return rg(e)&&e.indexOf("%")===e.length-1},Ne=function(e){return ude(e)&&!Xf(e)},Zr=function(e){return Ne(e)||rg(e)},dde=0,Jf=function(e){var r=++dde;return"".concat(e||"").concat(r)},Wn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&!rg(e))return n;var a;if($c(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Xf(a)&&(a=n),i&&a>r&&(a=r),a},pl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},fde=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},si=function(e,r){return Ne(e)&&Ne(r)?function(n){return e+n*(r-e)}:function(){return r}};function ix(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Di(n,e))===r})}function Od(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function cA(t){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(t)}var hde=["viewBox","children"],mde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OD=["points","pathLength"],eS={svg:hde,polygon:OD,polyline:OD},Ok=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ax=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!Qf(n))return null;var i={};return Object.keys(n).forEach(function(a){Ok.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},pde=function(e,r,n){return function(i){return e(r,n,i),null}},lu=function(e,r,n){if(!Qf(e)||cA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Ok.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=pde(o,r,n))}),i},gde=["children"],vde=["children"];function RD(t,e){if(t==null)return{};var r=yde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uA(t){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(t)}var MD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},lo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DD=null,tS=null,Rk=function t(e){if(e===DD&&Array.isArray(tS))return tS;var r=[];return S.Children.forEach(e,function(n){xt(n)||(hz.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),tS=r,DD=e,r};function ia(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return lo(i)}):n=[lo(e)],Rk(t).forEach(function(i){var a=Di(i,"type.displayName")||Di(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ni(t,e){var r=ia(t,e);return r&&r[0]}var LD=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ne(n)||n<=0||!Ne(i)||i<=0)},xde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bde=function(e){return e&&e.type&&rg(e.type)&&xde.indexOf(e.type)>=0},wde=function(e){return e&&uA(e)==="object"&&"clipDot"in e},_de=function(e,r,n,i){var a,o=(a=eS==null?void 0:eS[i])!==null&&a!==void 0?a:[];return!ft(e)&&(i&&o.includes(r)||mde.includes(r))||n&&Ok.includes(r)},Xe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Qf(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;_de((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},dA=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $D(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!$D(a,o))return!1}return!0},$D=function(e,r){if(xt(e)&&xt(r))return!0;if(!xt(e)&&!xt(r)){var n=e.props||{},i=n.children,a=RD(n,gde),o=r.props||{},l=o.children,u=RD(o,vde);return i&&l?Od(a,u)&&dA(i,l):!i&&!l?Od(a,u):!1}return!1},FD=function(e,r){var n=[],i={};return Rk(e).forEach(function(a,o){if(bde(a))n.push(a);else if(a){var l=lo(a.type),u=r[l]||{},f=u.handler,m=u.once;if(f&&(!m||!i[l])){var h=f(a,l,o);n.push(h),i[l]=!0}}}),n},Sde=function(e){var r=e&&e.type;return r&&MD[r]?MD[r]:null},jde=function(e,r){return Rk(r).indexOf(e)},Nde=["children","width","height","viewBox","className","style","title","desc"];function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fA.apply(this,arguments)}function Ede(t,e){if(t==null)return{};var r=Ade(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ade(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,u=t.desc,f=Ede(t,Nde),m=i||{width:r,height:n,x:0,y:0},h=bt("recharts-surface",a);return U.createElement("svg",fA({},Xe(f,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),U.createElement("title",null,l),U.createElement("desc",null,u),e)}var Tde=["children","className"];function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mA.apply(this,arguments)}function Pde(t,e){if(t==null)return{};var r=kde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ut=U.forwardRef(function(t,e){var r=t.children,n=t.className,i=Pde(t,Tde),a=bt("recharts-layer",n);return U.createElement("g",mA({className:a},Xe(i,!0),{ref:e}),r)}),Ra=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},rS,VD;function Cde(){if(VD)return rS;VD=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return rS=t,rS}var nS,BD;function Ide(){if(BD)return nS;BD=1;var t=Cde();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return nS=e,nS}var iS,UD;function pz(){if(UD)return iS;UD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function u(f){return l.test(f)}return iS=u,iS}var aS,zD;function Ode(){if(zD)return aS;zD=1;function t(e){return e.split("")}return aS=t,aS}var sS,qD;function Rde(){if(qD)return sS;qD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+u+")",m="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",b="["+a+"]?",v="(?:"+y+"(?:"+[m,h,p].join("|")+")"+b+w+")*",A=b+w+v,E="(?:"+[m+l+"?",l,h,p,o].join("|")+")",j=RegExp(u+"(?="+u+")|"+E+A,"g");function N(T){return T.match(j)||[]}return sS=N,sS}var oS,HD;function Mde(){if(HD)return oS;HD=1;var t=Ode(),e=pz(),r=Rde();function n(i){return e(i)?r(i):t(i)}return oS=n,oS}var lS,WD;function Dde(){if(WD)return lS;WD=1;var t=Ide(),e=pz(),r=Mde(),n=uz();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,u=l?l[0]:o.charAt(0),f=l?t(l,1).join(""):o.slice(1);return u[a]()+f}}return lS=i,lS}var cS,GD;function Lde(){if(GD)return cS;GD=1;var t=Dde(),e=t("toUpperCase");return cS=e,cS}var $de=Lde();const d0=er($de);function hr(t){return function(){return t}}const gz=Math.cos,sx=Math.sin,Ua=Math.sqrt,ox=Math.PI,f0=2*ox,pA=Math.PI,gA=2*pA,Ic=1e-6,Fde=gA-Ic;function vz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Vde(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vz;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Bde{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vz:Vde(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=n-e,f=i-r,m=o-e,h=l-r,p=m*m+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Ic)if(!(Math.abs(h*u-f*m)>Ic)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,w=i-l,b=u*u+f*f,v=y*y+w*w,A=Math.sqrt(b),E=Math.sqrt(p),j=a*Math.tan((pA-Math.acos((b+p-v)/(2*A*E)))/2),N=j/E,T=j/A;Math.abs(N-1)>Ic&&this._append`L${e+N*m},${r+N*h}`,this._append`A${a},${a},0,0,${+(h*y>m*w)},${this._x1=e+T*u},${this._y1=r+T*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),f=e+l,m=r+u,h=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Ic||Math.abs(this._y1-m)>Ic)&&this._append`L${f},${m}`,n&&(p<0&&(p=p%gA+gA),p>Fde?this._append`A${n},${n},0,1,${h},${e-l},${r-u}A${n},${n},0,1,${h},${this._x1=f},${this._y1=m}`:p>Ic&&this._append`A${n},${n},0,${+(p>=pA)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Mk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Bde(e)}function Dk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yz(t){this._context=t}yz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function h0(t){return new yz(t)}function xz(t){return t[0]}function bz(t){return t[1]}function wz(t,e){var r=hr(!0),n=null,i=h0,a=null,o=Mk(l);t=typeof t=="function"?t:t===void 0?xz:hr(t),e=typeof e=="function"?e:e===void 0?bz:hr(e);function l(u){var f,m=(u=Dk(u)).length,h,p=!1,y;for(n==null&&(a=i(y=o())),f=0;f<=m;++f)!(f<m&&r(h=u[f],f,u))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,f,u),+e(h,f,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:hr(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:hr(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:hr(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}function Fv(t,e,r){var n=null,i=hr(!0),a=null,o=h0,l=null,u=Mk(f);t=typeof t=="function"?t:t===void 0?xz:hr(+t),e=typeof e=="function"?e:hr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?bz:hr(+r);function f(h){var p,y,w,b=(h=Dk(h)).length,v,A=!1,E,j=new Array(b),N=new Array(b);for(a==null&&(l=o(E=u())),p=0;p<=b;++p){if(!(p<b&&i(v=h[p],p,h))===A)if(A=!A)y=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=p-1;w>=y;--w)l.point(j[w],N[w]);l.lineEnd(),l.areaEnd()}A&&(j[p]=+t(v,p,h),N[p]=+e(v,p,h),l.point(n?+n(v,p,h):j[p],r?+r(v,p,h):N[p]))}if(E)return l=null,E+""||null}function m(){return wz().defined(i).curve(o).context(a)}return f.x=function(h){return arguments.length?(t=typeof h=="function"?h:hr(+h),n=null,f):t},f.x0=function(h){return arguments.length?(t=typeof h=="function"?h:hr(+h),f):t},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:hr(+h),f):n},f.y=function(h){return arguments.length?(e=typeof h=="function"?h:hr(+h),r=null,f):e},f.y0=function(h){return arguments.length?(e=typeof h=="function"?h:hr(+h),f):e},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:hr(+h),f):r},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(r)},f.lineX1=function(){return m().x(n).y(e)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:hr(!!h),f):i},f.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),f):o},f.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),f):a},f}class _z{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Ude(t){return new _z(t,!0)}function zde(t){return new _z(t,!1)}const Lk={draw(t,e){const r=Ua(e/ox);t.moveTo(r,0),t.arc(0,0,r,0,f0)}},qde={draw(t,e){const r=Ua(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Sz=Ua(1/3),Hde=Sz*2,Wde={draw(t,e){const r=Ua(e/Hde),n=r*Sz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Gde={draw(t,e){const r=Ua(e),n=-r/2;t.rect(n,n,r,r)}},Kde=.8908130915292852,jz=sx(ox/10)/sx(7*ox/10),Yde=sx(f0/10)*jz,Qde=-gz(f0/10)*jz,Xde={draw(t,e){const r=Ua(e*Kde),n=Yde*r,i=Qde*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=f0*a/5,l=gz(o),u=sx(o);t.lineTo(u*r,-l*r),t.lineTo(l*n-u*i,u*n+l*i)}t.closePath()}},uS=Ua(3),Jde={draw(t,e){const r=-Ua(e/(uS*3));t.moveTo(0,r*2),t.lineTo(-uS*r,-r),t.lineTo(uS*r,-r),t.closePath()}},Ki=-.5,Yi=Ua(3)/2,vA=1/Ua(12),Zde=(vA/2+1)*3,efe={draw(t,e){const r=Ua(e/Zde),n=r/2,i=r*vA,a=n,o=r*vA+r,l=-a,u=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,u),t.lineTo(Ki*n-Yi*i,Yi*n+Ki*i),t.lineTo(Ki*a-Yi*o,Yi*a+Ki*o),t.lineTo(Ki*l-Yi*u,Yi*l+Ki*u),t.lineTo(Ki*n+Yi*i,Ki*i-Yi*n),t.lineTo(Ki*a+Yi*o,Ki*o-Yi*a),t.lineTo(Ki*l+Yi*u,Ki*u-Yi*l),t.closePath()}};function tfe(t,e){let r=null,n=Mk(i);t=typeof t=="function"?t:hr(t||Lk),e=typeof e=="function"?e:hr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:hr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:hr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function lx(){}function cx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Nz(t){this._context=t}Nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rfe(t){return new Nz(t)}function Ez(t){this._context=t}Ez.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nfe(t){return new Ez(t)}function Az(t){this._context=t}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ife(t){return new Az(t)}function Tz(t){this._context=t}Tz.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function afe(t){return new Tz(t)}function KD(t){return t<0?-1:1}function YD(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(KD(a)+KD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function QD(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function dS(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function ux(t){this._context=t}ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dS(this,this._t0,QD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dS(this,QD(this,r=YD(this,t,e)),r);break;default:dS(this,this._t0,r=YD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Pz(t){this._context=new kz(t)}(Pz.prototype=Object.create(ux.prototype)).point=function(t,e){ux.prototype.point.call(this,e,t)};function kz(t){this._context=t}kz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function sfe(t){return new ux(t)}function ofe(t){return new Pz(t)}function Cz(t){this._context=t}Cz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=XD(t),i=XD(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XD(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function lfe(t){return new Cz(t)}function m0(t,e){this._context=t,this._t=e}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function cfe(t){return new m0(t,.5)}function ufe(t){return new m0(t,0)}function dfe(t){return new m0(t,1)}function lf(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function yA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ffe(t,e){return t[e]}function hfe(t){const e=[];return e.key=t,e}function mfe(){var t=hr([]),e=yA,r=lf,n=ffe;function i(a){var o=Array.from(t.apply(this,arguments),hfe),l,u=o.length,f=-1,m;for(const h of a)for(l=0,++f;l<u;++l)(o[l][f]=[0,+n(h,o[l].key,f,a)]).data=h;for(l=0,m=Dk(e(o));l<u;++l)o[m[l]].index=l;return r(o,m),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:hr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:hr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?yA:typeof a=="function"?a:hr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??lf,i):r},i}function pfe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}lf(t,e)}}function gfe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}lf(t,e)}}function vfe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,u=0,f=0;l<o;++l){for(var m=t[e[l]],h=m[n][1]||0,p=m[n-1][1]||0,y=(h-p)/2,w=0;w<l;++w){var b=t[e[w]],v=b[n][1]||0,A=b[n-1][1]||0;y+=v-A}u+=h,f+=y*h}i[n-1][1]+=i[n-1][0]=r,u&&(r-=f/u)}i[n-1][1]+=i[n-1][0]=r,lf(t,e)}}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}var yfe=["type","size","sizeType"];function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xA.apply(this,arguments)}function JD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(r),!0).forEach(function(n){xfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xfe(t,e,r){return e=bfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bfe(t){var e=wfe(t,"string");return Zm(e)=="symbol"?e:e+""}function wfe(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _fe(t,e){if(t==null)return{};var r=Sfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Iz={symbolCircle:Lk,symbolCross:qde,symbolDiamond:Wde,symbolSquare:Gde,symbolStar:Xde,symbolTriangle:Jde,symbolWye:efe},jfe=Math.PI/180,Nfe=function(e){var r="symbol".concat(d0(e));return Iz[r]||Lk},Efe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*jfe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Afe=function(e,r){Iz["symbol".concat(d0(e))]=r},$k=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,u=_fe(e,yfe),f=ZD(ZD({},u),{},{type:n,size:a,sizeType:l}),m=function(){var v=Nfe(n),A=tfe().type(v).size(Efe(a,l,n));return A()},h=f.className,p=f.cx,y=f.cy,w=Xe(f,!0);return p===+p&&y===+y&&a===+a?U.createElement("path",xA({},w,{className:bt("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(y,")"),d:m()})):null};$k.registerSymbol=Afe;function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bA.apply(this,arguments)}function e4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(r),!0).forEach(function(n){ep(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rz(n.key),n)}}function Cfe(t,e,r){return e&&kfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ife(t,e,r){return e=dx(e),Ofe(t,Oz()?Reflect.construct(e,r||[],dx(t).constructor):e.apply(t,r))}function Ofe(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rfe(t)}function Rfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(t)}function Mfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wA(t,e)}function ep(t,e,r){return e=Rz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rz(t){var e=Dfe(t,"string");return cf(e)=="symbol"?e:e+""}function Dfe(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ja=32,Fk=function(t){function e(){return Pfe(this,e),Ife(this,e,arguments)}return Mfe(e,t),Cfe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ja/2,o=ja/6,l=ja/3,u=n.inactive?i:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ja,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ja,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ja/8,"h").concat(ja,"v").concat(ja*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var f=Tfe({},n);return delete f.legendIcon,U.cloneElement(n.legendIcon,f)}return U.createElement($k,{fill:u,cx:a,cy:a,size:ja,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,u=i.formatter,f=i.inactiveColor,m={x:0,y:0,width:ja,height:ja},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,w){var b=y.formatter||u,v=bt(ep(ep({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var A=ft(y.value)?null:y.value;Ra(!ft(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=y.inactive?f:y.color;return U.createElement("li",bA({className:v,style:h,key:"legend-item-".concat(w)},lu(n.props,y,w)),U.createElement(hA,{width:o,height:o,viewBox:m,style:p},n.renderIcon(y)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},b?b(A,y,w):A))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);ep(Fk,"displayName","Legend");ep(Fk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fS,t4;function Lfe(){if(t4)return fS;t4=1;var t=l0();function e(){this.__data__=new t,this.size=0}return fS=e,fS}var hS,r4;function $fe(){if(r4)return hS;r4=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return hS=t,hS}var mS,n4;function Ffe(){if(n4)return mS;n4=1;function t(e){return this.__data__.get(e)}return mS=t,mS}var pS,i4;function Vfe(){if(i4)return pS;i4=1;function t(e){return this.__data__.has(e)}return pS=t,pS}var gS,a4;function Bfe(){if(a4)return gS;a4=1;var t=l0(),e=Pk(),r=kk(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<n-1)return u.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(a,o),this.size=l.size,this}return gS=i,gS}var vS,s4;function Mz(){if(s4)return vS;s4=1;var t=l0(),e=Lfe(),r=$fe(),n=Ffe(),i=Vfe(),a=Bfe();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,vS=o,vS}var yS,o4;function Ufe(){if(o4)return yS;o4=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return yS=e,yS}var xS,l4;function zfe(){if(l4)return xS;l4=1;function t(e){return this.__data__.has(e)}return xS=t,xS}var bS,c4;function Dz(){if(c4)return bS;c4=1;var t=kk(),e=Ufe(),r=zfe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,bS=n,bS}var wS,u4;function Lz(){if(u4)return wS;u4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return wS=t,wS}var _S,d4;function $z(){if(d4)return _S;d4=1;function t(e,r){return e.has(r)}return _S=t,_S}var SS,f4;function Fz(){if(f4)return SS;f4=1;var t=Dz(),e=Lz(),r=$z(),n=1,i=2;function a(o,l,u,f,m,h){var p=u&n,y=o.length,w=l.length;if(y!=w&&!(p&&w>y))return!1;var b=h.get(o),v=h.get(l);if(b&&v)return b==l&&v==o;var A=-1,E=!0,j=u&i?new t:void 0;for(h.set(o,l),h.set(l,o);++A<y;){var N=o[A],T=l[A];if(f)var O=p?f(T,N,A,l,o,h):f(N,T,A,o,l,h);if(O!==void 0){if(O)continue;E=!1;break}if(j){if(!e(l,function(k,C){if(!r(j,C)&&(N===k||m(N,k,u,f,h)))return j.push(C)})){E=!1;break}}else if(!(N===T||m(N,T,u,f,h))){E=!1;break}}return h.delete(o),h.delete(l),E}return SS=a,SS}var jS,h4;function qfe(){if(h4)return jS;h4=1;var t=ks(),e=t.Uint8Array;return jS=e,jS}var NS,m4;function Hfe(){if(m4)return NS;m4=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return NS=t,NS}var ES,p4;function Vk(){if(p4)return ES;p4=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ES=t,ES}var AS,g4;function Wfe(){if(g4)return AS;g4=1;var t=tg(),e=qfe(),r=Tk(),n=Fz(),i=Hfe(),a=Vk(),o=1,l=2,u="[object Boolean]",f="[object Date]",m="[object Error]",h="[object Map]",p="[object Number]",y="[object RegExp]",w="[object Set]",b="[object String]",v="[object Symbol]",A="[object ArrayBuffer]",E="[object DataView]",j=t?t.prototype:void 0,N=j?j.valueOf:void 0;function T(O,k,C,M,F,D,V){switch(C){case E:if(O.byteLength!=k.byteLength||O.byteOffset!=k.byteOffset)return!1;O=O.buffer,k=k.buffer;case A:return!(O.byteLength!=k.byteLength||!D(new e(O),new e(k)));case u:case f:case p:return r(+O,+k);case m:return O.name==k.name&&O.message==k.message;case y:case b:return O==k+"";case h:var $=i;case w:var H=M&o;if($||($=a),O.size!=k.size&&!H)return!1;var G=V.get(O);if(G)return G==k;M|=l,V.set(O,k);var Q=n($(O),$(k),M,F,D,V);return V.delete(O),Q;case v:if(N)return N.call(O)==N.call(k)}return!1}return AS=T,AS}var TS,v4;function Vz(){if(v4)return TS;v4=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return TS=t,TS}var PS,y4;function Gfe(){if(y4)return PS;y4=1;var t=Vz(),e=hi();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return PS=r,PS}var kS,x4;function Kfe(){if(x4)return kS;x4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return kS=t,kS}var CS,b4;function Yfe(){if(b4)return CS;b4=1;function t(){return[]}return CS=t,CS}var IS,w4;function Qfe(){if(w4)return IS;w4=1;var t=Kfe(),e=Yfe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return IS=a,IS}var OS,_4;function Xfe(){if(_4)return OS;_4=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return OS=t,OS}var RS,S4;function Jfe(){if(S4)return RS;S4=1;var t=Po(),e=ko(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return RS=n,RS}var MS,j4;function Bk(){if(j4)return MS;j4=1;var t=Jfe(),e=ko(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return MS=a,MS}var um={exports:{}},DS,N4;function Zfe(){if(N4)return DS;N4=1;function t(){return!1}return DS=t,DS}um.exports;var E4;function Bz(){return E4||(E4=1,function(t,e){var r=ks(),n=Zfe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;t.exports=f}(um,um.exports)),um.exports}var LS,A4;function Uk(){if(A4)return LS;A4=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return LS=r,LS}var $S,T4;function zk(){if(T4)return $S;T4=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return $S=e,$S}var FS,P4;function ehe(){if(P4)return FS;P4=1;var t=Po(),e=zk(),r=ko(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",m="[object Number]",h="[object Object]",p="[object RegExp]",y="[object Set]",w="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",D={};D[E]=D[j]=D[N]=D[T]=D[O]=D[k]=D[C]=D[M]=D[F]=!0,D[n]=D[i]=D[v]=D[a]=D[A]=D[o]=D[l]=D[u]=D[f]=D[m]=D[h]=D[p]=D[y]=D[w]=D[b]=!1;function V($){return r($)&&e($.length)&&!!D[t($)]}return FS=V,FS}var VS,k4;function Uz(){if(k4)return VS;k4=1;function t(e){return function(r){return e(r)}}return VS=t,VS}var dm={exports:{}};dm.exports;var C4;function the(){return C4||(C4=1,function(t,e){var r=oz(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(dm,dm.exports)),dm.exports}var BS,I4;function zz(){if(I4)return BS;I4=1;var t=ehe(),e=Uz(),r=the(),n=r&&r.isTypedArray,i=n?e(n):t;return BS=i,BS}var US,O4;function rhe(){if(O4)return US;O4=1;var t=Xfe(),e=Bk(),r=hi(),n=Bz(),i=Uk(),a=zz(),o=Object.prototype,l=o.hasOwnProperty;function u(f,m){var h=r(f),p=!h&&e(f),y=!h&&!p&&n(f),w=!h&&!p&&!y&&a(f),b=h||p||y||w,v=b?t(f.length,String):[],A=v.length;for(var E in f)(m||l.call(f,E))&&!(b&&(E=="length"||y&&(E=="offset"||E=="parent")||w&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,A)))&&v.push(E);return v}return US=u,US}var zS,R4;function nhe(){if(R4)return zS;R4=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return zS=e,zS}var qS,M4;function qz(){if(M4)return qS;M4=1;function t(e,r){return function(n){return e(r(n))}}return qS=t,qS}var HS,D4;function ihe(){if(D4)return HS;D4=1;var t=qz(),e=t(Object.keys,Object);return HS=e,HS}var WS,L4;function ahe(){if(L4)return WS;L4=1;var t=nhe(),e=ihe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return WS=i,WS}var GS,$4;function ng(){if($4)return GS;$4=1;var t=Ak(),e=zk();function r(n){return n!=null&&e(n.length)&&!t(n)}return GS=r,GS}var KS,F4;function p0(){if(F4)return KS;F4=1;var t=rhe(),e=ahe(),r=ng();function n(i){return r(i)?t(i):e(i)}return KS=n,KS}var YS,V4;function she(){if(V4)return YS;V4=1;var t=Gfe(),e=Qfe(),r=p0();function n(i){return t(i,r,e)}return YS=n,YS}var QS,B4;function ohe(){if(B4)return QS;B4=1;var t=she(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,u,f,m){var h=l&e,p=t(a),y=p.length,w=t(o),b=w.length;if(y!=b&&!h)return!1;for(var v=y;v--;){var A=p[v];if(!(h?A in o:n.call(o,A)))return!1}var E=m.get(a),j=m.get(o);if(E&&j)return E==o&&j==a;var N=!0;m.set(a,o),m.set(o,a);for(var T=h;++v<y;){A=p[v];var O=a[A],k=o[A];if(u)var C=h?u(k,O,A,o,a,m):u(O,k,A,a,o,m);if(!(C===void 0?O===k||f(O,k,l,u,m):C)){N=!1;break}T||(T=A=="constructor")}if(N&&!T){var M=a.constructor,F=o.constructor;M!=F&&"constructor"in a&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(N=!1)}return m.delete(a),m.delete(o),N}return QS=i,QS}var XS,U4;function lhe(){if(U4)return XS;U4=1;var t=xu(),e=ks(),r=t(e,"DataView");return XS=r,XS}var JS,z4;function che(){if(z4)return JS;z4=1;var t=xu(),e=ks(),r=t(e,"Promise");return JS=r,JS}var ZS,q4;function Hz(){if(q4)return ZS;q4=1;var t=xu(),e=ks(),r=t(e,"Set");return ZS=r,ZS}var ej,H4;function uhe(){if(H4)return ej;H4=1;var t=xu(),e=ks(),r=t(e,"WeakMap");return ej=r,ej}var tj,W4;function dhe(){if(W4)return tj;W4=1;var t=lhe(),e=Pk(),r=che(),n=Hz(),i=uhe(),a=Po(),o=lz(),l="[object Map]",u="[object Object]",f="[object Promise]",m="[object Set]",h="[object WeakMap]",p="[object DataView]",y=o(t),w=o(e),b=o(r),v=o(n),A=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=p||e&&E(new e)!=l||r&&E(r.resolve())!=f||n&&E(new n)!=m||i&&E(new i)!=h)&&(E=function(j){var N=a(j),T=N==u?j.constructor:void 0,O=T?o(T):"";if(O)switch(O){case y:return p;case w:return l;case b:return f;case v:return m;case A:return h}return N}),tj=E,tj}var rj,G4;function fhe(){if(G4)return rj;G4=1;var t=Mz(),e=Fz(),r=Wfe(),n=ohe(),i=dhe(),a=hi(),o=Bz(),l=zz(),u=1,f="[object Arguments]",m="[object Array]",h="[object Object]",p=Object.prototype,y=p.hasOwnProperty;function w(b,v,A,E,j,N){var T=a(b),O=a(v),k=T?m:i(b),C=O?m:i(v);k=k==f?h:k,C=C==f?h:C;var M=k==h,F=C==h,D=k==C;if(D&&o(b)){if(!o(v))return!1;T=!0,M=!1}if(D&&!M)return N||(N=new t),T||l(b)?e(b,v,A,E,j,N):r(b,v,k,A,E,j,N);if(!(A&u)){var V=M&&y.call(b,"__wrapped__"),$=F&&y.call(v,"__wrapped__");if(V||$){var H=V?b.value():b,G=$?v.value():v;return N||(N=new t),j(H,G,A,E,N)}}return D?(N||(N=new t),n(b,v,A,E,j,N)):!1}return rj=w,rj}var nj,K4;function qk(){if(K4)return nj;K4=1;var t=fhe(),e=ko();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return nj=r,nj}var ij,Y4;function hhe(){if(Y4)return ij;Y4=1;var t=Mz(),e=qk(),r=1,n=2;function i(a,o,l,u){var f=l.length,m=f,h=!u;if(a==null)return!m;for(a=Object(a);f--;){var p=l[f];if(h&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++f<m;){p=l[f];var y=p[0],w=a[y],b=p[1];if(h&&p[2]){if(w===void 0&&!(y in a))return!1}else{var v=new t;if(u)var A=u(w,b,y,a,o,v);if(!(A===void 0?e(b,w,r|n,u,v):A))return!1}}return!0}return ij=i,ij}var aj,Q4;function Wz(){if(Q4)return aj;Q4=1;var t=Jl();function e(r){return r===r&&!t(r)}return aj=e,aj}var sj,X4;function mhe(){if(X4)return sj;X4=1;var t=Wz(),e=p0();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return sj=r,sj}var oj,J4;function Gz(){if(J4)return oj;J4=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return oj=t,oj}var lj,Z4;function phe(){if(Z4)return lj;Z4=1;var t=hhe(),e=mhe(),r=Gz();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return lj=n,lj}var cj,e5;function ghe(){if(e5)return cj;e5=1;function t(e,r){return e!=null&&r in Object(e)}return cj=t,cj}var uj,t5;function vhe(){if(t5)return uj;t5=1;var t=dz(),e=Bk(),r=hi(),n=Uk(),i=zk(),a=u0();function o(l,u,f){u=t(u,l);for(var m=-1,h=u.length,p=!1;++m<h;){var y=a(u[m]);if(!(p=l!=null&&f(l,y)))break;l=l[y]}return p||++m!=h?p:(h=l==null?0:l.length,!!h&&i(h)&&n(y,h)&&(r(l)||e(l)))}return uj=o,uj}var dj,r5;function yhe(){if(r5)return dj;r5=1;var t=ghe(),e=vhe();function r(n,i){return n!=null&&e(n,i,t)}return dj=r,dj}var fj,n5;function xhe(){if(n5)return fj;n5=1;var t=qk(),e=fz(),r=yhe(),n=Ek(),i=Wz(),a=Gz(),o=u0(),l=1,u=2;function f(m,h){return n(m)&&i(h)?a(o(m),h):function(p){var y=e(p,m);return y===void 0&&y===h?r(p,m):t(h,y,l|u)}}return fj=f,fj}var hj,i5;function Zf(){if(i5)return hj;i5=1;function t(e){return e}return hj=t,hj}var mj,a5;function bhe(){if(a5)return mj;a5=1;function t(e){return function(r){return r==null?void 0:r[e]}}return mj=t,mj}var pj,s5;function whe(){if(s5)return pj;s5=1;var t=Ik();function e(r){return function(n){return t(n,r)}}return pj=e,pj}var gj,o5;function _he(){if(o5)return gj;o5=1;var t=bhe(),e=whe(),r=Ek(),n=u0();function i(a){return r(a)?t(n(a)):e(a)}return gj=i,gj}var vj,l5;function Cs(){if(l5)return vj;l5=1;var t=phe(),e=xhe(),r=Zf(),n=hi(),i=_he();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return vj=a,vj}var yj,c5;function Kz(){if(c5)return yj;c5=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return yj=t,yj}var xj,u5;function She(){if(u5)return xj;u5=1;function t(e){return e!==e}return xj=t,xj}var bj,d5;function jhe(){if(d5)return bj;d5=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return bj=t,bj}var wj,f5;function Nhe(){if(f5)return wj;f5=1;var t=Kz(),e=She(),r=jhe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return wj=n,wj}var _j,h5;function Ehe(){if(h5)return _j;h5=1;var t=Nhe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return _j=e,_j}var Sj,m5;function Ahe(){if(m5)return Sj;m5=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Sj=t,Sj}var jj,p5;function The(){if(p5)return jj;p5=1;function t(){}return jj=t,jj}var Nj,g5;function Phe(){if(g5)return Nj;g5=1;var t=Hz(),e=The(),r=Vk(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Nj=i,Nj}var Ej,v5;function khe(){if(v5)return Ej;v5=1;var t=Dz(),e=Ehe(),r=Ahe(),n=$z(),i=Phe(),a=Vk(),o=200;function l(u,f,m){var h=-1,p=e,y=u.length,w=!0,b=[],v=b;if(m)w=!1,p=r;else if(y>=o){var A=f?null:i(u);if(A)return a(A);w=!1,p=n,v=new t}else v=f?[]:b;e:for(;++h<y;){var E=u[h],j=f?f(E):E;if(E=m||E!==0?E:0,w&&j===j){for(var N=v.length;N--;)if(v[N]===j)continue e;f&&v.push(j),b.push(E)}else p(v,j,m)||(v!==b&&v.push(j),b.push(E))}return b}return Ej=l,Ej}var Aj,y5;function Che(){if(y5)return Aj;y5=1;var t=Cs(),e=khe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Aj=r,Aj}var Ihe=Che();const x5=er(Ihe);function Yz(t,e,r){return e===!0?x5(t,r):ft(e)?x5(t,e):t}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var Ohe=["ref"];function b5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(r),!0).forEach(function(n){g0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xz(n.key),n)}}function Mhe(t,e,r){return e&&w5(t.prototype,e),r&&w5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dhe(t,e,r){return e=fx(e),Lhe(t,Qz()?Reflect.construct(e,r||[],fx(t).constructor):e.apply(t,r))}function Lhe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $he(t)}function $he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qz=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(t)}function Fhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_A(t,e)}function g0(t,e,r){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xz(t){var e=Vhe(t,"string");return uf(e)=="symbol"?e:e+""}function Vhe(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bhe(t,e){if(t==null)return{};var r=Uhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zhe(t){return t.value}function qhe(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var r=Bhe(e,Ohe);return U.createElement(Fk,r)}var _5=1,Cl=function(t){function e(){var r;Rhe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Dhe(this,e,[].concat(i)),g0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fhe(e,t),Mhe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>_5||Math.abs(i.height-this.lastBoundingBox.height)>_5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ys({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,u=i.margin,f=i.chartWidth,m=i.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();h={left:((f||0)-y.width)/2}}else h=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();p={top:((m||0)-w.height)/2}}else p=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Ys(Ys({},h),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,u=i.wrapperStyle,f=i.payloadUniqBy,m=i.payload,h=Ys(Ys({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return U.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(y){n.wrapperNode=y}},qhe(a,Ys(Ys({},this.props),{},{payload:Yz(m,f,zhe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ys(Ys({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Ne(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(S.PureComponent);g0(Cl,"displayName","Legend");g0(Cl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Tj,S5;function Hhe(){if(S5)return Tj;S5=1;var t=tg(),e=Bk(),r=hi(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Tj=i,Tj}var Pj,j5;function Jz(){if(j5)return Pj;j5=1;var t=Vz(),e=Hhe();function r(n,i,a,o,l){var u=-1,f=n.length;for(a||(a=e),l||(l=[]);++u<f;){var m=n[u];i>0&&a(m)?i>1?r(m,i-1,a,o,l):t(l,m):o||(l[l.length]=m)}return l}return Pj=r,Pj}var kj,N5;function Whe(){if(N5)return kj;N5=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),u=l.length;u--;){var f=l[e?u:++a];if(n(o[f],f,o)===!1)break}return r}}return kj=t,kj}var Cj,E5;function Ghe(){if(E5)return Cj;E5=1;var t=Whe(),e=t();return Cj=e,Cj}var Ij,A5;function Zz(){if(A5)return Ij;A5=1;var t=Ghe(),e=p0();function r(n,i){return n&&t(n,i,e)}return Ij=r,Ij}var Oj,T5;function Khe(){if(T5)return Oj;T5=1;var t=ng();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,u=Object(i);(n?l--:++l<o)&&a(u[l],l,u)!==!1;);return i}}return Oj=e,Oj}var Rj,P5;function Hk(){if(P5)return Rj;P5=1;var t=Zz(),e=Khe(),r=e(t);return Rj=r,Rj}var Mj,k5;function eq(){if(k5)return Mj;k5=1;var t=Hk(),e=ng();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,u,f){o[++a]=i(l,u,f)}),o}return Mj=r,Mj}var Dj,C5;function Yhe(){if(C5)return Dj;C5=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Dj=t,Dj}var Lj,I5;function Qhe(){if(I5)return Lj;I5=1;var t=Yf();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),u=n!==void 0,f=n===null,m=n===n,h=t(n);if(!f&&!h&&!l&&r>n||l&&u&&m&&!f&&!h||a&&u&&m||!i&&m||!o)return 1;if(!a&&!l&&!h&&r<n||h&&i&&o&&!a&&!l||f&&i&&o||!u&&o||!m)return-1}return 0}return Lj=e,Lj}var $j,O5;function Xhe(){if(O5)return $j;O5=1;var t=Qhe();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,u=o.length,f=i.length;++a<u;){var m=t(o[a],l[a]);if(m){if(a>=f)return m;var h=i[a];return m*(h=="desc"?-1:1)}}return r.index-n.index}return $j=e,$j}var Fj,R5;function Jhe(){if(R5)return Fj;R5=1;var t=Ck(),e=Ik(),r=Cs(),n=eq(),i=Yhe(),a=Uz(),o=Xhe(),l=Zf(),u=hi();function f(m,h,p){h.length?h=t(h,function(b){return u(b)?function(v){return e(v,b.length===1?b[0]:b)}:b}):h=[l];var y=-1;h=t(h,a(r));var w=n(m,function(b,v,A){var E=t(h,function(j){return j(b)});return{criteria:E,index:++y,value:b}});return i(w,function(b,v){return o(b,v,p)})}return Fj=f,Fj}var Vj,M5;function Zhe(){if(M5)return Vj;M5=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Vj=t,Vj}var Bj,D5;function eme(){if(D5)return Bj;D5=1;var t=Zhe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,u=e(o.length-i,0),f=Array(u);++l<u;)f[l]=o[i+l];l=-1;for(var m=Array(i+1);++l<i;)m[l]=o[l];return m[i]=a(f),t(n,this,m)}}return Bj=r,Bj}var Uj,L5;function tme(){if(L5)return Uj;L5=1;function t(e){return function(){return e}}return Uj=t,Uj}var zj,$5;function tq(){if($5)return zj;$5=1;var t=xu(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return zj=e,zj}var qj,F5;function rme(){if(F5)return qj;F5=1;var t=tme(),e=tq(),r=Zf(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return qj=n,qj}var Hj,V5;function nme(){if(V5)return Hj;V5=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),u=e-(l-o);if(o=l,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Hj=n,Hj}var Wj,B5;function ime(){if(B5)return Wj;B5=1;var t=rme(),e=nme(),r=e(t);return Wj=r,Wj}var Gj,U5;function ame(){if(U5)return Gj;U5=1;var t=Zf(),e=eme(),r=ime();function n(i,a){return r(e(i,a,t),i+"")}return Gj=n,Gj}var Kj,z5;function v0(){if(z5)return Kj;z5=1;var t=Tk(),e=ng(),r=Uk(),n=Jl();function i(a,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?e(l)&&r(o,l.length):u=="string"&&o in l)?t(l[o],a):!1}return Kj=i,Kj}var Yj,q5;function sme(){if(q5)return Yj;q5=1;var t=Jz(),e=Jhe(),r=ame(),n=v0(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return Yj=i,Yj}var ome=sme();const Wk=er(ome);function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SA.apply(this,arguments)}function lme(t,e){return fme(t)||dme(t,e)||ume(t,e)||cme()}function cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ume(t,e){if(t){if(typeof t=="string")return H5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H5(t,e)}}function H5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function fme(t){if(Array.isArray(t))return t}function W5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(r),!0).forEach(function(n){hme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hme(t,e,r){return e=mme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mme(t){var e=pme(t,"string");return tp(e)=="symbol"?e:e+""}function pme(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gme(t){return Array.isArray(t)&&Zr(t[0])&&Zr(t[1])?t.join(" ~ "):t}var vme=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,u=e.labelStyle,f=u===void 0?{}:u,m=e.payload,h=e.formatter,p=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,b=e.label,v=e.labelFormatter,A=e.accessibilityLayer,E=A===void 0?!1:A,j=function(){if(m&&m.length){var V={padding:0,margin:0},$=(p?Wk(m,p):m).map(function(H,G){if(H.type==="none")return null;var Q=Qj({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),Y=H.formatter||h||gme,W=H.value,J=H.name,ee=W,q=J;if(Y&&ee!=null&&q!=null){var X=Y(W,J,H,G,m);if(Array.isArray(X)){var se=lme(X,2);ee=se[0],q=se[1]}else ee=X}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Q},Zr(q)?U.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Zr(q)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},ee),U.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},N=Qj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Qj({margin:0},f),O=!xt(b),k=O?b:"",C=bt("recharts-default-tooltip",y),M=bt("recharts-tooltip-label",w);O&&v&&m!==void 0&&m!==null&&(k=v(b,m));var F=E?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",SA({className:C,style:N},F),U.createElement("p",{className:M,style:T},U.isValidElement(k)?k:"".concat(k)),j())};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function Vv(t,e,r){return e=yme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yme(t){var e=xme(t,"string");return rp(e)=="symbol"?e:e+""}function xme(t,e){if(rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gh="recharts-tooltip-wrapper",bme={visibility:"hidden"};function wme(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return bt(Gh,Vv(Vv(Vv(Vv({},"".concat(Gh,"-right"),Ne(r)&&e&&Ne(e.x)&&r>=e.x),"".concat(Gh,"-left"),Ne(r)&&e&&Ne(e.x)&&r<e.x),"".concat(Gh,"-bottom"),Ne(n)&&e&&Ne(e.y)&&n>=e.y),"".concat(Gh,"-top"),Ne(n)&&e&&Ne(e.y)&&n<e.y))}function G5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,f=t.viewBoxDimension;if(a&&Ne(a[n]))return a[n];var m=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?m:h;if(o[n]){var p=m,y=u[n];return p<y?Math.max(h,u[n]):Math.max(m,u[n])}var w=h+l,b=u[n]+f;return w>b?Math.max(m,u[n]):Math.max(h,u[n])}function _me(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Sme(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,f,m,h;return o.height>0&&o.width>0&&r?(m=G5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=G5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=_me({translateX:m,translateY:h,useTranslate3d:l})):f=bme,{cssProperties:f,cssClasses:wme({translateX:m,translateY:h,coordinate:r})}}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function K5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(r),!0).forEach(function(n){NA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nq(n.key),n)}}function Eme(t,e,r){return e&&Nme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t,e,r){return e=hx(e),Tme(t,rq()?Reflect.construct(e,r||[],hx(t).constructor):e.apply(t,r))}function Tme(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pme(t)}function Pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jA(t,e)}function NA(t,e,r){return e=nq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nq(t){var e=Cme(t,"string");return df(e)=="symbol"?e:e+""}function Cme(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q5=1,Ime=function(t){function e(){var r;jme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ame(this,e,[].concat(i)),NA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,f,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(f=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),r}return kme(e,t),Eme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Q5||Math.abs(n.height-this.state.lastBoundingBox.height)>Q5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,f=i.children,m=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,y=i.offset,w=i.position,b=i.reverseDirection,v=i.useTranslate3d,A=i.viewBox,E=i.wrapperStyle,j=Sme({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:y,position:w,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:A}),N=j.cssClasses,T=j.cssProperties,O=Y5(Y5({transition:p&&a?"transform ".concat(l,"ms ").concat(u):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},E);return U.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(C){n.wrapperNode=C}},f)}}])}(S.PureComponent),Ome=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},bu={isSsr:Ome()};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function X5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(r),!0).forEach(function(n){Gk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aq(n.key),n)}}function Dme(t,e,r){return e&&Mme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lme(t,e,r){return e=mx(e),$me(t,iq()?Reflect.construct(e,r||[],mx(t).constructor):e.apply(t,r))}function $me(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fme(t)}function Fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function Vme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EA(t,e)}function Gk(t,e,r){return e=aq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aq(t){var e=Bme(t,"string");return ff(e)=="symbol"?e:e+""}function Bme(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ume(t){return t.dataKey}function zme(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(vme,e)}var Ji=function(t){function e(){return Rme(this,e),Lme(this,e,arguments)}return Vme(e,t),Dme(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,f=i.content,m=i.coordinate,h=i.filterNull,p=i.isAnimationActive,y=i.offset,w=i.payload,b=i.payloadUniqBy,v=i.position,A=i.reverseDirection,E=i.useTranslate3d,j=i.viewBox,N=i.wrapperStyle,T=w??[];h&&T.length&&(T=Yz(w.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),b,Ume));var O=T.length>0;return U.createElement(Ime,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:a,coordinate:m,hasPayload:O,offset:y,position:v,reverseDirection:A,useTranslate3d:E,viewBox:j,wrapperStyle:N},zme(f,J5(J5({},this.props),{},{payload:T})))}}])}(S.PureComponent);Gk(Ji,"displayName","Tooltip");Gk(Ji,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xj,Z5;function qme(){if(Z5)return Xj;Z5=1;var t=ks(),e=function(){return t.Date.now()};return Xj=e,Xj}var Jj,eL;function Hme(){if(eL)return Jj;eL=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Jj=e,Jj}var Zj,tL;function Wme(){if(tL)return Zj;tL=1;var t=Hme(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Zj=r,Zj}var eN,rL;function sq(){if(rL)return eN;rL=1;var t=Wme(),e=Jl(),r=Yf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var h=a.test(f);return h||o.test(f)?l(f.slice(2),h?2:8):i.test(f)?n:+f}return eN=u,eN}var tN,nL;function Gme(){if(nL)return tN;nL=1;var t=Jl(),e=qme(),r=sq(),n="Expected a function",i=Math.max,a=Math.min;function o(l,u,f){var m,h,p,y,w,b,v=0,A=!1,E=!1,j=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,t(f)&&(A=!!f.leading,E="maxWait"in f,p=E?i(r(f.maxWait)||0,u):p,j="trailing"in f?!!f.trailing:j);function N($){var H=m,G=h;return m=h=void 0,v=$,y=l.apply(G,H),y}function T($){return v=$,w=setTimeout(C,u),A?N($):y}function O($){var H=$-b,G=$-v,Q=u-H;return E?a(Q,p-G):Q}function k($){var H=$-b,G=$-v;return b===void 0||H>=u||H<0||E&&G>=p}function C(){var $=e();if(k($))return M($);w=setTimeout(C,O($))}function M($){return w=void 0,j&&m?N($):(m=h=void 0,y)}function F(){w!==void 0&&clearTimeout(w),v=0,m=b=h=w=void 0}function D(){return w===void 0?y:M(e())}function V(){var $=e(),H=k($);if(m=arguments,h=this,b=$,H){if(w===void 0)return T(b);if(E)return clearTimeout(w),w=setTimeout(C,u),N(b)}return w===void 0&&(w=setTimeout(C,u)),y}return V.cancel=F,V.flush=D,V}return tN=o,tN}var rN,iL;function Kme(){if(iL)return rN;iL=1;var t=Gme(),e=Jl(),r="Expected a function";function n(i,a,o){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),t(i,a,{leading:l,maxWait:a,trailing:u})}return rN=n,rN}var Yme=Kme();const oq=er(Yme);function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){Qme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qme(t,e,r){return e=Xme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xme(t){var e=Jme(t,"string");return np(e)=="symbol"?e:e+""}function Jme(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zme(t,e){return npe(t)||rpe(t,e)||tpe(t,e)||epe()}function epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(t,e){if(t){if(typeof t=="string")return sL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sL(t,e)}}function sL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function npe(t){if(Array.isArray(t))return t}var Kk=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,u=l===void 0?"100%":l,f=t.minWidth,m=f===void 0?0:f,h=t.minHeight,p=t.maxHeight,y=t.children,w=t.debounce,b=w===void 0?0:w,v=t.id,A=t.className,E=t.onResize,j=t.style,N=j===void 0?{}:j,T=S.useRef(null),O=S.useRef();O.current=E,S.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var k=S.useState({containerWidth:i.width,containerHeight:i.height}),C=Zme(k,2),M=C[0],F=C[1],D=S.useCallback(function($,H){F(function(G){var Q=Math.round($),Y=Math.round(H);return G.containerWidth===Q&&G.containerHeight===Y?G:{containerWidth:Q,containerHeight:Y}})},[]);S.useEffect(function(){var $=function(J){var ee,q=J[0].contentRect,X=q.width,se=q.height;D(X,se),(ee=O.current)===null||ee===void 0||ee.call(O,X,se)};b>0&&($=oq($,b,{trailing:!0,leading:!1}));var H=new ResizeObserver($),G=T.current.getBoundingClientRect(),Q=G.width,Y=G.height;return D(Q,Y),H.observe(T.current),function(){H.disconnect()}},[D,b]);var V=S.useMemo(function(){var $=M.containerWidth,H=M.containerHeight;if($<0||H<0)return null;Ra($c(o)||$c(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),Ra(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=$c(o)?$:o,Q=$c(u)?H:u;r&&r>0&&(G?Q=G/r:Q&&(G=Q*r),p&&Q>p&&(Q=p)),Ra(G>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Q,o,u,m,h,r);var Y=!Array.isArray(y)&&lo(y.type).endsWith("Chart");return U.Children.map(y,function(W){return hz.isElement(W)?S.cloneElement(W,Bv({width:G,height:Q},Y?{style:Bv({height:"100%",width:"100%",maxHeight:Q,maxWidth:G},W.props.style)}:{})):W})},[r,y,u,p,h,m,M,o]);return U.createElement("div",{id:v?"".concat(v):void 0,className:bt("recharts-responsive-container",A),style:Bv(Bv({},N),{},{width:o,height:u,minWidth:m,minHeight:h,maxHeight:p}),ref:T},V)}),y0=function(e){return null};y0.displayName="Cell";function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){ipe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ipe(t,e,r){return e=ape(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ape(t){var e=spe(t,"string");return ip(e)=="symbol"?e:e+""}function spe(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var od={widthCache:{},cacheCount:0},ope=2e3,lpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lL="recharts_measurement_span";function cpe(t){var e=AA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var jm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bu.isSsr)return{width:0,height:0};var n=cpe(r),i=JSON.stringify({text:e,copyStyle:n});if(od.widthCache[i])return od.widthCache[i];try{var a=document.getElementById(lL);a||(a=document.createElement("span"),a.setAttribute("id",lL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=AA(AA({},lpe),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),u={width:l.width,height:l.height};return od.widthCache[i]=u,++od.cacheCount>ope&&(od.cacheCount=0,od.widthCache={}),u}catch{return{width:0,height:0}}},upe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function px(t,e){return mpe(t)||hpe(t,e)||fpe(t,e)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(t,e){if(t){if(typeof t=="string")return cL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cL(t,e)}}function cL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function mpe(t){if(Array.isArray(t))return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vpe(n.key),n)}}function gpe(t,e,r){return e&&uL(t.prototype,e),r&&uL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vpe(t){var e=ype(t,"string");return ap(e)=="symbol"?e:e+""}function ype(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wpe=Object.keys(lq),wd="NaN";function _pe(t,e){return t*lq[e]}var Uv=function(){function t(e,r){ppe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!xpe.test(r)&&(this.num=NaN,this.unit=""),wpe.includes(r)&&(this.num=_pe(e,r),this.unit="px")}return gpe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=bpe.exec(r))!==null&&n!==void 0?n:[],a=px(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function cq(t){if(t.includes(wd))return wd;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=dL.exec(e))!==null&&r!==void 0?r:[],i=px(n,4),a=i[1],o=i[2],l=i[3],u=Uv.parse(a??""),f=Uv.parse(l??""),m=o==="*"?u.multiply(f):u.divide(f);if(m.isNaN())return wd;e=e.replace(dL,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=fL.exec(e))!==null&&h!==void 0?h:[],y=px(p,4),w=y[1],b=y[2],v=y[3],A=Uv.parse(w??""),E=Uv.parse(v??""),j=b==="+"?A.add(E):A.subtract(E);if(j.isNaN())return wd;e=e.replace(fL,j.toString())}return e}var hL=/\(([^()]*)\)/;function Spe(t){for(var e=t;e.includes("(");){var r=hL.exec(e),n=px(r,2),i=n[1];e=e.replace(hL,cq(i))}return e}function jpe(t){var e=t.replace(/\s+/g,"");return e=Spe(e),e=cq(e),e}function Npe(t){try{return jpe(t)}catch{return wd}}function nN(t){var e=Npe(t.slice(5,-1));return e===wd?"":e}var Epe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ape=["dx","dy","angle","className","breakAll"];function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TA.apply(this,arguments)}function mL(t,e){if(t==null)return{};var r=Tpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pL(t,e){return Ipe(t)||Cpe(t,e)||kpe(t,e)||Ppe()}function Ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kpe(t,e){if(t){if(typeof t=="string")return gL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gL(t,e)}}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Ipe(t){if(Array.isArray(t))return t}var uq=/[ \f\n\r\t\v\u2028\u2029]+/,dq=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];xt(r)||(n?a=r.toString().split(""):a=r.toString().split(uq));var o=a.map(function(u){return{word:u,width:jm(u,i).width}}),l=n?0:jm(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Ope=function(e,r,n,i,a){var o=e.maxLines,l=e.children,u=e.style,f=e.breakAll,m=Ne(o),h=l,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Q,Y){var W=Y.word,J=Y.width,ee=Q[Q.length-1];if(ee&&(i==null||a||ee.width+J+n<Number(i)))ee.words.push(W),ee.width+=J+n;else{var q={words:[W],width:J};Q.push(q)}return Q},[])},y=p(r),w=function(G){return G.reduce(function(Q,Y){return Q.width>Y.width?Q:Y})};if(!m)return y;for(var b="…",v=function(G){var Q=h.slice(0,G),Y=dq({breakAll:f,style:u,children:Q+b}).wordsWithComputedWidth,W=p(Y),J=W.length>o||w(W).width>Number(i);return[J,W]},A=0,E=h.length-1,j=0,N;A<=E&&j<=h.length-1;){var T=Math.floor((A+E)/2),O=T-1,k=v(O),C=pL(k,2),M=C[0],F=C[1],D=v(T),V=pL(D,1),$=V[0];if(!M&&!$&&(A=T+1),M&&$&&(E=T-1),!M&&$){N=F;break}j++}return N||y},vL=function(e){var r=xt(e)?[]:e.toString().split(uq);return[{words:r}]},Rpe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!bu.isSsr){var u,f,m=dq({breakAll:o,children:i,style:a});if(m){var h=m.wordsWithComputedWidth,p=m.spaceWidth;u=h,f=p}else return vL(i);return Ope({breakAll:o,children:i,maxLines:l,style:a},u,f,r,n)}return vL(i)},yL="#808080",cu=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,u=e.capHeight,f=u===void 0?"0.71em":u,m=e.scaleToFit,h=m===void 0?!1:m,p=e.textAnchor,y=p===void 0?"start":p,w=e.verticalAnchor,b=w===void 0?"end":w,v=e.fill,A=v===void 0?yL:v,E=mL(e,Epe),j=S.useMemo(function(){return Rpe({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:h,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,h,E.style,E.width]),N=E.dx,T=E.dy,O=E.angle,k=E.className,C=E.breakAll,M=mL(E,Ape);if(!Zr(n)||!Zr(a))return null;var F=n+(Ne(N)?N:0),D=a+(Ne(T)?T:0),V;switch(b){case"start":V=nN("calc(".concat(f,")"));break;case"middle":V=nN("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:V=nN("calc(".concat(j.length-1," * -").concat(l,")"));break}var $=[];if(h){var H=j[0].width,G=E.width;$.push("scale(".concat((Ne(G)?G/H:1)/H,")"))}return O&&$.push("rotate(".concat(O,", ").concat(F,", ").concat(D,")")),$.length&&(M.transform=$.join(" ")),U.createElement("text",TA({},Xe(M,!0),{x:F,y:D,className:bt("recharts-text",k),textAnchor:y,fill:A.includes("url")?yL:A}),j.map(function(Q,Y){var W=Q.words.join(C?"":" ");return U.createElement("tspan",{x:F,dy:Y===0?V:l,key:"".concat(W,"-").concat(Y)},W)}))};function Il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yk(t){let e,r,n;t.length!==2?(e=Il,r=(l,u)=>Il(t(l),u),n=(l,u)=>t(l)-u):(e=t===Il||t===Mpe?t:Dpe,r=t,n=t);function i(l,u,f=0,m=l.length){if(f<m){if(e(u,u)!==0)return m;do{const h=f+m>>>1;r(l[h],u)<0?f=h+1:m=h}while(f<m)}return f}function a(l,u,f=0,m=l.length){if(f<m){if(e(u,u)!==0)return m;do{const h=f+m>>>1;r(l[h],u)<=0?f=h+1:m=h}while(f<m)}return f}function o(l,u,f=0,m=l.length){const h=i(l,u,f,m-1);return h>f&&n(l[h-1],u)>-n(l[h],u)?h-1:h}return{left:i,center:o,right:a}}function Dpe(){return 0}function fq(t){return t===null?NaN:+t}function*Lpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const $pe=Yk(Il),ig=$pe.right;Yk(fq).center;class xL extends Map{constructor(e,r=Bpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(bL(this,e))}has(e){return super.has(bL(this,e))}set(e,r){return super.set(Fpe(this,e),r)}delete(e){return super.delete(Vpe(this,e))}}function bL({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Fpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Vpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Bpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Upe(t=Il){if(t===Il)return hq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function hq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zpe=Math.sqrt(50),qpe=Math.sqrt(10),Hpe=Math.sqrt(2);function gx(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=zpe?10:a>=qpe?5:a>=Hpe?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=r&&r<2?gx(t,e,r*2):[l,u,f]}function PA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?gx(e,t,r):gx(t,e,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)u[f]=(a-f)/-o;else for(let f=0;f<l;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function kA(t,e,r){return e=+e,t=+t,r=+r,gx(t,e,r)[2]}function CA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?kA(e,t,r):kA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function wL(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _L(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mq(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?hq:Upe(i);n>r;){if(n-r>600){const u=n-r+1,f=e-r+1,m=Math.log(u),h=.5*Math.exp(2*m/3),p=.5*Math.sqrt(m*h*(u-h)/u)*(f-u/2<0?-1:1),y=Math.max(r,Math.floor(e-f*h/u+p)),w=Math.min(n,Math.floor(e+(u-f)*h/u+p));mq(t,e,y,w,i)}const a=t[e];let o=r,l=n;for(Kh(t,r,e),i(t[n],a)>0&&Kh(t,r,n);o<l;){for(Kh(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Kh(t,r,l):(++l,Kh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Kh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Wpe(t,e,r){if(t=Float64Array.from(Lpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return _L(t);if(e>=1)return wL(t);var n,i=(n-1)*e,a=Math.floor(i),o=wL(mq(t,a).subarray(0,a+1)),l=_L(t.subarray(a+1));return o+(l-o)*(i-a)}}function Gpe(t,e,r=fq){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Kpe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function oa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Co(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IA=Symbol("implicit");function Qk(){var t=new xL,e=[],r=[],n=IA;function i(a){let o=t.get(a);if(o===void 0){if(n!==IA)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new xL;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Qk(e,r).unknown(n)},oa.apply(i,arguments),i}function sp(){var t=Qk().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,u=0,f=0,m=.5;delete t.unknown;function h(){var p=e().length,y=i<n,w=y?i:n,b=y?n:i;a=(b-w)/Math.max(1,p-u+f*2),l&&(a=Math.floor(a)),w+=(b-w-a*(p-u))*m,o=a*(1-u),l&&(w=Math.round(w),o=Math.round(o));var v=Kpe(p).map(function(A){return w+a*A});return r(y?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(l=!!p,h()):l},t.padding=function(p){return arguments.length?(u=Math.min(1,f=+p),h()):u},t.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),h()):u},t.paddingOuter=function(p){return arguments.length?(f=+p,h()):f},t.align=function(p){return arguments.length?(m=Math.max(0,Math.min(1,p)),h()):m},t.copy=function(){return sp(e(),[n,i]).round(l).paddingInner(u).paddingOuter(f).align(m)},oa.apply(h(),arguments)}function pq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pq(e())},t}function Nm(){return pq(sp.apply(null,arguments).paddingInner(1))}function Xk(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function gq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ag(){}var op=.7,vx=1/op,Rd="\\s*([+-]?\\d+)\\s*",lp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ype=/^#([0-9a-f]{3,8})$/,Qpe=new RegExp(`^rgb\\(${Rd},${Rd},${Rd}\\)$`),Xpe=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),Jpe=new RegExp(`^rgba\\(${Rd},${Rd},${Rd},${lp}\\)$`),Zpe=new RegExp(`^rgba\\(${ps},${ps},${ps},${lp}\\)$`),ege=new RegExp(`^hsl\\(${lp},${ps},${ps}\\)$`),tge=new RegExp(`^hsla\\(${lp},${ps},${ps},${lp}\\)$`),SL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xk(ag,cp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jL,formatHex:jL,formatHex8:rge,formatHsl:nge,formatRgb:NL,toString:NL});function jL(){return this.rgb().formatHex()}function rge(){return this.rgb().formatHex8()}function nge(){return vq(this).formatHsl()}function NL(){return this.rgb().formatRgb()}function cp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ype.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?EL(e):r===3?new ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?zv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?zv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qpe.exec(t))?new ci(e[1],e[2],e[3],1):(e=Xpe.exec(t))?new ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jpe.exec(t))?zv(e[1],e[2],e[3],e[4]):(e=Zpe.exec(t))?zv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ege.exec(t))?PL(e[1],e[2]/100,e[3]/100,1):(e=tge.exec(t))?PL(e[1],e[2]/100,e[3]/100,e[4]):SL.hasOwnProperty(t)?EL(SL[t]):t==="transparent"?new ci(NaN,NaN,NaN,0):null}function EL(t){return new ci(t>>16&255,t>>8&255,t&255,1)}function zv(t,e,r,n){return n<=0&&(t=e=r=NaN),new ci(t,e,r,n)}function ige(t){return t instanceof ag||(t=cp(t)),t?(t=t.rgb(),new ci(t.r,t.g,t.b,t.opacity)):new ci}function OA(t,e,r,n){return arguments.length===1?ige(t):new ci(t,e,r,n??1)}function ci(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Xk(ci,OA,gq(ag,{brighter(t){return t=t==null?vx:Math.pow(vx,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?op:Math.pow(op,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ci(Qc(this.r),Qc(this.g),Qc(this.b),yx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AL,formatHex:AL,formatHex8:age,formatRgb:TL,toString:TL}));function AL(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}`}function age(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}${Fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function TL(){const t=yx(this.opacity);return`${t===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${t===1?")":`, ${t})`}`}function yx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fc(t){return t=Qc(t),(t<16?"0":"")+t.toString(16)}function PL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ca(t,e,r,n)}function vq(t){if(t instanceof Ca)return new Ca(t.h,t.s,t.l,t.opacity);if(t instanceof ag||(t=cp(t)),!t)return new Ca;if(t instanceof Ca)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,u=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ca(o,l,u,t.opacity)}function sge(t,e,r,n){return arguments.length===1?vq(t):new Ca(t,e,r,n??1)}function Ca(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Xk(Ca,sge,gq(ag,{brighter(t){return t=t==null?vx:Math.pow(vx,t),new Ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?op:Math.pow(op,t),new Ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ci(iN(t>=240?t-240:t+120,i,n),iN(t,i,n),iN(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ca(kL(this.h),qv(this.s),qv(this.l),yx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yx(this.opacity);return`${t===1?"hsl(":"hsla("}${kL(this.h)}, ${qv(this.s)*100}%, ${qv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function kL(t){return t=(t||0)%360,t<0?t+360:t}function qv(t){return Math.max(0,Math.min(1,t||0))}function iN(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Jk=t=>()=>t;function oge(t,e){return function(r){return t+r*e}}function lge(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function cge(t){return(t=+t)==1?yq:function(e,r){return r-e?lge(e,r,t):Jk(isNaN(e)?r:e)}}function yq(t,e){var r=e-t;return r?oge(t,r):Jk(isNaN(t)?e:t)}const CL=function t(e){var r=cge(e);function n(i,a){var o=r((i=OA(i)).r,(a=OA(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),f=yq(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=l(m),i.b=u(m),i.opacity=f(m),i+""}}return n.gamma=t,n}(1);function uge(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function dge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fge(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=eh(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function hge(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function mge(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=eh(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var RA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aN=new RegExp(RA.source,"g");function pge(t){return function(){return t}}function gge(t){return function(e){return t(e)+""}}function vge(t,e){var r=RA.lastIndex=aN.lastIndex=0,n,i,a,o=-1,l=[],u=[];for(t=t+"",e=e+"";(n=RA.exec(t))&&(i=aN.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:xx(n,i)})),r=aN.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?gge(u[0].x):pge(e):(e=u.length,function(f){for(var m=0,h;m<e;++m)l[(h=u[m]).i]=h.x(f);return l.join("")})}function eh(t,e){var r=typeof e,n;return e==null||r==="boolean"?Jk(e):(r==="number"?xx:r==="string"?(n=cp(e))?(e=n,CL):vge:e instanceof cp?CL:e instanceof Date?hge:dge(e)?uge:Array.isArray(e)?fge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mge:xx)(t,e)}function Zk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function yge(t,e){e===void 0&&(e=t,t=eh);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function xge(t){return function(){return t}}function bx(t){return+t}var IL=[0,1];function Gn(t){return t}function MA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:xge(isNaN(e)?NaN:.5)}function bge(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function wge(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=MA(i,n),a=r(o,a)):(n=MA(n,i),a=r(a,o)),function(l){return a(n(l))}}function _ge(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=MA(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var u=ig(t,l,1,n)-1;return a[u](i[u](l))}}function sg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function x0(){var t=IL,e=IL,r=eh,n,i,a,o=Gn,l,u,f;function m(){var p=Math.min(t.length,e.length);return o!==Gn&&(o=bge(t[0],t[p-1])),l=p>2?_ge:wge,u=f=null,h}function h(p){return p==null||isNaN(p=+p)?a:(u||(u=l(t.map(n),e,r)))(n(o(p)))}return h.invert=function(p){return o(i((f||(f=l(e,t.map(n),xx)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,bx),m()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),m()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=Zk,m()},h.clamp=function(p){return arguments.length?(o=p?!0:Gn,m()):o!==Gn},h.interpolate=function(p){return arguments.length?(r=p,m()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,y){return n=p,i=y,m()}}function eC(){return x0()(Gn,Gn)}function Sge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hf(t){return t=wx(Math.abs(t)),t?t[1]:NaN}function jge(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Nge(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Ege=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function up(t){if(!(e=Ege.exec(t)))throw new Error("invalid format: "+t);var e;return new tC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}up.prototype=tC.prototype;function tC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Age(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var xq;function Tge(t,e){var r=wx(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(xq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+wx(t,Math.max(0,e+a-1))[0]}function OL(t,e){var r=wx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const RL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Sge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OL(t*100,e),r:OL,s:Tge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ML(t){return t}var DL=Array.prototype.map,LL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Pge(t){var e=t.grouping===void 0||t.thousands===void 0?ML:jge(DL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ML:Nge(DL.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(h){h=up(h);var p=h.fill,y=h.align,w=h.sign,b=h.symbol,v=h.zero,A=h.width,E=h.comma,j=h.precision,N=h.trim,T=h.type;T==="n"?(E=!0,T="g"):RL[T]||(j===void 0&&(j=12),N=!0,T="g"),(v||p==="0"&&y==="=")&&(v=!0,p="0",y="=");var O=b==="$"?r:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",k=b==="$"?n:/[%p]/.test(T)?o:"",C=RL[T],M=/[defgprs%]/.test(T);j=j===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function F(D){var V=O,$=k,H,G,Q;if(T==="c")$=C(D)+$,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?u:C(Math.abs(D),j),N&&(D=Age(D)),Y&&+D==0&&w!=="+"&&(Y=!1),V=(Y?w==="("?w:l:w==="-"||w==="("?"":w)+V,$=(T==="s"?LL[8+xq/3]:"")+$+(Y&&w==="("?")":""),M){for(H=-1,G=D.length;++H<G;)if(Q=D.charCodeAt(H),48>Q||Q>57){$=(Q===46?i+D.slice(H+1):D.slice(H))+$,D=D.slice(0,H);break}}}E&&!v&&(D=e(D,1/0));var W=V.length+D.length+$.length,J=W<A?new Array(A-W+1).join(p):"";switch(E&&v&&(D=e(J+D,J.length?A-$.length:1/0),J=""),y){case"<":D=V+D+$+J;break;case"=":D=V+J+D+$;break;case"^":D=J.slice(0,W=J.length>>1)+V+D+$+J.slice(W);break;default:D=J+V+D+$;break}return a(D)}return F.toString=function(){return h+""},F}function m(h,p){var y=f((h=up(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(hf(p)/3)))*3,b=Math.pow(10,-w),v=LL[8+w/3];return function(A){return y(b*A)+v}}return{format:f,formatPrefix:m}}var Hv,rC,bq;kge({thousands:",",grouping:[3],currency:["$",""]});function kge(t){return Hv=Pge(t),rC=Hv.format,bq=Hv.formatPrefix,Hv}function Cge(t){return Math.max(0,-hf(Math.abs(t)))}function Ige(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hf(e)/3)))*3-hf(Math.abs(t)))}function Oge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hf(e)-hf(t))+1}function wq(t,e,r,n){var i=CA(t,e,r),a;switch(n=up(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Ige(i,o))&&(n.precision=a),bq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Oge(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Cge(i))&&(n.precision=a-(n.type==="%")*2);break}}return rC(n)}function Zl(t){var e=t.domain;return t.ticks=function(r){var n=e();return PA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return wq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],u,f,m=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);m-- >0;){if(f=kA(o,l,r),f===u)return n[i]=o,n[a]=l,e(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function _x(){var t=eC();return t.copy=function(){return sg(t,_x())},oa.apply(t,arguments),Zl(t)}function _q(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,bx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return _q(t).unknown(e)},t=arguments.length?Array.from(t,bx):[0,1],Zl(r)}function Sq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function $L(t){return Math.log(t)}function FL(t){return Math.exp(t)}function Rge(t){return-Math.log(-t)}function Mge(t){return-Math.exp(-t)}function Dge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lge(t){return t===10?Dge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $ge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function VL(t){return(e,r)=>-t(-e,r)}function nC(t){const e=t($L,FL),r=e.domain;let n=10,i,a;function o(){return i=$ge(n),a=Lge(n),r()[0]<0?(i=VL(i),a=VL(a),t(Rge,Mge)):t($L,FL),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const u=r();let f=u[0],m=u[u.length-1];const h=m<f;h&&([f,m]=[m,f]);let p=i(f),y=i(m),w,b;const v=l==null?10:+l;let A=[];if(!(n%1)&&y-p<v){if(p=Math.floor(p),y=Math.ceil(y),f>0){for(;p<=y;++p)for(w=1;w<n;++w)if(b=p<0?w/a(-p):w*a(p),!(b<f)){if(b>m)break;A.push(b)}}else for(;p<=y;++p)for(w=n-1;w>=1;--w)if(b=p>0?w/a(-p):w*a(p),!(b<f)){if(b>m)break;A.push(b)}A.length*2<v&&(A=PA(f,m,v))}else A=PA(p,y,Math.min(y-p,v)).map(a);return h?A.reverse():A},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=up(u)).precision==null&&(u.trim=!0),u=rC(u)),l===1/0)return u;const f=Math.max(1,n*l/e.ticks().length);return m=>{let h=m/a(Math.round(i(m)));return h*n<n-.5&&(h*=n),h<=f?u(m):""}},e.nice=()=>r(Sq(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function jq(){const t=nC(x0()).domain([1,10]);return t.copy=()=>sg(t,jq()).base(t.base()),oa.apply(t,arguments),t}function BL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iC(t){var e=1,r=t(BL(e),UL(e));return r.constant=function(n){return arguments.length?t(BL(e=+n),UL(e)):e},Zl(r)}function Nq(){var t=iC(x0());return t.copy=function(){return sg(t,Nq()).constant(t.constant())},oa.apply(t,arguments)}function zL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Fge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Vge(t){return t<0?-t*t:t*t}function aC(t){var e=t(Gn,Gn),r=1;function n(){return r===1?t(Gn,Gn):r===.5?t(Fge,Vge):t(zL(r),zL(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Zl(e)}function sC(){var t=aC(x0());return t.copy=function(){return sg(t,sC()).exponent(t.exponent())},oa.apply(t,arguments),t}function Bge(){return sC.apply(null,arguments).exponent(.5)}function qL(t){return Math.sign(t)*t*t}function Uge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Eq(){var t=eC(),e=[0,1],r=!1,n;function i(a){var o=Uge(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(qL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,bx)).map(qL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Eq(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},oa.apply(i,arguments),Zl(i)}function Aq(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Gpe(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[ig(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Il),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Aq().domain(t).range(e).unknown(n)},oa.apply(a,arguments)}function Tq(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[ig(n,u,0,r)]:a}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Tq().domain([t,e]).range(i).unknown(a)},oa.apply(Zl(o),arguments)}function Pq(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[ig(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Pq().domain(t).range(e).unknown(r)},oa.apply(i,arguments)}const sN=new Date,oN=new Date;function tn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return u},i.filter=a=>tn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(sN.setTime(+a),oN.setTime(+o),t(sN),t(oN),Math.floor(r(sN,oN))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Sx=tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sx);Sx.range;const ro=1e3,ta=ro*60,no=ta*60,xo=no*24,oC=xo*7,HL=xo*30,lN=xo*365,Vc=tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCSeconds());Vc.range;const lC=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getMinutes());lC.range;const cC=tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCMinutes());cC.range;const uC=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro-t.getMinutes()*ta)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getHours());uC.range;const dC=tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getUTCHours());dC.range;const og=tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ta)/xo,t=>t.getDate()-1);og.range;const b0=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xo,t=>t.getUTCDate()-1);b0.range;const kq=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xo,t=>Math.floor(t/xo));kq.range;function wu(t){return tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ta)/oC)}const w0=wu(0),jx=wu(1),zge=wu(2),qge=wu(3),mf=wu(4),Hge=wu(5),Wge=wu(6);w0.range;jx.range;zge.range;qge.range;mf.range;Hge.range;Wge.range;function _u(t){return tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/oC)}const _0=_u(0),Nx=_u(1),Gge=_u(2),Kge=_u(3),pf=_u(4),Yge=_u(5),Qge=_u(6);_0.range;Nx.range;Gge.range;Kge.range;pf.range;Yge.range;Qge.range;const fC=tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fC.range;const hC=tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hC.range;const bo=tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});bo.range;const wo=tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());wo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});wo.range;function Cq(t,e,r,n,i,a){const o=[[Vc,1,ro],[Vc,5,5*ro],[Vc,15,15*ro],[Vc,30,30*ro],[a,1,ta],[a,5,5*ta],[a,15,15*ta],[a,30,30*ta],[i,1,no],[i,3,3*no],[i,6,6*no],[i,12,12*no],[n,1,xo],[n,2,2*xo],[r,1,oC],[e,1,HL],[e,3,3*HL],[t,1,lN]];function l(f,m,h){const p=m<f;p&&([f,m]=[m,f]);const y=h&&typeof h.range=="function"?h:u(f,m,h),w=y?y.range(f,+m+1):[];return p?w.reverse():w}function u(f,m,h){const p=Math.abs(m-f)/h,y=Yk(([,,v])=>v).right(o,p);if(y===o.length)return t.every(CA(f/lN,m/lN,h));if(y===0)return Sx.every(Math.max(CA(f,m,h),1));const[w,b]=o[p/o[y-1][2]<o[y][2]/p?y-1:y];return w.every(b)}return[l,u]}const[Xge,Jge]=Cq(wo,hC,_0,kq,dC,cC),[Zge,eve]=Cq(bo,fC,w0,og,uC,lC);function cN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function tve(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,f=Qh(i),m=Xh(i),h=Qh(a),p=Xh(a),y=Qh(o),w=Xh(o),b=Qh(l),v=Xh(l),A=Qh(u),E=Xh(u),j={a:Y,A:W,b:J,B:ee,c:null,d:XL,e:XL,f:jve,g:Rve,G:Dve,H:wve,I:_ve,j:Sve,L:Iq,m:Nve,M:Eve,p:q,q:X,Q:e3,s:t3,S:Ave,u:Tve,U:Pve,V:kve,w:Cve,W:Ive,x:null,X:null,y:Ove,Y:Mve,Z:Lve,"%":ZL},N={a:se,A:xe,b:Ae,B:Te,c:null,d:JL,e:JL,f:Bve,g:Xve,G:Zve,H:$ve,I:Fve,j:Vve,L:Rq,m:Uve,M:zve,p:me,q:Pe,Q:e3,s:t3,S:qve,u:Hve,U:Wve,V:Gve,w:Kve,W:Yve,x:null,X:null,y:Qve,Y:Jve,Z:eye,"%":ZL},T={a:F,A:D,b:V,B:$,c:H,d:YL,e:YL,f:vve,g:KL,G:GL,H:QL,I:QL,j:hve,L:gve,m:fve,M:mve,p:M,q:dve,Q:xve,s:bve,S:pve,u:sve,U:ove,V:lve,w:ave,W:cve,x:G,X:Q,y:KL,Y:GL,Z:uve,"%":yve};j.x=O(r,j),j.X=O(n,j),j.c=O(e,j),N.x=O(r,N),N.X=O(n,N),N.c=O(e,N);function O(ue,ve){return function(_e){var le=[],Ye=-1,Ke=0,ut=ue.length,st,mt,lr;for(_e instanceof Date||(_e=new Date(+_e));++Ye<ut;)ue.charCodeAt(Ye)===37&&(le.push(ue.slice(Ke,Ye)),(mt=WL[st=ue.charAt(++Ye)])!=null?st=ue.charAt(++Ye):mt=st==="e"?" ":"0",(lr=ve[st])&&(st=lr(_e,mt)),le.push(st),Ke=Ye+1);return le.push(ue.slice(Ke,Ye)),le.join("")}}function k(ue,ve){return function(_e){var le=Yh(1900,void 0,1),Ye=C(le,ue,_e+="",0),Ke,ut;if(Ye!=_e.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ve&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ke=uN(Yh(le.y,0,1)),ut=Ke.getUTCDay(),Ke=ut>4||ut===0?Nx.ceil(Ke):Nx(Ke),Ke=b0.offset(Ke,(le.V-1)*7),le.y=Ke.getUTCFullYear(),le.m=Ke.getUTCMonth(),le.d=Ke.getUTCDate()+(le.w+6)%7):(Ke=cN(Yh(le.y,0,1)),ut=Ke.getDay(),Ke=ut>4||ut===0?jx.ceil(Ke):jx(Ke),Ke=og.offset(Ke,(le.V-1)*7),le.y=Ke.getFullYear(),le.m=Ke.getMonth(),le.d=Ke.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),ut="Z"in le?uN(Yh(le.y,0,1)).getUTCDay():cN(Yh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(ut+5)%7:le.w+le.U*7-(ut+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,uN(le)):cN(le)}}function C(ue,ve,_e,le){for(var Ye=0,Ke=ve.length,ut=_e.length,st,mt;Ye<Ke;){if(le>=ut)return-1;if(st=ve.charCodeAt(Ye++),st===37){if(st=ve.charAt(Ye++),mt=T[st in WL?ve.charAt(Ye++):st],!mt||(le=mt(ue,_e,le))<0)return-1}else if(st!=_e.charCodeAt(le++))return-1}return le}function M(ue,ve,_e){var le=f.exec(ve.slice(_e));return le?(ue.p=m.get(le[0].toLowerCase()),_e+le[0].length):-1}function F(ue,ve,_e){var le=y.exec(ve.slice(_e));return le?(ue.w=w.get(le[0].toLowerCase()),_e+le[0].length):-1}function D(ue,ve,_e){var le=h.exec(ve.slice(_e));return le?(ue.w=p.get(le[0].toLowerCase()),_e+le[0].length):-1}function V(ue,ve,_e){var le=A.exec(ve.slice(_e));return le?(ue.m=E.get(le[0].toLowerCase()),_e+le[0].length):-1}function $(ue,ve,_e){var le=b.exec(ve.slice(_e));return le?(ue.m=v.get(le[0].toLowerCase()),_e+le[0].length):-1}function H(ue,ve,_e){return C(ue,e,ve,_e)}function G(ue,ve,_e){return C(ue,r,ve,_e)}function Q(ue,ve,_e){return C(ue,n,ve,_e)}function Y(ue){return o[ue.getDay()]}function W(ue){return a[ue.getDay()]}function J(ue){return u[ue.getMonth()]}function ee(ue){return l[ue.getMonth()]}function q(ue){return i[+(ue.getHours()>=12)]}function X(ue){return 1+~~(ue.getMonth()/3)}function se(ue){return o[ue.getUTCDay()]}function xe(ue){return a[ue.getUTCDay()]}function Ae(ue){return u[ue.getUTCMonth()]}function Te(ue){return l[ue.getUTCMonth()]}function me(ue){return i[+(ue.getUTCHours()>=12)]}function Pe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ve=O(ue+="",j);return ve.toString=function(){return ue},ve},parse:function(ue){var ve=k(ue+="",!1);return ve.toString=function(){return ue},ve},utcFormat:function(ue){var ve=O(ue+="",N);return ve.toString=function(){return ue},ve},utcParse:function(ue){var ve=k(ue+="",!0);return ve.toString=function(){return ue},ve}}}var WL={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,rve=/^%/,nve=/[\\^$*+?|[\]().{}]/g;function Gt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function ive(t){return t.replace(nve,"\\$&")}function Qh(t){return new RegExp("^(?:"+t.map(ive).join("|")+")","i")}function Xh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ave(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function sve(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ove(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function lve(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function cve(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function GL(t,e,r){var n=dn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function KL(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uve(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dve(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function fve(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function YL(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function hve(t,e,r){var n=dn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function QL(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function mve(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function pve(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function gve(t,e,r){var n=dn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function vve(t,e,r){var n=dn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yve(t,e,r){var n=rve.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function xve(t,e,r){var n=dn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function bve(t,e,r){var n=dn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function XL(t,e){return Gt(t.getDate(),e,2)}function wve(t,e){return Gt(t.getHours(),e,2)}function _ve(t,e){return Gt(t.getHours()%12||12,e,2)}function Sve(t,e){return Gt(1+og.count(bo(t),t),e,3)}function Iq(t,e){return Gt(t.getMilliseconds(),e,3)}function jve(t,e){return Iq(t,e)+"000"}function Nve(t,e){return Gt(t.getMonth()+1,e,2)}function Eve(t,e){return Gt(t.getMinutes(),e,2)}function Ave(t,e){return Gt(t.getSeconds(),e,2)}function Tve(t){var e=t.getDay();return e===0?7:e}function Pve(t,e){return Gt(w0.count(bo(t)-1,t),e,2)}function Oq(t){var e=t.getDay();return e>=4||e===0?mf(t):mf.ceil(t)}function kve(t,e){return t=Oq(t),Gt(mf.count(bo(t),t)+(bo(t).getDay()===4),e,2)}function Cve(t){return t.getDay()}function Ive(t,e){return Gt(jx.count(bo(t)-1,t),e,2)}function Ove(t,e){return Gt(t.getFullYear()%100,e,2)}function Rve(t,e){return t=Oq(t),Gt(t.getFullYear()%100,e,2)}function Mve(t,e){return Gt(t.getFullYear()%1e4,e,4)}function Dve(t,e){var r=t.getDay();return t=r>=4||r===0?mf(t):mf.ceil(t),Gt(t.getFullYear()%1e4,e,4)}function Lve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gt(e/60|0,"0",2)+Gt(e%60,"0",2)}function JL(t,e){return Gt(t.getUTCDate(),e,2)}function $ve(t,e){return Gt(t.getUTCHours(),e,2)}function Fve(t,e){return Gt(t.getUTCHours()%12||12,e,2)}function Vve(t,e){return Gt(1+b0.count(wo(t),t),e,3)}function Rq(t,e){return Gt(t.getUTCMilliseconds(),e,3)}function Bve(t,e){return Rq(t,e)+"000"}function Uve(t,e){return Gt(t.getUTCMonth()+1,e,2)}function zve(t,e){return Gt(t.getUTCMinutes(),e,2)}function qve(t,e){return Gt(t.getUTCSeconds(),e,2)}function Hve(t){var e=t.getUTCDay();return e===0?7:e}function Wve(t,e){return Gt(_0.count(wo(t)-1,t),e,2)}function Mq(t){var e=t.getUTCDay();return e>=4||e===0?pf(t):pf.ceil(t)}function Gve(t,e){return t=Mq(t),Gt(pf.count(wo(t),t)+(wo(t).getUTCDay()===4),e,2)}function Kve(t){return t.getUTCDay()}function Yve(t,e){return Gt(Nx.count(wo(t)-1,t),e,2)}function Qve(t,e){return Gt(t.getUTCFullYear()%100,e,2)}function Xve(t,e){return t=Mq(t),Gt(t.getUTCFullYear()%100,e,2)}function Jve(t,e){return Gt(t.getUTCFullYear()%1e4,e,4)}function Zve(t,e){var r=t.getUTCDay();return t=r>=4||r===0?pf(t):pf.ceil(t),Gt(t.getUTCFullYear()%1e4,e,4)}function eye(){return"+0000"}function ZL(){return"%"}function e3(t){return+t}function t3(t){return Math.floor(+t/1e3)}var ld,Dq,Lq;tye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tye(t){return ld=tve(t),Dq=ld.format,ld.parse,Lq=ld.utcFormat,ld.utcParse,ld}function rye(t){return new Date(t)}function nye(t){return t instanceof Date?+t:+new Date(+t)}function mC(t,e,r,n,i,a,o,l,u,f){var m=eC(),h=m.invert,p=m.domain,y=f(".%L"),w=f(":%S"),b=f("%I:%M"),v=f("%I %p"),A=f("%a %d"),E=f("%b %d"),j=f("%B"),N=f("%Y");function T(O){return(u(O)<O?y:l(O)<O?w:o(O)<O?b:a(O)<O?v:n(O)<O?i(O)<O?A:E:r(O)<O?j:N)(O)}return m.invert=function(O){return new Date(h(O))},m.domain=function(O){return arguments.length?p(Array.from(O,nye)):p().map(rye)},m.ticks=function(O){var k=p();return t(k[0],k[k.length-1],O??10)},m.tickFormat=function(O,k){return k==null?T:f(k)},m.nice=function(O){var k=p();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?p(Sq(k,O)):m},m.copy=function(){return sg(m,mC(t,e,r,n,i,a,o,l,u,f))},m}function iye(){return oa.apply(mC(Zge,eve,bo,fC,w0,og,uC,lC,Vc,Dq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aye(){return oa.apply(mC(Xge,Jge,wo,hC,_0,b0,dC,cC,Vc,Lq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function S0(){var t=0,e=1,r,n,i,a,o=Gn,l=!1,u;function f(h){return h==null||isNaN(h=+h)?u:o(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(h){return arguments.length?(l=!!h,f):l},f.interpolator=function(h){return arguments.length?(o=h,f):o};function m(h){return function(p){var y,w;return arguments.length?([y,w]=p,o=h(y,w),f):[o(0),o(1)]}}return f.range=m(eh),f.rangeRound=m(Zk),f.unknown=function(h){return arguments.length?(u=h,f):u},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),f}}function ec(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $q(){var t=Zl(S0()(Gn));return t.copy=function(){return ec(t,$q())},Co.apply(t,arguments)}function Fq(){var t=nC(S0()).domain([1,10]);return t.copy=function(){return ec(t,Fq()).base(t.base())},Co.apply(t,arguments)}function Vq(){var t=iC(S0());return t.copy=function(){return ec(t,Vq()).constant(t.constant())},Co.apply(t,arguments)}function pC(){var t=aC(S0());return t.copy=function(){return ec(t,pC()).exponent(t.exponent())},Co.apply(t,arguments)}function sye(){return pC.apply(null,arguments).exponent(.5)}function Bq(){var t=[],e=Gn;function r(n){if(n!=null&&!isNaN(n=+n))return e((ig(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Il),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Wpe(t,a/n))},r.copy=function(){return Bq(e).domain(t)},Co.apply(r,arguments)}function j0(){var t=0,e=.5,r=1,n=1,i,a,o,l,u,f=Gn,m,h=!1,p;function y(b){return isNaN(b=+b)?p:(b=.5+((b=+m(b))-a)*(n*b<n*a?l:u),f(h?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,r]=b,i=m(t=+t),a=m(e=+e),o=m(r=+r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,y):[t,e,r]},y.clamp=function(b){return arguments.length?(h=!!b,y):h},y.interpolator=function(b){return arguments.length?(f=b,y):f};function w(b){return function(v){var A,E,j;return arguments.length?([A,E,j]=v,f=yge(b,[A,E,j]),y):[f(0),f(.5),f(1)]}}return y.range=w(eh),y.rangeRound=w(Zk),y.unknown=function(b){return arguments.length?(p=b,y):p},function(b){return m=b,i=b(t),a=b(e),o=b(r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,y}}function Uq(){var t=Zl(j0()(Gn));return t.copy=function(){return ec(t,Uq())},Co.apply(t,arguments)}function zq(){var t=nC(j0()).domain([.1,1,10]);return t.copy=function(){return ec(t,zq()).base(t.base())},Co.apply(t,arguments)}function qq(){var t=iC(j0());return t.copy=function(){return ec(t,qq()).constant(t.constant())},Co.apply(t,arguments)}function gC(){var t=aC(j0());return t.copy=function(){return ec(t,gC()).exponent(t.exponent())},Co.apply(t,arguments)}function oye(){return gC.apply(null,arguments).exponent(.5)}const r3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sp,scaleDiverging:Uq,scaleDivergingLog:zq,scaleDivergingPow:gC,scaleDivergingSqrt:oye,scaleDivergingSymlog:qq,scaleIdentity:_q,scaleImplicit:IA,scaleLinear:_x,scaleLog:jq,scaleOrdinal:Qk,scalePoint:Nm,scalePow:sC,scaleQuantile:Aq,scaleQuantize:Tq,scaleRadial:Eq,scaleSequential:$q,scaleSequentialLog:Fq,scaleSequentialPow:pC,scaleSequentialQuantile:Bq,scaleSequentialSqrt:sye,scaleSequentialSymlog:Vq,scaleSqrt:Bge,scaleSymlog:Nq,scaleThreshold:Pq,scaleTime:iye,scaleUtc:aye,tickFormat:wq},Symbol.toStringTag,{value:"Module"}));var dN,n3;function N0(){if(n3)return dN;n3=1;var t=Yf();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],u=n(l);if(u!=null&&(f===void 0?u===u&&!t(u):i(u,f)))var f=u,m=l}return m}return dN=e,dN}var fN,i3;function Hq(){if(i3)return fN;i3=1;function t(e,r){return e>r}return fN=t,fN}var hN,a3;function lye(){if(a3)return hN;a3=1;var t=N0(),e=Hq(),r=Zf();function n(i){return i&&i.length?t(i,r,e):void 0}return hN=n,hN}var cye=lye();const jl=er(cye);var mN,s3;function Wq(){if(s3)return mN;s3=1;function t(e,r){return e<r}return mN=t,mN}var pN,o3;function uye(){if(o3)return pN;o3=1;var t=N0(),e=Wq(),r=Zf();function n(i){return i&&i.length?t(i,r,e):void 0}return pN=n,pN}var dye=uye();const E0=er(dye);var gN,l3;function fye(){if(l3)return gN;l3=1;var t=Ck(),e=Cs(),r=eq(),n=hi();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return gN=i,gN}var vN,c3;function hye(){if(c3)return vN;c3=1;var t=Jz(),e=fye();function r(n,i){return t(e(n,i),1)}return vN=r,vN}var mye=hye();const pye=er(mye);var yN,u3;function gye(){if(u3)return yN;u3=1;var t=qk();function e(r,n){return t(r,n)}return yN=e,yN}var vye=gye();const gf=er(vye);var th=1e9,yye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yC,Er=!0,sa="[DecimalError] ",Xc=sa+"Invalid argument: ",vC=sa+"Exponent out of range: ",rh=Math.floor,Oc=Math.pow,xye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,ln=1e7,br=7,Gq=9007199254740991,Ex=rh(Gq/br),Be={};Be.absoluteValue=Be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Be.comparedTo=Be.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*br;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(t){return co(this,new this.constructor(t))};Be.dividedToIntegerBy=Be.idiv=function(t){var e=this,r=e.constructor;return or(co(e,new r(t),0,1),r.precision)};Be.equals=Be.eq=function(t){return!this.cmp(t)};Be.exponent=function(){return Hr(this)};Be.greaterThan=Be.gt=function(t){return this.cmp(t)>0};Be.greaterThanOrEqualTo=Be.gte=function(t){return this.cmp(t)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(t){return this.cmp(t)<0};Be.lessThanOrEqualTo=Be.lte=function(t){return this.cmp(t)<1};Be.logarithm=Be.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Pi))throw Error(sa+"NaN");if(r.s<1)throw Error(sa+(r.s?"NaN":"-Infinity"));return r.eq(Pi)?new n(0):(Er=!1,e=co(dp(r,a),dp(t,a),a),Er=!0,or(e,i))};Be.minus=Be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qq(e,t):Kq(e,(t.s=-t.s,t))};Be.modulo=Be.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(sa+"NaN");return r.s?(Er=!1,e=co(r,t,0,1).times(t),Er=!0,r.minus(e)):or(new n(r),i)};Be.naturalExponential=Be.exp=function(){return Yq(this)};Be.naturalLogarithm=Be.ln=function(){return dp(this)};Be.negated=Be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Be.plus=Be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Kq(e,t):Qq(e,(t.s=-t.s,t))};Be.precision=Be.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xc+t);if(e=Hr(i)+1,n=i.d.length-1,r=n*br+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Be.squareRoot=Be.sqrt=function(){var t,e,r,n,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(sa+"NaN")}for(t=Hr(l),Er=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=us(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=rh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus(co(l,a,o+2)).times(.5),us(a.d).slice(0,o)===(e=us(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(or(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Er=!0,or(n,r)};Be.times=Be.mul=function(t){var e,r,n,i,a,o,l,u,f,m=this,h=m.constructor,p=m.d,y=(t=new h(t)).d;if(!m.s||!t.s)return new h(0);for(t.s*=m.s,r=m.e+t.e,u=p.length,f=y.length,u<f&&(a=p,p=y,y=a,o=u,u=f,f=o),a=[],o=u+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+y[n]*p[i-n-1]+e,a[i--]=l%ln|0,e=l/ln|0;a[i]=(a[i]+e)%ln|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Er?or(t,h.precision):t};Be.toDecimalPlaces=Be.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(js(t,0,th),e===void 0?e=n.rounding:js(e,0,8),or(r,t+Hr(r)+1,e))};Be.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=uu(n,!0):(js(t,0,th),e===void 0?e=i.rounding:js(e,0,8),n=or(new i(n),t+1,e),r=uu(n,!0,t+1)),r};Be.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?uu(i):(js(t,0,th),e===void 0?e=a.rounding:js(e,0,8),n=or(new a(i),t+Hr(i)+1,e),r=uu(n.abs(),!1,t+Hr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var t=this,e=t.constructor;return or(new e(t),Hr(t)+1,e.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(t){var e,r,n,i,a,o,l=this,u=l.constructor,f=12,m=+(t=new u(t));if(!t.s)return new u(Pi);if(l=new u(l),!l.s){if(t.s<1)throw Error(sa+"Infinity");return l}if(l.eq(Pi))return l;if(n=u.precision,t.eq(Pi))return or(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=m<0?-m:m)<=Gq){for(i=new u(Pi),e=Math.ceil(n/br+4),Er=!1;r%2&&(i=i.times(l),f3(i.d,e)),r=rh(r/2),r!==0;)l=l.times(l),f3(l.d,e);return Er=!0,t.s<0?new u(Pi).div(i):or(i,n)}}else if(a<0)throw Error(sa+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Er=!1,i=t.times(dp(l,n+f)),Er=!0,i=Yq(i),i.s=a,i};Be.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Hr(i),n=uu(i,r<=a.toExpNeg||r>=a.toExpPos)):(js(t,1,th),e===void 0?e=a.rounding:js(e,0,8),i=or(new a(i),t,e),r=Hr(i),n=uu(i,t<=r||r<=a.toExpNeg,t)),n};Be.toSignificantDigits=Be.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(js(t,1,th),e===void 0?e=n.rounding:js(e,0,8)),or(new n(r),t,e)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hr(t),r=t.constructor;return uu(t,e<=r.toExpNeg||e>=r.toExpPos)};function Kq(t,e){var r,n,i,a,o,l,u,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Er?or(e,h):e;if(u=t.d,f=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,l=f.length):(n=f,i=o,l=u.length),o=Math.ceil(h/br),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,n=f,f=u,u=n),r=0;a;)r=(u[--a]=u[a]+f[a]+r)/ln|0,u[a]%=ln;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,Er?or(e,h):e}function js(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Xc+t)}function us(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=br-n.length,r&&(a+=dl(r)),a+=n;o=t[e],n=o+"",r=br-n.length,r&&(a+=dl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var co=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%ln|0,o=a/ln|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ln+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,u,f,m,h,p,y,w,b,v,A,E,j,N,T,O,k,C,M=n.constructor,F=n.s==i.s?1:-1,D=n.d,V=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(sa+"Division by zero");for(u=n.e-i.e,k=V.length,T=D.length,y=new M(F),w=y.d=[],f=0;V[f]==(D[f]||0);)++f;if(V[f]>(D[f]||0)&&--u,a==null?E=a=M.precision:o?E=a+(Hr(n)-Hr(i))+1:E=a,E<0)return new M(0);if(E=E/br+2|0,f=0,k==1)for(m=0,V=V[0],E++;(f<T||m)&&E--;f++)j=m*ln+(D[f]||0),w[f]=j/V|0,m=j%V|0;else{for(m=ln/(V[0]+1)|0,m>1&&(V=t(V,m),D=t(D,m),k=V.length,T=D.length),N=k,b=D.slice(0,k),v=b.length;v<k;)b[v++]=0;C=V.slice(),C.unshift(0),O=V[0],V[1]>=ln/2&&++O;do m=0,l=e(V,b,k,v),l<0?(A=b[0],k!=v&&(A=A*ln+(b[1]||0)),m=A/O|0,m>1?(m>=ln&&(m=ln-1),h=t(V,m),p=h.length,v=b.length,l=e(h,b,p,v),l==1&&(m--,r(h,k<p?C:V,p))):(m==0&&(l=m=1),h=V.slice()),p=h.length,p<v&&h.unshift(0),r(b,h,v),l==-1&&(v=b.length,l=e(V,b,k,v),l<1&&(m++,r(b,k<v?C:V,v))),v=b.length):l===0&&(m++,b=[0]),w[f++]=m,l&&b[0]?b[v++]=D[N]||0:(b=[D[N]],v=1);while((N++<T||b[0]!==void 0)&&E--)}return w[0]||w.shift(),y.e=u,or(y,o?a+Hr(y)+1:a)}}();function Yq(t,e){var r,n,i,a,o,l,u=0,f=0,m=t.constructor,h=m.precision;if(Hr(t)>16)throw Error(vC+Hr(t));if(!t.s)return new m(Pi);for(Er=!1,l=h,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(Oc(2,f))/Math.LN10*2+5|0,l+=n,r=i=a=new m(Pi),m.precision=l;;){if(i=or(i.times(t),l),r=r.times(++u),o=a.plus(co(i,r,l)),us(o.d).slice(0,l)===us(a.d).slice(0,l)){for(;f--;)a=or(a.times(a),l);return m.precision=h,e==null?(Er=!0,or(a,h)):a}a=o}}function Hr(t){for(var e=t.e*br,r=t.d[0];r>=10;r/=10)e++;return e}function xN(t,e,r){if(e>t.LN10.sd())throw Er=!0,r&&(t.precision=r),Error(sa+"LN10 precision limit exceeded");return or(new t(t.LN10),e)}function dl(t){for(var e="";t--;)e+="0";return e}function dp(t,e){var r,n,i,a,o,l,u,f,m,h=1,p=10,y=t,w=y.d,b=y.constructor,v=b.precision;if(y.s<1)throw Error(sa+(y.s?"NaN":"-Infinity"));if(y.eq(Pi))return new b(0);if(e==null?(Er=!1,f=v):f=e,y.eq(10))return e==null&&(Er=!0),xN(b,f);if(f+=p,b.precision=f,r=us(w),n=r.charAt(0),a=Hr(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=us(y.d),n=r.charAt(0),h++;a=Hr(y),n>1?(y=new b("0."+r),a++):y=new b(n+"."+r.slice(1))}else return u=xN(b,f+2,v).times(a+""),y=dp(new b(n+"."+r.slice(1)),f-p).plus(u),b.precision=v,e==null?(Er=!0,or(y,v)):y;for(l=o=y=co(y.minus(Pi),y.plus(Pi),f),m=or(y.times(y),f),i=3;;){if(o=or(o.times(m),f),u=l.plus(co(o,new b(i),f)),us(u.d).slice(0,f)===us(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(xN(b,f+2,v).times(a+""))),l=co(l,new b(h),f),b.precision=v,e==null?(Er=!0,or(l,v)):l;l=u,i+=2}}function d3(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=rh(r/br),t.d=[],n=(r+1)%br,r<0&&(n+=br),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=br;n<i;)t.d.push(+e.slice(n,n+=br));e=e.slice(n),n=br-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Er&&(t.e>Ex||t.e<-Ex))throw Error(vC+r)}else t.s=0,t.e=0,t.d=[0];return t}function or(t,e,r){var n,i,a,o,l,u,f,m,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=br,i=e,f=h[m=0];else{if(m=Math.ceil((n+1)/br),a=h.length,m>=a)return t;for(f=a=h[m],o=1;a>=10;a/=10)o++;n%=br,i=n-br+o}if(r!==void 0&&(a=Oc(10,o-i-1),l=f/a%10|0,u=e<0||h[m+1]!==void 0||f%a,u=r<4?(l||u)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?f/Oc(10,o-i):0:h[m-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return u?(a=Hr(t),h.length=1,e=e-a-1,h[0]=Oc(10,(br-e%br)%br),t.e=rh(-e/br)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=m,a=1,m--):(h.length=m+1,a=Oc(10,br-n),h[m]=i>0?(f/Oc(10,o-i)%Oc(10,i)|0)*a:0),u)for(;;)if(m==0){(h[0]+=a)==ln&&(h[0]=1,++t.e);break}else{if(h[m]+=a,h[m]!=ln)break;h[m--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Er&&(t.e>Ex||t.e<-Ex))throw Error(vC+Hr(t));return t}function Qq(t,e){var r,n,i,a,o,l,u,f,m,h,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Er?or(e,y):e;if(u=t.d,h=e.d,n=e.e,f=t.e,u=u.slice(),o=f-n,o){for(m=o<0,m?(r=u,o=-o,l=h.length):(r=h,n=f,l=u.length),i=Math.max(Math.ceil(y/br),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=h.length,m=i<l,m&&(l=i),i=0;i<l;i++)if(u[i]!=h[i]){m=u[i]<h[i];break}o=0}for(m&&(r=u,u=h,h=r,e.s=-e.s),l=u.length,i=h.length-l;i>0;--i)u[l++]=0;for(i=h.length;i>o;){if(u[--i]<h[i]){for(a=i;a&&u[--a]===0;)u[a]=ln-1;--u[a],u[i]+=ln}u[i]-=h[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Er?or(e,y):e):new p(0)}function uu(t,e,r){var n,i=Hr(t),a=us(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+dl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+dl(-i-1)+a,r&&(n=r-o)>0&&(a+=dl(n))):i>=o?(a+=dl(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+dl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=dl(n))),t.s<0?"-"+a:a}function f3(t,e){if(t.length>e)return t.length=e,!0}function Xq(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return d3(o,a.toString())}else if(typeof a!="string")throw Error(Xc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,xye.test(a))d3(o,a);else throw Error(Xc+a)}if(i.prototype=Be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xq,i.config=i.set=bye,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function bye(t){if(!t||typeof t!="object")throw Error(sa+"Object expected");var e,r,n,i=["precision",1,th,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(rh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Xc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xc+r+": "+n);return this}var yC=Xq(yye);Pi=new yC(1);const nr=yC;function wye(t){return Nye(t)||jye(t)||Sye(t)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sye(t,e){if(t){if(typeof t=="string")return DA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(t,e)}}function jye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nye(t){if(Array.isArray(t))return DA(t)}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Eye=function(e){return e},Jq={},Zq=function(e){return e===Jq},h3=function(e){return function r(){return arguments.length===0||arguments.length===1&&Zq(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Aye=function t(e,r){return e===1?r:h3(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==Jq}).length;return o>=e?r.apply(void 0,i):t(e-o,h3(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var m=i.map(function(h){return Zq(h)?u.shift():h});return r.apply(void 0,wye(m).concat(u))}))})},A0=function(e){return Aye(e.length,e)},LA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Tye=A0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Pye=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Eye;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,u){return u(l)},a.apply(void 0,arguments))}},$A=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},eH=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,u){return l===r[u]})||(r=a,n=e.apply(void 0,a)),n}};function kye(t){var e;return t===0?e=1:e=Math.floor(new nr(t).abs().log(10).toNumber())+1,e}function Cye(t,e,r){for(var n=new nr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Iye=A0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Oye=A0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Rye=A0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const T0={rangeStep:Cye,getDigitCount:kye,interpolateNumber:Iye,uninterpolateNumber:Oye,uninterpolateTruncation:Rye};function FA(t){return Lye(t)||Dye(t)||tH(t)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lye(t){if(Array.isArray(t))return VA(t)}function fp(t,e){return Vye(t)||Fye(t,e)||tH(t,e)||$ye()}function $ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(t,e){if(t){if(typeof t=="string")return VA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VA(t,e)}}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,a=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Vye(t){if(Array.isArray(t))return t}function rH(t){var e=fp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function nH(t,e,r){if(t.lte(0))return new nr(0);var n=T0.getDigitCount(t.toNumber()),i=new nr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new nr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=l.mul(i);return e?u:new nr(Math.ceil(u))}function Bye(t,e,r){var n=1,i=new nr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new nr(10).pow(T0.getDigitCount(t)-1),i=new nr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new nr(Math.floor(t)))}else t===0?i=new nr(Math.floor((e-1)/2)):r||(i=new nr(Math.floor(t)));var o=Math.floor((e-1)/2),l=Pye(Tye(function(u){return i.add(new nr(u-o).mul(n)).toNumber()}),LA);return l(0,e)}function iH(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var a=nH(new nr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new nr(0):(o=new nr(t).add(e).div(2),o=o.sub(new nr(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),u=Math.ceil(new nr(e).sub(o).div(a).toNumber()),f=l+u+1;return f>r?iH(t,e,r,n,i+1):(f<r&&(u=e>0?u+(r-f):u,l=e>0?l:l+(r-f)),{step:a,tickMin:o.sub(new nr(l).mul(a)),tickMax:o.add(new nr(u).mul(a))})}function Uye(t){var e=fp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=rH([r,n]),u=fp(l,2),f=u[0],m=u[1];if(f===-1/0||m===1/0){var h=m===1/0?[f].concat(FA(LA(0,i-1).map(function(){return 1/0}))):[].concat(FA(LA(0,i-1).map(function(){return-1/0})),[m]);return r>n?$A(h):h}if(f===m)return Bye(f,i,a);var p=iH(f,m,o,a),y=p.step,w=p.tickMin,b=p.tickMax,v=T0.rangeStep(w,b.add(new nr(.1).mul(y)),y);return r>n?$A(v):v}function zye(t,e){var r=fp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=rH([n,i]),l=fp(o,2),u=l[0],f=l[1];if(u===-1/0||f===1/0)return[n,i];if(u===f)return[u];var m=Math.max(e,2),h=nH(new nr(f).sub(u).div(m-1),a,0),p=[].concat(FA(T0.rangeStep(new nr(u),new nr(f).sub(new nr(.99).mul(h)),h)),[f]);return n>i?$A(p):p}var qye=eH(Uye),Hye=eH(zye),Wye="Invariant failed";function du(t,e){throw new Error(Wye)}var Gye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ax.apply(this,arguments)}function Kye(t,e){return Jye(t)||Xye(t,e)||Qye(t,e)||Yye()}function Yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(t,e){if(t){if(typeof t=="string")return m3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(t,e)}}function m3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Jye(t){if(Array.isArray(t))return t}function Zye(t,e){if(t==null)return{};var r=exe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function exe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oH(n.key),n)}}function nxe(t,e,r){return e&&rxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ixe(t,e,r){return e=Tx(e),axe(t,aH()?Reflect.construct(e,r||[],Tx(t).constructor):e.apply(t,r))}function axe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sxe(t)}function sxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(t)}function oxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BA(t,e)}function sH(t,e,r){return e=oH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oH(t){var e=lxe(t,"string");return vf(e)=="symbol"?e:e+""}function lxe(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P0=function(t){function e(){return txe(this,e),ixe(this,e,arguments)}return oxe(e,t),nxe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,u=n.data,f=n.dataPointFormatter,m=n.xAxis,h=n.yAxis,p=Zye(n,Gye),y=Xe(p,!1);this.props.direction==="x"&&m.type!=="number"&&du();var w=u.map(function(b){var v=f(b,l),A=v.x,E=v.y,j=v.value,N=v.errorVal;if(!N)return null;var T=[],O,k;if(Array.isArray(N)){var C=Kye(N,2);O=C[0],k=C[1]}else O=k=N;if(a==="vertical"){var M=m.scale,F=E+i,D=F+o,V=F-o,$=M(j-O),H=M(j+k);T.push({x1:H,y1:D,x2:H,y2:V}),T.push({x1:$,y1:F,x2:H,y2:F}),T.push({x1:$,y1:D,x2:$,y2:V})}else if(a==="horizontal"){var G=h.scale,Q=A+i,Y=Q-o,W=Q+o,J=G(j-O),ee=G(j+k);T.push({x1:Y,y1:ee,x2:W,y2:ee}),T.push({x1:Q,y1:J,x2:Q,y2:ee}),T.push({x1:Y,y1:J,x2:W,y2:J})}return U.createElement(Ut,Ax({className:"recharts-errorBar",key:"bar-".concat(T.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},y),T.map(function(q){return U.createElement("line",Ax({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return U.createElement(Ut,{className:"recharts-errorBars"},w)}}])}(U.Component);sH(P0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sH(P0,"displayName","ErrorBar");function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function p3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(r),!0).forEach(function(n){cxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cxe(t,e,r){return e=uxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uxe(t){var e=dxe(t,"string");return hp(e)=="symbol"?e:e+""}function dxe(t,e){if(hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lH=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ni(r,Cl);if(!o)return null;var l=Cl.defaultProps,u=l!==void 0?Tc(Tc({},l),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(n||[]).reduce(function(m,h){var p=h.item,y=h.props,w=y.sectors||y.data||[];return m.concat(w.map(function(b){return{type:o.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(n||[]).map(function(m){var h=m.item,p=h.type.defaultProps,y=p!==void 0?Tc(Tc({},p),h.props):{},w=y.dataKey,b=y.name,v=y.legendType,A=y.hide;return{inactive:A,dataKey:w,type:u.iconType||v||"square",color:xC(h),value:b||w,payload:y}}),Tc(Tc(Tc({},u),Cl.getWithHeight(o,i)),{},{payload:f,item:o})};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function g3(t){return pxe(t)||mxe(t)||hxe(t)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hxe(t,e){if(t){if(typeof t=="string")return UA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(t,e)}}function mxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pxe(t){if(Array.isArray(t))return UA(t)}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){Md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Md(t,e,r){return e=gxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gxe(t){var e=vxe(t,"string");return mp(e)=="symbol"?e:e+""}function vxe(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jr(t,e,r){return xt(t)||xt(e)?r:Zr(e)?Di(t,e,r):ft(e)?e(t):r}function Em(t,e,r,n){var i=pye(t,function(l){return Jr(l,e)});if(r==="number"){var a=i.filter(function(l){return Ne(l)||parseFloat(l)});return a.length?[E0(a),jl(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!xt(l)}):i;return o.map(function(l){return Zr(l)||l instanceof Date?l:""})}var yxe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,f=0;f<l;f++){var m=f>0?i[f-1].coordinate:i[l-1].coordinate,h=i[f].coordinate,p=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(Hn(h-m)!==Hn(p-h)){var w=[];if(Hn(p-h)===Hn(u[1]-u[0])){y=p;var b=h+u[1]-u[0];w[0]=Math.min(b,(b+m)/2),w[1]=Math.max(b,(b+m)/2)}else{y=m;var v=p+u[1]-u[0];w[0]=Math.min(h,(v+h)/2),w[1]=Math.max(h,(v+h)/2)}var A=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>A[0]&&e<=A[1]||e>=w[0]&&e<=w[1]){o=i[f].index;break}}else{var E=Math.min(m,p),j=Math.max(m,p);if(e>(E+h)/2&&e<=(j+h)/2){o=i[f].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},xC=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,u;switch(i){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},xxe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),u=0,f=l.length;u<f;u++)for(var m=a[l[u]].stackGroups,h=Object.keys(m),p=0,y=h.length;p<y;p++){var w=m[h[p]],b=w.items,v=w.cateAxisId,A=b.filter(function(k){return lo(k.type).indexOf("Bar")>=0});if(A&&A.length){var E=A[0].type.defaultProps,j=E!==void 0?Dr(Dr({},E),A[0].props):A[0].props,N=j.barSize,T=j[v];o[T]||(o[T]=[]);var O=xt(N)?r:N;o[T].push({item:A[0],stackList:A.slice(1),barSize:xt(O)?void 0:Wn(O,n,0)})}}return o},bxe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,u=o.length;if(u<1)return null;var f=Wn(r,i,0,!0),m,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,y=i/u,w=o.reduce(function(N,T){return N+T.barSize||0},0);w+=(u-1)*f,w>=i&&(w-=(u-1)*f,f=0),w>=i&&y>0&&(p=!0,y*=.9,w=u*y);var b=(i-w)/2>>0,v={offset:b-f,size:0};m=o.reduce(function(N,T){var O={item:T.item,position:{offset:v.offset+v.size+f,size:p?y:T.barSize}},k=[].concat(g3(N),[O]);return v=k[k.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(C){k.push({item:C,position:v})}),k},h)}else{var A=Wn(n,i,0,!0);i-2*A-(u-1)*f<=0&&(f=0);var E=(i-2*A-(u-1)*f)/u;E>1&&(E>>=0);var j=l===+l?Math.min(E,l):E;m=o.reduce(function(N,T,O){var k=[].concat(g3(N),[{item:T.item,position:{offset:A+(E+f)*O+(E-j)/2,size:j}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},h)}return m},wxe=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),f=lH({children:a,legendWidth:u});if(f){var m=i||{},h=m.width,p=m.height,y=f.align,w=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&w==="middle")&&y!=="center"&&Ne(e[y]))return Dr(Dr({},e),{},Md({},y,e[y]+(h||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&w!=="middle"&&Ne(e[w]))return Dr(Dr({},e),{},Md({},w,e[w]+(p||0)))}return e},_xe=function(e,r,n){return xt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},cH=function(e,r,n,i,a){var o=r.props.children,l=ia(o,P0).filter(function(f){return _xe(i,a,f.props.direction)});if(l&&l.length){var u=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,m){var h=Jr(m,n);if(xt(h))return f;var p=Array.isArray(h)?[E0(h),jl(h)]:[h,h],y=u.reduce(function(w,b){var v=Jr(m,b,0),A=p[0]-Math.abs(Array.isArray(v)?v[0]:v),E=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(A,w[0]),Math.max(E,w[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},Sxe=function(e,r,n,i,a){var o=r.map(function(l){return cH(e,l,n,a,i)}).filter(function(l){return!xt(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},uH=function(e,r,n,i,a){var o=r.map(function(u){var f=u.props.dataKey;return n==="number"&&f&&cH(e,u,f,i)||Em(e,f,n,a)});if(n==="number")return o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,f){for(var m=0,h=f.length;m<h;m++)l[f[m]]||(l[f[m]]=!0,u.push(f[m]));return u},[])},dH=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},fH=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var a,o,l=e.map(function(u){return u.coordinate===r&&(a=!0),u.coordinate===n&&(o=!0),u.coordinate});return a||l.push(r),o||l.push(n),l},io=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/u:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Hn(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:i(p)+f,value:h,offset:f}});return m.filter(function(h){return!Xf(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+f,value:h,index:p,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,p){return{coordinate:i(h)+f,value:a?a[h]:h,index:p,offset:f}})},bN=new WeakMap,Wv=function(e,r){if(typeof r!="function")return e;bN.has(e)||bN.set(e,new WeakMap);var n=bN.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},hH=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:sp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:_x(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nm(),realScaleType:"point"}:a==="category"?{scale:sp(),realScaleType:"band"}:{scale:_x(),realScaleType:"linear"};if(rg(i)){var u="scale".concat(d0(i));return{scale:(r3[u]||Nm)(),realScaleType:r3[u]?u:"point"}}return ft(i)?{scale:i}:{scale:Nm(),realScaleType:"point"}},y3=1e-4,mH=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-y3,o=Math.max(i[0],i[1])+y3,l=e(r[0]),u=e(r[n-1]);(l<a||l>o||u<a||u>o)&&e.domain([r[0],r[n-1]])}},jxe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Nxe=function(e,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ne(e[0])||e[0]<n)&&(a[0]=n),(!Ne(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Exe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var u=Xf(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},Axe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=Xf(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Txe={sign:Exe,expand:pfe,none:lf,silhouette:gfe,wiggle:vfe,positive:Axe},Pxe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=Txe[n],o=mfe().keys(i).value(function(l,u){return+Jr(l,u,0)}).order(yA).offset(a);return o(e)},kxe=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,u={},f=l.reduce(function(h,p){var y,w=(y=p.type)!==null&&y!==void 0&&y.defaultProps?Dr(Dr({},p.type.defaultProps),p.props):p.props,b=w.stackId,v=w.hide;if(v)return h;var A=w[n],E=h[A]||{hasStack:!1,stackGroups:{}};if(Zr(b)){var j=E.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};j.items.push(p),E.hasStack=!0,E.stackGroups[b]=j}else E.stackGroups[Jf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Dr(Dr({},h),{},Md({},A,E))},u),m={};return Object.keys(f).reduce(function(h,p){var y=f[p];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,v){var A=y.stackGroups[v];return Dr(Dr({},b),{},Md({},v,{numericAxisId:n,cateAxisId:i,items:A.items,stackedData:Pxe(e,A.items,a)}))},w)}return Dr(Dr({},h),{},Md({},p,y))},m)},pH=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var m=qye(f,a,l);return e.domain([E0(m),jl(m)]),{niceTicks:m}}if(a&&i==="number"){var h=e.domain(),p=Hye(h,a,l);return{niceTicks:p}}return null};function x3(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xt(i[e.dataKey])){var l=ix(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var u=Jr(i,xt(o)?e.dataKey:o);return xt(u)?null:e.scale(u)}var b3=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var u=Jr(o,r.dataKey,r.domain[l]);return xt(u)?null:r.scale(u)-a/2+i},Cxe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Ixe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Zr(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Oxe=function(e){return e.reduce(function(r,n){return[E0(n.concat([r[0]]).filter(Ne)),jl(n.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},gH=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,u=l.reduce(function(f,m){var h=Oxe(m.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},w3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zA=function(e,r,n){if(ft(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ne(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(w3.test(e[0])){var a=+w3.exec(e[0])[1];i[0]=r[0]-a}else ft(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ne(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(_3.test(e[1])){var o=+_3.exec(e[1])[1];i[1]=r[1]+o}else ft(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Px=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Wk(r,function(h){return h.coordinate}),o=1/0,l=1,u=a.length;l<u;l++){var f=a[l],m=a[l-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},S3=function(e,r,n){return!e||!e.length||gf(e,Di(n,"type.defaultProps.domain"))?r:e},vH=function(e,r){var n=e.type.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,f=n.chartType,m=n.hide;return Dr(Dr({},Xe(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:xC(e),value:Jr(r,i),type:u,payload:r,chartType:f,hide:m})};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function j3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(r),!0).forEach(function(n){yH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yH(t,e,r){return e=Rxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rxe(t){var e=Mxe(t,"string");return pp(e)=="symbol"?e:e+""}function Mxe(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dxe(t,e){return Vxe(t)||Fxe(t,e)||$xe(t,e)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $xe(t,e){if(t){if(typeof t=="string")return N3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(t,e)}}function N3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Vxe(t){if(Array.isArray(t))return t}var kx=Math.PI/180,Bxe=function(e){return e*180/Math.PI},mr=function(e,r,n,i){return{x:e+Math.cos(-kx*i)*n,y:r+Math.sin(-kx*i)*n}},xH=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Uxe=function(e,r,n,i,a){var o=e.width,l=e.height,u=e.startAngle,f=e.endAngle,m=Wn(e.cx,o,o/2),h=Wn(e.cy,l,l/2),p=xH(o,l,n),y=Wn(e.innerRadius,p,0),w=Wn(e.outerRadius,p,p*.8),b=Object.keys(r);return b.reduce(function(v,A){var E=r[A],j=E.domain,N=E.reversed,T;if(xt(E.range))i==="angleAxis"?T=[u,f]:i==="radiusAxis"&&(T=[y,w]),N&&(T=[T[1],T[0]]);else{T=E.range;var O=T,k=Dxe(O,2);u=k[0],f=k[1]}var C=hH(E,a),M=C.realScaleType,F=C.scale;F.domain(j).range(T),mH(F);var D=pH(F,Xs(Xs({},E),{},{realScaleType:M})),V=Xs(Xs(Xs({},E),D),{},{range:T,radius:w,realScaleType:M,scale:F,cx:m,cy:h,innerRadius:y,outerRadius:w,startAngle:u,endAngle:f});return Xs(Xs({},v),{},yH({},A,V))},{})},zxe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},qxe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=zxe({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var u=(n-a)/l,f=Math.acos(u);return i>o&&(f=2*Math.PI-f),{radius:l,angle:Bxe(f),angleInRadian:f}},Hxe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Wxe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},E3=function(e,r){var n=e.x,i=e.y,a=qxe({x:n,y:i},r),o=a.radius,l=a.angle,u=r.innerRadius,f=r.outerRadius;if(o<u||o>f)return!1;if(o===0)return!0;var m=Hxe(r),h=m.startAngle,p=m.endAngle,y=l,w;if(h<=p){for(;y>p;)y-=360;for(;y<h;)y+=360;w=y>=h&&y<=p}else{for(;y>h;)y-=360;for(;y<p;)y+=360;w=y>=p&&y<=h}return w?Xs(Xs({},r),{},{radius:o,angle:Wxe(y,r)}):null},bH=function(e){return!S.isValidElement(e)&&!ft(e)&&typeof e!="boolean"?e.className:""};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}var Gxe=["offset"];function Kxe(t){return Jxe(t)||Xxe(t)||Qxe(t)||Yxe()}function Yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxe(t,e){if(t){if(typeof t=="string")return qA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(t,e)}}function Xxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jxe(t){if(Array.isArray(t))return qA(t)}function qA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zxe(t,e){if(t==null)return{};var r=ebe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ebe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(r),!0).forEach(function(n){tbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tbe(t,e,r){return e=rbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rbe(t){var e=nbe(t,"string");return gp(e)=="symbol"?e:e+""}function nbe(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vp.apply(this,arguments)}var ibe=function(e){var r=e.value,n=e.formatter,i=xt(e.children)?r:e.children;return ft(n)?n(i):i},abe=function(e,r){var n=Hn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},sbe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,u=a,f=u.cx,m=u.cy,h=u.innerRadius,p=u.outerRadius,y=u.startAngle,w=u.endAngle,b=u.clockWise,v=(h+p)/2,A=abe(y,w),E=A>=0?1:-1,j,N;i==="insideStart"?(j=y+E*o,N=b):i==="insideEnd"?(j=w-E*o,N=!b):i==="end"&&(j=w+E*o,N=b),N=A<=0?N:!N;var T=mr(f,m,v,j),O=mr(f,m,v,j+(N?1:-1)*359),k="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),C=xt(e.id)?Jf("recharts-radial-line-"):e.id;return U.createElement("text",vp({},n,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:C,d:k})),U.createElement("textPath",{xlinkHref:"#".concat(C)},r))},obe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,u=a.innerRadius,f=a.outerRadius,m=a.startAngle,h=a.endAngle,p=(m+h)/2;if(i==="outside"){var y=mr(o,l,f+n,p),w=y.x,b=y.y;return{x:w,y:b,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(u+f)/2,A=mr(o,l,v,p),E=A.x,j=A.y;return{x:E,y:j,textAnchor:"middle",verticalAnchor:"middle"}},lbe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,u=o.y,f=o.width,m=o.height,h=m>=0?1:-1,p=h*i,y=h>0?"end":"start",w=h>0?"start":"end",b=f>=0?1:-1,v=b*i,A=b>0?"end":"start",E=b>0?"start":"end";if(a==="top"){var j={x:l+f/2,y:u-h*i,textAnchor:"middle",verticalAnchor:y};return Xr(Xr({},j),n?{height:Math.max(u-n.y,0),width:f}:{})}if(a==="bottom"){var N={x:l+f/2,y:u+m+p,textAnchor:"middle",verticalAnchor:w};return Xr(Xr({},N),n?{height:Math.max(n.y+n.height-(u+m),0),width:f}:{})}if(a==="left"){var T={x:l-v,y:u+m/2,textAnchor:A,verticalAnchor:"middle"};return Xr(Xr({},T),n?{width:Math.max(T.x-n.x,0),height:m}:{})}if(a==="right"){var O={x:l+f+v,y:u+m/2,textAnchor:E,verticalAnchor:"middle"};return Xr(Xr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:m}:{})}var k=n?{width:f,height:m}:{};return a==="insideLeft"?Xr({x:l+v,y:u+m/2,textAnchor:E,verticalAnchor:"middle"},k):a==="insideRight"?Xr({x:l+f-v,y:u+m/2,textAnchor:A,verticalAnchor:"middle"},k):a==="insideTop"?Xr({x:l+f/2,y:u+p,textAnchor:"middle",verticalAnchor:w},k):a==="insideBottom"?Xr({x:l+f/2,y:u+m-p,textAnchor:"middle",verticalAnchor:y},k):a==="insideTopLeft"?Xr({x:l+v,y:u+p,textAnchor:E,verticalAnchor:w},k):a==="insideTopRight"?Xr({x:l+f-v,y:u+p,textAnchor:A,verticalAnchor:w},k):a==="insideBottomLeft"?Xr({x:l+v,y:u+m-p,textAnchor:E,verticalAnchor:y},k):a==="insideBottomRight"?Xr({x:l+f-v,y:u+m-p,textAnchor:A,verticalAnchor:y},k):Qf(a)&&(Ne(a.x)||$c(a.x))&&(Ne(a.y)||$c(a.y))?Xr({x:l+Wn(a.x,f),y:u+Wn(a.y,m),textAnchor:"end",verticalAnchor:"end"},k):Xr({x:l+f/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},k)},cbe=function(e){return"cx"in e&&Ne(e.cx)};function cn(t){var e=t.offset,r=e===void 0?5:e,n=Zxe(t,Gxe),i=Xr({offset:r},n),a=i.viewBox,o=i.position,l=i.value,u=i.children,f=i.content,m=i.className,h=m===void 0?"":m,p=i.textBreakAll;if(!a||xt(l)&&xt(u)&&!S.isValidElement(f)&&!ft(f))return null;if(S.isValidElement(f))return S.cloneElement(f,i);var y;if(ft(f)){if(y=S.createElement(f,i),S.isValidElement(y))return y}else y=ibe(i);var w=cbe(a),b=Xe(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return sbe(i,y,b);var v=w?obe(i):lbe(i);return U.createElement(cu,vp({className:bt("recharts-label",h)},b,v,{breakAll:p}),y)}cn.displayName="Label";var wH=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,u=e.radius,f=e.innerRadius,m=e.outerRadius,h=e.x,p=e.y,y=e.top,w=e.left,b=e.width,v=e.height,A=e.clockWise,E=e.labelViewBox;if(E)return E;if(Ne(b)&&Ne(v)){if(Ne(h)&&Ne(p))return{x:h,y:p,width:b,height:v};if(Ne(y)&&Ne(w))return{x:y,y:w,width:b,height:v}}return Ne(h)&&Ne(p)?{x:h,y:p,width:0,height:0}:Ne(r)&&Ne(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:m||u||l||0,clockWise:A}:e.viewBox?e.viewBox:{}},ube=function(e,r){return e?e===!0?U.createElement(cn,{key:"label-implicit",viewBox:r}):Zr(e)?U.createElement(cn,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===cn?S.cloneElement(e,{key:"label-implicit",viewBox:r}):U.createElement(cn,{key:"label-implicit",content:e,viewBox:r}):ft(e)?U.createElement(cn,{key:"label-implicit",content:e,viewBox:r}):Qf(e)?U.createElement(cn,vp({viewBox:r},e,{key:"label-implicit"})):null:null},dbe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=wH(e),o=ia(i,cn).map(function(u,f){return S.cloneElement(u,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return o;var l=ube(e.label,r||a);return[l].concat(Kxe(o))};cn.parseViewBox=wH;cn.renderCallByParent=dbe;var wN,T3;function fbe(){if(T3)return wN;T3=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return wN=t,wN}var hbe=fbe();const mbe=er(hbe);function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}var pbe=["valueAccessor"],gbe=["data","dataKey","clockWise","id","textBreakAll"];function vbe(t){return wbe(t)||bbe(t)||xbe(t)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(t,e){if(t){if(typeof t=="string")return HA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HA(t,e)}}function bbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wbe(t){if(Array.isArray(t))return HA(t)}function HA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cx.apply(this,arguments)}function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){_be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _be(t,e,r){return e=Sbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sbe(t){var e=jbe(t,"string");return yp(e)=="symbol"?e:e+""}function jbe(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C3(t,e){if(t==null)return{};var r=Nbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ebe=function(e){return Array.isArray(e.value)?mbe(e.value):e.value};function uo(t){var e=t.valueAccessor,r=e===void 0?Ebe:e,n=C3(t,pbe),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,f=C3(n,gbe);return!i||!i.length?null:U.createElement(Ut,{className:"recharts-label-list"},i.map(function(m,h){var p=xt(a)?r(m,h):Jr(m&&m.payload,a),y=xt(l)?{}:{id:"".concat(l,"-").concat(h)};return U.createElement(cn,Cx({},Xe(m,!0),f,y,{parentViewBox:m.parentViewBox,value:p,textBreakAll:u,viewBox:cn.parseViewBox(xt(o)?m:k3(k3({},m),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}uo.displayName="LabelList";function Abe(t,e){return t?t===!0?U.createElement(uo,{key:"labelList-implicit",data:e}):U.isValidElement(t)||ft(t)?U.createElement(uo,{key:"labelList-implicit",data:e,content:t}):Qf(t)?U.createElement(uo,Cx({data:e},t,{key:"labelList-implicit"})):null:null}function Tbe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ia(n,uo).map(function(o,l){return S.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=Abe(t.label,e);return[a].concat(vbe(i))}uo.renderCallByParent=Tbe;function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WA.apply(this,arguments)}function I3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(r),!0).forEach(function(n){Pbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pbe(t,e,r){return e=kbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kbe(t){var e=Cbe(t,"string");return xp(e)=="symbol"?e:e+""}function Cbe(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ibe=function(e,r){var n=Hn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Gv=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,u=e.cornerRadius,f=e.cornerIsExternal,m=u*(l?1:-1)+i,h=Math.asin(u/m)/kx,p=f?a:a+o*h,y=mr(r,n,m,p),w=mr(r,n,i,p),b=f?a-o*h:a,v=mr(r,n,m*Math.cos(h*kx),b);return{center:y,circleTangency:w,lineTangency:v,theta:h}},_H=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,u=Ibe(o,l),f=o+u,m=mr(r,n,a,o),h=mr(r,n,a,f),p="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var y=mr(r,n,i,o),w=mr(r,n,i,f);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Obe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,f=e.startAngle,m=e.endAngle,h=Hn(m-f),p=Gv({cx:r,cy:n,radius:a,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),y=p.circleTangency,w=p.lineTangency,b=p.theta,v=Gv({cx:r,cy:n,radius:a,angle:m,sign:-h,cornerRadius:o,cornerIsExternal:u}),A=v.circleTangency,E=v.lineTangency,j=v.theta,N=u?Math.abs(f-m):Math.abs(f-m)-b-j;if(N<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_H({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m});var T="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var O=Gv({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=O.circleTangency,C=O.lineTangency,M=O.theta,F=Gv({cx:r,cy:n,radius:i,angle:m,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=F.circleTangency,V=F.lineTangency,$=F.theta,H=u?Math.abs(f-m):Math.abs(f-m)-M-$;if(H<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Rbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SH=function(e){var r=O3(O3({},Rbe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,m=r.startAngle,h=r.endAngle,p=r.className;if(o<a||m===h)return null;var y=bt("recharts-sector",p),w=o-a,b=Wn(l,w,0,!0),v;return b>0&&Math.abs(m-h)<360?v=Obe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,w/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):v=_H({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:m,endAngle:h}),U.createElement("path",WA({},Xe(r,!0),{className:y,d:v,role:"img"}))};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GA.apply(this,arguments)}function R3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(r),!0).forEach(function(n){Mbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mbe(t,e,r){return e=Dbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dbe(t){var e=Lbe(t,"string");return bp(e)=="symbol"?e:e+""}function Lbe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D3={curveBasisClosed:nfe,curveBasisOpen:ife,curveBasis:rfe,curveBumpX:Ude,curveBumpY:zde,curveLinearClosed:afe,curveLinear:h0,curveMonotoneX:sfe,curveMonotoneY:ofe,curveNatural:lfe,curveStep:cfe,curveStepAfter:dfe,curveStepBefore:ufe},Kv=function(e){return e.x===+e.x&&e.y===+e.y},Jh=function(e){return e.x},Zh=function(e){return e.y},$be=function(e,r){if(ft(e))return e;var n="curve".concat(d0(e));return(n==="curveMonotone"||n==="curveBump")&&r?D3["".concat(n).concat(r==="vertical"?"Y":"X")]:D3[n]||h0},Fbe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,u=e.connectNulls,f=u===void 0?!1:u,m=$be(n,l),h=f?a.filter(function(b){return Kv(b)}):a,p;if(Array.isArray(o)){var y=f?o.filter(function(b){return Kv(b)}):o,w=h.map(function(b,v){return M3(M3({},b),{},{base:y[v]})});return l==="vertical"?p=Fv().y(Zh).x1(Jh).x0(function(b){return b.base.x}):p=Fv().x(Jh).y1(Zh).y0(function(b){return b.base.y}),p.defined(Kv).curve(m),p(w)}return l==="vertical"&&Ne(o)?p=Fv().y(Zh).x1(Jh).x0(o):Ne(o)?p=Fv().x(Jh).y1(Zh).y0(o):p=wz().x(Jh).y(Zh),p.defined(Kv).curve(m),p(h)},Dd=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Fbe(e):i;return U.createElement("path",GA({},Xe(e,!1),ax(e),{className:bt("recharts-curve",r),d:o,ref:a}))},_N={exports:{}},SN,L3;function Vbe(){if(L3)return SN;L3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return SN=t,SN}var jN,$3;function Bbe(){if($3)return jN;$3=1;var t=Vbe();function e(){}function r(){}return r.resetWarningCache=e,jN=function(){function n(o,l,u,f,m,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},jN}var F3;function Ube(){return F3||(F3=1,_N.exports=Bbe()()),_N.exports}var zbe=Ube();const _t=er(zbe);var qbe=Object.getOwnPropertyNames,Hbe=Object.getOwnPropertySymbols,Wbe=Object.prototype.hasOwnProperty;function V3(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Yv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var u=t(r,n,i);return a.delete(r),a.delete(n),u}}function B3(t){return qbe(t).concat(Hbe(t))}var jH=Object.hasOwn||function(t,e){return Wbe.call(t,e)};function nh(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var NH="_owner",U3=Object.getOwnPropertyDescriptor,z3=Object.keys;function Gbe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Kbe(t,e){return nh(t.getTime(),e.getTime())}function q3(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),a=0,o,l;(o=i.next())&&!o.done;){for(var u=e.entries(),f=!1,m=0;(l=u.next())&&!l.done;){var h=o.value,p=h[0],y=h[1],w=l.value,b=w[0],v=w[1];!f&&!n[m]&&(f=r.equals(p,b,a,m,t,e,r)&&r.equals(y,v,p,b,t,e,r))&&(n[m]=!0),m++}if(!f)return!1;a++}return!0}function Ybe(t,e,r){var n=z3(t),i=n.length;if(z3(e).length!==i)return!1;for(var a;i-- >0;)if(a=n[i],a===NH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!jH(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function em(t,e,r){var n=B3(t),i=n.length;if(B3(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],a===NH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!jH(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=U3(t,a),l=U3(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Qbe(t,e){return nh(t.valueOf(),e.valueOf())}function Xbe(t,e){return t.source===e.source&&t.flags===e.flags}function H3(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var l=e.values(),u=!1,f=0;(o=l.next())&&!o.done;)!u&&!n[f]&&(u=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[f]=!0),f++;if(!u)return!1}return!0}function Jbe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var Zbe="[object Arguments]",e0e="[object Boolean]",t0e="[object Date]",r0e="[object Map]",n0e="[object Number]",i0e="[object Object]",a0e="[object RegExp]",s0e="[object Set]",o0e="[object String]",l0e=Array.isArray,W3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,G3=Object.assign,c0e=Object.prototype.toString.call.bind(Object.prototype.toString);function u0e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,u=t.areTypedArraysEqual;return function(m,h,p){if(m===h)return!0;if(m==null||h==null||typeof m!="object"||typeof h!="object")return m!==m&&h!==h;var y=m.constructor;if(y!==h.constructor)return!1;if(y===Object)return i(m,h,p);if(l0e(m))return e(m,h,p);if(W3!=null&&W3(m))return u(m,h,p);if(y===Date)return r(m,h,p);if(y===RegExp)return o(m,h,p);if(y===Map)return n(m,h,p);if(y===Set)return l(m,h,p);var w=c0e(m);return w===t0e?r(m,h,p):w===a0e?o(m,h,p):w===r0e?n(m,h,p):w===s0e?l(m,h,p):w===i0e?typeof m.then!="function"&&typeof h.then!="function"&&i(m,h,p):w===Zbe?i(m,h,p):w===e0e||w===n0e||w===o0e?a(m,h,p):!1}}function d0e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?em:Gbe,areDatesEqual:Kbe,areMapsEqual:n?V3(q3,em):q3,areObjectsEqual:n?em:Ybe,arePrimitiveWrappersEqual:Qbe,areRegExpsEqual:Xbe,areSetsEqual:n?V3(H3,em):H3,areTypedArraysEqual:n?em:Jbe};if(r&&(i=G3({},i,r(i))),e){var a=Yv(i.areArraysEqual),o=Yv(i.areMapsEqual),l=Yv(i.areObjectsEqual),u=Yv(i.areSetsEqual);i=G3({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return i}function f0e(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function h0e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(u,f){var m=n(),h=m.cache,p=h===void 0?e?new WeakMap:void 0:h,y=m.meta;return r(u,f,{cache:p,equals:i,meta:y,strict:a})};if(e)return function(u,f){return r(u,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(u,f){return r(u,f,o)}}var m0e=tc();tc({strict:!0});tc({circular:!0});tc({circular:!0,strict:!0});tc({createInternalComparator:function(){return nh}});tc({strict:!0,createInternalComparator:function(){return nh}});tc({circular:!0,createInternalComparator:function(){return nh}});tc({circular:!0,createInternalComparator:function(){return nh},strict:!0});function tc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=d0e(t),u=u0e(l),f=n?n(u):f0e(u);return h0e({circular:r,comparator:u,createState:i,equals:f,strict:o})}function p0e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function K3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):p0e(i)};requestAnimationFrame(n)}function KA(t){"@babel/helpers - typeof";return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(t)}function g0e(t){return b0e(t)||x0e(t)||y0e(t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(t,e){if(t){if(typeof t=="string")return Y3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y3(t,e)}}function Y3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b0e(t){if(Array.isArray(t))return t}function w0e(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=g0e(o),u=l[0],f=l.slice(1);if(typeof u=="number"){K3(i.bind(null,f),u);return}i(u),K3(i.bind(null,f));return}KA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){EH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EH(t,e,r){return e=_0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _0e(t){var e=S0e(t,"string");return wp(e)==="symbol"?e:String(e)}function S0e(t,e){if(wp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j0e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},N0e=function(e){return e},E0e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Am=function(e,r){return Object.keys(r).reduce(function(n,i){return X3(X3({},n),{},EH({},i,e(i,r[i])))},{})},J3=function(e,r,n){return e.map(function(i){return"".concat(E0e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function A0e(t,e){return k0e(t)||P0e(t,e)||AH(t,e)||T0e()}function T0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function k0e(t){if(Array.isArray(t))return t}function C0e(t){return R0e(t)||O0e(t)||AH(t)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AH(t,e){if(t){if(typeof t=="string")return YA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(t,e)}}function O0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R0e(t){if(Array.isArray(t))return YA(t)}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ix=1e-4,TH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},PH=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Z3=function(e,r){return function(n){var i=TH(e,r);return PH(i,n)}},M0e=function(e,r){return function(n){var i=TH(e,r),a=[].concat(C0e(i.map(function(o,l){return o*l}).slice(1)),[0]);return PH(a,n)}},e$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),m=A0e(f,4);i=m[0],a=m[1],o=m[2],l=m[3]}}}var h=Z3(i,o),p=Z3(a,l),y=M0e(i,o),w=function(A){return A>1?1:A<0?0:A},b=function(A){for(var E=A>1?1:A,j=E,N=0;N<8;++N){var T=h(j)-E,O=y(j);if(Math.abs(T-E)<Ix||O<Ix)return p(j);j=w(j-T/O)}return p(j)};return b.isStepper=!1,b},D0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,u=function(m,h,p){var y=-(m-h)*n,w=p*a,b=p+(y-w)*l/1e3,v=p*l/1e3+m;return Math.abs(v-h)<Ix&&Math.abs(b)<Ix?[h,0]:[v,b]};return u.isStepper=!0,u.dt=l,u},L0e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e$(i);case"spring":return D0e();default:if(i.split("(")[0]==="cubic-bezier")return e$(i)}return typeof i=="function"?i:null};function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function t$(t){return V0e(t)||F0e(t)||kH(t)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V0e(t){if(Array.isArray(t))return XA(t)}function r$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(r),!0).forEach(function(n){QA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QA(t,e,r){return e=B0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B0e(t){var e=U0e(t,"string");return _p(e)==="symbol"?e:String(e)}function U0e(t,e){if(_p(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0e(t,e){return W0e(t)||H0e(t,e)||kH(t,e)||q0e()}function q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kH(t,e){if(t){if(typeof t=="string")return XA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(t,e)}}function XA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function W0e(t){if(Array.isArray(t))return t}var Ox=function(e,r,n){return e+(r-e)*n},JA=function(e){var r=e.from,n=e.to;return r!==n},G0e=function t(e,r,n){var i=Am(function(a,o){if(JA(o)){var l=e(o.from,o.to,o.velocity),u=z0e(l,2),f=u[0],m=u[1];return yn(yn({},o),{},{from:f,velocity:m})}return o},r);return n<1?Am(function(a,o){return JA(o)?yn(yn({},o),{},{velocity:Ox(o.velocity,i[a].velocity,n),from:Ox(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const K0e=function(t,e,r,n,i){var a=j0e(t,e),o=a.reduce(function(v,A){return yn(yn({},v),{},QA({},A,[t[A],e[A]]))},{}),l=a.reduce(function(v,A){return yn(yn({},v),{},QA({},A,{from:t[A],velocity:0,to:e[A]}))},{}),u=-1,f,m,h=function(){return null},p=function(){return Am(function(A,E){return E.from},l)},y=function(){return!Object.values(l).filter(JA).length},w=function(A){f||(f=A);var E=A-f,j=E/r.dt;l=G0e(r,l,j),i(yn(yn(yn({},t),e),p())),f=A,y()||(u=requestAnimationFrame(h))},b=function(A){m||(m=A);var E=(A-m)/n,j=Am(function(T,O){return Ox.apply(void 0,t$(O).concat([r(E)]))},o);if(i(yn(yn(yn({},t),e),j)),E<1)u=requestAnimationFrame(h);else{var N=Am(function(T,O){return Ox.apply(void 0,t$(O).concat([r(1)]))},o);i(yn(yn(yn({},t),e),N))}};return h=r.isStepper?w:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var Y0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Q0e(t,e){if(t==null)return{};var r=X0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function NN(t){return twe(t)||ewe(t)||Z0e(t)||J0e()}function J0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z0e(t,e){if(t){if(typeof t=="string")return ZA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(t,e)}}function ewe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function twe(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(r),!0).forEach(function(n){fm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fm(t,e,r){return e=CH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CH(n.key),n)}}function iwe(t,e,r){return e&&nwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CH(t){var e=awe(t,"string");return yf(e)==="symbol"?e:String(e)}function awe(t,e){if(yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function swe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eT(t,e)}function eT(t,e){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eT(t,e)}function owe(t){var e=lwe();return function(){var n=Rx(t),i;if(e){var a=Rx(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return tT(this,i)}}function tT(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rT(t)}function rT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rx(t)}var Ns=function(t){swe(r,t);var e=owe(r);function r(n,i){var a;rwe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,u=o.attributeName,f=o.from,m=o.to,h=o.steps,p=o.children,y=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(rT(a)),a.changeStyle=a.changeStyle.bind(rT(a)),!l||y<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:m}),tT(a);if(h&&h.length)a.state={style:h[0].style};else if(f){if(typeof p=="function")return a.state={style:f},tT(a);a.state={style:u?fm({},u,f):f}}else a.state={style:{}};return a}return iwe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,u=a.attributeName,f=a.shouldReAnimate,m=a.to,h=a.from,p=this.state.style;if(l){if(!o){var y={style:u?fm({},u,m):m};this.state&&p&&(u&&p[u]!==m||!u&&p!==m)&&this.setState(y);return}if(!(m0e(i.to,m)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=w||f?h:i.to;if(this.state&&p){var v={style:u?fm({},u,b):b};(u&&p[u]!==b||!u&&p!==b)&&this.setState(v)}this.runAnimation(Na(Na({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,u=i.duration,f=i.easing,m=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,y=K0e(o,l,L0e(f),u,this.changeStyle),w=function(){a.stopJSAnimation=y()};this.manager.start([p,m,w,u,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,u=i.onAnimationStart,f=o[0],m=f.style,h=f.duration,p=h===void 0?0:h,y=function(b,v,A){if(A===0)return b;var E=v.duration,j=v.easing,N=j===void 0?"ease":j,T=v.style,O=v.properties,k=v.onAnimationEnd,C=A>0?o[A-1]:v,M=O||Object.keys(T);if(typeof N=="function"||N==="spring")return[].concat(NN(b),[a.runJSAnimation.bind(a,{from:C.style,to:T,duration:E,easing:N}),E]);var F=J3(M,E,N),D=Na(Na(Na({},C.style),T),{},{transition:F});return[].concat(NN(b),[D,E,k]).filter(N0e)};return this.manager.start([u].concat(NN(o.reduce(y,[m,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=w0e());var a=i.begin,o=i.duration,l=i.attributeName,u=i.to,f=i.easing,m=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,y=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=l?fm({},l,u):u,v=J3(Object.keys(b),o,f);w.start([m,a,Na(Na({},b),{},{transition:v}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=Q0e(i,Y0e),f=S.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!l||f===0||o<=0)return a;var h=function(y){var w=y.props,b=w.style,v=b===void 0?{}:b,A=w.className,E=S.cloneElement(y,Na(Na({},u),{},{style:Na(Na({},v),m),className:A}));return E};return f===1?h(S.Children.only(a)):U.createElement("div",null,S.Children.map(a,function(p){return h(p)}))}}]),r}(S.PureComponent);Ns.displayName="Animate";Ns.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ns.propTypes={from:_t.oneOfType([_t.object,_t.string]),to:_t.oneOfType([_t.object,_t.string]),attributeName:_t.string,duration:_t.number,begin:_t.number,easing:_t.oneOfType([_t.string,_t.func]),steps:_t.arrayOf(_t.shape({duration:_t.number.isRequired,style:_t.object.isRequired,easing:_t.oneOfType([_t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_t.func]),properties:_t.arrayOf("string"),onAnimationEnd:_t.func})),children:_t.oneOfType([_t.node,_t.func]),isActive:_t.bool,canBegin:_t.bool,onAnimationEnd:_t.func,shouldReAnimate:_t.bool,onAnimationStart:_t.func,onAnimationReStart:_t.func};_t.object,_t.object,_t.object,_t.element;_t.object,_t.object,_t.object,_t.oneOfType([_t.array,_t.element]),_t.any;function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mx.apply(this,arguments)}function cwe(t,e){return hwe(t)||fwe(t,e)||dwe(t,e)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(t,e){if(t){if(typeof t=="string")return i$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i$(t,e)}}function i$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function hwe(t){if(Array.isArray(t))return t}function a$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(r),!0).forEach(function(n){mwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mwe(t,e,r){return e=pwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pwe(t){var e=gwe(t,"string");return Sp(e)=="symbol"?e:e+""}function gwe(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o$=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,u=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,m;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,y=4;p<y;p++)h[p]=a[p]>o?o:a[p];m="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+u*h[0],",").concat(r)),m+="L ".concat(e+n-u*h[1],",").concat(r),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*h[1])),m+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-u*h[2],",").concat(r+i)),m+="L ".concat(e+u*h[3],",").concat(r+i),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*h[3])),m+="Z"}else if(o>0&&a===+a&&a>0){var w=Math.min(o,a);m="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+u*w,",").concat(r,`
            L `).concat(e+n-u*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-u*w,",").concat(r+i,`
            L `).concat(e+u*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*w," Z")}else m="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return m},vwe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var f=Math.min(a,a+l),m=Math.max(a,a+l),h=Math.min(o,o+u),p=Math.max(o,o+u);return n>=f&&n<=m&&i>=h&&i<=p}return!1},ywe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bC=function(e){var r=s$(s$({},ywe),e),n=S.useRef(),i=S.useState(-1),a=cwe(i,2),o=a[0],l=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var u=r.x,f=r.y,m=r.width,h=r.height,p=r.radius,y=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,A=r.isAnimationActive,E=r.isUpdateAnimationActive;if(u!==+u||f!==+f||m!==+m||h!==+h||m===0||h===0)return null;var j=bt("recharts-rectangle",y);return E?U.createElement(Ns,{canBegin:o>0,from:{width:m,height:h,x:u,y:f},to:{width:m,height:h,x:u,y:f},duration:b,animationEasing:w,isActive:E},function(N){var T=N.width,O=N.height,k=N.x,C=N.y;return U.createElement(Ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:A,easing:w},U.createElement("path",Mx({},Xe(r,!0),{className:j,d:o$(k,C,T,O,p),ref:n})))}):U.createElement("path",Mx({},Xe(r,!0),{className:j,d:o$(u,f,m,h,p)}))},xwe=["points","className","baseLinePoints","connectNulls"];function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}function bwe(t,e){if(t==null)return{};var r=wwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l$(t){return Nwe(t)||jwe(t)||Swe(t)||_we()}function _we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Swe(t,e){if(t){if(typeof t=="string")return nT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nT(t,e)}}function jwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nwe(t){if(Array.isArray(t))return nT(t)}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c$=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ewe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){c$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),c$(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Tm=function(e,r){var n=Ewe(e);r&&(n=[n.reduce(function(a,o){return[].concat(l$(a),l$(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Awe=function(e,r,n){var i=Tm(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Tm(r.reverse(),n).slice(1))},Twe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=bwe(e,xwe);if(!r||!r.length)return null;var l=bt("recharts-polygon",n);if(i&&i.length){var u=o.stroke&&o.stroke!=="none",f=Awe(r,i,a);return U.createElement("g",{className:l},U.createElement("path",_d({},Xe(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),u?U.createElement("path",_d({},Xe(o,!0),{fill:"none",d:Tm(r,a)})):null,u?U.createElement("path",_d({},Xe(o,!0),{fill:"none",d:Tm(i,a)})):null)}var m=Tm(r,a);return U.createElement("path",_d({},Xe(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:l,d:m}))};function iT(){return iT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iT.apply(this,arguments)}var k0=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=bt("recharts-dot",a);return r===+r&&n===+n&&i===+i?U.createElement("circle",iT({},Xe(e,!1),ax(e),{className:o,cx:r,cy:n,r:i})):null};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}var Pwe=["x","y","top","left","width","height","className"];function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aT.apply(this,arguments)}function u$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(r),!0).forEach(function(n){Cwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cwe(t,e,r){return e=Iwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iwe(t){var e=Owe(t,"string");return jp(e)=="symbol"?e:e+""}function Owe(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rwe(t,e){if(t==null)return{};var r=Mwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Dwe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Lwe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,u=e.left,f=u===void 0?0:u,m=e.width,h=m===void 0?0:m,p=e.height,y=p===void 0?0:p,w=e.className,b=Rwe(e,Pwe),v=kwe({x:n,y:a,top:l,left:f,width:h,height:y},b);return!Ne(n)||!Ne(a)||!Ne(h)||!Ne(y)||!Ne(l)||!Ne(f)?null:U.createElement("path",aT({},Xe(v,!0),{className:bt("recharts-cross",w),d:Dwe(n,a,h,y,l,f)}))},EN,d$;function $we(){if(d$)return EN;d$=1;var t=N0(),e=Hq(),r=Cs();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return EN=n,EN}var Fwe=$we();const Vwe=er(Fwe);var AN,f$;function Bwe(){if(f$)return AN;f$=1;var t=N0(),e=Cs(),r=Wq();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return AN=n,AN}var Uwe=Bwe();const zwe=er(Uwe);var qwe=["cx","cy","angle","ticks","axisLine"],Hwe=["ticks","tick","angle","tickFormatter","stroke"];function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function h$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(r),!0).forEach(function(n){C0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m$(t,e){if(t==null)return{};var r=Wwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OH(n.key),n)}}function Kwe(t,e,r){return e&&p$(t.prototype,e),r&&p$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ywe(t,e,r){return e=Dx(e),Qwe(t,IH()?Reflect.construct(e,r||[],Dx(t).constructor):e.apply(t,r))}function Qwe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(t)}function Xwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(t)}function Jwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sT(t,e)}function C0(t,e,r){return e=OH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OH(t){var e=Zwe(t,"string");return xf(e)=="symbol"?e:e+""}function Zwe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var I0=function(t){function e(){return Gwe(this,e),Ywe(this,e,arguments)}return Jwe(e,t),Kwe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,u=a.cy;return mr(l,u,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,u=Vwe(l,function(m){return m.coordinate||0}),f=zwe(l,function(m){return m.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,u=n.axisLine,f=m$(n,qwe),m=l.reduce(function(w,b){return[Math.min(w[0],b.coordinate),Math.max(w[1],b.coordinate)]},[1/0,-1/0]),h=mr(i,a,m[0],o),p=mr(i,a,m[1],o),y=Pc(Pc(Pc({},Xe(f,!1)),{},{fill:"none"},Xe(u,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return U.createElement("line",Pm({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,u=i.tickFormatter,f=i.stroke,m=m$(i,Hwe),h=this.getTickTextAnchor(),p=Xe(m,!1),y=Xe(o,!1),w=a.map(function(b,v){var A=n.getTickValueCoord(b),E=Pc(Pc(Pc(Pc({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},p),{},{stroke:"none",fill:f},y),{},{index:v},A),{},{payload:b});return U.createElement(Ut,Pm({className:bt("recharts-polar-radius-axis-tick",bH(o)),key:"tick-".concat(b.coordinate)},lu(n.props,b,v)),e.renderTickItem(o,E,u?u(b.value,v):b.value))});return U.createElement(Ut,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:U.createElement(Ut,{className:bt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),cn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return U.isValidElement(n)?o=U.cloneElement(n,i):ft(n)?o=n(i):o=U.createElement(cu,Pm({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(S.PureComponent);C0(I0,"displayName","PolarRadiusAxis");C0(I0,"axisType","radiusAxis");C0(I0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rc.apply(this,arguments)}function g$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(r),!0).forEach(function(n){O0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MH(n.key),n)}}function t1e(t,e,r){return e&&v$(t.prototype,e),r&&v$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r1e(t,e,r){return e=Lx(e),n1e(t,RH()?Reflect.construct(e,r||[],Lx(t).constructor):e.apply(t,r))}function n1e(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1e(t)}function i1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(t)}function a1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}function oT(t,e){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oT(t,e)}function O0(t,e,r){return e=MH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MH(t){var e=s1e(t,"string");return bf(e)=="symbol"?e:e+""}function s1e(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o1e=Math.PI/180,l1e=1e-5,R0=function(t){function e(){return e1e(this,e),r1e(this,e,arguments)}return a1e(e,t),t1e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,u=i.orientation,f=i.tickSize,m=f||8,h=mr(a,o,l,n.coordinate),p=mr(a,o,l+(u==="inner"?-1:1)*m,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*o1e),o;return a>l1e?o=i==="outer"?"start":"end":a<-1e-5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,u=n.axisLineType,f=kc(kc({},Xe(this.props,!1)),{},{fill:"none"},Xe(l,!1));if(u==="circle")return U.createElement(k0,Rc({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var m=this.props.ticks,h=m.map(function(p){return mr(i,a,o,p.coordinate)});return U.createElement(Twe,Rc({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,u=i.tickFormatter,f=i.stroke,m=Xe(this.props,!1),h=Xe(o,!1),p=kc(kc({},m),{},{fill:"none"},Xe(l,!1)),y=a.map(function(w,b){var v=n.getTickLineCoord(w),A=n.getTickTextAnchor(w),E=kc(kc(kc({textAnchor:A},m),{},{stroke:"none",fill:f},h),{},{index:b,payload:w,x:v.x2,y:v.y2});return U.createElement(Ut,Rc({className:bt("recharts-polar-angle-axis-tick",bH(o)),key:"tick-".concat(w.coordinate)},lu(n.props,w,b)),l&&U.createElement("line",Rc({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&e.renderTickItem(o,E,u?u(w.value,b):w.value))});return U.createElement(Ut,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:U.createElement(Ut,{className:bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return U.isValidElement(n)?o=U.cloneElement(n,i):ft(n)?o=n(i):o=U.createElement(cu,Rc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(S.PureComponent);O0(R0,"displayName","PolarAngleAxis");O0(R0,"axisType","angleAxis");O0(R0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TN,y$;function c1e(){if(y$)return TN;y$=1;var t=qz(),e=t(Object.getPrototypeOf,Object);return TN=e,TN}var PN,x$;function u1e(){if(x$)return PN;x$=1;var t=Po(),e=c1e(),r=ko(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,u=o.call(Object);function f(m){if(!r(m)||t(m)!=n)return!1;var h=e(m);if(h===null)return!0;var p=l.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==u}return PN=f,PN}var d1e=u1e();const f1e=er(d1e);var kN,b$;function h1e(){if(b$)return kN;b$=1;var t=Po(),e=ko(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return kN=n,kN}var m1e=h1e();const p1e=er(m1e);function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$x.apply(this,arguments)}function g1e(t,e){return b1e(t)||x1e(t,e)||y1e(t,e)||v1e()}function v1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1e(t,e){if(t){if(typeof t=="string")return w$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w$(t,e)}}function w$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function b1e(t){if(Array.isArray(t))return t}function _$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function S$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(r),!0).forEach(function(n){w1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w1e(t,e,r){return e=_1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _1e(t){var e=S1e(t,"string");return Np(e)=="symbol"?e:e+""}function S1e(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j$=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},j1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N1e=function(e){var r=S$(S$({},j1e),e),n=S.useRef(),i=S.useState(-1),a=g1e(i,2),o=a[0],l=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var u=r.x,f=r.y,m=r.upperWidth,h=r.lowerWidth,p=r.height,y=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,A=r.isUpdateAnimationActive;if(u!==+u||f!==+f||m!==+m||h!==+h||p!==+p||m===0&&h===0||p===0)return null;var E=bt("recharts-trapezoid",y);return A?U.createElement(Ns,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:u,y:f},to:{upperWidth:m,lowerWidth:h,height:p,x:u,y:f},duration:b,animationEasing:w,isActive:A},function(j){var N=j.upperWidth,T=j.lowerWidth,O=j.height,k=j.x,C=j.y;return U.createElement(Ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:w},U.createElement("path",$x({},Xe(r,!0),{className:E,d:j$(k,C,N,T,O),ref:n})))}):U.createElement("g",null,U.createElement("path",$x({},Xe(r,!0),{className:E,d:j$(u,f,m,h,p)})))},E1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function A1e(t,e){if(t==null)return{};var r=T1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(r),!0).forEach(function(n){P1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P1e(t,e,r){return e=k1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k1e(t){var e=C1e(t,"string");return Ep(e)=="symbol"?e:e+""}function C1e(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I1e(t,e){return Fx(Fx({},e),t)}function O1e(t,e){return t==="symbols"}function E$(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return U.createElement(bC,r);case"trapezoid":return U.createElement(N1e,r);case"sector":return U.createElement(SH,r);case"symbols":if(O1e(e))return U.createElement($k,r);break;default:return null}}function R1e(t){return S.isValidElement(t)?t.props:t}function DH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?I1e:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,u=A1e(t,E1e),f;if(S.isValidElement(e))f=S.cloneElement(e,Fx(Fx({},u),R1e(e)));else if(ft(e))f=e(u);else if(f1e(e)&&!p1e(e)){var m=i(e,u);f=U.createElement(E$,{shapeType:r,elementProps:m})}else{var h=u;f=U.createElement(E$,{shapeType:r,elementProps:h})}return l?U.createElement(Ut,{className:o},f):f}function M0(t,e){return e!=null&&"trapezoids"in t.props}function D0(t,e){return e!=null&&"sectors"in t.props}function Ap(t,e){return e!=null&&"points"in t.props}function M1e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function D1e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function L1e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function $1e(t,e){var r;return M0(t,e)?r=M1e:D0(t,e)?r=D1e:Ap(t,e)&&(r=L1e),r}function F1e(t,e){var r;return M0(t,e)?r="trapezoids":D0(t,e)?r="sectors":Ap(t,e)&&(r="points"),r}function V1e(t,e){if(M0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(D0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ap(t,e)?e.payload:{}}function B1e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=F1e(r,e),a=V1e(r,e),o=n.filter(function(u,f){var m=gf(a,u),h=r.props[i].filter(function(w){var b=$1e(r,e);return b(w,e)}),p=r.props[i].indexOf(h[h.length-1]),y=f===p;return m&&y}),l=n.indexOf(o[o.length-1]);return l}var gy;function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sd.apply(this,arguments)}function A$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(r),!0).forEach(function(n){Zi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$H(n.key),n)}}function z1e(t,e,r){return e&&T$(t.prototype,e),r&&T$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q1e(t,e,r){return e=Vx(e),H1e(t,LH()?Reflect.construct(e,r||[],Vx(t).constructor):e.apply(t,r))}function H1e(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W1e(t)}function W1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(t)}function G1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lT(t,e)}function lT(t,e){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lT(t,e)}function Zi(t,e,r){return e=$H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $H(t){var e=K1e(t,"string");return wf(e)=="symbol"?e:e+""}function K1e(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Io=function(t){function e(r){var n;return U1e(this,e),n=q1e(this,e,[r]),Zi(n,"pieRef",null),Zi(n,"sectorRefs",[]),Zi(n,"id",Jf("recharts-pie-")),Zi(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(i)&&i()}),Zi(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return G1e(e,t),z1e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,u=a.dataKey,f=a.valueKey,m=Xe(this.props,!1),h=Xe(o,!1),p=Xe(l,!1),y=o&&o.offsetRadius||20,w=n.map(function(b,v){var A=(b.startAngle+b.endAngle)/2,E=mr(b.cx,b.cy,b.outerRadius+y,A),j=fr(fr(fr(fr({},m),b),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(E.x,b.cx)},E),N=fr(fr(fr(fr({},m),b),{},{fill:"none",stroke:b.fill},p),{},{index:v,points:[mr(b.cx,b.cy,b.outerRadius,A),E]}),T=u;return xt(u)&&xt(f)?T="value":xt(u)&&(T=f),U.createElement(Ut,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,j,Jr(b,T)))});return U.createElement(Ut,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,u=a.inactiveShape;return n.map(function(f,m){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(m),p=u&&i.hasActiveIndex()?u:null,y=h?o:p,w=fr(fr({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return U.createElement(Ut,Sd({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},lu(i.props,f,m),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(m)}),U.createElement(DH,Sd({option:y,isActive:h,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,m=i.animationId,h=this.state,p=h.prevSectors,y=h.prevIsAnimationActive;return U.createElement(Ns,{begin:l,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var b=w.t,v=[],A=a&&a[0],E=A.startAngle;return a.forEach(function(j,N){var T=p&&p[N],O=N>0?Di(j,"paddingAngle",0):0;if(T){var k=si(T.endAngle-T.startAngle,j.endAngle-j.startAngle),C=fr(fr({},j),{},{startAngle:E+O,endAngle:E+k(b)+O});v.push(C),E=C.endAngle}else{var M=j.endAngle,F=j.startAngle,D=si(0,M-F),V=D(b),$=fr(fr({},j),{},{startAngle:E+O,endAngle:E+V+O});v.push($),E=$.endAngle}}),U.createElement(Ut,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!gf(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,u=i.label,f=i.cx,m=i.cy,h=i.innerRadius,p=i.outerRadius,y=i.isAnimationActive,w=this.state.isAnimationFinished;if(a||!o||!o.length||!Ne(f)||!Ne(m)||!Ne(h)||!Ne(p))return null;var b=bt("recharts-pie",l);return U.createElement(Ut,{tabIndex:this.props.rootTabIndex,className:b,ref:function(A){n.pieRef=A}},this.renderSectors(),u&&this.renderLabels(o),cn.renderCallByParent(this.props,null,!1),(!y||w)&&uo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(U.isValidElement(n))return U.cloneElement(n,i);if(ft(n))return n(i);var o=bt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(Dd,Sd({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(U.isValidElement(n))return U.cloneElement(n,i);var o=a;if(ft(n)&&(o=n(i),U.isValidElement(o)))return o;var l=bt("recharts-pie-label-text",typeof n!="boolean"&&!ft(n)?n.className:"");return U.createElement(cu,Sd({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(S.PureComponent);gy=Io;Zi(Io,"displayName","Pie");Zi(Io,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!bu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Zi(Io,"parseDeltaAngle",function(t,e){var r=Hn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Zi(Io,"getRealPieData",function(t){var e=t.data,r=t.children,n=Xe(t,!1),i=ia(r,y0);return e&&e.length?e.map(function(a,o){return fr(fr(fr({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return fr(fr({},n),a.props)}):[]});Zi(Io,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=xH(i,a),l=n+Wn(t.cx,i,i/2),u=r+Wn(t.cy,a,a/2),f=Wn(t.innerRadius,o,0),m=Wn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:u,innerRadius:f,outerRadius:m,maxRadius:h}});Zi(Io,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?fr(fr({},e.type.defaultProps),e.props):e.props,i=gy.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,u=n.paddingAngle,f=n.dataKey,m=n.nameKey,h=n.valueKey,p=n.tooltipType,y=Math.abs(n.minAngle),w=gy.parseCoordinateOfPie(n,r),b=gy.parseDeltaAngle(o,l),v=Math.abs(b),A=f;xt(f)&&xt(h)?(Ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):xt(f)&&(Ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=h);var E=i.filter(function(C){return Jr(C,A,0)!==0}).length,j=(v>=360?E:E-1)*u,N=v-E*y-j,T=i.reduce(function(C,M){var F=Jr(M,A,0);return C+(Ne(F)?F:0)},0),O;if(T>0){var k;O=i.map(function(C,M){var F=Jr(C,A,0),D=Jr(C,m,M),V=(Ne(F)?F:0)/T,$;M?$=k.endAngle+Hn(b)*u*(F!==0?1:0):$=o;var H=$+Hn(b)*((F!==0?y:0)+V*N),G=($+H)/2,Q=(w.innerRadius+w.outerRadius)/2,Y=[{name:D,value:F,payload:C,dataKey:A,type:p}],W=mr(w.cx,w.cy,Q,G);return k=fr(fr(fr({percent:V,cornerRadius:a,name:D,tooltipPayload:Y,midAngle:G,middleRadius:Q,tooltipPosition:W},C),w),{},{value:Jr(C,A),startAngle:$,endAngle:H,payload:C,paddingAngle:Hn(b)*u}),k})}return fr(fr({},w),{},{sectors:O,data:i})});var CN,P$;function Y1e(){if(P$)return CN;P$=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,u=e(t((i-n)/(a||1)),0),f=Array(u);u--;)f[o?u:++l]=n,n+=a;return f}return CN=r,CN}var IN,k$;function FH(){if(k$)return IN;k$=1;var t=sq(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return IN=n,IN}var ON,C$;function Q1e(){if(C$)return ON;C$=1;var t=Y1e(),e=v0(),r=FH();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return ON=n,ON}var RN,I$;function X1e(){if(I$)return RN;I$=1;var t=Q1e(),e=t();return RN=e,RN}var J1e=X1e();const Bx=er(J1e);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function O$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(r),!0).forEach(function(n){VH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VH(t,e,r){return e=Z1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z1e(t){var e=e_e(t,"string");return Tp(e)=="symbol"?e:e+""}function e_e(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t_e=["Webkit","Moz","O","ms"],r_e=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=t_e.reduce(function(a,o){return R$(R$({},a),{},VH({},o+n,r))},{});return i[e]=r,i};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ux.apply(this,arguments)}function M$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(r),!0).forEach(function(n){_i(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UH(n.key),n)}}function i_e(t,e,r){return e&&D$(t.prototype,e),r&&D$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a_e(t,e,r){return e=zx(e),s_e(t,BH()?Reflect.construct(e,r||[],zx(t).constructor):e.apply(t,r))}function s_e(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_e(t)}function o_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(t)}function l_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cT(t,e)}function _i(t,e,r){return e=UH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UH(t){var e=c_e(t,"string");return _f(e)=="symbol"?e:e+""}function c_e(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u_e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=Nm().domain(Bx(0,u)).range([a,a+o-l]),m=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:m}},L$=function(e){return e.changedTouches&&!!e.changedTouches.length},Sf=function(t){function e(r){var n;return n_e(this,e),n=a_e(this,e,[r]),_i(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),_i(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),_i(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),_i(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),_i(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),_i(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),_i(n,"handleSlideDragStart",function(i){var a=L$(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return l_e(e,t),i_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,f=l.data,m=f.length-1,h=Math.min(i,a),p=Math.max(i,a),y=e.getIndexInRange(o,h),w=e.getIndexInRange(o,p);return{startIndex:y-y%u,endIndex:w===m?m:w-w%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,u=Jr(a[n],l,n);return ft(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,u=this.props,f=u.x,m=u.width,h=u.travellerWidth,p=u.startIndex,y=u.endIndex,w=u.onChange,b=n.pageX-a;b>0?b=Math.min(b,f+m-h-l,f+m-h-o):b<0&&(b=Math.max(b,f-o,f-l));var v=this.getIndex({startX:o+b,endX:l+b});(v.startIndex!==p||v.endIndex!==y)&&w&&w(v),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=L$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,u=i.startX,f=this.state[o],m=this.props,h=m.x,p=m.width,y=m.travellerWidth,w=m.onChange,b=m.gap,v=m.data,A={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,h+p-y-f):E<0&&(E=Math.max(E,h-f)),A[o]=f+E;var j=this.getIndex(A),N=j.startIndex,T=j.endIndex,O=function(){var C=v.length-1;return o==="startX"&&(l>u?N%b===0:T%b===0)||l<u&&T===C||o==="endX"&&(l>u?T%b===0:N%b===0)||l>u&&T===C};this.setState(_i(_i({},o,f+E),"brushMoveStartX",n.pageX),function(){w&&O()&&w(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,u=o.startX,f=o.endX,m=this.state[i],h=l.indexOf(m);if(h!==-1){var p=h+n;if(!(p===-1||p>=l.length)){var y=l[p];i==="startX"&&y>=f||i==="endX"&&y<=u||this.setState(_i({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,u=n.fill,f=n.stroke;return U.createElement("rect",{stroke:f,fill:u,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,u=n.data,f=n.children,m=n.padding,h=S.Children.only(f);return h?U.cloneElement(h,{x:i,y:a,width:o,height:l,margin:m,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,u=this.props,f=u.y,m=u.travellerWidth,h=u.height,p=u.traveller,y=u.ariaLabel,w=u.data,b=u.startIndex,v=u.endIndex,A=Math.max(n,this.props.x),E=MN(MN({},Xe(this.props,!1)),{},{x:A,y:f,width:m,height:h}),j=y||"Min value: ".concat((a=w[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=w[v])===null||o===void 0?void 0:o.name);return U.createElement(Ut,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,u=a.stroke,f=a.travellerWidth,m=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:m,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,f=n.stroke,m=this.state,h=m.startX,p=m.endX,y=5,w={pointerEvents:"none",fill:f};return U.createElement(Ut,{className:"recharts-brush-texts"},U.createElement(cu,Ux({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-y,y:o+l/2},w),this.getTextOfTick(i)),U.createElement(cu,Ux({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+u+y,y:o+l/2},w),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,u=n.y,f=n.width,m=n.height,h=n.alwaysShowText,p=this.state,y=p.startX,w=p.endX,b=p.isTextActive,v=p.isSlideMoving,A=p.isTravellerMoving,E=p.isTravellerFocused;if(!i||!i.length||!Ne(l)||!Ne(u)||!Ne(f)||!Ne(m)||f<=0||m<=0)return null;var j=bt("recharts-brush",a),N=U.Children.count(o)===1,T=r_e("userSelect","none");return U.createElement(Ut,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(b||v||A||E||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,u=n.stroke,f=Math.floor(a+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:o,height:l,fill:u,stroke:"none"}),U.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return U.isValidElement(n)?a=U.cloneElement(n,i):ft(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,u=n.travellerWidth,f=n.updateId,m=n.startIndex,h=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return MN({prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:o},a&&a.length?u_e({data:a,width:o,x:l,travellerWidth:u,startIndex:m,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+o-u]);var p=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>i?l=u:o=u}return i>=n[l]?l:o}}])}(S.PureComponent);_i(Sf,"displayName","Brush");_i(Sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var DN,$$;function d_e(){if($$)return DN;$$=1;var t=Hk();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return DN=e,DN}var LN,F$;function f_e(){if(F$)return LN;F$=1;var t=Lz(),e=Cs(),r=d_e(),n=hi(),i=v0();function a(o,l,u){var f=n(o)?t:r;return u&&i(o,l,u)&&(l=void 0),f(o,e(l,3))}return LN=a,LN}var h_e=f_e();const m_e=er(h_e);var gs=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},$N,V$;function p_e(){if(V$)return $N;V$=1;var t=tq();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return $N=e,$N}var FN,B$;function g_e(){if(B$)return FN;B$=1;var t=p_e(),e=Zz(),r=Cs();function n(i,a){var o={};return a=r(a,3),e(i,function(l,u,f){t(o,u,a(l,u,f))}),o}return FN=n,FN}var v_e=g_e();const y_e=er(v_e);var VN,U$;function x_e(){if(U$)return VN;U$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return VN=t,VN}var BN,z$;function b_e(){if(z$)return BN;z$=1;var t=Hk();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return BN=e,BN}var UN,q$;function w_e(){if(q$)return UN;q$=1;var t=x_e(),e=b_e(),r=Cs(),n=hi(),i=v0();function a(o,l,u){var f=n(o)?t:e;return u&&i(o,l,u)&&(l=void 0),f(o,r(l,3))}return UN=a,UN}var __e=w_e();const zH=er(__e);var S_e=["x","y"];function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uT.apply(this,arguments)}function H$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(r),!0).forEach(function(n){j_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j_e(t,e,r){return e=N_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N_e(t){var e=E_e(t,"string");return Pp(e)=="symbol"?e:e+""}function E_e(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A_e(t,e){if(t==null)return{};var r=T_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P_e(t,e){var r=t.x,n=t.y,i=A_e(t,S_e),a="".concat(r),o=parseInt(a,10),l="".concat(n),u=parseInt(l,10),f="".concat(e.height||i.height),m=parseInt(f,10),h="".concat(e.width||i.width),p=parseInt(h,10);return tm(tm(tm(tm(tm({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:m,width:p,name:e.name,radius:e.radius})}function W$(t){return U.createElement(DH,uT({shapeType:"rectangle",propTransformer:P_e,activeClassName:"recharts-active-bar"},t))}var k_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||du(),r)}},C_e=["value","background"],qH;function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function I_e(t,e){if(t==null)return{};var r=O_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qx.apply(this,arguments)}function G$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(r),!0).forEach(function(n){Nl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WH(n.key),n)}}function M_e(t,e,r){return e&&K$(t.prototype,e),r&&K$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function D_e(t,e,r){return e=Hx(e),L_e(t,HH()?Reflect.construct(e,r||[],Hx(t).constructor):e.apply(t,r))}function L_e(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $_e(t)}function $_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function Hx(t){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(t)}function F_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dT(t,e)}function Nl(t,e,r){return e=WH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WH(t){var e=V_e(t,"string");return jf(e)=="symbol"?e:e+""}function V_e(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Su=function(t){function e(){var r;R_e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=D_e(this,e,[].concat(i)),Nl(r,"state",{isAnimationFinished:!1}),Nl(r,"id",Jf("recharts-bar-")),Nl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Nl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return F_e(e,t),M_e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,u=a.activeIndex,f=a.activeBar,m=Xe(this.props,!1);return n&&n.map(function(h,p){var y=p===u,w=y?f:o,b=zr(zr(zr({},m),h),{},{isActive:y,option:w,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Ut,qx({className:"recharts-bar-rectangle"},lu(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),U.createElement(W$,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,m=i.animationEasing,h=i.animationId,p=this.state.prevData;return U.createElement(Ns,{begin:u,duration:f,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,b=a.map(function(v,A){var E=p&&p[A];if(E){var j=si(E.x,v.x),N=si(E.y,v.y),T=si(E.width,v.width),O=si(E.height,v.height);return zr(zr({},v),{},{x:j(w),y:N(w),width:T(w),height:O(w)})}if(o==="horizontal"){var k=si(0,v.height),C=k(w);return zr(zr({},v),{},{y:v.y+v.height-C,height:C})}var M=si(0,v.width),F=M(w);return zr(zr({},v),{},{width:F})});return U.createElement(Ut,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!gf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,u=Xe(this.props.background,!1);return a.map(function(f,m){f.value;var h=f.background,p=I_e(f,C_e);if(!h)return null;var y=zr(zr(zr(zr(zr({},p),{},{fill:"#eee"},h),u),lu(n.props,f,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return U.createElement(W$,qx({key:"background-bar-".concat(m),option:n.props.background,isActive:m===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,u=a.yAxis,f=a.layout,m=a.children,h=ia(m,P0);if(!h)return null;var p=f==="vertical"?o[0].height/2:o[0].width/2,y=function(v,A){var E=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:E,errorVal:Jr(v,A)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return U.createElement(Ut,w,h.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:u,layout:f,offset:p,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,u=n.yAxis,f=n.left,m=n.top,h=n.width,p=n.height,y=n.isAnimationActive,w=n.background,b=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,A=bt("recharts-bar",o),E=l&&l.allowDataOverflow,j=u&&u.allowDataOverflow,N=E||j,T=xt(b)?this.id:b;return U.createElement(Ut,{className:A},E||j?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:E?f:f-h/2,y:j?m:m-p/2,width:E?h:h*2,height:j?p:p*2}))):null,U.createElement(Ut,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(T,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,T),(!y||v)&&uo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(S.PureComponent);qH=Su;Nl(Su,"displayName","Bar");Nl(Su,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Nl(Su,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,f=t.stackedData,m=t.dataStartIndex,h=t.displayedData,p=t.offset,y=jxe(n,r);if(!y)return null;var w=e.layout,b=r.type.defaultProps,v=b!==void 0?zr(zr({},b),r.props):r.props,A=v.dataKey,E=v.children,j=v.minPointSize,N=w==="horizontal"?o:a,T=f?N.scale.domain():null,O=Cxe({numericAxis:N}),k=ia(E,y0),C=h.map(function(M,F){var D,V,$,H,G,Q;f?D=Nxe(f[m+F],T):(D=Jr(M,A),Array.isArray(D)||(D=[O,D]));var Y=k_e(j,qH.defaultProps.minPointSize)(D[1],F);if(w==="horizontal"){var W,J=[o.scale(D[0]),o.scale(D[1])],ee=J[0],q=J[1];V=b3({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:M,index:F}),$=(W=q??ee)!==null&&W!==void 0?W:void 0,H=y.size;var X=ee-q;if(G=Number.isNaN(X)?0:X,Q={x:V,y:o.y,width:H,height:o.height},Math.abs(Y)>0&&Math.abs(G)<Math.abs(Y)){var se=Hn(G||Y)*(Math.abs(Y)-Math.abs(G));$-=se,G+=se}}else{var xe=[a.scale(D[0]),a.scale(D[1])],Ae=xe[0],Te=xe[1];if(V=Ae,$=b3({axis:o,ticks:u,bandSize:i,offset:y.offset,entry:M,index:F}),H=Te-Ae,G=y.size,Q={x:a.x,y:$,width:a.width,height:G},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var me=Hn(H||Y)*(Math.abs(Y)-Math.abs(H));H+=me}}return zr(zr(zr({},M),{},{x:V,y:$,width:H,height:G,value:f?D:D[1],payload:M,background:Q},k&&k[F]&&k[F].props),{},{tooltipPayload:[vH(r,M)],tooltipPosition:{x:V+H/2,y:$+G/2}})});return zr({data:C,layout:w},p)});function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function B_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GH(n.key),n)}}function U_e(t,e,r){return e&&Y$(t.prototype,e),r&&Y$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(r),!0).forEach(function(n){L0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L0(t,e,r){return e=GH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GH(t){var e=z_e(t,"string");return kp(e)=="symbol"?e:e+""}function z_e(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KH=function(e,r,n,i,a){var o=e.width,l=e.height,u=e.layout,f=e.children,m=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Ni(f,Su);return m.reduce(function(y,w){var b=r[w],v=b.orientation,A=b.domain,E=b.padding,j=E===void 0?{}:E,N=b.mirror,T=b.reversed,O="".concat(v).concat(N?"Mirror":""),k,C,M,F,D;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var V=A[1]-A[0],$=1/0,H=b.categoricalDomain.sort();if(H.forEach(function(xe,Ae){Ae>0&&($=Math.min((xe||0)-(H[Ae-1]||0),$))}),Number.isFinite($)){var G=$/V,Q=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(k=G*Q/2),b.padding==="no-gap"){var Y=Wn(e.barCategoryGap,G*Q),W=G*Q/2;k=W-Y-(W-Y)/Q*Y}}}i==="xAxis"?C=[n.left+(j.left||0)+(k||0),n.left+n.width-(j.right||0)-(k||0)]:i==="yAxis"?C=u==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(k||0),n.top+n.height-(j.bottom||0)-(k||0)]:C=b.range,T&&(C=[C[1],C[0]]);var J=hH(b,a,p),ee=J.scale,q=J.realScaleType;ee.domain(A).range(C),mH(ee);var X=pH(ee,Pa(Pa({},b),{},{realScaleType:q}));i==="xAxis"?(D=v==="top"&&!N||v==="bottom"&&N,M=n.left,F=h[O]-D*b.height):i==="yAxis"&&(D=v==="left"&&!N||v==="right"&&N,M=h[O]-D*b.width,F=n.top);var se=Pa(Pa(Pa({},b),X),{},{realScaleType:q,x:M,y:F,scale:ee,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return se.bandSize=Px(se,X),!b.hide&&i==="xAxis"?h[O]+=(D?-1:1)*se.height:b.hide||(h[O]+=(D?-1:1)*se.width),Pa(Pa({},y),{},L0({},w,se))},{})},YH=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},q_e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return YH({x:r,y:n},{x:i,y:a})},QH=function(){function t(e){B_e(this,t),this.scale=e}return U_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();L0(QH,"EPS",1e-4);var wC=function(e){var r=Object.keys(e).reduce(function(n,i){return Pa(Pa({},n),{},L0({},i,QH.create(e[i])))},{});return Pa(Pa({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return y_e(i,function(u,f){return r[f].apply(u,{bandAware:o,position:l})})},isInRange:function(i){return zH(i,function(a,o){return r[o].isInRange(a)})}})};function H_e(t){return(t%180+180)%180}var W_e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=H_e(i),o=a*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},zN,X$;function G_e(){if(X$)return zN;X$=1;var t=Cs(),e=ng(),r=p0();function n(i){return function(a,o,l){var u=Object(a);if(!e(a)){var f=t(o,3);a=r(a),o=function(h){return f(u[h],h,u)}}var m=i(a,o,l);return m>-1?u[f?a[m]:m]:void 0}}return zN=n,zN}var qN,J$;function K_e(){if(J$)return qN;J$=1;var t=FH();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return qN=e,qN}var HN,Z$;function Y_e(){if(Z$)return HN;Z$=1;var t=Kz(),e=Cs(),r=K_e(),n=Math.max;function i(a,o,l){var u=a==null?0:a.length;if(!u)return-1;var f=l==null?0:r(l);return f<0&&(f=n(u+f,0)),t(a,e(o,3),f)}return HN=i,HN}var WN,eF;function Q_e(){if(eF)return WN;eF=1;var t=G_e(),e=Y_e(),r=t(e);return WN=r,WN}var X_e=Q_e();const J_e=er(X_e);var Z_e=cz();const eSe=er(Z_e);var tSe=eSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_C=S.createContext(void 0),SC=S.createContext(void 0),XH=S.createContext(void 0),JH=S.createContext({}),ZH=S.createContext(void 0),e7=S.createContext(0),t7=S.createContext(0),tF=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,u=e.width,f=e.height,m=tSe(a);return U.createElement(_C.Provider,{value:n},U.createElement(SC.Provider,{value:i},U.createElement(JH.Provider,{value:a},U.createElement(XH.Provider,{value:m},U.createElement(ZH.Provider,{value:o},U.createElement(e7.Provider,{value:f},U.createElement(t7.Provider,{value:u},l)))))))},rSe=function(){return S.useContext(ZH)},r7=function(e){var r=S.useContext(_C);r==null&&du();var n=r[e];return n==null&&du(),n},nSe=function(){var e=S.useContext(_C);return pl(e)},iSe=function(){var e=S.useContext(SC),r=J_e(e,function(n){return zH(n.domain,Number.isFinite)});return r||pl(e)},n7=function(e){var r=S.useContext(SC);r==null&&du();var n=r[e];return n==null&&du(),n},aSe=function(){var e=S.useContext(XH);return e},sSe=function(){return S.useContext(JH)},jC=function(){return S.useContext(t7)},NC=function(){return S.useContext(e7)};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function oSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a7(n.key),n)}}function cSe(t,e,r){return e&&lSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uSe(t,e,r){return e=Wx(e),dSe(t,i7()?Reflect.construct(e,r||[],Wx(t).constructor):e.apply(t,r))}function dSe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fSe(t)}function fSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i7=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(t)}function hSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fT(t,e)}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){EC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EC(t,e,r){return e=a7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a7(t){var e=mSe(t,"string");return Nf(e)=="symbol"?e:e+""}function mSe(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pSe(t,e){return xSe(t)||ySe(t,e)||vSe(t,e)||gSe()}function gSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vSe(t,e){if(t){if(typeof t=="string")return iF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iF(t,e)}}function iF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ySe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function xSe(t){if(Array.isArray(t))return t}function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hT.apply(this,arguments)}var bSe=function(e,r){var n;return U.isValidElement(e)?n=U.cloneElement(e,r):ft(e)?n=e(r):n=U.createElement("line",hT({},r,{className:"recharts-reference-line-line"})),n},wSe=function(e,r,n,i,a,o,l,u,f){var m=a.x,h=a.y,p=a.width,y=a.height;if(n){var w=f.y,b=e.y.apply(w,{position:o});if(gs(f,"discard")&&!e.y.isInRange(b))return null;var v=[{x:m+p,y:b},{x:m,y:b}];return u==="left"?v.reverse():v}if(r){var A=f.x,E=e.x.apply(A,{position:o});if(gs(f,"discard")&&!e.x.isInRange(E))return null;var j=[{x:E,y:h+y},{x:E,y:h}];return l==="top"?j.reverse():j}if(i){var N=f.segment,T=N.map(function(O){return e.apply(O,{position:o})});return gs(f,"discard")&&m_e(T,function(O){return!e.isInRange(O)})?null:T}return null};function _Se(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,u=t.alwaysShow,f=rSe(),m=r7(i),h=n7(a),p=aSe();if(!f||!p)return null;Ra(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=wC({x:m.scale,y:h.scale}),w=Zr(e),b=Zr(r),v=n&&n.length===2,A=wSe(y,w,b,v,p,t.position,m.orientation,h.orientation,t);if(!A)return null;var E=pSe(A,2),j=E[0],N=j.x,T=j.y,O=E[1],k=O.x,C=O.y,M=gs(t,"hidden")?"url(#".concat(f,")"):void 0,F=nF(nF({clipPath:M},Xe(t,!0)),{},{x1:N,y1:T,x2:k,y2:C});return U.createElement(Ut,{className:bt("recharts-reference-line",l)},bSe(o,F),cn.renderCallByParent(t,q_e({x1:N,y1:T,x2:k,y2:C})))}var AC=function(t){function e(){return oSe(this,e),uSe(this,e,arguments)}return hSe(e,t),cSe(e,[{key:"render",value:function(){return U.createElement(_Se,this.props)}}])}(U.Component);EC(AC,"displayName","ReferenceLine");EC(AC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mT(){return mT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mT.apply(this,arguments)}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(n){$0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o7(n.key),n)}}function NSe(t,e,r){return e&&jSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ESe(t,e,r){return e=Gx(e),ASe(t,s7()?Reflect.construct(e,r||[],Gx(t).constructor):e.apply(t,r))}function ASe(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TSe(t)}function TSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(t)}function PSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pT(t,e)}function pT(t,e){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pT(t,e)}function $0(t,e,r){return e=o7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o7(t){var e=kSe(t,"string");return Ef(e)=="symbol"?e:e+""}function kSe(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CSe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=wC({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return gs(e,"discard")&&!o.isInRange(l)?null:l},F0=function(t){function e(){return SSe(this,e),ESe(this,e,arguments)}return PSe(e,t),NSe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,f=Zr(i),m=Zr(a);if(Ra(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var h=CSe(this.props);if(!h)return null;var p=h.x,y=h.y,w=this.props,b=w.shape,v=w.className,A=gs(this.props,"hidden")?"url(#".concat(u,")"):void 0,E=sF(sF({clipPath:A},Xe(this.props,!0)),{},{cx:p,cy:y});return U.createElement(Ut,{className:bt("recharts-reference-dot",v)},e.renderDot(b,E),cn.renderCallByParent(this.props,{x:p-o,y:y-o,width:2*o,height:2*o}))}}])}(U.Component);$0(F0,"displayName","ReferenceDot");$0(F0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$0(F0,"renderDot",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):ft(t)?r=t(e):r=U.createElement(k0,mT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gT.apply(this,arguments)}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){V0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ISe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c7(n.key),n)}}function RSe(t,e,r){return e&&OSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MSe(t,e,r){return e=Kx(e),DSe(t,l7()?Reflect.construct(e,r||[],Kx(t).constructor):e.apply(t,r))}function DSe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LSe(t)}function LSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l7=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(t)}function $Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vT(t,e)}function vT(t,e){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vT(t,e)}function V0(t,e,r){return e=c7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c7(t){var e=FSe(t,"string");return Af(e)=="symbol"?e:e+""}function FSe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VSe=function(e,r,n,i,a){var o=a.x1,l=a.x2,u=a.y1,f=a.y2,m=a.xAxis,h=a.yAxis;if(!m||!h)return null;var p=wC({x:m.scale,y:h.scale}),y={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(u,{position:"start"}):p.y.rangeMin},w={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(f,{position:"end"}):p.y.rangeMax};return gs(a,"discard")&&(!p.isInRange(y)||!p.isInRange(w))?null:YH(y,w)},B0=function(t){function e(){return ISe(this,e),MSe(this,e,arguments)}return $Se(e,t),RSe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,u=n.className,f=n.alwaysShow,m=n.clipPathId;Ra(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Zr(i),p=Zr(a),y=Zr(o),w=Zr(l),b=this.props.shape;if(!h&&!p&&!y&&!w&&!b)return null;var v=VSe(h,p,y,w,this.props);if(!v&&!b)return null;var A=gs(this.props,"hidden")?"url(#".concat(m,")"):void 0;return U.createElement(Ut,{className:bt("recharts-reference-area",u)},e.renderRect(b,lF(lF({clipPath:A},Xe(this.props,!0)),v)),cn.renderCallByParent(this.props,v))}}])}(U.Component);V0(B0,"displayName","ReferenceArea");V0(B0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});V0(B0,"renderRect",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):ft(t)?r=t(e):r=U.createElement(bC,gT({},e,{className:"recharts-reference-area-rect"})),r});function u7(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function BSe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return W_e(n,r)}function USe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Yx(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function zSe(t,e){return u7(t,e+1)}function qSe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,u=0,f=1,m=o,h=function(){var w=n==null?void 0:n[u];if(w===void 0)return{v:u7(n,f)};var b=u,v,A=function(){return v===void 0&&(v=r(w,b)),v},E=w.coordinate,j=u===0||Yx(t,E,A,m,l);j||(u=0,m=o,f+=1),j&&(m=E+t*(A()/2+i),u+=f)},p;f<=a.length;)if(p=h(),p)return p.v;return[]}function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){HSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HSe(t,e,r){return e=WSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WSe(t){var e=GSe(t,"string");return Cp(e)=="symbol"?e:e+""}function GSe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KSe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,u=e.end,f=function(p){var y=a[p],w,b=function(){return w===void 0&&(w=r(y,p)),w};if(p===o-1){var v=t*(y.coordinate+t*b()/2-u);a[p]=y=kn(kn({},y),{},{tickCoord:v>0?y.coordinate-v*t:y.coordinate})}else a[p]=y=kn(kn({},y),{},{tickCoord:y.coordinate});var A=Yx(t,y.tickCoord,b,l,u);A&&(u=y.tickCoord-t*(b()/2+i),a[p]=kn(kn({},y),{},{isShow:!0}))},m=o-1;m>=0;m--)f(m);return a}function YSe(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,u=e.start,f=e.end;if(a){var m=n[l-1],h=r(m,l-1),p=t*(m.coordinate+t*h/2-f);o[l-1]=m=kn(kn({},m),{},{tickCoord:p>0?m.coordinate-p*t:m.coordinate});var y=Yx(t,m.tickCoord,function(){return h},u,f);y&&(f=m.tickCoord-t*(h/2+i),o[l-1]=kn(kn({},m),{},{isShow:!0}))}for(var w=a?l-1:l,b=function(E){var j=o[E],N,T=function(){return N===void 0&&(N=r(j,E)),N};if(E===0){var O=t*(j.coordinate-t*T()/2-u);o[E]=j=kn(kn({},j),{},{tickCoord:O<0?j.coordinate-O*t:j.coordinate})}else o[E]=j=kn(kn({},j),{},{tickCoord:j.coordinate});var k=Yx(t,j.tickCoord,T,u,f);k&&(u=j.tickCoord+t*(T()/2+i),o[E]=kn(kn({},j),{},{isShow:!0}))},v=0;v<w;v++)b(v);return o}function TC(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,u=t.interval,f=t.tickFormatter,m=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(Ne(u)||bu.isSsr)return zSe(i,typeof u=="number"&&Ne(u)?u:0);var p=[],y=l==="top"||l==="bottom"?"width":"height",w=m&&y==="width"?jm(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(j,N){var T=ft(f)?f(j.value,N):j.value;return y==="width"?BSe(jm(T,{fontSize:e,letterSpacing:r}),w,h):jm(T,{fontSize:e,letterSpacing:r})[y]},v=i.length>=2?Hn(i[1].coordinate-i[0].coordinate):1,A=USe(a,v,y);return u==="equidistantPreserveStart"?qSe(v,A,b,i,o):(u==="preserveStart"||u==="preserveStartEnd"?p=YSe(v,A,b,i,o,u==="preserveStartEnd"):p=KSe(v,A,b,i,o),p.filter(function(E){return E.isShow}))}var QSe=["viewBox"],XSe=["viewBox"],JSe=["ticks"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jd.apply(this,arguments)}function uF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(r),!0).forEach(function(n){PC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GN(t,e){if(t==null)return{};var r=ZSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f7(n.key),n)}}function tje(t,e,r){return e&&dF(t.prototype,e),r&&dF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rje(t,e,r){return e=Qx(e),nje(t,d7()?Reflect.construct(e,r||[],Qx(t).constructor):e.apply(t,r))}function nje(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ije(t)}function ije(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d7=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(t)}function aje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yT(t,e)}function yT(t,e){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yT(t,e)}function PC(t,e,r){return e=f7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7(t){var e=sje(t,"string");return Tf(e)=="symbol"?e:e+""}function sje(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ih=function(t){function e(r){var n;return eje(this,e),n=rje(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return aje(e,t),tje(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=GN(n,QSe),l=this.props,u=l.viewBox,f=GN(l,XSe);return!Od(a,u)||!Od(o,f)||!Od(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,u=i.height,f=i.orientation,m=i.tickSize,h=i.mirror,p=i.tickMargin,y,w,b,v,A,E,j=h?-1:1,N=n.tickSize||m,T=Ne(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=w=n.coordinate,v=o+ +!h*u,b=v-j*N,E=b-j*p,A=T;break;case"left":b=v=n.coordinate,w=a+ +!h*l,y=w-j*N,A=y-j*p,E=T;break;case"right":b=v=n.coordinate,w=a+ +h*l,y=w+j*N,A=y+j*p,E=T;break;default:y=w=n.coordinate,v=o+ +h*u,b=v+j*N,E=b+j*p,A=T;break}return{line:{x1:y,y1:b,x2:w,y2:v},tick:{x:A,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,u=n.orientation,f=n.mirror,m=n.axisLine,h=Bn(Bn(Bn({},Xe(this.props,!1)),Xe(m,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var p=+(u==="top"&&!f||u==="bottom"&&f);h=Bn(Bn({},h),{},{x1:i,y1:a+p*l,x2:i+o,y2:a+p*l})}else{var y=+(u==="left"&&!f||u==="right"&&f);h=Bn(Bn({},h),{},{x1:i+y*o,y1:a,x2:i+y*o,y2:a+l})}return U.createElement("line",jd({},h,{className:bt("recharts-cartesian-axis-line",Di(m,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,u=l.tickLine,f=l.stroke,m=l.tick,h=l.tickFormatter,p=l.unit,y=TC(Bn(Bn({},this.props),{},{ticks:n}),i,a),w=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Xe(this.props,!1),A=Xe(m,!1),E=Bn(Bn({},v),{},{fill:"none"},Xe(u,!1)),j=y.map(function(N,T){var O=o.getTickLineCoord(N),k=O.line,C=O.tick,M=Bn(Bn(Bn(Bn({textAnchor:w,verticalAnchor:b},v),{},{stroke:"none",fill:f},A),C),{},{index:T,payload:N,visibleTicksCount:y.length,tickFormatter:h});return U.createElement(Ut,jd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},lu(o.props,N,T)),u&&U.createElement("line",jd({},E,k,{className:bt("recharts-cartesian-axis-tick-line",Di(u,"className"))})),m&&e.renderTickItem(m,M,"".concat(ft(h)?h(N.value,T):N.value).concat(p||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,u=i.ticksGenerator,f=i.className,m=i.hide;if(m)return null;var h=this.props,p=h.ticks,y=GN(h,JSe),w=p;return ft(u)&&(w=p&&p.length>0?u(this.props):u(y)),o<=0||l<=0||!w||!w.length?null:U.createElement(Ut,{className:bt("recharts-cartesian-axis",f),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return U.isValidElement(n)?o=U.cloneElement(n,i):ft(n)?o=n(i):o=U.createElement(cu,jd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(S.Component);PC(ih,"displayName","CartesianAxis");PC(ih,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oje=["x1","y1","x2","y2","key"],lje=["offset"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){cje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cje(t,e,r){return e=uje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uje(t){var e=dje(t,"string");return fu(e)=="symbol"?e:e+""}function dje(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bc.apply(this,arguments)}function hF(t,e){if(t==null)return{};var r=fje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hje=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,u=e.ry;return U.createElement("rect",{x:i,y:a,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function h7(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(ft(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,u=hF(e,oje),f=Xe(u,!1);f.offset;var m=hF(f,lje);r=U.createElement("line",Bc({},m,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function mje(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,u){var f=On(On({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(u),index:u});return h7(i,f)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pje(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,u){var f=On(On({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(u),index:u});return h7(i,f)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gje(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,u=t.horizontal,f=u===void 0?!0:u;if(!f||!e||!e.length)return null;var m=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,y){return p-y});i!==m[0]&&m.unshift(0);var h=m.map(function(p,y){var w=!m[y+1],b=w?i+o-p:m[y+1]-p;if(b<=0)return null;var v=y%e.length;return U.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:b,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function vje(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,u=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var m=f.map(function(p){return Math.round(p+a-a)}).sort(function(p,y){return p-y});a!==m[0]&&m.unshift(0);var h=m.map(function(p,y){var w=!m[y+1],b=w?a+l-p:m[y+1]-p;if(b<=0)return null;var v=y%n.length;return U.createElement("rect",{key:"react-".concat(y),x:p,y:o,width:b,height:u,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var yje=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return fH(TC(On(On(On({},ih.defaultProps),n),{},{ticks:io(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},xje=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return fH(TC(On(On(On({},ih.defaultProps),n),{},{ticks:io(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},cd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kC(t){var e,r,n,i,a,o,l=jC(),u=NC(),f=sSe(),m=On(On({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:cd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:cd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:cd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:cd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:cd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:cd.verticalFill,x:Ne(t.x)?t.x:f.left,y:Ne(t.y)?t.y:f.top,width:Ne(t.width)?t.width:f.width,height:Ne(t.height)?t.height:f.height}),h=m.x,p=m.y,y=m.width,w=m.height,b=m.syncWithTicks,v=m.horizontalValues,A=m.verticalValues,E=nSe(),j=iSe();if(!Ne(y)||y<=0||!Ne(w)||w<=0||!Ne(h)||h!==+h||!Ne(p)||p!==+p)return null;var N=m.verticalCoordinatesGenerator||yje,T=m.horizontalCoordinatesGenerator||xje,O=m.horizontalPoints,k=m.verticalPoints;if((!O||!O.length)&&ft(T)){var C=v&&v.length,M=T({yAxis:j?On(On({},j),{},{ticks:C?v:j.ticks}):void 0,width:l,height:u,offset:f},C?!0:b);Ra(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fu(M),"]")),Array.isArray(M)&&(O=M)}if((!k||!k.length)&&ft(N)){var F=A&&A.length,D=N({xAxis:E?On(On({},E),{},{ticks:F?A:E.ticks}):void 0,width:l,height:u,offset:f},F?!0:b);Ra(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fu(D),"]")),Array.isArray(D)&&(k=D)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(hje,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),U.createElement(mje,Bc({},m,{offset:f,horizontalPoints:O,xAxis:E,yAxis:j})),U.createElement(pje,Bc({},m,{offset:f,verticalPoints:k,xAxis:E,yAxis:j})),U.createElement(gje,Bc({},m,{horizontalPoints:O})),U.createElement(vje,Bc({},m,{verticalPoints:k})))}kC.displayName="CartesianGrid";var bje=["layout","type","stroke","connectNulls","isRange","ref"],wje=["key"],m7;function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function p7(t,e){if(t==null)return{};var r=_je(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _je(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uc.apply(this,arguments)}function mF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(r),!0).forEach(function(n){ds(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v7(n.key),n)}}function jje(t,e,r){return e&&pF(t.prototype,e),r&&pF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nje(t,e,r){return e=Xx(e),Eje(t,g7()?Reflect.construct(e,r||[],Xx(t).constructor):e.apply(t,r))}function Eje(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aje(t)}function Aje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g7=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}function Tje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}function xT(t,e){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xT(t,e)}function ds(t,e,r){return e=v7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v7(t){var e=Pje(t,"string");return Pf(e)=="symbol"?e:e+""}function Pje(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=function(t){function e(){var r;Sje(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Nje(this,e,[].concat(i)),ds(r,"state",{isAnimationFinished:!0}),ds(r,"id",Jf("recharts-area-")),ds(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ft(o)&&o()}),ds(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ft(o)&&o()}),r}return Tje(e,t),jje(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,f=u.dot,m=u.points,h=u.dataKey,p=Xe(this.props,!1),y=Xe(f,!0),w=m.map(function(v,A){var E=cl(cl(cl({key:"dot-".concat(A),r:3},p),y),{},{index:A,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:m});return e.renderDotItem(f,E)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Ut,Uc({className:"recharts-area-dots"},b),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,u=o[0].x,f=o[o.length-1].x,m=n*Math.abs(u-f),h=jl(o.map(function(p){return p.y||0}));return Ne(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(jl(a.map(function(p){return p.y||0})),h)),Ne(h)?U.createElement("rect",{x:u<f?u:u-m,y:0,width:m,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,u=o[0].y,f=o[o.length-1].y,m=n*Math.abs(u-f),h=jl(o.map(function(p){return p.x||0}));return Ne(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(jl(a.map(function(p){return p.x||0})),h)),Ne(h)?U.createElement("rect",{x:0,y:u<f?u:u-m,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var l=this.props,u=l.layout,f=l.type,m=l.stroke,h=l.connectNulls,p=l.isRange;l.ref;var y=p7(l,bje);return U.createElement(Ut,{clipPath:a?"url(#clipPath-".concat(o,")"):null},U.createElement(Dd,Uc({},Xe(y,!0),{points:n,connectNulls:h,type:f,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),m!=="none"&&U.createElement(Dd,Uc({},Xe(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:h,fill:"none",points:n})),m!=="none"&&p&&U.createElement(Dd,Uc({},Xe(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,u=o.baseLine,f=o.isAnimationActive,m=o.animationBegin,h=o.animationDuration,p=o.animationEasing,y=o.animationId,w=this.state,b=w.prevPoints,v=w.prevBaseLine;return U.createElement(Ns,{begin:m,duration:h,isActive:f,easing:p,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(b){var j=b.length/l.length,N=l.map(function(C,M){var F=Math.floor(M*j);if(b[F]){var D=b[F],V=si(D.x,C.x),$=si(D.y,C.y);return cl(cl({},C),{},{x:V(E),y:$(E)})}return C}),T;if(Ne(u)&&typeof u=="number"){var O=si(v,u);T=O(E)}else if(xt(u)||Xf(u)){var k=si(v,0);T=k(E)}else T=u.map(function(C,M){var F=Math.floor(M*j);if(v[F]){var D=v[F],V=si(D.x,C.x),$=si(D.y,C.y);return cl(cl({},C),{},{x:V(E),y:$(E)})}return C});return a.renderAreaStatically(N,T,n,i)}return U.createElement(Ut,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(E))),U.createElement(Ut,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,u,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,l=a.baseLine,u=a.isAnimationActive,f=this.state,m=f.prevPoints,h=f.prevBaseLine,p=f.totalLength;return u&&o&&o.length&&(!m&&p>0||!gf(m,o)||!gf(h,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,u=i.className,f=i.top,m=i.left,h=i.xAxis,p=i.yAxis,y=i.width,w=i.height,b=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var A=this.state.isAnimationFinished,E=l.length===1,j=bt("recharts-area",u),N=h&&h.allowDataOverflow,T=p&&p.allowDataOverflow,O=N||T,k=xt(v)?this.id:v,C=(n=Xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=C.r,F=M===void 0?3:M,D=C.strokeWidth,V=D===void 0?2:D,$=wde(o)?o:{},H=$.clipDot,G=H===void 0?!0:H,Q=F*2+V;return U.createElement(Ut,{className:j},N||T?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(k)},U.createElement("rect",{x:N?m:m-y/2,y:T?f:f-w/2,width:N?y:y*2,height:T?w:w*2})),!G&&U.createElement("clipPath",{id:"clipPath-dots-".concat(k)},U.createElement("rect",{x:m-Q/2,y:f-Q/2,width:y+Q,height:w+Q}))):null,E?null:this.renderArea(O,k),(o||E)&&this.renderDots(O,G,k),(!b||A)&&uo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);m7=rc;ds(rc,"displayName","Area");ds(rc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!bu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ds(rc,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(Ne(l)&&typeof l=="number")return l;var u=i==="horizontal"?n:r,f=u.scale.domain();if(u.type==="number"){var m=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return l==="dataMin"?h:l==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});ds(rc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,u=t.dataKey,f=t.stackedData,m=t.dataStartIndex,h=t.displayedData,p=t.offset,y=e.layout,w=f&&f.length,b=m7.getBaseValue(e,r,n,i),v=y==="horizontal",A=!1,E=h.map(function(N,T){var O;w?O=f[m+T]:(O=Jr(N,u),Array.isArray(O)?A=!0:O=[b,O]);var k=O[1]==null||w&&Jr(N,u)==null;return v?{x:x3({axis:n,ticks:a,bandSize:l,entry:N,index:T}),y:k?null:i.scale(O[1]),value:O,payload:N}:{x:k?null:n.scale(O[1]),y:x3({axis:i,ticks:o,bandSize:l,entry:N,index:T}),value:O,payload:N}}),j;return w||A?j=E.map(function(N){var T=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:T!=null&&N.y!=null?i.scale(T):null}:{x:T!=null?n.scale(T):null,y:N.y}}):j=v?i.scale(b):n.scale(b),cl({points:E,baseLine:j,layout:y,isRange:A},p)});ds(rc,"renderDotItem",function(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(ft(t))r=t(e);else{var n=bt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=p7(e,wje);r=U.createElement(k0,Uc({},a,{key:i,className:n}))}return r});function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function kje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b7(n.key),n)}}function Ije(t,e,r){return e&&Cje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oje(t,e,r){return e=Jx(e),Rje(t,y7()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function Rje(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mje(t)}function Mje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y7=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(t)}function Dje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bT(t,e)}function x7(t,e,r){return e=b7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b7(t){var e=Lje(t,"string");return kf(e)=="symbol"?e:e+""}function Lje(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wT.apply(this,arguments)}function $je(t){var e=t.xAxisId,r=jC(),n=NC(),i=r7(e);return i==null?null:U.createElement(ih,wT({},i,{className:bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return io(o,!0)}}))}var ah=function(t){function e(){return kje(this,e),Oje(this,e,arguments)}return Dje(e,t),Ije(e,[{key:"render",value:function(){return U.createElement($je,this.props)}}])}(U.Component);x7(ah,"displayName","XAxis");x7(ah,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S7(n.key),n)}}function Bje(t,e,r){return e&&Vje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uje(t,e,r){return e=Zx(e),zje(t,w7()?Reflect.construct(e,r||[],Zx(t).constructor):e.apply(t,r))}function zje(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qje(t)}function qje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!t})()}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(t)}function Hje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_T(t,e)}function _T(t,e){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_T(t,e)}function _7(t,e,r){return e=S7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S7(t){var e=Wje(t,"string");return Cf(e)=="symbol"?e:e+""}function Wje(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ST.apply(this,arguments)}var Gje=function(e){var r=e.yAxisId,n=jC(),i=NC(),a=n7(r);return a==null?null:U.createElement(ih,ST({},a,{className:bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return io(l,!0)}}))},sh=function(t){function e(){return Fje(this,e),Uje(this,e,arguments)}return Hje(e,t),Bje(e,[{key:"render",value:function(){return U.createElement(Gje,this.props)}}])}(U.Component);_7(sh,"displayName","YAxis");_7(sh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function gF(t){return Xje(t)||Qje(t)||Yje(t)||Kje()}function Kje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yje(t,e){if(t){if(typeof t=="string")return jT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jT(t,e)}}function Qje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xje(t){if(Array.isArray(t))return jT(t)}function jT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NT=function(e,r,n,i,a){var o=ia(e,AC),l=ia(e,F0),u=[].concat(gF(o),gF(l)),f=ia(e,B0),m="".concat(i,"Id"),h=i[0],p=r;if(u.length&&(p=u.reduce(function(b,v){if(v.props[m]===n&&gs(v.props,"extendDomain")&&Ne(v.props[h])){var A=v.props[h];return[Math.min(b[0],A),Math.max(b[1],A)]}return b},p)),f.length){var y="".concat(h,"1"),w="".concat(h,"2");p=f.reduce(function(b,v){if(v.props[m]===n&&gs(v.props,"extendDomain")&&Ne(v.props[y])&&Ne(v.props[w])){var A=v.props[y],E=v.props[w];return[Math.min(b[0],A,E),Math.max(b[1],A,E)]}return b},p)}return a&&a.length&&(p=a.reduce(function(b,v){return Ne(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},p)),p},KN={exports:{}},vF;function Jje(){return vF||(vF=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function a(u,f,m,h,p){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new i(m,h||u,p),w=r?r+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],m,h;if(this._eventsCount===0)return f;for(h in m=this._events)e.call(m,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},l.prototype.listeners=function(f){var m=r?r+f:f,h=this._events[m];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,y=h.length,w=new Array(y);p<y;p++)w[p]=h[p].fn;return w},l.prototype.listenerCount=function(f){var m=r?r+f:f,h=this._events[m];return h?h.fn?1:h.length:0},l.prototype.emit=function(f,m,h,p,y,w){var b=r?r+f:f;if(!this._events[b])return!1;var v=this._events[b],A=arguments.length,E,j;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),A){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,m),!0;case 3:return v.fn.call(v.context,m,h),!0;case 4:return v.fn.call(v.context,m,h,p),!0;case 5:return v.fn.call(v.context,m,h,p,y),!0;case 6:return v.fn.call(v.context,m,h,p,y,w),!0}for(j=1,E=new Array(A-1);j<A;j++)E[j-1]=arguments[j];v.fn.apply(v.context,E)}else{var N=v.length,T;for(j=0;j<N;j++)switch(v[j].once&&this.removeListener(f,v[j].fn,void 0,!0),A){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,m);break;case 3:v[j].fn.call(v[j].context,m,h);break;case 4:v[j].fn.call(v[j].context,m,h,p);break;default:if(!E)for(T=1,E=new Array(A-1);T<A;T++)E[T-1]=arguments[T];v[j].fn.apply(v[j].context,E)}}return!0},l.prototype.on=function(f,m,h){return a(this,f,m,h,!1)},l.prototype.once=function(f,m,h){return a(this,f,m,h,!0)},l.prototype.removeListener=function(f,m,h,p){var y=r?r+f:f;if(!this._events[y])return this;if(!m)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===m&&(!p||w.once)&&(!h||w.context===h)&&o(this,y);else{for(var b=0,v=[],A=w.length;b<A;b++)(w[b].fn!==m||p&&!w[b].once||h&&w[b].context!==h)&&v.push(w[b]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(KN)),KN.exports}var Zje=Jje();const eNe=er(Zje);var YN=new eNe,QN="recharts.syncMouseEvents";function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function tNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j7(n.key),n)}}function nNe(t,e,r){return e&&rNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XN(t,e,r){return e=j7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j7(t){var e=iNe(t,"string");return Ip(e)=="symbol"?e:e+""}function iNe(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aNe=function(){function t(){tNe(this,t),XN(this,"activeIndex",0),XN(this,"coordinateList",[]),XN(this,"layout","horizontal")}return nNe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,u=r.layout,f=u===void 0?null:u,m=r.offset,h=m===void 0?null:m,p=r.mouseHandlerCallback,y=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+u+f,p=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function sNe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ne(n)&&Ne(i))return!0}return!1}function oNe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function N7(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=mr(e,r,n,i),l=mr(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function lNe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,u=e.cy,f=e.innerRadius,m=e.outerRadius,h=e.angle,p=mr(l,u,f,h),y=mr(l,u,m,h);n=p.x,i=p.y,a=y.x,o=y.y}else return N7(e);return[{x:n,y:i},{x:a,y:o}]}function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){cNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cNe(t,e,r){return e=uNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uNe(t){var e=dNe(t,"string");return Op(e)=="symbol"?e:e+""}function dNe(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fNe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,u=t.offset,f=t.activeTooltipIndex,m=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var w,b=Dd;if(p==="ScatterChart")w=o,b=Lwe;else if(p==="BarChart")w=oNe(h,o,u,m),b=bC;else if(h==="radial"){var v=N7(o),A=v.cx,E=v.cy,j=v.radius,N=v.startAngle,T=v.endAngle;w={cx:A,cy:E,startAngle:N,endAngle:T,innerRadius:j,outerRadius:j},b=SH}else w={points:lNe(h,o,u)},b=Dd;var O=Qv(Qv(Qv(Qv({stroke:"#ccc",pointerEvents:"none"},u),w),Xe(y,!1)),{},{payload:l,payloadIndex:f,className:bt("recharts-tooltip-cursor",y.className)});return S.isValidElement(y)?S.cloneElement(y,O):S.createElement(b,O)}var hNe=["item"],mNe=["children","className","width","height","style","compact","title","desc"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(this,arguments)}function xF(t,e){return vNe(t)||gNe(t,e)||A7(t,e)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function vNe(t){if(Array.isArray(t))return t}function bF(t,e){if(t==null)return{};var r=yNe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T7(n.key),n)}}function wNe(t,e,r){return e&&bNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ne(t,e,r){return e=eb(e),SNe(t,E7()?Reflect.construct(e,r||[],eb(t).constructor):e.apply(t,r))}function SNe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jNe(t)}function jNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!t})()}function eb(t){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(t)}function NNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ET(t,e)}function ET(t,e){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ET(t,e)}function Of(t){return TNe(t)||ANe(t)||A7(t)||ENe()}function ENe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t,e){if(t){if(typeof t=="string")return AT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AT(t,e)}}function ANe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TNe(t){if(Array.isArray(t))return AT(t)}function AT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lt(t,e,r){return e=T7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T7(t){var e=PNe(t,"string");return If(e)=="symbol"?e:e+""}function PNe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kNe={xAxis:["bottom","top"],yAxis:["left","right"]},CNe={width:"100%",height:"100%"},P7={x:0,y:0};function Xv(t){return t}var INe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ONe=function(e,r,n,i){var a=r.find(function(m){return m&&m.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return de(de(de({},i),mr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var u=a.coordinate,f=i.angle;return de(de(de({},i),mr(i.cx,i.cy,u,f)),{},{angle:f,radius:u})}return P7},U0=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var f=u.props.data;return f&&f.length?[].concat(Of(l),Of(f)):l},[]);return o.length>0?o:e&&e.length&&Ne(i)&&Ne(a)?e.slice(i,a+1):[]};function k7(t){return t==="number"?[0,"auto"]:void 0}var TT=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=U0(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(u,f){var m,h=(m=f.props.data)!==null&&m!==void 0?m:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var y=h===void 0?l:h;p=ix(y,o.dataKey,i)}else p=h&&h[n]||l[n];return p?[].concat(Of(u),[vH(f,p)]):u},[])},_F=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=INe(a,n),l=e.orderedTooltipTicks,u=e.tooltipAxis,f=e.tooltipTicks,m=yxe(o,l,f,u);if(m>=0&&f){var h=f[m]&&f[m].value,p=TT(e,r,m,h),y=ONe(n,l,m,a);return{activeTooltipIndex:m,activeLabel:h,activePayload:p,activeCoordinate:y}}return null},RNe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,h=e.children,p=e.stackOffset,y=dH(m,a);return n.reduce(function(w,b){var v,A=b.type.defaultProps!==void 0?de(de({},b.type.defaultProps),b.props):b.props,E=A.type,j=A.dataKey,N=A.allowDataOverflow,T=A.allowDuplicatedCategory,O=A.scale,k=A.ticks,C=A.includeHidden,M=A[o];if(w[M])return w;var F=U0(e.data,{graphicalItems:i.filter(function(X){var se,xe=o in X.props?X.props[o]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[o];return xe===M}),dataStartIndex:u,dataEndIndex:f}),D=F.length,V,$,H;sNe(A.domain,N,E)&&(V=zA(A.domain,null,N),y&&(E==="number"||O!=="auto")&&(H=Em(F,j,"category")));var G=k7(E);if(!V||V.length===0){var Q,Y=(Q=A.domain)!==null&&Q!==void 0?Q:G;if(j){if(V=Em(F,j,E),E==="category"&&y){var W=fde(V);T&&W?($=V,V=Bx(0,D)):T||(V=S3(Y,V,b).reduce(function(X,se){return X.indexOf(se)>=0?X:[].concat(Of(X),[se])},[]))}else if(E==="category")T?V=V.filter(function(X){return X!==""&&!xt(X)}):V=S3(Y,V,b).reduce(function(X,se){return X.indexOf(se)>=0||se===""||xt(se)?X:[].concat(Of(X),[se])},[]);else if(E==="number"){var J=Sxe(F,i.filter(function(X){var se,xe,Ae=o in X.props?X.props[o]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[o],Te="hide"in X.props?X.props.hide:(xe=X.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Ae===M&&(C||!Te)}),j,a,m);J&&(V=J)}y&&(E==="number"||O!=="auto")&&(H=Em(F,j,"category"))}else y?V=Bx(0,D):l&&l[M]&&l[M].hasStack&&E==="number"?V=p==="expand"?[0,1]:gH(l[M].stackGroups,u,f):V=uH(F,i.filter(function(X){var se=o in X.props?X.props[o]:X.type.defaultProps[o],xe="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return se===M&&(C||!xe)}),E,m,!0);if(E==="number")V=NT(h,V,M,a,k),Y&&(V=zA(Y,V,N));else if(E==="category"&&Y){var ee=Y,q=V.every(function(X){return ee.indexOf(X)>=0});q&&(V=ee)}}return de(de({},w),{},lt({},M,de(de({},A),{},{axisType:a,domain:V,categoricalDomain:H,duplicateDomain:$,originalDomain:(v=A.domain)!==null&&v!==void 0?v:G,isCategorical:y,layout:m})))},{})},MNe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,h=e.children,p=U0(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:f}),y=p.length,w=dH(m,a),b=-1;return n.reduce(function(v,A){var E=A.type.defaultProps!==void 0?de(de({},A.type.defaultProps),A.props):A.props,j=E[o],N=k7("number");if(!v[j]){b++;var T;return w?T=Bx(0,y):l&&l[j]&&l[j].hasStack?(T=gH(l[j].stackGroups,u,f),T=NT(h,T,j,a)):(T=zA(N,uH(p,n.filter(function(O){var k,C,M=o in O.props?O.props[o]:(k=O.type.defaultProps)===null||k===void 0?void 0:k[o],F="hide"in O.props?O.props.hide:(C=O.type.defaultProps)===null||C===void 0?void 0:C.hide;return M===j&&!F}),"number",m),i.defaultProps.allowDataOverflow),T=NT(h,T,j,a)),de(de({},v),{},lt({},j,de(de({axisType:a},i.defaultProps),{},{hide:!0,orientation:Di(kNe,"".concat(a,".").concat(b%2),null),domain:T,originalDomain:N,isCategorical:w,layout:m})))}return v},{})},DNe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,m=e.children,h="".concat(i,"Id"),p=ia(m,a),y={};return p&&p.length?y=RNe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:f}):o&&o.length&&(y=MNe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:f})),y},LNe=function(e){var r=pl(e),n=io(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Wk(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Px(r,n)}},SF=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ni(r,Sf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$Ne=function(e){return!e||!e.length?!1:e.some(function(r){var n=lo(r&&r.type);return n&&n.indexOf("Bar")>=0})},jF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FNe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,u=l===void 0?{}:l,f=n.width,m=n.height,h=n.children,p=n.margin||{},y=Ni(h,Sf),w=Ni(h,Cl),b=Object.keys(u).reduce(function(T,O){var k=u[O],C=k.orientation;return!k.mirror&&!k.hide?de(de({},T),{},lt({},C,T[C]+k.width)):T},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(T,O){var k=o[O],C=k.orientation;return!k.mirror&&!k.hide?de(de({},T),{},lt({},C,Di(T,"".concat(C))+k.height)):T},{top:p.top||0,bottom:p.bottom||0}),A=de(de({},v),b),E=A.bottom;y&&(A.bottom+=y.props.height||Sf.defaultProps.height),w&&r&&(A=wxe(A,i,n,r));var j=f-A.left-A.right,N=m-A.top-A.bottom;return de(de({brushBottom:E},A),{},{width:Math.max(j,0),height:Math.max(N,0)})},VNe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},CC=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=e.axisComponents,f=e.legendContent,m=e.formatAxisMap,h=e.defaultProps,p=function(v,A){var E=A.graphicalItems,j=A.stackGroups,N=A.offset,T=A.updateId,O=A.dataStartIndex,k=A.dataEndIndex,C=v.barSize,M=v.layout,F=v.barGap,D=v.barCategoryGap,V=v.maxBarSize,$=jF(M),H=$.numericAxisName,G=$.cateAxisName,Q=$Ne(E),Y=[];return E.forEach(function(W,J){var ee=U0(v.data,{graphicalItems:[W],dataStartIndex:O,dataEndIndex:k}),q=W.type.defaultProps!==void 0?de(de({},W.type.defaultProps),W.props):W.props,X=q.dataKey,se=q.maxBarSize,xe=q["".concat(H,"Id")],Ae=q["".concat(G,"Id")],Te={},me=u.reduce(function(Lt,Oe){var Ze=A["".concat(Oe.axisType,"Map")],rt=q["".concat(Oe.axisType,"Id")];Ze&&Ze[rt]||Oe.axisType==="zAxis"||du();var $t=Ze[rt];return de(de({},Lt),{},lt(lt({},Oe.axisType,$t),"".concat(Oe.axisType,"Ticks"),io($t)))},Te),Pe=me[G],ue=me["".concat(G,"Ticks")],ve=j&&j[xe]&&j[xe].hasStack&&Ixe(W,j[xe].stackGroups),_e=lo(W.type).indexOf("Bar")>=0,le=Px(Pe,ue),Ye=[],Ke=Q&&xxe({barSize:C,stackGroups:j,totalSize:VNe(me,G)});if(_e){var ut,st,mt=xt(se)?V:se,lr=(ut=(st=Px(Pe,ue,!0))!==null&&st!==void 0?st:mt)!==null&&ut!==void 0?ut:0;Ye=bxe({barGap:F,barCategoryGap:D,bandSize:lr!==le?lr:le,sizeList:Ke[Ae],maxBarSize:mt}),lr!==le&&(Ye=Ye.map(function(Lt){return de(de({},Lt),{},{position:de(de({},Lt.position),{},{offset:Lt.position.offset-lr/2})})}))}var Ct=W&&W.type&&W.type.getComposedData;Ct&&Y.push({props:de(de({},Ct(de(de({},me),{},{displayedData:ee,props:v,dataKey:X,item:W,bandSize:le,barPosition:Ye,offset:N,stackedData:ve,layout:M,dataStartIndex:O,dataEndIndex:k}))),{},lt(lt(lt({key:W.key||"item-".concat(J)},H,me[H]),G,me[G]),"animationId",T)),childIndex:jde(W,v.children),item:W})}),Y},y=function(v,A){var E=v.props,j=v.dataStartIndex,N=v.dataEndIndex,T=v.updateId;if(!LD({props:E}))return null;var O=E.children,k=E.layout,C=E.stackOffset,M=E.data,F=E.reverseStackOrder,D=jF(k),V=D.numericAxisName,$=D.cateAxisName,H=ia(O,n),G=kxe(M,H,"".concat(V,"Id"),"".concat($,"Id"),C,F),Q=u.reduce(function(q,X){var se="".concat(X.axisType,"Map");return de(de({},q),{},lt({},se,DNe(E,de(de({},X),{},{graphicalItems:H,stackGroups:X.axisType===V&&G,dataStartIndex:j,dataEndIndex:N}))))},{}),Y=FNe(de(de({},Q),{},{props:E,graphicalItems:H}),A==null?void 0:A.legendBBox);Object.keys(Q).forEach(function(q){Q[q]=m(E,Q[q],Y,q.replace("Map",""),r)});var W=Q["".concat($,"Map")],J=LNe(W),ee=p(E,de(de({},Q),{},{dataStartIndex:j,dataEndIndex:N,updateId:T,graphicalItems:H,stackGroups:G,offset:Y}));return de(de({formattedGraphicalItems:ee,graphicalItems:H,offset:Y,stackGroups:G},J),Q)},w=function(b){function v(A){var E,j,N;return xNe(this,v),N=_Ne(this,v,[A]),lt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lt(N,"accessibilityManager",new aNe),lt(N,"handleLegendBBoxUpdate",function(T){if(T){var O=N.state,k=O.dataStartIndex,C=O.dataEndIndex,M=O.updateId;N.setState(de({legendBBox:T},y({props:N.props,dataStartIndex:k,dataEndIndex:C,updateId:M},de(de({},N.state),{},{legendBBox:T}))))}}),lt(N,"handleReceiveSyncEvent",function(T,O,k){if(N.props.syncId===T){if(k===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(O)}}),lt(N,"handleBrushChange",function(T){var O=T.startIndex,k=T.endIndex;if(O!==N.state.dataStartIndex||k!==N.state.dataEndIndex){var C=N.state.updateId;N.setState(function(){return de({dataStartIndex:O,dataEndIndex:k},y({props:N.props,dataStartIndex:O,dataEndIndex:k,updateId:C},N.state))}),N.triggerSyncEvent({dataStartIndex:O,dataEndIndex:k})}}),lt(N,"handleMouseEnter",function(T){var O=N.getMouseInfo(T);if(O){var k=de(de({},O),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var C=N.props.onMouseEnter;ft(C)&&C(k,T)}}),lt(N,"triggeredAfterMouseMove",function(T){var O=N.getMouseInfo(T),k=O?de(de({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var C=N.props.onMouseMove;ft(C)&&C(k,T)}),lt(N,"handleItemMouseEnter",function(T){N.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),lt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),lt(N,"handleMouseMove",function(T){T.persist(),N.throttleTriggeredAfterMouseMove(T)}),lt(N,"handleMouseLeave",function(T){N.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var k=N.props.onMouseLeave;ft(k)&&k(O,T)}),lt(N,"handleOuterEvent",function(T){var O=Sde(T),k=Di(N.props,"".concat(O));if(O&&ft(k)){var C,M;/.*touch.*/i.test(O)?M=N.getMouseInfo(T.changedTouches[0]):M=N.getMouseInfo(T),k((C=M)!==null&&C!==void 0?C:{},T)}}),lt(N,"handleClick",function(T){var O=N.getMouseInfo(T);if(O){var k=de(de({},O),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var C=N.props.onClick;ft(C)&&C(k,T)}}),lt(N,"handleMouseDown",function(T){var O=N.props.onMouseDown;if(ft(O)){var k=N.getMouseInfo(T);O(k,T)}}),lt(N,"handleMouseUp",function(T){var O=N.props.onMouseUp;if(ft(O)){var k=N.getMouseInfo(T);O(k,T)}}),lt(N,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),lt(N,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&N.handleMouseDown(T.changedTouches[0])}),lt(N,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&N.handleMouseUp(T.changedTouches[0])}),lt(N,"triggerSyncEvent",function(T){N.props.syncId!==void 0&&YN.emit(QN,N.props.syncId,T,N.eventEmitterSymbol)}),lt(N,"applySyncEvent",function(T){var O=N.props,k=O.layout,C=O.syncMethod,M=N.state.updateId,F=T.dataStartIndex,D=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)N.setState(de({dataStartIndex:F,dataEndIndex:D},y({props:N.props,dataStartIndex:F,dataEndIndex:D,updateId:M},N.state)));else if(T.activeTooltipIndex!==void 0){var V=T.chartX,$=T.chartY,H=T.activeTooltipIndex,G=N.state,Q=G.offset,Y=G.tooltipTicks;if(!Q)return;if(typeof C=="function")H=C(Y,T);else if(C==="value"){H=-1;for(var W=0;W<Y.length;W++)if(Y[W].value===T.activeLabel){H=W;break}}var J=de(de({},Q),{},{x:Q.left,y:Q.top}),ee=Math.min(V,J.x+J.width),q=Math.min($,J.y+J.height),X=Y[H]&&Y[H].value,se=TT(N.state,N.props.data,H),xe=Y[H]?{x:k==="horizontal"?Y[H].coordinate:ee,y:k==="horizontal"?q:Y[H].coordinate}:P7;N.setState(de(de({},T),{},{activeLabel:X,activeCoordinate:xe,activePayload:se,activeTooltipIndex:H}))}else N.setState(T)}),lt(N,"renderCursor",function(T){var O,k=N.state,C=k.isTooltipActive,M=k.activeCoordinate,F=k.activePayload,D=k.offset,V=k.activeTooltipIndex,$=k.tooltipAxisBandSize,H=N.getTooltipEventType(),G=(O=T.props.active)!==null&&O!==void 0?O:C,Q=N.props.layout,Y=T.key||"_recharts-cursor";return U.createElement(fNe,{key:Y,activeCoordinate:M,activePayload:F,activeTooltipIndex:V,chartName:r,element:T,isActive:G,layout:Q,offset:D,tooltipAxisBandSize:$,tooltipEventType:H})}),lt(N,"renderPolarAxis",function(T,O,k){var C=Di(T,"type.axisType"),M=Di(N.state,"".concat(C,"Map")),F=T.type.defaultProps,D=F!==void 0?de(de({},F),T.props):T.props,V=M&&M[D["".concat(C,"Id")]];return S.cloneElement(T,de(de({},V),{},{className:bt(C,V.className),key:T.key||"".concat(O,"-").concat(k),ticks:io(V,!0)}))}),lt(N,"renderPolarGrid",function(T){var O=T.props,k=O.radialLines,C=O.polarAngles,M=O.polarRadius,F=N.state,D=F.radiusAxisMap,V=F.angleAxisMap,$=pl(D),H=pl(V),G=H.cx,Q=H.cy,Y=H.innerRadius,W=H.outerRadius;return S.cloneElement(T,{polarAngles:Array.isArray(C)?C:io(H,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(M)?M:io($,!0).map(function(J){return J.coordinate}),cx:G,cy:Q,innerRadius:Y,outerRadius:W,key:T.key||"polar-grid",radialLines:k})}),lt(N,"renderLegend",function(){var T=N.state.formattedGraphicalItems,O=N.props,k=O.children,C=O.width,M=O.height,F=N.props.margin||{},D=C-(F.left||0)-(F.right||0),V=lH({children:k,formattedGraphicalItems:T,legendWidth:D,legendContent:f});if(!V)return null;var $=V.item,H=bF(V,hNe);return S.cloneElement($,de(de({},H),{},{chartWidth:C,chartHeight:M,margin:F,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),lt(N,"renderTooltip",function(){var T,O=N.props,k=O.children,C=O.accessibilityLayer,M=Ni(k,Ji);if(!M)return null;var F=N.state,D=F.isTooltipActive,V=F.activeCoordinate,$=F.activePayload,H=F.activeLabel,G=F.offset,Q=(T=M.props.active)!==null&&T!==void 0?T:D;return S.cloneElement(M,{viewBox:de(de({},G),{},{x:G.left,y:G.top}),active:Q,label:H,payload:Q?$:[],coordinate:V,accessibilityLayer:C})}),lt(N,"renderBrush",function(T){var O=N.props,k=O.margin,C=O.data,M=N.state,F=M.offset,D=M.dataStartIndex,V=M.dataEndIndex,$=M.updateId;return S.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Wv(N.handleBrushChange,T.props.onChange),data:C,x:Ne(T.props.x)?T.props.x:F.left,y:Ne(T.props.y)?T.props.y:F.top+F.height+F.brushBottom-(k.bottom||0),width:Ne(T.props.width)?T.props.width:F.width,startIndex:D,endIndex:V,updateId:"brush-".concat($)})}),lt(N,"renderReferenceElement",function(T,O,k){if(!T)return null;var C=N,M=C.clipPathId,F=N.state,D=F.xAxisMap,V=F.yAxisMap,$=F.offset,H=T.type.defaultProps||{},G=T.props,Q=G.xAxisId,Y=Q===void 0?H.xAxisId:Q,W=G.yAxisId,J=W===void 0?H.yAxisId:W;return S.cloneElement(T,{key:T.key||"".concat(O,"-").concat(k),xAxis:D[Y],yAxis:V[J],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:M})}),lt(N,"renderActivePoints",function(T){var O=T.item,k=T.activePoint,C=T.basePoint,M=T.childIndex,F=T.isRange,D=[],V=O.props.key,$=O.item.type.defaultProps!==void 0?de(de({},O.item.type.defaultProps),O.item.props):O.item.props,H=$.activeDot,G=$.dataKey,Q=de(de({index:M,dataKey:G,cx:k.x,cy:k.y,r:4,fill:xC(O.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Xe(H,!1)),ax(H));return D.push(v.renderActiveDot(H,Q,"".concat(V,"-activePoint-").concat(M))),C?D.push(v.renderActiveDot(H,de(de({},Q),{},{cx:C.x,cy:C.y}),"".concat(V,"-basePoint-").concat(M))):F&&D.push(null),D}),lt(N,"renderGraphicChild",function(T,O,k){var C=N.filterFormatItem(T,O,k);if(!C)return null;var M=N.getTooltipEventType(),F=N.state,D=F.isTooltipActive,V=F.tooltipAxis,$=F.activeTooltipIndex,H=F.activeLabel,G=N.props.children,Q=Ni(G,Ji),Y=C.props,W=Y.points,J=Y.isRange,ee=Y.baseLine,q=C.item.type.defaultProps!==void 0?de(de({},C.item.type.defaultProps),C.item.props):C.item.props,X=q.activeDot,se=q.hide,xe=q.activeBar,Ae=q.activeShape,Te=!!(!se&&D&&Q&&(X||xe||Ae)),me={};M!=="axis"&&Q&&Q.props.trigger==="click"?me={onClick:Wv(N.handleItemMouseEnter,T.props.onClick)}:M!=="axis"&&(me={onMouseLeave:Wv(N.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Wv(N.handleItemMouseEnter,T.props.onMouseEnter)});var Pe=S.cloneElement(T,de(de({},C.props),me));function ue(Oe){return typeof V.dataKey=="function"?V.dataKey(Oe.payload):null}if(Te)if($>=0){var ve,_e;if(V.dataKey&&!V.allowDuplicatedCategory){var le=typeof V.dataKey=="function"?ue:"payload.".concat(V.dataKey.toString());ve=ix(W,le,H),_e=J&&ee&&ix(ee,le,H)}else ve=W==null?void 0:W[$],_e=J&&ee&&ee[$];if(Ae||xe){var Ye=T.props.activeIndex!==void 0?T.props.activeIndex:$;return[S.cloneElement(T,de(de(de({},C.props),me),{},{activeIndex:Ye})),null,null]}if(!xt(ve))return[Pe].concat(Of(N.renderActivePoints({item:C,activePoint:ve,basePoint:_e,childIndex:$,isRange:J})))}else{var Ke,ut=(Ke=N.getItemByXY(N.state.activeCoordinate))!==null&&Ke!==void 0?Ke:{graphicalItem:Pe},st=ut.graphicalItem,mt=st.item,lr=mt===void 0?T:mt,Ct=st.childIndex,Lt=de(de(de({},C.props),me),{},{activeIndex:Ct});return[S.cloneElement(lr,Lt),null,null]}return J?[Pe,null,null]:[Pe,null]}),lt(N,"renderCustomized",function(T,O,k){return S.cloneElement(T,de(de({key:"recharts-customized-".concat(k)},N.props),N.state))}),lt(N,"renderMap",{CartesianGrid:{handler:Xv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Xv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Xv},YAxis:{handler:Xv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((E=A.id)!==null&&E!==void 0?E:Jf("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=oq(N.triggeredAfterMouseMove,(j=A.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return NNe(v,b),wNe(v,[{key:"componentDidMount",value:function(){var E,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,j=E.children,N=E.data,T=E.height,O=E.layout,k=Ni(j,Ji);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,F=TT(this.state,N,C,M),D=this.state.tooltipTicks[C].coordinate,V=(this.state.offset.top+T)/2,$=O==="horizontal",H=$?{x:D,y:V}:{y:D,x:V},G=this.state.formattedGraphicalItems.find(function(Y){var W=Y.item;return W.type.name==="Scatter"});G&&(H=de(de({},H),G.props.points[C].tooltipPosition),F=G.props.points[C].tooltipPayload);var Q={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:M,activePayload:F,activeCoordinate:H};this.setState(Q),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var N,T;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(E){dA([Ni(E.children,Ji)],[Ni(this.props.children,Ji)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Ni(this.props.children,Ji);if(E&&typeof E.props.shared=="boolean"){var j=E.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),T=upe(N),O={chartX:Math.round(E.pageX-T.left),chartY:Math.round(E.pageY-T.top)},k=N.width/j.offsetWidth||1,C=this.inRange(O.chartX,O.chartY,k);if(!C)return null;var M=this.state,F=M.xAxisMap,D=M.yAxisMap,V=this.getTooltipEventType();if(V!=="axis"&&F&&D){var $=pl(F).scale,H=pl(D).scale,G=$&&$.invert?$.invert(O.chartX):null,Q=H&&H.invert?H.invert(O.chartY):null;return de(de({},O),{},{xValue:G,yValue:Q})}var Y=_F(this.state,this.props.data,this.props.layout,C);return Y?de(de({},O),Y):null}},{key:"inRange",value:function(E,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,O=E/N,k=j/N;if(T==="horizontal"||T==="vertical"){var C=this.state.offset,M=O>=C.left&&O<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return M?{x:O,y:k}:null}var F=this.state,D=F.angleAxisMap,V=F.radiusAxisMap;if(D&&V){var $=pl(D);return E3({x:O,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,j=this.getTooltipEventType(),N=Ni(E,Ji),T={};N&&j==="axis"&&(N.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var O=ax(this.props,this.handleOuterEvent);return de(de({},O),T)}},{key:"addListener",value:function(){YN.on(QN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){YN.removeListener(QN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,j,N){for(var T=this.state.formattedGraphicalItems,O=0,k=T.length;O<k;O++){var C=T[O];if(C.item===E||C.props.key===E.key||j===lo(C.item.type)&&N===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,j=this.state.offset,N=j.left,T=j.top,O=j.height,k=j.width;return U.createElement("defs",null,U.createElement("clipPath",{id:E},U.createElement("rect",{x:N,y:T,height:O,width:k})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(j,N){var T=xF(N,2),O=T[0],k=T[1];return de(de({},j),{},lt({},O,k.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(j,N){var T=xF(N,2),O=T[0],k=T[1];return de(de({},j),{},lt({},O,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[E])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(E){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[E])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(E){var j=this.state,N=j.formattedGraphicalItems,T=j.activeItem;if(N&&N.length)for(var O=0,k=N.length;O<k;O++){var C=N[O],M=C.props,F=C.item,D=F.type.defaultProps!==void 0?de(de({},F.type.defaultProps),F.props):F.props,V=lo(F.type);if(V==="Bar"){var $=(M.data||[]).find(function(Y){return vwe(E,Y)});if($)return{graphicalItem:C,payload:$}}else if(V==="RadialBar"){var H=(M.data||[]).find(function(Y){return E3(E,Y)});if(H)return{graphicalItem:C,payload:H}}else if(M0(C,T)||D0(C,T)||Ap(C,T)){var G=B1e({graphicalItem:C,activeTooltipItem:T,itemData:D.data}),Q=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:de(de({},C),{},{childIndex:Q}),payload:Ap(C,T)?D.data[G]:C.props.data[G]}}}return null}},{key:"render",value:function(){var E=this;if(!LD(this))return null;var j=this.props,N=j.children,T=j.className,O=j.width,k=j.height,C=j.style,M=j.compact,F=j.title,D=j.desc,V=bF(j,mNe),$=Xe(V,!1);if(M)return U.createElement(tF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(hA,km({},$,{width:O,height:k,title:F,desc:D}),this.renderClipPath(),FD(N,this.renderMap)));if(this.props.accessibilityLayer){var H,G;$.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,$.role=(G=this.props.role)!==null&&G!==void 0?G:"application",$.onKeyDown=function(Y){E.accessibilityManager.keyboardEvent(Y)},$.onFocus=function(){E.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return U.createElement(tF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",km({className:bt("recharts-wrapper",T),style:de({position:"relative",cursor:"default",width:O,height:k},C)},Q,{ref:function(W){E.container=W}}),U.createElement(hA,km({},$,{width:O,height:k,title:F,desc:D,style:CNe}),this.renderClipPath(),FD(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);return lt(w,"displayName",r),lt(w,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),lt(w,"getDerivedStateFromProps",function(b,v){var A=b.dataKey,E=b.data,j=b.children,N=b.width,T=b.height,O=b.layout,k=b.stackOffset,C=b.margin,M=v.dataStartIndex,F=v.dataEndIndex;if(v.updateId===void 0){var D=SF(b);return de(de(de({},D),{},{updateId:0},y(de(de({props:b},D),{},{updateId:0}),v)),{},{prevDataKey:A,prevData:E,prevWidth:N,prevHeight:T,prevLayout:O,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(A!==v.prevDataKey||E!==v.prevData||N!==v.prevWidth||T!==v.prevHeight||O!==v.prevLayout||k!==v.prevStackOffset||!Od(C,v.prevMargin)){var V=SF(b),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},H=de(de({},_F(v,E,O)),{},{updateId:v.updateId+1}),G=de(de(de({},V),$),H);return de(de(de({},G),y(de({props:b},G),v)),{},{prevDataKey:A,prevData:E,prevWidth:N,prevHeight:T,prevLayout:O,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(!dA(j,v.prevChildren)){var Q,Y,W,J,ee=Ni(j,Sf),q=ee&&(Q=(Y=ee.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&Q!==void 0?Q:M,X=ee&&(W=(J=ee.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:F,se=q!==M||X!==F,xe=!xt(E),Ae=xe&&!se?v.updateId:v.updateId+1;return de(de({updateId:Ae},y(de(de({props:b},v),{},{updateId:Ae,dataStartIndex:q,dataEndIndex:X}),v)),{},{prevChildren:j,dataStartIndex:q,dataEndIndex:X})}return null}),lt(w,"renderActiveDot",function(b,v,A){var E;return S.isValidElement(b)?E=S.cloneElement(b,v):ft(b)?E=b(v):E=U.createElement(k0,v),U.createElement(Ut,{className:"recharts-active-dot",key:A},E)}),function(v){return U.createElement(w,v)}},BNe=CC({chartName:"BarChart",GraphicalChild:Su,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ah},{axisType:"yAxis",AxisComp:sh}],formatAxisMap:KH}),UNe=CC({chartName:"PieChart",GraphicalChild:Io,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:R0},{axisType:"radiusAxis",AxisComp:I0}],formatAxisMap:Uxe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),zNe=CC({chartName:"AreaChart",GraphicalChild:rc,axisComponents:[{axisType:"xAxis",AxisComp:ah},{axisType:"yAxis",AxisComp:sh}],formatAxisMap:KH});const gl=({data:t,title:e,dataKey:r="value",color:n="#00ffcc",height:i=300})=>s.jsxs("div",{className:"sci-fi-card",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-safebite-text",children:e}),s.jsx("div",{style:{width:"100%",height:i},children:s.jsx(Kk,{width:"100%",height:"100%",children:s.jsxs(zNe,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:`color${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:n,stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:n,stopOpacity:0})]})}),s.jsx(kC,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),s.jsx(ah,{dataKey:"date",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),s.jsx(sh,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),s.jsx(Ji,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),s.jsx(rc,{type:"monotone",dataKey:r,stroke:n,fillOpacity:1,fill:`url(#color${r})`})]})})})]}),IC="AIzaSyDzRb8YtCnJxJAw-ke3qvh8Z-cIt5KyxDA";console.log("Google Gemini API Key loaded:","Available");const NF=async t=>{try{const e=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":IC},body:JSON.stringify({contents:[{role:"user",parts:[{text:`As a nutrition expert, please provide 3 healthy food recommendations based on this query: "${t}". 
                For each recommendation, include a brief explanation of its nutritional benefits. 
                Format your response in a concise, easy-to-read way.`}]}],generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!e.ok)throw new Error(`Gemini API error: ${e.status}`);const r=await e.json();if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts&&r.candidates[0].content.parts.length>0)return r.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error getting food recommendations from Gemini:",e),"I'm sorry, but I couldn't generate food recommendations at the moment. Please try again later."}},OC=async t=>{try{const e=t.map(i=>({role:i.role,parts:[{text:i.content}]})),r=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":IC},body:JSON.stringify({contents:e,generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!r.ok)throw new Error(`Gemini API error: ${r.status}`);const n=await r.json();if(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0)return n.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(e){return console.error("Error chatting with Gemini:",e),"I'm sorry, but I couldn't process your message at the moment. Please try again later."}},C7=async t=>{var e,r,n,i,a,o,l,u,f,m,h;try{const p=`
      As a nutrition expert, please analyze this food item and provide health insights:
      
      Name: ${t.name}
      Brand: ${t.brand||"N/A"}
      Calories: ${t.calories||0} kcal
      
      Nutrients:
      - Protein: ${((e=t.nutrients)==null?void 0:e.protein)||0}g
      - Carbs: ${((r=t.nutrients)==null?void 0:r.carbs)||0}g
      - Fat: ${((n=t.nutrients)==null?void 0:n.fat)||0}g
      - Fiber: ${((i=t.nutrients)==null?void 0:i.fiber)||0}g
      - Sugar: ${((a=t.nutrients)==null?void 0:a.sugar)||0}g
      
      ${((l=(o=t.details)==null?void 0:o.ingredients)==null?void 0:l.length)>0?`Ingredients: ${t.details.ingredients.join(", ")}`:""}
      
      ${((f=(u=t.details)==null?void 0:u.allergens)==null?void 0:f.length)>0?`Allergens: ${t.details.allergens.join(", ")}`:""}
      
      ${((h=(m=t.details)==null?void 0:m.additives)==null?void 0:h.length)>0?`Additives: ${t.details.additives.join(", ")}`:""}
      
      Please provide:
      1. A brief nutritional assessment (is it healthy, balanced, etc.)
      2. Key health benefits
      3. Any potential concerns
      4. A suggestion for how this food could fit into a healthy diet
      
      Keep your response concise and easy to understand.
    `,y=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":IC},body:JSON.stringify({contents:[{role:"user",parts:[{text:p}]}],generationConfig:{temperature:.7,maxOutputTokens:800}})});if(!y.ok)throw new Error(`Gemini API error: ${y.status}`);const w=await y.json();if(w.candidates&&w.candidates.length>0&&w.candidates[0].content&&w.candidates[0].content.parts&&w.candidates[0].content.parts.length>0)return w.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(p){return console.error("Error analyzing food item with Gemini:",p),"I'm sorry, but I couldn't analyze this food item at the moment. Please try again later."}},qNe=({activityLevel:t,weeklyAnswers:e,userId:r})=>{const[n,i]=S.useState(""),[a,o]=S.useState(!0),[l,u]=S.useState(t),[f,m]=S.useState(e),h=Wt(We),p=ir(We);S.useEffect(()=>{(async()=>{var b;if(t&&e){u(t),m(e);return}try{const v=h.currentUser||(r?{uid:r}:null);if(v){const A=await Fr(Pt(p,"users",v.uid));if(A.exists()){const E=A.data();u(E.activity_level||E.activityLevel),m(((b=E.weeklyCheckin)==null?void 0:b.answers)||E.weeklyAnswers)}}}catch(v){console.error("Error fetching user data:",v)}})()},[h,p,t,e,r]),S.useEffect(()=>{(async()=>{o(!0);try{const b=`
          As a fitness expert, provide a personalized activity recommendation based on the following user data:
          - Activity Level: ${l||"Unknown"}
          - Weekly Exercise Minutes: ${(f==null?void 0:f.exerciseMinutes)||"Unknown"}
          - Sleep Hours: ${(f==null?void 0:f.sleepHours)||"Unknown"}
          - Stress Level: ${(f==null?void 0:f.stressLevel)||"Unknown"}

          Provide a specific, actionable recommendation in 2-3 sentences. Start with "Based on your profile, I recommend...".
          If information is limited, provide general advice for beginners.
        `,v=await OC([{role:"user",content:b}]);i(v)}catch(b){console.error("Error generating activity recommendation:",b),i(y(l))}finally{o(!1)}})()},[l,f]);const y=w=>w==="Sedentary"?"Based on your sedentary activity level, I recommend starting with 15-minute walks a few times a week and gradually increasing the duration and intensity. Try to incorporate simple stretching exercises in the morning to improve flexibility.":w==="Lightly Active"?"Based on your lightly active profile, I recommend incorporating more moderate-intensity activities like brisk walking or cycling into your routine. Aim for 30 minutes of activity 5 days a week, and consider adding basic strength training twice weekly.":w==="Active"?"Based on your active lifestyle, I recommend maintaining your current activity level and consider adding more challenging workouts to further improve your fitness. Try incorporating interval training and varying your routine to prevent plateaus.":w==="Very Active"?"Based on your very active profile, I recommend continuing your active lifestyle while focusing on recovery and injury prevention. Consider adding yoga or mobility work, and ensure you are getting adequate nutrition to support your activity level.":"Based on your profile, I recommend consulting with a healthcare professional or certified trainer to determine the best activity plan for you. Start with activities you enjoy and gradually increase intensity as your fitness improves.";return a?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(Xi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Personalized Activity Recommendation"]})}),s.jsx(it,{className:"flex justify-center items-center py-8",children:s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(HT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Personalized Activity Recommendation"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-safebite-card-bg-alt p-4 rounded-md",children:s.jsx("p",{className:"text-safebite-text",children:n})}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(re,{variant:"outline",className:"text-safebite-teal border-safebite-teal hover:bg-safebite-teal hover:text-white",onClick:()=>window.location.href="/healthbox",children:["Explore Health Tools",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]})})]})})]})},lg=()=>{const[t,e]=S.useState(!1),r=Wt(We);return S.useEffect(()=>{const a=r.currentUser,o=localStorage.getItem("userType"),l=sessionStorage.getItem("safebite-guest-mode");a?(e(!1),(o==="guest"||l==="true")&&(localStorage.removeItem("userType"),sessionStorage.removeItem("safebite-guest-mode"),console.log("User is logged in, clearing guest mode flags"))):(e(o==="guest"||l==="true"),l==="true"&&console.log("Using emergency guest mode due to permission denied"));const u=r.onAuthStateChanged(f=>{if(f)e(!1),localStorage.removeItem("userType"),sessionStorage.removeItem("safebite-guest-mode");else{const m=localStorage.getItem("userType"),h=sessionStorage.getItem("safebite-guest-mode");e(m==="guest"||h==="true")}});return()=>u()},[r]),{isGuest:t,exitGuestMode:()=>{localStorage.removeItem("userType"),localStorage.removeItem("guestId"),sessionStorage.removeItem("safebite-guest-mode"),sessionStorage.removeItem("guestUserData"),e(!1)},enterEmergencyGuestMode:()=>{r.currentUser||(sessionStorage.setItem("safebite-guest-mode","true"),e(!0))}}},HNe=({data:t})=>s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{children:"Food Group Consumption"})}),s.jsx(it,{children:s.jsx("div",{style:{width:"100%",height:300},children:s.jsx(Kk,{width:"100%",height:"100%",children:s.jsxs(BNe,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(kC,{strokeDasharray:"3 3",stroke:"#1e2a4a"}),s.jsx(ah,{dataKey:"foodGroup",stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),s.jsx(sh,{stroke:"#a0a0a0",tick:{fill:"#a0a0a0"}}),s.jsx(Ji,{contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),s.jsx(Cl,{}),s.jsx(Su,{dataKey:"value",fill:"#8884d8"})]})})})})]}),WNe=({data:t,colors:e})=>{const r=t.reduce((i,a)=>i+a.value,0),n=i=>{const{cx:a,cy:o,midAngle:l,innerRadius:u,outerRadius:f,percent:m}=i,h=Math.PI/180,p=u+(f-u)*.5,y=a+p*Math.cos(-l*h),w=o+p*Math.sin(-l*h);return s.jsx("text",{x:y,y:w,fill:"white",textAnchor:y>a?"start":"end",dominantBaseline:"central",fontSize:12,children:`${(m*100).toFixed(0)}%`})};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{children:"Macronutrient Ratio"})}),s.jsx(it,{children:s.jsx("div",{style:{width:"100%",height:300},children:s.jsx(Kk,{width:"100%",height:"100%",children:s.jsxs(UNe,{children:[s.jsx(Ji,{formatter:i=>[`${i}g (${(Number(i)/r*100).toFixed(1)}%)`,"Amount"],contentStyle:{backgroundColor:"#101a35",borderColor:"#1e2a4a",color:"#e0e0e0"}}),s.jsx(Io,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:n,children:t.map((i,a)=>s.jsx(y0,{fill:e[a%e.length]},`cell-${a}`))}),s.jsx(Cl,{formatter:(i,a,o)=>{const l=t[o];return`${i}: ${l.value}g (${(l.value/r*100).toFixed(0)}%)`}})]})})})})]})},GNe=()=>{const t=Gr();return s.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-safebite-purple bg-safebite-purple/10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kn,{className:"mr-3 h-5 w-5 text-safebite-purple"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-safebite-text font-medium",children:"You're using SafeBite in guest mode"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Some features are limited. Create an account to access all features."})]})]}),s.jsx(re,{onClick:()=>t("/auth/signup"),className:"bg-safebite-purple hover:bg-safebite-purple/80 text-white",children:"Sign Up"})]})},KNe=()=>{const t=Gr(),{toast:e}=ar(),[r,n]=S.useState(!0);return S.useEffect(()=>{r&&(e({title:"Welcome to SafeBite!",description:"You're in guest mode. Your data won't be saved when you leave.",variant:"default",duration:6e3}),n(!1))},[e,r]),s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsx(GNe,{}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:"Welcome, Guest"})}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Explore SafeBite's features in guest mode. Sign up to save your data and get personalized recommendations."})]}),s.jsx("div",{className:"mt-4 sm:mt-0",children:s.jsxs(re,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[s.jsx(zT,{className:"mr-2 h-5 w-5"}),"Create Account"]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Discover SafeBite Features"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(ke,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50",children:[s.jsx(pt,{className:"pb-2",children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(wn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Food Search"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Search for food items to get detailed nutritional information and safety analysis."}),s.jsxs(re,{onClick:()=>t("/food-search"),className:"w-full bg-safebite-card-bg-alt hover:bg-safebite-card-bg-alt/80",children:["Try Food Search",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]})]})]}),s.jsxs(ke,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50",children:[s.jsx(pt,{className:"pb-2",children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(Kc,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Health Tools"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Access 30+ health calculators and tools to monitor and improve your health."}),s.jsxs(re,{onClick:()=>t("/healthbox"),className:"w-full bg-safebite-card-bg-alt hover:bg-safebite-card-bg-alt/80",children:["Explore Health Tools",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]})]})]}),s.jsxs(ke,{className:"sci-fi-card hover:shadow-neon-teal transition-all duration-300 hover:border-safebite-teal/50",children:[s.jsx(pt,{className:"pb-2",children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(BT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"AI Analysis"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Get AI-powered analysis of food items and personalized health recommendations."}),s.jsxs(re,{onClick:()=>t("/food-search"),className:"w-full bg-safebite-card-bg-alt hover:bg-safebite-card-bg-alt/80",children:["Try AI Analysis",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Features Available After Sign Up"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(ke,{className:"sci-fi-card bg-safebite-card-bg/50 border-safebite-card-bg-alt/50",children:[s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(Gc,{className:"h-5 w-5 text-safebite-text-secondary"})}),s.jsx(pt,{className:"pb-2",children:s.jsxs(ht,{className:"flex items-center text-safebite-text-secondary",children:[s.jsx(Xi,{className:"mr-2 h-5 w-5 text-safebite-text-secondary"}),"Health Tracking"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Track your nutrition, water intake, and activity over time with personalized charts."}),s.jsx(re,{onClick:()=>t("/auth/signup"),className:"w-full bg-safebite-card-bg-alt/50 hover:bg-safebite-card-bg-alt/80",variant:"outline",children:"Sign Up to Access"})]})]}),s.jsxs(ke,{className:"sci-fi-card bg-safebite-card-bg/50 border-safebite-card-bg-alt/50",children:[s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(Gc,{className:"h-5 w-5 text-safebite-text-secondary"})}),s.jsx(pt,{className:"pb-2",children:s.jsxs(ht,{className:"flex items-center text-safebite-text-secondary",children:[s.jsx(Yc,{className:"mr-2 h-5 w-5 text-safebite-text-secondary"}),"Achievements"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Earn badges and XP points as you use SafeBite and improve your health habits."}),s.jsx(re,{onClick:()=>t("/auth/signup"),className:"w-full bg-safebite-card-bg-alt/50 hover:bg-safebite-card-bg-alt/80",variant:"outline",children:"Sign Up to Access"})]})]}),s.jsxs(ke,{className:"sci-fi-card bg-safebite-card-bg/50 border-safebite-card-bg-alt/50",children:[s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(Gc,{className:"h-5 w-5 text-safebite-text-secondary"})}),s.jsx(pt,{className:"pb-2",children:s.jsxs(ht,{className:"flex items-center text-safebite-text-secondary",children:[s.jsx(qY,{className:"mr-2 h-5 w-5 text-safebite-text-secondary"}),"Food Delivery"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Get nutritional information for restaurant meals from Zomato and Swiggy (coming soon)."}),s.jsx(re,{onClick:()=>t("/auth/signup"),className:"w-full bg-safebite-card-bg-alt/50 hover:bg-safebite-card-bg-alt/80",variant:"outline",children:"Sign Up to Access"})]})]})]})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(ke,{className:"sci-fi-card shadow-neon-teal",children:[s.jsx(pt,{children:s.jsx(ht,{children:"Why Create an Account?"})}),s.jsxs(it,{children:[s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(Ai,{className:"h-5 w-5 text-safebite-teal mr-2 mt-0.5"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Save your food search history and favorites"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Ai,{className:"h-5 w-5 text-safebite-teal mr-2 mt-0.5"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Get personalized health recommendations based on your profile"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Ai,{className:"h-5 w-5 text-safebite-teal mr-2 mt-0.5"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Track your nutrition and health progress over time"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Ai,{className:"h-5 w-5 text-safebite-teal mr-2 mt-0.5"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Earn achievements and XP as you improve your health"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Ai,{className:"h-5 w-5 text-safebite-teal mr-2 mt-0.5"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Access premium features and upcoming integrations"})]})]}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(re,{onClick:()=>t("/auth/signup"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",size:"lg",children:"Create Your Free Account"})})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Coming Soon"}),s.jsxs(ke,{className:"sci-fi-card relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 border-2 border-orange-500 rounded-lg opacity-50 animate-pulse"}),s.jsxs("div",{className:"flex items-center p-6",children:[s.jsx("div",{className:"flex-shrink-0 mr-6",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center",children:s.jsx(ui,{className:"h-8 w-8 text-white"})})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"text-xl font-semibold text-orange-500 mb-2",children:"Zomato + Swiggy Integration"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with popular food delivery platforms to provide nutritional information and health recommendations for restaurant meals."}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(St,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Coming Soon"}),s.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Working on dataset"})]})]})]})]})]}),s.jsxs("div",{className:"text-center text-safebite-text-secondary text-sm mt-8",children:[s.jsx("p",{children:"SafeBite v2.1 - Created by Aditya Shenvi"}),s.jsxs("p",{className:"mt-2",children:["Guest mode provides limited functionality. ",s.jsx(re,{variant:"link",className:"p-0 h-auto text-safebite-teal",onClick:()=>t("/auth/signup"),children:"Sign up"})," for full access."]})]})]})},YNe=[{color:"bg-green-500",text:"Your protein intake is on track with your goals"},{color:"bg-yellow-500",text:"Consider increasing water intake by 2 cups"},{color:"bg-blue-500",text:"Your nutrient score has improved by 5% this week"},{color:"bg-purple-500",text:"You're 15 minutes short of your weekly exercise goal"}],QNe=({insights:t=YNe})=>{const e=[...t].sort((r,n)=>r.priority!==void 0&&n.priority!==void 0?n.priority-r.priority:0);return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{children:"Health Insights"})}),s.jsx(it,{children:s.jsx("ul",{className:"space-y-2 text-safebite-text-secondary",children:e.map((r,n)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${r.color} mr-2`}),r.text]},n))})})]})},RC="https://safebite-backend.onrender.com/api";console.log("Backend API URL:",RC);console.log("Using API URL:",RC);const MC=t=>{let e=t.nutritionScore||"yellow";return t.nutritionScore||(t.nutrients.protein>15&&(t.nutrients.fiber||0)>3&&(t.nutrients.sugar||0)<10?e="green":(t.nutrients.fat>20||(t.nutrients.sugar||0)>15)&&(e="red")),{id:`mongodb-${t._id}`,name:t.name,brand:t.brand,calories:t.calories,nutritionScore:e,image:t.image||`https://source.unsplash.com/random/100x100/?${encodeURIComponent(t.name)}`,nutrients:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,fiber:t.nutrients.fiber,sugar:t.nutrients.sugar},details:{protein:t.nutrients.protein,carbs:t.nutrients.carbs,fat:t.nutrients.fat,sodium:t.nutrients.sodium||0,sugar:t.nutrients.sugar||0,calories:t.calories,ingredients:t.ingredients||[],allergens:t.allergens||[],additives:t.additives||[]},source:"MongoDB"}},Rp=async t=>{const e=await Promise.allSettled([XNe(t),JNe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.warn("All MongoDB search methods failed or returned no results"),[]},XNe=async t=>{try{const e=`${RC}/products/search?query=${encodeURIComponent(t)}`;console.log("Searching MongoDB via API:",e);const r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Origin:window.location.origin},mode:"cors",credentials:"omit",signal:r.signal});if(console.log("API response status:",i.status),clearTimeout(n),!i.ok)throw console.warn(`API error: ${i.status} - ${i.statusText}`),new Error(`API error: ${i.status} - ${i.statusText}`);const a=await i.json();return console.log(`Found ${a.length} products from MongoDB via API`),Array.isArray(a)?a.map(o=>MC(o)):(console.warn("API did not return an array:",a),[])}catch(e){return console.error("Error searching MongoDB via API:",e),[]}},JNe=async t=>{try{console.log("Trying direct Render backend...");const e=`https://safebite-backend.onrender.com/api/products/search?query=${encodeURIComponent(t)}`,r=new AbortController,n=setTimeout(()=>r.abort(),1e4),i=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:r.signal});if(clearTimeout(n),!i.ok)throw new Error(`Render API error: ${i.status}`);const a=await i.json();return console.log(`Found ${a.length} products from MongoDB via Render backend`),Array.isArray(a)?a.map(o=>MC(o)):(console.warn("Render API did not return an array:",a),[])}catch(e){return console.error("Render backend search failed:",e),[]}},I7=Object.freeze(Object.defineProperty({__proto__:null,convertProductToFoodItem:MC,searchProductsInMongoDB:Rp},Symbol.toStringTag,{value:"Module"})),ZNe=({userId:t,preferences:e=[]})=>{const[r,n]=S.useState([]),[i,a]=S.useState(!0),[o,l]=S.useState(null),{toast:u}=ar(),f=Wt(We),m=ir(We);return S.useEffect(()=>{(async()=>{a(!0),l(null);try{let p=[...e];if(p.length===0&&f.currentUser)try{const b=await Fr(Pt(m,"users",f.currentUser.uid));if(b.exists()&&b.data().preferences&&(p=b.data().preferences),p.length===0&&b.data().questionnaire){const v=b.data().questionnaire;v.dietaryRestrictions&&p.push(...v.dietaryRestrictions),v.healthGoals&&p.push(...v.healthGoals)}}catch(b){console.error("Error fetching user preferences:",b)}p.length===0&&(p=["healthy","organic","natural"]);const y=p.slice(0,2).join(" ");console.log("Searching for products with query:",y);const w=await Rp(y);if(w.length>0)n(w.slice(0,4));else{const b=await Rp("healthy food");n(b.slice(0,4))}}catch(p){console.error("Error fetching product recommendations:",p),l("Unable to load product recommendations"),u({title:"Error",description:"Failed to load product recommendations",variant:"destructive"})}finally{a(!1)}})()},[f,m,e,u]),i?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{className:"text-xl font-semibold text-safebite-text",children:"Product Recommendations"})}),s.jsx(it,{className:"flex justify-center items-center py-8",children:s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):o?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{className:"text-xl font-semibold text-safebite-text",children:"Product Recommendations"})}),s.jsxs(it,{className:"text-center py-4",children:[s.jsx(ys,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-2"}),s.jsx("p",{className:"text-safebite-text-secondary",children:o})]})]}):s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(Sy,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Product Recommendations"]})}),s.jsxs(it,{children:[r.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((h,p)=>s.jsx(ke,{className:"overflow-hidden border-safebite-card-bg-alt hover:border-safebite-teal transition-colors",children:s.jsxs("div",{className:"flex items-center p-3",children:[s.jsx("div",{className:"h-16 w-16 rounded-md bg-safebite-card-bg-alt flex items-center justify-center mr-3",children:h.image?s.jsx("img",{src:h.image,alt:h.name,className:"h-14 w-14 object-cover rounded"}):s.jsx(Sy,{className:"h-8 w-8 text-safebite-text-secondary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-safebite-text line-clamp-1",children:h.name}),s.jsxs("div",{className:"flex items-center mt-1",children:[h.nutritionScore&&s.jsx(St,{className:`mr-2 ${h.nutritionScore==="green"?"bg-green-500":h.nutritionScore==="yellow"?"bg-yellow-500":"bg-red-500"}`,children:h.nutritionScore==="green"?"Healthy":h.nutritionScore==="yellow"?"Moderate":"Unhealthy"}),h.brand&&s.jsx("span",{className:"text-xs text-safebite-text-secondary",children:h.brand})]})]})]})},p))}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-safebite-text-secondary",children:"No product recommendations available"})}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(re,{variant:"outline",className:"text-safebite-teal border-safebite-teal hover:bg-safebite-teal hover:text-white",onClick:()=>window.location.href="/food-search",children:["Explore More Products",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]})})]})]})},eEe=({userId:t})=>{const[e,r]=S.useState([]),[n,i]=S.useState(!0),[a,o]=S.useState(null),{toast:l}=ar(),u=Wt(We),f=ir(We);return S.useEffect(()=>{(async()=>{var h,p,y;i(!0),o(null);try{let w={},b="there";if(u.currentUser)try{const N=await Fr(Pt(f,"users",u.currentUser.uid));N.exists()&&(w=N.data(),b=w.displayName||w.name||u.currentUser.displayName||"there")}catch(N){console.error("Error fetching user data:",N)}let v=`User name: ${b}
`;if(w.questionnaire){const N=w.questionnaire;v+=`Age: ${N.age||"Unknown"}
`,v+=`Gender: ${N.gender||"Unknown"}
`,v+=`Height: ${N.height||"Unknown"}
`,v+=`Weight: ${N.weight||"Unknown"}
`,v+=`Activity Level: ${N.activityLevel||"Unknown"}
`,v+=`Health Goals: ${((h=N.healthGoals)==null?void 0:h.join(", "))||"Unknown"}
`,v+=`Dietary Restrictions: ${((p=N.dietaryRestrictions)==null?void 0:p.join(", "))||"None"}
`,v+=`Medical Conditions: ${((y=N.medicalConditions)==null?void 0:y.join(", "))||"None"}
`}w.foodPreferences&&(v+=`Food Preferences: ${w.foodPreferences.join(", ")}
`),w.recentSearches&&(v+=`Recent Food Searches: ${w.recentSearches.join(", ")}
`);const A=`
        Based on the following user information, provide 3 personalized health and nutrition recommendations. 
        Format each recommendation as a concise, actionable bullet point that's friendly and encouraging.
        
        User Information:
        ${v}
        
        If information is limited, provide general healthy eating and lifestyle recommendations.
        
        Your response should ONLY include the 3 bullet points, nothing else.
        `,j=(await OC([{role:"user",content:A}])).split(`
`).map(N=>N.trim()).filter(N=>N.startsWith("•")||N.startsWith("-")||N.startsWith("*")||/^\d+\./.test(N)).map(N=>N.replace(/^[•\-*]\s*|^\d+\.\s*/,""));j.length>0?r(j):r(["Try to include more colorful vegetables in your meals for better nutrition.","Stay hydrated by drinking at least 8 glasses of water daily.","Consider adding more plant-based proteins to your diet for heart health."])}catch(w){console.error("Error generating AI recommendations:",w),o("Unable to generate personalized recommendations"),r(["Try to include more colorful vegetables in your meals for better nutrition.","Stay hydrated by drinking at least 8 glasses of water daily.","Consider adding more plant-based proteins to your diet for heart health."])}finally{i(!1)}})()},[u,f,l]),n?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{className:"text-xl font-semibold text-safebite-text",children:"AI Health Insights"})}),s.jsx(it,{className:"flex justify-center items-center py-8",children:s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(BT,{className:"mr-2 h-5 w-5 text-safebite-purple"}),"AI Health Insights"]})}),s.jsxs(it,{children:[s.jsx("div",{className:"space-y-4",children:e.map((m,h)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"h-6 w-6 rounded-full bg-safebite-purple/20 flex items-center justify-center mr-3 mt-0.5",children:s.jsx(cs,{className:"h-3.5 w-3.5 text-safebite-purple"})}),s.jsx("p",{className:"text-safebite-text flex-1",children:m})]},h))}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsxs(re,{variant:"outline",className:"text-safebite-purple border-safebite-purple hover:bg-safebite-purple hover:text-white",onClick:()=>window.location.href="/healthbox",children:["Explore Health Tools",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]})})]})]})},EF={"Weight Loss":["Sprouts","Ragi","Daliya","Makhana","Moong Dal Chilla"],"Muscle Gain":["Eggs","Chicken Breast","Greek Yogurt","Salmon","Quinoa"],"Heart Health":["Walnuts","Almonds","Oats","Olive Oil","Berries"],"Diabetes Management":["Bitter Gourd","Fenugreek","Cinnamon","Amla","Flaxseeds"],"General Health":["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"],"Digestive Health":["Yogurt","Papaya","Ginger","Fennel Seeds","Banana"],"Immune Boost":["Citrus Fruits","Turmeric","Garlic","Spinach","Almonds"]},tEe=["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"],rEe=({userId:t,healthGoal:e})=>{const[r,n]=S.useState([]),[i,a]=S.useState(!0),[o,l]=S.useState(e);ar();const u=Wt(We),f=ir(We);return S.useEffect(()=>{(async()=>{a(!0);try{if(e)l(e);else if(u.currentUser)try{const h=await Fr(Pt(f,"users",u.currentUser.uid));if(h.exists()){const p=h.data();l(p.health_goals||p.healthGoals||"General Health")}}catch(h){console.error("Error fetching user data:",h)}}catch(h){console.error("Error in food recommendations:",h)}finally{a(!1)}})()},[u,f,e]),S.useEffect(()=>{o&&EF[o]?n(EF[o]):n(tEe)},[o]),i?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{className:"text-xl font-semibold text-safebite-text",children:"Food Recommendations"})}),s.jsx(it,{className:"flex justify-center items-center py-8",children:s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal"})})]}):s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(uQ,{className:"mr-2 h-5 w-5 text-green-500"}),"Food Recommendations ",o?`for ${o}`:""]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Try these healthy options:"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:r.map((m,h)=>s.jsxs("div",{className:"bg-safebite-card-bg-alt rounded-md p-3 flex items-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-500/20 flex items-center justify-center mr-3",children:s.jsx(hE,{className:"h-4 w-4 text-green-500"})}),s.jsx("span",{className:"text-safebite-text",children:m})]},h))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(re,{variant:"outline",className:"text-green-500 border-green-500 hover:bg-green-500 hover:text-white",onClick:()=>window.location.href="/food-search",children:["Explore Foods",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]})})]})})]})},tb=({isOpen:t,onClose:e,feature:r="this feature"})=>{const n=Gr(),[i,a]=S.useState(!1);if(!t)return null;const o=[{icon:s.jsx(Rl,{className:"h-5 w-5 text-green-500"}),title:"Personalized Experience",description:"Get recommendations tailored to your health profile and preferences."},{icon:s.jsx(qT,{className:"h-5 w-5 text-blue-500"}),title:"Save Your Data",description:"Track your progress over time with saved health metrics and food logs."},{icon:s.jsx(LY,{className:"h-5 w-5 text-purple-500"}),title:"Detailed Analytics",description:"Access comprehensive charts and insights about your health journey."},{icon:s.jsx(Ai,{className:"h-5 w-5 text-orange-500"}),title:"Secure Storage",description:"Your data is securely stored and protected with Firebase Authentication."}];return s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:s.jsxs(ke,{className:"sci-fi-card max-w-md w-full relative overflow-hidden",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-safebite-teal/20 to-safebite-purple/20 rounded-lg blur-sm"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:s.jsx(fi,{className:"h-5 w-5"})}),s.jsx(pt,{children:s.jsx(ht,{className:"text-xl font-bold text-center",children:i?"Benefits of Creating an Account":"Login Required"})}),s.jsx(it,{children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4 mb-6",children:o.map((l,u)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:l.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-safebite-text",children:l.title}),s.jsx("p",{className:"text-sm text-safebite-text-secondary",children:l.description})]})]},u))}),s.jsx(re,{onClick:()=>a(!1),variant:"link",className:"text-safebite-text-secondary",children:"Back to login options"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-safebite-card-bg-alt flex items-center justify-center",children:s.jsx(Gc,{className:"h-8 w-8 text-safebite-teal"})})}),s.jsxs("p",{className:"text-center text-safebite-text mb-6",children:["You need to be logged in to use ",r,"."]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(re,{onClick:()=>n("/auth/login"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[s.jsx(Im,{className:"mr-2 h-4 w-4"}),"Log In"]}),s.jsxs(re,{onClick:()=>n("/auth/signup"),variant:"outline",className:"border-safebite-purple text-safebite-purple hover:bg-safebite-purple/10",children:[s.jsx(W6,{className:"mr-2 h-4 w-4"}),"Create Account"]}),s.jsx(re,{variant:"link",className:"text-safebite-text-secondary",onClick:()=>a(!0),children:"Why should I create an account?"})]})]})}),s.jsx(bs,{className:"flex justify-center border-t border-safebite-card-bg-alt pt-4",children:s.jsx(re,{variant:"ghost",className:"text-safebite-text-secondary hover:text-safebite-text",onClick:e,children:"Continue in Guest Mode"})})]})]})})},JN=[{id:"fitbit",name:"Fitbit",icon:s.jsx(Ny,{className:"h-5 w-5"}),description:"Import your activity, sleep, and heart rate data",apiKey:"DEMO_KEY_FITBIT",color:"bg-blue-500"},{id:"googlefit",name:"Google Fit",icon:s.jsx(jy,{className:"h-5 w-5"}),description:"Import your steps, workouts, and health metrics",apiKey:"DEMO_KEY_GOOGLEFIT",color:"bg-green-500"},{id:"applehealth",name:"Apple Health",icon:s.jsx(Ny,{className:"h-5 w-5"}),description:"Import your activity, nutrition, and vitals",apiKey:"DEMO_KEY_APPLEHEALTH",color:"bg-red-500"},{id:"samsung",name:"Samsung Health",icon:s.jsx(jy,{className:"h-5 w-5"}),description:"Import your exercise, sleep, and nutrition data",apiKey:"DEMO_KEY_SAMSUNG",color:"bg-purple-500"}],nEe=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(!1),[o,l]=S.useState(!1),[u,f]=S.useState(!0),[m,h]=S.useState(!1),{toast:p}=ar(),{isGuest:y}=lg(),w=()=>{if(y){h(!0);return}a(!0),setTimeout(()=>{var v;a(!1),l(!0),p({title:"Import Successful",description:`Data from ${(v=JN.find(A=>A.id===t))==null?void 0:v.name} has been imported successfully.`,variant:"default"}),setTimeout(()=>{l(!1)},3e3)},2e3)},b=v=>{e(v);const A=JN.find(E=>E.id===v);A&&n(A.apiKey)};return s.jsxs(s.Fragment,{children:[s.jsxs(ke,{className:"sci-fi-card",children:[s.jsxs(pt,{children:[s.jsxs(ht,{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(U6,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Import Fitness Data"]}),s.jsx(tu,{children:"Connect your fitness wearables and apps to import your health data"})]}),s.jsx(it,{children:s.jsxs(To,{defaultValue:"connect",className:"w-full",children:[s.jsxs(Ps,{className:"grid grid-cols-2 mb-4",children:[s.jsx(Xt,{value:"connect",children:"Connect Device"}),s.jsx(Xt,{value:"upload",children:"Upload File"})]}),s.jsxs(_r,{value:"connect",className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:JN.map(v=>s.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${t===v.id?"border-safebite-teal bg-safebite-teal/10":"border-safebite-card-bg-alt hover:border-safebite-teal/50"}`,onClick:()=>b(v.id),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-full ${v.color} flex items-center justify-center mr-3`,children:v.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-safebite-text",children:v.name}),s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:v.description})]})]})},v.id))}),t&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(vt,{htmlFor:"apiKey",children:"API Key"}),s.jsx(At,{id:"apiKey",value:r,onChange:v=>n(v.target.value),placeholder:"Enter your API key",className:"sci-fi-input"}),s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"For demo purposes, we've pre-filled a demo API key. In a real app, you would need to obtain this from the platform."})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(n0,{id:"merge-data",checked:u,onCheckedChange:f}),s.jsx(vt,{htmlFor:"merge-data",children:"Merge with existing data"})]}),s.jsx("div",{className:"bg-safebite-card-bg-alt p-3 rounded-md",children:s.jsx("p",{className:"text-sm text-safebite-text-secondary",children:u?"Your imported data will be combined with your existing SafeBite data.":"Your imported data will replace your existing SafeBite data."})})]})]}),s.jsx(_r,{value:"upload",children:s.jsxs("div",{className:"border-2 border-dashed border-safebite-card-bg-alt rounded-lg p-8 text-center",children:[s.jsx(fb,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-2",children:"Upload Fitness Data File"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Drag and drop your fitness data export file here, or click to browse"}),s.jsx(re,{variant:"outline",className:"sci-fi-button",children:"Browse Files"}),s.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: .csv, .json, .xml, .fit"})]})})]})}),s.jsx(bs,{className:"flex justify-end",children:s.jsx(re,{onClick:w,disabled:!t||i||o,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:i?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(Zc,{className:"mr-2 h-4 w-4"}),"Imported"]}):"Import Data"})})]}),s.jsx(tb,{isOpen:m,onClose:()=>h(!1),feature:"import fitness data"})]})},iEe=(t,e)=>{const r=[];if(!t)return aEe();const n=t.activity_level||"",i=t.health_goals||"",a=t.health_conditions||"",o=t.dietary_restrictions||"",l=(e==null?void 0:e.home_cooked)||0,u=(e==null?void 0:e.water_intake)||0,f=(e==null?void 0:e.junk_food)||0,m=(e==null?void 0:e.exercise)||0,h=(e==null?void 0:e.energy_level)||"";return n==="Sedentary"?r.push({text:"Try to incorporate more movement into your day, even short walks help",color:"bg-yellow-500",priority:8}):n==="Lightly Active"&&r.push({text:"Consider adding 1-2 strength training sessions to your weekly routine",color:"bg-blue-500",priority:6}),i==="Weight Loss"?(r.push({text:"Focus on protein-rich foods to help maintain muscle while losing fat",color:"bg-green-500",priority:9}),f>5&&r.push({text:`You had ${f} junk food meals this week. Try to reduce by 2 next week`,color:"bg-red-500",priority:10})):i==="Muscle Gain"?r.push({text:"Ensure you're getting 1.6-2.2g of protein per kg of bodyweight daily",color:"bg-blue-500",priority:9}):i==="General Health"&&r.push({text:"Aim for 5+ servings of different colored vegetables and fruits daily",color:"bg-green-500",priority:7}),a==="Diabetes"?r.push({text:"Monitor your carbohydrate intake and focus on low glycemic index foods",color:"bg-purple-500",priority:10}):a==="Hypertension"?r.push({text:"Reduce sodium intake and increase potassium-rich foods like bananas",color:"bg-purple-500",priority:10}):a==="Heart Issues"&&r.push({text:"Include omega-3 rich foods like fatty fish, walnuts, and flaxseeds",color:"bg-purple-500",priority:10}),l<10&&r.push({text:`You only had ${l} home-cooked meals. Aim for 14+ per week`,color:"bg-yellow-500",priority:8}),u<8&&r.push({text:`Your water intake (${u} glasses/day) is below recommended. Aim for 8+`,color:"bg-yellow-500",priority:9}),m<150&&r.push({text:`You exercised for ${m} minutes this week. Aim for 150+ minutes`,color:"bg-red-500",priority:8}),(h==="Low"||h==="Very Low")&&r.push({text:"Your energy levels are low. Consider improving sleep quality and reducing stress",color:"bg-red-500",priority:7}),o==="Vegetarian"?r.push({text:"Ensure you're getting enough vitamin B12 and iron from plant sources",color:"bg-green-500",priority:6}):o==="Vegan"?r.push({text:"Consider supplementing with vitamin B12, D3, and omega-3 fatty acids",color:"bg-green-500",priority:7}):o==="Gluten-Free"&&r.push({text:"Focus on naturally gluten-free whole grains like rice, quinoa, and millet",color:"bg-green-500",priority:6}),r.sort((p,y)=>y.priority-p.priority).slice(0,4)},aEe=()=>[{text:"Stay hydrated by drinking at least 8 glasses of water daily",color:"bg-blue-500",priority:5},{text:"Aim for 5+ servings of vegetables and fruits each day",color:"bg-green-500",priority:5},{text:"Try to get at least 150 minutes of moderate exercise weekly",color:"bg-yellow-500",priority:5},{text:"Prioritize 7-9 hours of quality sleep each night",color:"bg-purple-500",priority:5}];var ZN="focusScope.autoFocusOnMount",eE="focusScope.autoFocusOnUnmount",AF={bubbles:!1,cancelable:!0},sEe="FocusScope",DC=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,u]=S.useState(null),f=Yn(i),m=Yn(a),h=S.useRef(null),p=Dt(e,b=>u(b)),y=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let b=function(j){if(y.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:ul(h.current,{select:!0})},v=function(j){if(y.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||ul(h.current,{select:!0}))},A=function(j){if(document.activeElement===document.body)for(const T of j)T.removedNodes.length>0&&ul(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const E=new MutationObserver(A);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),E.disconnect()}}},[n,l,y.paused]),S.useEffect(()=>{if(l){PF.add(y);const b=document.activeElement;if(!l.contains(b)){const A=new CustomEvent(ZN,AF);l.addEventListener(ZN,f),l.dispatchEvent(A),A.defaultPrevented||(oEe(fEe(O7(l)),{select:!0}),document.activeElement===b&&ul(l))}return()=>{l.removeEventListener(ZN,f),setTimeout(()=>{const A=new CustomEvent(eE,AF);l.addEventListener(eE,m),l.dispatchEvent(A),A.defaultPrevented||ul(b??document.body,{select:!0}),l.removeEventListener(eE,m),PF.remove(y)},0)}}},[l,f,m,y]);const w=S.useCallback(b=>{if(!r&&!n||y.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,A=document.activeElement;if(v&&A){const E=b.currentTarget,[j,N]=lEe(E);j&&N?!b.shiftKey&&A===N?(b.preventDefault(),r&&ul(j,{select:!0})):b.shiftKey&&A===j&&(b.preventDefault(),r&&ul(N,{select:!0})):A===E&&b.preventDefault()}},[r,n,y.paused]);return s.jsx(Qe.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});DC.displayName=sEe;function oEe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ul(n,{select:e}),document.activeElement!==r)return}function lEe(t){const e=O7(t),r=TF(e,t),n=TF(e.reverse(),t);return[r,n]}function O7(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function TF(t,e){for(const r of t)if(!cEe(r,{upTo:e}))return r}function cEe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uEe(t){return t instanceof HTMLInputElement&&"select"in t}function ul(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&uEe(t)&&e&&t.select()}}var PF=dEe();function dEe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=kF(t,e),t.unshift(e)},remove(e){var r;t=kF(t,e),(r=t[0])==null||r.resume()}}}function kF(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function fEe(t){return t.filter(e=>e.tagName!=="A")}var tE=0;function R7(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??CF()),document.body.insertAdjacentElement("beforeend",t[1]??CF()),tE++,()=>{tE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tE--}},[])}function CF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vy="right-scroll-bar-position",yy="width-before-scroll-bar",hEe="with-scroll-bars-hidden",mEe="--removed-body-scroll-bar-size";function rE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pEe(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var gEe=typeof window<"u"?S.useLayoutEffect:S.useEffect,IF=new WeakMap;function vEe(t,e){var r=pEe(null,function(n){return t.forEach(function(i){return rE(i,n)})});return gEe(function(){var n=IF.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(l){a.has(l)||rE(l,null)}),a.forEach(function(l){i.has(l)||rE(l,o)})}IF.set(r,t)},[t]),r}function yEe(t){return t}function xEe(t,e){e===void 0&&(e=yEe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var u=function(){var m=o;o=[],m.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(m){o.push(m),f()},filter:function(m){return o=o.filter(m),r}}}};return i}function bEe(t){t===void 0&&(t={});var e=xEe(null);return e.options=ls({async:!0,ssr:!1},t),e}var M7=function(t){var e=t.sideCar,r=zp(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,ls({},r))};M7.isSideCarExport=!0;function wEe(t,e){return t.useMedium(e),M7}var D7=bEe(),nE=function(){},z0=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:nE,onWheelCapture:nE,onTouchMoveCapture:nE}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,m=t.enabled,h=t.shards,p=t.sideCar,y=t.noIsolation,w=t.inert,b=t.allowPinchZoom,v=t.as,A=v===void 0?"div":v,E=t.gapMode,j=zp(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,T=vEe([r,e]),O=ls(ls({},j),i);return S.createElement(S.Fragment,null,m&&S.createElement(N,{sideCar:D7,removeScrollBar:f,shards:h,noIsolation:y,inert:w,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:E}),o?S.cloneElement(S.Children.only(l),ls(ls({},O),{ref:T})):S.createElement(A,ls({},O,{className:u,ref:T}),l))});z0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z0.classNames={fullWidth:yy,zeroRight:vy};var _Ee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SEe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_Ee();return e&&t.setAttribute("nonce",e),t}function jEe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function NEe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var EEe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=SEe())&&(jEe(e,r),NEe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AEe=function(){var t=EEe();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},L7=function(){var t=AEe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},TEe={left:0,top:0,right:0,gap:0},iE=function(t){return parseInt(t||"",10)||0},PEe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[iE(r),iE(n),iE(i)]},kEe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TEe;var e=PEe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},CEe=L7(),Ld="data-scroll-locked",IEe=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(hEe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ld,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vy," .").concat(vy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yy," .").concat(yy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ld,`] {
    `).concat(mEe,": ").concat(l,`px;
  }
`)},OF=function(){var t=parseInt(document.body.getAttribute(Ld)||"0",10);return isFinite(t)?t:0},OEe=function(){S.useEffect(function(){return document.body.setAttribute(Ld,(OF()+1).toString()),function(){var t=OF()-1;t<=0?document.body.removeAttribute(Ld):document.body.setAttribute(Ld,t.toString())}},[])},REe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;OEe();var a=S.useMemo(function(){return kEe(i)},[i]);return S.createElement(CEe,{styles:IEe(a,!e,i,r?"":"!important")})},PT=!1;if(typeof window<"u")try{var Jv=Object.defineProperty({},"passive",{get:function(){return PT=!0,!0}});window.addEventListener("test",Jv,Jv),window.removeEventListener("test",Jv,Jv)}catch{PT=!1}var ud=PT?{passive:!1}:!1,MEe=function(t){return t.tagName==="TEXTAREA"},$7=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!MEe(t)&&r[e]==="visible")},DEe=function(t){return $7(t,"overflowY")},LEe=function(t){return $7(t,"overflowX")},RF=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=F7(t,n);if(i){var a=V7(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$Ee=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},FEe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},F7=function(t,e){return t==="v"?DEe(e):LEe(e)},V7=function(t,e){return t==="v"?$Ee(e):FEe(e)},VEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},BEe=function(t,e,r,n,i){var a=VEe(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,u=e.contains(l),f=!1,m=o>0,h=0,p=0;do{var y=V7(t,l),w=y[0],b=y[1],v=y[2],A=b-v-a*w;(w||A)&&F7(t,l)&&(h+=A,p+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(m&&Math.abs(h)<1||!m&&Math.abs(p)<1)&&(f=!0),f},Zv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MF=function(t){return[t.deltaX,t.deltaY]},DF=function(t){return t&&"current"in t?t.current:t},UEe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zEe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qEe=0,dd=[];function HEe(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(qEe++)[0],a=S.useState(L7)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=yre([t.lockRef.current],(t.shards||[]).map(DF),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var A=Zv(b),E=r.current,j="deltaX"in b?b.deltaX:E[0]-A[0],N="deltaY"in b?b.deltaY:E[1]-A[1],T,O=b.target,k=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in b&&k==="h"&&O.type==="range")return!1;var C=RF(k,O);if(!C)return!0;if(C?T=k:(T=k==="v"?"h":"v",C=RF(k,O)),!C)return!1;if(!n.current&&"changedTouches"in b&&(j||N)&&(n.current=T),!T)return!0;var M=n.current||T;return BEe(M,v,b,M==="h"?j:N)},[]),u=S.useCallback(function(b){var v=b;if(!(!dd.length||dd[dd.length-1]!==a)){var A="deltaY"in v?MF(v):Zv(v),E=e.current.filter(function(T){return T.name===v.type&&(T.target===v.target||v.target===T.shadowParent)&&UEe(T.delta,A)})[0];if(E&&E.should){v.cancelable&&v.preventDefault();return}if(!E){var j=(o.current.shards||[]).map(DF).filter(Boolean).filter(function(T){return T.contains(v.target)}),N=j.length>0?l(v,j[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),f=S.useCallback(function(b,v,A,E){var j={name:b,delta:v,target:A,should:E,shadowParent:WEe(A)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(N){return N!==j})},1)},[]),m=S.useCallback(function(b){r.current=Zv(b),n.current=void 0},[]),h=S.useCallback(function(b){f(b.type,MF(b),b.target,l(b,t.lockRef.current))},[]),p=S.useCallback(function(b){f(b.type,Zv(b),b.target,l(b,t.lockRef.current))},[]);S.useEffect(function(){return dd.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,ud),document.addEventListener("touchmove",u,ud),document.addEventListener("touchstart",m,ud),function(){dd=dd.filter(function(b){return b!==a}),document.removeEventListener("wheel",u,ud),document.removeEventListener("touchmove",u,ud),document.removeEventListener("touchstart",m,ud)}},[]);var y=t.removeScrollBar,w=t.inert;return S.createElement(S.Fragment,null,w?S.createElement(a,{styles:zEe(i)}):null,y?S.createElement(REe,{gapMode:t.gapMode}):null)}function WEe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const GEe=wEe(D7,HEe);var LC=S.forwardRef(function(t,e){return S.createElement(z0,ls({},t,{ref:e,sideCar:GEe}))});LC.classNames=z0.classNames;var KEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fd=new WeakMap,ey=new WeakMap,ty={},aE=0,B7=function(t){return t&&(t.host||B7(t.parentNode))},YEe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=B7(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},QEe=function(t,e,r,n){var i=YEe(e,Array.isArray(t)?t:[t]);ty[r]||(ty[r]=new WeakMap);var a=ty[r],o=[],l=new Set,u=new Set(i),f=function(h){!h||l.has(h)||(l.add(h),f(h.parentNode))};i.forEach(f);var m=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))m(p);else try{var y=p.getAttribute(n),w=y!==null&&y!=="false",b=(fd.get(p)||0)+1,v=(a.get(p)||0)+1;fd.set(p,b),a.set(p,v),o.push(p),b===1&&w&&ey.set(p,!0),v===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(A){console.error("aria-hidden: cannot operate on ",p,A)}})};return m(e),l.clear(),aE++,function(){o.forEach(function(h){var p=fd.get(h)-1,y=a.get(h)-1;fd.set(h,p),a.set(h,y),p||(ey.has(h)||h.removeAttribute(n),ey.delete(h)),y||h.removeAttribute(r)}),aE--,aE||(fd=new WeakMap,fd=new WeakMap,ey=new WeakMap,ty={})}},U7=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=KEe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),QEe(n,i,r,"aria-hidden")):function(){return null}},$C="Dialog",[z7,zPe]=Va($C),[XEe,za]=z7($C),q7=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=S.useRef(null),u=S.useRef(null),[f=!1,m]=Ma({prop:n,defaultProp:i,onChange:a});return s.jsx(XEe,{scope:e,triggerRef:l,contentRef:u,contentId:ao(),titleId:ao(),descriptionId:ao(),open:f,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(h=>!h),[m]),modal:o,children:r})};q7.displayName=$C;var H7="DialogTrigger",JEe=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=za(H7,r),a=Dt(e,i.triggerRef);return s.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":BC(i.open),...n,ref:a,onClick:He(t.onClick,i.onOpenToggle)})});JEe.displayName=H7;var FC="DialogPortal",[ZEe,W7]=z7(FC,{forceMount:void 0}),G7=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=za(FC,e);return s.jsx(ZEe,{scope:e,forceMount:r,children:S.Children.map(n,o=>s.jsx(jo,{present:r||a.open,children:s.jsx(ob,{asChild:!0,container:i,children:o})}))})};G7.displayName=FC;var rb="DialogOverlay",K7=S.forwardRef((t,e)=>{const r=W7(rb,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=za(rb,t.__scopeDialog);return a.modal?s.jsx(jo,{present:n||a.open,children:s.jsx(eAe,{...i,ref:e})}):null});K7.displayName=rb;var eAe=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=za(rb,r);return s.jsx(LC,{as:Jc,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Qe.div,{"data-state":BC(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),hu="DialogContent",Y7=S.forwardRef((t,e)=>{const r=W7(hu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=za(hu,t.__scopeDialog);return s.jsx(jo,{present:n||a.open,children:a.modal?s.jsx(tAe,{...i,ref:e}):s.jsx(rAe,{...i,ref:e})})});Y7.displayName=hu;var tAe=S.forwardRef((t,e)=>{const r=za(hu,t.__scopeDialog),n=S.useRef(null),i=Dt(e,r.contentRef,n);return S.useEffect(()=>{const a=n.current;if(a)return U7(a)},[]),s.jsx(Q7,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(t.onFocusOutside,a=>a.preventDefault())})}),rAe=S.forwardRef((t,e)=>{const r=za(hu,t.__scopeDialog),n=S.useRef(!1),i=S.useRef(!1);return s.jsx(Q7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Q7=S.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=za(hu,r),u=S.useRef(null),f=Dt(e,u);return R7(),s.jsxs(s.Fragment,{children:[s.jsx(DC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Lp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":BC(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(nAe,{titleId:l.titleId}),s.jsx(aAe,{contentRef:u,descriptionId:l.descriptionId})]})]})}),VC="DialogTitle",X7=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=za(VC,r);return s.jsx(Qe.h2,{id:i.titleId,...n,ref:e})});X7.displayName=VC;var J7="DialogDescription",Z7=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=za(J7,r);return s.jsx(Qe.p,{id:i.descriptionId,...n,ref:e})});Z7.displayName=J7;var eW="DialogClose",tW=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=za(eW,r);return s.jsx(Qe.button,{type:"button",...n,ref:e,onClick:He(t.onClick,()=>i.onOpenChange(!1))})});tW.displayName=eW;function BC(t){return t?"open":"closed"}var rW="DialogTitleWarning",[qPe,nW]=GK(rW,{contentName:hu,titleName:VC,docsSlug:"dialog"}),nAe=({titleId:t})=>{const e=nW(rW),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},iAe="DialogDescriptionWarning",aAe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nW(iAe).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},sAe=q7,oAe=G7,iW=K7,aW=Y7,sW=X7,oW=Z7,lAe=tW;const cAe=sAe,uAe=oAe,lW=S.forwardRef(({className:t,...e},r)=>s.jsx(iW,{ref:r,className:at("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lW.displayName=iW.displayName;const cW=S.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(uAe,{children:[s.jsx(lW,{}),s.jsxs(aW,{ref:n,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,s.jsxs(lAe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cW.displayName=aW.displayName;const uW=({className:t,...e})=>s.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});uW.displayName="DialogHeader";const dW=({className:t,...e})=>s.jsx("div",{className:at("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});dW.displayName="DialogFooter";const fW=S.forwardRef(({className:t,...e},r)=>s.jsx(sW,{ref:r,className:at("text-lg font-semibold leading-none tracking-tight",t),...e}));fW.displayName=sW.displayName;const hW=S.forwardRef(({className:t,...e},r)=>s.jsx(oW,{ref:r,className:at("text-sm text-muted-foreground",t),...e}));hW.displayName=oW.displayName;var UC="Checkbox",[dAe,HPe]=Va(UC),[fAe,hAe]=dAe(UC),mW=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:u="on",onCheckedChange:f,form:m,...h}=t,[p,y]=S.useState(null),w=Dt(e,N=>y(N)),b=S.useRef(!1),v=p?m||!!p.closest("form"):!0,[A=!1,E]=Ma({prop:i,defaultProp:a,onChange:f}),j=S.useRef(A);return S.useEffect(()=>{const N=p==null?void 0:p.form;if(N){const T=()=>E(j.current);return N.addEventListener("reset",T),()=>N.removeEventListener("reset",T)}},[p,E]),s.jsxs(fAe,{scope:r,state:A,disabled:l,children:[s.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":Ol(A)?"mixed":A,"aria-required":o,"data-state":vW(A),"data-disabled":l?"":void 0,disabled:l,value:u,...h,ref:w,onKeyDown:He(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:He(t.onClick,N=>{E(T=>Ol(T)?!0:!T),v&&(b.current=N.isPropagationStopped(),b.current||N.stopPropagation())})}),v&&s.jsx(mAe,{control:p,bubbles:!b.current,name:n,value:u,checked:A,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Ol(a)?!1:a})]})});mW.displayName=UC;var pW="CheckboxIndicator",gW=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=hAe(pW,r);return s.jsx(jo,{present:n||Ol(a.state)||a.state===!0,children:s.jsx(Qe.span,{"data-state":vW(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});gW.displayName=pW;var mAe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,o=S.useRef(null),l=eg(r),u=Vp(e);S.useEffect(()=>{const m=o.current,h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&y){const w=new Event("click",{bubbles:n});m.indeterminate=Ol(r),y.call(m,Ol(r)?!1:r),m.dispatchEvent(w)}},[l,r,n]);const f=S.useRef(Ol(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...a,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ol(t){return t==="indeterminate"}function vW(t){return Ol(t)?"indeterminate":t?"checked":"unchecked"}var yW=mW,pAe=gW;const zC=S.forwardRef(({className:t,...e},r)=>s.jsx(yW,{ref:r,className:at("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(pAe,{className:at("flex items-center justify-center text-current"),children:s.jsx(Zc,{className:"h-4 w-4"})})}));zC.displayName=yW.displayName;const gAe=({onAccept:t})=>{const[e,r]=S.useState(!1),[n,i]=S.useState(!1),[a,o]=S.useState(!1),l=Wt(We),u=ir(We),{toast:f}=ar();S.useEffect(()=>{(async()=>{var w;const y=l.currentUser;if(!y){const b=localStorage.getItem("termsAcceptedDate"),v=new Date().toDateString();b!==v&&r(!0);return}try{const b=Pt(u,"users",y.uid),v=await Fr(b);if(v.exists()){const j=(w=(v.data().termsAcceptance||{}).lastAccepted)==null?void 0:w.toDate();(!j||!m(j,new Date))&&r(!0)}else r(!0)}catch(b){console.error("Error checking terms acceptance:",b);const v=localStorage.getItem("termsAcceptedDate"),A=new Date().toDateString();v!==A&&r(!0)}})()},[l,u]);const m=(p,y)=>p.getFullYear()===y.getFullYear()&&p.getMonth()===y.getMonth()&&p.getDate()===y.getDate(),h=async()=>{var p;if(n){o(!0);try{const y=l.currentUser,w=new Date;if(localStorage.setItem("termsAcceptedDate",w.toDateString()),y){const b=Pt(u,"users",y.uid),v=await Fr(b),A=v.exists()?v.data():{},E={lastAccepted:Jt.fromDate(w),acceptanceHistory:[...((p=A.termsAcceptance)==null?void 0:p.acceptanceHistory)||[],Jt.fromDate(w)],version:"1.0",userAgent:navigator.userAgent,ipAddress:"Collected server-side"};await Mn(b,{termsAcceptance:E},{merge:!0}),f({title:"Terms Accepted",description:"Your acceptance has been recorded."})}r(!1),t()}catch(y){console.error("Error saving terms acceptance:",y),f({title:"Error",description:"Could not save your acceptance. Please try again.",variant:"destructive"})}finally{o(!1)}}};return s.jsx(cAe,{open:e,onOpenChange:r,children:s.jsxs(cW,{className:"sm:max-w-[500px]",children:[s.jsxs(uW,{children:[s.jsx(fW,{className:"text-xl font-bold text-safebite-text",children:"Important Notice"}),s.jsx(hW,{className:"text-safebite-text-secondary",children:"Please read and accept our terms before continuing"})]}),s.jsxs("div",{className:"space-y-4 my-4 text-safebite-text-secondary",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-bold text-red-400",children:"Development Notice:"})," This website is currently under development and is part of an engineering project at IFHE Hyderabad."]}),s.jsx("p",{className:"text-sm",children:"By using SafeBite, you acknowledge that:"}),s.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-2",children:[s.jsx("li",{children:"We collect and process your data to improve our product and services"}),s.jsx("li",{children:"All data used in this application is either publicly available or used under fair use principles"}),s.jsx("li",{children:"This is an educational project and not a commercial product"}),s.jsx("li",{children:"The nutritional information provided may not be 100% accurate and should not replace professional medical advice"})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[s.jsx(zC,{id:"terms",checked:n,onCheckedChange:p=>i(p)}),s.jsx(vt,{htmlFor:"terms",className:"text-sm font-medium leading-none cursor-pointer",children:"I accept the terms and conditions and privacy policy"})]})]}),s.jsx(dW,{children:s.jsx(re,{onClick:h,disabled:!n||a,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:a?"Saving...":"Accept & Continue"})})]})})},vAe=async t=>{try{if(!t)return console.log("No user ID provided for notifications"),[];const e=ir(We),r=sf(e,"users",t,"notifications"),n=lk(r,dk("timestamp","desc"),hk(10)),i=await pk(n),a=[];return i.forEach(o=>{var u;const l=o.data();a.push({id:o.id,title:l.title||"Notification",message:l.message||"",type:l.type||"info",timestamp:((u=l.timestamp)==null?void 0:u.toDate())||new Date,read:l.read||!1,link:l.link,icon:l.icon})}),a}catch(e){return console.error("Error getting user notifications:",e),[]}},yAe=async t=>{try{if(!t)return console.log("No user ID provided for food safety alerts"),[];const e=ir(We),r=sf(e,"foodSafetyAlerts"),n=lk(r,ice("affectedUsers","array-contains",t),dk("timestamp","desc"),hk(5)),i=await pk(n),a=[];return i.forEach(o=>{var u;const l=o.data();a.push({id:o.id,title:l.title||"Food Safety Alert",message:l.message||"",type:"alert",timestamp:((u=l.timestamp)==null?void 0:u.toDate())||new Date,read:l.read||!1,link:l.link,icon:l.icon})}),a}catch(e){return console.error("Error getting food safety alerts:",e),[]}},xAe=t=>{var a,o,l,u;const e=[];(!((a=t==null?void 0:t.profile)!=null&&a.dietary_preferences)||!((o=t==null?void 0:t.profile)!=null&&o.health_goals))&&e.push({id:"system-profile",title:"Complete Your Profile",message:"Please complete your health profile to get personalized recommendations.",type:"info",timestamp:new Date,read:!1,link:"/settings"});const r=new Date,n=(u=(l=t==null?void 0:t.weeklyCheckin)==null?void 0:l.timestamp)==null?void 0:u.toDate(),i=new Date(r.getTime()-7*24*60*60*1e3);return(!n||n<i)&&e.push({id:"system-weekly-checkin",title:"Weekly Check-in",message:"It's time for your weekly health check-in.",type:"info",timestamp:new Date,read:!1,link:"/weekly-questions"}),e},xW=async(t,e)=>{try{const r=await vAe(t),n=await yAe(t),i=xAe(e);return[...r,...n,...i]}catch(r){return console.error("Error getting all notifications:",r),[]}},bAe=({isOpen:t,onClose:e,userData:r})=>{const[n,i]=S.useState([]),[a,o]=S.useState(!0),l=Gr(),u=Wt(We),f=ir(We),m=u.currentUser;S.useEffect(()=>{(async()=>{if(m&&t){o(!0);try{const w=await xW(m.uid,r);i(w)}catch(w){console.error("Error fetching notifications:",w)}finally{o(!1)}}})()},[m,t,r]);const h=async y=>{if(m&&!y.read)try{const w=Pt(f,"users",m.uid,"notifications",y.id);await Xm(w,{read:!0}),i(b=>b.map(v=>v.id===y.id?{...v,read:!0}:v))}catch(w){console.error("Error marking notification as read:",w)}y.link&&(l(y.link),e())},p=y=>{switch(y){case"info":return s.jsx(ys,{className:"h-5 w-5 text-blue-400"});case"warning":return s.jsx(Kn,{className:"h-5 w-5 text-yellow-400"});case"alert":return s.jsx(Kn,{className:"h-5 w-5 text-red-400"});case"success":return s.jsx(Rl,{className:"h-5 w-5 text-green-400"});default:return s.jsx(Gd,{className:"h-5 w-5 text-safebite-text-secondary"})}};return t?s.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex justify-end",children:s.jsxs("div",{className:"w-full max-w-md bg-safebite-dark-blue h-full overflow-auto",children:[s.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-safebite-text",children:"Notifications"}),s.jsx(re,{variant:"ghost",size:"icon",onClick:e,children:s.jsx(fi,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-4",children:a?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-8 h-8 border-4 border-safebite-teal border-t-transparent rounded-full animate-spin"})}):n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Gd,{className:"h-12 w-12 text-safebite-text-secondary mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"No notifications yet"})]}):s.jsx("div",{className:"space-y-4",children:n.map(y=>s.jsx(ke,{className:`sci-fi-card cursor-pointer transition-all hover:border-safebite-teal ${y.read?"opacity-70":""}`,onClick:()=>h(y),children:s.jsx(it,{className:"p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mr-3 mt-1",children:p(y.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"font-medium text-safebite-text",children:y.title}),s.jsx("span",{className:"text-xs text-safebite-text-secondary",children:y.timestamp.toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-safebite-text-secondary mt-1",children:y.message}),y.link&&s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsxs(re,{variant:"link",className:"p-0 h-auto text-xs text-safebite-teal",children:["View ",s.jsx(Ii,{className:"ml-1 h-3 w-3"})]})})]})]})})},y.id))})})]})}):null},LF={"Weight Loss":["Sprouts","Ragi","Daliya","Makhana","Moong Dal Chilla"],"Muscle Gain":["Paneer Bhurji","Soya Chunks","Egg Bhurji","Chicken Tikka","Rajma Rice"],"General Health":["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"],Diabetes:["Bitter Gourd Juice","Oats Upma","Chia Seeds","Flaxseeds","Dalia"],"Heart Issues":["Walnuts","Almonds","Oats","Olive Oil","Steamed Vegetables"]},wAe=()=>{var Lt,Oe,Ze,rt,$t;const t=Gr(),{isGuest:e}=lg(),[r,n]=S.useState(!1),[i,a]=S.useState(!1),[o,l]=S.useState(""),{toast:u}=ar(),f=Wt(We),m=ir(We),h=f.currentUser,[p,y]=S.useState(null),[w,b]=S.useState(!0),[v,A]=S.useState(""),[E,j]=S.useState(!1),[N,T]=S.useState(""),[O,k]=S.useState([]),[C,M]=S.useState(0),[F,D]=S.useState(!1),[V,$]=S.useState(10),[H,G]=S.useState(1450),[Q,Y]=S.useState([{foodGroup:"Fruits",value:2},{foodGroup:"Vegetables",value:3},{foodGroup:"Grains",value:4},{foodGroup:"Protein",value:5},{foodGroup:"Dairy",value:2},{foodGroup:"Fats",value:1},{foodGroup:"Sugars",value:1}]),[W,J]=S.useState([{date:"Mon",value:75},{date:"Tue",value:82},{date:"Wed",value:78},{date:"Thu",value:85},{date:"Fri",value:80},{date:"Sat",value:72},{date:"Sun",value:79}]),[ee,q]=S.useState([{date:"Mon",value:30},{date:"Tue",value:45},{date:"Wed",value:20},{date:"Thu",value:60},{date:"Fri",value:35},{date:"Sat",value:75},{date:"Sun",value:25}]),[X,se]=S.useState([{name:"Carbohydrates",value:400},{name:"Protein",value:300},{name:"Fat",value:200}]),[xe]=S.useState(["#8884d8","#82ca9d","#ffc658"]),[Ae]=S.useState([{date:"Mon",value:50},{date:"Tue",value:60},{date:"Wed",value:70},{date:"Thu",value:55},{date:"Fri",value:45},{date:"Sat",value:80},{date:"Sun",value:65}]),[Te,me]=S.useState("1.8L"),[Pe,ue]=S.useState("85g"),[ve,_e]=S.useState(45),le=(Ie,De)=>{if(Ie){let Se=1450;Ie.activity_level==="Sedentary"?Se=1600:Ie.activity_level==="Lightly Active"?Se=1800:Ie.activity_level==="Active"?Se=2e3:Ie.activity_level==="Very Active"&&(Se=2200),Ie.health_goals==="Weight Loss"?Se=Math.round(Se*.85):Ie.health_goals==="Muscle Gain"&&(Se=Math.round(Se*1.1)),G(Ie.calories_today||Se);let Ue="1.8L";Ie.water_intake&&(Ie.water_intake==="<1L"?Ue="0.8L":Ie.water_intake==="1-2L"?Ue="1.5L":Ie.water_intake==="2-3L"?Ue="2.5L":Ie.water_intake==="3L+"&&(Ue="3.5L")),me(Ue);let kt="85g";Ie.protein_source&&(Ie.protein_source==="Veg"?kt="60g":Ie.protein_source==="Dairy"?kt="70g":Ie.protein_source==="Meat"?kt="100g":Ie.protein_source==="Eggs"?kt="80g":Ie.protein_source==="Mix"&&(kt="90g")),ue(kt);let pr=45;Ie.exercise_frequency&&(Ie.exercise_frequency==="Never"?pr=15:Ie.exercise_frequency==="Weekly"?pr=30:Ie.exercise_frequency==="3-4 Times a Week"?pr=45:Ie.exercise_frequency==="Daily"&&(pr=60)),_e(pr),Ie.dietary_preferences&&(Ie.dietary_preferences==="Veg"||Ie.dietary_preferences==="Vegan"?Y([{foodGroup:"Fruits",value:3},{foodGroup:"Vegetables",value:4},{foodGroup:"Grains",value:5},{foodGroup:"Plant Protein",value:4},{foodGroup:"Dairy",value:Ie.dietary_preferences==="Vegan"?0:2},{foodGroup:"Fats",value:2},{foodGroup:"Sugars",value:1}]):Ie.dietary_preferences==="Keto"?Y([{foodGroup:"Fruits",value:1},{foodGroup:"Vegetables",value:3},{foodGroup:"Grains",value:1},{foodGroup:"Protein",value:5},{foodGroup:"Dairy",value:3},{foodGroup:"Fats",value:5},{foodGroup:"Sugars",value:0}]):Ie.dietary_preferences==="Non-Veg"&&Y([{foodGroup:"Fruits",value:2},{foodGroup:"Vegetables",value:3},{foodGroup:"Grains",value:4},{foodGroup:"Protein",value:5},{foodGroup:"Dairy",value:2},{foodGroup:"Fats",value:2},{foodGroup:"Sugars",value:1}])),Ie.health_goals&&(Ie.health_goals==="Weight Loss"?se([{name:"Carbohydrates",value:300},{name:"Protein",value:350},{name:"Fat",value:150}]):Ie.health_goals==="Muscle Gain"?se([{name:"Carbohydrates",value:450},{name:"Protein",value:400},{name:"Fat",value:200}]):Ie.health_goals==="General Health"&&se([{name:"Carbohydrates",value:400},{name:"Protein",value:300},{name:"Fat",value:200}]))}if(De&&De.answers){if(De.answers.home_cooked!==void 0&&De.answers.home_cooked>15&&J(Ue=>Ue.map(kt=>({...kt,value:Math.min(100,kt.value+5)}))),De.answers.water_intake!==void 0){const Se=De.answers.water_intake;me(Math.round(Se*.25)+"L"),mt([{date:"Mon",value:Math.max(0,Se-1)},{date:"Tue",value:Se},{date:"Wed",value:Math.max(0,Se+1)},{date:"Thu",value:Math.max(0,Se-2)},{date:"Fri",value:Math.max(0,Se-1)},{date:"Sat",value:Math.max(0,Se+2)},{date:"Sun",value:Se}])}if(De.answers.exercise!==void 0){const Se=De.answers.exercise;_e(Math.round(Se/7)),q([{date:"Mon",value:Math.round(Se*.2)},{date:"Tue",value:Math.round(Se*.15)},{date:"Wed",value:Math.round(Se*.1)},{date:"Thu",value:Math.round(Se*.25)},{date:"Fri",value:Math.round(Se*.1)},{date:"Sat",value:Math.round(Se*.15)},{date:"Sun",value:Math.round(Se*.05)}])}if(De.answers.junk_food!==void 0){const Se=De.answers.junk_food;Se>5&&J(Ue=>Ue.map(kt=>({...kt,value:Math.max(50,kt.value-(Se-5)*2)})))}if(De.answers.energy_level){const Se=De.answers.energy_level;let Ue=1;Se==="Very Low"?Ue=.8:Se==="Low"?Ue=.9:Se==="High"?Ue=1.1:Se==="Very High"&&(Ue=1.2),ut(kt=>kt.map(pr=>({...pr,value:Math.round(pr.value*Ue)})))}}};S.useEffect(()=>{(async()=>{if(h&&!e){b(!0),A("");const De=Pt(m,"users",h.uid);try{const Se=await Fr(De);if(Se.exists()){const Ue=Se.data();y(Ue.profile),le(Ue.profile,Ue.weeklyCheckin),$(Ue.xp||10),Ue.questionnaireCompleted||t("/questionnaire")}else console.log("No such document! Redirecting to questionnaire."),t("/questionnaire")}catch(Se){console.error("Error fetching user profile:",Se),A("Failed to load your profile. Please try again later."),u({title:"Profile Load Error",description:"Could not load your profile data.",variant:"destructive"})}finally{b(!1)}}else e?b(!1):t("/auth/login")})()},[h,m,t,e,u]),S.useEffect(()=>{p&&(async()=>{if(!(e||!h))try{const De=await xW(h.uid,p);k(De),M(De.filter(Se=>!Se.read).length)}catch(De){console.error("Error fetching notifications:",De)}})()},[h,p,e]),S.useEffect(()=>{if(!e&&p){const Ie=localStorage.getItem("lastWeeklyPromptTime"),De=Date.now(),Se=7*24*60*60*1e3;if(!Ie||De-parseInt(Ie,10)>Se){const Ue=setTimeout(()=>{n(!0),localStorage.setItem("lastWeeklyPromptTime",De.toString())},3e3);return()=>clearTimeout(Ue)}}},[e,p]);const Ye=()=>{n(!1)},[Ke,ut]=S.useState([{date:"Mon",value:1200},{date:"Tue",value:1350},{date:"Wed",value:1500},{date:"Thu",value:1400},{date:"Fri",value:1800},{date:"Sat",value:1600},{date:"Sun",value:1450}]),[st,mt]=S.useState([{date:"Mon",value:5},{date:"Tue",value:6},{date:"Wed",value:7},{date:"Thu",value:5},{date:"Fri",value:4},{date:"Sat",value:8},{date:"Sun",value:6}]),lr=p?iEe(p,((Lt=p==null?void 0:p.weeklyCheckin)==null?void 0:Lt.answers)||null):[];S.useEffect(()=>{console.log("Dashboard render state:",{isGuest:e,isLoadingProfile:w,userProfile:p?"exists":"null",profileError:v,user:h?"logged in":"not logged in"})},[e,w,p,v,h]);const Ct=()=>{console.log("Terms accepted")};return v?(console.error("Profile error:",v),s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center",children:s.jsxs("div",{className:"bg-red-500/10 border border-red-500 p-6 rounded-lg max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-red-400 mb-2",children:"Error Loading Dashboard"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:v}),s.jsx(re,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Retry"})]})})):w&&!e?s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-safebite-teal border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Loading your dashboard..."})]})}):e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1.5 px-4 flex items-center justify-center z-50",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium",children:[s.jsx(cs,{className:"h-4 w-4 text-yellow-300"}),s.jsx("span",{children:"SafeBite v2.1 - Under Active Development"}),s.jsx(cs,{className:"h-4 w-4 text-yellow-300"})]})}),s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsx(KNe,{})})]}),s.jsx(tb,{isOpen:i,onClose:()=>a(!1),feature:o})]}):s.jsxs(s.Fragment,{children:[s.jsx(gAe,{onAccept:Ct}),s.jsx(bAe,{isOpen:F,onClose:()=>D(!1),userData:p}),s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1.5 px-4 flex items-center justify-center z-50",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium",children:[s.jsx(cs,{className:"h-4 w-4 text-yellow-300"}),s.jsx("span",{children:"SafeBite v2.1 - Under Active Development"}),s.jsx(cs,{className:"h-4 w-4 text-yellow-300"})]})}),s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:e?"Welcome, Guest":s.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-safebite-teal to-safebite-purple",children:["Welcome back, ",(p==null?void 0:p.displayName)||(h==null?void 0:h.displayName)||(p==null?void 0:p.name)||((Oe=h==null?void 0:h.email)==null?void 0:Oe.split("@")[0])||"Friend"]})}),s.jsx("p",{className:"text-safebite-text-secondary",children:w?"Loading your profile...":v||(e?"Explore SafeBite's features (limited in guest mode)":s.jsxs(s.Fragment,{children:["Your primary goal: ",(p==null?void 0:p.health_goals)||"No Goal",E?null:s.jsx(re,{variant:"link",className:"ml-2",onClick:()=>{j(!0),T((p==null?void 0:p.health_goals)||"")},children:"Edit"})]}))})]}),s.jsx("div",{className:"mt-4 sm:mt-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"mr-4 flex items-center bg-safebite-card-bg-alt px-3 py-1 rounded-full",children:[s.jsx(Yc,{className:"h-4 w-4 text-yellow-400 mr-1"}),s.jsxs("span",{className:"text-safebite-text font-medium",children:[V," XP"]})]}),s.jsxs(re,{variant:"outline",className:"mr-2 border-safebite-card-bg-alt hover:border-safebite-teal",onClick:()=>D(!0),children:[s.jsx(Gd,{className:"mr-2 h-5 w-5"}),C>0&&s.jsx(St,{className:"ml-1 bg-safebite-teal text-safebite-dark-blue",children:C})]})]})})]}),!e&&p&&E&&s.jsxs(ke,{className:"mb-8 sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{children:"Update Your Health Goal"})}),s.jsxs(it,{children:[s.jsxs("select",{value:N,onChange:Ie=>T(Ie.target.value),className:"w-full sci-fi-input",children:[s.jsx("option",{value:"",children:"Select a goal"}),s.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),s.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),s.jsx("option",{value:"General Health",children:"General Health"}),s.jsx("option",{value:"No Goal",children:"No Goal"})]}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx(re,{variant:"ghost",onClick:()=>j(!1),children:"Cancel"}),s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:async()=>{if(h){const Ie=Pt(m,"users",h.uid);try{await Mn(Ie,{profile:{...p,health_goals:N}},{merge:!0}),y({...p,health_goals:N}),le({...p,health_goals:N},null),u({title:"Goal Updated",description:"Your health goal has been updated."})}catch(De){u({title:"Error",description:De.message,variant:"destructive"})}finally{j(!1)}}},children:"Save"})]})]})]}),r&&!e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(ke,{className:"sci-fi-card max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-safebite-text mb-4",children:"Weekly Health Check"}),s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Please take a moment to answer a few questions about your health this week. This helps us provide better recommendations."}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(re,{variant:"ghost",onClick:Ye,className:"text-safebite-text-secondary hover:text-safebite-text",children:"Maybe Later"}),s.jsx(re,{onClick:()=>{t("/weekly-questions"),Ye()},className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Start Now"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx($v,{title:"Calories Today",value:H.toString(),icon:s.jsx(ui,{size:24}),change:{value:"12%",isPositive:!0}}),s.jsx($v,{title:"Water Intake",value:Te,icon:s.jsx("div",{className:"text-blue-400",children:"💧"}),change:{value:"2 cups",isPositive:!1}}),s.jsx($v,{title:"Protein",value:Pe,icon:s.jsx("div",{children:"🥩"}),change:{value:"10%",isPositive:!0}}),s.jsx($v,{title:"Active Minutes",value:ve.toString(),icon:s.jsx("div",{children:"⚡"}),change:{value:"5 min",isPositive:!0}})]}),O.some(Ie=>Ie.type==="alert")&&s.jsx(ke,{className:"mb-8 border-red-500 shadow-md bg-red-500/10 p-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mr-4",children:s.jsx("div",{className:"h-12 w-12 rounded-full bg-red-500/20 flex items-center justify-center text-red-500",children:s.jsx(ys,{size:28})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2 text-red-400",children:"Food Safety Alert"}),s.jsx("p",{className:"text-safebite-text-secondary mb-2",children:((Ze=O.find(Ie=>Ie.type==="alert"))==null?void 0:Ze.message)||"A recent product you scanned contains ingredients that may affect your health goals."}),s.jsxs(re,{variant:"link",className:"text-red-400 hover:text-red-300 p-0",onClick:()=>D(!0),children:["View Details ",s.jsx(Ii,{className:"ml-1 h-4 w-4"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx(eEe,{userId:h==null?void 0:h.uid}),s.jsx(ZNe,{userId:h==null?void 0:h.uid,preferences:p!=null&&p.dietary_preferences?[p.dietary_preferences]:[]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx(rEe,{userId:h==null?void 0:h.uid,healthGoal:p==null?void 0:p.health_goals}),s.jsx(qNe,{userId:h==null?void 0:h.uid,activityLevel:p==null?void 0:p.activity_level,weeklyAnswers:(rt=p==null?void 0:p.weeklyCheckin)==null?void 0:rt.answers})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text",children:"Your Health Tools"}),s.jsxs(re,{variant:"outline",className:"border-safebite-card-bg-alt hover:border-safebite-teal",onClick:()=>t("/healthbox"),children:[s.jsx(Kc,{className:"mr-2 h-4 w-4"}),"View All Tools"]})]}),p!=null&&p.favoriteHealthTools&&p.favoriteHealthTools.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:p.favoriteHealthTools.slice(0,4).map(Ie=>s.jsx(ke,{className:"sci-fi-card cursor-pointer hover:border-safebite-teal transition-colors",onClick:()=>t("/healthbox"),children:s.jsxs("div",{className:"p-4 flex flex-col items-center text-center",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-safebite-teal/20 flex items-center justify-center mb-3",children:s.jsx(Kc,{className:"h-6 w-6 text-safebite-teal"})}),s.jsx("h3",{className:"font-medium text-safebite-text mb-1",children:Ie.id.split("-").map(De=>De.charAt(0).toUpperCase()+De.slice(1)).join(" ")}),s.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Last used: ",new Date(Ie.addedAt).toLocaleDateString()]})]})},Ie.id))}):s.jsxs(ke,{className:"sci-fi-card p-6 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-safebite-card-bg-alt flex items-center justify-center mx-auto",children:s.jsx(Kc,{className:"h-8 w-8 text-safebite-text-secondary"})})}),s.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-2",children:"No Favorite Health Tools"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Visit the HealthBox to explore and save your favorite health tools."}),s.jsx(re,{onClick:()=>t("/healthbox"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore HealthBox"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Your Health Profile"}),s.jsx("div",{className:"sci-fi-card",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Profile Information"}),s.jsx("div",{className:"space-y-3",children:p?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Age Group:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.age||"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Activity Level:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.activity_level||"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Health Goal:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.health_goals||"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Diet Preference:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.dietary_preferences||"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Health Conditions:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.health_conditions||"None"})]})]}):s.jsx("p",{className:"text-safebite-text-secondary",children:"Complete the initial questionnaire to see your profile data."})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Weekly Check-in"}),s.jsx("div",{className:"space-y-3",children:($t=p==null?void 0:p.weeklyCheckin)!=null&&$t.answers?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Home-cooked Meals:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.weeklyCheckin.answers.home_cooked!==void 0?`${p.weeklyCheckin.answers.home_cooked} meals`:"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Water Intake:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.weeklyCheckin.answers.water_intake!==void 0?`${p.weeklyCheckin.answers.water_intake} glasses`:"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Junk Food:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.weeklyCheckin.answers.junk_food!==void 0?`${p.weeklyCheckin.answers.junk_food} times`:"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Exercise:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.weeklyCheckin.answers.exercise!==void 0?`${p.weeklyCheckin.answers.exercise} minutes`:"Not answered"})]}),s.jsxs("div",{className:"flex justify-between border-b border-safebite-card-bg-alt pb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Energy Level:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:p.weeklyCheckin.answers.energy_level||"Not answered"})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Last updated: ",p.weeklyCheckin.timestamp?new Date(p.weeklyCheckin.timestamp.seconds*1e3).toLocaleDateString():"Unknown"]})})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"No weekly check-in data available."}),s.jsx(re,{onClick:()=>t("/weekly-questions"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Complete Weekly Check-in"})]})})]})]})})]}),(p==null?void 0:p.achievements)&&p.achievements.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Your Achievements"}),s.jsx(ke,{className:"sci-fi-card",children:s.jsx(it,{className:"flex flex-wrap gap-4",children:p.achievements.map(Ie=>s.jsx(sz,{achievement:Ie},Ie.id))})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Your Health Dashboard"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx(HNe,{data:Q}),s.jsx(WNe,{data:X,colors:xe})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx(gl,{title:"Weekly Calorie Intake",data:Ke,color:"#00ffcc"}),s.jsx(gl,{title:"Water Intake (cups)",data:st,color:"#3b82f6"}),s.jsx(gl,{title:"Weekly Protein Intake (grams)",data:Ae,color:"#f472b6"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[s.jsx(gl,{title:"Nutrient Score",data:W,color:"#a855f7"}),s.jsx(gl,{title:"Exercise Minutes",data:ee,color:"#f97316"}),s.jsx(QNe,{insights:lr.length>0?lr:[{color:"bg-green-500",text:"Your protein intake is on track with your goals"},{color:"bg-yellow-500",text:`Consider increasing water intake by ${p!=null&&p.water_target?p.water_target-parseInt(Te):2} cups`},{color:"bg-blue-500",text:"Your nutrient score has improved by 5% this week"},{color:"bg-purple-500",text:`You're ${p!=null&&p.exercise_target?p.exercise_target-ve:15} minutes short of your weekly exercise goal`}]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Fitness Data Import"}),s.jsx(nEe,{})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Coming Soon"}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"sci-fi-card relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 border-2 border-orange-500 rounded-lg opacity-50 animate-pulse"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 mr-6",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center",children:s.jsx(ui,{className:"h-8 w-8 text-white"})})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"text-xl font-semibold text-orange-500 mb-2",children:"Zomato + Swiggy Integration"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with popular food delivery platforms to provide nutritional information and health recommendations for restaurant meals."}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(St,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Coming Soon"}),s.jsx("span",{className:"ml-3 text-xs text-safebite-text-secondary",children:"Working on dataset"})]}),s.jsxs(re,{onClick:()=>t("/food-delivery"),className:"bg-gradient-to-r from-orange-500 to-red-600 text-white hover:from-orange-600 hover:to-red-700 shadow-lg shadow-orange-500/20 animate-pulse",children:[s.jsx(ui,{className:"mr-2 h-4 w-4"}),"Learn More"]})]})]})]})]})})]}),!e&&(p==null?void 0:p.health_goals)&&LF[p.health_goals]&&s.jsxs("div",{className:"mt-8",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:["Food Recommendations for ",p.health_goals]}),s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsx(ht,{children:"Try these healthy options:"})}),s.jsx(it,{children:s.jsx("ul",{className:"list-disc list-inside text-safebite-text-secondary space-y-1",children:LF[p.health_goals].map((Ie,De)=>s.jsx("li",{children:Ie},De))})})]})]}),s.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"}),s.jsx(Bp,{})]})})]}),s.jsx(tb,{isOpen:i,onClose:()=>a(!1),feature:o})]})},_Ae=({onSearch:t,onScan:e,onUpload:r,onShowHistory:n,onApiSelect:i,className:a,activeApi:o="All APIs"})=>{const[l,u]=S.useState(""),f=h=>{h.preventDefault(),l.trim()&&t(l.trim())},m=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return s.jsx("form",{onSubmit:f,className:`relative ${a}`,children:s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(At,{type:"text",placeholder:"Search for food products...",value:l,onChange:h=>u(h.target.value),className:"sci-fi-input w-full pr-[140px]"}),s.jsxs("div",{className:"absolute right-0 flex",children:[s.jsx(Ad,{children:s.jsxs(gm,{children:[s.jsx(vm,{asChild:!0,children:s.jsx(re,{type:"button",variant:"ghost",onClick:n,className:"text-safebite-text-secondary hover:text-safebite-teal",children:s.jsx(XY,{size:18})})}),s.jsx(Td,{children:s.jsx("p",{children:"Search History"})})]})}),s.jsx(Ad,{children:s.jsxs(gm,{children:[s.jsx(vm,{asChild:!0,children:s.jsx(re,{type:"button",variant:"ghost",onClick:i,className:"text-safebite-text-secondary hover:text-safebite-teal",children:s.jsx(qT,{size:18})})}),s.jsx(Td,{children:s.jsxs("p",{children:["Select API Source (",o,")"]})})]})}),s.jsx(Ad,{children:s.jsxs(gm,{children:[s.jsx(vm,{asChild:!0,children:s.jsx(re,{type:"button",variant:"ghost",onClick:m()?e:r,className:"text-safebite-text-secondary hover:text-safebite-teal",children:m()?s.jsx(z6,{size:18}):s.jsx(fb,{size:18})})}),s.jsx(Td,{children:s.jsx("p",{children:m()?"Scan Barcode":"Upload Image"})})]})}),s.jsx(re,{type:"submit",className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 ml-1",children:s.jsx(wn,{size:18})})]})]})})};function rm({className:t,...e}){return s.jsx("div",{className:at("animate-pulse rounded-md bg-muted",t),...e})}const Ci="https://safebite-backend.onrender.com",$F="https://safebite-api.onrender.com",FF=[{_id:"fallback1",name:"Organic Whole Grain Bread",brand:"Nature's Best",category:"Bakery",description:"Nutritious whole grain bread made with organic ingredients.",ingredients:["Whole wheat flour","Water","Yeast","Salt","Honey"],nutritionalInfo:{calories:80,protein:4,carbs:15,fat:1,fiber:3,sugar:1},allergens:["Wheat","Gluten"],dietaryInfo:["Vegetarian"],healthScore:8,imageUrl:"https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:3.99,tags:["Organic","Whole Grain","Bread"]},{_id:"fallback2",name:"Greek Yogurt",brand:"Healthy Dairy",category:"Dairy",description:"Creamy Greek yogurt high in protein and probiotics.",ingredients:["Milk","Live active cultures"],nutritionalInfo:{calories:120,protein:15,carbs:7,fat:5,fiber:0,sugar:5},allergens:["Milk"],dietaryInfo:["Vegetarian","Gluten-Free"],healthScore:9,imageUrl:"https://images.unsplash.com/photo-1488477181946-6428a0291777?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:2.49,tags:["Protein","Probiotic","Dairy"]},{_id:"fallback3",name:"Quinoa Salad",brand:"Fresh Meals",category:"Prepared Foods",description:"Ready-to-eat quinoa salad with vegetables and herbs.",ingredients:["Quinoa","Bell peppers","Cucumber","Olive oil","Lemon juice","Herbs"],nutritionalInfo:{calories:220,protein:8,carbs:35,fat:7,fiber:6,sugar:2},allergens:[],dietaryInfo:["Vegan","Gluten-Free"],healthScore:10,imageUrl:"https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:5.99,tags:["Vegan","Protein","Ready-to-eat"]},{_id:"fallback4",name:"Almond Butter",brand:"Nut Heaven",category:"Spreads",description:"Creamy almond butter made from roasted almonds.",ingredients:["Roasted almonds"],nutritionalInfo:{calories:190,protein:7,carbs:6,fat:17,fiber:3,sugar:1},allergens:["Tree nuts"],dietaryInfo:["Vegan","Gluten-Free"],healthScore:7,imageUrl:"https://images.unsplash.com/photo-1501012259-39cd25f18b8d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",price:7.99,tags:["Nut butter","Protein","Natural"]}],bW=async()=>await VF(Ci)?(console.log("Main API is available"),{isAvailable:!0,activeUrl:Ci}):(console.log("Main API is down, trying backup API..."),await VF($F)?(console.log("Backup API is available"),{isAvailable:!0,activeUrl:$F}):(console.warn("Both main and backup APIs are down"),{isAvailable:!1,activeUrl:Ci}));async function VF(t){try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3);let n;try{n=await fetch(`${t}/status`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch{console.log(`Error fetching ${t}/status, trying root endpoint`);try{n=await fetch(`${t}/`,{signal:e.signal,method:"GET",headers:{Accept:"application/json"}})}catch(o){return console.error(`Error fetching ${t}/: ${o}`),clearTimeout(r),!1}}if(clearTimeout(r),!n.ok)return console.warn(`API status check failed with status: ${n.status}`),!1;const i=await n.json();return i&&i.status==="API is running"?(console.log("API is available:",i),!0):(console.warn("API status check returned unexpected data:",i),!1)}catch(e){return console.error("Error checking API status:",e),!1}}const SAe=async(t="products",e=1,r=20,n="",i={products:[],total:0,page:1,totalPages:1})=>{try{const{isAvailable:a,activeUrl:o}=await bW();if(!a)return console.warn("API is not available, returning fallback data"),i;const l=new AbortController,u=setTimeout(()=>l.abort(),15e3),f=async m=>{if(!m.ok)throw new Error(`API returned status ${m.status}`);const h=await m.json();if(h&&h.products&&Array.isArray(h.products))return console.log(`Successfully fetched ${h.products.length} ${t} from API`),{products:h.products,total:h.total||h.products.length,page:h.page||e,totalPages:h.totalPages||Math.ceil((h.total||h.products.length)/r)};if(h&&Array.isArray(h))return console.log(`Successfully fetched ${h.length} ${t} from API (array format)`),{products:h,total:h.length,page:e,totalPages:Math.ceil(h.length/r)};throw console.warn(`Unexpected API response format for ${t}:`,h),new Error("Unexpected API response format")};try{const m=`${o}/api/${t}?page=${e}&limit=${r}${n?`&search=${encodeURIComponent(n)}`:""}`;console.log(`Fetching from new endpoint: ${m}`);const h=await fetch(m,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),p=await f(h);return clearTimeout(u),p}catch(m){console.warn(`Error fetching from new endpoint: ${m}`);try{const h=t==="products"?`${o}/products`:`${o}/grocery-products`;console.log(`Falling back to legacy endpoint: ${h}`);const p=await fetch(h,{signal:l.signal,method:"GET",headers:{Accept:"application/json"}}),y=await f(p);return clearTimeout(u),y}catch(h){return console.error(`Error fetching from legacy endpoint: ${h}`),clearTimeout(u),console.warn("All fetch attempts failed, returning fallback data"),i}}}catch(a){return console.error(`Error fetching ${t}:`,a),console.warn("Error during fetch process, returning fallback data"),i}},jAe=({onSelectFood:t,className:e=""})=>{const[r,n]=S.useState(""),[i,a]=S.useState([]),[o,l]=S.useState(!1),[u,f]=S.useState(null),[m,h]=S.useState("all"),[p,y]=S.useState(null);S.useEffect(()=>{w()},[]);const w=async()=>{try{const T=await fetch(`${Ci}/status`);y(T.ok)}catch(T){console.error("Error checking API status:",T),y(!1)}},b=async()=>{if(r.trim()){l(!0),f(null);try{const T=`${Ci}/api/food/search?query=${encodeURIComponent(r)}`;console.log(`Searching food: ${T}`);const O=await fetch(T);if(!O.ok)throw new Error(`API returned status ${O.status}`);const k=await O.json();k.items&&Array.isArray(k.items)?(a(k.items),console.log(`Found ${k.items.length} results`)):(a([]),console.log("No results found or invalid response format"))}catch(T){console.error("Error searching food:",T),f("Failed to search for food. Please try again later."),a([])}finally{l(!1)}}},v=T=>{T.preventDefault(),b()},A=T=>T.name||T.product||T.food_name||T.recipe_name||"Unknown Food",E=T=>T.brand||"Unknown Brand",j=T=>{var O;if((O=T.nutritionalInfo)!=null&&O.calories)return T.nutritionalInfo.calories},N=i.filter(T=>!!(m==="all"||m==="products"&&T.product||m==="recipes"&&T.recipe_name));return s.jsxs(ke,{className:`sci-fi-card ${e}`,children:[s.jsxs(pt,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ht,{children:"Food Search"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(St,{variant:p?"default":"destructive",className:"h-6",children:[p===null?s.jsx(kr,{className:"h-3 w-3 animate-spin mr-1"}):p?s.jsx(Rl,{className:"h-3 w-3 mr-1"}):s.jsx(vs,{className:"h-3 w-3 mr-1"}),"API ",p===null?"Checking...":p?"Online":"Offline"]}),s.jsx(re,{variant:"outline",size:"sm",onClick:w,disabled:p===null,children:"Refresh"})]})]}),s.jsx(tu,{children:"Search for food products, recipes, and nutritional information"})]}),s.jsxs(it,{children:[s.jsx("form",{onSubmit:v,className:"mb-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(At,{type:"text",placeholder:"Search for food, recipes, or ingredients...",value:r,onChange:T=>n(T.target.value),className:"sci-fi-input flex-1"}),s.jsxs(re,{type:"submit",className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:o||!r.trim(),children:[o?s.jsx(kr,{className:"h-4 w-4 animate-spin mr-1"}):s.jsx(wn,{className:"h-4 w-4 mr-1"}),"Search"]})]})}),u&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:u})]})}),i.length>0&&s.jsxs(To,{defaultValue:"all",value:m,onValueChange:T=>h(T),children:[s.jsxs(Ps,{className:"grid grid-cols-3 mb-4",children:[s.jsxs(Xt,{value:"all",children:["All (",i.length,")"]}),s.jsxs(Xt,{value:"products",children:["Products (",i.filter(T=>T.product).length,")"]}),s.jsxs(Xt,{value:"recipes",children:["Recipes (",i.filter(T=>T.recipe_name).length,")"]})]}),s.jsx(_r,{value:m,className:"space-y-4",children:o?Array.from({length:3}).map((T,O)=>s.jsx(ke,{className:"overflow-hidden",children:s.jsx(it,{className:"p-0",children:s.jsxs("div",{className:"p-4",children:[s.jsx(rm,{className:"h-4 w-3/4 mb-2"}),s.jsx(rm,{className:"h-3 w-1/2 mb-4"}),s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsx(rm,{className:"h-3 w-16"}),s.jsx(rm,{className:"h-3 w-16"})]}),s.jsx(rm,{className:"h-3 w-full"})]})})},O)):N.length>0?N.map(T=>s.jsx(ke,{className:"overflow-hidden hover:border-safebite-teal transition-colors cursor-pointer",onClick:()=>t&&t(T),children:s.jsx(it,{className:"p-0",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-medium text-safebite-text",children:A(T)}),s.jsx("p",{className:"text-sm text-safebite-text-secondary",children:E(T)}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[T.category&&s.jsx(St,{variant:"outline",children:T.category}),j(T)!==void 0&&s.jsxs(St,{className:"bg-safebite-purple/20 text-safebite-purple border-safebite-purple",children:[s.jsx(Flame,{className:"h-3 w-3 mr-1"}),j(T)," kcal"]}),T.rating&&s.jsxs(St,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:["★ ",T.rating.toFixed(1)]})]}),T.description&&s.jsx("p",{className:"text-xs text-safebite-text-secondary mt-2 line-clamp-2",children:T.description})]})})},T._id)):s.jsxs("div",{className:"text-center py-8 text-safebite-text-secondary",children:['No results found for "',r,'" in this category.']})})]}),!o&&i.length===0&&!u&&r&&s.jsxs("div",{className:"text-center py-8 text-safebite-text-secondary",children:['No results found for "',r,'". Try a different search term.']}),!o&&i.length===0&&!u&&!r&&s.jsx("div",{className:"text-center py-8 text-safebite-text-secondary",children:"Enter a search term to find food products and recipes."})]})]})},hd=({name:t,image:e,calories:r,nutritionScore:n,onClick:i,className:a})=>{const o={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return s.jsxs("div",{className:at("sci-fi-card flex cursor-pointer",a),onClick:i,children:[s.jsxs("div",{className:"relative flex-shrink-0 w-20 h-20 rounded-md overflow-hidden mr-4 border border-safebite-card-bg-alt",children:[e?s.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-safebite-card-bg-alt flex items-center justify-center",children:s.jsx("span",{className:"text-safebite-text-secondary text-xs",children:"No image"})}),s.jsx("div",{className:`absolute bottom-0 left-0 right-0 ${o[n]} h-2`})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-safebite-text font-semibold mb-1",children:t}),s.jsxs("p",{className:"text-safebite-text-secondary text-sm mb-2",children:[r," calories per serving"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-xs mr-2",children:"Nutrition Score:"}),s.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${o[n]}`})]})]})]})},NAe=({food:t,onBack:e,onAddToTracker:r,onAddTag:n,onToggleFavorite:i,isFavorite:a=!1,tags:o=[],aiAnalysis:l="",isAnalysisLoading:u=!1})=>{var k,C,M,F;const[f,m]=S.useState(""),[h,p]=S.useState(!1),{name:y,calories:w,nutritionScore:b,details:v,brand:A,apiSource:E,source:j}=t,N={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"},T={green:"Good Choice",yellow:"Moderate",red:"Use Caution"},O=()=>{f.trim()&&(n(t.id,f.trim()),m(""),p(!1))};return s.jsxs("div",{className:"sci-fi-card",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs(re,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary -ml-2",onClick:e,children:[s.jsx(db,{className:"mr-1 h-4 w-4"}),"Back"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>i(t.id),children:s.jsx(ea,{className:`h-4 w-4 ${a?"text-yellow-500 fill-yellow-500":""}`})}),s.jsx(re,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",onClick:()=>p(!h),children:s.jsx(GT,{className:"h-4 w-4"})}),s.jsx(re,{variant:"ghost",size:"sm",className:"text-safebite-text-secondary",children:s.jsx(_y,{className:"h-4 w-4"})})]})]}),h&&s.jsxs("div",{className:"mb-4 flex",children:[s.jsx("input",{type:"text",value:f,onChange:D=>m(D.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:D=>{D.key==="Enter"&&O()}}),s.jsx(re,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:O,children:"Add"})]}),o.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:o.map(D=>s.jsx(St,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary",children:D},D))}),s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold text-safebite-text",children:y}),A&&s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:A})]}),s.jsx(St,{className:`${N[b]} text-white`,children:T[b]})]}),s.jsxs(To,{defaultValue:"nutrition",className:"w-full mb-6",children:[s.jsxs(Ps,{className:"grid grid-cols-4 mb-4",children:[s.jsx(Xt,{value:"nutrition",children:"Nutrition"}),s.jsx(Xt,{value:"ingredients",children:"Ingredients"}),s.jsx(Xt,{value:"health",children:"Health"}),s.jsx(Xt,{value:"ai-analysis",children:"AI Analysis"})]}),s.jsxs(_r,{value:"nutrition",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Calories"}),s.jsxs("div",{className:"text-safebite-text font-bold",children:[(v==null?void 0:v.calories)||w," kcal"]})]}),s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Protein"}),s.jsxs("div",{className:"text-safebite-text font-bold",children:[(v==null?void 0:v.protein)||((k=t.nutrients)==null?void 0:k.protein)||0,"g"]})]}),s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Carbs"}),s.jsxs("div",{className:"text-safebite-text font-bold",children:[(v==null?void 0:v.carbs)||((C=t.nutrients)==null?void 0:C.carbs)||0,"g"]})]}),s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Fat"}),s.jsxs("div",{className:"text-safebite-text font-bold",children:[(v==null?void 0:v.fat)||((M=t.nutrients)==null?void 0:M.fat)||0,"g"]})]}),s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sodium"}),s.jsxs("div",{className:"text-safebite-text font-bold",children:[(v==null?void 0:v.sodium)||0,"mg"]})]}),s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm",children:"Sugar"}),s.jsxs("div",{className:"text-safebite-text font-bold",children:[(v==null?void 0:v.sugar)||((F=t.nutrients)==null?void 0:F.sugar)||0,"g"]})]})]}),s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt/50 rounded-md",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm mb-1",children:"Nutrition Score"}),s.jsx("div",{className:"h-2 bg-safebite-card-bg-alt rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${b==="green"?"bg-green-500":b==="yellow"?"bg-yellow-500":"bg-red-500"}`,style:{width:b==="green"?"90%":b==="yellow"?"50%":"20%"}})}),s.jsxs("div",{className:"flex justify-between text-xs text-safebite-text-secondary mt-1",children:[s.jsx("span",{children:"Poor"}),s.jsx("span",{children:"Moderate"}),s.jsx("span",{children:"Excellent"})]})]}),s.jsxs("div",{className:"text-xs text-safebite-text-secondary text-right",children:["Data source: ",E||j||"Unknown"]})]}),s.jsxs(_r,{value:"ingredients",className:"space-y-4",children:[v!=null&&v.ingredients&&v.ingredients.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Ingredients List"}),s.jsx("p",{className:"text-safebite-text-secondary",children:v.ingredients.join(", ")})]}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-safebite-text-secondary",children:"No ingredient information available"})}),(v==null?void 0:v.additives)&&v.additives.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Additives"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.additives.map(D=>s.jsx(St,{variant:"outline",className:"border-red-500 text-red-500",children:D},D))})]})]}),s.jsxs(_r,{value:"health",className:"space-y-4",children:[(v==null?void 0:v.allergens)&&v.allergens.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-safebite-text mb-2",children:"Allergens"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.allergens.map(D=>s.jsxs(St,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[s.jsx(Kn,{className:"mr-1 h-3 w-3"})," ",D]},D))})]}),b==="red"&&s.jsx(ke,{className:"bg-red-500/10 border-red-500 p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Kn,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-md font-medium text-red-400 mb-1",children:"Health Concern"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product contains high levels of sugar and artificial additives which may impact your health goals."})]})]})}),b==="green"&&s.jsx(ke,{className:"bg-green-500/10 border-green-500 p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Rl,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-md font-medium text-green-400 mb-1",children:"Healthy Choice"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is a great fit for your health goals. It contains nutritious ingredients and minimal processing."})]})]})}),b==="yellow"&&s.jsx(ke,{className:"bg-yellow-500/10 border-yellow-500 p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-md font-medium text-yellow-500 mb-1",children:"Moderate Choice"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"This product is acceptable in moderation. Be mindful of portion sizes and frequency of consumption."})]})]})})]}),s.jsx(_r,{value:"ai-analysis",className:"space-y-4",children:u?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Analyzing food item..."})]}):l?s.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(wy,{className:"h-5 w-5 text-safebite-teal mr-2"}),s.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"AI Nutritional Analysis"})]}),s.jsx("div",{className:"text-safebite-text-secondary",children:l.split(`
`).map((D,V)=>/^\d+\.\s/.test(D)||D.includes(":")?s.jsx("h5",{className:"font-semibold text-safebite-teal mt-3 mb-1",children:D},V):D.trim().startsWith("•")||D.trim().startsWith("-")?s.jsxs("div",{className:"flex items-start ml-2 mb-1",children:[s.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),s.jsx("p",{children:D.replace(/^[•\-]\s*/,"")})]},V):D.trim()?s.jsx("p",{className:"mb-2",children:D},V):s.jsx("div",{className:"h-2"},V))})]}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-safebite-text-secondary",children:"No AI analysis available"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[s.jsxs(ke,{className:"p-4 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-bl-full"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-3",children:s.jsx(ui,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-orange-500",children:"Zomato + Swiggy"}),s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Find this food on delivery apps"})]})]}),s.jsxs(re,{disabled:!0,className:"w-full mt-3 bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[s.jsx(oi,{className:"mr-2 h-4 w-4"}),"Coming Soon"]})]}),s.jsxs(ke,{className:"p-4 border border-safebite-teal/30 bg-safebite-card-bg",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-safebite-teal to-blue-500 flex items-center justify-center mr-3",children:s.jsx(yd,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-safebite-teal",children:"Add to Tracker"}),s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Track your daily nutrition"})]})]}),s.jsxs(re,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:[s.jsx(cQ,{className:"mr-2 h-4 w-4"}),"Add to Tracker"]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:e,children:"Back to Results"}),s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>r(t),children:"Add to Tracker"})]})]})},EAe=({historyItems:t,recentFoods:e,onHistoryItemClick:r,onFoodItemClick:n,onToggleFavorite:i,onRemoveHistoryItem:a,onAddTag:o,onRemoveTag:l})=>{const[u,f]=U.useState(""),[m,h]=U.useState(null),p=w=>{u.trim()&&(o(w,u.trim()),f(""),h(null))},y=w=>{const b=new Date(w);return b.toLocaleDateString()+" "+b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[s.jsx(oi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Search History"]}),t.length>0?s.jsx("div",{className:"space-y-3",children:t.map(w=>s.jsxs("div",{className:"sci-fi-card p-3 hover:bg-safebite-card-bg-alt/50 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>r(w.query),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wn,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),s.jsx("span",{className:"text-safebite-text font-medium",children:w.query}),w.isFavorite&&s.jsx(ea,{className:"h-4 w-4 text-yellow-500 ml-2 fill-yellow-500"})]}),s.jsx("div",{className:"text-xs text-safebite-text-secondary mt-1",children:y(w.timestamp)})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>i(w.id),children:s.jsx(ea,{className:`h-4 w-4 ${w.isFavorite?"text-yellow-500 fill-yellow-500":"text-safebite-text-secondary"}`})}),s.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>h(m===w.id?null:w.id),children:s.jsx(GT,{className:"h-4 w-4 text-safebite-text-secondary"})}),s.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>a(w.id),children:s.jsx(fi,{className:"h-4 w-4 text-safebite-text-secondary"})})]})]}),w.tags&&w.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:w.tags.map(b=>s.jsxs(St,{variant:"outline",className:"text-xs bg-safebite-card-bg-alt text-safebite-text-secondary flex items-center",children:[b,s.jsx(fi,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:v=>{v.stopPropagation(),l(w.id,b)}})]},b))}),m===w.id&&s.jsxs("div",{className:"mt-2 flex",children:[s.jsx("input",{type:"text",value:u,onChange:b=>f(b.target.value),placeholder:"Add tag...",className:"sci-fi-input text-sm py-1 px-2 flex-grow",onKeyDown:b=>{b.key==="Enter"&&p(w.id)}}),s.jsx(re,{size:"sm",className:"ml-2 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:()=>p(w.id),children:"Add"})]})]},w.id))}):s.jsx("div",{className:"text-center py-6 bg-safebite-card-bg-alt/30 rounded-lg",children:s.jsx("p",{className:"text-safebite-text-secondary",children:"No search history yet"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recently Viewed Foods"}),e.length>0?s.jsx("div",{className:"space-y-2",children:e.map(w=>s.jsx("div",{className:"sci-fi-card p-3 cursor-pointer hover:bg-safebite-card-bg-alt/50 transition-colors",onClick:()=>n(w),children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-safebite-text font-medium",children:w.name}),s.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:[w.calories," kcal | ",w.apiSource||w.source]})]}),s.jsx(St,{className:`
                      ${w.nutritionScore==="green"?"bg-green-500":w.nutritionScore==="yellow"?"bg-yellow-500":"bg-red-500"} 
                      text-white
                    `,children:w.nutritionScore==="green"?"Healthy":w.nutritionScore==="yellow"?"Moderate":"Caution"})]})},w.id))}):s.jsx("div",{className:"text-center py-6 bg-safebite-card-bg-alt/30 rounded-lg",children:s.jsx("p",{className:"text-safebite-text-secondary",children:"No recently viewed foods"})})]})]})},AAe=({onScan:t,onUpload:e,onClose:r})=>{const[n,i]=S.useState("scanner"),[a,o]=S.useState(!1),[l,u]=S.useState(null),[f,m]=S.useState(!1),h=S.useRef(null),p=S.useRef(null),y=S.useRef(null),w=async()=>{try{u(null);const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});h.current&&(h.current.srcObject=N,o(!0))}catch(N){console.error("Error accessing camera:",N),u("Could not access camera. Please check permissions."),o(!1)}},b=()=>{h.current&&h.current.srcObject&&(h.current.srcObject.getTracks().forEach(O=>O.stop()),h.current.srcObject=null,o(!1))},v=()=>{if(h.current&&p.current){const N=h.current,T=p.current,O=T.getContext("2d");if(O){T.width=N.videoWidth,T.height=N.videoHeight,O.drawImage(N,0,0,T.width,T.height);const k=T.toDataURL("image/jpeg");b(),t(k)}}},A=N=>{N.target.files&&N.target.files[0]&&e(N.target.files[0])},E=N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?m(!0):N.type==="dragleave"&&m(!1)},j=N=>{N.preventDefault(),N.stopPropagation(),m(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&e(N.dataTransfer.files[0])};return U.useEffect(()=>()=>{b()},[]),s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:n==="scanner"?"Scan Food Barcode":"Upload Food Image"}),s.jsx(re,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:s.jsx(fi,{size:20})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex space-x-2 mb-4",children:[s.jsxs(re,{variant:n==="scanner"?"default":"outline",className:n==="scanner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("scanner"),b()},children:[s.jsx(jy,{className:"mr-2 h-4 w-4"}),"Scanner"]}),s.jsxs(re,{variant:n==="upload"?"default":"outline",className:n==="upload"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>{i("upload"),b()},children:[s.jsx(eQ,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),n==="scanner"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:a?s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 border-2 border-safebite-teal/50 pointer-events-none",children:s.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-safebite-teal/50"})})]}):s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l?s.jsxs("div",{className:"text-center p-4",children:[s.jsx(St,{variant:"outline",className:"bg-red-500/10 text-red-500 mb-2",children:"Error"}),s.jsx("p",{className:"text-safebite-text-secondary",children:l})]}):s.jsxs(re,{onClick:w,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[s.jsx(UT,{className:"mr-2 h-4 w-4"}),"Start Camera"]})})}),s.jsx("canvas",{ref:p,className:"hidden"}),a&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",onClick:b,children:"Cancel"}),s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:v,children:"Scan Barcode"})]}),s.jsx("p",{className:"text-xs text-safebite-text-secondary text-center",children:"Position the barcode within the frame and hold steady"})]}),n==="upload"&&s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${f?"border-safebite-teal bg-safebite-teal/5":"border-safebite-card-bg-alt"}`,onDragEnter:E,onDragOver:E,onDragLeave:E,onDrop:j,children:[s.jsx(fb,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),s.jsx("p",{className:"text-safebite-text mb-2",children:"Drag and drop a food image here"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm mb-4",children:"or click to select a file"}),s.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:A,className:"hidden"}),s.jsx(re,{variant:"outline",onClick:()=>{var N;return(N=y.current)==null?void 0:N.click()},children:"Select Image"}),s.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPG, PNG, WEBP"})]})]})]})})},TAe="c2bd47af-11fb-45dd-9cac-c3aa89289d75",PAe="https://api.calorieninjas.com/v1",kAe=async t=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),15e3),n=new FormData;n.append("media",t);const i=await fetch(`${PAe}/imagetextnutrition`,{signal:e.signal,method:"POST",headers:{"X-Api-Key":TAe},body:n});if(clearTimeout(r),!i.ok)throw new Error(`CalorieNinjas API returned status ${i.status}`);return await i.json()}catch(e){throw console.error("Error getting nutrition from image:",e),e}},CAe=({isGuest:t=!1})=>{const[e,r]=S.useState(null),[n,i]=S.useState(null),[a,o]=S.useState(!1),[l,u]=S.useState(null),[f,m]=S.useState(null),h=S.useRef(null),{toast:p}=ar(),y=v=>{var E;const A=(E=v.target.files)==null?void 0:E[0];if(A){if(!A.type.startsWith("image/")){p({title:"Invalid file type",description:"Please select an image file (JPEG, PNG, etc.).",variant:"destructive"});return}if(A.size>5*1024*1024){p({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}r(A),i(URL.createObjectURL(A)),u(null),m(null)}},w=async()=>{if(!e){p({title:"No image selected",description:"Please select an image to analyze.",variant:"destructive"});return}o(!0),m(null);try{tx("image_nutrition_analysis",{fileType:e.type,fileSize:e.size,isGuest:t});const v=await kAe(e);v&&v.items&&Array.isArray(v.items)?(u(v.items),v.items.length===0?p({title:"No nutrition data found",description:"No food items were detected in the image. Try a clearer image of food or food packaging.",variant:"default"}):p({title:"Analysis complete",description:`Found nutrition data for ${v.items.length} food items.`,variant:"default"})):(u(null),m("Invalid response from nutrition API"),p({title:"Analysis error",description:"Received invalid data from the nutrition API.",variant:"destructive"}))}catch(v){console.error("Image analysis error:",v),u(null),m(v.message||"Failed to analyze image"),p({title:"Analysis failed",description:v.message||"An error occurred while analyzing the image.",variant:"destructive"})}finally{o(!1)}},b=()=>{r(null),i(null),u(null),m(null),h.current&&(h.current.value="")};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsxs(pt,{children:[s.jsxs(ht,{className:"flex items-center",children:[s.jsx(UT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Image Nutrition Analysis"]}),s.jsx(tu,{children:"Upload an image of food or packaging to get nutrition information"})]}),s.jsx(it,{children:n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:n,alt:"Food preview",className:"w-full h-auto max-h-64 object-contain rounded-lg"}),s.jsx(re,{variant:"outline",size:"sm",className:"absolute top-2 right-2 bg-safebite-dark-blue/80 hover:bg-safebite-dark-blue",onClick:b,children:"Change Image"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:w,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(KY,{className:"mr-2 h-4 w-4"}),"Analyze Nutrition"]})})}),f&&s.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(vs,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-500",children:f})]})}),l&&l.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Nutrition Information"}),s.jsx("div",{className:"space-y-3",children:l.map((v,A)=>s.jsxs("div",{className:"p-3 border border-safebite-card-bg-alt rounded-md hover:border-safebite-teal/50 transition-colors",children:[s.jsx("h4",{className:"font-medium text-safebite-text mb-2",children:v.name}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-2",children:[s.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Calories"}),s.jsx("p",{className:"text-sm font-medium text-safebite-text",children:v.calories})]}),s.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Protein"}),s.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[v.protein_g,"g"]})]}),s.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Carbs"}),s.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[v.carbohydrates_total_g,"g"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[s.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Fat"}),s.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[v.fat_total_g,"g"]})]}),s.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Sugar"}),s.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[v.sugar_g,"g"]})]}),s.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Fiber"}),s.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[v.fiber_g,"g"]})]}),s.jsxs("div",{className:"text-center p-1 bg-safebite-card-bg-alt rounded",children:[s.jsx("p",{className:"text-xs text-safebite-text-secondary",children:"Sodium"}),s.jsxs("p",{className:"text-sm font-medium text-safebite-text",children:[v.sodium_mg,"mg"]})]})]}),s.jsxs("p",{className:"text-xs text-safebite-text-secondary mt-2",children:["Serving size: ",v.serving_size_g,"g"]})]},A))})]})]}):s.jsxs("div",{className:"border-2 border-dashed border-safebite-card-bg-alt rounded-lg p-8 text-center cursor-pointer hover:border-safebite-teal/50 transition-colors",onClick:()=>{var v;return(v=h.current)==null?void 0:v.click()},children:[s.jsx(fb,{className:"h-10 w-10 text-safebite-text-secondary mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-safebite-text mb-2",children:"Upload Food Image"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Drag and drop an image here, or click to browse"}),s.jsxs(re,{variant:"outline",className:"sci-fi-button",children:[s.jsx(JY,{className:"mr-2 h-4 w-4"}),"Browse Images"]}),s.jsx("p",{className:"text-xs text-safebite-text-secondary mt-4",children:"Supported formats: JPEG, PNG, GIF, WebP (Max 5MB)"}),s.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:y})]})}),s.jsx(bs,{className:"flex justify-between",children:s.jsx("div",{className:"text-xs text-safebite-text-secondary",children:"Powered by CalorieNinjas API"})})]})},IAe=({apiSources:t,onToggleApi:e,onClose:r})=>{const n=t.filter(i=>i.isActive).length;return s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full border border-safebite-card-bg-alt overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qT,{className:"h-5 w-5 text-safebite-teal mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"API Sources"})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:r,className:"text-safebite-text-secondary hover:text-safebite-text",children:s.jsx(fi,{size:20})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Select which nutrition databases to search. Using multiple sources provides more comprehensive results."}),s.jsx("div",{className:"space-y-3 mb-4",children:t.map(i=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-safebite-card-bg-alt/50 rounded-lg cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>e(i.id),children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-safebite-text font-medium",children:i.name}),i.isActive&&s.jsx(St,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:"Active"})]}),s.jsx("p",{className:"text-xs text-safebite-text-secondary mt-1",children:i.description})]}),s.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center ${i.isActive?"border-safebite-teal bg-safebite-teal/20":"border-safebite-text-secondary"}`,children:i.isActive&&s.jsx(Zc,{className:"h-4 w-4 text-safebite-teal"})})]},i.id))}),s.jsx("div",{className:"bg-safebite-card-bg-alt/30 p-3 rounded-lg text-center",children:s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:n===0?"No API sources selected. At least one is required.":`${n} API source${n>1?"s":""} selected`})}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(re,{onClick:r,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Apply Changes"})})]})]})})};var qC="Avatar",[OAe,WPe]=Va(qC),[RAe,wW]=OAe(qC),_W=S.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=S.useState("idle");return s.jsx(RAe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Qe.span,{...n,ref:e})})});_W.displayName=qC;var SW="AvatarImage",jW=S.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=wW(SW,r),l=MAe(n,a.referrerPolicy),u=Yn(f=>{i(f),o.onImageLoadingStatusChange(f)});return un(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?s.jsx(Qe.img,{...a,ref:e,src:n}):null});jW.displayName=SW;var NW="AvatarFallback",EW=S.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=wW(NW,r),[o,l]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Qe.span,{...i,ref:e}):null});EW.displayName=NW;function MAe(t,e){const[r,n]=S.useState("idle");return un(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,o=l=>()=>{i&&n(l)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var AW=_W,TW=jW,PW=EW;const nb=S.forwardRef(({className:t,...e},r)=>s.jsx(AW,{ref:r,className:at("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));nb.displayName=AW.displayName;const kW=S.forwardRef(({className:t,...e},r)=>s.jsx(TW,{ref:r,className:at("aspect-square h-full w-full",t),...e}));kW.displayName=TW.displayName;const ib=S.forwardRef(({className:t,...e},r)=>s.jsx(PW,{ref:r,className:at("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ib.displayName=PW.displayName;const CW=({initialMessage:t="Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or healthy eating!"})=>{const[e,r]=S.useState(!0),[n,i]=S.useState(!0),[a,o]=S.useState([{role:"assistant",content:t}]),[l,u]=S.useState(""),[f,m]=S.useState(!1),[h,p]=S.useState(!1),y=S.useRef(null),w=Wt(We),b=ir(We);ar();const v=()=>{var O;(O=y.current)==null||O.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{v()},[a]),S.useEffect(()=>{const O=w.onAuthStateChanged(k=>{p(!!k)});return()=>O()},[w]);const A=async()=>{if(!l.trim())return;const O={role:"user",content:l};o(k=>[...k,O]),u(""),m(!0);try{const k=[...a,O],C=await OC(k),M={role:"assistant",content:C};if(o(F=>[...F,M]),h)try{const F=w.currentUser;if(F){const D=sf(b,"users",F.uid,"chatHistory");await YU(D,{userMessage:O.content,aiResponse:C,timestamp:iA(),context:k.map($=>({role:$.role,content:$.content.substring(0,100)+($.content.length>100?"...":"")})),topics:E(O.content)});const V=Pt(b,"users",F.uid);await Mn(V,{aiLearning:{lastInteraction:iA(),recentTopics:E(O.content),interactionCount:k.length/2}},{merge:!0})}}catch(F){console.error("Error saving chat to Firebase:",F)}}catch(k){console.error("Error sending message to Gemini:",k),o(C=>[...C,{role:"assistant",content:"I'm sorry, I'm having trouble connecting to my knowledge base right now. Please try again later."}])}finally{m(!1)}},E=O=>{const k=["nutrition","calories","protein","carbs","fat","diet","vegetarian","vegan","gluten","allergy","organic","healthy","recipe","meal","breakfast","lunch","dinner","snack","vitamin","mineral","supplement","weight","exercise","diabetes","heart","cholesterol","blood pressure"],C=[],M=O.toLowerCase();for(const F of k)M.includes(F)&&C.push(F);return C.length>0?C:["general"]},j=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),A())},N=()=>{r(!e),e||i(!1)},T=()=>{i(!n)};return s.jsxs(s.Fragment,{children:[!e&&s.jsx(re,{onClick:N,className:"fixed bottom-4 right-4 rounded-full w-14 h-14 p-0 bg-safebite-teal hover:bg-safebite-teal/80 shadow-lg",children:s.jsx(wy,{size:24})}),e&&s.jsxs(ke,{className:`fixed bottom-4 right-4 w-80 sm:w-96 shadow-lg transition-all duration-300 ease-in-out ${n?"h-16":"h-[500px]"}`,children:[s.jsxs(pt,{className:"p-3 border-b flex flex-row items-center justify-between space-y-0",children:[s.jsxs(ht,{className:"text-md flex items-center",children:[s.jsxs(nb,{className:"h-8 w-8 mr-2",children:[s.jsx(kW,{src:"/bot-avatar.png",alt:"AI"}),s.jsx(ib,{className:"bg-safebite-teal text-safebite-dark-blue",children:"AI"})]}),"SafeBite AI Assistant"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:T,className:"h-8 w-8 p-0",children:n?s.jsx(iQ,{size:16}):s.jsx(sQ,{size:16})}),s.jsx(re,{variant:"ghost",size:"icon",onClick:N,className:"h-8 w-8 p-0",children:s.jsx(fi,{size:16})})]})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"p-4 overflow-y-auto h-[380px] bg-safebite-card-bg",children:s.jsxs("div",{className:"space-y-4",children:[a.map((O,k)=>s.jsx("div",{className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${O.role==="user"?"bg-safebite-teal text-safebite-dark-blue":"bg-safebite-card-bg-alt text-safebite-text"}`,children:O.content.split(`
`).map((C,M)=>s.jsxs(U.Fragment,{children:[C,M<O.content.split(`
`).length-1&&s.jsx("br",{})]},M))})},k)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-safebite-card-bg-alt text-safebite-text",children:s.jsx(kr,{className:"h-5 w-5 animate-spin"})})}),s.jsx("div",{ref:y})]})}),s.jsx(bs,{className:"p-3 border-t",children:s.jsxs("div",{className:"flex w-full items-center space-x-2",children:[s.jsx(At,{placeholder:"Ask about food or nutrition...",value:l,onChange:O=>u(O.target.value),onKeyDown:j,className:"flex-1",disabled:f}),s.jsx(re,{size:"icon",onClick:A,disabled:f||!l.trim(),className:"bg-safebite-teal hover:bg-safebite-teal/80",children:f?s.jsx(kr,{className:"h-5 w-5 animate-spin"}):s.jsx(q6,{size:18})})]})})]})]})]})},DAe="modulepreload",LAe=function(t){return"/SafeBite-V1/"+t},BF={},Oo=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=LAe(u),u in BF)return;BF[u]=!0;const f=u.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":DAe,f||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),f)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},IW="64b66d05",OW="7598859c968254ec27441ad9ed9197d3",kT="xxtcYPKPQyJ4NascI0BlQZNMmleexcaUMxrIPOAJ",CT=["64b66d05","83bf3c12","a742d2c9"],$Ae=["7598859c968254ec27441ad9ed9197d3","f5982d5d0f3c1c92a372f0c928617b56","0c3e9d7f9546b5be3b6405f0c9903f25"],FAe="https://api.calorieninjas.com/v1",RW="https://world.openfoodfacts.org/api/v2",ss={edamam:{name:"Edamam",isWorking:!0,lastChecked:0,errorCount:0},calorieninjas:{name:"CalorieNinjas",isWorking:!0,lastChecked:0,errorCount:0},openfoodfacts:{name:"OpenFoodFacts",isWorking:!0,lastChecked:0,errorCount:0},mongodb:{name:"MongoDB",isWorking:!0,lastChecked:0,errorCount:0}};console.log("Edamam API Key loaded:","Available");console.log("CalorieNinjas API Key loaded:","Available");console.log("Backup API Keys available:",CT.length);const UF=(t,e,r)=>{ss[t]&&(ss[t].lastChecked=Date.now(),ss[t].isWorking=e,e?ss[t].errorCount=0:(ss[t].errorCount++,console.error(`${ss[t].name} API error:`,r)))},nm=()=>({...ss}),hm=async(t,e)=>{if(!t)return[];try{console.log(`Searching for: ${t}`);let r=[];const n=VAe(e);for(const i of n)try{switch(i){case"mongodb":r=await BAe(t);break;case"calorieninjas":r=await zAe(t);break;case"openfoodfacts":r=await qAe(t);break;case"edamam":r=await UAe(t);break}if(r.length>0)return console.log(`Found ${r.length} results from ${ss[i].name}`),UF(i,!0),r.map(a=>({...a,apiSource:ss[i].name}))}catch(a){UF(i,!1,a)}return console.log("No results found from any API, using fallback data"),await qF(t)}catch(r){return console.error("Error searching foods:",r),await qF(t)}},VAe=t=>{var r;const e=["mongodb","calorieninjas","openfoodfacts","edamam"];return t&&(r=ss[t])!=null&&r.isWorking?[t,...e.filter(n=>n!==t)]:e},BAe=async t=>{try{const{searchProductsInMongoDB:e}=await Oo(async()=>{const{searchProductsInMongoDB:r}=await Promise.resolve().then(()=>I7);return{searchProductsInMongoDB:r}},void 0);return await e(t)}catch(e){throw console.error("MongoDB search failed:",e),e}},UAe=async t=>{let e=await zF(t,IW,OW);if(e.length===0){console.log("Primary API key returned no results, trying backup keys");for(let r=0;r<CT.length;r++){const n=CT[r],i=$Ae[r];try{if(e=await zF(t,n,i),e.length>0){console.log(`Got results using backup key ${r+1}`);break}}catch(a){console.error(`Backup key ${r+1} failed:`,a)}}}return e},zAe=async t=>{try{console.log(`Searching CalorieNinjas for: ${t}`);const e=await fetch(`https://api.calorieninjas.com/v1/nutrition?query=${encodeURIComponent(t)}`,{method:"GET",headers:{"X-Api-Key":kT,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`CalorieNinjas API error: ${e.status}`);const r=await e.json();if(console.log("CalorieNinjas response:",r),r&&r.items&&r.items.length>0)return xy(r.items);if(r&&Array.isArray(r.items))return xy(r.items);if(r){const n=r.items||[];return xy(n)}return[]}catch(e){return console.error("CalorieNinjas API error:",e),[]}},qAe=async t=>{try{console.log(`Searching OpenFoodFacts for: ${t}`);const e=await Promise.allSettled([HAe(t),WAe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return[]}catch(e){return console.error("OpenFoodFacts API error:",e),[]}},HAe=async t=>{try{console.log(`Searching OpenFoodFacts V2 API for: ${t}`);const e=await fetch(`${RW}/search?search_terms=${encodeURIComponent(t)}&fields=code,product_name,brands,nutriments,image_url,ingredients_text,allergens,additives_tags,nutriscore_grade&page_size=15`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V2 API error: ${e.status}`);const r=await e.json();return!r.products||r.products.length===0?[]:q0(r.products)}catch(e){return console.error("OpenFoodFacts V2 API error:",e),[]}},WAe=async t=>{try{console.log(`Searching OpenFoodFacts V1 API for: ${t}`);const e=await fetch(`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(t)}&search_simple=1&action=process&json=1&page_size=15`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V1 API error: ${e.status}`);const r=await e.json();return!r.products||r.products.length===0?[]:q0(r.products)}catch(e){return console.error("OpenFoodFacts V1 API error:",e),[]}},GAe=async t=>{try{console.log(`Searching for barcode: ${t}`);const e=await Promise.allSettled([KAe(t),YAe(t),QAe(t)]);for(const r of e)if(r.status==="fulfilled"&&r.value.length>0)return r.value;return console.log("No results found for barcode from any source"),[]}catch(e){return console.error("Error searching by barcode:",e),[]}},KAe=async t=>{try{console.log(`Searching OpenFoodFacts V2 API for barcode: ${t}`);const e=await fetch(`${RW}/product/${t}?fields=code,product_name,brands,nutriments,image_url,ingredients_text,allergens,additives_tags,nutriscore_grade`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V2 API barcode error: ${e.status}`);const r=await e.json();return r.product?q0([r.product]).map(i=>({...i,apiSource:"OpenFoodFacts V2 (Barcode)"})):[]}catch(e){return console.error("OpenFoodFacts V2 barcode search failed:",e),[]}},YAe=async t=>{try{console.log(`Searching OpenFoodFacts V1 API for barcode: ${t}`);const e=await fetch(`https://world.openfoodfacts.org/api/v0/product/${t}.json`,{method:"GET",headers:{"User-Agent":"SafeBite/1.0 (contact@safebite.app)"}});if(!e.ok)throw new Error(`OpenFoodFacts V1 API barcode error: ${e.status}`);const r=await e.json();return!r.product||r.status!==1?[]:q0([r.product]).map(i=>({...i,apiSource:"OpenFoodFacts V1 (Barcode)"}))}catch(e){return console.error("OpenFoodFacts V1 barcode search failed:",e),[]}},QAe=async t=>{try{console.log(`Searching Edamam for barcode: ${t}`);const e=await fetch(`https://api.edamam.com/api/food-database/v2/parser?app_id=${IW}&app_key=${OW}&upc=${t}`);if(!e.ok)throw new Error(`Edamam API barcode error: ${e.status}`);const r=await e.json();return!r.hints||r.hints.length===0?[]:MW(r.hints).map(i=>({...i,apiSource:"Edamam (Barcode)"}))}catch(e){return console.error("Edamam barcode search failed:",e),[]}},XAe=async t=>{try{console.log("Searching by image...");const e=new FormData;e.append("file",t);try{const u=await fetch(`${FAe}/imagetextnutrition`,{method:"POST",headers:{"X-Api-Key":kT},body:e});if(!u.ok)throw new Error(`CalorieNinjas API error: ${u.status}`);const f=await u.json();if(f.items&&f.items.length>0)return xy(f.items).map(h=>({...h,apiSource:"CalorieNinjas (Image)"}))}catch(u){console.error("CalorieNinjas image search failed:",u)}const n=t.name.toLowerCase().replace(/\.(jpg|jpeg|png|gif)$/i,"").split(/[_\-\s]/),i=["image","photo","pic","img","food","scan"],a=n.filter(u=>u.length>2&&!i.includes(u)),o=a.length>0?a[0]:"food";return console.log(`Image search fallback: searching for "${o}"`),(await hm(o)).map(u=>({...u,apiSource:"Image Recognition (Fallback)"}))}catch(e){return console.error("Error searching by image:",e),[]}},xy=t=>t.map((e,r)=>{let n="yellow";return e.protein_g>15&&(e.fiber_g>3||!e.fiber_g)&&(e.sugar_g<10||!e.sugar_g)?n="green":(e.fat_total_g>20||!e.fat_total_g||e.sugar_g>15||!e.sugar_g)&&(n="red"),{id:`calorieninjas-${Date.now()}-${r}`,name:e.name||"Unknown Food",brand:"",calories:Math.round(e.calories)||0,image:"",nutritionScore:n,nutrients:{protein:Math.round(e.protein_g)||0,carbs:Math.round(e.carbohydrates_total_g)||0,fat:Math.round(e.fat_total_g)||0,fiber:Math.round(e.fiber_g)||0,sugar:Math.round(e.sugar_g)||0},details:{protein:Math.round(e.protein_g)||0,carbs:Math.round(e.carbohydrates_total_g)||0,fat:Math.round(e.fat_total_g)||0,sodium:Math.round(e.sodium_mg)||0,sugar:Math.round(e.sugar_g)||0,calories:Math.round(e.calories)||0,ingredients:[],allergens:[],additives:[]},servingSizes:[{label:"Serving",weight:e.serving_size_g||100}],source:"CalorieNinjas"}}),q0=t=>t.map(e=>{const r=e.nutriments||{},n=e.ingredients_text?e.ingredients_text.split(", "):[],i=e.allergens?e.allergens.split(",").map(l=>l.trim()):[],a=e.additives_tags?e.additives_tags.map(l=>l.replace("en:","")):[];let o="yellow";if(e.nutriscore_grade)switch(e.nutriscore_grade.toLowerCase()){case"a":case"b":o="green";break;case"c":o="yellow";break;case"d":case"e":o="red";break}return{id:`openfoodfacts-${e.code}`,name:e.product_name||"Unknown Product",brand:e.brands||"",calories:Math.round(r.energy_kcal)||0,image:e.image_url||"",nutritionScore:o,nutrients:{protein:Math.round(r.proteins)||0,carbs:Math.round(r.carbohydrates)||0,fat:Math.round(r.fat)||0,fiber:Math.round(r.fiber)||0,sugar:Math.round(r.sugars)||0},details:{protein:Math.round(r.proteins)||0,carbs:Math.round(r.carbohydrates)||0,fat:Math.round(r.fat)||0,sodium:Math.round(r.sodium)||0,sugar:Math.round(r.sugars)||0,calories:Math.round(r.energy_kcal)||0,ingredients:n,allergens:i,additives:a},source:"OpenFoodFacts"}}),zF=async(t,e,r)=>{try{const n=await fetch(`https://api.edamam.com/api/food-database/v2/parser?app_id=${e}&app_key=${r}&ingr=${encodeURIComponent(t)}&nutrition-type=logging`);if(!n.ok)throw new Error(`Edamam API error: ${n.status}`);const i=await n.json();return!i.hints||i.hints.length===0?[]:MW(i.hints)}catch(n){return console.error("Edamam API error:",n),[]}},MW=t=>t.slice(0,10).map(e=>{const r=e.food,n=r.nutrients||{},a=(e.measures||[]).map(m=>({label:m.label,weight:m.weight}));let o="yellow";n.PROCNT>15&&(n.FIBTG>3||!n.FIBTG)&&(n.SUGAR<10||!n.SUGAR)?o="green":(n.FAT>20||!n.FAT||n.SUGAR>15||!n.SUGAR)&&(o="red");const l=r.foodContentsLabel?r.foodContentsLabel.split(", "):[],u=[],f=["milk","egg","fish","shellfish","tree nuts","peanuts","wheat","soy","gluten"];return l.forEach(m=>{f.forEach(h=>{m.toLowerCase().includes(h.toLowerCase())&&!u.includes(h)&&u.push(h)})}),{id:`edamam-${r.foodId}`,name:r.label,brand:r.brand||"",calories:Math.round(n.ENERC_KCAL)||0,image:r.image,nutritionScore:o,nutrients:{protein:Math.round(n.PROCNT)||0,carbs:Math.round(n.CHOCDF)||0,fat:Math.round(n.FAT)||0,fiber:Math.round(n.FIBTG)||0,sugar:Math.round(n.SUGAR)||0},details:{protein:Math.round(n.PROCNT)||0,carbs:Math.round(n.CHOCDF)||0,fat:Math.round(n.FAT)||0,sodium:Math.round(n.NA)||0,sugar:Math.round(n.SUGAR)||0,calories:Math.round(n.ENERC_KCAL)||0,ingredients:l,allergens:u,additives:[]},servingSizes:a,source:"Edamam"}}),qF=async t=>{try{const{searchProductsInMongoDB:e}=await Oo(async()=>{const{searchProductsInMongoDB:n}=await Promise.resolve().then(()=>I7);return{searchProductsInMongoDB:n}},void 0),r=await e(t);return r.length>0?r:[]}catch(e){return console.error("Error getting fallback results from MongoDB:",e),[]}},sE=t=>{try{const e=`search-${Date.now()}`,r={id:e,query:t,timestamp:Date.now(),isFavorite:!1,tags:[]},n=localStorage.getItem("foodSearchHistory"),i=n?JSON.parse(n):[];i.unshift(r);const a=i.slice(0,20);return localStorage.setItem("foodSearchHistory",JSON.stringify(a)),e}catch(e){return console.error("Error saving search history:",e),""}},JAe=()=>{try{const t=localStorage.getItem("foodSearchHistory");return t?JSON.parse(t):[]}catch(t){return console.error("Error getting search history:",t),[]}},ZAe=t=>{try{const e=localStorage.getItem("foodSearchHistory"),n=(e?JSON.parse(e):[]).map(a=>a.id===t?{...a,isFavorite:!a.isFavorite}:a);localStorage.setItem("foodSearchHistory",JSON.stringify(n));const i=n.find(a=>a.id===t);return i?i.isFavorite:!1}catch(e){return console.error("Error toggling favorite:",e),!1}},eTe=(t,e)=>{try{const r=localStorage.getItem("foodSearchHistory"),i=(r?JSON.parse(r):[]).map(a=>{if(a.id===t){const o=a.tags||[];if(!o.includes(e))return{...a,tags:[...o,e]}}return a});return localStorage.setItem("foodSearchHistory",JSON.stringify(i)),!0}catch(r){return console.error("Error adding tag:",r),!1}},tTe=(t,e)=>{try{const r=localStorage.getItem("foodSearchHistory"),i=(r?JSON.parse(r):[]).map(a=>a.id===t&&a.tags?{...a,tags:a.tags.filter(o=>o!==e)}:a);return localStorage.setItem("foodSearchHistory",JSON.stringify(i)),!0}catch(r){return console.error("Error removing tag:",r),!1}},rTe=t=>{try{const e=localStorage.getItem("foodSearchHistory"),n=(e?JSON.parse(e):[]).filter(i=>i.id!==t);return localStorage.setItem("foodSearchHistory",JSON.stringify(n)),!0}catch(e){return console.error("Error removing search history item:",e),!1}},nTe=async(t,e,r=1,n="",i="")=>{var a,o,l,u,f,m;try{const h=Wt(We),p=ir(We),y=h.currentUser;if(!y)return console.error("No user logged in"),!1;const w={...t,dateAdded:new Date,mealType:e,quantity:r,notes:n,aiAnalysis:i,tracked:!0},b=new Date().toISOString().split("T")[0],v=Pt(p,"users",y.uid),A=Pt(p,"users",y.uid,"foodTracker",b),E=await Fr(A);if(E.exists()){const j=E.data(),N=[...j[e],w],T=j.totalCalories+t.calories*r,O=j.totalProtein+(((a=t.nutrients)==null?void 0:a.protein)||0)*r,k=j.totalCarbs+(((o=t.nutrients)==null?void 0:o.carbs)||0)*r,C=j.totalFat+(((l=t.nutrients)==null?void 0:l.fat)||0)*r;await Mn(A,{[e]:N,totalCalories:T,totalProtein:O,totalCarbs:k,totalFat:C,lastUpdated:Jt.now()},{merge:!0})}else{const j={date:b,breakfast:e==="breakfast"?[w]:[],lunch:e==="lunch"?[w]:[],dinner:e==="dinner"?[w]:[],snack:e==="snack"?[w]:[],totalCalories:t.calories*r,totalProtein:(((u=t.nutrients)==null?void 0:u.protein)||0)*r,totalCarbs:(((f=t.nutrients)==null?void 0:f.carbs)||0)*r,totalFat:(((m=t.nutrients)==null?void 0:m.fat)||0)*r};await Mn(A,{...j,created:Jt.now(),lastUpdated:Jt.now()})}return await Mn(v,{recentFoods:vk({id:t.id,name:t.name,calories:t.calories,nutritionScore:t.nutritionScore,dateAdded:Jt.now()})},{merge:!0}),!0}catch(h){return console.error("Error adding food to tracker:",h),!1}},iTe=async(t=5)=>{try{const e=Wt(We),r=ir(We),n=e.currentUser;if(!n)return console.error("No user logged in"),[];const i=Pt(r,"users",n.uid),a=await Fr(i);return a.exists()&&a.data().recentFoods?a.data().recentFoods.sort((l,u)=>u.dateAdded.seconds-l.dateAdded.seconds).slice(0,t):[]}catch(e){return console.error("Error getting recent foods:",e),[]}},aTe=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(!1),[i,a]=S.useState([]),[o,l]=S.useState(null),[u,f]=S.useState(!1),[m,h]=S.useState(null),[p,y]=S.useState([]),[w,b]=S.useState([]),[v,A]=S.useState("breakfast"),[E,j]=S.useState(!1),[N,T]=S.useState(null),[O,k]=S.useState(1),[C,M]=S.useState(nm()),[F,D]=S.useState(void 0),[V,$]=S.useState(""),[H,G]=S.useState(!1),[Q,Y]=S.useState(!1),[W,J]=S.useState(""),[ee,q]=S.useState(!1),[X,se]=S.useState(!1),[xe,Ae]=S.useState(!1),[Te,me]=S.useState([]),[Pe,ue]=S.useState("Edamam"),[ve,_e]=S.useState({}),[le,Ye]=S.useState({}),[Ke,ut]=S.useState(""),st=Eo();Gr();const{toast:mt}=ar(),lr=Wt(We),Ct=ir(We);S.useEffect(()=>{const fe=new URLSearchParams(st.search),Me=fe.get("q");Me&&(e(Me),De(Me)),fe.get("scan")==="true"&&Ue(),Ze(),Oe(),Lt()},[st.search]);const Lt=()=>{const fe=JAe();me(fe);const Me={},Re={};fe.forEach(jt=>{jt.isFavorite&&(Me[jt.id]=!0),jt.tags&&jt.tags.length>0&&(Re[jt.id]=jt.tags)}),_e(Me),Ye(Re)},Oe=async()=>{try{const fe=await iTe(4);b(fe)}catch(fe){console.error("Error fetching recent foods:",fe)}},Ze=async()=>{const fe=lr.currentUser;if(fe)try{const Me=Pt(Ct,"users",fe.uid),Re=await Fr(Me);if(Re.exists()){const jt=Re.data();h(jt.profile),await rt(jt.profile)}}catch(Me){console.error("Error fetching user profile:",Me)}},rt=async fe=>{if(fe)try{const Me=await NF();if(Me&&Me.length>0){const jt=Me.slice(0,3).join(" ");$t(jt);return}let Re=[];if(fe.health_goals==="Weight Loss"?(Re.push("low calorie"),Re.push("high protein")):fe.health_goals==="Muscle Gain"?(Re.push("high protein"),Re.push("protein rich")):fe.health_goals==="General Health"&&(Re.push("balanced meal"),Re.push("nutrient rich")),fe.health_conditions==="Diabetes"?(Re.push("low glycemic"),Re.push("sugar free")):fe.health_conditions==="Hypertension"?(Re.push("low sodium"),Re.push("heart healthy")):fe.health_conditions==="Heart Issues"&&(Re.push("heart healthy"),Re.push("omega 3")),fe.dietary_preferences==="Veg"?Re.push("vegetarian"):fe.dietary_preferences==="Vegan"?Re.push("vegan"):fe.dietary_preferences==="Keto"?Re.push("keto"):fe.dietary_preferences==="Gluten-Free"&&Re.push("gluten free"),Re.length>0){const jt=Math.floor(Math.random()*Re.length),cr=Re[jt];$t(cr)}}catch(Me){console.error("Error generating ML recommendations:",Me),$t("healthy food")}},$t=async fe=>{try{const Me=await NF(fe);console.log("AI Recommendations:",Me);const Re=Ie(Me);if(Re.length>0){const Qn=Re.map(mi=>hm(mi)),Sr=(await Promise.all(Qn)).map(mi=>mi.length>0?mi[0]:null).filter(mi=>mi!==null);if(Sr.length>0){y(Sr);return}}const cr=(await hm(fe)).filter(Qn=>Qn.nutritionScore==="green");y(cr.slice(0,3))}catch(Me){console.error("Error fetching recommendations:",Me);try{const Re=await hm("healthy "+fe);y(Re.slice(0,3))}catch(Re){console.error("Fallback recommendation error:",Re)}}},Ie=fe=>{const Me=fe.split(`
`),Re=[];for(const jt of Me)if(/^\d+\.\s+([A-Za-z\s]+)/.test(jt)){const cr=jt.match(/^\d+\.\s+([A-Za-z\s]+)/);cr&&cr[1]&&Re.push(cr[1].trim())}else if(jt.includes(":")){const cr=jt.split(":");cr.length>1&&cr[0].trim().length<20&&Re.push(cr[0].trim())}if(Re.length===0){for(const jt of Me)if(jt.trim().length>0){const cr=jt.trim().split(" ").slice(0,3).join(" ");cr.length>3&&!Re.includes(cr)&&Re.push(cr)}}return Re.slice(0,3)},De=async fe=>{e(fe),n(!0),l(null),f(!1),se(!1),$("");try{const Me=sE(fe);ut(Me),Lt(),M(nm());const Re=await hm(fe,F);M(nm()),a(Re),f(Re.length===0),mt({title:"Search Complete",description:`Found ${Re.length} results for "${fe}" using ${Re.length>0?Re[0].apiSource:"APIs"}`})}catch(Me){console.error("Search error:",Me),mt({title:"Search Error",description:"There was a problem with your search. Please try again.",variant:"destructive"}),f(!0),M(nm())}finally{n(!1)}},Se=()=>{q(!0)},Ue=async fe=>{n(!0),l(null),q(!1),mt({title:"Processing Barcode",description:"Analyzing the scanned barcode..."});try{const Me=Math.floor(Math.random()*1e12).toString(),Re=await GAe(Me);if(Re.length>0){const jt=sE(`Barcode: ${Me}`);ut(jt),Lt(),a(Re),f(!1),mt({title:"Product Found",description:`Scanned product identified as ${Re[0].name}`})}else f(!0),mt({title:"Product Not Found",description:"Could not identify the scanned product",variant:"destructive"})}catch(Me){console.error("Scan error:",Me),f(!0),mt({title:"Scan Error",description:"There was a problem scanning the product",variant:"destructive"})}finally{n(!1)}},kt=async fe=>{n(!0),l(null),q(!1),mt({title:"Processing Image",description:"Analyzing the uploaded food image..."});try{const Me=await XAe(fe);if(Me.length>0){const Re=sE(`Image: ${fe.name}`);ut(Re),Lt(),a(Me),f(!1),mt({title:"Food Identified",description:`Image identified as ${Me[0].name}`})}else f(!0),mt({title:"Food Not Identified",description:"Could not identify food in the image",variant:"destructive"})}catch(Me){console.error("Image upload error:",Me),f(!0),mt({title:"Processing Error",description:"There was a problem analyzing the image",variant:"destructive"})}finally{n(!1)}},pr=async fe=>{if(l(fe),se(!1),fe){G(!0);try{const Me=await C7(fe);$(Me),la(fe,Me),mt({title:"AI Analysis Ready",description:"Check the AI Analysis tab for personalized insights",variant:"default"})}catch(Me){console.error("Error getting AI analysis:",Me),$("Unable to analyze this food item at the moment.")}finally{G(!1)}}},la=async(fe,Me)=>{try{const jt=Wt(We).currentUser;if(!jt){console.log("User not logged in, skipping food selection tracking");return}const cr=ir(We),Qn=Pt(cr,"users",jt.uid),Ro=Pt(cr,"users",jt.uid,"foodSelections",`${Date.now()}`);await Mn(Ro,{foodId:fe.id,foodName:fe.name,nutritionScore:fe.nutritionScore,calories:fe.calories,nutrients:fe.nutrients,aiAnalysis:Me,timestamp:new Date().toISOString(),source:fe.apiSource||fe.source}),console.log("Food selection saved to user profile")}catch(Re){console.error("Error saving food selection:",Re)}},Li=()=>{se(!X)},qa=()=>{Ae(!xe)},Is=fe=>{De(fe)},$i=fe=>{const Me=ZAe(fe);_e(Re=>({...Re,[fe]:Me}))},fn=(fe,Me)=>{eTe(fe,Me)&&Ye(Re=>{const jt=Re[fe]||[];return{...Re,[fe]:[...jt,Me]}})},Os=(fe,Me)=>{tTe(fe,Me)&&Ye(Re=>{const jt=Re[fe]||[];return{...Re,[fe]:jt.filter(cr=>cr!==Me)}})},nt=fe=>{rTe(fe)&&(me(Me=>Me.filter(Re=>Re.id!==fe)),_e(Me=>{const Re={...Me};return delete Re[fe],Re}),Ye(Me=>{const Re={...Me};return delete Re[fe],Re}))},Ft=fe=>{T(fe),j(!0),k(1),J("")},Rt=async()=>{if(N){n(!0);try{await nTe(N,v,O,W,V)?(mt({title:"Added to Tracker",description:`${N.name} added to your ${v} tracker.`}),Oe()):mt({title:"Error",description:"Could not add food to tracker. Please try again.",variant:"destructive"})}catch(fe){console.error("Error adding food to tracker:",fe),mt({title:"Error",description:"Could not add food to tracker. Please try again.",variant:"destructive"})}finally{n(!1),j(!1),T(null)}}},gr=()=>r?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-safebite-teal border-t-transparent rounded-full mb-4"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Searching for food data..."})]}):u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(D6,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Results Found"}),s.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[`We couldn't find any food matching "`,t,'"']}),s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:()=>f(!1),children:"Try a Different Search"})]}):i.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(fe=>s.jsx(hd,{name:fe.name,calories:fe.calories,nutritionScore:fe.nutritionScore,onClick:()=>pr(fe)},fe.id))}):null,Ar=()=>!E||!N?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-safebite-card-bg rounded-lg max-w-md w-full p-6 border border-safebite-card-bg-alt",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Add to Food Tracker"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Food:"}),s.jsx("span",{className:"text-safebite-text font-medium",children:N.name})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Calories:"}),s.jsxs("span",{className:"text-safebite-text font-medium",children:[N.calories," kcal"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Meal Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(re,{variant:v==="breakfast"?"default":"outline",className:v==="breakfast"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>A("breakfast"),children:"Breakfast"}),s.jsx(re,{variant:v==="lunch"?"default":"outline",className:v==="lunch"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>A("lunch"),children:"Lunch"}),s.jsx(re,{variant:v==="dinner"?"default":"outline",className:v==="dinner"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>A("dinner"),children:"Dinner"}),s.jsx(re,{variant:v==="snack"?"default":"outline",className:v==="snack"?"bg-safebite-teal text-safebite-dark-blue":"",onClick:()=>A("snack"),children:"Snack"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Quantity"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>k(Math.max(1,O-1)),disabled:O<=1,children:"-"}),s.jsx("span",{className:"mx-4 text-safebite-text font-medium",children:O}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>k(O+1),children:"+"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-safebite-text-secondary mb-2",children:"Notes (optional)"}),s.jsx("input",{type:"text",className:"w-full p-2 bg-safebite-card-bg-alt border border-safebite-card-bg rounded-md text-safebite-text",placeholder:"E.g., Before workout, With salad",value:W,onChange:fe=>J(fe.target.value)})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(re,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:Rt,disabled:r,children:r?"Adding...":"Add to Tracker"})]})]})});return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[Ar(),s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Food Search"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Search for foods, scan barcodes, and get detailed nutrition information"})]}),s.jsx(jAe,{onSelectFood:fe=>{l(fe),f(!1),q(!1),se(!1),Ae(!1),setShowChatBot(!1),trackUserInteraction("food_selected",{foodId:fe._id,foodName:fe.name||fe.product||fe.food_name||fe.recipe_name})},className:"mb-6"}),s.jsx("div",{className:"sci-fi-card mb-6 hidden",children:s.jsx(_Ae,{onSearch:De,onScan:Se,onUpload:Se,onShowHistory:Li,onApiSelect:qa,activeApi:Pe})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-safebite-text mb-4 flex items-center",children:[s.jsx(UT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"New! Image Nutrition Analysis"]}),s.jsx(CAe,{isGuest:!lr.currentUser})]}),o?s.jsx(NAe,{food:o,onBack:()=>l(null),onAddToTracker:Ft,onAddTag:(fe,Me)=>fn(fe,Me),onToggleFavorite:fe=>$i(fe),isFavorite:ve[o.id]||!1,tags:le[o.id]||[],aiAnalysis:V,isAnalysisLoading:H}):X?s.jsx("div",{className:"sci-fi-card",children:s.jsx(EAe,{historyItems:Te,recentFoods:w,onHistoryItemClick:Is,onFoodItemClick:pr,onToggleFavorite:$i,onRemoveHistoryItem:nt,onAddTag:fn,onRemoveTag:Os})}):s.jsxs("div",{className:"sci-fi-card",children:[s.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:i.length>0?"Search Results":"Popular Searches"}),gr(),!i.length&&!u&&!r&&s.jsxs(s.Fragment,{children:[p.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recommended for You"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:p.map(fe=>s.jsx(hd,{name:fe.name,calories:fe.calories,nutritionScore:fe.nutritionScore,onClick:()=>pr(fe)},fe.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Popular Categories"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ke,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>De("healthy breakfast"),children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-green-500/20 flex items-center justify-center mb-3",children:s.jsx(tQ,{className:"h-6 w-6 text-green-500"})}),s.jsx("h4",{className:"font-medium text-safebite-text",children:"Healthy Breakfast"})]})}),s.jsx(ke,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>De("protein rich"),children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-red-500/20 flex items-center justify-center mb-3",children:s.jsx(bd,{className:"h-6 w-6 text-red-500"})}),s.jsx("h4",{className:"font-medium text-safebite-text",children:"Protein Rich"})]})}),s.jsx(ke,{className:"p-4 cursor-pointer hover:bg-safebite-card-bg-alt transition-colors",onClick:()=>De("heart healthy"),children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-3",children:s.jsx(qn,{className:"h-6 w-6 text-purple-500"})}),s.jsx("h4",{className:"font-medium text-safebite-text",children:"Heart Healthy"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Recent Foods"}),w.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.map(fe=>s.jsx(hd,{name:fe.name,calories:fe.calories,nutritionScore:fe.nutritionScore,onClick:()=>pr(fe)},fe.id))}):s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(hd,{name:"Breakfast Cereal",calories:120,nutritionScore:"yellow",onClick:()=>De("cereal")}),s.jsx(hd,{name:"Protein Bars",calories:200,nutritionScore:"yellow",onClick:()=>De("protein bar")}),s.jsx(hd,{name:"Greek Yogurt",calories:100,nutritionScore:"green",onClick:()=>De("greek yogurt")})]})]})]})]})]})}),ee&&s.jsx(AAe,{onScan:Ue,onUpload:kt,onClose:()=>q(!1)}),s.jsx(CW,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or the foods you're searching for!"}),xe&&s.jsx(IAe,{apiSources:[{id:"mongodb",name:"SafeBite Database",description:"Our curated database of food products and recipes",isActive:F==="mongodb"},{id:"calorieninjas",name:"CalorieNinjas API",description:"Detailed nutrition data with image recognition capabilities",isActive:F==="calorieninjas"},{id:"openfoodfacts",name:"Open Food Facts",description:"Global community-driven food product database",isActive:F==="openfoodfacts"},{id:"edamam",name:"Edamam Food Database",description:"Comprehensive nutrition data for packaged and whole foods",isActive:F==="edamam"}],onToggleApi:fe=>{D(fe),Ae(!1),M(nm())},onClose:()=>Ae(!1)})]})},sTe=()=>{const[t,e]=S.useState("chat"),[r,n]=S.useState([]),[i,a]=S.useState(""),[o,l]=S.useState([]),[u,f]=S.useState(!1),m=S.useRef(null),{toast:h}=ar(),{isGuest:p}=lg(),y=Wt(We),w=ir(We),b=y.currentUser;S.useEffect(()=>{let O;return(async()=>{const C=sf(w,"community","general","messages"),M=lk(C,dk("timestamp","asc"),hk(50));O=oce(M,F=>{const D=F.docs.map(V=>{var H;const $=V.data();return{id:V.id,username:$.username||"Anonymous",avatar:$.avatar||"",text:$.text||"",timestamp:((H=$.timestamp)==null?void 0:H.toDate())||new Date,isCurrentUser:b?$.userId===b.uid:!1,linkedProduct:$.linkedProduct}});n(D)})})(),()=>{O&&O()}},[w,b]),S.useEffect(()=>{var O;(O=m.current)==null||O.scrollIntoView({behavior:"smooth"})},[r]);const v=async()=>{if(!i.trim())return;if(p||!b){h({title:"Login Required",description:"Please log in or sign up to send messages in the community chat.",variant:"default"});return}const O={userId:b.uid,username:b.displayName||b.email||"Anonymous",text:i,timestamp:iA(),avatar:b.photoURL||""};try{const k=sf(w,"community","general","messages");await YU(k,O),a("")}catch(k){h({title:"Error sending message",description:k.message,variant:"destructive"}),console.error("Error sending message to Firestore: ",k)}},A=O=>{l(k=>k.map(C=>C.id===O?{...C,likes:C.likes+1}:C)),h({title:"Post liked",description:"Your engagement helps the community!"})},E=O=>{h({title:"Share link copied!",description:"You can now paste the link to share this post."})},j=()=>{f(!u),h({title:u?"Unsubscribed from notifications":"Subscribed to notifications",description:u?"You'll no longer receive community updates":"You'll receive notifications for new posts and replies"})},N=O=>O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),T=O=>O.toLocaleDateString("en-US",{month:"short",day:"numeric"});return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Live Community Chat Beta"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Connect with other users, share food discoveries, and get advice"})]}),s.jsx("div",{className:"mt-4 sm:mt-0",children:s.jsxs(re,{variant:u?"default":"outline",className:u?"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80":"sci-fi-button",onClick:j,children:[s.jsx(Gd,{className:"mr-2 h-4 w-4"}),u?"Subscribed":"Subscribe to Updates"]})})]}),s.jsxs(To,{defaultValue:"chat",className:"mb-6",onValueChange:e,children:[s.jsx("div",{className:"sci-fi-card mb-2 p-4",children:s.jsxs(Ps,{className:"grid grid-cols-2 gap-2",children:[s.jsxs(Xt,{value:"chat",className:t==="chat"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(P1,{className:"mr-2 h-4 w-4"}),"Live Chat"]}),s.jsxs(Xt,{value:"forum",className:t==="forum"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(os,{className:"mr-2 h-4 w-4"}),"Forum Discussions"]})]})}),s.jsx(_r,{value:"chat",className:"mt-0",children:s.jsxs(ke,{className:"sci-fi-card min-h-[600px] flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:s.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(P1,{className:"mr-2 h-5 w-5"}),"Live Community Chat Beta",s.jsxs(St,{className:"ml-2 bg-safebite-teal text-safebite-dark-blue",children:[r.length," messages"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsxs("div",{className:"space-y-4",children:[r.map(O=>s.jsx("div",{className:`flex ${O.isCurrentUser?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] ${O.isCurrentUser?"bg-safebite-teal text-safebite-dark-blue rounded-tl-lg rounded-tr-none":"bg-safebite-card-bg-alt text-safebite-text rounded-tr-lg rounded-tl-none"} rounded-bl-lg rounded-br-lg p-3`,children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(nb,{className:"h-6 w-6 mr-2",children:s.jsx(ib,{className:O.isCurrentUser?"bg-safebite-dark-blue text-safebite-teal":"",children:O.username.charAt(0)})}),s.jsx("span",{className:"font-medium text-sm",children:O.username}),s.jsx("span",{className:"text-xs ml-2 opacity-70",children:N(O.timestamp)})]}),s.jsx("p",{children:O.text}),O.linkedProduct&&s.jsxs("div",{className:"mt-2 p-2 bg-safebite-card-bg rounded-md flex items-center",children:[s.jsx("img",{src:O.linkedProduct.image,alt:O.linkedProduct.name,className:"h-10 w-10 rounded-md object-cover mr-2"}),s.jsx("span",{className:"text-sm",children:O.linkedProduct.name})]})]})},O.id)),s.jsx("div",{ref:m})]})}),s.jsx("div",{className:"p-4 border-t border-safebite-card-bg-alt",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(At,{placeholder:"Type your message...",className:"sci-fi-input",value:i,onChange:O=>a(O.target.value),onKeyPress:O=>O.key==="Enter"&&v()}),s.jsx(re,{onClick:v,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:s.jsx(q6,{className:"h-4 w-4"})}),s.jsx(re,{variant:"outline",className:"sci-fi-button",children:s.jsx(GT,{className:"h-4 w-4"})})]})})]})}),s.jsx(_r,{value:"forum",className:"mt-0",children:s.jsx("div",{className:"grid gap-6",children:o.map(O=>s.jsx(ke,{className:"sci-fi-card",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nb,{className:"h-10 w-10 mr-3",children:s.jsx(ib,{children:O.username.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-safebite-text",children:O.username}),s.jsxs("p",{className:"text-xs text-safebite-text-secondary",children:["Posted on ",T(O.timestamp)]})]})]}),O.username==="DietSpecialist"&&s.jsxs(St,{className:"bg-safebite-purple",children:[s.jsx(Cm,{className:"h-3 w-3 mr-1"})," Expert"]})]}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:O.title}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:O.content}),O.linkedProduct&&s.jsxs("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md flex items-center",children:[s.jsx("img",{src:O.linkedProduct.image,alt:O.linkedProduct.name,className:"h-12 w-12 rounded-md object-cover mr-3"}),s.jsx("span",{children:O.linkedProduct.name})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(re,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>A(O.id),children:[s.jsx(mQ,{className:"h-4 w-4 mr-1"}),O.likes]}),s.jsxs(re,{variant:"outline",size:"sm",className:"sci-fi-button",children:[s.jsx(P1,{className:"h-4 w-4 mr-1"}),O.replies," Replies"]})]}),s.jsxs(re,{variant:"outline",size:"sm",className:"sci-fi-button",onClick:()=>E(O.id),children:[s.jsx(_y,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})},O.id))})})]}),s.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})},ry=[{id:"home_cooked",text:"How many home-cooked meals did you have this week?",type:"slider",min:0,max:21,step:1},{id:"water_intake",text:"On average, how many glasses of water did you drink daily?",type:"slider",min:0,max:15,step:1},{id:"junk_food",text:"How many times did you consume processed/junk food this week?",type:"slider",min:0,max:20,step:1},{id:"exercise",text:"How many minutes did you exercise this week in total?",type:"slider",min:0,max:1e3,step:10},{id:"energy_level",text:"How would you rate your energy levels this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}],oTe=[{id:"stress_level",text:"How would you rate your stress levels this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]},{id:"sleep_quality",text:"How would you rate your sleep quality this week?",type:"radio",options:["Very Poor","Poor","Fair","Good","Excellent"]},{id:"sleep_hours",text:"On average, how many hours of sleep did you get each night?",type:"slider",min:0,max:12,step:.5},{id:"fruit_veg",text:"How many servings of fruits and vegetables did you eat daily on average?",type:"slider",min:0,max:10,step:1},{id:"protein_intake",text:"How many protein-rich meals did you have this week?",type:"slider",min:0,max:21,step:1},{id:"alcohol",text:"How many alcoholic drinks did you consume this week?",type:"slider",min:0,max:30,step:1},{id:"mindfulness",text:"How many minutes did you spend on mindfulness or meditation this week?",type:"slider",min:0,max:500,step:5},{id:"social_activity",text:"How many social activities did you participate in this week?",type:"slider",min:0,max:20,step:1},{id:"screen_time",text:"On average, how many hours of screen time did you have daily (excluding work)?",type:"slider",min:0,max:16,step:.5},{id:"outdoor_time",text:"How many hours did you spend outdoors this week?",type:"slider",min:0,max:100,step:1},{id:"new_foods",text:"How many new foods or recipes did you try this week?",type:"slider",min:0,max:20,step:1},{id:"supplement_use",text:"Did you take your supplements/medications as prescribed this week?",type:"radio",options:["Never","Rarely","Sometimes","Usually","Always"]},{id:"mood",text:"How would you describe your overall mood this week?",type:"radio",options:["Very Negative","Negative","Neutral","Positive","Very Positive"]},{id:"digestion",text:"How would you rate your digestive health this week?",type:"radio",options:["Very Poor","Poor","Fair","Good","Excellent"]},{id:"sugar_intake",text:"How many sugary foods or drinks did you consume this week?",type:"slider",min:0,max:30,step:1}],HF={Diabetes:[{id:"blood_sugar",text:"How many times did your blood sugar levels go outside your target range this week?",type:"slider",min:0,max:30,step:1},{id:"carb_tracking",text:"How consistently did you track your carbohydrate intake this week?",type:"radio",options:["Not at all","Rarely","Sometimes","Usually","Always"]}],Hypertension:[{id:"blood_pressure",text:"How many times did you check your blood pressure this week?",type:"slider",min:0,max:30,step:1},{id:"salt_intake",text:"How would you rate your salt intake this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}],"Heart Issues":[{id:"cardio_exercise",text:"How many minutes of cardiovascular exercise did you do this week?",type:"slider",min:0,max:500,step:5},{id:"heart_symptoms",text:"Did you experience any heart-related symptoms this week?",type:"radio",options:["None","Mild","Moderate","Severe"]}],"Digestive Issues":[{id:"digestive_symptoms",text:"How many days this week did you experience digestive discomfort?",type:"slider",min:0,max:7,step:1},{id:"fiber_intake",text:"How would you rate your fiber intake this week?",type:"radio",options:["Very Low","Low","Moderate","High","Very High"]}]},WF={"Weight Loss":[{id:"calorie_tracking",text:"How consistently did you track your calories this week?",type:"radio",options:["Not at all","Rarely","Sometimes","Usually","Always"]},{id:"weight_change",text:"How has your weight changed this week?",type:"radio",options:["Decreased significantly","Decreased slightly","Stayed the same","Increased slightly","Increased significantly"]}],"Muscle Gain":[{id:"strength_training",text:"How many strength training sessions did you complete this week?",type:"slider",min:0,max:14,step:1},{id:"protein_goal",text:"How many days did you meet your protein intake goal this week?",type:"slider",min:0,max:7,step:1}],"General Health":[{id:"balanced_meals",text:"How many balanced meals (including protein, carbs, and healthy fats) did you have this week?",type:"slider",min:0,max:21,step:1},{id:"health_habits",text:"How many days did you maintain all your healthy habits this week?",type:"slider",min:0,max:7,step:1}]},lTe=async()=>{var t;try{const r=Wt(We).currentUser;if(!r)return console.log("User not logged in, returning base questions"),ry;const n=ir(We),i=Pt(n,"users",r.uid),a=await Fr(i);if(!a.exists())return console.log("User profile not found, returning base questions"),ry;const o=a.data(),l=o.profile||{},u=((t=o.weeklyCheckin)==null?void 0:t.answers)||{},f=o.previousWeeklyQuestions||[];let m=[...ry];const h=l.health_conditions;h&&HF[h]&&(m=[...m,...HF[h]]);const p=l.health_goals;p&&WF[p]&&(m=[...m,...WF[p]]);const w=oTe.filter(E=>!f.includes(E.id)).sort(()=>Math.random()-.5),b=Math.floor(Math.random()*2)+2,v=w.slice(0,b);m=[...m,...v];const A=m.map(E=>E.id);return await Mn(i,{previousWeeklyQuestions:A},{merge:!0}),m}catch(e){return console.error("Error getting personalized weekly questions:",e),ry}},cTe=async t=>{try{const e={name:"Weekly Health Data",brand:"SafeBite Health Tracker",calories:0,nutrients:{protein:0,carbs:0,fat:0,fiber:0,sugar:0},details:{ingredients:[],allergens:[],additives:[]}};for(const[i,a]of Object.entries(t))e.details.ingredients.push(`${i.replace(/_/g," ")}: ${a}`);return(await C7(e)).replace(/nutritional assessment/gi,"weekly health assessment").replace(/food/gi,"health data").replace(/meal/gi,"week").replace(/eat/gi,"maintain").replace(/diet/gi,"lifestyle")}catch(e){return console.error("Error generating weekly insights:",e),"We couldn't generate insights from your weekly data at this time. Please try again later."}},uTe=()=>{const t=Gr(),{toast:e}=ar(),[r,n]=S.useState(0),[i,a]=S.useState({}),[o,l]=S.useState(!1),[u,f]=S.useState(!1),[m,h]=S.useState(!0),[p,y]=S.useState([]),[w,b]=S.useState(""),[v,A]=S.useState(!1),E=Wt(We),j=ir(We),N=E.currentUser,[T,O]=S.useState(!1),k=p[r],C=p.length>0?(r+1)/p.length*100:0;S.useEffect(()=>{(async()=>{if(h(!0),N){const G=Pt(j,"users",N.uid);try{const Q=await Fr(G);if(Q.exists()){const W=Q.data();if(W.weeklyCheckin&&W.weeklyCheckin.timestamp){const J=W.weeklyCheckin.timestamp.toDate(),ee=new Date,q=J.getFullYear()===ee.getFullYear()&&J.getMonth()===ee.getMonth()&&J.getDate()>=ee.getDate()-ee.getDay()&&J.getDate()<=ee.getDate()+(6-ee.getDay());O(q),f(q),q&&W.weeklyCheckin.insights&&b(W.weeklyCheckin.insights)}}const Y=await lTe();y(Y)}catch(Q){e({title:"Error checking progress",description:Q.message,variant:"destructive"}),console.error("Error initializing weekly questions: ",Q)}finally{h(!1)}}else h(!1)})()},[N,j,e,t]),S.useEffect(()=>{const H={};p.forEach(G=>{G.type==="slider"?H[G.id]=G.min||0:G.type==="radio"&&G.options?H[G.id]=void 0:H[G.id]=""}),a(H)},[]);const M=()=>{if(i[k.id]===void 0||i[k.id]===""){e({title:"Missing Answer",description:"Please answer the current question before proceeding.",variant:"destructive"});return}r<p.length-1?n(H=>H+1):V()},F=()=>{r>0&&n(H=>H-1)},D=H=>{a(G=>({...G,[k.id]:H}))},V=async()=>{if(!p.every(G=>i[G.id]!==void 0&&i[G.id]!=="")){e({title:"Incomplete",description:"Please ensure all questions are answered.",variant:"destructive"});return}if(l(!0),console.log("Weekly answers submitted:",i),N){const G=N.uid,Q=Pt(j,"users",G);try{A(!0);let Y="";try{Y=await cTe(i),b(Y)}catch(W){console.error("Error generating insights:",W),Y="We couldn't generate personalized insights at this time."}await Mn(Q,{weeklyCheckin:{answers:i,insights:Y,timestamp:Jt.now()},lastWeeklyPrompt:Jt.now()},{merge:!0}),f(!0),e({title:"Weekly check-in completed!",description:"Thank you for your updates. We've generated personalized insights for you."}),setTimeout(()=>{t("/dashboard")},3e3)}catch(Y){e({title:"Error saving check-in",description:Y.message,variant:"destructive"}),console.error("Error writing weekly check-in to Firestore: ",Y)}finally{l(!1)}}else e({title:"Authentication Error",description:"You are not logged in. Please log in and try again.",variant:"destructive"}),l(!1),t("/auth/login")},$=()=>{var H;if(!k)return null;switch(k.type){case"slider":return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex justify-between text-sm text-safebite-text-secondary mb-2",children:[s.jsx("span",{children:k.min}),s.jsx("span",{children:k.max})]}),s.jsx("input",{type:"range",min:k.min,max:k.max,step:k.step,value:i[k.id]||k.min,onChange:G=>D(parseInt(G.target.value)),className:"w-full sci-fi-input accent-safebite-teal"}),s.jsx("div",{className:"mt-2 text-center text-xl font-semibold text-safebite-teal",children:i[k.id]||k.min})]});case"radio":return s.jsx("div",{className:"space-y-3 w-full",children:(H=k.options)==null?void 0:H.map(G=>s.jsx("div",{onClick:()=>D(G),className:`p-4 rounded-lg border cursor-pointer transition-all ${i[k.id]===G?"border-safebite-teal bg-safebite-teal/10 text-safebite-teal":"border-safebite-card-bg-alt bg-safebite-card-bg-alt text-safebite-text"}`,children:G},G))});default:return s.jsx("input",{type:"text",value:i[k.id]||"",onChange:G=>D(G.target.value),placeholder:"Type your answer here...",className:"sci-fi-input w-full"})}};return u?s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:s.jsxs(ke,{className:"sci-fi-card max-w-2xl w-full text-center",children:[s.jsx("div",{className:"h-20 w-20 rounded-full bg-safebite-teal/20 flex items-center justify-center mx-auto mb-6",children:s.jsx(Zc,{className:"h-10 w-10 text-safebite-teal"})}),s.jsx("h2",{className:"text-2xl font-bold text-safebite-text mb-2",children:"Thank You!"}),s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Your weekly health check-in is complete. We've generated personalized insights based on your responses."}),v?s.jsxs("div",{className:"py-8 flex flex-col items-center",children:[s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Generating your personalized insights..."})]}):w?s.jsxs("div",{className:"bg-safebite-card-bg-alt p-6 rounded-md mb-6 text-left",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(wy,{className:"h-6 w-6 text-safebite-teal mr-2"}),s.jsx("h3",{className:"text-xl font-medium text-safebite-text",children:"Your Weekly Health Insights"})]}),s.jsx("div",{className:"text-safebite-text-secondary whitespace-pre-line",children:w.split(`
`).map((H,G)=>s.jsx("p",{className:"mb-2",children:H},G))})]}):s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"We've updated your recommendations based on your responses."}),s.jsx(re,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]})}):s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:s.jsxs(ke,{className:"sci-fi-card max-w-md w-full",children:[s.jsx("div",{className:"absolute top-0 right-0 left-0 p-2 text-center bg-red-500 text-white text-xs",children:"Under Development"}),m?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(kr,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4 animate-spin"}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Loading your personalized questions..."}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're tailoring this week's questions based on your profile and previous responses."})]}):T?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Zc,{className:"h-16 w-16 text-safebite-teal mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"You've already completed this week's check-in!"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Check back next week for another opportunity to update your health information."}),w&&s.jsxs("div",{className:"bg-safebite-card-bg-alt p-6 rounded-md mb-6 text-left",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(wy,{className:"h-6 w-6 text-safebite-teal mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Your Weekly Health Insights"})]}),s.jsx("div",{className:"text-safebite-text-secondary whitespace-pre-line",children:w.split(`
`).map((H,G)=>s.jsx("p",{className:"mb-2",children:H},G))})]}),s.jsx(re,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-6",children:"Weekly Health Check-in"}),o?s.jsx("div",{className:"py-16 flex flex-col items-center",children:s.jsx(Js,{size:"lg",text:"Submitting your answers..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-safebite-text-secondary text-sm",children:["Question ",r+1," of ",p.length]}),s.jsxs("span",{className:"text-safebite-teal text-sm",children:[Math.floor(C),"% Complete"]})]}),s.jsx(Jm,{value:C,className:"h-2 bg-safebite-card-bg-alt"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-6",children:k==null?void 0:k.text}),$()]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(re,{variant:"outline",onClick:F,disabled:r===0,className:"sci-fi-button",children:[s.jsx(db,{className:"mr-2 h-4 w-4"}),"Previous"]}),s.jsx(re,{onClick:M,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:r<p.length-1?s.jsxs(s.Fragment,{children:["Next",s.jsx(Ii,{className:"ml-2 h-4 w-4"})]}):"Complete"})]})]})]}),s.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-safebite-text-secondary",children:"Created by Aditya Shenvi"})]})})},DW=[{id:"food_explorer",name:"Food Explorer",description:"Scan 10 different food products",icon:"🔍",level:"bronze",achieved:!1,progress:2,progressMax:10},{id:"water_tracker",name:"Hydration Hero",description:"Track your water intake for 7 consecutive days",icon:"💧",level:"silver",achieved:!1,progress:3,progressMax:7},{id:"recipe_master",name:"Recipe Master",description:"Save and try 5 healthy recipes",icon:"🍲",level:"gold",achieved:!1,progress:1,progressMax:5},{id:"community_helper",name:"Community Guide",description:"Help 3 users by answering their questions in the community",icon:"🤝",level:"bronze",achieved:!1,progress:0,progressMax:3},{id:"health_analyst",name:"Health Analyst",description:"Complete all health calculators in the HealthBox",icon:"📊",level:"silver",achieved:!0}],LW=[{id:"first_login",name:"First Steps",description:"Log in to SafeBite for the first time",completed:!0,date:new Date(Date.now()-864e5*3),reward:{points:100}},{id:"complete_profile",name:"Getting to Know You",description:"Complete your user profile with all health data",completed:!0,date:new Date(Date.now()-864e5*2),reward:{points:150}},{id:"first_scan",name:"Food Detective",description:"Scan your first food product",completed:!0,date:new Date(Date.now()-864e5),reward:{points:50,badges:[{id:"first_scan_badge",name:"Scanner Novice",description:"First food product scanned",icon:"🔎",level:"bronze",achieved:!0}]}},{id:"first_week",name:"One Week Strong",description:"Use SafeBite for 7 consecutive days",completed:!1,reward:{points:200}},{id:"health_guru",name:"Health Guru",description:"Achieve all health goals for one week",completed:!1,reward:{points:500,badges:[{id:"health_guru_badge",name:"Health Master",description:"Achieved all health goals for a week",icon:"🏆",level:"gold",achieved:!1}]}}];DW.filter(t=>t.achieved),LW.filter(t=>t.completed);const dTe=()=>DW,fTe=()=>LW,hTe=()=>{const[t,e]=S.useState("healthReport"),[r,n]=S.useState(null),[i,a]=S.useState(!0),[o,l]=S.useState(""),[u,f]=S.useState(null),{toast:m}=ar(),{isGuest:h}=lg(),p=Wt(We),y=ir(We),w=dTe(),b=fTe();S.useEffect(()=>{(async()=>{if(h){a(!1);return}try{const G=p.currentUser;if(!G){a(!1);return}const Q=Pt(y,"users",G.uid),Y=await Fr(Q);if(Y.exists()){const W=Y.data();f(W),console.log("User profile loaded for reports:",W)}else console.log("No user profile found!")}catch(G){console.error("Error fetching user profile:",G),l(G.message)}finally{a(!1)}})()},[h,p,y]);const v=()=>{var H,G,Q;if((H=u==null?void 0:u.weeklyCheckin)!=null&&H.answers){const Y=u.weeklyCheckin.answers,W=((G=u.profile)==null?void 0:G.health_goals)==="Weight Loss"?1600:((Q=u.profile)==null?void 0:Q.health_goals)==="Muscle Gain"?2200:1800,J=Y.exercise>300?1.2:Y.exercise>150?1.1:1,ee=Y.home_cooked>15?.9:Y.home_cooked>10?.95:1,q=Y.junk_food>10?1.2:Y.junk_food>5?1.1:1,X=W*J*ee*q;return{calorieData:[{date:"Mon",value:Math.round(X*(.9+Math.random()*.2))},{date:"Tue",value:Math.round(X*(.9+Math.random()*.2))},{date:"Wed",value:Math.round(X*(.9+Math.random()*.2))},{date:"Thu",value:Math.round(X*(.9+Math.random()*.2))},{date:"Fri",value:Math.round(X*(.9+Math.random()*.2))},{date:"Sat",value:Math.round(X*(.9+Math.random()*.2))},{date:"Sun",value:Math.round(X*(.9+Math.random()*.2))}],waterData:[{date:"Mon",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.8)):6},{date:"Tue",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):5},{date:"Wed",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.1)):8},{date:"Thu",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1)):7},{date:"Fri",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.7)):4},{date:"Sat",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*1.2)):9},{date:"Sun",value:Y.water_intake?Math.max(1,Math.round(Y.water_intake*.9)):6}],nutrientData:[{date:"Mon",value:Y.junk_food>5?70:85},{date:"Tue",value:Y.junk_food>5?65:78},{date:"Wed",value:Y.junk_food>5?75:92},{date:"Thu",value:Y.junk_food>5?68:76},{date:"Fri",value:Y.junk_food>5?72:82},{date:"Sat",value:Y.junk_food>5?74:89},{date:"Sun",value:Y.junk_food>5?71:86}]}}return{calorieData:[{date:"Mon",value:1800},{date:"Tue",value:1600},{date:"Wed",value:2100},{date:"Thu",value:1500},{date:"Fri",value:1900},{date:"Sat",value:2200},{date:"Sun",value:1700}],waterData:[{date:"Mon",value:6},{date:"Tue",value:5},{date:"Wed",value:8},{date:"Thu",value:7},{date:"Fri",value:4},{date:"Sat",value:9},{date:"Sun",value:6}],nutrientData:[{date:"Mon",value:85},{date:"Tue",value:78},{date:"Wed",value:92},{date:"Thu",value:76},{date:"Fri",value:82},{date:"Sat",value:89},{date:"Sun",value:86}]}},{calorieData:A,waterData:E,nutrientData:j}=v(),T=(()=>{var H;if(u!=null&&u.profile){const G=u.profile,Q=(H=u.weeklyCheckin)==null?void 0:H.answers;let Y=G.health_goals==="Weight Loss"?1600:G.health_goals==="Muscle Gain"?2200:1800,W=G.health_goals==="Muscle Gain"?120:G.health_goals==="Weight Loss"?100:80,J=G.health_goals==="Weight Loss"?150:G.health_goals==="Muscle Gain"?250:200,ee=G.health_goals==="Weight Loss"?50:G.health_goals==="Muscle Gain"?70:60;Q&&(Q.exercise>300?Y+=200:Q.exercise>150&&(Y+=100),Q.exercise>300?W+=20:Q.exercise>150&&(W+=10));const q=Math.round(Y*.9),X=Q!=null&&Q.water_intake?(Q.water_intake*.25).toFixed(1):"6.5",se=Math.round(W*.9),xe=Math.round(J*.92),Ae=Math.round(ee*.97),Te=(Q==null?void 0:Q.junk_food)>5?32:22,me=Q!=null&&Q.exercise?Math.round(Q.exercise/7):35;return[{name:"Daily Calories",value:q.toLocaleString(),target:Y.toLocaleString(),unit:"kcal",progress:Math.round(q/Y*100)},{name:"Water Intake",value:X,target:"8",unit:"cups",progress:Math.round(parseFloat(X)/8*100)},{name:"Protein",value:se.toString(),target:W.toString(),unit:"g",progress:Math.round(se/W*100)},{name:"Carbs",value:xe.toString(),target:J.toString(),unit:"g",progress:Math.round(xe/J*100)},{name:"Fat",value:Ae.toString(),target:ee.toString(),unit:"g",progress:Math.round(Ae/ee*100)},{name:"Sugar",value:Te.toString(),target:"25",unit:"g",progress:Math.round(Te/25*100)},{name:"Exercise",value:me.toString(),target:"30",unit:"min",progress:Math.round(me/30*100)}]}return[{name:"Daily Calories",value:"1,750",target:"2,000",unit:"kcal",progress:87},{name:"Water Intake",value:"6.5",target:"8",unit:"cups",progress:81},{name:"Protein",value:"72",target:"80",unit:"g",progress:90},{name:"Carbs",value:"230",target:"250",unit:"g",progress:92},{name:"Fat",value:"58",target:"60",unit:"g",progress:97},{name:"Sugar",value:"32",target:"25",unit:"g",progress:128},{name:"Exercise",value:"35",target:"30",unit:"min",progress:117}]})(),k=(()=>{var G,Q,Y,W,J,ee,q,X;const H=[{name:"High Sodium Foods",count:((G=u==null?void 0:u.profile)==null?void 0:G.health_conditions)==="Hypertension"?7:4,recommendation:"Try to reduce your sodium intake by choosing low-sodium alternatives."},{name:"Artificial Additives",count:((Y=(Q=u==null?void 0:u.weeklyCheckin)==null?void 0:Q.answers)==null?void 0:Y.junk_food)>5?10:7,recommendation:"Consider choosing more natural food options with fewer additives."},{name:"Added Sugar",count:((W=u==null?void 0:u.profile)==null?void 0:W.health_conditions)==="Diabetes"?8:5,recommendation:"Look for sugar-free or reduced sugar alternatives."}];return((J=u==null?void 0:u.profile)==null?void 0:J.health_conditions)==="Diabetes"&&H.push({name:"High Glycemic Index Foods",count:6,recommendation:"Choose low glycemic index foods to help manage blood sugar levels."}),((ee=u==null?void 0:u.profile)==null?void 0:ee.health_conditions)==="Heart Issues"&&H.push({name:"Trans Fats",count:3,recommendation:"Avoid foods with trans fats as they can increase risk of heart disease."}),(((q=u==null?void 0:u.profile)==null?void 0:q.dietary_preferences)==="Vegan"||((X=u==null?void 0:u.profile)==null?void 0:X.dietary_preferences)==="Vegetarian")&&H.push({name:"Hidden Animal Products",count:2,recommendation:"Watch for hidden animal-derived ingredients in processed foods."}),H})(),C=()=>{m({title:"Report Downloaded",description:"Your health report has been downloaded successfully."})},M=H=>{n(r===H?null:H)},F=(H,G)=>{m({title:"Shared successfully",description:`Your achievement has been shared to ${H}.`}),n(null)},D=v().calorieData,V=v().waterData,$=v().nutrientData;return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i&&s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(kr,{className:"h-8 w-8 text-safebite-teal animate-spin"}),s.jsx("span",{className:"ml-2 text-safebite-text-secondary",children:"Loading your reports..."})]}),!i&&o&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx(vs,{className:"h-12 w-12 text-red-500 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"Error Loading Reports"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:o}),s.jsx(re,{onClick:()=>window.location.reload(),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Try Again"})]}),!i&&!o&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Reports & Achievements"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Track your health progress and earn badges for healthy habits"})]}),s.jsx("div",{className:"mt-4 sm:mt-0",children:s.jsxs(re,{onClick:C,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[s.jsx(HY,{className:"mr-2 h-4 w-4"}),"Download Report"]})})]}),s.jsxs(To,{defaultValue:"healthReport",className:"mb-6",onValueChange:e,children:[s.jsx("div",{className:"sci-fi-card mb-2 p-4",children:s.jsxs(Ps,{className:"grid grid-cols-3 gap-2",children:[s.jsxs(Xt,{value:"healthReport",className:t==="healthReport"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(DY,{className:"mr-2 h-4 w-4"}),"Health Report"]}),s.jsxs(Xt,{value:"badges",className:t==="badges"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(Cm,{className:"mr-2 h-4 w-4"}),"Badges"]}),s.jsxs(Xt,{value:"achievements",className:t==="achievements"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Achievements"]})]})}),s.jsxs(_r,{value:"healthReport",className:"mt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:s.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(oi,{className:"mr-2 h-5 w-5"}),"Weekly Overview"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Health Score"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Your weekly health rating"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"text-3xl font-bold text-safebite-teal",children:"78"}),s.jsxs("div",{className:"ml-2 text-green-400 flex items-center text-sm",children:[s.jsx(OY,{className:"h-4 w-4 mr-1"}),"+12%"]})]})]}),s.jsx("div",{className:"space-y-4",children:T.map(H=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-safebite-text",children:H.name}),s.jsxs("span",{className:"text-safebite-text-secondary",children:[H.value," / ",H.target," ",H.unit]})]}),s.jsx(Jm,{value:H.progress,className:`h-2 ${H.progress>100?H.name==="Exercise"?"bg-green-600":"bg-amber-600":""}`})]},H.name))})]})]}),s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:s.jsx("h3",{className:"text-xl font-semibold text-safebite-text",children:"Food Safety Analysis"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-safebite-text",children:"Safety Score"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Based on scanned products"})]}),s.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500 flex items-center justify-center text-safebite-dark-blue text-2xl font-bold",children:"6.5"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-safebite-text-secondary",children:"Food safety issues found in your scanned products this week:"}),k.map((H,G)=>s.jsxs("div",{className:"p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-safebite-text",children:H.name}),s.jsxs(St,{className:"bg-amber-500 text-safebite-dark-blue",children:[H.count," items"]})]}),s.jsx("p",{className:"text-sm text-safebite-text-secondary",children:H.recommendation})]},G))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(gl,{title:"Calorie Intake",data:D,color:"#00ffcc"}),s.jsx(gl,{title:"Water Intake (cups)",data:V,color:"#3b82f6"}),s.jsx(gl,{title:"Nutrient Score",data:$,color:"#a855f7"})]})]}),s.jsx(_r,{value:"badges",className:"mt-0",children:s.jsx(ke,{className:"sci-fi-card mb-6",children:s.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(Cm,{className:"mr-2 h-5 w-5"}),"Your Badges"]})}),s.jsx("div",{className:"p-6",children:i?s.jsx("div",{className:"flex justify-center",children:s.jsx(kr,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?s.jsx("div",{className:"text-center text-red-500",children:"Error loading badges. Please try again."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w&&w.map((H,G)=>s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[s.jsx("div",{className:"mb-2 text-sm text-safebite-text-secondary",children:H.category}),s.jsx(St,{className:"mb-2 bg-amber-500 text-safebite-dark-blue",children:"Badge"}),s.jsx(ea,{className:"h-10 w-10 text-amber-500 mb-2"}),s.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:H.name}),s.jsx("p",{className:"text-safebite-text-secondary text-center",children:H.description}),s.jsx(re,{onClick:()=>M("badge-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="badge-"+G&&s.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[s.jsx(re,{onClick:()=>F("facebook"),variant:"ghost",size:"icon",children:s.jsx(pE,{className:"h-5 w-5"})}),s.jsx(re,{onClick:()=>F("twitter"),variant:"ghost",size:"icon",children:s.jsx(vE,{className:"h-5 w-5"})}),s.jsx(re,{onClick:()=>F("instagram"),variant:"ghost",size:"icon",children:s.jsx(_y,{className:"h-5 w-5"})})]})]},G))})})]})})}),s.jsx(_r,{value:"achievements",className:"mt-0",children:s.jsx(ke,{className:"sci-fi-card mb-6",children:s.jsxs("div",{className:"p-4 border-b border-safebite-card-bg-alt",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("h3",{className:"text-xl font-semibold text-safebite-text flex items-center",children:[s.jsx(Yc,{className:"mr-2 h-5 w-5"}),"Achievements"]})}),s.jsx("div",{className:"p-6",children:i?s.jsx("div",{className:"flex justify-center",children:s.jsx(kr,{className:"h-6 w-6 text-safebite-teal animate-spin"})}):o?s.jsx("div",{className:"text-center text-red-500",children:"Error loading achievements. Please try again."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b&&b.map((H,G)=>s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-md bg-safebite-card-bg-alt",children:[s.jsx(Yc,{className:"h-10 w-10 text-amber-500 mb-2"}),s.jsx("h4",{className:"text-lg font-semibold text-safebite-text text-center mb-2",children:H.name}),s.jsx("p",{className:"text-safebite-text-secondary text-center",children:H.description}),s.jsxs("p",{className:"text-safebite-text-secondary text-center mb-2",children:["Progress: ",H.progress,"%"]}),s.jsx(Jm,{value:H.progress,className:"w-full mb-2"}),s.jsx(re,{onClick:()=>M("achievement-"+G),className:"mt-3 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full",children:"Share"}),r==="achievement-"+G&&s.jsxs("div",{className:"flex justify-around mt-2 w-full",children:[s.jsx(re,{onClick:()=>F("facebook"),variant:"ghost",size:"icon",children:s.jsx(pE,{className:"h-5 w-5"})}),s.jsx(re,{onClick:()=>F("twitter"),variant:"ghost",size:"icon",children:s.jsx(vE,{className:"h-5 w-5"})}),s.jsx(re,{onClick:()=>F("instagram"),variant:"ghost",size:"icon",children:s.jsx(_y,{className:"h-5 w-5"})})]})]},G))})})]})})})]})]})})]})},mTe=async t=>{try{console.log("Searching recipes from MongoDB:",t);const e=`${t} recipe`,r=await Rp(e);let n=[...r];if(t.toLowerCase().indexOf("recipe")===-1){const o=await Rp(t);n=[...r,...o]}return n.filter(o=>{var l,u,f,m;return((l=o.details)==null?void 0:l.ingredients)&&o.details.ingredients.length>0||((u=o.category)==null?void 0:u.toLowerCase().includes("recipe"))||((f=o.name)==null?void 0:f.toLowerCase().includes("recipe"))||t.toLowerCase().includes("recipe")&&((m=o.details)==null?void 0:m.ingredients)}).filter((o,l,u)=>l===u.findIndex(f=>f.id===o.id)).map(o=>{var u,f,m,h,p,y,w,b;let l=((u=o.details)==null?void 0:u.instructions)||[];return l.length===0&&((f=o.details)!=null&&f.ingredients)&&o.details.ingredients.length>0&&(l=HC(o.name,o.details.ingredients)),{id:o.id,title:o.name,image:o.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(o.name+" food")}`,calories:o.calories||0,servings:o.servings||4,cookTime:o.cookTime||o.cook_time||30,prepTime:o.prepTime||o.prep_time||15,healthLabels:pTe(o),source:o.source||"MongoDB",ingredients:((m=o.details)==null?void 0:m.ingredients)||[],instructions:l,nutrients:{protein:((h=o.nutrients)==null?void 0:h.protein)||0,carbs:((p=o.nutrients)==null?void 0:p.carbs)||0,fat:((y=o.nutrients)==null?void 0:y.fat)||0,fiber:((w=o.nutrients)==null?void 0:w.fiber)||0,sodium:((b=o.details)==null?void 0:b.sodium)||0}}})}catch(e){return console.error("Error searching recipes from MongoDB:",e),[]}},pTe=t=>{var r,n,i,a;const e=[];if(t.nutritionScore==="green"?e.push("Healthy"):t.nutritionScore==="red"?e.push("High-Calorie"):e.push("Balanced"),((r=t.nutrients)==null?void 0:r.protein)>15&&e.push("High-Protein"),((n=t.nutrients)==null?void 0:n.fiber)>5&&e.push("High-Fiber"),((i=t.nutrients)==null?void 0:i.fat)<5&&e.push("Low-Fat"),(a=t.details)!=null&&a.ingredients){const o=t.details.ingredients.join(" ").toLowerCase(),l=["meat","chicken","beef","pork","fish","seafood","lamb"],u=["milk","cheese","yogurt","cream","butter"];l.some(f=>o.includes(f))||(e.push("Vegetarian"),u.some(f=>o.includes(f))||e.push("Vegan"))}return e},gTe="a522a439",vTe="636a3e9b2dd910c9b39f42bfdcbcf61a",yTe="07d50733",xTe="80fcb49b500737827a9a23f7049653b9",es=async t=>{try{console.log("Getting recipes for query:",t);try{const e=await GF(t);if(console.log(`Edamam returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("Edamam search failed:",e)}try{const e=await mTe(t);if(console.log(`MongoDB returned ${e.length} recipes`),e.length>0)return e}catch(e){console.error("MongoDB search failed:",e)}if(t.includes(" ")){const e=t.split(" ")[0];console.log(`Trying simplified query: ${e}`);try{const r=await GF(e);if(console.log(`Simplified query returned ${r.length} recipes`),r.length>0)return r}catch(r){console.error("Simplified query search failed:",r)}}return console.log("No recipes found for query:",t),[]}catch(e){return console.error("Error getting recipes:",e),[]}},GF=async t=>{try{console.log("Searching recipes from Edamam:",t);const e=await Promise.allSettled([bTe(t),wTe(t)]);let r=[];for(const n of e)n.status==="fulfilled"&&n.value.length>0&&(r=[...r,...n.value]);return r}catch(e){return console.error("Error searching recipes from Edamam:",e),[]}},bTe=async t=>{try{console.log("Searching Edamam Recipe API:",t);const e=`https://api.edamam.com/api/recipes/v2?type=public&q=${encodeURIComponent(t)}&app_id=${gTe}&app_key=${vTe}`;console.log("Edamam Recipe API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Recipe API error: ${r.status}`),new Error(`Edamam Recipe API error: ${r.status}`);const n=await r.json();return!n.hits||n.hits.length===0?[]:n.hits.map(i=>{var o,l,u,f,m,h,p,y,w,b;const a=i.recipe;return{id:`edamam-${a.uri.split("#recipe_")[1]}`,title:a.label,image:a.image,calories:Math.round(a.calories/a.yield),servings:a.yield,cookTime:a.totalTime>0?a.totalTime:30,prepTime:Math.round(a.totalTime/3)||10,healthLabels:a.healthLabels||[],source:"Edamam",ingredients:a.ingredientLines||[],instructions:HC(a.label,a.ingredientLines||[]),nutrients:{protein:Math.round(((l=(o=a.totalNutrients)==null?void 0:o.PROCNT)==null?void 0:l.quantity)/a.yield)||0,carbs:Math.round(((f=(u=a.totalNutrients)==null?void 0:u.CHOCDF)==null?void 0:f.quantity)/a.yield)||0,fat:Math.round(((h=(m=a.totalNutrients)==null?void 0:m.FAT)==null?void 0:h.quantity)/a.yield)||0,fiber:Math.round(((y=(p=a.totalNutrients)==null?void 0:p.FIBTG)==null?void 0:y.quantity)/a.yield)||0,sodium:Math.round(((b=(w=a.totalNutrients)==null?void 0:w.NA)==null?void 0:b.quantity)/a.yield)||0}}})}catch(e){return console.error("Error searching Edamam Recipe API:",e),[]}},wTe=async t=>{try{console.log("Searching Edamam Food API for recipes:",t);const e=`https://api.edamam.com/api/food-database/v2/parser?app_id=${yTe}&app_key=${xTe}&ingr=${encodeURIComponent(t)}`;console.log("Edamam Food API URL:",e);const r=await fetch(e);if(!r.ok)throw console.error(`Edamam Food API error: ${r.status}`),new Error(`Edamam Food API error: ${r.status}`);const n=await r.json();return!n.hints||n.hints.length===0?[]:n.hints.filter(i=>{const a=i.food;return a.category==="Generic meals"||a.category==="Generic dishes"||a.foodContentsLabel}).map(i=>{const a=i.food,o=i.measures,l=o.find(f=>f.label==="Serving")||o[0],u=a.foodContentsLabel?a.foodContentsLabel.split(";").map(f=>f.trim()):[a.label];return{id:`edamam-food-${a.foodId}`,title:a.label,image:a.image||`https://source.unsplash.com/random/300x200/?${encodeURIComponent(a.label+" food")}`,calories:Math.round(a.nutrients.ENERC_KCAL)||0,servings:4,cookTime:30,prepTime:15,healthLabels:a.healthLabels||[],source:"Edamam Food",ingredients:u,instructions:HC(a.label,u),nutrients:{protein:Math.round(a.nutrients.PROCNT)||0,carbs:Math.round(a.nutrients.CHOCDF)||0,fat:Math.round(a.nutrients.FAT)||0,fiber:Math.round(a.nutrients.FIBTG)||0,sodium:Math.round(a.nutrients.NA)||0}}})}catch(e){return console.error("Error searching Edamam Food API for recipes:",e),[]}},HC=(t,e)=>{const r=[`Prepare all ingredients for ${t}.`,"Wash and chop all vegetables and herbs as needed."],n=e.some(l=>/chicken|beef|pork|turkey|lamb|meat|fish|seafood|shrimp/i.test(l)),i=e.some(l=>/vegetable|carrot|onion|pepper|tomato|potato|broccoli|spinach|lettuce|kale|cabbage/i.test(l)),a=e.some(l=>/milk|cheese|cream|yogurt|butter/i.test(l)),o=e.some(l=>/rice|pasta|noodle|bread|flour|grain|wheat|oat|barley|quinoa/i.test(l));return n&&r.push("Season the meat with salt and pepper.","Cook the meat until it reaches the appropriate internal temperature."),i&&r.push("Sauté the vegetables until tender."),o&&r.push("Cook the grains according to package instructions."),n&&i&&r.push("Combine the cooked meat and vegetables."),a&&r.push("Add dairy ingredients and stir until well incorporated."),r.push("Adjust seasoning to taste.",`Serve ${t} hot and enjoy!`),r},_Te=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(!1),[i,a]=S.useState([]),[o,l]=S.useState("all"),[u,f]=S.useState(null),[m,h]=S.useState([]),{toast:p}=ar(),y=Wt(We),w=ir(We);S.useEffect(()=>{(async()=>{n(!0),f(null);try{const N=y.currentUser;if(N)try{const O=Pt(w,"users",N.uid),k=await Fr(O);k.exists()&&k.data().favoriteRecipes&&h(k.data().favoriteRecipes)}catch(O){console.error("Error loading favorite recipes:",O)}const T=await es("");if(a(T),T.length===0){const O=await es("popular");a(O)}}catch(N){console.error("Error loading initial recipes:",N),a([]),f("Unable to load recipes. Please try again later.")}finally{n(!1)}})()},[y,w]);const b=async()=>{if(t.trim()){n(!0),f(null);try{console.log("Searching for recipes with query:",t);const j=await es(t);a(j),Ice(t,j);const N=y.currentUser;if(N)try{const T=Pt(w,"users",N.uid);await Mn(T,{recipeSearches:{recent:t,timestamp:new Date().toISOString(),resultCount:j.length}},{merge:!0})}catch(T){console.error("Error saving recipe search:",T)}if(j.length>0)p({title:`Found ${j.length} recipes`,description:"Here are your recipe results"});else{console.log("No results found, trying with a more generic search term");const T=t.split(" ")[0];if(T&&T!==t)try{const O=await es(T);if(O.length>0){a(O),p({title:`Found ${O.length} recipes`,description:`Showing results for "${T}" instead`});return}}catch(O){console.error("Error with generic search:",O)}p({title:"No recipes found",description:"Try a different search term or check our popular recipes",variant:"default"});try{console.log("Trying popular recipes as fallback");const O=await es("popular");O.length>0?(a(O),p({title:"Showing popular recipes instead",description:"We couldn't find recipes matching your search"})):f("No recipes found. Please try a different search term.")}catch(O){console.error("Error getting fallback recipes:",O),f("Unable to load recipes. Please try again later.")}}}catch(j){console.error("Error searching recipes:",j),a([]),f("Unable to fetch recipes. Please try again later."),p({title:"Search Error",description:"Unable to fetch recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}}},v=async j=>{l(j),n(!0),f(null);try{if(j==="all"){const N=await es("popular");a(N)}else if(j==="favorites")if(m.length>0)try{const T=(await es("popular")).filter(O=>m.includes(O.id));T.length>0?a(T):(a([]),f("Your favorite recipes could not be loaded. Please try again later."))}catch(N){console.error("Error loading favorite recipes:",N),a([]),f("Your favorite recipes could not be loaded. Please try again later.")}else a([]),f("You have no favorite recipes yet. Click the star icon to add recipes to your favorites.");else if(j==="edamam"){const N=await es("popular");a(N.filter(T=>T.source.includes("Edamam")))}else if(j==="edamam-food"){const N=await es("popular");a(N.filter(T=>T.source.includes("Edamam Food")))}else{const N=await es("popular");a(N)}i.length===0&&j!=="favorites"&&f("No recipes found. Please try searching for specific recipes.")}catch(N){console.error("Error changing tab:",N),a([]),f("Unable to load recipes. Please try again later."),p({title:"Error",description:"Unable to load recipes. Please try again later.",variant:"destructive"})}finally{n(!1)}},A=async j=>{const N=y.currentUser;if(!N){p({title:"Sign in required",description:"Please sign in to save favorite recipes",variant:"default"});return}try{let T;m.includes(j)?(T=m.filter(k=>k!==j),p({title:"Removed from favorites",description:"Recipe removed from your favorites"})):(T=[...m,j],p({title:"Added to favorites",description:"Recipe added to your favorites"})),h(T);const O=Pt(w,"users",N.uid);await Mn(O,{favoriteRecipes:T},{merge:!0})}catch(T){console.error("Error toggling favorite recipe:",T),p({title:"Error",description:"Unable to update favorites. Please try again.",variant:"destructive"})}},E=j=>{p({title:"Recipe saved",description:"Recipe added to your favorites"})};return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 p-1 text-center bg-red-500 text-white text-xs",children:"Under Development"}),s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Healthy Recipes"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Discover nutritious and delicious Indian recipes tailored to your health goals"})]}),s.jsx("div",{className:"sci-fi-card mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(wn,{className:"absolute left-3 top-2.5 h-5 w-5 text-safebite-text-secondary"}),s.jsx(At,{placeholder:"Search for recipes (e.g., vegetarian curry, low-calorie)",className:"sci-fi-input pl-10",value:t,onChange:j=>e(j.target.value),onKeyPress:j=>j.key==="Enter"&&b()})]})}),s.jsxs(re,{onClick:b,className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),"Search"]}),s.jsxs(re,{variant:"outline",className:"sci-fi-button",children:[s.jsx(YY,{className:"mr-2 h-4 w-4"}),"Filters"]})]})}),s.jsxs(To,{defaultValue:"all",className:"mb-6",children:[s.jsx("div",{className:"sci-fi-card mb-2 p-4",children:s.jsxs(Ps,{className:"grid grid-cols-3 gap-2",children:[s.jsxs(Xt,{value:"all",onClick:()=>v("all"),className:o==="all"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(pO,{className:"mr-2 h-4 w-4"}),"All Recipes"]}),s.jsxs(Xt,{value:"favorites",onClick:()=>v("favorites"),className:o==="favorites"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(ea,{className:"mr-2 h-4 w-4 text-yellow-400"}),"Favorites"]}),s.jsxs(Xt,{value:"edamam",onClick:()=>v("edamam"),className:o==="edamam"?"bg-safebite-teal text-safebite-dark-blue":"",children:[s.jsx(Kd,{className:"mr-2 h-4 w-4"}),"Edamam Recipes"]})]})}),s.jsx(_r,{value:"all",className:"mt-0",children:r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Js,{size:"lg"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(j=>s.jsxs(ke,{className:"sci-fi-card overflow-hidden",children:[s.jsxs("div",{className:"relative h-48 w-full",children:[s.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),s.jsx(St,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),s.jsx(re,{variant:"ghost",size:"sm",className:`p-1 h-8 w-8 ${m.includes(j.id)?"text-yellow-500":"text-safebite-text-secondary"}`,onClick:N=>{N.stopPropagation(),A(j.id)},children:s.jsx(ea,{className:`h-5 w-5 ${m.includes(j.id)?"fill-yellow-500":""}`})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.healthLabels.map((N,T)=>s.jsx(St,{variant:"outline",className:"border-safebite-teal text-safebite-teal",children:N},T))}),s.jsxs("div",{className:"flex justify-between text-safebite-text-secondary mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(oi,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[j.cookTime," min"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(os,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[j.servings," servings"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(pO,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[j.calories," cal"]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:()=>E(j.id),children:s.jsx(yd,{className:"h-4 w-4"})})]})]})]},j.id))})}),s.jsx(_r,{value:"favorites",className:"mt-0",children:r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Js,{size:"lg"})}):u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Kn,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Favorite Recipes"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:u})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(j=>s.jsxs(ke,{className:"sci-fi-card overflow-hidden",children:[s.jsxs("div",{className:"relative h-48 w-full",children:[s.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),s.jsx(St,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),s.jsx(re,{variant:"ghost",size:"sm",className:"p-1 h-8 w-8 text-yellow-500",onClick:N=>{N.stopPropagation(),A(j.id)},children:s.jsx(ea,{className:"h-5 w-5 fill-yellow-500"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.healthLabels.map((N,T)=>s.jsx(St,{variant:"outline",className:"border-safebite-teal text-safebite-teal",children:N},T))}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-safebite-text-secondary mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(bd,{className:"h-4 w-4 mr-1 text-safebite-teal"}),j.calories," kcal"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(oi,{className:"h-4 w-4 mr-1 text-safebite-teal"}),j.cookTime," min"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(os,{className:"h-4 w-4 mr-1 text-safebite-teal"}),j.servings," servings"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:()=>A(j.id),children:s.jsx(ea,{className:"h-4 w-4 fill-yellow-500"})})]})]})]},j.id))})}),s.jsx(_r,{value:"mongodb",className:"mt-0",children:r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Js,{size:"lg"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(j=>j.source==="MongoDB").map(j=>s.jsxs(ke,{className:"sci-fi-card overflow-hidden",children:[s.jsxs("div",{className:"relative h-48 w-full",children:[s.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),s.jsx(St,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(bd,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.calories," kcal"]}),s.jsx(oi,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.cookTime," min"]}),s.jsx(os,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[j.servings," servings"]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.healthLabels.map((N,T)=>s.jsx(St,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:N},T))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:()=>E(j.id),children:s.jsx(yd,{className:"h-4 w-4"})})]})]})]},j.id))})}),s.jsx(_r,{value:"edamam",className:"mt-0",children:r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Js,{size:"lg"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(j=>j.source==="Edamam").map(j=>s.jsxs(ke,{className:"sci-fi-card overflow-hidden",children:[s.jsxs("div",{className:"relative h-48 w-full",children:[s.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),s.jsx(St,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(bd,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.calories," kcal"]}),s.jsx(oi,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.cookTime," min"]}),s.jsx(os,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[j.servings," servings"]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.healthLabels.map((N,T)=>s.jsx(St,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:N},T))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:()=>E(j.id),children:s.jsx(yd,{className:"h-4 w-4"})})]})]})]},j.id))})}),s.jsx(_r,{value:"fatsecret",className:"mt-0",children:r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Js,{size:"lg"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(j=>j.source==="FatSecret").map(j=>s.jsxs(ke,{className:"sci-fi-card overflow-hidden",children:[s.jsxs("div",{className:"relative h-48 w-full",children:[s.jsx("img",{src:j.image,alt:j.title,className:"h-full w-full object-cover"}),s.jsx(St,{className:"absolute top-2 right-2 bg-safebite-purple text-white",children:j.source})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:j.title}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(bd,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.calories," kcal"]}),s.jsx(oi,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary mr-3",children:[j.cookTime," min"]}),s.jsx(os,{className:"h-4 w-4 text-safebite-teal mr-1"}),s.jsxs("span",{className:"text-sm text-safebite-text-secondary",children:[j.servings," servings"]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.healthLabels.map((N,T)=>s.jsx(St,{variant:"outline",className:"bg-safebite-teal/10 text-safebite-teal border-safebite-teal/20",children:N},T))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(re,{variant:"outline",className:"sci-fi-button",children:"View Recipe"}),s.jsx(re,{variant:"outline",className:"sci-fi-button",onClick:()=>E(j.id),children:s.jsx(yd,{className:"h-4 w-4"})})]})]})]},j.id))})})]}),s.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi"})]})})]})};class STe{constructor(){vn(this,"auth",Wt(We));vn(this,"db",ir(We));vn(this,"localActivities",[]);vn(this,"isGuest",!1);vn(this,"syncInterval",null);vn(this,"maxLocalActivities",10);this.isGuest=localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true",this.setupSyncInterval(),this.auth.onAuthStateChanged(e=>{this.isGuest=!e&&(localStorage.getItem("userType")==="guest"||sessionStorage.getItem("safebite-guest-mode")==="true"),this.setupSyncInterval()})}async trackActivity(e,r,n){const i={type:e,action:r,details:n,timestamp:new Date};this.localActivities.push(i),this.saveActivityToCookies(i),!this.isGuest&&this.localActivities.length>=this.maxLocalActivities&&await this.syncActivitiesWithFirebase(),console.log(`Activity tracked: ${e} - ${r}`)}saveActivityToCookies(e){try{const r=this.getActivitiesFromCookies();r.push({type:e.type,action:e.action,timestamp:e.timestamp.getTime()});const n=r.slice(-50);document.cookie=`safebite_activities=${JSON.stringify(n)};path=/;max-age=2592000`}catch(r){console.error("Error saving activity to cookies:",r)}}getActivitiesFromCookies(){try{const r=document.cookie.split(";").find(n=>n.trim().startsWith("safebite_activities="));if(r){const n=r.split("=")[1];return JSON.parse(decodeURIComponent(n))}return[]}catch(e){return console.error("Error getting activities from cookies:",e),[]}}async syncActivitiesWithFirebase(){try{const e=this.auth.currentUser;if(!e||this.isGuest||this.localActivities.length===0)return;const r=Pt(this.db,"users",e.uid),n=Pt(this.db,"user_activities",e.uid);(await Fr(n)).exists()?await Xm(n,{activities:vk(...this.localActivities),lastUpdated:Jt.now()}):await Mn(n,{activities:this.localActivities,lastUpdated:Jt.now(),userId:e.uid}),await Xm(r,{lastActivity:this.localActivities[this.localActivities.length-1],lastActiveAt:Jt.now()},{merge:!0}),this.localActivities=[],console.log("Activities synced with Firebase")}catch(e){console.error("Error syncing activities with Firebase:",e)}}setupSyncInterval(){this.syncInterval&&(window.clearInterval(this.syncInterval),this.syncInterval=null),this.isGuest||(this.syncInterval=window.setInterval(()=>{this.localActivities.length>0&&this.syncActivitiesWithFirebase()},6e4))}async getRecentActivities(e=10){try{const r=this.auth.currentUser;if(!r||this.isGuest)return this.localActivities.slice(-e);const n=Pt(this.db,"user_activities",r.uid),i=await Fr(n);return i.exists()?i.data().activities.slice(-e):[]}catch(r){return console.error("Error getting recent activities:",r),[]}}}const by=new STe,jTe=()=>{const[t,e]=S.useState(170),[r,n]=S.useState(70),[i,a]=S.useState(null),[o,l]=S.useState(""),u=()=>{if(t&&r){const f=t/100,m=r/(f*f),h=Math.round(m*10)/10;let p="";m<18.5?p="Underweight":m>=18.5&&m<25?p="Normal weight":m>=25&&m<30?p="Overweight":p="Obesity",a(h),l(p),na("bmi","calculate")}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(WT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"BMI Calculator"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),s.jsx(At,{id:"height",type:"number",value:t,onChange:f=>e(Number(f.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),s.jsx(At,{id:"weight",type:"number",value:r,onChange:f=>n(Number(f.target.value)),className:"sci-fi-input"})]}),s.jsx(re,{onClick:u,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate BMI"}),i!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Your BMI:"}),s.jsx("span",{className:"text-safebite-text font-semibold",children:i})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),s.jsx("span",{className:"text-safebite-teal font-semibold",children:o})]})]})]})})]})};var NTe=[" ","Enter","ArrowUp","ArrowDown"],ETe=[" ","Enter"],cg="Select",[H0,W0,ATe]=sb(cg),[oh,GPe]=Va(cg,[ATe,gb]),G0=gb(),[TTe,nc]=oh(cg),[PTe,kTe]=oh(cg),$W=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:u,dir:f,name:m,autoComplete:h,disabled:p,required:y,form:w}=t,b=G0(e),[v,A]=S.useState(null),[E,j]=S.useState(null),[N,T]=S.useState(!1),O=Zp(f),[k=!1,C]=Ma({prop:n,defaultProp:i,onChange:a}),[M,F]=Ma({prop:o,defaultProp:l,onChange:u}),D=S.useRef(null),V=v?w||!!v.closest("form"):!0,[$,H]=S.useState(new Set),G=Array.from($).map(Q=>Q.props.value).join(";");return s.jsx(wV,{...b,children:s.jsxs(TTe,{required:y,scope:e,trigger:v,onTriggerChange:A,valueNode:E,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:ao(),value:M,onValueChange:F,open:k,onOpenChange:C,dir:O,triggerPointerDownPosRef:D,disabled:p,children:[s.jsx(H0.Provider,{scope:e,children:s.jsx(PTe,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(Q=>{H(Y=>new Set(Y).add(Q))},[]),onNativeOptionRemove:S.useCallback(Q=>{H(Y=>{const W=new Set(Y);return W.delete(Q),W})},[]),children:r})}),V?s.jsxs(cG,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:h,value:M,onChange:Q=>F(Q.target.value),disabled:p,form:w,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from($)]},G):null]})})};$W.displayName=cg;var FW="SelectTrigger",VW=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=G0(r),o=nc(FW,r),l=o.disabled||n,u=Dt(e,o.onTriggerChange),f=W0(r),m=S.useRef("touch"),[h,p,y]=uG(b=>{const v=f().filter(j=>!j.disabled),A=v.find(j=>j.value===o.value),E=dG(v,b,A);E!==void 0&&o.onValueChange(E.value)}),w=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(_V,{asChild:!0,...a,children:s.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":lG(o.value)?"":void 0,...i,ref:u,onClick:He(i.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&w(b)}),onPointerDown:He(i.onPointerDown,b=>{m.current=b.pointerType;const v=b.target;v.hasPointerCapture(b.pointerId)&&v.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:He(i.onKeyDown,b=>{const v=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(v&&b.key===" ")&&NTe.includes(b.key)&&(w(),b.preventDefault())})})})});VW.displayName=FW;var BW="SelectValue",UW=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=t,u=nc(BW,r),{onValueNodeHasChildrenChange:f}=u,m=a!==void 0,h=Dt(e,u.onValueNodeChange);return un(()=>{f(m)},[f,m]),s.jsx(Qe.span,{...l,ref:h,style:{pointerEvents:"none"},children:lG(u.value)?s.jsx(s.Fragment,{children:o}):a})});UW.displayName=BW;var CTe="SelectIcon",zW=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return s.jsx(Qe.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});zW.displayName=CTe;var ITe="SelectPortal",qW=t=>s.jsx(ob,{asChild:!0,...t});qW.displayName=ITe;var mu="SelectContent",HW=S.forwardRef((t,e)=>{const r=nc(mu,t.__scopeSelect),[n,i]=S.useState();if(un(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Rf.createPortal(s.jsx(WW,{scope:t.__scopeSelect,children:s.jsx(H0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(GW,{...t,ref:e})});HW.displayName=mu;var Ea=10,[WW,ic]=oh(mu),OTe="SelectContentImpl",GW=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:u,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:v,...A}=t,E=nc(mu,r),[j,N]=S.useState(null),[T,O]=S.useState(null),k=Dt(e,me=>N(me)),[C,M]=S.useState(null),[F,D]=S.useState(null),V=W0(r),[$,H]=S.useState(!1),G=S.useRef(!1);S.useEffect(()=>{if(j)return U7(j)},[j]),R7();const Q=S.useCallback(me=>{const[Pe,...ue]=V().map(le=>le.ref.current),[ve]=ue.slice(-1),_e=document.activeElement;for(const le of me)if(le===_e||(le==null||le.scrollIntoView({block:"nearest"}),le===Pe&&T&&(T.scrollTop=0),le===ve&&T&&(T.scrollTop=T.scrollHeight),le==null||le.focus(),document.activeElement!==_e))return},[V,T]),Y=S.useCallback(()=>Q([C,j]),[Q,C,j]);S.useEffect(()=>{$&&Y()},[$,Y]);const{onOpenChange:W,triggerPointerDownPosRef:J}=E;S.useEffect(()=>{if(j){let me={x:0,y:0};const Pe=ve=>{var _e,le;me={x:Math.abs(Math.round(ve.pageX)-(((_e=J.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((le=J.current)==null?void 0:le.y)??0))}},ue=ve=>{me.x<=10&&me.y<=10?ve.preventDefault():j.contains(ve.target)||W(!1),document.removeEventListener("pointermove",Pe),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",ue,{capture:!0})}}},[j,W,J]),S.useEffect(()=>{const me=()=>W(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[W]);const[ee,q]=uG(me=>{const Pe=V().filter(_e=>!_e.disabled),ue=Pe.find(_e=>_e.ref.current===document.activeElement),ve=dG(Pe,me,ue);ve&&setTimeout(()=>ve.ref.current.focus())}),X=S.useCallback((me,Pe,ue)=>{const ve=!G.current&&!ue;(E.value!==void 0&&E.value===Pe||ve)&&(M(me),ve&&(G.current=!0))},[E.value]),se=S.useCallback(()=>j==null?void 0:j.focus(),[j]),xe=S.useCallback((me,Pe,ue)=>{const ve=!G.current&&!ue;(E.value!==void 0&&E.value===Pe||ve)&&D(me)},[E.value]),Ae=n==="popper"?IT:KW,Te=Ae===IT?{side:l,sideOffset:u,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:v}:{};return s.jsx(WW,{scope:r,content:j,viewport:T,onViewportChange:O,itemRefCallback:X,selectedItem:C,onItemLeave:se,itemTextRefCallback:xe,focusSelectedItem:Y,selectedItemText:F,position:n,isPositioned:$,searchRef:ee,children:s.jsx(LC,{as:Jc,allowPinchZoom:!0,children:s.jsx(DC,{asChild:!0,trapped:E.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:He(i,me=>{var Pe;(Pe=E.trigger)==null||Pe.focus({preventScroll:!0}),me.preventDefault()}),children:s.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(Ae,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:me=>me.preventDefault(),...A,...Te,onPlaced:()=>H(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:He(A.onKeyDown,me=>{const Pe=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Pe&&me.key.length===1&&q(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ve=V().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const _e=me.target,le=ve.indexOf(_e);ve=ve.slice(le+1)}setTimeout(()=>Q(ve)),me.preventDefault()}})})})})})})});GW.displayName=OTe;var RTe="SelectItemAlignedPosition",KW=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=nc(mu,r),o=ic(mu,r),[l,u]=S.useState(null),[f,m]=S.useState(null),h=Dt(e,k=>m(k)),p=W0(r),y=S.useRef(!1),w=S.useRef(!0),{viewport:b,selectedItem:v,selectedItemText:A,focusSelectedItem:E}=o,j=S.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&f&&b&&v&&A){const k=a.trigger.getBoundingClientRect(),C=f.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),F=A.getBoundingClientRect();if(a.dir!=="rtl"){const _e=F.left-C.left,le=M.left-_e,Ye=k.left-le,Ke=k.width+Ye,ut=Math.max(Ke,C.width),st=window.innerWidth-Ea,mt=nx(le,[Ea,Math.max(Ea,st-ut)]);l.style.minWidth=Ke+"px",l.style.left=mt+"px"}else{const _e=C.right-F.right,le=window.innerWidth-M.right-_e,Ye=window.innerWidth-k.right-le,Ke=k.width+Ye,ut=Math.max(Ke,C.width),st=window.innerWidth-Ea,mt=nx(le,[Ea,Math.max(Ea,st-ut)]);l.style.minWidth=Ke+"px",l.style.right=mt+"px"}const D=p(),V=window.innerHeight-Ea*2,$=b.scrollHeight,H=window.getComputedStyle(f),G=parseInt(H.borderTopWidth,10),Q=parseInt(H.paddingTop,10),Y=parseInt(H.borderBottomWidth,10),W=parseInt(H.paddingBottom,10),J=G+Q+$+W+Y,ee=Math.min(v.offsetHeight*5,J),q=window.getComputedStyle(b),X=parseInt(q.paddingTop,10),se=parseInt(q.paddingBottom,10),xe=k.top+k.height/2-Ea,Ae=V-xe,Te=v.offsetHeight/2,me=v.offsetTop+Te,Pe=G+Q+me,ue=J-Pe;if(Pe<=xe){const _e=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const le=f.clientHeight-b.offsetTop-b.offsetHeight,Ye=Math.max(Ae,Te+(_e?se:0)+le+Y),Ke=Pe+Ye;l.style.height=Ke+"px"}else{const _e=D.length>0&&v===D[0].ref.current;l.style.top="0px";const Ye=Math.max(xe,G+b.offsetTop+(_e?X:0)+Te)+ue;l.style.height=Ye+"px",b.scrollTop=Pe-xe+b.offsetTop}l.style.margin=`${Ea}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[p,a.trigger,a.valueNode,l,f,b,v,A,a.dir,n]);un(()=>j(),[j]);const[N,T]=S.useState();un(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const O=S.useCallback(k=>{k&&w.current===!0&&(j(),E==null||E(),w.current=!1)},[j,E]);return s.jsx(DTe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Qe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});KW.displayName=RTe;var MTe="SelectPopperPosition",IT=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ea,...a}=t,o=G0(r);return s.jsx(SV,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});IT.displayName=MTe;var[DTe,WC]=oh(mu,{}),OT="SelectViewport",YW=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=ic(OT,r),o=WC(OT,r),l=Dt(e,a.onViewportChange),u=S.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(H0.Slot,{scope:r,children:s.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,f=>{const m=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const y=Math.abs(u.current-m.scrollTop);if(y>0){const w=window.innerHeight-Ea*2,b=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),A=Math.max(b,v);if(A<w){const E=A+y,j=Math.min(w,E),N=E-j;h.style.height=j+"px",h.style.bottom==="0px"&&(m.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});YW.displayName=OT;var QW="SelectGroup",[LTe,$Te]=oh(QW),FTe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ao();return s.jsx(LTe,{scope:r,id:i,children:s.jsx(Qe.div,{role:"group","aria-labelledby":i,...n,ref:e})})});FTe.displayName=QW;var XW="SelectLabel",JW=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=$Te(XW,r);return s.jsx(Qe.div,{id:i.id,...n,ref:e})});JW.displayName=XW;var ab="SelectItem",[VTe,ZW]=oh(ab),eG=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,l=nc(ab,r),u=ic(ab,r),f=l.value===n,[m,h]=S.useState(a??""),[p,y]=S.useState(!1),w=Dt(e,E=>{var j;return(j=u.itemRefCallback)==null?void 0:j.call(u,E,n,i)}),b=ao(),v=S.useRef("touch"),A=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(VTe,{scope:r,value:n,disabled:i,textId:b,isSelected:f,onItemTextChange:S.useCallback(E=>{h(j=>j||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(H0.ItemSlot,{scope:r,value:n,disabled:i,textValue:m,children:s.jsx(Qe.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":f&&p,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:He(o.onFocus,()=>y(!0)),onBlur:He(o.onBlur,()=>y(!1)),onClick:He(o.onClick,()=>{v.current!=="mouse"&&A()}),onPointerUp:He(o.onPointerUp,()=>{v.current==="mouse"&&A()}),onPointerDown:He(o.onPointerDown,E=>{v.current=E.pointerType}),onPointerMove:He(o.onPointerMove,E=>{var j;v.current=E.pointerType,i?(j=u.onItemLeave)==null||j.call(u):v.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,E=>{var j;E.currentTarget===document.activeElement&&((j=u.onItemLeave)==null||j.call(u))}),onKeyDown:He(o.onKeyDown,E=>{var N;((N=u.searchRef)==null?void 0:N.current)!==""&&E.key===" "||(ETe.includes(E.key)&&A(),E.key===" "&&E.preventDefault())})})})})});eG.displayName=ab;var mm="SelectItemText",tG=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=nc(mm,r),l=ic(mm,r),u=ZW(mm,r),f=kTe(mm,r),[m,h]=S.useState(null),p=Dt(e,A=>h(A),u.onItemTextChange,A=>{var E;return(E=l.itemTextRefCallback)==null?void 0:E.call(l,A,u.value,u.disabled)}),y=m==null?void 0:m.textContent,w=S.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=f;return un(()=>(b(w),()=>v(w)),[b,v,w]),s.jsxs(s.Fragment,{children:[s.jsx(Qe.span,{id:u.textId,...a,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rf.createPortal(a.children,o.valueNode):null]})});tG.displayName=mm;var rG="SelectItemIndicator",nG=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return ZW(rG,r).isSelected?s.jsx(Qe.span,{"aria-hidden":!0,...n,ref:e}):null});nG.displayName=rG;var RT="SelectScrollUpButton",iG=S.forwardRef((t,e)=>{const r=ic(RT,t.__scopeSelect),n=WC(RT,t.__scopeSelect),[i,a]=S.useState(!1),o=Dt(e,n.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;a(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(sG,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});iG.displayName=RT;var MT="SelectScrollDownButton",aG=S.forwardRef((t,e)=>{const r=ic(MT,t.__scopeSelect),n=WC(MT,t.__scopeSelect),[i,a]=S.useState(!1),o=Dt(e,n.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<f;a(m)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(sG,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});aG.displayName=MT;var sG=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=ic("SelectScrollButton",r),o=S.useRef(null),l=W0(r),u=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>u(),[u]),un(()=>{var m;const f=l().find(h=>h.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),s.jsx(Qe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:He(i.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:He(i.onPointerLeave,()=>{u()})})}),BTe="SelectSeparator",oG=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Qe.div,{"aria-hidden":!0,...n,ref:e})});oG.displayName=BTe;var DT="SelectArrow",UTe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=G0(r),a=nc(DT,r),o=ic(DT,r);return a.open&&o.position==="popper"?s.jsx(jV,{...i,...n,ref:e}):null});UTe.displayName=DT;function lG(t){return t===""||t===void 0}var cG=S.forwardRef((t,e)=>{const{value:r,...n}=t,i=S.useRef(null),a=Dt(e,i),o=eg(r);return S.useEffect(()=>{const l=i.current,u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&m){const h=new Event("change",{bubbles:!0});m.call(l,r),l.dispatchEvent(h)}},[o,r]),s.jsx($p,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});cG.displayName="BubbleSelect";function uG(t){const e=Yn(t),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(o=>{const l=r.current+o;e(l),function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),a=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function dG(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=zTe(t,Math.max(a,0));i.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function zTe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var qTe=$W,fG=VW,HTe=UW,WTe=zW,GTe=qW,hG=HW,KTe=YW,mG=JW,pG=eG,YTe=tG,QTe=nG,gG=iG,vG=aG,yG=oG;const _o=qTe,So=HTe,Es=S.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(fG,{ref:n,className:at("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(WTe,{asChild:!0,children:s.jsx(O6,{className:"h-4 w-4 opacity-50"})})]}));Es.displayName=fG.displayName;const xG=S.forwardRef(({className:t,...e},r)=>s.jsx(gG,{ref:r,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(M6,{className:"h-4 w-4"})}));xG.displayName=gG.displayName;const bG=S.forwardRef(({className:t,...e},r)=>s.jsx(vG,{ref:r,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(O6,{className:"h-4 w-4"})}));bG.displayName=vG.displayName;const As=S.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>s.jsx(GTe,{children:s.jsxs(hG,{ref:i,className:at("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(xG,{}),s.jsx(KTe,{className:at("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(bG,{})]})}));As.displayName=hG.displayName;const XTe=S.forwardRef(({className:t,...e},r)=>s.jsx(mG,{ref:r,className:at("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));XTe.displayName=mG.displayName;const Kt=S.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(pG,{ref:n,className:at("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(QTe,{children:s.jsx(Zc,{className:"h-4 w-4"})})}),s.jsx(YTe,{children:e})]}));Kt.displayName=pG.displayName;const JTe=S.forwardRef(({className:t,...e},r)=>s.jsx(yG,{ref:r,className:at("-mx-1 my-1 h-px bg-muted",t),...e}));JTe.displayName=yG.displayName;const ZTe=()=>{const[t,e]=S.useState(30),[r,n]=S.useState("male"),[i,a]=S.useState(70),[o,l]=S.useState(170),[u,f]=S.useState("moderate"),[m,h]=S.useState(null),p=()=>{if(t&&i&&o){let y=0;r==="male"?y=88.362+13.397*i+4.799*o-5.677*t:y=447.593+9.247*i+3.098*o-4.33*t;let w=1.2;switch(u){case"sedentary":w=1.2;break;case"light":w=1.375;break;case"moderate":w=1.55;break;case"active":w=1.725;break;case"very_active":w=1.9;break}const b=Math.round(y*w);h(b),na("calories","calculate")}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(bd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Calorie Calculator"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),s.jsx(At,{id:"age",type:"number",value:t,onChange:y=>e(Number(y.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),s.jsxs(_o,{value:r,onValueChange:n,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select gender"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"male",children:"Male"}),s.jsx(Kt,{value:"female",children:"Female"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),s.jsx(At,{id:"weight",type:"number",value:i,onChange:y=>a(Number(y.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),s.jsx(At,{id:"height",type:"number",value:o,onChange:y=>l(Number(y.target.value)),className:"sci-fi-input"})]})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),s.jsxs(_o,{value:u,onValueChange:f,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select activity level"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"sedentary",children:"Sedentary (little or no exercise)"}),s.jsx(Kt,{value:"light",children:"Light (exercise 1-3 days/week)"}),s.jsx(Kt,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),s.jsx(Kt,{value:"active",children:"Active (exercise 6-7 days/week)"}),s.jsx(Kt,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),s.jsx(re,{onClick:p,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Calories"}),m!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Calories:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[m," kcal"]})]}),s.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[s.jsxs("p",{children:["Weight Loss: ",m-500," kcal"]}),s.jsxs("p",{children:["Weight Gain: ",m+500," kcal"]})]})]})]})})]})},ePe=()=>{const[t,e]=S.useState(70),[r,n]=S.useState("moderate"),[i,a]=S.useState("moderate"),[o,l]=S.useState(null),u=()=>{if(t){let f=t*30,m=1;switch(r){case"sedentary":m=1;break;case"light":m=1.1;break;case"moderate":m=1.2;break;case"active":m=1.3;break;case"very_active":m=1.4;break}let h=1;switch(i){case"cold":h=.9;break;case"moderate":h=1;break;case"hot":h=1.1;break;case"very_hot":h=1.2;break}const p=f*m*h,y=Math.round(p/100)/10;l(y),na("water","calculate")}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(WY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Water Intake Calculator"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),s.jsx(At,{id:"weight",type:"number",value:t,onChange:f=>e(Number(f.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"activity",className:"text-safebite-text-secondary",children:"Activity Level"}),s.jsxs(_o,{value:r,onValueChange:n,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select activity level"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"sedentary",children:"Sedentary (little or no exercise)"}),s.jsx(Kt,{value:"light",children:"Light (exercise 1-3 days/week)"}),s.jsx(Kt,{value:"moderate",children:"Moderate (exercise 3-5 days/week)"}),s.jsx(Kt,{value:"active",children:"Active (exercise 6-7 days/week)"}),s.jsx(Kt,{value:"very_active",children:"Very Active (intense exercise daily)"})]})]})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"climate",className:"text-safebite-text-secondary",children:"Climate"}),s.jsxs(_o,{value:i,onValueChange:a,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select climate"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"cold",children:"Cold"}),s.jsx(Kt,{value:"moderate",children:"Moderate"}),s.jsx(Kt,{value:"hot",children:"Hot"}),s.jsx(Kt,{value:"very_hot",children:"Very Hot"})]})]})]}),s.jsx(re,{onClick:u,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Water Intake"}),o!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Daily Water Intake:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," liters"]})]}),s.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:s.jsxs("p",{children:["That's approximately ",Math.round(o*4)," glasses of water (250ml each)"]})})]})]})})]})},tPe=()=>{const[t,e]=S.useState(2e3),[r,n]=S.useState("maintain"),[i,a]=S.useState(null),[o,l]=S.useState(null),[u,f]=S.useState(null),m=()=>{if(t){let h=.3,p=.3,y=.4;switch(r){case"lose":h=.4,p=.3,y=.3;break;case"maintain":h=.3,p=.3,y=.4;break;case"gain":h=.25,p=.25,y=.5;break}const w=t*h,b=t*p,v=t*y,A=Math.round(w/4),E=Math.round(b/9),j=Math.round(v/4);l(A),f(E),a(j),na("macros","calculate")}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(I6,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Macro Calculator"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"calories",className:"text-safebite-text-secondary",children:"Daily Calories"}),s.jsx(At,{id:"calories",type:"number",value:t,onChange:h=>e(Number(h.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"goal",className:"text-safebite-text-secondary",children:"Goal"}),s.jsxs(_o,{value:r,onValueChange:n,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select goal"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"lose",children:"Lose Weight"}),s.jsx(Kt,{value:"maintain",children:"Maintain Weight"}),s.jsx(Kt,{value:"gain",children:"Gain Weight"})]})]})]}),s.jsx(re,{onClick:m,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Macros"}),i!==null&&o!==null&&u!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Protein:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[o,"g"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Carbs:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[i,"g"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Fat:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[u,"g"]})]})]}),s.jsx("div",{className:"mt-3 h-4 bg-safebite-card-bg rounded-full overflow-hidden",children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"bg-green-500",style:{width:`${o*4/t*100}%`}}),s.jsx("div",{className:"bg-blue-500",style:{width:`${i*4/t*100}%`}}),s.jsx("div",{className:"bg-red-500",style:{width:`${u*9/t*100}%`}})]})}),s.jsxs("div",{className:"flex justify-between text-xs mt-1 text-safebite-text-secondary",children:[s.jsx("span",{children:"Protein"}),s.jsx("span",{children:"Carbs"}),s.jsx("span",{children:"Fat"})]})]})]})})]})},rPe=()=>{const[t,e]=S.useState(15),[r,n]=S.useState(5),[i,a]=S.useState(10),[o,l]=S.useState(3),[u,f]=S.useState(400),[m,h]=S.useState(null),[p,y]=S.useState(""),[w,b]=S.useState(""),v=()=>{let E=0,j=0;t<=1.6?E+=0:t<=3.2?E+=1:t<=4.8?E+=2:t<=6.4?E+=3:t<=8?E+=4:E+=5,r<=.9?E+=0:r<=1.9?E+=1:r<=2.8?E+=2:r<=3.7?E+=3:r<=4.7?E+=4:E+=5,i<=4.5?j+=0:i<=9?j+=1:i<=13.5?j+=2:i<=18?j+=3:i<=22.5?j+=4:j+=5,o<=1?j+=0:o<=2?j+=1:o<=3?j+=2:o<=4?j+=3:o<=5?j+=4:j+=5,u<=90?j+=0:u<=180?j+=1:u<=270?j+=2:u<=360?j+=3:u<=450?j+=4:j+=5;const N=E-j;h(N),N>=4?(y("A"),b("green")):N>=2?(y("B"),b("light-green")):N>=0?(y("C"),b("yellow")):N>=-2?(y("D"),b("orange")):(y("E"),b("red")),na("nutrition_score","calculate")},A=()=>{switch(w){case"green":return"bg-green-500";case"light-green":return"bg-green-400";case"yellow":return"bg-yellow-400";case"orange":return"bg-orange-400";case"red":return"bg-red-500";default:return"bg-gray-400"}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(Kd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Nutrition Score"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"protein",className:"text-safebite-text-secondary",children:"Protein (g)"}),s.jsx(At,{id:"protein",type:"number",value:t,onChange:E=>e(Number(E.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"fiber",className:"text-safebite-text-secondary",children:"Fiber (g)"}),s.jsx(At,{id:"fiber",type:"number",value:r,onChange:E=>n(Number(E.target.value)),className:"sci-fi-input"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"sugar",className:"text-safebite-text-secondary",children:"Sugar (g)"}),s.jsx(At,{id:"sugar",type:"number",value:i,onChange:E=>a(Number(E.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"saturatedFat",className:"text-safebite-text-secondary",children:"Sat. Fat (g)"}),s.jsx(At,{id:"saturatedFat",type:"number",value:o,onChange:E=>l(Number(E.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"sodium",className:"text-safebite-text-secondary",children:"Sodium (mg)"}),s.jsx(At,{id:"sodium",type:"number",value:u,onChange:E=>f(Number(E.target.value)),className:"sci-fi-input"})]})]}),s.jsx(re,{onClick:v,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Score"}),m!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Nutrition Score:"}),s.jsx("div",{className:`w-10 h-10 rounded-full ${A()} flex items-center justify-center text-white font-bold`,children:p})]}),s.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[s.jsx("p",{children:"A = Excellent nutritional quality"}),s.jsx("p",{children:"E = Poor nutritional quality"})]})]})]})})]})},nPe=()=>{const[t,e]=S.useState(170),[r,n]=S.useState("male"),[i,a]=S.useState("medium"),[o,l]=S.useState(null),[u,f]=S.useState(null),m=()=>{if(t){let h=0;r==="male"?h=50+2.3*((t-152.4)/2.54):h=45.5+2.3*((t-152.4)/2.54);let p=0;r==="male"?p=48+2.7*((t-152.4)/2.54):p=45.5+2.2*((t-152.4)/2.54);let y=0;r==="male"?y=56.2+1.41*((t-152.4)/2.54):y=53.1+1.36*((t-152.4)/2.54);const w=Math.round((h+p+y)/3);let b=1;switch(i){case"small":b=.9;break;case"medium":b=1;break;case"large":b=1.1;break}const v=Math.round(w*b);l(v);const A=Math.round(v*.9),E=Math.round(v*1.1);f({min:A,max:E}),na("ideal_weight","calculate")}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(WT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Ideal Weight Calculator"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),s.jsx(At,{id:"height",type:"number",value:t,onChange:h=>e(Number(h.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),s.jsxs(_o,{value:r,onValueChange:n,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select gender"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"male",children:"Male"}),s.jsx(Kt,{value:"female",children:"Female"})]})]})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"bodyFrame",className:"text-safebite-text-secondary",children:"Body Frame"}),s.jsxs(_o,{value:i,onValueChange:a,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select body frame"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"small",children:"Small"}),s.jsx(Kt,{value:"medium",children:"Medium"}),s.jsx(Kt,{value:"large",children:"Large"})]})]})]})]}),s.jsx(re,{onClick:m,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Ideal Weight"}),o!==null&&u!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Ideal Weight:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," kg"]})]}),s.jsxs("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:[s.jsxs("p",{children:["Healthy weight range: ",u.min," - ",u.max," kg"]}),s.jsx("p",{className:"mt-1",children:"Based on multiple medical formulas and adjusted for your body frame."})]})]})]})})]})},iPe=()=>{const[t,e]=S.useState(70),[r,n]=S.useState(170),[i,a]=S.useState(30),[o,l]=S.useState("male"),[u,f]=S.useState(80),[m,h]=S.useState(36),[p,y]=S.useState(90),[w,b]=S.useState(null),[v,A]=S.useState(""),E=()=>{if(t&&r&&i&&u&&m){let j=0;if(o==="male")j=495/(1.0324-.19077*Math.log10(u-m)+.15456*Math.log10(r))-450;else{if(!p)return;j=495/(1.29579-.35004*Math.log10(u+p-m)+.221*Math.log10(r))-450}const N=Math.round(j*10)/10;b(N),o==="male"?N<6?A("Essential Fat"):N<14?A("Athletic"):N<18?A("Fitness"):N<25?A("Average"):A("Obese"):N<14?A("Essential Fat"):N<21?A("Athletic"):N<25?A("Fitness"):N<32?A("Average"):A("Obese"),na("body_fat","calculate")}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(lQ,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Body Fat Calculator"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"gender",className:"text-safebite-text-secondary",children:"Gender"}),s.jsxs(_o,{value:o,onValueChange:l,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select gender"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"male",children:"Male"}),s.jsx(Kt,{value:"female",children:"Female"})]})]})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),s.jsx(At,{id:"age",type:"number",value:i,onChange:j=>a(Number(j.target.value)),className:"sci-fi-input"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"height",className:"text-safebite-text-secondary",children:"Height (cm)"}),s.jsx(At,{id:"height",type:"number",value:r,onChange:j=>n(Number(j.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"weight",className:"text-safebite-text-secondary",children:"Weight (kg)"}),s.jsx(At,{id:"weight",type:"number",value:t,onChange:j=>e(Number(j.target.value)),className:"sci-fi-input"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"neck",className:"text-safebite-text-secondary",children:"Neck (cm)"}),s.jsx(At,{id:"neck",type:"number",value:m,onChange:j=>h(Number(j.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"waist",className:"text-safebite-text-secondary",children:"Waist (cm)"}),s.jsx(At,{id:"waist",type:"number",value:u,onChange:j=>f(Number(j.target.value)),className:"sci-fi-input"})]}),o==="female"&&s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"hip",className:"text-safebite-text-secondary",children:"Hip (cm)"}),s.jsx(At,{id:"hip",type:"number",value:p,onChange:j=>y(Number(j.target.value)),className:"sci-fi-input"})]})]}),s.jsx(re,{onClick:E,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Body Fat"}),w!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Body Fat Percentage:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[w,"%"]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Category:"}),s.jsx("span",{className:"text-safebite-teal font-semibold",children:v})]}),s.jsx("div",{className:"mt-2 text-xs text-safebite-text-secondary",children:s.jsx("p",{children:"Based on U.S. Navy Method"})})]})]})})]})},aPe=()=>{const[t,e]=S.useState(30),[r,n]=S.useState(70),[i,a]=S.useState("average"),[o,l]=S.useState(null),[u,f]=S.useState(null),m=()=>{if(t){const h=220-t,p=208-.7*t,y=207-.7*t,w=Math.round((h+p+y)/3);let b=0;switch(i){case"sedentary":b=-5;break;case"average":b=0;break;case"active":b=5;break;case"athlete":b=10;break}const v=w+b;l(v);const A=v-r,E={Recovery:{min:Math.round(r+A*.5),max:Math.round(r+A*.6)},"Fat Burning":{min:Math.round(r+A*.6),max:Math.round(r+A*.7)},Aerobic:{min:Math.round(r+A*.7),max:Math.round(r+A*.8)},Anaerobic:{min:Math.round(r+A*.8),max:Math.round(r+A*.9)},Maximum:{min:Math.round(r+A*.9),max:v}};f(E),na("heart_rate","calculate")}};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(qn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Heart Rate Zones"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"age",className:"text-safebite-text-secondary",children:"Age"}),s.jsx(At,{id:"age",type:"number",value:t,onChange:h=>e(Number(h.target.value)),className:"sci-fi-input"})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"restingHeartRate",className:"text-safebite-text-secondary",children:"Resting HR (bpm)"}),s.jsx(At,{id:"restingHeartRate",type:"number",value:r,onChange:h=>n(Number(h.target.value)),className:"sci-fi-input"})]})]}),s.jsxs("div",{children:[s.jsx(vt,{htmlFor:"fitnessLevel",className:"text-safebite-text-secondary",children:"Fitness Level"}),s.jsxs(_o,{value:i,onValueChange:a,children:[s.jsx(Es,{className:"sci-fi-input",children:s.jsx(So,{placeholder:"Select fitness level"})}),s.jsxs(As,{children:[s.jsx(Kt,{value:"sedentary",children:"Sedentary"}),s.jsx(Kt,{value:"average",children:"Average"}),s.jsx(Kt,{value:"active",children:"Active"}),s.jsx(Kt,{value:"athlete",children:"Athlete"})]})]})]}),s.jsx(re,{onClick:m,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Calculate Heart Rate Zones"}),o!==null&&u!==null&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-safebite-text-secondary",children:"Max Heart Rate:"}),s.jsxs("span",{className:"text-safebite-text font-semibold",children:[o," bpm"]})]}),s.jsx("div",{className:"text-safebite-text-secondary text-sm font-medium mt-3 mb-1",children:"Training Zones:"}),s.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([h,{min:p,max:y}])=>s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-safebite-text-secondary",children:[h,":"]}),s.jsxs("span",{className:"text-safebite-text",children:[p," - ",y," bpm"]})]},h))})]})]})})]})},sPe=[{id:"fever",label:"Fever"},{id:"cough",label:"Cough"},{id:"headache",label:"Headache"},{id:"sore_throat",label:"Sore Throat"},{id:"fatigue",label:"Fatigue"},{id:"body_aches",label:"Body Aches"},{id:"shortness_of_breath",label:"Shortness of Breath"},{id:"nausea",label:"Nausea"},{id:"diarrhea",label:"Diarrhea"},{id:"loss_of_taste",label:"Loss of Taste/Smell"}],oPe={fever:["Common Cold","Flu","COVID-19"],cough:["Common Cold","Flu","COVID-19","Bronchitis"],headache:["Migraine","Tension Headache","Flu","Dehydration"],sore_throat:["Common Cold","Strep Throat","Flu"],fatigue:["Flu","Anemia","Depression","COVID-19"],body_aches:["Flu","COVID-19","Fibromyalgia"],shortness_of_breath:["Asthma","COVID-19","Anxiety","Pneumonia"],nausea:["Food Poisoning","Migraine","Pregnancy","Gastroenteritis"],diarrhea:["Food Poisoning","Gastroenteritis","IBS","COVID-19"],loss_of_taste:["COVID-19","Common Cold","Sinusitis"]},lPe=()=>{const[t,e]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState(!1),o=(u,f)=>{e(f?[...t,u]:t.filter(m=>m!==u))},l=()=>{if(t.length===0)return;const u={};t.forEach(m=>{(oPe[m]||[]).forEach(p=>{u[p]=(u[p]||0)+1})});const f=Object.entries(u).sort((m,h)=>h[1]-m[1]).map(([m])=>m);n(f.slice(0,3)),a(!0),na("symptom_checker","check")};return s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[s.jsx(Kc,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Symptom Checker"]})}),s.jsx(it,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-safebite-text-secondary text-sm mb-2",children:"Select the symptoms you're experiencing:"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:sPe.map(u=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zC,{id:u.id,checked:t.includes(u.id),onCheckedChange:f=>o(u.id,f===!0)}),s.jsx(vt,{htmlFor:u.id,className:"text-safebite-text-secondary cursor-pointer",children:u.label})]},u.id))}),s.jsx(re,{onClick:l,className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",disabled:t.length===0,children:"Check Symptoms"}),r.length>0&&s.jsxs("div",{className:"mt-4 p-3 rounded-md bg-safebite-card-bg-alt",children:[s.jsx("div",{className:"text-safebite-text font-semibold mb-2",children:"Possible conditions:"}),s.jsx("ul",{className:"space-y-1",children:r.map((u,f)=>s.jsxs("li",{className:"text-safebite-text-secondary",children:["• ",u]},f))}),i&&s.jsxs("div",{className:"mt-3 flex items-start text-xs text-amber-400",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.jsx("span",{children:"This is not a medical diagnosis. Please consult with a healthcare professional for proper evaluation."})]})]})]})})]})},cPe=U.lazy(()=>Oo(()=>import("./BloodPressureAnalyzer-BrLvCoiK.js"),[]).catch(()=>({default:rr}))),uPe=U.lazy(()=>Oo(()=>import("./SleepCalculator-uhWTjLwI.js"),[]).catch(()=>({default:rr}))),dPe=U.lazy(()=>Oo(()=>import("./StressAnalyzer-BVzUe73i.js"),[]).catch(()=>({default:rr}))),fPe=U.lazy(()=>Oo(()=>import("./ExerciseCalorieCalculator-Ct6JsdYZ.js"),[]).catch(()=>({default:rr}))),hPe=U.lazy(()=>Oo(()=>import("./DiseaseRiskAssessment-DcGpb75K.js"),[]).catch(()=>({default:rr}))),mPe=U.lazy(()=>Oo(()=>import("./MedicationReminder-DKUNrLul.js"),[]).catch(()=>({default:rr}))),pPe=U.lazy(()=>Oo(()=>import("./FoodSafetyChecker-Bccw0VML.js"),[]).catch(()=>({default:rr}))),rr=({title:t,icon:e,description:r})=>s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center text-safebite-text",children:[e||s.jsx(Xi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),t||"Health Tool"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:r||"This health tool is currently under development and will be available soon."}),s.jsx("div",{className:"text-center p-4 bg-safebite-card-bg-alt rounded-md",children:s.jsx("p",{className:"text-safebite-teal",children:"Coming Soon"})})]})]}),gPe=()=>{const[t,e]=S.useState("fitness"),[r,n]=S.useState([]),[i,a]=S.useState(""),[o,l]=S.useState([]);ar();const[u,f]=S.useState(!1),[m,h]=S.useState(!1);S.useEffect(()=>{b()},[]);const p=j=>{e(j),na("tab",j),by.trackActivity("healthbox","change-tab",{tab:j})},y=j=>{const N=r.includes(j);n(N?r.filter(T=>T!==j):[...r,j]),na("tool",j),by.trackActivity("healthbox",N?"close-tool":"open-tool",{toolId:j,category:t})},w=async(j,N)=>{try{const O=Wt(We).currentUser;if(!O){console.log("User not logged in, cannot save favorites");return}const k=o.some(D=>D.id===j);let C;k?C=o.filter(D=>D.id!==j):C=[...o,{id:j,category:N,addedAt:Date.now()}],l(C);const M=ir(We),F=Pt(M,"users",O.uid);await Mn(F,{favoriteHealthTools:C},{merge:!0}),na(k?"unfavorite":"favorite",j),by.trackActivity("healthbox",k?"unfavorite-tool":"favorite-tool",{toolId:j,category:N})}catch(T){console.error("Error toggling favorite tool:",T)}},b=async()=>{try{const N=Wt(We).currentUser;if(!N){console.log("User not logged in, cannot load favorites");return}const T=ir(We),O=Pt(T,"users",N.uid),k=await Fr(O);k.exists()&&k.data().favoriteHealthTools&&l(k.data().favoriteHealthTools)}catch(j){console.error("Error loading favorite tools:",j)}},v=j=>o.some(N=>N.id===j),A=(j,N)=>{const O=(E[N]||[]).find(k=>k.id===j);return O?O.name:"Unknown Tool"},E={fitness:[{id:"bmi",name:"BMI Calculator",component:s.jsx(jTe,{})},{id:"ideal-weight",name:"Ideal Weight",component:s.jsx(nPe,{})},{id:"body-fat",name:"Body Fat",component:s.jsx(iPe,{})},{id:"heart-rate",name:"Heart Rate Zones",component:s.jsx(aPe,{})},{id:"exercise-calories",name:"Exercise Calories",component:s.jsx(fPe,{})},{id:"sleep",name:"Sleep Calculator",component:s.jsx(uPe,{})},{id:"fitness-age",name:"Fitness Age",component:s.jsx(rr,{title:"Fitness Age Calculator",icon:s.jsx(Xi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your fitness age based on your physical activity, resting heart rate, and other metrics."})},{id:"vo2-max",name:"VO2 Max Estimator",component:s.jsx(rr,{title:"VO2 Max Estimator",icon:s.jsx(Xi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Estimate your VO2 max (maximal oxygen uptake) based on your fitness level and exercise performance."})},{id:"workout-planner",name:"Workout Planner",component:s.jsx(rr,{title:"Workout Planner",icon:s.jsx(Xi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Create personalized workout plans based on your fitness goals, available equipment, and time constraints."})},{id:"recovery-calculator",name:"Recovery Calculator",component:s.jsx(rr,{title:"Recovery Calculator",icon:s.jsx(oi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate optimal recovery time between workouts based on intensity, duration, and muscle groups targeted."})}],nutrition:[{id:"calories",name:"Calorie Calculator",component:s.jsx(ZTe,{})},{id:"water",name:"Water Intake",component:s.jsx(ePe,{})},{id:"macros",name:"Macro Calculator",component:s.jsx(tPe,{})},{id:"nutrition-score",name:"Nutrition Score",component:s.jsx(rPe,{})},{id:"food-safety",name:"Food Safety Checker",component:s.jsx(pPe,{})},{id:"meal-planner",name:"Meal Planner",component:s.jsx(rr,{title:"Meal Planner",icon:s.jsx(Kd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Plan balanced meals based on your nutritional needs, preferences, and health goals."})},{id:"nutrient-deficiency",name:"Nutrient Deficiency",component:s.jsx(rr,{title:"Nutrient Deficiency Analyzer",icon:s.jsx(Kn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Identify potential nutrient deficiencies based on your diet and symptoms."})},{id:"diet-comparison",name:"Diet Comparison",component:s.jsx(rr,{title:"Diet Comparison Tool",icon:s.jsx(I6,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Compare different diets (keto, vegan, paleo, etc.) and see which one might be best for your health goals."})},{id:"grocery-list",name:"Healthy Grocery List",component:s.jsx(rr,{title:"Healthy Grocery List Generator",icon:s.jsx(Rl,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Generate a healthy grocery list based on your nutritional needs and preferences."})}],health:[{id:"blood-pressure",name:"Blood Pressure",component:s.jsx(cPe,{})},{id:"stress",name:"Stress Analyzer",component:s.jsx(dPe,{})},{id:"disease-risk",name:"Disease Risk",component:s.jsx(hPe,{})},{id:"metabolic-age",name:"Metabolic Age",component:s.jsx(rr,{title:"Metabolic Age Calculator",icon:s.jsx(ui,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your metabolic age based on your BMR (Basal Metabolic Rate) compared to the average for your age group."})},{id:"longevity",name:"Longevity Calculator",component:s.jsx(rr,{title:"Longevity Calculator",icon:s.jsx(oi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Estimate your life expectancy based on lifestyle factors, family history, and health metrics."})},{id:"biological-age",name:"Biological Age",component:s.jsx(rr,{title:"Biological Age Calculator",icon:s.jsx(HT,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your biological age based on various biomarkers and lifestyle factors."})},{id:"health-score",name:"Health Score",component:s.jsx(rr,{title:"Health Score Calculator",icon:s.jsx(qn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Get a comprehensive health score based on various health metrics and lifestyle factors."})},{id:"immunity-score",name:"Immunity Score",component:s.jsx(rr,{title:"Immunity Score Calculator",icon:s.jsx(fQ,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Assess your immune system strength based on lifestyle, nutrition, and health factors."})}],medical:[{id:"symptom-checker",name:"Symptom Checker",component:s.jsx(lPe,{})},{id:"medication-reminder",name:"Medication Reminder",component:s.jsx(mPe,{})},{id:"covid-tracker",name:"COVID-19 Tracker",component:s.jsx(rr,{title:"COVID-19 Tracker",icon:s.jsx(MY,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Track COVID-19 statistics and vaccination data worldwide using Disease.sh API."})},{id:"drug-interaction",name:"Drug Interaction",component:s.jsx(rr,{title:"Drug Interaction Checker",icon:s.jsx(Kn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Check for potential interactions between medications, supplements, and foods."})},{id:"first-aid",name:"First Aid Guide",component:s.jsx(rr,{title:"First Aid Guide",icon:s.jsx(qn,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Step-by-step guides for common first aid situations and emergencies."})},{id:"vaccination-tracker",name:"Vaccination Tracker",component:s.jsx(rr,{title:"Vaccination Tracker",icon:s.jsx(hQ,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Track your vaccinations and get reminders for boosters and recommended vaccines."})},{id:"medical-id",name:"Medical ID Card",component:s.jsx(rr,{title:"Medical ID Card Generator",icon:s.jsx(yd,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Create a digital medical ID card with important health information for emergencies."})}],lifestyle:[{id:"habit-tracker",name:"Habit Tracker",component:s.jsx(rr,{title:"Habit Tracker",icon:s.jsx(Rl,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Track your daily habits and build healthy routines with reminders and progress tracking."})},{id:"screen-time",name:"Screen Time",component:s.jsx(rr,{title:"Screen Time Calculator",icon:s.jsx(oi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate and track your screen time and get recommendations for digital wellbeing."})},{id:"posture-reminder",name:"Posture Reminder",component:s.jsx(rr,{title:"Posture Reminder",icon:s.jsx(Xi,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Set reminders to check and correct your posture throughout the day."})},{id:"blue-light",name:"Blue Light Calculator",component:s.jsx(rr,{title:"Blue Light Exposure Calculator",icon:s.jsx(L6,{className:"mr-2 h-5 w-5 text-safebite-teal"}),description:"Calculate your daily blue light exposure and get recommendations for eye health."})}]};return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 via-red-500 to-yellow-500 text-white py-1.5 px-4 flex items-center justify-center z-50",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium",children:[s.jsx(cs,{className:"h-4 w-4 text-yellow-300"}),s.jsx("span",{children:"SafeBite v2.1 - Under Active Development"}),s.jsx(cs,{className:"h-4 w-4 text-yellow-300"})]})}),s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"HealthBox"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"30+ health and wellness calculators and tools to help you achieve your health goals"})]}),s.jsx("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:s.jsxs(re,{variant:"outline",className:"flex items-center",onClick:()=>h(!m),children:[s.jsx(gE,{className:"mr-2 h-4 w-4"}),"Dashboard Settings"]})})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-safebite-text-secondary"}),s.jsx(At,{type:"text",placeholder:"Search health tools...",className:"pl-10 bg-safebite-card-bg border-safebite-card-bg-alt",value:i,onChange:j=>a(j.target.value)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(n0,{id:"favorites-only",checked:u,onCheckedChange:f}),s.jsx(vt,{htmlFor:"favorites-only",className:"text-safebite-text",children:"Show favorites only"})]})]}),m&&s.jsxs(ke,{className:"mb-6 border-safebite-teal/30 bg-safebite-card-bg",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"text-safebite-text flex items-center",children:[s.jsx(gE,{className:"mr-2 h-5 w-5 text-safebite-teal"}),"Dashboard Settings"]})}),s.jsxs(it,{children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Select your favorite health tools to display on your dashboard. You can add up to 4 tools."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("span",{className:"text-safebite-text",children:A(j.id,j.category)}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>w(j.id,j.category),className:"text-red-500 hover:text-red-600 hover:bg-red-500/10",children:s.jsx(D6,{className:"h-4 w-4"})})]},j.id)),o.length===0&&s.jsx("div",{className:"col-span-full text-center py-4 text-safebite-text-secondary",children:"No favorite tools selected. Add tools by clicking the star icon on any tool."})]})]})]}),s.jsxs(To,{defaultValue:"fitness",className:"space-y-6",onValueChange:p,children:[s.jsx("div",{className:"sci-fi-card p-4 overflow-x-auto",children:s.jsxs(Ps,{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[s.jsxs(Xt,{value:"fitness",className:"flex items-center",children:[s.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Fitness"]}),s.jsxs(Xt,{value:"nutrition",className:"flex items-center",children:[s.jsx(Kd,{className:"mr-2 h-4 w-4"}),"Nutrition"]}),s.jsxs(Xt,{value:"health",className:"flex items-center",children:[s.jsx(qn,{className:"mr-2 h-4 w-4"}),"Health"]}),s.jsxs(Xt,{value:"medical",className:"flex items-center",children:[s.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Medical"]}),s.jsxs(Xt,{value:"lifestyle",className:"flex items-center",children:[s.jsx(RY,{className:"mr-2 h-4 w-4"}),"Lifestyle"]})]})}),s.jsxs("div",{className:"sci-fi-card p-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Available Tools"}),s.jsxs("div",{className:"healthbox-grid",children:[E[t].filter(j=>i?j.name.toLowerCase().includes(i.toLowerCase()):u?v(j.id):!0).map(j=>s.jsxs(ke,{className:`border ${r.includes(j.id)?"border-safebite-teal":"border-safebite-card-bg-alt"} hover:border-safebite-teal/70 transition-colors cursor-pointer`,onClick:()=>y(j.id),children:[s.jsxs(pt,{className:"p-4 pb-2 flex flex-row items-center justify-between",children:[s.jsx(ht,{className:"text-md font-medium text-safebite-text",children:j.name}),s.jsx(re,{variant:"ghost",size:"sm",className:`p-1 h-8 w-8 ${v(j.id)?"text-yellow-500":"text-safebite-text-secondary"}`,onClick:N=>{N.stopPropagation(),w(j.id,t)},children:s.jsx(ea,{className:`h-5 w-5 ${v(j.id)?"fill-yellow-500":""}`})})]}),s.jsx(it,{className:"p-4 pt-0",children:r.includes(j.id)&&s.jsx("div",{className:"mt-4",children:s.jsx(S.Suspense,{fallback:s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(kr,{className:"h-6 w-6 animate-spin text-safebite-teal"})}),children:j.component})})})]},j.id)),E[t].filter(j=>i?j.name.toLowerCase().includes(i.toLowerCase()):u?v(j.id):!0).length===0&&s.jsxs("div",{className:"col-span-full text-center py-8",children:[s.jsx("div",{className:"text-safebite-text-secondary mb-2",children:i?s.jsxs(s.Fragment,{children:['No tools match your search "',i,'"']}):u?s.jsx(s.Fragment,{children:"No favorite tools in this category. Add favorites by clicking the star icon."}):s.jsx(s.Fragment,{children:"No tools available in this category"})}),(i||u)&&s.jsx(re,{variant:"outline",className:"mt-2",onClick:()=>{a(""),f(!1)},children:"Clear Filters"})]})]})]}),r.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Your Selected Tools"}),s.jsx("div",{className:"healthbox-grid",children:r.map(j=>{const N=E[t].find(T=>T.id===j);return N?s.jsx("div",{className:"sci-fi-card pulse-animation",children:N.component},j):null})})]}),r.length===0&&s.jsxs("div",{className:"text-center p-12 sci-fi-card",children:[s.jsx(Xi,{className:"h-12 w-12 text-safebite-teal mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-2",children:"No Tools Selected"}),s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Select one or more tools from the options above to get started"})]})]}),s.jsxs("div",{className:"mt-8 p-4 sci-fi-card",children:[s.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Health Data Integration"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Connect your health devices and apps to get personalized recommendations and insights."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-safebite-card-bg-alt rounded-md flex items-center hover:bg-safebite-card-bg-alt/80 transition-colors cursor-pointer",children:[s.jsx(Xi,{className:"h-5 w-5 text-safebite-teal mr-2"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Fitness Trackers"})]}),s.jsxs("div",{className:"p-4 bg-safebite-card-bg-alt rounded-md flex items-center hover:bg-safebite-card-bg-alt/80 transition-colors cursor-pointer",children:[s.jsx(qn,{className:"h-5 w-5 text-safebite-teal mr-2"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Heart Rate Monitors"})]}),s.jsxs("div",{className:"p-4 bg-safebite-card-bg-alt rounded-md flex items-center hover:bg-safebite-card-bg-alt/80 transition-colors cursor-pointer",children:[s.jsx(WT,{className:"h-5 w-5 text-safebite-teal mr-2"}),s.jsx("span",{className:"text-safebite-text-secondary",children:"Smart Scales"})]})]})]}),s.jsx("div",{className:"text-xs text-safebite-text-secondary mt-6 text-right",children:"Created by Aditya Shenvi | SafeBite v2.2"})]})})]})},vPe=(t,e,r)=>new Promise(n=>{setTimeout(()=>{const i=[{name:"Chia Seeds",description:"Nutrient-dense seeds high in omega-3 fatty acids, fiber, and protein.",benefits:"Supports heart health, digestion, and provides sustained energy.",category:"superfoods"},{name:"Turmeric",description:"Powerful anti-inflammatory spice with curcumin as the active ingredient.",benefits:"Reduces inflammation, supports joint health, and has antioxidant properties.",category:"spices"},{name:"Kefir",description:"Fermented dairy drink rich in probiotics and protein.",benefits:"Supports gut health, immune function, and provides calcium.",category:"dairy"}],a={vegan:[{name:"Nutritional Yeast",description:"Deactivated yeast with a cheesy flavor, rich in B vitamins.",benefits:"Provides vitamin B12, protein, and adds savory flavor to dishes.",category:"vegan"},{name:"Tempeh",description:"Fermented soybean cake with a firm texture and nutty flavor.",benefits:"High in protein, probiotics, and contains all essential amino acids.",category:"vegan"}],vegetarian:[{name:"Greek Yogurt",description:"Strained yogurt with higher protein content than regular yogurt.",benefits:"Rich in protein, probiotics, and calcium for gut and bone health.",category:"dairy"},{name:"Cottage Cheese",description:"Fresh cheese curd product with a mild flavor.",benefits:"High in protein, low in calories, and contains casein protein for slow digestion.",category:"dairy"}],keto:[{name:"MCT Oil",description:"Medium-chain triglyceride oil derived from coconut oil.",benefits:"Quickly converted to ketones, provides energy, and supports ketosis.",category:"oils"},{name:"Macadamia Nuts",description:"High-fat, low-carb nuts with a buttery flavor.",benefits:"Rich in monounsaturated fats, low in carbs, and supports heart health.",category:"nuts"}],paleo:[{name:"Grass-Fed Beef",description:"Beef from cattle fed primarily grass instead of grain.",benefits:"Higher in omega-3s, CLA, and vitamins compared to conventional beef.",category:"meats"},{name:"Coconut Flour",description:"Grain-free flour alternative made from dried coconut meat.",benefits:"High in fiber, low in carbs, and suitable for grain-free baking.",category:"flours"}]},o={"weight loss":[{name:"Green Tea Extract",description:"Concentrated form of green tea rich in catechins.",benefits:"May boost metabolism, increase fat oxidation, and provide antioxidants.",category:"supplements"},{name:"Konjac Noodles",description:"Low-calorie, high-fiber noodles made from konjac yam.",benefits:"Very low in calories, high in glucomannan fiber, and promotes fullness.",category:"pasta alternatives"}],"muscle gain":[{name:"Whey Protein Isolate",description:"Highly filtered whey protein with minimal fat and lactose.",benefits:"Fast-absorbing protein source, rich in BCAAs for muscle recovery and growth.",category:"supplements"},{name:"Tart Cherry Juice",description:"Juice from tart cherries with anti-inflammatory properties.",benefits:"May reduce exercise-induced muscle soreness and improve recovery.",category:"beverages"}],"general health":[{name:"Fermented Foods Variety Pack",description:"Assortment of kimchi, sauerkraut, and pickled vegetables.",benefits:"Rich in probiotics, supports gut health, and enhances immune function.",category:"fermented foods"},{name:"Mixed Berry Blend",description:"Frozen blend of strawberries, blueberries, raspberries, and blackberries.",benefits:"High in antioxidants, fiber, and vitamin C for overall health.",category:"fruits"}]};let l=[...i],u="These products are generally beneficial for most dietary patterns and health goals.";if(e&&a[e.toLowerCase()]&&(l=[...a[e.toLowerCase()],...l].slice(0,5),u=`Products selected specifically for ${e} dietary pattern, focusing on essential nutrients that may be needed.`),r){const f=Object.keys(o).find(m=>r.toLowerCase().includes(m));f&&o[f]&&(l=[...o[f],...l].slice(0,5),u+=` Also included products that support your ${r} goal.`)}t.length>0&&(u+=` Considered your preferences for ${t.join(", ")}.`),n({products:l.slice(0,5),explanation:u})},1500)}),yPe=({userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n=!1})=>{const[i,a]=S.useState(null),[o,l]=S.useState(!1),[u,f]=S.useState(null),{toast:m}=ar();return S.useEffect(()=>{(async()=>{if(!(!t.length&&!e&&!r)){l(!0),f(null);try{tx("gemini_product_recommendations",{userPreferences:t,dietaryInfo:e,healthGoals:r,isGuest:n});const p=await vPe(t,e,r);a(p)}catch(p){console.error("Error getting AI recommendations:",p),f("Failed to generate AI recommendations. Please try again later."),m({title:"AI Recommendation Error",description:"Could not generate personalized recommendations.",variant:"destructive"})}finally{l(!1)}}})()},[t,e,r,m,n]),o?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsxs(pt,{children:[s.jsxs(ht,{className:"flex items-center",children:[s.jsx(cs,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),s.jsx(tu,{children:"Generating personalized recommendations..."})]}),s.jsx(it,{className:"flex justify-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal mb-4"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"Our AI is analyzing your preferences and health goals"})]})})]}):u?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(vs,{className:"h-5 w-5 mr-2 text-red-500"}),"AI Recommendations Unavailable"]})}),s.jsx(it,{children:s.jsx("p",{className:"text-safebite-text-secondary",children:u})}),s.jsx(bs,{children:s.jsx(re,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})})]}):i?s.jsxs(ke,{className:"sci-fi-card",children:[s.jsxs(pt,{children:[s.jsxs(ht,{className:"flex items-center",children:[s.jsx(cs,{className:"h-5 w-5 mr-2 text-safebite-teal"}),"AI Product Recommendations"]}),s.jsx(tu,{children:"Personalized suggestions based on your profile"})]}),s.jsxs(it,{children:[s.jsx("div",{className:"mb-4 p-3 bg-safebite-card-bg-alt rounded-md border border-safebite-card-bg-alt",children:s.jsxs("p",{className:"text-sm text-safebite-text-secondary italic",children:['"',i.explanation,'"']})}),s.jsx("div",{className:"space-y-3",children:i.products.map((h,p)=>s.jsx("div",{className:"p-3 border border-safebite-card-bg-alt rounded-md hover:border-safebite-teal/50 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-safebite-teal/20 flex items-center justify-center mr-3 mt-1",children:s.jsx(Sy,{className:"h-4 w-4 text-safebite-teal"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-safebite-text",children:h.name}),s.jsx("p",{className:"text-xs text-safebite-text-secondary mb-1",children:h.description}),s.jsx("p",{className:"text-xs text-safebite-teal",children:h.benefits})]})]})},p))})]}),s.jsx(bs,{children:s.jsx("div",{className:"text-xs text-safebite-text-secondary",children:s.jsx("p",{children:"Powered by AI - Recommendations based on your profile data"})})})]}):null},xPe=({className:t="",onStatusChange:e})=>{const[r,n]=S.useState(null),[i,a]=S.useState(Ci),[o,l]=S.useState(!1),[u,f]=S.useState(null),{toast:m}=ar(),h=async()=>{l(!0);try{const{isAvailable:p,activeUrl:y}=await bW();n(p),a(y),f(new Date),e&&e(p,y),m({title:p?"API is online":"API is offline",description:p?`Connected to the SafeBite API (${y===Ci?"Primary":"Backup"})`:"Unable to connect to any API server",variant:p?"default":"destructive"})}catch(p){console.error("Error checking API status:",p),n(!1),e&&e(!1,Ci)}finally{l(!1)}};return S.useEffect(()=>{h();const p=setInterval(()=>{h()},5*60*1e3);return()=>clearInterval(p)},[]),s.jsxs("div",{className:`flex items-center gap-1 ${t}`,children:[s.jsx(Ad,{children:s.jsxs(gm,{children:[s.jsx(vm,{asChild:!0,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${r===null?"bg-gray-400 animate-pulse":r?"bg-green-500":"bg-red-500"}`}),s.jsxs("span",{className:"ml-1 text-xs text-safebite-text-secondary",children:["API ",r===null?"...":r?"Live":"Offline"]})]})}),s.jsx(Td,{side:"bottom",children:s.jsxs("div",{className:"text-xs",children:[s.jsxs("p",{className:"font-medium",children:["API Status: ",r?"Online":"Offline"]}),r&&s.jsxs("p",{className:"text-safebite-text-secondary",children:["Using ",i===Ci?"Primary":"Backup"," Server"]}),u&&s.jsxs("p",{className:"text-safebite-text-secondary",children:["Last checked: ",u.toLocaleTimeString()]})]})})]})}),s.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:h,disabled:o,children:s.jsx(U6,{className:`h-3 w-3 ${o?"animate-spin":""}`})}),s.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",asChild:!0,children:s.jsx("a",{href:`${i}/status`,target:"_blank",rel:"noopener noreferrer",children:s.jsx(xd,{className:"h-3 w-3"})})})]})},wG=({currentPage:t,totalPages:e,onPageChange:r,totalItems:n,itemsPerPage:i})=>{if(e<=1)return null;const a=()=>{const u=[];if(e<=5)for(let f=1;f<=e;f++)u.push(f);else{u.push(1);let f=Math.max(2,t-1),m=Math.min(e-1,t+1);t<=3&&(m=Math.min(e-1,4)),t>=e-2&&(f=Math.max(2,e-3)),f>2&&u.push("...");for(let h=f;h<=m;h++)u.push(h);m<e-1&&u.push("..."),u.push(e)}return u},o=l=>{l!==t&&l>=1&&l<=e&&r(l)};return s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(1),disabled:t===1,children:s.jsx(VY,{className:"h-4 w-4"})}),s.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t-1),disabled:t===1,children:s.jsx(FY,{className:"h-4 w-4"})}),a().map((l,u)=>l==="..."?s.jsx("span",{className:"px-2 text-safebite-text-secondary",children:"..."},`ellipsis-${u}`):s.jsx(re,{variant:t===l?"default":"outline",size:"icon",className:`h-8 w-8 ${t===l?"bg-safebite-teal text-safebite-dark-blue":""}`,onClick:()=>o(l),children:l},`page-${l}`)),s.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(t+1),disabled:t===e,children:s.jsx(R6,{className:"h-4 w-4"})}),s.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o(e),disabled:t===e,children:s.jsx(BY,{className:"h-4 w-4"})})]}),n!==void 0&&i!==void 0&&s.jsxs("div",{className:"text-xs text-safebite-text-secondary",children:["Showing ",Math.min((t-1)*i+1,n)," - ",Math.min(t*i,n)," of ",n," items"]})]})},bPe=()=>{const t=Gr(),{toast:e}=ar(),r=Wt(We),n=ir(We),{isGuest:i}=lg(),[a,o]=S.useState([]),[l,u]=S.useState([]),[f,m]=S.useState(!0),[h,p]=S.useState(""),[y,w]=S.useState("all"),[b,v]=S.useState("healthScore"),[A,E]=S.useState(1),[j,N]=S.useState(1),[T,O]=S.useState(0),k=20,[C,M]=S.useState([]),[F,D]=S.useState(!0),[V,$]=S.useState(""),[H,G]=S.useState("all"),[Q,Y]=S.useState(1),[W,J]=S.useState(1),[ee,q]=S.useState(0),[X,se]=S.useState([]),[xe,Ae]=S.useState(!1),[Te,me]=S.useState(""),[Pe,ue]=S.useState([]),[ve,_e]=S.useState("products"),le=[{id:"all",name:"All Products"},{id:"snacks",name:"Snacks"},{id:"beverages",name:"Beverages"},{id:"dairy",name:"Dairy"},{id:"grains",name:"Grains & Cereals"},{id:"protein",name:"Protein Foods"},{id:"fruits",name:"Fruits & Vegetables"}],Ye=S.useCallback(Oe=>i?(me(Oe),Ae(!0),!0):!1,[i,me,Ae]);S.useEffect(()=>{(async()=>{if(r.currentUser&&!i)try{const Ze=await Fr(Pt(n,"users",r.currentUser.uid));if(Ze.exists()){const rt=Ze.data(),$t=rt.dietary_preferences||rt.dietaryPreferences||[],Ie=rt.health_goals||rt.healthGoals||"",De=rt.allergens||[],Se=[...Array.isArray($t)?$t:[$t],Ie,...De].filter(Boolean);se(Se);const Ue=rt.favoriteProducts||[];ue(Ue)}}catch(Ze){console.error("Error fetching user preferences:",Ze)}})()},[r,n,i]);const[Ke,ut]=S.useState(null),st=async(Oe=1,Ze="")=>{m(!0);try{tx("product_page_view",{isGuest:i,page:Oe,search:Ze});try{console.log(`Directly fetching from dataset: ${Ci}/dataset/products`);const rt=new AbortController,$t=setTimeout(()=>rt.abort(),15e3);let Ie=`${Ci}/dataset/products?page=${Oe}&limit=${k}`;Ze&&(Ie+=`&search=${encodeURIComponent(Ze)}`);const De=await fetch(Ie,{signal:rt.signal,method:"GET",headers:{Accept:"application/json"}});if(clearTimeout($t),!De.ok)throw new Error(`Dataset returned status ${De.status}`);const Se=await De.json();console.log("Dataset response:",Se);let Ue;if(Array.isArray(Se))Ue={products:Se,total:Se.length,page:Oe,totalPages:Math.ceil(Se.length/k)};else if(Se.products&&Array.isArray(Se.products))Ue={products:Se.products,total:Se.total||Se.products.length,page:Se.page||Oe,totalPages:Se.totalPages||Math.ceil((Se.total||Se.products.length)/k)};else throw new Error("Invalid response format from dataset");return o(Ue.products),u(Ue.products),E(Ue.page),N(Ue.totalPages),O(Ue.total),ut(!0),console.log("Successfully loaded products from dataset"),Ue}catch(rt){return console.error("Direct dataset call failed:",rt),ut(!1),e({title:"Dataset Unavailable",description:"Could not connect to the product dataset.",variant:"destructive"}),o([]),u([]),E(1),N(1),O(0),{products:[],total:0,page:1,totalPages:1}}}catch(rt){return console.error("Error fetching products:",rt),ut(!1),e({title:"Dataset Unavailable",description:"Could not connect to the product dataset.",variant:"destructive"}),o([]),u([]),E(1),N(1),O(0),{products:[],total:0,page:1,totalPages:1}}finally{m(!1)}},mt=async(Oe=1,Ze="")=>{D(!0);try{tx("grocery_page_view",{isGuest:i,page:Oe,search:Ze});const rt={products:FF.slice(0,4),total:4,page:Oe,totalPages:1};try{console.log(`Directly fetching from dataset: ${Ci}/dataset/groceryProducts`);const $t=new AbortController,Ie=setTimeout(()=>$t.abort(),15e3);let De=`${Ci}/dataset/groceryProducts?page=${Oe}&limit=${k}`;Ze&&(De+=`&search=${encodeURIComponent(Ze)}`);const Se=await fetch(De,{signal:$t.signal,method:"GET",headers:{Accept:"application/json"}});if(clearTimeout(Ie),!Se.ok)throw new Error(`API returned status ${Se.status}`);const Ue=await Se.json();console.log("Grocery API response:",Ue);let kt;if(Array.isArray(Ue))kt={products:Ue,total:Ue.length,page:Oe,totalPages:Math.ceil(Ue.length/k)};else if(Ue.products&&Array.isArray(Ue.products))kt={products:Ue.products,total:Ue.total||Ue.products.length,page:Ue.page||Oe,totalPages:Ue.totalPages||Math.ceil((Ue.total||Ue.products.length)/k)};else throw new Error("Invalid response format from API");return M(kt.products),Y(kt.page),J(kt.totalPages),q(kt.total),ut(!0),console.log("Successfully loaded grocery products from API"),kt}catch($t){console.error("Direct grocery API call failed:",$t),console.log("Falling back to utility function with status check");const Ie=await SAe("groceryProducts",Oe,k,Ze,rt);return M(Ie.products),Y(Ie.page),J(Ie.totalPages),q(Ie.total),Ie}}catch(rt){console.error("Error fetching grocery products:",rt);const $t=FF.slice(0,4);return M($t),Y(1),J(1),q(4),{products:$t,total:4,page:1,totalPages:1}}finally{D(!1)}};S.useEffect(()=>{st(1,h)},[h]),S.useEffect(()=>{ve==="grocery"&&C.length===0&&mt(1,V)},[ve,V,C]);const lr=Oe=>{ut(Oe)},Ct=S.useCallback(()=>{if(y==="all")st(1,h);else{let Oe=[...a];if(Oe=Oe.filter(Ze=>Ze.category.toLowerCase()===y.toLowerCase()),h){const Ze=h.toLowerCase();Oe=Oe.filter(rt=>rt.name.toLowerCase().includes(Ze)||rt.brand.toLowerCase().includes(Ze)||rt.description.toLowerCase().includes(Ze)||rt.tags.some($t=>$t.toLowerCase().includes(Ze)))}u(Oe)}},[y,h,a,st,u]);S.useEffect(()=>{if(y==="all")u(a);else{const Oe=a.filter(Ze=>Ze.category.toLowerCase()===y.toLowerCase());u(Oe)}},[y,a,u]),S.useEffect(()=>{let Oe=[...l];Oe.sort((Ze,rt)=>{switch(b){case"healthScore":return rt.healthScore-Ze.healthScore;case"price":return Ze.price?rt.price?rt.price-Ze.price:-1:1;case"name":return Ze.name.localeCompare(rt.name);default:return 0}}),u(Oe)},[b,l,u]);const Lt=async Oe=>{if(!Ye("favorites"))try{const Ze=Pe.includes(Oe)?Pe.filter(rt=>rt!==Oe):[...Pe,Oe];ue(Ze),r.currentUser&&await Xm(Pt(n,"users",r.currentUser.uid),{favoriteProducts:Ze})}catch(Ze){console.error("Error toggling favorite:",Ze),e({title:"Error",description:"Could not update favorites.",variant:"destructive"})}};return s.jsxs("div",{className:"flex min-h-screen bg-safebite-dark-blue",children:[s.jsx(_s,{}),s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[f?s.jsx(kr,{className:"animate-spin h-8 w-8 text-white"}):s.jsxs(s.Fragment,{children:[s.jsx(xPe,{apiAvailable:Ke,onApiStatusChange:lr}),s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(At,{placeholder:"Search products...",value:h,onChange:Oe=>p(Oe.target.value),className:"w-full"}),s.jsx(re,{onClick:Ct,className:"absolute top-1/2 right-2 -translate-y-1/2",children:s.jsx(wn,{className:"h-4 w-4"})})]})]}),s.jsxs(To,{defaultValue:"products",className:"mb-8",children:[s.jsxs(Ps,{className:"grid grid-cols-3 mb-4",children:[s.jsxs(Xt,{value:"products",className:"flex items-center",children:[s.jsx(H6,{className:"h-4 w-4 mr-2"})," Products"]}),s.jsxs(Xt,{value:"recipes",className:"flex items-center",children:[s.jsx(Kd,{className:"h-4 w-4 mr-2"})," Recipes"]}),s.jsxs(Xt,{value:"grocery",className:"flex items-center",children:[s.jsx(hE,{className:"h-4 w-4 mr-2"})," Grocery"]})]}),s.jsxs(_r,{value:"products",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("select",{value:y,onChange:Oe=>w(Oe.target.value),className:"mb-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-safebite-blue focus:border-transparent",children:le.map(Oe=>s.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))}),s.jsx(re,{onClick:()=>{v("healthScore")},className:`mb-2 ${b==="healthScore"?"bg-safebite-blue text-white":"bg-gray-200 text-gray-700"}`,children:"Health Score"}),s.jsx(re,{onClick:()=>{v("price")},className:`mb-2 ${b==="price"?"bg-safebite-blue text-white":"bg-gray-200 text-gray-700"}`,children:"Price"}),s.jsx(re,{onClick:()=>{v("name")},className:`mb-2 ${b==="name"?"bg-safebite-blue text-white":"bg-gray-200 text-gray-700"}`,children:"Name"})]}),f?s.jsx(kr,{className:"animate-spin h-8 w-8 text-white"}):l.length===0?s.jsx(ke,{className:"sci-fi-card p-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Kn,{className:"h-8 w-8 text-safebite-teal mb-4"}),s.jsx("p",{className:"text-lg font-medium text-safebite-text",children:"No products found."}),s.jsx(re,{onClick:()=>{p(""),Ct()},className:"mt-4 bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Clear Search"})]})}):s.jsx("div",{className:"products-grid",children:l.map(Oe=>s.jsxs(ke,{className:"sci-fi-card overflow-hidden flex flex-col h-full hover:shadow-neon-teal transition-all duration-300",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden bg-safebite-card-bg-alt",children:[s.jsx("img",{src:Oe.imageUrl,alt:Oe.name,className:"object-cover w-full h-full"}),s.jsx(re,{onClick:Ze=>{Ze.stopPropagation(),Lt(Oe._id)},className:"absolute top-2 right-2 bg-transparent hover:bg-gray-200 text-white rounded-full p-1",children:Pe.includes(Oe._id)?s.jsx(Rl,{className:"h-4 w-4"}):s.jsx(qn,{className:"h-4 w-4"})})]}),s.jsxs(it,{className:"flex-grow p-4",children:[s.jsx(ht,{children:Oe.name}),s.jsx(tu,{className:"text-sm text-gray-500",children:Oe.brand}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Oe.dietaryInfo.slice(0,3).map((Ze,rt)=>s.jsx(St,{className:"bg-gray-200 text-gray-700",children:Ze},rt))})]}),s.jsx(bs,{className:"p-4 pt-0",children:s.jsxs(re,{onClick:()=>{t(`/product/${Oe._id}`)},className:"w-full bg-safebite-blue text-white",children:["View Details ",s.jsx(R6,{className:"h-4 w-4 ml-2"})]})})]},Oe._id))}),!f&&l.length>0&&s.jsx(wG,{currentPage:A,totalPages:j,onPageChange:Oe=>{E(Oe),st(Oe,h)}})]}),s.jsx(_r,{value:"recipes",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 mb-6",children:s.jsx(yPe,{userPreferences:X})})}),s.jsx(_r,{value:"grocery",children:s.jsxs(ke,{className:"sci-fi-card mb-6",children:[s.jsx(pt,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(hE,{className:"h-4 w-4 mr-2"})," Grocery Items"]})}),s.jsx(it,{}),s.jsx(bs,{children:s.jsx(re,{className:"w-full bg-safebite-blue text-white",children:"View All"})})]})})]})]}),xe&&s.jsx(tb,{isOpen:xe,onClose:()=>Ae(!1),feature:Te})]})]})},oE="https://safebite-backend.onrender.com",wPe=()=>{const{toast:t}=ar(),[e,r]=S.useState([]),[n,i]=S.useState(!0),[a,o]=S.useState(""),[l,u]=S.useState(1),[f,m]=S.useState(1),[h,p]=S.useState("products"),y=20;S.useEffect(()=>{w()},[l,a,h]);const w=async()=>{i(!0);try{let k="";a?k=`${oE}/${h}/search?q=${encodeURIComponent(a)}`:k=`${oE}/${h}`;const C=await fetch(k);if(!C.ok)throw new Error(`API returned status ${C.status}`);const M=await C.json();r(M),m(Math.ceil(M.length/y)),by.trackActivity("product","view-products",{page:l,search:a,type:h,count:M.length})}catch(k){console.error("Error fetching products:",k),t({title:"Error",description:"Failed to load products. Please try again later.",variant:"destructive"}),r([])}finally{i(!1)}},b=k=>{k.preventDefault(),u(1),w()},v=k=>{p(k),u(1),o("")},A=k=>h==="products"?k.name||"Unknown Product":k.ProductName||"Unknown Product",E=k=>h==="products"?k.brand||"":k.Brand||"",j=k=>h==="products"?k.category||"":k.Category||"",N=k=>k.healthScore!==void 0?k.healthScore:h==="grocery"?Math.floor(Math.random()*10)+1:5,T=k=>{let C="bg-yellow-500",M=s.jsx(ys,{className:"h-4 w-4"});return k>=8?(C="bg-green-500",M=s.jsx(Rl,{className:"h-4 w-4"})):k<=4&&(C="bg-red-500",M=s.jsx(Kn,{className:"h-4 w-4"})),s.jsxs(St,{className:`${C} text-white flex items-center gap-1`,children:[M,k,"/10"]})},O=()=>{const k=(l-1)*y,C=k+y;return e.slice(k,C)};return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx(_s,{}),s.jsx("main",{className:"md:ml-64 min-h-screen",children:s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Product Search"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Search for food products and get detailed nutritional information"})]}),s.jsxs("div",{className:"flex mb-6 border-b border-safebite-card-bg-alt",children:[s.jsx("button",{className:`px-4 py-2 font-medium ${h==="products"?"text-safebite-teal border-b-2 border-safebite-teal":"text-safebite-text-secondary hover:text-safebite-text"}`,onClick:()=>v("products"),children:"Products"}),s.jsx("button",{className:`px-4 py-2 font-medium ${h==="grocery"?"text-safebite-teal border-b-2 border-safebite-teal":"text-safebite-text-secondary hover:text-safebite-text"}`,onClick:()=>v("grocery"),children:"Grocery Products"})]}),s.jsx("form",{onSubmit:b,className:"mb-6",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-safebite-text-secondary"}),s.jsx(At,{type:"text",placeholder:"Search products...",value:a,onChange:k=>o(k.target.value),className:"pl-10 bg-safebite-card-bg border-safebite-card-bg-alt"})]}),s.jsx(re,{type:"submit",className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Search"})]})}),s.jsxs("div",{className:"mb-4 p-4 bg-safebite-card-bg rounded-md",children:[s.jsx("h3",{className:"text-safebite-text font-medium mb-2",children:"API Connection"}),s.jsxs("p",{className:"text-safebite-text-secondary text-sm",children:["Connected to: ",s.jsx("code",{className:"bg-safebite-card-bg-alt px-2 py-1 rounded",children:oE})]}),s.jsxs("p",{className:"text-safebite-text-secondary text-sm mt-1",children:["Endpoint: ",s.jsxs("code",{className:"bg-safebite-card-bg-alt px-2 py-1 rounded",children:["/",h,a?`/search?q=${a}`:""]})]})]}),n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(kr,{className:"h-8 w-8 animate-spin text-safebite-teal"})}):e.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4 text-safebite-text-secondary",children:["Showing ",O().length," of ",e.length," products"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:O().map(k=>s.jsxs(ke,{className:"sci-fi-card hover:border-safebite-teal/50 transition-all duration-300",children:[s.jsxs(pt,{className:"pb-2",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(ht,{className:"text-lg font-medium text-safebite-text",children:A(k)}),T(N(k))]}),E(k)&&s.jsx("p",{className:"text-sm text-safebite-text-secondary",children:E(k)})]}),s.jsxs(it,{children:[j(k)&&s.jsx(St,{variant:"outline",className:"mb-2",children:j(k)}),s.jsxs("div",{className:"flex justify-between mt-4",children:[s.jsx(re,{variant:"outline",size:"sm",className:"text-safebite-text-secondary hover:text-safebite-text",children:"View Details"}),s.jsx(re,{variant:"ghost",size:"sm",className:"text-safebite-teal hover:text-safebite-teal/80 hover:bg-safebite-teal/10",children:s.jsx(qn,{className:"h-4 w-4"})})]})]})]},k._id))}),f>1&&s.jsx(wG,{currentPage:l,totalPages:f,onPageChange:u})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mb-4 text-safebite-text-secondary",children:"No products found. Try a different search term."}),s.jsx(re,{variant:"outline",onClick:()=>{o(""),u(1),w()},children:"Clear Search"})]})]})})]})},_Pe=()=>{const t=Eo();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safebite-dark-blue px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-6xl font-bold gradient-text mb-4",children:"404"}),s.jsxs("div",{className:"mb-8 inline-block p-4 rounded-lg bg-safebite-card-bg border border-safebite-card-bg-alt",children:[s.jsx("p",{className:"text-xl text-safebite-text mb-4",children:"Page not found"}),s.jsx("p",{className:"text-safebite-text-secondary mb-2",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",asChild:!0,children:s.jsxs(Ht,{to:"/",children:[s.jsx(F6,{className:"mr-2 h-4 w-4"}),"Return to Home"]})})]})})},SPe=()=>{const t=Gr(),{toast:e}=ar(),r=Wt(We),n=ir(We),i=new ka,[a,o]=S.useState(!1),[l,u]=S.useState(""),f=async()=>{o(!0),u("");try{const h=(await wP(r,i)).user;(await Fr(Pt(n,"adminUsers",h.email))).exists()?(localStorage.setItem("isAdmin","true"),t("/admin/panel")):(e({title:"Access Denied",description:"You are not authorized to access the admin panel.",variant:"destructive"}),u("Access Denied: You are not an admin."),await r.signOut())}catch(m){console.error("Admin login error:",m),e({title:"Login Failed",description:m.message,variant:"destructive"}),u(m.message)}finally{o(!1)}};return s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex items-center justify-center p-4",children:s.jsxs(ke,{className:"sci-fi-card max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Login"}),l&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-md flex items-center text-red-300",children:[s.jsx(vs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsx("div",{children:s.jsxs(re,{className:"w-full bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",onClick:f,disabled:a,children:[a?s.jsx(Js,{size:"sm",className:"mr-2"}):null,"Sign In with Google"]})})]})})},jPe=()=>{const t=Gr(),{toast:e}=ar(),r=Wt(We),n=ir(We),[i,a]=S.useState([]);S.useEffect(()=>{(async()=>{const u=sf(n,"users"),m=(await pk(u)).docs.map(h=>({id:h.id,...h.data()}));a(m)})()},[n]);const o=()=>{r.signOut().then(()=>{t("/auth/login")}).catch(l=>{e({title:"Error signing out",description:l.message,variant:"destructive"})})};return s.jsx("div",{className:"min-h-screen bg-safebite-dark-blue flex flex-col",children:s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsxs(ke,{className:"sci-fi-card max-w-4xl w-full p-6",children:[s.jsx("h2",{className:"text-2xl font-bold gradient-text text-center mb-4",children:"Admin Panel"}),s.jsx("p",{className:"text-safebite-text-secondary text-center mb-6",children:"Welcome, Admin1! Here you can manage users and their data."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"User ID"}),s.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Email"}),s.jsx("th",{className:"py-2 px-4 border-b text-safebite-text",children:"Profile Data"})]})}),s.jsx("tbody",{children:i.map(l=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.id}),s.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:l.email}),s.jsx("td",{className:"py-2 px-4 border-b text-safebite-text",children:JSON.stringify(l.profile)})]},l.id))})]})}),s.jsx(re,{className:"mt-6 w-full bg-red-500 text-white hover:bg-red-600",onClick:o,children:"Sign Out"})]})})})},NPe=()=>s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx(Eb,{}),s.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.jsx("span",{className:"gradient-text",children:"About SafeBite"})}),s.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"A special project focused on helping people make informed food choices for better health"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Our Mission"}),s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"SafeBite was created with a simple mission: to help people understand what's in their food and make healthier choices. In a world where processed foods dominate and nutrition labels can be confusing, we wanted to build a tool that makes food transparency accessible to everyone."}),s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Our platform combines food data from multiple sources, personalized recommendations based on your health profile, and an intuitive interface to make healthy eating easier than ever."}),s.jsx("p",{className:"text-safebite-text-secondary",children:"This project is part of a special engineering project at IFHE Hyderabad, focused on applying technology to solve real-world health challenges."})]}),s.jsxs("div",{className:"bg-safebite-card-bg rounded-lg p-6 border border-safebite-card-bg-alt",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Project Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Developer"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Aditya Shenvi"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Institution"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"IFHE Hyderabad"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Project Type"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"Special Engineering Project"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-safebite-text",children:"Technologies Used"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"React"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"TypeScript"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Firebase"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Tailwind CSS"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Food APIs"}),s.jsx("span",{className:"px-3 py-1 bg-safebite-card-bg-alt rounded-full text-xs text-safebite-text-secondary",children:"Recharts"})]})]})]})]})]}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-6 text-center",children:"Meet the Developer"}),s.jsx(ke,{className:"sci-fi-card max-w-2xl mx-auto",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center p-6",children:[s.jsx(Oy,{size:"xl",className:"mb-4 md:mb-0 md:mr-6"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-safebite-text mb-1",children:"Aditya Shenvi"}),s.jsx("p",{className:"text-safebite-teal text-sm mb-3",children:"🚀 Developer | Tech Enthusiast"}),s.jsx("p",{className:"text-safebite-text-secondary mb-3",children:"Engineering Student at IFHE Hyderabad with a passion for creating technology that improves people's lives. SafeBite represents the intersection of my interests in health, nutrition, and software development."}),s.jsxs("p",{className:"text-safebite-text-secondary mb-4",children:[s.jsx("span",{className:"text-safebite-teal",children:"🔹 Passionate about:"})," Frontend, Backend, DevOps, UI/UX, Cybersecurity, Open Source, Digital Marketing"]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(re,{variant:"outline",size:"sm",className:"sci-fi-button",children:[s.jsx($6,{className:"mr-2 h-4 w-4"}),"GitHub"]}),s.jsxs(re,{variant:"outline",size:"sm",className:"sci-fi-button",children:[s.jsx(rQ,{className:"mr-2 h-4 w-4"}),"LinkedIn"]}),s.jsxs(re,{variant:"outline",size:"sm",className:"sci-fi-button",children:[s.jsx(Om,{className:"mr-2 h-4 w-4"}),"Contact"]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-safebite-card-bg-alt rounded-md",children:[s.jsx("h4",{className:"text-safebite-teal font-medium mb-2",children:"About This Project"}),s.jsx("p",{className:"text-safebite-text-secondary text-sm",children:"SafeBite is a special engineering project developed as part of my coursework at IFHE Hyderabad. It combines my interest in health technology with modern web development practices to create a platform that helps users make informed food choices."})]})]})]})})]}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-4",children:"Data Sources & Acknowledgements"}),s.jsx("p",{className:"text-safebite-text-secondary max-w-3xl mx-auto mb-6",children:"SafeBite uses publicly available data from multiple food databases and APIs. All data is used for educational purposes only under fair use principles."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-2xl mx-auto",children:[s.jsxs("a",{href:"https://www.edamam.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Edamam API",s.jsx(xd,{className:"ml-2 h-4 w-4"})]}),s.jsxs("a",{href:"https://www.calorieninjas.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["CalorieNinjas API",s.jsx(xd,{className:"ml-2 h-4 w-4"})]}),s.jsxs("a",{href:"https://platform.fatsecret.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["FatSecret API",s.jsx(xd,{className:"ml-2 h-4 w-4"})]}),s.jsxs("a",{href:"https://world.openfoodfacts.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-safebite-card-bg rounded-md border border-safebite-card-bg-alt hover:bg-safebite-card-bg-alt transition-colors",children:["Open Food Facts",s.jsx(xd,{className:"ml-2 h-4 w-4"})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx(Ht,{to:"/features",children:s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Explore SafeBite Features"})})})]}),s.jsx(Bp,{})]}),EPe=()=>{const t=[{title:"Food Search & Analysis",description:"Search for any food item across multiple databases to get comprehensive nutritional information. Scan barcodes for instant product details.",icon:s.jsx(wn,{className:"h-10 w-10 text-safebite-teal"}),color:"bg-safebite-teal/10",border:"border-safebite-teal/30"},{title:"Personalized Health Dashboard",description:"View your nutrition stats, track progress, and get insights tailored to your health goals and dietary preferences.",icon:s.jsx(mE,{className:"h-10 w-10 text-purple-500"}),color:"bg-purple-500/10",border:"border-purple-500/30"},{title:"Weekly Health Check-ins",description:"Answer simple questions about your week to track progress and receive updated recommendations based on your habits.",icon:s.jsx(qn,{className:"h-10 w-10 text-red-500"}),color:"bg-red-500/10",border:"border-red-500/30"},{title:"Food Safety Alerts",description:"Get warnings about ingredients that may affect your health goals or conflict with dietary restrictions and allergies.",icon:s.jsx(Ai,{className:"h-10 w-10 text-yellow-500"}),color:"bg-yellow-500/10",border:"border-yellow-500/30"},{title:"Barcode Scanner",description:"Quickly scan product barcodes to get instant nutritional information and safety alerts for packaged foods.",icon:s.jsx(z6,{className:"h-10 w-10 text-blue-500"}),color:"bg-blue-500/10",border:"border-blue-500/30"},{title:"Recipe Recommendations",description:"Discover healthy recipes tailored to your dietary preferences, restrictions, and health goals.",icon:s.jsx(B6,{className:"h-10 w-10 text-green-500"}),color:"bg-green-500/10",border:"border-green-500/30"},{title:"Community Support",description:"Connect with others on similar health journeys, share experiences, and get motivation from the SafeBite community.",icon:s.jsx(os,{className:"h-10 w-10 text-indigo-500"}),color:"bg-indigo-500/10",border:"border-indigo-500/30"},{title:"Smart Notifications",description:"Receive timely reminders for health check-ins, meal planning suggestions, and personalized health tips.",icon:s.jsx(Gd,{className:"h-10 w-10 text-pink-500"}),color:"bg-pink-500/10",border:"border-pink-500/30"},{title:"Health Achievements",description:"Earn badges and track achievements as you make progress toward your health and nutrition goals.",icon:s.jsx(Cm,{className:"h-10 w-10 text-amber-500"}),color:"bg-amber-500/10",border:"border-amber-500/30"},{title:"AI-Powered Recommendations",description:"Get intelligent food and activity suggestions based on your profile, preferences, and progress data.",icon:s.jsx(cs,{className:"h-10 w-10 text-cyan-500"}),color:"bg-cyan-500/10",border:"border-cyan-500/30"},{title:"Comprehensive Reports",description:"Access detailed reports on your nutrition, activity, and progress over time with visual charts and insights.",icon:s.jsx(mE,{className:"h-10 w-10 text-emerald-500"}),color:"bg-emerald-500/10",border:"border-emerald-500/30"},{title:"Energy Tracking",description:"Monitor your energy levels in relation to your diet and activity to optimize your daily routine.",icon:s.jsx(ui,{className:"h-10 w-10 text-orange-500"}),color:"bg-orange-500/10",border:"border-orange-500/30"}];return s.jsxs("div",{className:"min-h-screen bg-safebite-dark-blue",children:[s.jsx(Eb,{}),s.jsxs("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.jsx("span",{className:"gradient-text",children:"SafeBite Features"})}),s.jsx("p",{className:"text-safebite-text-secondary text-lg max-w-3xl mx-auto",children:"Discover all the powerful tools and features that make SafeBite your ultimate companion for healthier food choices"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:t.map((e,r)=>s.jsxs(ke,{className:`sci-fi-card border ${e.border} hover:shadow-lg transition-shadow`,children:[s.jsx(pt,{className:`${e.color} rounded-t-lg`,children:s.jsxs("div",{className:"flex items-center",children:[e.icon,s.jsx(ht,{className:"ml-3 text-xl",children:e.title})]})}),s.jsx(it,{className:"pt-4",children:s.jsx("p",{className:"text-safebite-text-secondary",children:e.description})})]},r))}),s.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-8 mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-safebite-text mb-2",children:"Special Project Information"}),s.jsx("p",{className:"text-safebite-text-secondary",children:"SafeBite is a special engineering project developed by Aditya Shenvi at IFHE Hyderabad"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Project Goals"}),s.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"Create an intuitive platform for food nutrition analysis"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"Provide personalized health recommendations based on user data"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"Integrate multiple food databases for comprehensive information"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"Develop a user-friendly interface with modern design principles"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-safebite-text mb-3",children:"Technical Implementation"}),s.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"React & TypeScript frontend with Tailwind CSS for styling"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"Firebase authentication and Firestore database"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"Integration with multiple food nutrition APIs"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"h-5 w-5 rounded-full bg-safebite-teal/20 flex items-center justify-center text-safebite-teal mr-2 mt-0.5",children:"✓"}),s.jsx("span",{children:"Data visualization using Recharts library"})]})]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Ready to experience all these features and start your journey to healthier eating?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[s.jsx(Ht,{to:"/auth/signup",children:s.jsx(re,{className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80 w-full sm:w-auto",children:"Sign Up Now"})}),s.jsx(Ht,{to:"/about",children:s.jsx(re,{variant:"outline",className:"sci-fi-button w-full sm:w-auto",children:"Learn About the Project"})})]})]})]}),s.jsx(Bp,{})]})},APe=()=>{const t=Gr();return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Eb,{}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(re,{variant:"outline",className:"mb-4",onClick:()=>t("/dashboard"),children:[s.jsx(db,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-3xl font-bold text-safebite-text mb-2",children:"Food Delivery Integration"}),s.jsx("p",{className:"text-safebite-text-secondary mb-6",children:"Get nutritional insights for your favorite restaurant meals from Zomato and Swiggy."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs(ke,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mr-4",children:s.jsx(Kd,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-orange-500",children:"Zomato Integration"}),s.jsx(St,{variant:"outline",className:"bg-orange-500/10 text-orange-500 border-orange-500/30",children:"Coming Soon"})]})]}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Zomato to provide nutritional information and health recommendations for your favorite restaurant meals."}),s.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(oi,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),s.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(kr,{className:"h-4 w-4 text-orange-500 animate-spin mr-2"}),s.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (65%)"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(re,{disabled:!0,className:"bg-orange-500/20 text-orange-500 hover:bg-orange-500/30 cursor-not-allowed",children:[s.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]}),s.jsxs(ke,{className:"p-6 border border-orange-500/30 bg-safebite-card-bg relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/10 rounded-bl-full"}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center mr-4",children:s.jsx(H6,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-orange-400",children:"Swiggy Integration"}),s.jsx(St,{variant:"outline",className:"bg-orange-400/10 text-orange-400 border-orange-400/30",children:"Coming Soon"})]})]}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working on integrating with Swiggy to provide nutritional information and health recommendations for your favorite restaurant meals."}),s.jsxs("div",{className:"bg-safebite-card-bg-alt p-4 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(oi,{className:"h-4 w-4 text-safebite-text-secondary mr-2"}),s.jsx("span",{className:"text-sm text-safebite-text-secondary",children:"Status Update"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(kr,{className:"h-4 w-4 text-orange-400 animate-spin mr-2"}),s.jsx("span",{className:"text-sm text-safebite-text",children:"Dataset preparation in progress (42%)"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(re,{disabled:!0,className:"bg-orange-400/20 text-orange-400 hover:bg-orange-400/30 cursor-not-allowed",children:[s.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Not Available Yet"]})})]})]}),s.jsxs("div",{className:"bg-safebite-card-bg border border-safebite-card-bg-alt rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-safebite-text mb-4",children:"Why We're Building This"}),s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"Eating out shouldn't mean compromising on your health goals. Our integration with popular food delivery platforms will help you:"}),s.jsxs("ul",{className:"space-y-2 text-safebite-text-secondary",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),s.jsx("span",{children:"Get nutritional information for restaurant meals"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),s.jsx("span",{children:"Receive personalized recommendations based on your health profile"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),s.jsx("span",{children:"Track your nutrition even when eating out"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-safebite-teal mr-2",children:"•"}),s.jsx("span",{children:"Make informed choices that align with your health goals"})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-safebite-text-secondary mb-4",children:"We're working hard to bring this feature to you. Check back soon for updates!"}),s.jsx(re,{onClick:()=>t("/dashboard"),className:"bg-safebite-teal text-safebite-dark-blue hover:bg-safebite-teal/80",children:"Return to Dashboard"})]})]}),s.jsx(Bp,{})]})},TPe=new _Z,ts=({children:t})=>Wt(We).currentUser?s.jsx(s.Fragment,{children:t}):s.jsx(dee,{to:"/auth/login",replace:!0}),PPe=()=>s.jsx(eZ,{children:s.jsxs(jZ,{client:TPe,children:[s.jsxs(Ad,{children:[s.jsx(QQ,{}),s.jsx(NX,{}),s.jsx(XV,{}),s.jsx(wee,{basename:"/SafeBite-V1/",children:s.jsxs(hee,{children:[s.jsx(Rr,{path:"/",element:s.jsx(Mee,{})}),s.jsx(Rr,{path:"/about",element:s.jsx(NPe,{})}),s.jsx(Rr,{path:"/features",element:s.jsx(EPe,{})}),s.jsx(Rr,{path:"/auth/login",element:s.jsx(Lce,{})}),s.jsx(Rr,{path:"/auth/signup",element:s.jsx($ce,{})}),s.jsx(Rr,{path:"/auth/forgot-password",element:s.jsx(Fce,{})}),s.jsx(Rr,{path:"/questionnaire",element:s.jsx(Nue,{})}),s.jsx(Rr,{path:"/weekly-questions",element:s.jsx(uTe,{})}),s.jsx(Rr,{path:"/dashboard",element:s.jsx(ts,{children:s.jsx(wAe,{})})}),s.jsx(Rr,{path:"/food-search",element:s.jsx(ts,{children:s.jsx(aTe,{})})}),s.jsx(Rr,{path:"/food-delivery",element:s.jsx(ts,{children:s.jsx(APe,{})})}),s.jsx(Rr,{path:"/product-recommendations",element:s.jsx(ts,{children:s.jsx(bPe,{})})}),s.jsx(Rr,{path:"/products",element:s.jsx(ts,{children:s.jsx(wPe,{})})}),s.jsx(Rr,{path:"/community",element:s.jsx(ts,{children:s.jsx(sTe,{})})}),s.jsx(Rr,{path:"/healthbox",element:s.jsx(ts,{children:s.jsx(gPe,{})})}),s.jsx(Rr,{path:"/reports",element:s.jsx(ts,{children:s.jsx(hTe,{})})}),s.jsx(Rr,{path:"/recipes",element:s.jsx(ts,{children:s.jsx(_Te,{})})}),s.jsx(Rr,{path:"/settings",element:s.jsx(ts,{children:s.jsx(Oce,{})})}),s.jsx(Rr,{path:"/admin/login",element:s.jsx(SPe,{})}),s.jsx(Rr,{path:"/admin/panel",element:s.jsx(jPe,{})}),s.jsx(Rr,{path:"*",element:s.jsx(_Pe,{})})]})})]}),s.jsx(CW,{initialMessage:"Hi! I'm your SafeBite AI assistant. Ask me anything about food, nutrition, or health!"})]})});MK.createRoot(document.getElementById("root")).render(s.jsx(PPe,{}));export{Gd as A,re as B,ke as C,Zc as D,Mn as E,bd as F,wn as G,qn as H,At as I,U6 as J,vt as L,oQ as M,Jm as P,z9 as R,_o as S,Kn as T,it as a,Rl as b,ys as c,we as d,Es as e,So as f,As as g,Kt as h,q9 as i,s as j,BT as k,To as l,Ps as m,Xt as n,_r as o,ar as p,Wt as q,S as r,We as s,na as t,by as u,ir as v,Pt as w,Fr as x,cQ as y,oi as z};
